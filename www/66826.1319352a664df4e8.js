"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[66826],{66826:(o,e,n)=>{n.r(e),n.d(e,{AddonModWikiMapModalComponent:()=>M});var i=n(79555),t=n(22693),a=n(86654),d=n(54438),l=n(60177),s=n(2910),_=n(86198),c=n(58197),p=n(88246),m=n(43570),r=n(73955);function AddonModWikiMapModalComponent_ion_item_13_Template(o,e){if(1&o){const o=d.RV6();d.j41(0,"ion-item",5),d.bIt("click",(function AddonModWikiMapModalComponent_ion_item_13_Template_ion_item_click_0_listener(){d.eBV(o);const e=d.XpG();return d.Njj(e.goToWikiHome())})),d.nrm(1,"ion-icon",6),d.j41(2,"ion-label"),d.EFF(3),d.nI1(4,"translate"),d.k0s()()}2&o&&(d.Y8G("detail",!0),d.R7$(3),d.JRh(d.bMT(4,2,"addon.mod_wiki.gowikihome")))}function AddonModWikiMapModalComponent_ng_container_14_ion_item_divider_1_Template(o,e){if(1&o&&(d.j41(0,"ion-item-divider")(1,"ion-label")(2,"h2"),d.EFF(3),d.k0s()()()),2&o){const o=d.XpG().$implicit;d.R7$(3),d.JRh(o.label)}}function AddonModWikiMapModalComponent_ng_container_14_ion_item_2_ion_icon_1_Template(o,e){1&o&&d.nrm(0,"ion-icon",6)}function AddonModWikiMapModalComponent_ng_container_14_ion_item_2_ion_note_4_Template(o,e){1&o&&(d.j41(0,"ion-note",0),d.nrm(1,"ion-icon",12),d.j41(2,"span",13),d.EFF(3),d.nI1(4,"translate"),d.k0s()()),2&o&&(d.R7$(3),d.JRh(d.bMT(4,1,"core.notsent")))}function AddonModWikiMapModalComponent_ng_container_14_ion_item_2_Template(o,e){if(1&o){const o=d.RV6();d.j41(0,"ion-item",5),d.bIt("click",(function AddonModWikiMapModalComponent_ng_container_14_ion_item_2_Template_ion_item_click_0_listener(){const e=d.eBV(o).$implicit,n=d.XpG(2);return d.Njj(n.goToPage(e))})),d.DNE(1,AddonModWikiMapModalComponent_ng_container_14_ion_item_2_ion_icon_1_Template,1,0,"ion-icon",9),d.j41(2,"ion-label"),d.nrm(3,"core-format-text",10),d.k0s(),d.DNE(4,AddonModWikiMapModalComponent_ng_container_14_ion_item_2_ion_note_4_Template,5,3,"ion-note",11),d.k0s()}if(2&o){const o=e.$implicit,n=d.XpG(2);d.Y8G("detail",!1),d.BMQ("aria-current",n.selectedTitle===o.title?"page":"false"),d.R7$(),d.Y8G("ngIf",o.firstpage),d.R7$(2),d.Y8G("text",o.title)("contextInstanceId",n.moduleId)("courseId",n.courseId)("sanitize",!o.id),d.R7$(),d.Y8G("ngIf",!o.id)}}function AddonModWikiMapModalComponent_ng_container_14_Template(o,e){if(1&o&&(d.qex(0),d.DNE(1,AddonModWikiMapModalComponent_ng_container_14_ion_item_divider_1_Template,4,1,"ion-item-divider",7)(2,AddonModWikiMapModalComponent_ng_container_14_ion_item_2_Template,5,8,"ion-item",8),d.bVm()),2&o){const o=e.$implicit;d.R7$(),d.Y8G("ngIf",o.label),d.R7$(),d.Y8G("ngForOf",o.pages)}}let M=(()=>{var o;class AddonModWikiMapModalComponent{constructor(){this.pages=[],this.map=[]}ngOnInit(){this.constructMap(),this.selectedId&&this.wiki&&t.OF.logEvent({type:t.qr.VIEW_ITEM,ws:"mod_wiki_get_subwiki_pages",name:this.selectedTitle||this.wiki.name,data:{id:this.wiki.id,pageid:this.selectedId,category:"wiki"},url:`/mod/wiki/map.php?pageid=${this.selectedId}`})}goToPage(o){i.W3.dismiss({page:o})}goToWikiHome(){i.W3.dismiss({home:this.homeView})}constructMap(){let o,e;this.map=[],this.pages.sort(((o,e)=>{const n=o.title.toLowerCase().trim(),i=e.title.toLowerCase().trim();return n.localeCompare(i)})),this.pages.forEach((n=>{const i=n.title.charAt(0).toLocaleUpperCase();i!==e&&(e=i,o={label:i,pages:[]},this.map.push(o)),o.pages.push(n)}))}closeModal(){i.W3.dismiss()}}return(o=AddonModWikiMapModalComponent).ɵfac=function AddonModWikiMapModalComponent_Factory(e){return new(e||o)},o.ɵcmp=d.VBU({type:o,selectors:[["page-addon-mod-wiki-map"]],inputs:{pages:"pages",wiki:"wiki",selectedId:"selectedId",selectedTitle:"selectedTitle",moduleId:"moduleId",courseId:"courseId",homeView:"homeView"},standalone:!0,features:[d.aNF],decls:15,vars:8,consts:[["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],["class","ion-text-wrap","button","",3,"detail","click",4,"ngIf"],[4,"ngFor","ngForOf"],["button","",1,"ion-text-wrap",3,"click","detail"],["name","fas-house","slot","start","aria-hidden","true"],[4,"ngIf"],["class","ion-text-wrap","button","",3,"detail","click",4,"ngFor","ngForOf"],["name","fas-house","slot","start","aria-hidden","true",4,"ngIf"],["contextLevel","module",3,"text","contextInstanceId","courseId","sanitize"],["slot","end",4,"ngIf"],["name","fas-clock","aria-hidden","true"],[1,"ion-text-wrap"]],template:function AddonModWikiMapModalComponent_Template(o,e){1&o&&(d.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"h1"),d.EFF(4),d.nI1(5,"translate"),d.k0s()(),d.j41(6,"ion-buttons",0)(7,"ion-button",1),d.nI1(8,"translate"),d.bIt("click",(function AddonModWikiMapModalComponent_Template_ion_button_click_7_listener(){return e.closeModal()})),d.nrm(9,"ion-icon",2),d.k0s()()()(),d.j41(10,"ion-content")(11,"nav")(12,"ion-list"),d.DNE(13,AddonModWikiMapModalComponent_ion_item_13_Template,5,4,"ion-item",3)(14,AddonModWikiMapModalComponent_ng_container_14_Template,3,2,"ng-container",4),d.k0s()()()),2&o&&(d.R7$(4),d.JRh(d.bMT(5,4,"addon.mod_wiki.map")),d.R7$(3),d.Y8G("ariaLabel",d.bMT(8,6,"core.close")),d.R7$(6),d.Y8G("ngIf",e.homeView),d.R7$(),d.Y8G("ngForOf",e.map))},dependencies:[a.n,l.Sq,l.bT,s.Jm,s.QW,s.W9,s.eU,s.iq,s.uz,s.Dg,s.he,s.nf,s.JI,s.BC,s.ai,_.t,c.B,p.i,m.T,r.D9],encapsulation:2}),AddonModWikiMapModalComponent})()}}]);