"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7369],{7369:(e,r,t)=>{t.r(r),t.d(r,{AddonModSurveyPrefetchHandler:()=>y,AddonModSurveyPrefetchHandlerLazyService:()=>v});var n=t(10467),d=t(88793),i=t(55554),o=t(79555),a=t(72829),u=t(51877),c=t(97810),s=t(67039),l=t(54438);let v=(()=>{var e;class AddonModSurveyPrefetchHandlerLazyService extends c.l{getIntroFiles(e,r){var t=this;return(0,n.A)((function*(){const n=yield i.g.ignoreErrors(a.h.getSurvey(r,e.id));return t.getIntroFilesFromInstance(e,n)}))()}invalidateContent(e,r){return(0,n.A)((function*(){return a.h.invalidateContent(e,r)}))()}invalidateModule(e,r){return(0,n.A)((function*(){yield a.h.invalidateSurveyData(r)}))()}isEnabled(){return(0,n.A)((function*(){return!0}))()}prefetch(e,r){return this.prefetchPackage(e,r,(t=>this.prefetchSurvey(e,r,t)))}prefetchSurvey(e,r,t){var i=this;return(0,n.A)((function*(){const n=yield a.h.getSurvey(r,e.id,{readingStrategy:2,siteId:t}),o=[],u=i.getIntroFilesFromInstance(e,n);o.push(d.CoreFilepool.addFilesToQueue(t,u,s.Rw,e.id)),n.surveydone||o.push(a.h.getQuestions(n.id,{cmId:e.id,readingStrategy:2,siteId:t})),yield Promise.all(o)}))()}sync(e,r,t){return u.o.syncSurvey(e.instance,void 0,t)}}return(e=AddonModSurveyPrefetchHandlerLazyService).ɵfac=(()=>{let r;return function AddonModSurveyPrefetchHandlerLazyService_Factory(t){return(r||(r=l.xGo(e)))(t||e)}})(),e.ɵprov=l.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModSurveyPrefetchHandlerLazyService})();const y=(0,o.Qd)(v)}}]);