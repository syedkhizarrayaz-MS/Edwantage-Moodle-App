"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[61919],{61919:(o,n,e)=>{e.d(n,{J:()=>M});var s=e(98870),i=e(15324),t=e(52749),d=e(80178),m=e(26327),r=e(81552),_=e(91416),a=e(86654),p=e(54438),u=e(60177),l=e(2910),c=e(31498),f=e(64422),h=e(16658),b=e(86198),k=e(58197),I=e(43570),g=e(73955),v=e(2423);const _c0=o=>({$a:o});function AddonModWorkshopSubmissionComponent_div_1_h2_4_Template(o,n){if(1&o&&(p.j41(0,"h2"),p.nrm(1,"core-format-text",10),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Y8G("text",o.submission.title)("contextInstanceId",o.module.id)("courseId",o.courseId)("sanitize",o.submission.offline)("wsNotFiltered",!0)}}function AddonModWorkshopSubmissionComponent_div_1_p_5_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.JRh(o.profile.fullname)}}function AddonModWorkshopSubmissionComponent_div_1_p_6_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.AVh("addon-has-overriden-grade",o.showGrade(o.submission.gradeover)),p.R7$(),p.Lme(" ",p.i5U(2,4,"addon.mod_workshop.submissiongradeof",p.eq3(7,_c0,o.workshop.grade)),": ",o.submission.grade," ")}}function AddonModWorkshopSubmissionComponent_div_1_p_7_Template(o,n){if(1&o&&(p.j41(0,"p",11),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Lme(" ",p.bMT(2,2,"addon.mod_workshop.gradeover"),": ",o.submission.gradeover," ")}}function AddonModWorkshopSubmissionComponent_div_1_p_8_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Lme(" ",p.i5U(2,2,"addon.mod_workshop.gradinggradeof",p.eq3(5,_c0,o.workshop.gradinggrade)),": ",o.submission.gradinggrade," ")}}function AddonModWorkshopSubmissionComponent_div_1_ion_note_9_Template(o,n){1&o&&(p.j41(0,"ion-note",12),p.nrm(1,"ion-icon",13),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&o&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"core.notsent")," "))}function AddonModWorkshopSubmissionComponent_div_1_ion_note_10_ng_container_3_Template(o,n){1&o&&(p.qex(0),p.nrm(1,"ion-icon",13),p.EFF(2),p.nI1(3,"translate"),p.bVm()),2&o&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"core.notsent")," "))}function AddonModWorkshopSubmissionComponent_div_1_ion_note_10_ng_container_4_Template(o,n){1&o&&(p.qex(0),p.nrm(1,"ion-icon",14),p.EFF(2),p.nI1(3,"translate"),p.bVm()),2&o&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"core.deletedoffline")," "))}function AddonModWorkshopSubmissionComponent_div_1_ion_note_10_Template(o,n){if(1&o&&(p.j41(0,"ion-note",12),p.EFF(1),p.nI1(2,"coreDateDayOrTime"),p.DNE(3,AddonModWorkshopSubmissionComponent_div_1_ion_note_10_ng_container_3_Template,4,3,"ng-container",1)(4,AddonModWorkshopSubmissionComponent_div_1_ion_note_10_ng_container_4_Template,4,3,"ng-container",1),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.SpI(" ",p.bMT(2,3,o.submission.timemodified)," "),p.R7$(2),p.Y8G("ngIf",o.submission.offline),p.R7$(),p.Y8G("ngIf",o.submission.deleted)}}function AddonModWorkshopSubmissionComponent_div_1_ion_item_11_Template(o,n){if(1&o&&(p.j41(0,"ion-item",15)(1,"ion-label"),p.nrm(2,"core-format-text",16),p.k0s()()),2&o){const o=p.XpG(2);p.R7$(2),p.Y8G("component",o.component)("componentId",o.componentId)("text",o.submission.content)("contextInstanceId",o.module.id)("courseId",o.courseId)("sanitize",o.submission.offline)}}function AddonModWorkshopSubmissionComponent_div_1_ion_item_13_core_user_avatar_1_Template(o,n){if(1&o&&p.nrm(0,"core-user-avatar",4),2&o){const o=p.XpG(3);p.Y8G("user",o.evaluateByProfile)("courseId",o.courseId)("userId",o.evaluateByProfile.id)}}function AddonModWorkshopSubmissionComponent_div_1_ion_item_13_p_3_Template(o,n){if(1&o&&(p.j41(0,"p",20),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(3);p.R7$(),p.SpI(" ",p.i5U(2,1,"addon.mod_workshop.feedbackby",p.eq3(4,_c0,o.evaluateByProfile.fullname))," ")}}function AddonModWorkshopSubmissionComponent_div_1_ion_item_13_Template(o,n){if(1&o&&(p.j41(0,"ion-item",15),p.DNE(1,AddonModWorkshopSubmissionComponent_div_1_ion_item_13_core_user_avatar_1_Template,1,3,"core-user-avatar",17),p.j41(2,"ion-label"),p.DNE(3,AddonModWorkshopSubmissionComponent_div_1_ion_item_13_p_3_Template,3,6,"p",18),p.nrm(4,"core-format-text",19),p.k0s()()),2&o){const o=p.XpG(2);p.R7$(),p.Y8G("ngIf",o.evaluateByProfile),p.R7$(2),p.Y8G("ngIf",o.evaluateByProfile&&o.evaluateByProfile.fullname),p.R7$(),p.Y8G("text",o.submission.feedbackauthor)("contextInstanceId",o.module.id)("courseId",o.courseId)}}function AddonModWorkshopSubmissionComponent_div_1_ion_item_14_Template(o,n){if(1&o){const o=p.RV6();p.j41(0,"ion-item")(1,"ion-label")(2,"ion-button",21),p.bIt("click",(function AddonModWorkshopSubmissionComponent_div_1_ion_item_14_Template_ion_button_click_2_listener(){p.eBV(o);const n=p.XpG(2);return p.Njj(n.gotoSubmission())})),p.EFF(3),p.nI1(4,"translate"),p.nrm(5,"ion-icon",22),p.k0s()()()}2&o&&(p.R7$(3),p.SpI(" ",p.bMT(4,1,"core.showmore")," "))}function AddonModWorkshopSubmissionComponent_div_1_Template(o,n){if(1&o&&(p.j41(0,"div")(1,"ion-item",3),p.nrm(2,"core-user-avatar",4),p.j41(3,"ion-label"),p.DNE(4,AddonModWorkshopSubmissionComponent_div_1_h2_4_Template,2,5,"h2",1)(5,AddonModWorkshopSubmissionComponent_div_1_p_5_Template,2,1,"p",1)(6,AddonModWorkshopSubmissionComponent_div_1_p_6_Template,3,9,"p",5)(7,AddonModWorkshopSubmissionComponent_div_1_p_7_Template,3,4,"p",6)(8,AddonModWorkshopSubmissionComponent_div_1_p_8_Template,3,7,"p",1),p.k0s(),p.DNE(9,AddonModWorkshopSubmissionComponent_div_1_ion_note_9_Template,4,3,"ion-note",7)(10,AddonModWorkshopSubmissionComponent_div_1_ion_note_10_Template,5,5,"ion-note",7),p.k0s(),p.DNE(11,AddonModWorkshopSubmissionComponent_div_1_ion_item_11_Template,3,6,"ion-item",8),p.nrm(12,"core-files",9),p.DNE(13,AddonModWorkshopSubmissionComponent_div_1_ion_item_13_Template,5,5,"ion-item",8)(14,AddonModWorkshopSubmissionComponent_div_1_ion_item_14_Template,6,3,"ion-item",1),p.k0s()),2&o){const o=p.XpG();p.R7$(2),p.Y8G("user",o.profile)("courseId",o.courseId)("userId",null==o.profile?null:o.profile.id),p.R7$(2),p.Y8G("ngIf",o.submission.title),p.R7$(),p.Y8G("ngIf",o.profile&&(null==o.profile?null:o.profile.fullname)),p.R7$(),p.Y8G("ngIf",o.showGrade(o.submission.grade)),p.R7$(),p.Y8G("ngIf",o.showGrade(o.submission.gradeover)),p.R7$(),p.Y8G("ngIf",o.access.canviewallsubmissions&&o.showGrade(o.submission.gradinggrade)),p.R7$(),p.Y8G("ngIf",!o.submission.timemodified),p.R7$(),p.Y8G("ngIf",o.submission.timemodified),p.R7$(),p.Y8G("ngIf",o.submission.content),p.R7$(),p.Y8G("files",o.submission.attachmentfiles)("component",o.component)("componentId",o.componentId),p.R7$(),p.Y8G("ngIf",o.viewDetails&&o.submission.feedbackauthor),p.R7$(),p.Y8G("ngIf",o.viewDetails)}}function AddonModWorkshopSubmissionComponent_ion_item_2_h2_3_Template(o,n){if(1&o&&(p.j41(0,"h2"),p.nrm(1,"core-format-text",10),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Y8G("text",o.submission.title)("contextInstanceId",o.module.id)("courseId",o.courseId)("sanitize",o.submission.offline)("wsNotFiltered",!0)}}function AddonModWorkshopSubmissionComponent_ion_item_2_p_4_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.JRh(o.profile.fullname)}}function AddonModWorkshopSubmissionComponent_ion_item_2_p_5_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.E5c(" ",p.bMT(2,3,"addon.mod_workshop.receivedgrades"),": ",o.submission.reviewedbydone," / ",o.submission.reviewedbycount," ")}}function AddonModWorkshopSubmissionComponent_ion_item_2_p_6_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.E5c(" ",p.bMT(2,3,"addon.mod_workshop.givengrades"),": ",o.submission.reviewerofdone," / ",o.submission.reviewerofcount," ")}}function AddonModWorkshopSubmissionComponent_ion_item_2_p_7_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Lme(" ",p.i5U(2,2,"addon.mod_workshop.submissiongradeof",p.eq3(5,_c0,o.workshop.grade)),": ",o.submission.grade," ")}}function AddonModWorkshopSubmissionComponent_ion_item_2_p_8_Template(o,n){if(1&o&&(p.j41(0,"p",11),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Lme(" ",p.i5U(2,2,"addon.mod_workshop.submissiongradeof",p.eq3(5,_c0,o.workshop.grade)),": ",o.submission.gradeover," ")}}function AddonModWorkshopSubmissionComponent_ion_item_2_p_9_Template(o,n){if(1&o&&(p.j41(0,"p"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Lme(" ",p.i5U(2,2,"addon.mod_workshop.gradinggradeof",p.eq3(5,_c0,o.workshop.gradinggrade)),": ",o.submission.gradinggrade," ")}}function AddonModWorkshopSubmissionComponent_ion_item_2_ion_badge_10_Template(o,n){1&o&&(p.j41(0,"ion-badge",26),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"addon.mod_workshop.assessedsubmission")," "))}function AddonModWorkshopSubmissionComponent_ion_item_2_ion_badge_11_Template(o,n){1&o&&(p.j41(0,"ion-badge",27),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"addon.mod_workshop.notassessed")," "))}function AddonModWorkshopSubmissionComponent_ion_item_2_ion_note_12_div_3_Template(o,n){1&o&&(p.j41(0,"div"),p.nrm(1,"ion-icon",13),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&o&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"core.notsent")," "))}function AddonModWorkshopSubmissionComponent_ion_item_2_ion_note_12_div_4_Template(o,n){1&o&&(p.j41(0,"div"),p.nrm(1,"ion-icon",14),p.EFF(2),p.nI1(3,"translate"),p.k0s()),2&o&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"core.deletedoffline")," "))}function AddonModWorkshopSubmissionComponent_ion_item_2_ion_note_12_Template(o,n){if(1&o&&(p.j41(0,"ion-note",12),p.EFF(1),p.nI1(2,"coreDateDayOrTime"),p.DNE(3,AddonModWorkshopSubmissionComponent_ion_item_2_ion_note_12_div_3_Template,4,3,"div",1)(4,AddonModWorkshopSubmissionComponent_ion_item_2_ion_note_12_div_4_Template,4,3,"div",1),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.SpI(" ",p.bMT(2,3,o.submission.timemodified)," "),p.R7$(2),p.Y8G("ngIf",o.offline),p.R7$(),p.Y8G("ngIf",o.submission.deleted)}}function AddonModWorkshopSubmissionComponent_ion_item_2_Template(o,n){if(1&o){const o=p.RV6();p.j41(0,"ion-item",23),p.bIt("click",(function AddonModWorkshopSubmissionComponent_ion_item_2_Template_ion_item_click_0_listener(){p.eBV(o);const n=p.XpG();return p.Njj(n.gotoSubmission())})),p.nrm(1,"core-user-avatar",4),p.j41(2,"ion-label"),p.DNE(3,AddonModWorkshopSubmissionComponent_ion_item_2_h2_3_Template,2,5,"h2",1)(4,AddonModWorkshopSubmissionComponent_ion_item_2_p_4_Template,2,1,"p",1)(5,AddonModWorkshopSubmissionComponent_ion_item_2_p_5_Template,3,5,"p",1)(6,AddonModWorkshopSubmissionComponent_ion_item_2_p_6_Template,3,5,"p",1)(7,AddonModWorkshopSubmissionComponent_ion_item_2_p_7_Template,3,7,"p",1)(8,AddonModWorkshopSubmissionComponent_ion_item_2_p_8_Template,3,7,"p",6)(9,AddonModWorkshopSubmissionComponent_ion_item_2_p_9_Template,3,7,"p",1)(10,AddonModWorkshopSubmissionComponent_ion_item_2_ion_badge_10_Template,3,3,"ion-badge",24)(11,AddonModWorkshopSubmissionComponent_ion_item_2_ion_badge_11_Template,3,3,"ion-badge",25),p.k0s(),p.DNE(12,AddonModWorkshopSubmissionComponent_ion_item_2_ion_note_12_Template,5,5,"ion-note",7),p.k0s()}if(2&o){const o=p.XpG();p.Y8G("detail",o.submission.timemodified)("button",o.submission.timemodified),p.R7$(),p.Y8G("user",o.profile)("courseId",o.courseId)("userId",null==o.profile?null:o.profile.id),p.R7$(2),p.Y8G("ngIf",o.submission.title),p.R7$(),p.Y8G("ngIf",o.profile&&o.profile.fullname),p.R7$(),p.Y8G("ngIf",o.submission.reviewedbydone),p.R7$(),p.Y8G("ngIf",o.submission.reviewerofdone),p.R7$(),p.Y8G("ngIf",!o.showGrade(o.submission.gradeover)&&o.showGrade(o.submission.grade)),p.R7$(),p.Y8G("ngIf",o.showGrade(o.submission.gradeover)),p.R7$(),p.Y8G("ngIf",o.access.canviewallsubmissions&&o.showGrade(o.submission.gradinggrade)),p.R7$(),p.Y8G("ngIf",o.assessment&&(o.showGrade(o.assessment.grade)||o.assessment.offline)),p.R7$(),p.Y8G("ngIf",o.assessment&&!o.showGrade(o.assessment.grade)&&!o.assessment.offline),p.R7$(),p.Y8G("ngIf",o.submission.timemodified)}}let M=(()=>{var o;class AddonModWorkshopSubmissionComponent{constructor(){this.summary=!1,this.viewDetails=!1,this.component=r.Ug,this.loaded=!1,this.offline=!1,this.userId=t.CoreSites.getCurrentSiteUserId(),this.showGrade=d.AddonModWorkshopHelper.showGrade}ngOnInit(){var o,n;this.componentId=this.module.instance,this.userId=this.submission.authorid||this.userId;const e=[];this.offline=!(null===(o=this.submission)||void 0===o||!o.offline)||!(null===(n=this.assessment)||void 0===n||!n.offline),this.submission.id&&e.push(m.AddonModWorkshopOffline.getEvaluateSubmission(this.workshop.id,this.submission.id).then((o=>{this.submission.gradeover=parseInt(o.gradeover,10),this.offline=!0})).catch((()=>{}))),this.userId&&e.push(s.CoreUser.getProfile(this.userId,this.courseId,!0).then((o=>{this.profile=o}))),this.viewDetails=this.viewDetails&&50===this.workshop.phase,this.viewDetails&&this.submission.gradeoverby&&e.push(s.CoreUser.getProfile(this.submission.gradeoverby,this.courseId,!0).then((o=>{this.evaluateByProfile=o}))),Promise.all(e).finally((()=>{this.loaded=!0}))}gotoSubmission(){if(this.submission.timemodified){i.CoreNavigator.navigateToSitePath(`${r.q3}/${this.courseId}/${this.module.id}/${this.submission.id}`,{params:{module:this.module,workshop:this.workshop,access:this.access,profile:this.profile,submission:this.submission,assessment:this.assessment}})}}}return(o=AddonModWorkshopSubmissionComponent).ɵfac=function AddonModWorkshopSubmissionComponent_Factory(n){return new(n||o)},o.ɵcmp=p.VBU({type:o,selectors:[["addon-mod-workshop-submission"]],inputs:{submission:"submission",module:"module",workshop:"workshop",access:"access",courseId:"courseId",assessment:"assessment",summary:[p.Mj6.HasDecoratorInputTransform,"summary","summary",_.G],viewDetails:[p.Mj6.HasDecoratorInputTransform,"viewDetails","viewDetails",_.G]},standalone:!0,features:[p.GFd,p.aNF],decls:3,vars:3,consts:[[3,"hideUntil"],[4,"ngIf"],["class","ion-text-wrap",3,"detail","button","click",4,"ngIf"],[1,"ion-text-wrap","addon-workshop-submission-title"],["slot","start",3,"user","courseId","userId"],[3,"addon-has-overriden-grade",4,"ngIf"],["class","addon-overriden-grade",4,"ngIf"],["slot","end",4,"ngIf"],["class","ion-text-wrap",4,"ngIf"],[3,"files","component","componentId"],["contextLevel","module",3,"text","contextInstanceId","courseId","sanitize","wsNotFiltered"],[1,"addon-overriden-grade"],["slot","end"],["name","fas-clock","aria-hidden","true"],["name","fas-trash","aria-hidden","true"],[1,"ion-text-wrap"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","courseId","sanitize"],["slot","start",3,"user","courseId","userId",4,"ngIf"],["class","item-heading",4,"ngIf"],["contextLevel","module",3,"text","contextInstanceId","courseId"],[1,"item-heading"],["expand","block",3,"click"],["name","fas-chevron-right","slot","end","aria-hidden","true"],[1,"ion-text-wrap",3,"click","detail","button"],["color","success","class","ion-text-wrap",4,"ngIf"],["color","danger","class","ion-text-wrap",4,"ngIf"],["color","success",1,"ion-text-wrap"],["color","danger",1,"ion-text-wrap"]],template:function AddonModWorkshopSubmissionComponent_Template(o,n){1&o&&(p.j41(0,"core-loading",0),p.DNE(1,AddonModWorkshopSubmissionComponent_div_1_Template,15,16,"div",1)(2,AddonModWorkshopSubmissionComponent_ion_item_2_Template,13,15,"ion-item",2),p.k0s()),2&o&&(p.Y8G("hideUntil",n.loaded),p.R7$(),p.Y8G("ngIf",!n.summary),p.R7$(),p.Y8G("ngIf",n.summary))},dependencies:[a.n,u.bT,l.In,l.Jm,l.iq,l.uz,l.he,l.JI,c.Y,f.R,h.T,b.t,k.B,I.T,g.D9,v.Y],styles:["[_nghost-%COMP%]   p.addon-overriden-grade[_ngcontent-%COMP%]{color:var(--success)}[_nghost-%COMP%]   p.addon-has-overriden-grade[_ngcontent-%COMP%]{color:var(--danger);text-decoration:line-through}"]}),AddonModWorkshopSubmissionComponent})()}}]);