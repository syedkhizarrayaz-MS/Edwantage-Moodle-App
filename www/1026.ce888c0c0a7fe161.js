"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1026],{64502:(e,n,t)=>{t.d(n,{a:()=>l});var o=t(10467),i=t(79555),a=t(54438);let s=(()=>{var e;class CoreEditorServiceProvider{getEditorComponentClass(){return(0,o.A)((function*(){return(yield t.e(31777).then(t.bind(t,31777))).CoreEditorClassicEditorComponent}))()}getLicenseInformation(){return(0,o.A)((function*(){return[]}))()}getSettingsComponentClass(){return(0,o.A)((function*(){}))()}}return(e=CoreEditorServiceProvider).ɵfac=function CoreEditorServiceProvider_Factory(n){return new(n||e)},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreEditorServiceProvider})();const l=(0,i.Qd)(s)},1026:(e,n,t)=>{t.r(n),t.d(n,{default:()=>M});var o=t(10467),i=t(74431),a=t(85190),s=t(49882),l=t(72881),r=t(87455),g=t(5287),c=t(79555),_=t(52749),d=t(55554),m=t(15324),p=t(18022),C=t(22693),h=t(246),u=t(25572),S=t(86654),f=t(64502),b=t(54438),T=t(60177),v=t(89417),G=t(2910),y=t(68162),I=t(88246),E=t(43570),R=t(73955);const _c0=e=>({header:e}),_c1=e=>({"font-size.px":e});function CoreSettingsGeneralPage_ion_select_option_18_Template(e,n){if(1&e&&(b.j41(0,"ion-select-option",16),b.EFF(1),b.k0s()),2&e){const e=n.$implicit;b.Y8G("value",e.code),b.R7$(),b.JRh(e.name)}}function CoreSettingsGeneralPage_ion_segment_button_25_Template(e,n){if(1&e){const e=b.RV6();b.j41(0,"ion-segment-button",17),b.bIt("click",(function CoreSettingsGeneralPage_ion_segment_button_25_Template_ion_segment_button_click_0_listener(n){const t=b.eBV(e).$implicit,o=b.XpG();return b.Njj(o.zoomLevelChanged(n,t.value))})),b.j41(1,"ion-label"),b.EFF(2),b.nI1(3,"translate"),b.nrm(4,"span",18),b.k0s()()}if(2&e){const e=n.$implicit,t=b.XpG();b.Y8G("value",e.value)("ngStyle",b.eq3(6,_c1,e.style)),b.R7$(2),b.SpI(" ",b.bMT(3,4,"core.settings.fontsizecharacter")," "),b.R7$(2),b.Y8G("ngStyle",b.eq3(8,_c1,t.zoomLevels[t.zoomLevels.length-1].style))}}function CoreSettingsGeneralPage_ion_item_31_p_8_Template(e,n){1&e&&(b.j41(0,"p",23),b.EFF(1),b.nI1(2,"translate"),b.k0s()),2&e&&(b.R7$(),b.JRh(b.bMT(2,1,"core.settings.forcedsetting")))}function CoreSettingsGeneralPage_ion_item_31_ion_select_option_9_Template(e,n){if(1&e&&(b.j41(0,"ion-select-option",16),b.EFF(1),b.nI1(2,"translate"),b.k0s()),2&e){const e=n.$implicit;b.Y8G("value",e),b.R7$(),b.SpI(" ",b.bMT(2,2,"core.settings.colorscheme-"+e),"")}}function CoreSettingsGeneralPage_ion_item_31_Template(e,n){if(1&e){const e=b.RV6();b.j41(0,"ion-item",19)(1,"ion-select",20),b.nI1(2,"translate"),b.nI1(3,"translate"),b.mxI("ngModelChange",(function CoreSettingsGeneralPage_ion_item_31_Template_ion_select_ngModelChange_1_listener(n){b.eBV(e);const t=b.XpG();return b.DH7(t.selectedScheme,n)||(t.selectedScheme=n),b.Njj(n)})),b.bIt("ionChange",(function CoreSettingsGeneralPage_ion_item_31_Template_ion_select_ionChange_1_listener(n){b.eBV(e);const t=b.XpG();return b.Njj(t.colorSchemeChanged(n))})),b.j41(4,"div",21)(5,"p",8),b.EFF(6),b.nI1(7,"translate"),b.k0s(),b.DNE(8,CoreSettingsGeneralPage_ion_item_31_p_8_Template,3,3,"p",22),b.k0s(),b.DNE(9,CoreSettingsGeneralPage_ion_item_31_ion_select_option_9_Template,3,4,"ion-select-option",6),b.k0s()()}if(2&e){const e=b.XpG();b.R7$(),b.R50("ngModel",e.selectedScheme),b.Y8G("cancelText",b.bMT(2,7,"core.cancel"))("disabled",e.colorSchemeDisabled)("interfaceOptions",b.eq3(13,_c0,b.bMT(3,9,"core.settings.colorscheme"))),b.R7$(5),b.JRh(b.bMT(7,11,"core.settings.colorscheme")),b.R7$(2),b.Y8G("ngIf",e.colorSchemeDisabled),b.R7$(),b.Y8G("ngForOf",e.colorSchemes)}}function CoreSettingsGeneralPage_ion_item_32_Template(e,n){1&e&&(b.j41(0,"ion-item",24)(1,"ion-label",3)(2,"p",3),b.EFF(3),b.nI1(4,"translate"),b.k0s()()()),2&e&&(b.R7$(3),b.JRh(b.bMT(4,1,"core.settings.colorscheme-system-notice")))}function CoreSettingsGeneralPage_ion_item_34_Template(e,n){if(1&e){const e=b.RV6();b.j41(0,"ion-item",24)(1,"ion-label")(2,"p",8),b.EFF(3),b.nI1(4,"translate"),b.k0s(),b.j41(5,"p",3),b.EFF(6),b.nI1(7,"translate"),b.k0s(),b.j41(8,"ion-button",25),b.bIt("click",(function CoreSettingsGeneralPage_ion_item_34_Template_ion_button_click_8_listener(n){b.eBV(e);const t=b.XpG();return b.Njj(t.openNativeSettings(n))})),b.EFF(9),b.nI1(10,"translate"),b.k0s()()()}2&e&&(b.R7$(3),b.JRh(b.bMT(4,3,"core.settings.ioscookies")),b.R7$(3),b.JRh(b.bMT(7,5,"core.settings.ioscookiesdescription")),b.R7$(3),b.SpI(" ",b.bMT(10,7,"core.opensettings")," "))}function CoreSettingsGeneralPage_ion_item_43_Template(e,n){if(1&e){const e=b.RV6();b.j41(0,"ion-item")(1,"ion-label")(2,"p",8),b.EFF(3),b.nI1(4,"translate"),b.k0s(),b.j41(5,"p",3),b.EFF(6),b.nI1(7,"translate"),b.k0s()(),b.j41(8,"ion-toggle",26),b.mxI("ngModelChange",(function CoreSettingsGeneralPage_ion_item_43_Template_ion_toggle_ngModelChange_8_listener(n){b.eBV(e);const t=b.XpG();return b.DH7(t.analyticsEnabled,n)||(t.analyticsEnabled=n),b.Njj(n)})),b.bIt("ionChange",(function CoreSettingsGeneralPage_ion_item_43_Template_ion_toggle_ionChange_8_listener(n){b.eBV(e);const t=b.XpG();return b.Njj(t.analyticsEnabledChanged(n))})),b.k0s()()}if(2&e){const e=b.XpG();b.R7$(3),b.JRh(b.bMT(4,3,"core.settings.enableanalytics")),b.R7$(3),b.JRh(b.bMT(7,5,"core.settings.enableanalyticsdescription")),b.R7$(2),b.R50("ngModel",e.analyticsEnabled)}}let M=(()=>{var e;class CoreSettingsGeneralPage{constructor(){this.languages=[],this.selectedLanguage="",this.zoomLevels=[],this.selectedZoomLevel="none",this.pinchToZoom=!1,this.debugDisplay=!1,this.analyticsAvailable=!1,this.analyticsEnabled=!1,this.colorSchemes=[],this.selectedScheme="light",this.colorSchemeDisabled=!1,this.isAndroid=!1,this.displayIframeHelp=!1,this.asyncInit()}asyncInit(){var e=this;return(0,o.A)((function*(){const n=i.CoreConstants.CONFIG.languages;for(const t in n)e.languages.push({code:t,name:n[t]});e.languages.sort(((e,n)=>e.name.localeCompare(n.name))),e.selectedLanguage=yield l.CoreLang.getCurrentLanguage(),i.CoreConstants.CONFIG.forceColorScheme||(e.colorSchemeDisabled=r.CoreSettingsHelper.isColorSchemeDisabledInSite(),e.colorSchemeDisabled?(e.colorSchemes.push("light"),e.selectedScheme=e.colorSchemes[0]):(e.isAndroid=p.CorePlatform.isAndroid(),e.colorSchemes=r.CoreSettingsHelper.getAllowedColorSchemes(),e.selectedScheme=yield a.CoreConfig.get(i.CoreConstants.SETTINGS_COLOR_SCHEME,"light"))),e.selectedZoomLevel=yield r.CoreSettingsHelper.getZoomLevel(),e.zoomLevels=Object.keys(i.CoreConstants.CONFIG.zoomlevels).map((n=>({value:n,style:Math.round(16*i.CoreConstants.CONFIG.zoomlevels[n]/100),selected:n===e.selectedZoomLevel}))),e.pinchToZoom=yield r.CoreSettingsHelper.getPinchToZoom(),e.editorSettingsComponentClass=yield f.a.getSettingsComponentClass(),e.debugDisplay=yield a.CoreConfig.get(i.CoreConstants.SETTINGS_DEBUG_DISPLAY,!1),e.analyticsAvailable=yield C.OF.isAnalyticsAvailable(),e.analyticsAvailable&&(e.analyticsEnabled=yield a.CoreConfig.get(i.CoreConstants.SETTINGS_ANALYTICS_ENABLED,!0)),e.displayIframeHelp=g.c.shouldDisplayHelp()}))()}languageChanged(e){var n=this;return(0,o.A)((function*(){e.stopPropagation(),e.preventDefault();const t=yield l.CoreLang.getCurrentLanguage();if(n.selectedLanguage===t)return;const i=c.HT.instant("core.cancel");try{yield l.CoreLang.changeCurrentLanguage(n.selectedLanguage)}finally{var a;const e=null===(a=n.languages.find((e=>e.code===n.selectedLanguage)))||void 0===a?void 0:a.name,s=[{text:i,role:"cancel",handler:()=>{clearTimeout(g),n.selectedLanguage=t,l.CoreLang.changeCurrentLanguage(n.selectedLanguage)}},{text:c.HT.instant("core.settings.changelanguage",{$a:e}),cssClass:"timed-button",handler:()=>{clearTimeout(g),n.applyLanguageAndRestart()}}],r=yield u.CoreAlerts.show({message:c.HT.instant("core.settings.changelanguagealert"),buttons:s}),g=window.setTimeout((0,o.A)((function*(){yield r.dismiss(),n.applyLanguageAndRestart()})),1e4)}}))()}applyLanguageAndRestart(){var e=this;return(0,o.A)((function*(){const n=yield _.CoreSites.getSitesInstances();yield d.g.ignoreErrors(Promise.all(n.map((e=>e.invalidateWsCache())))),s.z.trigger(s.z.LANGUAGE_CHANGED,e.selectedLanguage),m.CoreNavigator.navigate("/reload",{reset:!0})}))()}zoomLevelChanged(e,n){e.stopPropagation(),e.preventDefault(),this.selectedZoomLevel=n,this.zoomLevels=this.zoomLevels.map((e=>(e.selected=e.value===this.selectedZoomLevel,e))),r.CoreSettingsHelper.applyZoomLevel(this.selectedZoomLevel),a.CoreConfig.set(i.CoreConstants.SETTINGS_ZOOM_LEVEL,this.selectedZoomLevel)}pinchToZoomChanged(e){e.stopPropagation(),e.preventDefault(),r.CoreSettingsHelper.applyPinchToZoom(this.pinchToZoom),a.CoreConfig.set(i.CoreConstants.SETTINGS_PINCH_TO_ZOOM,this.pinchToZoom?1:0)}colorSchemeChanged(e){e.stopPropagation(),e.preventDefault(),r.CoreSettingsHelper.setColorScheme(this.selectedScheme),a.CoreConfig.set(i.CoreConstants.SETTINGS_COLOR_SCHEME,this.selectedScheme)}debugDisplayChanged(e){e.stopPropagation(),e.preventDefault(),a.CoreConfig.set(i.CoreConstants.SETTINGS_DEBUG_DISPLAY,this.debugDisplay?1:0),u.CoreAlerts.setDebugDisplay(this.debugDisplay)}analyticsEnabledChanged(e){var n=this;return(0,o.A)((function*(){e.stopPropagation(),e.preventDefault(),yield C.OF.enableAnalytics(n.analyticsEnabled),a.CoreConfig.set(i.CoreConstants.SETTINGS_ANALYTICS_ENABLED,n.analyticsEnabled?1:0)}))()}openNativeSettings(e){var n;e.stopPropagation(),e.preventDefault(),null===(n=h.b.plugin("diagnostic"))||void 0===n||n.switchToSettings()}}return(e=CoreSettingsGeneralPage).ɵfac=function CoreSettingsGeneralPage_Factory(n){return new(n||e)},e.ɵcmp=b.VBU({type:e,selectors:[["page-core-app-settings-general"]],standalone:!0,features:[b.aNF],decls:44,vars:40,consts:[["slot","start"],[3,"text"],[1,"list-item-limited-width"],[1,"ion-text-wrap"],["interface","action-sheet",3,"ngModelChange","ionChange","ngModel","cancelText","interfaceOptions"],["slot","label",1,"item-heading","ion-text-wrap"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap","core-settings-general-font-size","item-interactive"],[1,"item-heading","ion-text-wrap"],["color","primary",3,"ngModelChange","ngModel"],[3,"value","ngStyle","click",4,"ngFor","ngForOf"],[3,"ngModelChange","ionChange","ngModel"],["class","ion-text-wrap core-settings-general-color-scheme",4,"ngIf"],["lines","none",4,"ngIf"],[3,"component"],[4,"ngIf"],[3,"value"],[3,"click","value","ngStyle"],[3,"ngStyle"],[1,"ion-text-wrap","core-settings-general-color-scheme"],["interface","action-sheet",3,"ngModelChange","ionChange","ngModel","cancelText","disabled","interfaceOptions"],["slot","label"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["lines","none"],["expand","block",3,"click"],["slot","end",3,"ngModelChange","ionChange","ngModel"]],template:function CoreSettingsGeneralPage_Template(e,n){1&e&&(b.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),b.nrm(3,"ion-back-button",1),b.nI1(4,"translate"),b.k0s(),b.j41(5,"ion-title")(6,"h1"),b.EFF(7),b.nI1(8,"translate"),b.k0s()()()(),b.j41(9,"ion-content")(10,"ion-list",2)(11,"ion-item",3)(12,"ion-select",4),b.nI1(13,"translate"),b.nI1(14,"translate"),b.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_select_ngModelChange_12_listener(e){return b.DH7(n.selectedLanguage,e)||(n.selectedLanguage=e),e})),b.bIt("ionChange",(function CoreSettingsGeneralPage_Template_ion_select_ionChange_12_listener(e){return n.languageChanged(e)})),b.j41(15,"div",5),b.EFF(16),b.nI1(17,"translate"),b.k0s(),b.DNE(18,CoreSettingsGeneralPage_ion_select_option_18_Template,2,2,"ion-select-option",6),b.k0s()(),b.j41(19,"ion-item",7)(20,"ion-label")(21,"p",8),b.EFF(22),b.nI1(23,"translate"),b.k0s()(),b.j41(24,"ion-segment",9),b.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_segment_ngModelChange_24_listener(e){return b.DH7(n.selectedZoomLevel,e)||(n.selectedZoomLevel=e),e})),b.DNE(25,CoreSettingsGeneralPage_ion_segment_button_25_Template,5,10,"ion-segment-button",10),b.k0s()(),b.j41(26,"ion-item")(27,"ion-toggle",11),b.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_27_listener(e){return b.DH7(n.pinchToZoom,e)||(n.pinchToZoom=e),e})),b.bIt("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_27_listener(e){return n.pinchToZoomChanged(e)})),b.j41(28,"p",8),b.EFF(29),b.nI1(30,"translate"),b.k0s()()(),b.DNE(31,CoreSettingsGeneralPage_ion_item_31_Template,10,15,"ion-item",12)(32,CoreSettingsGeneralPage_ion_item_32_Template,5,3,"ion-item",13),b.nrm(33,"core-dynamic-component",14),b.DNE(34,CoreSettingsGeneralPage_ion_item_34_Template,11,9,"ion-item",13),b.j41(35,"ion-item")(36,"ion-toggle",11),b.mxI("ngModelChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ngModelChange_36_listener(e){return b.DH7(n.debugDisplay,e)||(n.debugDisplay=e),e})),b.bIt("ionChange",(function CoreSettingsGeneralPage_Template_ion_toggle_ionChange_36_listener(e){return n.debugDisplayChanged(e)})),b.j41(37,"p",8),b.EFF(38),b.nI1(39,"translate"),b.k0s(),b.j41(40,"p",3),b.EFF(41),b.nI1(42,"translate"),b.k0s()()(),b.DNE(43,CoreSettingsGeneralPage_ion_item_43_Template,9,7,"ion-item",15),b.k0s()()),2&e&&(b.R7$(3),b.Y8G("text",b.bMT(4,20,"core.back")),b.R7$(4),b.JRh(b.bMT(8,22,"core.settings.general")),b.R7$(5),b.R50("ngModel",n.selectedLanguage),b.Y8G("cancelText",b.bMT(13,24,"core.cancel"))("interfaceOptions",b.eq3(38,_c0,b.bMT(14,26,"core.settings.language"))),b.R7$(4),b.JRh(b.bMT(17,28,"core.settings.language")),b.R7$(2),b.Y8G("ngForOf",n.languages),b.R7$(4),b.JRh(b.bMT(23,30,"core.settings.fontsize")),b.R7$(2),b.R50("ngModel",n.selectedZoomLevel),b.R7$(),b.Y8G("ngForOf",n.zoomLevels),b.R7$(2),b.R50("ngModel",n.pinchToZoom),b.R7$(2),b.JRh(b.bMT(30,32,"core.settings.enablepinchtozoom")),b.R7$(2),b.Y8G("ngIf",n.colorSchemes.length>0),b.R7$(),b.Y8G("ngIf",n.colorSchemes.length>0&&"system"===n.selectedScheme&&n.isAndroid),b.R7$(),b.Y8G("component",n.editorSettingsComponentClass),b.R7$(),b.Y8G("ngIf",n.displayIframeHelp),b.R7$(2),b.R50("ngModel",n.debugDisplay),b.R7$(2),b.JRh(b.bMT(39,34,"core.settings.debugdisplay")),b.R7$(3),b.JRh(b.bMT(42,36,"core.settings.debugdisplaydescription")),b.R7$(2),b.Y8G("ngIf",n.analyticsAvailable))},dependencies:[S.n,T.Sq,T.bT,T.B3,v.BC,v.vS,G.Jm,G.QW,G.W9,G.eU,G.uz,G.he,G.nf,G.Gp,G.eP,G.Nm,G.Ip,G.BC,G.BY,G.ai,G.hB,G.Je,G.el,y.m,I.i,E.T,R.D9],styles:["[_nghost-%COMP%]   .core-settings-general-font-size[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{max-width:250px}"]}),CoreSettingsGeneralPage})()}}]);