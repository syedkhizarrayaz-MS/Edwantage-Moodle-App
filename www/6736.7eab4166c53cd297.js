"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6736,20644,60185],{67840:(o,e,n)=>{n.d(e,{X:()=>i});var t=n(54438);let i=(()=>{var o;class CoreCourseModuleCompletionBaseComponent{constructor(){this.completionChanged=new t.bkB}ngOnChanges(o){o.completion&&this.completion&&this.calculateData()}calculateData(){}}return(o=CoreCourseModuleCompletionBaseComponent).ɵfac=function CoreCourseModuleCompletionBaseComponent_Factory(e){return new(e||o)},o.ɵcmp=t.VBU({type:o,selectors:[["ng-component"]],inputs:{completion:"completion",moduleId:"moduleId",moduleName:"moduleName"},outputs:{completionChanged:"completionChanged"},features:[t.OA$],decls:0,vars:0,template:function CoreCourseModuleCompletionBaseComponent_Template(o,e){},encapsulation:2}),CoreCourseModuleCompletionBaseComponent})()},20644:(o,e,n)=>{n.r(e),n.d(e,{CoreCourseModuleCompletionComponent:()=>b});var t=n(10467),i=n(67840),l=n(24813),a=n(94247),r=n(98870),s=n(79555),m=n(49882),c=n(91416),d=n(86654),p=n(54438),u=n(2910),C=n(86198),_=n(43570),f=n(73955);function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_0_Template(o,e){if(1&o){const o=p.RV6();p.j41(0,"ion-button",1),p.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_0_Template_ion_button_click_0_listener(e){p.eBV(o);const n=p.XpG(4);return p.Njj(n.completionClicked(e))})),p.EFF(1),p.nI1(2,"translate"),p.j41(3,"div",2),p.nrm(4,"div",3),p.k0s()()}2&o&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"core.course.todo")," "))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_1_Template(o,e){if(1&o){const o=p.RV6();p.j41(0,"ion-button",4),p.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_1_Template_ion_button_click_0_listener(e){p.eBV(o);const n=p.XpG(4);return p.Njj(n.completionClicked(e))})),p.nrm(1,"ion-icon",5),p.EFF(2),p.nI1(3,"translate"),p.j41(4,"div",2),p.nrm(5,"div",3),p.k0s()()}2&o&&(p.R7$(2),p.SpI(" ",p.bMT(3,1,"core.course.done")," "))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Template(o,e){if(1&o&&p.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_0_Template,5,3,"ion-button",0)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_1_Template,6,3),2&o){const o=p.XpG(3);p.vxM(0,o.completed?1:0)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Conditional_4_Template(o,e){1&o&&(p.nrm(0,"ion-icon",8),p.nI1(1,"translate")),2&o&&p.BMQ("aria-label",p.bMT(1,1,"core.course.manualcompletionnotsynced"))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Template(o,e){if(1&o){const o=p.RV6();p.j41(0,"ion-button",7),p.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Template_ion_button_click_0_listener(e){p.eBV(o);const n=p.XpG(4);return p.Njj(n.completionClicked(e))})),p.nrm(1,"ion-icon",5),p.EFF(2),p.nI1(3,"translate"),p.DNE(4,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Conditional_4_Template,2,3,"ion-icon",8),p.k0s()}if(2&o){const o=p.XpG(4);p.Y8G("ariaLabel",o.accessibleDescription),p.R7$(2),p.SpI(" ",p.bMT(3,3,"core.course.completion_manual:done")," "),p.R7$(2),p.vxM(4,o.completion.offline?4:-1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Conditional_3_Template(o,e){1&o&&(p.nrm(0,"ion-icon",8),p.nI1(1,"translate")),2&o&&p.BMQ("aria-label",p.bMT(1,1,"core.course.manualcompletionnotsynced"))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Template(o,e){if(1&o){const o=p.RV6();p.j41(0,"ion-button",9),p.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Template_ion_button_click_0_listener(e){p.eBV(o);const n=p.XpG(4);return p.Njj(n.completionClicked(e))})),p.EFF(1),p.nI1(2,"translate"),p.DNE(3,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Conditional_3_Template,2,3,"ion-icon",8),p.k0s()}if(2&o){const o=p.XpG(4);p.Y8G("ariaLabel",o.accessibleDescription),p.R7$(),p.SpI(" ",p.bMT(2,3,"core.course.completion_manual:markdone")," "),p.R7$(2),p.vxM(3,o.completion.offline?3:-1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Template(o,e){if(1&o&&p.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Template,5,5,"ion-button",6)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Template,4,5),2&o){const o=p.XpG(3);p.vxM(0,o.completed?0:1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Template(o,e){if(1&o&&p.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Template,2,1)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Template,2,1),2&o){const o=p.XpG(2);p.vxM(0,o.completion.isautomatic?0:1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_0_Template(o,e){if(1&o){const o=p.RV6();p.j41(0,"ion-button",11),p.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_0_Template_ion_button_click_0_listener(e){p.eBV(o);const n=p.XpG(3);return p.Njj(n.completionClicked(e))})),p.EFF(1),p.nI1(2,"translate"),p.j41(3,"div",2),p.nrm(4,"div",3),p.k0s()()}2&o&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"core.course.completionmenuitem")," "))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_1_Template(o,e){if(1&o&&(p.j41(0,"ion-button",12),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&o){const o=p.XpG(3);p.Y8G("ariaLabel",o.accessibleDescription),p.R7$(),p.SpI(" ",p.bMT(2,2,"core.course.completion_manual:markdone")," ")}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Template(o,e){if(1&o&&p.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_0_Template,5,3,"ion-button",10)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_1_Template,3,4),2&o){const o=p.XpG(2);p.vxM(0,o.completion.isautomatic?0:1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Template(o,e){if(1&o&&p.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Template,2,1)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Template,2,1),2&o){const o=p.XpG();p.vxM(0,o.completion.istrackeduser?0:1)}}let b=(()=>{var o;class CoreCourseModuleCompletionComponent extends i.X{constructor(){super(...arguments),this.showCompletionConditions=!1,this.showManualCompletion=!1,this.completed=!1,this.accessibleDescription=null,this.showCompletionInfo=!1}ngOnInit(){var o;if(!this.completion)return;const e=!this.completion.isautomatic||((null===(o=this.completion.details)||void 0===o?void 0:o.length)||0)>0;this.showCompletionInfo=e&&(this.showCompletionConditions||this.showManualCompletion),this.showCompletionInfo&&!this.completion.isautomatic&&this.completion.istrackeduser&&(this.completionObserver=m.z.on(m.z.MANUAL_COMPLETION_CHANGED,(o=>{this.completion&&this.completion.cmid==o.completion.cmid&&(this.completion=o.completion,this.calculateData(),this.completionChanged.emit(this.completion))})))}calculateData(){var o=this;return(0,t.A)((function*(){if(!o.completion||!o.completion.istrackeduser)return;const e=a.CoreCourseHelper.getCompletionStatus(o.completion);if(o.completed=0!==e&&3!==e,!o.completion.isautomatic)if(o.completion.overrideby){const e=yield r.CoreUser.getUserFullNameWithDefault(o.completion.overrideby,o.completion.courseId);o.accessibleDescription=s.HT.instant(`core.course.${o.completion.state?"completion_setby:manual:done":"completion_setby:manual:markdone"}`,{$a:{activityname:o.moduleName,setby:e}})}else{o.accessibleDescription=s.HT.instant(`core.course.${o.completion.state?"completion_manual:aria:done":"completion_manual:aria:markdone"}`,{$a:o.moduleName})}}))()}completionClicked(o){var e=this;return(0,t.A)((function*(){if(e.completion&&e.showCompletionInfo)if(o.stopPropagation(),o.preventDefault(),e.completion.isautomatic||!e.completion.istrackeduser){let t=o.target;t&&"ION-BUTTON"!==t.tagName&&(t=t.parentElement);const{CoreCourseModuleCompletionDetailsComponent:i}=yield n.e(22664).then(n.bind(n,22664));l.CorePopovers.openWithoutResult({component:i,componentProps:{completion:e.completion},event:{target:t}})}else yield a.CoreCourseHelper.changeManualCompletion(e.completion),m.z.trigger(m.z.MANUAL_COMPLETION_CHANGED,{completion:e.completion})}))()}ngOnChanges(o){o.completion&&this.completion&&this.completion.istrackeduser&&this.calculateData()}ngOnDestroy(){var o;null===(o=this.completionObserver)||void 0===o||o.off()}}return(o=CoreCourseModuleCompletionComponent).ɵfac=(()=>{let e;return function CoreCourseModuleCompletionComponent_Factory(n){return(e||(e=p.xGo(o)))(n||o)}})(),o.ɵcmp=p.VBU({type:o,selectors:[["core-course-module-completion"]],inputs:{showCompletionConditions:[p.Mj6.HasDecoratorInputTransform,"showCompletionConditions","showCompletionConditions",c.G],showManualCompletion:[p.Mj6.HasDecoratorInputTransform,"showManualCompletion","showManualCompletion",c.G]},standalone:!0,features:[p.GFd,p.Vt3,p.OA$,p.aNF],decls:1,vars:1,consts:[["fill","outline",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap"],["fill","outline",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap",3,"click"],["role","presentation","aria-hidden","true",1,"select-icon"],[1,"select-icon-inner"],["color","success",1,"completioninfo","completion_complete","chip","ion-text-nowrap",3,"click"],["name","fas-check","slot","start","aria-hidden","true"],["color","success",1,"completioninfo","completion_complete","chip","ion-text-nowrap",3,"ariaLabel"],["color","success",1,"completioninfo","completion_complete","chip","ion-text-nowrap",3,"click","ariaLabel"],["name","fas-arrows-rotate","slot","end"],["fill","outline",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap",3,"click","ariaLabel"],["fill","outline",1,"chip","ion-text-nowrap"],["fill","outline",1,"chip","ion-text-nowrap",3,"click"],["fill","outline","disabled","",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap",3,"ariaLabel"]],template:function CoreCourseModuleCompletionComponent_Template(o,e){1&o&&p.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Template,2,1),2&o&&p.vxM(0,e.showCompletionInfo&&e.completion?0:-1)},dependencies:[d.n,u.Jm,u.iq,C.t,_.T,f.D9],styles:["[_nghost-%COMP%]{display:block;margin:var(--margin, 4px)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   ion-button.button-solid.ion-color-success[_ngcontent-%COMP%]::part(native){background:var(--ion-color-tint);color:var(--ion-color-shade)}[_nghost-%COMP%]   ion-button.button-solid.ion-color-success.ion-focused[_ngcontent-%COMP%]::part(native){background:var(--ion-color);color:var(--ion-color-contrast)}[_nghost-%COMP%]   ion-button.button-outline[_ngcontent-%COMP%]::part(native){border-color:var(--gray-400)}"]}),CoreCourseModuleCompletionComponent})()},6736:(o,e,n)=>{n.r(e),n.d(e,{CoreCourseModuleInfoComponent:()=>v});var t=n(10467),i=n(91416),l=n(54438),a=n(95384),r=n(97086),s=n(52749),m=n(86654),c=n(20644),d=n(60185),p=n(60177),u=n(2910),C=n(32572),_=n(86198),f=n(58197),b=n(35407),h=n(73955);const g=[[["","title",""]],[["","description",""]],"*"],M=["[title]","[description]","*"],_c2=o=>({$a:o});function CoreCourseModuleInfoComponent_ion_icon_5_Template(o,e){1&o&&(l.nrm(0,"ion-icon",11),l.nI1(1,"translate")),2&o&&l.BMQ("aria-label",l.bMT(1,1,"core.restricted"))}function CoreCourseModuleInfoComponent_div_8_Template(o,e){if(1&o){const o=l.RV6();l.j41(0,"div",12)(1,"core-course-module-completion",13),l.bIt("completionChanged",(function CoreCourseModuleInfoComponent_div_8_Template_core_course_module_completion_completionChanged_1_listener(e){l.eBV(o);const n=l.XpG();return l.Njj(n.completionChanged.emit(e))})),l.k0s()()}if(2&o){const o=l.XpG();l.R7$(),l.Y8G("completion",o.module.completiondata)("moduleName",o.module.name)("moduleId",o.module.id)("showCompletionConditions",!0)("showManualCompletion",o.showManualCompletion&&o.module.uservisible)}}function CoreCourseModuleInfoComponent_div_9_core_reminders_date_1_Template(o,e){if(1&o&&l.nrm(0,"core-reminders-date",16),2&o){const o=e.$implicit,n=l.XpG(2);l.Y8G("component",n.component)("instanceId",n.module.id)("type",o.dataid)("label",o.label)("time",o.timestamp)("relativeTo",o.relativeto)("title",n.module.name)("url",n.module.url)}}function CoreCourseModuleInfoComponent_div_9_Template(o,e){if(1&o&&(l.j41(0,"div",14),l.DNE(1,CoreCourseModuleInfoComponent_div_9_core_reminders_date_1_Template,1,8,"core-reminders-date",15),l.k0s()),2&o){const o=l.XpG();l.R7$(),l.Y8G("ngForOf",o.module.dates)}}function CoreCourseModuleInfoComponent_div_10_Template(o,e){if(1&o&&(l.j41(0,"div",17),l.nrm(1,"ion-icon",11),l.nI1(2,"translate"),l.nrm(3,"core-format-text",18),l.k0s()),2&o){const o=l.XpG();l.R7$(),l.BMQ("aria-label",l.bMT(2,4,"core.restricted")),l.R7$(2),l.Y8G("text",o.module.availabilityinfo)("contextInstanceId",o.module.id)("courseId",o.module.course)}}function CoreCourseModuleInfoComponent_div_11_Template(o,e){if(1&o&&(l.j41(0,"div",19),l.nrm(1,"core-format-text",20),l.k0s()),2&o){const o=l.XpG();l.R7$(),l.Y8G("text",o.description)("component",o.component)("componentId",o.componentId)("contextInstanceId",o.module.id)("courseId",o.courseId)("collapsible-item",o.expandDescription?null:"")}}function CoreCourseModuleInfoComponent_ion_card_14_Template(o,e){if(1&o&&(l.j41(0,"ion-card",21)(1,"ion-item"),l.nrm(2,"ion-icon",22),l.j41(3,"ion-label"),l.EFF(4),l.nI1(5,"translate"),l.k0s()()()),2&o){const o=l.XpG();l.R7$(4),l.JRh(l.i5U(5,1,"core.hasdatatosync",l.eq3(4,_c2,o.moduleNameTranslated)))}}let v=(()=>{var o;class CoreCourseModuleInfoComponent{constructor(){this.expandDescription=!1,this.showAvailabilityInfo=!1,this.hasDataToSync=!1,this.showManualCompletion=!0,this.completionChanged=new l.bkB,this.modicon="",this.showCompletion=!1,this.moduleNameTranslated=""}ngOnInit(){var o=this;return(0,t.A)((function*(){o.modicon=yield r.CoreCourseModuleDelegate.getModuleIconSrc(o.module.modname,o.module.modicon,o.module),o.moduleNameTranslated=a.CoreCourseModuleHelper.translateModuleName(o.module.modname,o.module.modplural),o.showCompletion=s.CoreSites.getRequiredCurrentSite().isVersionGreaterEqualThan("3.11")}))()}}return(o=CoreCourseModuleInfoComponent).ɵfac=function CoreCourseModuleInfoComponent_Factory(e){return new(e||o)},o.ɵcmp=l.VBU({type:o,selectors:[["core-course-module-info"]],inputs:{module:"module",courseId:"courseId",component:"component",componentId:"componentId",description:"description",expandDescription:[l.Mj6.HasDecoratorInputTransform,"expandDescription","expandDescription",i.G],showAvailabilityInfo:[l.Mj6.HasDecoratorInputTransform,"showAvailabilityInfo","showAvailabilityInfo",i.G],hasDataToSync:[l.Mj6.HasDecoratorInputTransform,"hasDataToSync","hasDataToSync",i.G],showManualCompletion:[l.Mj6.HasDecoratorInputTransform,"showManualCompletion","showManualCompletion",i.G]},outputs:{completionChanged:"completionChanged"},standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:M,decls:15,vars:16,consts:[["collapsible","",1,"ion-text-wrap"],["slot","start",3,"modicon","modname","componentId","purpose","isBranded"],[1,"core-module-info-activity-title"],["contextLevel","module",3,"text","component","componentId","contextInstanceId","courseId"],["name","fas-lock",4,"ngIf"],[1,"core-module-info-box"],["class","core-module-info-completion core-module-info-box-section",4,"ngIf"],["class","core-module-dates core-module-info-box-section",4,"ngIf"],["class","core-module-availabilityinfo core-module-info-box-section",4,"ngIf"],["class","core-module-info-description core-module-info-box-section",4,"ngIf"],["class","core-warning-card",4,"ngIf"],["name","fas-lock"],[1,"core-module-info-completion","core-module-info-box-section"],[3,"completionChanged","completion","moduleName","moduleId","showCompletionConditions","showManualCompletion"],[1,"core-module-dates","core-module-info-box-section"],[3,"component","instanceId","type","label","time","relativeTo","title","url",4,"ngFor","ngForOf"],[3,"component","instanceId","type","label","time","relativeTo","title","url"],[1,"core-module-availabilityinfo","core-module-info-box-section"],["contextLevel","module",3,"text","contextInstanceId","courseId"],[1,"core-module-info-description","core-module-info-box-section"],["contextLevel","module",3,"text","component","componentId","contextInstanceId","courseId","collapsible-item"],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"]],template:function CoreCourseModuleInfoComponent_Template(o,e){1&o&&(l.NAR(g),l.j41(0,"ion-item",0),l.nrm(1,"core-mod-icon",1),l.j41(2,"ion-label",2)(3,"h1"),l.nrm(4,"core-format-text",3),l.DNE(5,CoreCourseModuleInfoComponent_ion_icon_5_Template,2,3,"ion-icon",4),l.k0s(),l.SdG(6),l.k0s()(),l.j41(7,"div",5),l.DNE(8,CoreCourseModuleInfoComponent_div_8_Template,2,5,"div",6)(9,CoreCourseModuleInfoComponent_div_9_Template,2,1,"div",7)(10,CoreCourseModuleInfoComponent_div_10_Template,4,6,"div",8)(11,CoreCourseModuleInfoComponent_div_11_Template,2,6,"div",9),l.SdG(12,1),l.k0s(),l.SdG(13,2),l.DNE(14,CoreCourseModuleInfoComponent_ion_card_14_Template,6,6,"ion-card",10)),2&o&&(l.R7$(),l.Y8G("modicon",e.modicon)("modname",e.module.modname)("componentId",e.module.instance)("purpose",e.module.purpose)("isBranded",e.module.branded),l.R7$(3),l.Y8G("text",e.module.name)("component",e.component)("componentId",e.componentId)("contextInstanceId",e.module.id)("courseId",e.courseId),l.R7$(),l.Y8G("ngIf",0===e.module.visible||!1===e.module.uservisible),l.R7$(3),l.Y8G("ngIf",e.showCompletion&&e.module.completiondata&&(e.module.completiondata.isautomatic||e.showManualCompletion&&e.module.uservisible)),l.R7$(),l.Y8G("ngIf",e.module.dates&&e.module.dates.length),l.R7$(),l.Y8G("ngIf",e.showAvailabilityInfo&&e.module.availabilityinfo),l.R7$(),l.Y8G("ngIf",e.description),l.R7$(3),l.Y8G("ngIf",e.hasDataToSync))},dependencies:[m.n,p.Sq,p.bT,u.b_,u.iq,u.uz,u.he,C.I,_.t,f.B,b.K,h.D9,c.CoreCourseModuleCompletionComponent,d.CoreRemindersDateComponent],styles:["[_nghost-%COMP%]{display:block;margin-bottom:8px;padding-bottom:1px;background-color:var(--contrast-background);padding-inline-start:var(--ion-safe-area-left);padding-inline-end:var(--ion-safe-area-right)}[_nghost-%COMP%]   core-mod-icon[_ngcontent-%COMP%]{align-self:flex-start;margin-inline-end:8px;--module-icon-padding: 0px;--module-legacy-icon-padding: 4px}[_nghost-%COMP%]   ion-label.core-module-info-activity-title[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px;line-height:32px}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--medium);margin-inline-start:8px;font-size:80%}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]{background:var(--light);border-radius:var(--mdl-shape-borderRadius-xs);margin:8px;padding:8px}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]:empty{display:none}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]     ion-item{--ion-item-background: var(--light);--background: var(--light)}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]     ion-card.card-file{--ion-card-horizontal-margin: 0px}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]   .core-module-info-box-section[_ngcontent-%COMP%] + .core-module-info-box-section[_ngcontent-%COMP%]{border-top:1px solid var(--stroke);margin-top:8px;padding-top:8px}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]{font-size:90%}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:static;margin-inline-end:8px}[_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-module-info-box[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:4px}[_nghost-%COMP%]   core-course-module-completion[_ngcontent-%COMP%]{--margin: 0px}.core-iframe-fullscreen[_nghost-%COMP%], .core-iframe-fullscreen   [_nghost-%COMP%]{opacity:0!important;height:0!important}"]}),CoreCourseModuleInfoComponent})()},60185:(o,e,n)=>{n.r(e),n.d(e,{CoreRemindersDateComponent:()=>h});var t=n(10467),i=n(21604),l=n(24742),a=n(79555),r=n(86654),s=n(24813),m=n(47551),c=n(43959),d=n(54438),p=n(60177),u=n(2910),C=n(86198),_=n(43570),f=n(73955);const _c0=(o,e)=>({title:o,label:e});function CoreRemindersSetButtonComponent_ion_icon_2_Template(o,e){1&o&&d.nrm(0,"ion-icon",4)}function CoreRemindersSetButtonComponent_ion_icon_3_Template(o,e){1&o&&d.nrm(0,"ion-icon",5)}function CoreRemindersSetButtonComponent_span_4_Template(o,e){if(1&o&&(d.j41(0,"span",6),d.EFF(1),d.k0s()),2&o){const o=d.XpG();d.R7$(),d.JRh(o.reminderMessage)}}let b=(()=>{var o;class CoreRemindersSetButtonComponent{constructor(){this.label="",this.time=-1,this.title="",this.url="",this.labelClean=""}ngOnInit(){this.labelClean=this.label.replace(":",""),this.setTimebefore(this.initialTimebefore)}setReminder(o){var e=this;return(0,t.A)((function*(){if(void 0===e.component||void 0===e.instanceId||void 0===e.type)return;if(o.preventDefault(),o.stopPropagation(),void 0===e.timebefore)return e.saveReminder(0),void 0;const{CoreRemindersSetReminderMenuComponent:t}=yield n.e(64260).then(n.bind(n,64260)),i=yield s.CorePopovers.open({component:t,componentProps:{initialValue:e.timebefore,eventTime:e.time,noReminderLabel:"core.reminders.delete"},event:o});void 0!==i&&e.saveReminder(i.timeBefore)}))()}setTimebefore(o){if(this.timebefore=o,void 0!==this.timebefore){this.reminderMessage=a.HT.instant("core.reminders.reminderset",{$a:l.j.userDate(1e3*(this.time-this.timebefore))})}else this.reminderMessage=void 0}saveReminder(o){var e=this;return(0,t.A)((function*(){if(void 0===e.component||void 0===e.instanceId||void 0===e.type)return;if(yield i.CoreReminders.removeReminders({instanceId:e.instanceId,component:e.component,type:e.type}),void 0===o||o===c.Nc)return e.setTimebefore(void 0),m.CoreToasts.show({message:"core.reminders.reminderunset",translateMessage:!0}),void 0;e.setTimebefore(o);const n={timebefore:o,component:e.component,instanceId:e.instanceId,type:e.type,title:`${e.label} ${e.title}`,url:e.url,time:e.time};yield i.CoreReminders.addReminder(n);const t=a.HT.instant("core.reminders.reminderset",{$a:l.j.userDate(1e3*(e.time-o))});m.CoreToasts.show({message:t})}))()}}return(o=CoreRemindersSetButtonComponent).ɵfac=function CoreRemindersSetButtonComponent_Factory(e){return new(e||o)},o.ɵcmp=d.VBU({type:o,selectors:[["core-reminders-set-button"]],inputs:{component:"component",instanceId:"instanceId",type:"type",label:"label",initialTimebefore:"initialTimebefore",time:"time",title:"title",url:"url"},standalone:!0,features:[d.aNF],decls:5,vars:10,consts:[["fill","clear","size","small",3,"click","ariaLabel"],["name","fas-bell","slot","icon-only","aria-hidden","true",4,"ngIf"],["name","far-bell-slash","slot","icon-only","aria-hidden","true",4,"ngIf"],["class","sr-only","role","status",4,"ngIf"],["name","fas-bell","slot","icon-only","aria-hidden","true"],["name","far-bell-slash","slot","icon-only","aria-hidden","true"],["role","status",1,"sr-only"]],template:function CoreRemindersSetButtonComponent_Template(o,e){1&o&&(d.j41(0,"ion-button",0),d.nI1(1,"translate"),d.bIt("click",(function CoreRemindersSetButtonComponent_Template_ion_button_click_0_listener(o){return e.setReminder(o)})),d.DNE(2,CoreRemindersSetButtonComponent_ion_icon_2_Template,1,0,"ion-icon",1)(3,CoreRemindersSetButtonComponent_ion_icon_3_Template,1,0,"ion-icon",2),d.k0s(),d.DNE(4,CoreRemindersSetButtonComponent_span_4_Template,2,1,"span",3)),2&o&&(d.Y8G("ariaLabel",d.i5U(1,4,"core.reminders.setareminderfor",d.l_i(7,_c0,e.title,e.labelClean))),d.R7$(2),d.Y8G("ngIf",void 0!==e.timebefore),d.R7$(),d.Y8G("ngIf",void 0===e.timebefore),d.R7$(),d.Y8G("ngIf",e.reminderMessage))},dependencies:[r.n,p.bT,u.Jm,u.iq,C.t,_.T,f.D9],encapsulation:2}),CoreRemindersSetButtonComponent})();function CoreRemindersDateComponent_core_reminders_set_button_5_Template(o,e){if(1&o&&d.nrm(0,"core-reminders-set-button",2),2&o){const o=d.XpG();d.Y8G("component",o.component)("instanceId",o.instanceId)("type",o.type)("label",o.label)("initialTimebefore",o.timebefore)("time",o.time)("title",o.title)("url",o.url)}}let h=(()=>{var o;class CoreRemindersDateComponent{constructor(){this.label="",this.time=0,this.relativeTo=0,this.title="",this.url="",this.showReminderButton=!1,this.readableTime=""}ngOnInit(){var o=this;return(0,t.A)((function*(){var e;if(o.readableTime=o.getReadableTime(o.time,o.relativeTo),void 0===o.component||void 0===o.instanceId||void 0===o.type)return;const n=i.CoreReminders.isEnabled();if(o.showReminderButton=n&&o.time>l.j.timestamp(),!o.showReminderButton)return;const t=yield i.CoreReminders.getReminders({instanceId:o.instanceId,component:o.component,type:o.type});o.timebefore=null===(e=t[0])||void 0===e?void 0:e.timebefore}))()}getReadableTime(o,e=0){return e?a.HT.instant("core.course.relativedatessubmissionduedate"+(o>e?"after":"before"),{$a:{datediffstr:e===o?`0 ${a.HT.instant("core.secs")}`:l.j.formatTime(e-o,3)}}):l.j.userDate(1e3*o,"core.strftimedatetime",!0)}}return(o=CoreRemindersDateComponent).ɵfac=function CoreRemindersDateComponent_Factory(e){return new(e||o)},o.ɵcmp=d.VBU({type:o,selectors:[["core-reminders-date"]],inputs:{component:"component",instanceId:"instanceId",type:"type",label:"label",time:"time",relativeTo:"relativeTo",title:"title",url:"url"},standalone:!0,features:[d.aNF],decls:6,vars:3,consts:[["name","fas-calendar","aria-hidden","true"],["slot","end",3,"component","instanceId","type","label","initialTimebefore","time","title","url",4,"ngIf"],["slot","end",3,"component","instanceId","type","label","initialTimebefore","time","title","url"]],template:function CoreRemindersDateComponent_Template(o,e){1&o&&(d.j41(0,"div"),d.nrm(1,"ion-icon",0),d.j41(2,"strong"),d.EFF(3),d.k0s(),d.EFF(4),d.k0s(),d.DNE(5,CoreRemindersDateComponent_core_reminders_set_button_5_Template,1,8,"core-reminders-set-button",1)),2&o&&(d.R7$(3),d.JRh(e.label),d.R7$(),d.SpI(" ",e.readableTime,"\n"),d.R7$(),d.Y8G("ngIf",e.showReminderButton))},dependencies:[r.n,p.bT,u.iq,C.t,b],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;margin-top:8px;margin-inline-end:8px}div[_ngcontent-%COMP%]{flex-grow:1;font:var(--mdl-typography-body-font-md);line-height:normal;margin:0;align-self:center}div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:var(--display-icon, inline-block);margin-inline-start:0px;margin-inline-end:4px}"]}),CoreRemindersDateComponent})()}}]);