"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[98054,20644,87552,60185],{67840:(o,e,n)=>{n.d(e,{X:()=>i});var t=n(54438);let i=(()=>{var o;class CoreCourseModuleCompletionBaseComponent{constructor(){this.completionChanged=new t.bkB}ngOnChanges(o){o.completion&&this.completion&&this.calculateData()}calculateData(){}}return(o=CoreCourseModuleCompletionBaseComponent).ɵfac=function CoreCourseModuleCompletionBaseComponent_Factory(e){return new(e||o)},o.ɵcmp=t.VBU({type:o,selectors:[["ng-component"]],inputs:{completion:"completion",moduleId:"moduleId",moduleName:"moduleName"},outputs:{completionChanged:"completionChanged"},features:[t.OA$],decls:0,vars:0,template:function CoreCourseModuleCompletionBaseComponent_Template(o,e){},encapsulation:2}),CoreCourseModuleCompletionBaseComponent})()},87552:(o,e,n)=>{n.r(e),n.d(e,{CoreCourseModuleCompletionLegacyComponent:()=>g});var t=n(10467),i=n(98870),a=n(40867),l=n(79555),r=n(67840),c=n(94247),d=n(49882),s=n(84412),m=n(86654),_=n(54438),u=n(2910),p=n(43570),C=n(60177);function CoreCourseModuleCompletionLegacyComponent_Conditional_0_Conditional_0_Template(o,e){if(1&o){const o=_.RV6();_.j41(0,"ion-button",1),_.nI1(1,"async"),_.bIt("click",(function CoreCourseModuleCompletionLegacyComponent_Conditional_0_Conditional_0_Template_ion_button_click_0_listener(e){_.eBV(o);const n=_.XpG(2);return _.Njj(n.completionClicked(e))})),_.nrm(2,"img",2),_.k0s()}if(2&o){const o=_.XpG(2);_.Y8G("title",_.bMT(1,2,o.completionDescription$)),_.R7$(2),_.Y8G("src",o.completionImage,_.B4B)}}function CoreCourseModuleCompletionLegacyComponent_Conditional_0_Conditional_1_Template(o,e){if(1&o&&(_.nrm(0,"img",3),_.nI1(1,"async")),2&o){const o=_.XpG(2);_.Y8G("src",o.completionImage,_.B4B)("alt",_.bMT(1,2,o.completionDescription$))}}function CoreCourseModuleCompletionLegacyComponent_Conditional_0_Template(o,e){if(1&o&&_.DNE(0,CoreCourseModuleCompletionLegacyComponent_Conditional_0_Conditional_0_Template,3,4,"ion-button",0)(1,CoreCourseModuleCompletionLegacyComponent_Conditional_0_Conditional_1_Template,2,4),2&o){const o=_.XpG();_.vxM(0,1===o.completion.tracking?0:1)}}let g=(()=>{var o;class CoreCourseModuleCompletionLegacyComponent extends r.X{constructor(){super(...arguments),this.completionDescription$=new s.t("")}ngOnInit(){this.completionObserver=d.z.on(d.z.MANUAL_COMPLETION_CHANGED,(o=>{this.completion&&this.completion.cmid==o.completion.cmid&&(this.completion=o.completion,this.calculateData(),this.completionChanged.emit(this.completion))}))}calculateData(){var o=this;return(0,t.A)((function*(){if(!o.completion)return;const e=o.moduleName||"";let n,t;if(1===o.completion.tracking?0===o.completion.state?(t="completion-manual-n",n="core.completion-alt-manual-n"):1===o.completion.state&&(t="completion-manual-y",n="core.completion-alt-manual-y"):2===o.completion.tracking&&(0===o.completion.state?(t="completion-auto-n",n="core.completion-alt-auto-n"):1===o.completion.state?(t="completion-auto-y",n="core.completion-alt-auto-y"):2===o.completion.state?(t="completion-auto-pass",n="core.completion-alt-auto-pass"):3===o.completion.state&&(t="completion-auto-fail",n="core.completion-alt-auto-fail")),t&&(o.completion.overrideby&&o.completion.overrideby>0&&(t+="-override"),o.completionImage=`assets/img/completion/${t}.svg`),!e||!o.moduleId||!n)return;const r=yield a.CoreFilterHelper.getFiltersAndFormatText(e,"module",o.moduleId,{clean:!0,singleLine:!0,shortenLength:50,courseId:o.completion.courseId});let c={$a:r.text};if(o.completion.overrideby&&o.completion.overrideby>0){n+="-override";c={$a:{overrideuser:(yield i.CoreUser.getProfile(o.completion.overrideby,o.completion.courseId,!0)).fullname,modname:r.text}}}o.completionDescription$.next(l.HT.instant(n,c))}))()}completionClicked(o){var e=this;return(0,t.A)((function*(){e.completion&&(o.stopPropagation(),o.preventDefault(),yield c.CoreCourseHelper.changeManualCompletion(e.completion),d.z.trigger(d.z.MANUAL_COMPLETION_CHANGED,{completion:e.completion}))}))()}ngOnDestroy(){var o;null===(o=this.completionObserver)||void 0===o||o.off()}}return(o=CoreCourseModuleCompletionLegacyComponent).ɵfac=(()=>{let e;return function CoreCourseModuleCompletionLegacyComponent_Factory(n){return(e||(e=_.xGo(o)))(n||o)}})(),o.ɵcmp=_.VBU({type:o,selectors:[["core-course-module-completion-legacy"]],standalone:!0,features:[_.Vt3,_.aNF],decls:1,vars:1,consts:[["fill","clear",1,"core-completion-manual",3,"title"],["fill","clear",1,"core-completion-manual",3,"click","title"],["role","presentation","alt","",3,"src"],[1,"core-completion-auto",3,"src","alt"]],template:function CoreCourseModuleCompletionLegacyComponent_Template(o,e){1&o&&_.DNE(0,CoreCourseModuleCompletionLegacyComponent_Conditional_0_Template,2,1),2&o&&_.vxM(0,e.completion?0:-1)},dependencies:[m.n,u.Jm,p.T,C.Jj],styles:["[_nghost-%COMP%]{display:contents;--size: 20px}[_nghost-%COMP%]   img.core-completion-auto[_ngcontent-%COMP%]{margin:6px}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:var(--size);max-width:none;vertical-align:middle}[_nghost-%COMP%]   ion-button.core-completion-manual[_ngcontent-%COMP%]{--padding-top: 0px;--padding-start: 0px;--padding-end: 0px;--padding-bottom: 0px;--a11y-target-min-size: 32px;width:var(--a11y-target-min-size);height:var(--a11y-target-min-size);min-width:var(--a11y-target-min-size);min-height:var(--a11y-target-min-size);margin:0}"]}),CoreCourseModuleCompletionLegacyComponent})()},20644:(o,e,n)=>{n.r(e),n.d(e,{CoreCourseModuleCompletionComponent:()=>h});var t=n(10467),i=n(67840),a=n(24813),l=n(94247),r=n(98870),c=n(79555),d=n(49882),s=n(91416),m=n(86654),_=n(54438),u=n(2910),p=n(86198),C=n(43570),g=n(73955);function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_0_Template(o,e){if(1&o){const o=_.RV6();_.j41(0,"ion-button",1),_.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_0_Template_ion_button_click_0_listener(e){_.eBV(o);const n=_.XpG(4);return _.Njj(n.completionClicked(e))})),_.EFF(1),_.nI1(2,"translate"),_.j41(3,"div",2),_.nrm(4,"div",3),_.k0s()()}2&o&&(_.R7$(),_.SpI(" ",_.bMT(2,1,"core.course.todo")," "))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_1_Template(o,e){if(1&o){const o=_.RV6();_.j41(0,"ion-button",4),_.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_1_Template_ion_button_click_0_listener(e){_.eBV(o);const n=_.XpG(4);return _.Njj(n.completionClicked(e))})),_.nrm(1,"ion-icon",5),_.EFF(2),_.nI1(3,"translate"),_.j41(4,"div",2),_.nrm(5,"div",3),_.k0s()()}2&o&&(_.R7$(2),_.SpI(" ",_.bMT(3,1,"core.course.done")," "))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Template(o,e){if(1&o&&_.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_0_Template,5,3,"ion-button",0)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Conditional_1_Template,6,3),2&o){const o=_.XpG(3);_.vxM(0,o.completed?1:0)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Conditional_4_Template(o,e){1&o&&(_.nrm(0,"ion-icon",8),_.nI1(1,"translate")),2&o&&_.BMQ("aria-label",_.bMT(1,1,"core.course.manualcompletionnotsynced"))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Template(o,e){if(1&o){const o=_.RV6();_.j41(0,"ion-button",7),_.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Template_ion_button_click_0_listener(e){_.eBV(o);const n=_.XpG(4);return _.Njj(n.completionClicked(e))})),_.nrm(1,"ion-icon",5),_.EFF(2),_.nI1(3,"translate"),_.DNE(4,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Conditional_4_Template,2,3,"ion-icon",8),_.k0s()}if(2&o){const o=_.XpG(4);_.Y8G("ariaLabel",o.accessibleDescription),_.R7$(2),_.SpI(" ",_.bMT(3,3,"core.course.completion_manual:done")," "),_.R7$(2),_.vxM(4,o.completion.offline?4:-1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Conditional_3_Template(o,e){1&o&&(_.nrm(0,"ion-icon",8),_.nI1(1,"translate")),2&o&&_.BMQ("aria-label",_.bMT(1,1,"core.course.manualcompletionnotsynced"))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Template(o,e){if(1&o){const o=_.RV6();_.j41(0,"ion-button",9),_.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Template_ion_button_click_0_listener(e){_.eBV(o);const n=_.XpG(4);return _.Njj(n.completionClicked(e))})),_.EFF(1),_.nI1(2,"translate"),_.DNE(3,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Conditional_3_Template,2,3,"ion-icon",8),_.k0s()}if(2&o){const o=_.XpG(4);_.Y8G("ariaLabel",o.accessibleDescription),_.R7$(),_.SpI(" ",_.bMT(2,3,"core.course.completion_manual:markdone")," "),_.R7$(2),_.vxM(3,o.completion.offline?3:-1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Template(o,e){if(1&o&&_.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_0_Template,5,5,"ion-button",6)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Conditional_1_Template,4,5),2&o){const o=_.XpG(3);_.vxM(0,o.completed?0:1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Template(o,e){if(1&o&&_.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_0_Template,2,1)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Conditional_1_Template,2,1),2&o){const o=_.XpG(2);_.vxM(0,o.completion.isautomatic?0:1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_0_Template(o,e){if(1&o){const o=_.RV6();_.j41(0,"ion-button",11),_.bIt("click",(function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_0_Template_ion_button_click_0_listener(e){_.eBV(o);const n=_.XpG(3);return _.Njj(n.completionClicked(e))})),_.EFF(1),_.nI1(2,"translate"),_.j41(3,"div",2),_.nrm(4,"div",3),_.k0s()()}2&o&&(_.R7$(),_.SpI(" ",_.bMT(2,1,"core.course.completionmenuitem")," "))}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_1_Template(o,e){if(1&o&&(_.j41(0,"ion-button",12),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&o){const o=_.XpG(3);_.Y8G("ariaLabel",o.accessibleDescription),_.R7$(),_.SpI(" ",_.bMT(2,2,"core.course.completion_manual:markdone")," ")}}function CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Template(o,e){if(1&o&&_.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_0_Template,5,3,"ion-button",10)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Conditional_1_Template,3,4),2&o){const o=_.XpG(2);_.vxM(0,o.completion.isautomatic?0:1)}}function CoreCourseModuleCompletionComponent_Conditional_0_Template(o,e){if(1&o&&_.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_0_Template,2,1)(1,CoreCourseModuleCompletionComponent_Conditional_0_Conditional_1_Template,2,1),2&o){const o=_.XpG();_.vxM(0,o.completion.istrackeduser?0:1)}}let h=(()=>{var o;class CoreCourseModuleCompletionComponent extends i.X{constructor(){super(...arguments),this.showCompletionConditions=!1,this.showManualCompletion=!1,this.completed=!1,this.accessibleDescription=null,this.showCompletionInfo=!1}ngOnInit(){var o;if(!this.completion)return;const e=!this.completion.isautomatic||((null===(o=this.completion.details)||void 0===o?void 0:o.length)||0)>0;this.showCompletionInfo=e&&(this.showCompletionConditions||this.showManualCompletion),this.showCompletionInfo&&!this.completion.isautomatic&&this.completion.istrackeduser&&(this.completionObserver=d.z.on(d.z.MANUAL_COMPLETION_CHANGED,(o=>{this.completion&&this.completion.cmid==o.completion.cmid&&(this.completion=o.completion,this.calculateData(),this.completionChanged.emit(this.completion))})))}calculateData(){var o=this;return(0,t.A)((function*(){if(!o.completion||!o.completion.istrackeduser)return;const e=l.CoreCourseHelper.getCompletionStatus(o.completion);if(o.completed=0!==e&&3!==e,!o.completion.isautomatic)if(o.completion.overrideby){const e=yield r.CoreUser.getUserFullNameWithDefault(o.completion.overrideby,o.completion.courseId);o.accessibleDescription=c.HT.instant(`core.course.${o.completion.state?"completion_setby:manual:done":"completion_setby:manual:markdone"}`,{$a:{activityname:o.moduleName,setby:e}})}else{o.accessibleDescription=c.HT.instant(`core.course.${o.completion.state?"completion_manual:aria:done":"completion_manual:aria:markdone"}`,{$a:o.moduleName})}}))()}completionClicked(o){var e=this;return(0,t.A)((function*(){if(e.completion&&e.showCompletionInfo)if(o.stopPropagation(),o.preventDefault(),e.completion.isautomatic||!e.completion.istrackeduser){let t=o.target;t&&"ION-BUTTON"!==t.tagName&&(t=t.parentElement);const{CoreCourseModuleCompletionDetailsComponent:i}=yield n.e(22664).then(n.bind(n,22664));a.CorePopovers.openWithoutResult({component:i,componentProps:{completion:e.completion},event:{target:t}})}else yield l.CoreCourseHelper.changeManualCompletion(e.completion),d.z.trigger(d.z.MANUAL_COMPLETION_CHANGED,{completion:e.completion})}))()}ngOnChanges(o){o.completion&&this.completion&&this.completion.istrackeduser&&this.calculateData()}ngOnDestroy(){var o;null===(o=this.completionObserver)||void 0===o||o.off()}}return(o=CoreCourseModuleCompletionComponent).ɵfac=(()=>{let e;return function CoreCourseModuleCompletionComponent_Factory(n){return(e||(e=_.xGo(o)))(n||o)}})(),o.ɵcmp=_.VBU({type:o,selectors:[["core-course-module-completion"]],inputs:{showCompletionConditions:[_.Mj6.HasDecoratorInputTransform,"showCompletionConditions","showCompletionConditions",s.G],showManualCompletion:[_.Mj6.HasDecoratorInputTransform,"showManualCompletion","showManualCompletion",s.G]},standalone:!0,features:[_.GFd,_.Vt3,_.OA$,_.aNF],decls:1,vars:1,consts:[["fill","outline",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap"],["fill","outline",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap",3,"click"],["role","presentation","aria-hidden","true",1,"select-icon"],[1,"select-icon-inner"],["color","success",1,"completioninfo","completion_complete","chip","ion-text-nowrap",3,"click"],["name","fas-check","slot","start","aria-hidden","true"],["color","success",1,"completioninfo","completion_complete","chip","ion-text-nowrap",3,"ariaLabel"],["color","success",1,"completioninfo","completion_complete","chip","ion-text-nowrap",3,"click","ariaLabel"],["name","fas-arrows-rotate","slot","end"],["fill","outline",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap",3,"click","ariaLabel"],["fill","outline",1,"chip","ion-text-nowrap"],["fill","outline",1,"chip","ion-text-nowrap",3,"click"],["fill","outline","disabled","",1,"completioninfo","completion_incomplete","chip","ion-text-nowrap",3,"ariaLabel"]],template:function CoreCourseModuleCompletionComponent_Template(o,e){1&o&&_.DNE(0,CoreCourseModuleCompletionComponent_Conditional_0_Template,2,1),2&o&&_.vxM(0,e.showCompletionInfo&&e.completion?0:-1)},dependencies:[m.n,u.Jm,u.iq,p.t,C.T,g.D9],styles:["[_nghost-%COMP%]{display:block;margin:var(--margin, 4px)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   ion-button.button-solid.ion-color-success[_ngcontent-%COMP%]::part(native){background:var(--ion-color-tint);color:var(--ion-color-shade)}[_nghost-%COMP%]   ion-button.button-solid.ion-color-success.ion-focused[_ngcontent-%COMP%]::part(native){background:var(--ion-color);color:var(--ion-color-contrast)}[_nghost-%COMP%]   ion-button.button-outline[_ngcontent-%COMP%]::part(native){border-color:var(--gray-400)}"]}),CoreCourseModuleCompletionComponent})()},98054:(o,e,n)=>{n.r(e),n.d(e,{CoreCourseModuleComponent:()=>D});var t=n(10467),i=n(54438),a=n(52749),l=n(94247),r=n(44682),c=n(97086),d=n(8979),s=n(74431),m=n(49882),_=n(84412),u=n(91416),p=n(60185),C=n(20644),g=n(87552),h=n(86654),f=n(95384),v=n(60177),M=n(2910),b=n(32572),y=n(86198),T=n(58197),I=n(8199),w=n(35407),O=n(43570),x=n(73955);const _c0=o=>({$a:o});function CoreCourseModuleComponent_ion_card_0_ng_container_1_core_mod_icon_4_Template(o,e){if(1&o&&i.nrm(0,"core-mod-icon",19),2&o){const o=i.XpG(3);i.Y8G("modicon",o.module.handlerData.icon)("modname",o.module.modname)("componentId",o.module.instance)("fallbackTranslation",o.module.modplural)("purpose",o.module.purpose)("isBranded",o.module.branded)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_7_ng_container_1_Template(o,e){1&o&&i.eu8(0)}function CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_7_Template(o,e){if(1&o){const o=i.RV6();i.j41(0,"span",20),i.bIt("ariaButtonClick",(function CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_7_Template_span_ariaButtonClick_0_listener(e){i.eBV(o);const n=i.XpG(3);return i.Njj(n.moduleClicked(e))})),i.DNE(1,CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_7_ng_container_1_Template,1,0,"ng-container",21),i.k0s()}if(2&o){i.XpG();const o=i.sdS(10);i.R7$(),i.Y8G("ngTemplateOutlet",o)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_8_ng_container_0_Template(o,e){1&o&&i.eu8(0)}function CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_8_Template(o,e){if(1&o&&i.DNE(0,CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_8_ng_container_0_Template,1,0,"ng-container",21),2&o){i.XpG();const o=i.sdS(10);i.Y8G("ngTemplateOutlet",o)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_ng_template_9_Template(o,e){if(1&o&&i.nrm(0,"core-format-text",22),2&o){const o=i.XpG(3);i.Y8G("text",o.module.handlerData.title)("contextInstanceId",o.module.id)("courseId",o.module.course),i.BMQ("aria-label",o.module.handlerData.a11yTitle+", "+o.modNameTranslated)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_ion_icon_11_Template(o,e){1&o&&(i.nrm(0,"ion-icon",23),i.nI1(1,"translate")),2&o&&i.BMQ("aria-label",i.bMT(1,1,"core.restricted"))}function CoreCourseModuleComponent_ion_card_0_ng_container_1_ion_icon_12_Template(o,e){if(1&o&&(i.nrm(0,"ion-icon",24),i.nI1(1,"async"),i.nI1(2,"translate")),2&o){const o=e.ngIf,n=i.XpG(3);i.Y8G("name",o),i.BMQ("aria-label",i.bMT(2,4,i.bMT(1,2,n.prefetchStatusText$)||""))}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_14_ion_badge_1_Template(o,e){1&o&&(i.j41(0,"ion-badge",27),i.nrm(1,"ion-icon",28),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&o&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"core.course.hiddenfromstudents")," "))}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_14_ion_badge_2_Template(o,e){1&o&&(i.j41(0,"ion-badge",27),i.nrm(1,"ion-icon",29),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&o&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"core.course.hiddenoncoursepage")," "))}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_14_Template(o,e){if(1&o&&(i.j41(0,"div",25),i.DNE(1,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_14_ion_badge_1_Template,4,3,"ion-badge",26)(2,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_14_ion_badge_2_Template,4,3,"ion-badge",26),i.k0s()),2&o){const o=i.XpG(3);i.R7$(),i.Y8G("ngIf",0===o.module.visible),i.R7$(),i.Y8G("ngIf",0!==o.module.visible&&o.module.isStealth)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_core_course_module_completion_legacy_1_Template(o,e){if(1&o){const o=i.RV6();i.j41(0,"core-course-module-completion-legacy",34),i.bIt("completionChanged",(function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_core_course_module_completion_legacy_1_Template_core_course_module_completion_legacy_completionChanged_0_listener(e){i.eBV(o);const n=i.XpG(4);return i.Njj(n.completionChanged.emit(e))})),i.k0s()}if(2&o){const o=i.XpG(4);i.Y8G("completion",o.module.completiondata)("moduleName",o.module.name)("moduleId",o.module.id)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_core_course_module_completion_2_Template(o,e){if(1&o){const o=i.RV6();i.j41(0,"core-course-module-completion",35),i.bIt("completionChanged",(function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_core_course_module_completion_2_Template_core_course_module_completion_completionChanged_0_listener(e){i.eBV(o);const n=i.XpG(4);return i.Njj(n.completionChanged.emit(e))})),i.k0s()}if(2&o){const o=i.XpG(4);i.Y8G("completion",o.module.completiondata)("moduleName",o.module.name)("moduleId",o.module.id)("showCompletionConditions",o.showCompletionConditions)("showManualCompletion",o.showManualCompletion)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_ion_button_3_Template(o,e){if(1&o){const o=i.RV6();i.j41(0,"ion-button",36),i.nI1(1,"translate"),i.bIt("click",(function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_ion_button_3_Template_ion_button_click_0_listener(e){i.eBV(o);const n=i.XpG(4);return i.Njj(n.buttonClicked(e))})),i.nrm(2,"ion-icon",37),i.k0s()}if(2&o){const o=i.XpG(4);i.Y8G("hidden",o.module.handlerData.button.hidden||o.module.handlerData.spinner),i.BMQ("aria-label",i.i5U(1,3,o.module.handlerData.button.label,i.eq3(6,_c0,o.module.handlerData.title))),i.R7$(2),i.Y8G("name",o.module.handlerData.button.icon)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_ion_button_4_Template(o,e){if(1&o){const o=i.RV6();i.j41(0,"ion-button",36),i.nI1(1,"translate"),i.bIt("click",(function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_ion_button_4_Template_ion_button_click_0_listener(e){i.eBV(o);const n=i.XpG(4);return i.Njj(n.buttonClicked(e))})),i.nrm(2,"ion-icon",37),i.k0s()}if(2&o){const o=i.XpG(4);i.Y8G("hidden",o.module.handlerData.buttons[0].hidden||o.module.handlerData.spinner),i.BMQ("aria-label",i.i5U(1,3,o.module.handlerData.buttons[0].label,i.eq3(6,_c0,o.module.handlerData.title))),i.R7$(2),i.Y8G("name",o.module.handlerData.buttons[0].icon)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_Template(o,e){if(1&o&&(i.j41(0,"div",30),i.DNE(1,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_core_course_module_completion_legacy_1_Template,1,3,"core-course-module-completion-legacy",31)(2,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_core_course_module_completion_2_Template,1,5,"core-course-module-completion",32)(3,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_ion_button_3_Template,3,8,"ion-button",33)(4,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_ion_button_4_Template,3,8,"ion-button",33),i.k0s()),2&o){const o=i.XpG(3);i.R7$(),i.Y8G("ngIf",o.module.completiondata&&o.showLegacyCompletion),i.R7$(),i.Y8G("ngIf",o.hasCompletion&&!o.showLegacyCompletion),i.R7$(),i.Y8G("ngIf",o.module.handlerData.button),i.R7$(),i.Y8G("ngIf",!o.module.handlerData.button&&o.module.handlerData.buttons&&o.module.handlerData.buttons[0])}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_16_core_reminders_date_1_Template(o,e){if(1&o&&i.nrm(0,"core-reminders-date",40),2&o){const o=e.$implicit;i.Y8G("type",o.id)("label",o.label)("time",o.timestamp)("relativeTo",o.relativeto)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_16_Template(o,e){if(1&o&&(i.j41(0,"div",38),i.DNE(1,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_16_core_reminders_date_1_Template,1,4,"core-reminders-date",39),i.k0s()),2&o){const o=i.XpG(3);i.R7$(),i.Y8G("ngForOf",o.module.dates)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_core_course_module_completion_17_Template(o,e){if(1&o){const o=i.RV6();i.j41(0,"core-course-module-completion",41),i.bIt("completionChanged",(function CoreCourseModuleComponent_ion_card_0_ng_container_1_core_course_module_completion_17_Template_core_course_module_completion_completionChanged_0_listener(e){i.eBV(o);const n=i.XpG(3);return i.Njj(n.completionChanged.emit(e))})),i.k0s()}if(2&o){const o=i.XpG(3);i.Y8G("completion",o.module.completiondata)("moduleName",o.module.name)("moduleId",o.module.id)("showCompletionConditions",o.showCompletionConditions)("showManualCompletion",o.showManualCompletion)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_18_core_format_text_1_Template(o,e){if(1&o&&i.nrm(0,"core-format-text",45),2&o){const o=i.XpG(4);i.Y8G("text",o.module.description)("contextInstanceId",o.module.id)("courseId",o.module.course)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_18_div_2_Template(o,e){if(1&o&&(i.j41(0,"div",46),i.nrm(1,"ion-icon",23),i.nI1(2,"translate"),i.nrm(3,"core-format-text",22),i.k0s()),2&o){const o=i.XpG(4);i.R7$(),i.BMQ("aria-label",i.bMT(2,4,"core.restricted")),i.R7$(2),i.Y8G("text",o.module.availabilityinfo)("contextInstanceId",o.module.id)("courseId",o.module.course)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_18_Template(o,e){if(1&o&&(i.j41(0,"div",42),i.DNE(1,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_18_core_format_text_1_Template,1,3,"core-format-text",43)(2,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_18_div_2_Template,4,6,"div",44),i.k0s()),2&o){const o=i.XpG(3);i.Mz_("id","activity-",o.module.id,"-collapsible"),i.Y8G("collapsible-item",64),i.R7$(),i.Y8G("ngIf",o.module.description),i.R7$(),i.Y8G("ngIf",o.showAvailability&&o.module.availabilityinfo)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_19_Template(o,e){if(1&o&&i.nrm(0,"div",47),2&o){const o=i.XpG(3);i.Y8G("innerHTML",o.module.handlerData.extraBadge,i.npT)}}function CoreCourseModuleComponent_ion_card_0_ng_container_1_div_20_Template(o,e){1&o&&(i.j41(0,"div",48),i.nrm(1,"ion-icon",49),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&o&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"core.course.lastaccessedactivity")," "))}function CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_21_Template(o,e){1&o&&i.nrm(0,"ion-ripple-effect")}function CoreCourseModuleComponent_ion_card_0_ng_container_1_Template(o,e){if(1&o&&(i.qex(0),i.j41(1,"ion-item",5)(2,"ion-label")(3,"div",6),i.DNE(4,CoreCourseModuleComponent_ion_card_0_ng_container_1_core_mod_icon_4_Template,1,6,"core-mod-icon",7),i.j41(5,"div",8)(6,"p",9),i.DNE(7,CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_7_Template,2,1,"span")(8,CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_8_Template,1,1)(9,CoreCourseModuleComponent_ion_card_0_ng_container_1_ng_template_9_Template,1,4,"ng-template",null,0,i.C5r)(11,CoreCourseModuleComponent_ion_card_0_ng_container_1_ion_icon_11_Template,2,3,"ion-icon",10)(12,CoreCourseModuleComponent_ion_card_0_ng_container_1_ion_icon_12_Template,3,6,"ion-icon",11),i.nI1(13,"async"),i.k0s(),i.DNE(14,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_14_Template,3,2,"div",12),i.k0s(),i.DNE(15,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_15_Template,5,4,"div",13),i.k0s(),i.DNE(16,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_16_Template,2,1,"div",14)(17,CoreCourseModuleComponent_ion_card_0_ng_container_1_core_course_module_completion_17_Template,1,5,"core-course-module-completion",15)(18,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_18_Template,3,5,"div",16)(19,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_19_Template,1,1,"div",17),i.k0s()(),i.DNE(20,CoreCourseModuleComponent_ion_card_0_ng_container_1_div_20_Template,4,3,"div",18)(21,CoreCourseModuleComponent_ion_card_0_ng_container_1_Conditional_21_Template,1,0,"ion-ripple-effect"),i.bVm()),2&o){const o=i.XpG(2);i.R7$(4),i.Y8G("ngIf",o.module.handlerData.icon),i.R7$(3),i.vxM(7,o.module.handlerData.action&&o.module.uservisible?7:8),i.R7$(4),i.Y8G("ngIf",0===o.module.visible||!1===o.module.uservisible),i.R7$(),i.Y8G("ngIf",i.bMT(13,12,o.prefetchStatusIcon$)),i.R7$(2),i.Y8G("ngIf",0===o.module.visible||0!==o.module.visible&&o.module.isStealth),i.R7$(),i.Y8G("ngIf",!1!==o.module.uservisible),i.R7$(),i.Y8G("ngIf",o.showActivityDates&&(null==o.module.dates?null:o.module.dates.length)),i.R7$(),i.Y8G("ngIf",o.hasCompletion&&!o.showLegacyCompletion),i.R7$(),i.Y8G("ngIf",o.module.description||o.showAvailability&&o.module.availabilityinfo),i.R7$(),i.Y8G("ngIf",o.showExtra&&o.module.handlerData.extraBadge),i.R7$(),i.Y8G("ngIf",o.isLastViewed),i.R7$(),i.vxM(21,o.module.handlerData.action&&o.module.uservisible?21:-1)}}function CoreCourseModuleComponent_ion_card_0_ion_item_2_Template(o,e){if(1&o&&(i.j41(0,"ion-item",50)(1,"ion-label"),i.nrm(2,"ion-spinner"),i.nI1(3,"translate"),i.k0s()()),2&o){const o=i.XpG(2);i.Y8G("detail",!1),i.BMQ("aria-label",o.module.handlerData.a11yTitle),i.R7$(2),i.BMQ("aria-label",i.bMT(3,3,"core.loading"))}}function CoreCourseModuleComponent_ion_card_0_Template(o,e){if(1&o){const o=i.RV6();i.j41(0,"ion-card",2),i.bIt("click",(function CoreCourseModuleComponent_ion_card_0_Template_ion_card_click_0_listener(e){i.eBV(o);const n=i.XpG();return i.Njj(n.moduleClicked(e))})),i.DNE(1,CoreCourseModuleComponent_ion_card_0_ng_container_1_Template,22,14,"ng-container",3)(2,CoreCourseModuleComponent_ion_card_0_ion_item_2_Template,4,5,"ion-item",4),i.k0s()}if(2&o){const o=i.XpG();i.ZvI("activity-card core-course-module-handler ",o.module.handlerData.class,""),i.AVh("core-course-module-with-view",o.moduleHasView)("item-dimmed",0===o.module.visible||!1===o.module.uservisible)("ion-activatable",o.module.handlerData.action&&o.module.uservisible),i.Mz_("id","core-course-module-",o.module.id,""),i.BMQ("tappable",o.module.handlerData.action&&o.module.uservisible?"":null)("aria-label",o.module.handlerData.a11yTitle?o.module.handlerData.a11yTitle:null),i.R7$(),i.Y8G("ngIf",!o.module.handlerData.loading),i.R7$(),i.Y8G("ngIf",o.module.handlerData.loading)}}let D=(()=>{var o;class CoreCourseModuleComponent{constructor(){this.showActivityDates=!1,this.showCompletionConditions=!1,this.showCompletion=!0,this.showAvailability=!0,this.showExtra=!0,this.showDownloadStatus=!0,this.showIndentation=!0,this.isLastViewed=!1,this.completionChanged=new i.bkB,this.indented=!1,this.modNameTranslated="",this.hasCompletion=!1,this.showManualCompletion=!1,this.prefetchStatusIcon$=new _.t(""),this.prefetchStatusText$=new _.t(""),this.moduleHasView=!0}ngOnInit(){var o=this;return(0,t.A)((function*(){var e;const n=a.CoreSites.getRequiredCurrentSite();var t,i;(o.indented=!!(o.showIndentation&&o.module.indent>0)&&(yield r.CoreCourse.isCourseIndentationEnabled(n,o.module.course)),o.modNameTranslated=f.CoreCourseModuleHelper.translateModuleName(o.module.modname,o.module.modplural),o.showCompletion)?(o.showLegacyCompletion=null!==(t=null!==(i=o.showLegacyCompletion)&&void 0!==i?i:s.CoreConstants.CONFIG.uselegacycompletion)&&void 0!==t?t:!n.isVersionGreaterEqualThan("3.11"),o.checkShowCompletion()):(o.showLegacyCompletion=!1,o.showCompletionConditions=!1,o.showManualCompletion=!1,o.hasCompletion=!1);if(o.module.handlerData&&(o.module.handlerData.a11yTitle=null!==(e=o.module.handlerData.a11yTitle)&&void 0!==e?e:o.module.handlerData.title,o.moduleHasView=f.CoreCourseModuleHelper.moduleHasView(o.module),o.showDownloadStatus&&o.module.handlerData.showDownloadButton)){const e=yield d.CoreCourseModulePrefetchDelegate.getDownloadedModuleStatus(o.module,o.module.course);if(o.updateModuleStatus(e),o.prefetchHandler=d.CoreCourseModulePrefetchDelegate.getPrefetchHandlerFor(o.module.modname),!o.prefetchHandler)return;o.moduleStatusObserver=m.z.on(m.z.PACKAGE_STATUS_CHANGED,(e=>{var n;if(o.module.id!=e.componentId||e.component!=(null===(n=o.prefetchHandler)||void 0===n?void 0:n.component))return;let t=e.status;o.prefetchHandler.determineStatus&&(t=o.prefetchHandler.determineStatus(o.module,t,!0)),o.updateModuleStatus(t)}),a.CoreSites.getCurrentSiteId())}}))()}updateModuleStatus(o){var e,n;if(o){switch(o){case s.DownloadStatus.OUTDATED:this.prefetchStatusIcon$.next(s.CoreConstants.ICON_OUTDATED),this.prefetchStatusText$.next("core.outdated");break;case s.DownloadStatus.DOWNLOADED:this.prefetchStatusIcon$.next(s.CoreConstants.ICON_DOWNLOADED),this.prefetchStatusText$.next("core.downloaded");break;default:this.prefetchStatusIcon$.next(""),this.prefetchStatusText$.next("")}null===(e=this.module.handlerData)||void 0===e||null===(n=e.updateStatus)||void 0===n||n.call(e,o)}}checkShowCompletion(){var o=this;return(0,t.A)((function*(){var e;o.showManualCompletion=o.showCompletionConditions||(yield c.CoreCourseModuleDelegate.manualCompletionAlwaysShown(o.module)),o.hasCompletion=!!o.module.completiondata&&o.module.uservisible&&(!o.module.completiondata.isautomatic||((null===(e=o.module.completiondata.details)||void 0===e?void 0:e.length)||0)>0)&&(o.showCompletionConditions||o.showManualCompletion)}))()}moduleClicked(o){var e;l.CoreCourseHelper.canUserViewModule(this.module,this.section)&&null!==(e=this.module.handlerData)&&void 0!==e&&e.action&&this.module.handlerData.action(o,this.module,this.module.course)}buttonClicked(o){var e,n,t;const i=null!==(e=null===(n=this.module.handlerData)||void 0===n?void 0:n.button)&&void 0!==e?e:null===(t=this.module.handlerData)||void 0===t||null===(t=t.buttons)||void 0===t?void 0:t[0];i&&i.action&&(o.preventDefault(),o.stopPropagation(),i.action(o,this.module,this.module.course))}ngOnDestroy(){var o,e,n;null===(o=this.module.handlerData)||void 0===o||null===(e=o.onDestroy)||void 0===e||e.call(o),null===(n=this.moduleStatusObserver)||void 0===n||n.off()}}return(o=CoreCourseModuleComponent).ɵfac=function CoreCourseModuleComponent_Factory(e){return new(e||o)},o.ɵcmp=i.VBU({type:o,selectors:[["core-course-module"]],hostVars:2,hostBindings:function CoreCourseModuleComponent_HostBindings(o,e){2&o&&i.AVh("indented",e.indented)},inputs:{module:"module",section:"section",showActivityDates:[i.Mj6.HasDecoratorInputTransform,"showActivityDates","showActivityDates",u.G],showCompletionConditions:[i.Mj6.HasDecoratorInputTransform,"showCompletionConditions","showCompletionConditions",u.G],showLegacyCompletion:[i.Mj6.HasDecoratorInputTransform,"showLegacyCompletion","showLegacyCompletion",u.G],showCompletion:[i.Mj6.HasDecoratorInputTransform,"showCompletion","showCompletion",u.G],showAvailability:[i.Mj6.HasDecoratorInputTransform,"showAvailability","showAvailability",u.G],showExtra:[i.Mj6.HasDecoratorInputTransform,"showExtra","showExtra",u.G],showDownloadStatus:[i.Mj6.HasDecoratorInputTransform,"showDownloadStatus","showDownloadStatus",u.G],showIndentation:[i.Mj6.HasDecoratorInputTransform,"showIndentation","showIndentation",u.G],isLastViewed:[i.Mj6.HasDecoratorInputTransform,"isLastViewed","isLastViewed",u.G]},outputs:{completionChanged:"completionChanged"},standalone:!0,features:[i.GFd,i.aNF],decls:1,vars:1,consts:[["title",""],[3,"class","core-course-module-with-view","item-dimmed","ion-activatable","id","click",4,"ngIf"],[3,"click","id"],[4,"ngIf"],["role","status","class","ion-text-wrap core-module-loading",3,"detail",4,"ngIf"],[1,"ion-text-wrap"],[1,"activity-main"],[3,"modicon","modname","componentId","fallbackTranslation","purpose","isBranded",4,"ngIf"],[1,"activity-title"],[1,"item-heading"],["name","fas-lock",4,"ngIf"],["color","success",3,"name",4,"ngIf"],["class","core-module-additional-info",4,"ngIf"],["class","core-module-buttons",4,"ngIf"],["class","activity-dates activity-extra",4,"ngIf"],["class","activity-extra",3,"completion","moduleName","moduleId","showCompletionConditions","showManualCompletion","completionChanged",4,"ngIf"],["class","ion-text-wrap activity-description-availabilityinfo activity-extra",3,"id","collapsible-item",4,"ngIf"],["class","ion-text-wrap activity-extrabadges activity-extra",3,"innerHTML",4,"ngIf"],["class","core-course-last-module-viewed colored-box-with-icon",4,"ngIf"],[3,"modicon","modname","componentId","fallbackTranslation","purpose","isBranded"],[3,"ariaButtonClick"],[4,"ngTemplateOutlet"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["name","fas-lock"],["color","success",3,"name"],[1,"core-module-additional-info"],["color","secondary","class","ion-text-wrap",4,"ngIf"],["color","secondary",1,"ion-text-wrap"],["name","far-eye-slash","aria-hidden","true"],["name","fas-eye-low-vision","aria-hidden","true"],[1,"core-module-buttons"],[3,"completion","moduleName","moduleId","completionChanged",4,"ngIf"],[3,"completion","moduleName","moduleId","showCompletionConditions","showManualCompletion","completionChanged",4,"ngIf"],["fill","clear","class","core-module-button-more core-animate-show-hide",3,"hidden","click",4,"ngIf"],[3,"completionChanged","completion","moduleName","moduleId"],[3,"completionChanged","completion","moduleName","moduleId","showCompletionConditions","showManualCompletion"],["fill","clear",1,"core-module-button-more","core-animate-show-hide",3,"click","hidden"],["slot","icon-only","aria-hidden","true",3,"name"],[1,"activity-dates","activity-extra"],[3,"type","label","time","relativeTo",4,"ngFor","ngForOf"],[3,"type","label","time","relativeTo"],[1,"activity-extra",3,"completionChanged","completion","moduleName","moduleId","showCompletionConditions","showManualCompletion"],[1,"ion-text-wrap","activity-description-availabilityinfo","activity-extra",3,"id","collapsible-item"],["class","core-module-description","contextLevel","module",3,"text","contextInstanceId","courseId",4,"ngIf"],["class","core-module-availabilityinfo colored-box-with-icon",4,"ngIf"],["contextLevel","module",1,"core-module-description",3,"text","contextInstanceId","courseId"],[1,"core-module-availabilityinfo","colored-box-with-icon"],[1,"ion-text-wrap","activity-extrabadges","activity-extra",3,"innerHTML"],[1,"core-course-last-module-viewed","colored-box-with-icon"],["name","fas-eye","aria-hidden","true"],["role","status",1,"ion-text-wrap","core-module-loading",3,"detail"]],template:function CoreCourseModuleComponent_Template(o,e){1&o&&i.DNE(0,CoreCourseModuleComponent_ion_card_0_Template,3,15,"ion-card",1),2&o&&i.Y8G("ngIf",e.module.handlerData&&0!==e.module.visibleoncoursepage)},dependencies:[h.n,v.Sq,v.bT,v.T3,M.In,M.Jm,M.b_,M.iq,M.uz,M.he,M.S7,M.w2,b.I,y.t,T.B,I.a,w.K,O.T,v.Jj,x.D9,g.CoreCourseModuleCompletionLegacyComponent,C.CoreCourseModuleCompletionComponent,p.CoreRemindersDateComponent],styles:["[_nghost-%COMP%]{--horizontal-spacing: var(--mdl-spacing-4);--vertical-spacing: var(--mdl-spacing-2);--colored-box-padding: var(--mdl-spacing-2);--card-border-width: 0px;--card-radius: 0px;--card-background: transparent;--activity-border: 1px solid var(--stroke);--card-padding-bottom: var(--vertical-spacing)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:var(--vertical-spacing) var(--horizontal-spacing);padding:0;--ion-card-border-width: var(--card-border-width);--ion-card-radius: var(--card-radius);--ion-card-background: var(--card-background);padding-bottom:var(--card-padding-bottom);border-bottom:var(--activity-border)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0px;--inner-padding-end: 0px;--background: transparent}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]{--min-height: 52px;display:flex;flex-direction:row}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   core-mod-icon[_ngcontent-%COMP%]{--module-icon-padding: 0px;--module-legacy-icon-padding: 4px;--module-icon-radius: var(--mdl-shape-borderRadius-xs);margin-inline-end:8px;align-self:self-start}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .activity-title[_ngcontent-%COMP%]{flex-grow:1;align-self:center;margin-inline-end:var(--horizontal-spacing)}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .activity-title[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-start:8px;vertical-align:middle}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .core-module-buttons[_ngcontent-%COMP%]{align-self:self-start;display:flex;flex-flow:row;align-items:center;z-index:1;justify-content:flex-end;align-content:center}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .core-module-buttons[_ngcontent-%COMP%]   ion-button.core-module-button-more[_ngcontent-%COMP%]{cursor:pointer;pointer-events:auto;margin:0 8px;--a11y-target-min-size: 32px;width:var(--a11y-target-min-size);height:var(--a11y-target-min-size);min-width:var(--a11y-target-min-size);min-height:var(--a11y-target-min-size);--padding-start: 0px;--padding-end: 0px}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .core-module-buttons[_ngcontent-%COMP%]   ion-button.core-module-button-more[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mdl-typography-icon-fontSize-md)}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .core-module-buttons[_ngcontent-%COMP%]   core-course-module-completion[_ngcontent-%COMP%]{--margin: 0px}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   core-mod-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .activity-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .core-module-buttons[_ngcontent-%COMP%]{margin-top:var(--vertical-spacing);margin-bottom:var(--vertical-spacing)}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .core-module-additional-info[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;margin-top:4px;margin-bottom:4px}[_nghost-%COMP%]   .activity-main[_ngcontent-%COMP%]   .core-module-additional-info[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-inline-end:4px;font:var(--mdl-typography-body-font-sm)}[_nghost-%COMP%]   .core-module-description[_ngcontent-%COMP%]     img, [_nghost-%COMP%]   .activity-title[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]     img{border-radius:var(--mdl-shape-borderRadius-lg)}[_nghost-%COMP%]   core-course-module-completion[_ngcontent-%COMP%]{--margin: var(--vertical-spacing) 0px}[_nghost-%COMP%]   .activity-dates[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}[_nghost-%COMP%]   .activity-dates[_ngcontent-%COMP%]   core-reminders-date[_ngcontent-%COMP%]{--display-icon: none}[_nghost-%COMP%]   .activity-description-availabilityinfo[_ngcontent-%COMP%], [_nghost-%COMP%]   .activity-extrabadges[_ngcontent-%COMP%]{margin-top:var(--vertical-spacing);margin-bottom:var(--vertical-spacing)}[_nghost-%COMP%]   .core-module-description[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .activity-extrabadges[_ngcontent-%COMP%]{font:var(--mdl-typography-body-font-md);color:var(--medium);border:1px solid var(--stroke);border-radius:var(--mdl-shape-borderRadius-sm);padding:var(--mdl-spacing-2) var(--mdl-spacing-3) var(--mdl-spacing-2) var(--mdl-spacing-3)}[_nghost-%COMP%]   .activity-description-availabilityinfo[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]{background:var(--gray-300);font:var(--mdl-typography-label-font-lg)}[_nghost-%COMP%]   .activity-description-availabilityinfo[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]     ul{margin-top:8px;margin-bottom:0}[_nghost-%COMP%]   .activity-description-availabilityinfo[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]     ul li{margin-bottom:4px}[_nghost-%COMP%]   .core-module-loading[_ngcontent-%COMP%]{width:100%;text-align:center;padding-top:10px;clear:both}[_nghost-%COMP%]   .colored-box-with-icon[_ngcontent-%COMP%]{margin-top:var(--vertical-spacing);margin-bottom:var(--vertical-spacing);border:0px;padding:var(--colored-box-padding);border-radius:var(--mdl-shape-borderRadius-sm)}[_nghost-%COMP%]   .colored-box-with-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:var(--mdl-spacing-2);margin-top:auto;margin-bottom:auto}[_nghost-%COMP%]   .colored-box-with-icon.core-course-last-module-viewed[_ngcontent-%COMP%]{display:flex;background-color:var(--info-tint);color:var(--info-shade);font:var(--mdl-typography-label-font-md)}@media (max-width: 767.98px){[_nghost-%COMP%]   .core-module-buttons[_ngcontent-%COMP%]   core-course-module-completion[_ngcontent-%COMP%]{display:none}}@media (min-width: 768px){[_nghost-%COMP%]   core-course-module-completion.activity-extra[_ngcontent-%COMP%]{display:none}}.indented[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{margin-inline-start:calc(var(--horizontal-spacing) + 1rem)}[_nghost-%COMP%]   core-format-text.core-module-description[_ngcontent-%COMP%]     .description-inner .navitem{display:none}:root.dark[_nghost-%COMP%]   .activity-description-availabilityinfo[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%], :root.dark   [_nghost-%COMP%]   .activity-description-availabilityinfo[_ngcontent-%COMP%]   .core-module-availabilityinfo[_ngcontent-%COMP%]{background:var(--gray-800)}"]}),CoreCourseModuleComponent})()},60185:(o,e,n)=>{n.r(e),n.d(e,{CoreRemindersDateComponent:()=>f});var t=n(10467),i=n(21604),a=n(24742),l=n(79555),r=n(86654),c=n(24813),d=n(47551),s=n(43959),m=n(54438),_=n(60177),u=n(2910),p=n(86198),C=n(43570),g=n(73955);const _c0=(o,e)=>({title:o,label:e});function CoreRemindersSetButtonComponent_ion_icon_2_Template(o,e){1&o&&m.nrm(0,"ion-icon",4)}function CoreRemindersSetButtonComponent_ion_icon_3_Template(o,e){1&o&&m.nrm(0,"ion-icon",5)}function CoreRemindersSetButtonComponent_span_4_Template(o,e){if(1&o&&(m.j41(0,"span",6),m.EFF(1),m.k0s()),2&o){const o=m.XpG();m.R7$(),m.JRh(o.reminderMessage)}}let h=(()=>{var o;class CoreRemindersSetButtonComponent{constructor(){this.label="",this.time=-1,this.title="",this.url="",this.labelClean=""}ngOnInit(){this.labelClean=this.label.replace(":",""),this.setTimebefore(this.initialTimebefore)}setReminder(o){var e=this;return(0,t.A)((function*(){if(void 0===e.component||void 0===e.instanceId||void 0===e.type)return;if(o.preventDefault(),o.stopPropagation(),void 0===e.timebefore)return e.saveReminder(0),void 0;const{CoreRemindersSetReminderMenuComponent:t}=yield n.e(64260).then(n.bind(n,64260)),i=yield c.CorePopovers.open({component:t,componentProps:{initialValue:e.timebefore,eventTime:e.time,noReminderLabel:"core.reminders.delete"},event:o});void 0!==i&&e.saveReminder(i.timeBefore)}))()}setTimebefore(o){if(this.timebefore=o,void 0!==this.timebefore){this.reminderMessage=l.HT.instant("core.reminders.reminderset",{$a:a.j.userDate(1e3*(this.time-this.timebefore))})}else this.reminderMessage=void 0}saveReminder(o){var e=this;return(0,t.A)((function*(){if(void 0===e.component||void 0===e.instanceId||void 0===e.type)return;if(yield i.CoreReminders.removeReminders({instanceId:e.instanceId,component:e.component,type:e.type}),void 0===o||o===s.Nc)return e.setTimebefore(void 0),d.CoreToasts.show({message:"core.reminders.reminderunset",translateMessage:!0}),void 0;e.setTimebefore(o);const n={timebefore:o,component:e.component,instanceId:e.instanceId,type:e.type,title:`${e.label} ${e.title}`,url:e.url,time:e.time};yield i.CoreReminders.addReminder(n);const t=l.HT.instant("core.reminders.reminderset",{$a:a.j.userDate(1e3*(e.time-o))});d.CoreToasts.show({message:t})}))()}}return(o=CoreRemindersSetButtonComponent).ɵfac=function CoreRemindersSetButtonComponent_Factory(e){return new(e||o)},o.ɵcmp=m.VBU({type:o,selectors:[["core-reminders-set-button"]],inputs:{component:"component",instanceId:"instanceId",type:"type",label:"label",initialTimebefore:"initialTimebefore",time:"time",title:"title",url:"url"},standalone:!0,features:[m.aNF],decls:5,vars:10,consts:[["fill","clear","size","small",3,"click","ariaLabel"],["name","fas-bell","slot","icon-only","aria-hidden","true",4,"ngIf"],["name","far-bell-slash","slot","icon-only","aria-hidden","true",4,"ngIf"],["class","sr-only","role","status",4,"ngIf"],["name","fas-bell","slot","icon-only","aria-hidden","true"],["name","far-bell-slash","slot","icon-only","aria-hidden","true"],["role","status",1,"sr-only"]],template:function CoreRemindersSetButtonComponent_Template(o,e){1&o&&(m.j41(0,"ion-button",0),m.nI1(1,"translate"),m.bIt("click",(function CoreRemindersSetButtonComponent_Template_ion_button_click_0_listener(o){return e.setReminder(o)})),m.DNE(2,CoreRemindersSetButtonComponent_ion_icon_2_Template,1,0,"ion-icon",1)(3,CoreRemindersSetButtonComponent_ion_icon_3_Template,1,0,"ion-icon",2),m.k0s(),m.DNE(4,CoreRemindersSetButtonComponent_span_4_Template,2,1,"span",3)),2&o&&(m.Y8G("ariaLabel",m.i5U(1,4,"core.reminders.setareminderfor",m.l_i(7,_c0,e.title,e.labelClean))),m.R7$(2),m.Y8G("ngIf",void 0!==e.timebefore),m.R7$(),m.Y8G("ngIf",void 0===e.timebefore),m.R7$(),m.Y8G("ngIf",e.reminderMessage))},dependencies:[r.n,_.bT,u.Jm,u.iq,p.t,C.T,g.D9],encapsulation:2}),CoreRemindersSetButtonComponent})();function CoreRemindersDateComponent_core_reminders_set_button_5_Template(o,e){if(1&o&&m.nrm(0,"core-reminders-set-button",2),2&o){const o=m.XpG();m.Y8G("component",o.component)("instanceId",o.instanceId)("type",o.type)("label",o.label)("initialTimebefore",o.timebefore)("time",o.time)("title",o.title)("url",o.url)}}let f=(()=>{var o;class CoreRemindersDateComponent{constructor(){this.label="",this.time=0,this.relativeTo=0,this.title="",this.url="",this.showReminderButton=!1,this.readableTime=""}ngOnInit(){var o=this;return(0,t.A)((function*(){var e;if(o.readableTime=o.getReadableTime(o.time,o.relativeTo),void 0===o.component||void 0===o.instanceId||void 0===o.type)return;const n=i.CoreReminders.isEnabled();if(o.showReminderButton=n&&o.time>a.j.timestamp(),!o.showReminderButton)return;const t=yield i.CoreReminders.getReminders({instanceId:o.instanceId,component:o.component,type:o.type});o.timebefore=null===(e=t[0])||void 0===e?void 0:e.timebefore}))()}getReadableTime(o,e=0){return e?l.HT.instant("core.course.relativedatessubmissionduedate"+(o>e?"after":"before"),{$a:{datediffstr:e===o?`0 ${l.HT.instant("core.secs")}`:a.j.formatTime(e-o,3)}}):a.j.userDate(1e3*o,"core.strftimedatetime",!0)}}return(o=CoreRemindersDateComponent).ɵfac=function CoreRemindersDateComponent_Factory(e){return new(e||o)},o.ɵcmp=m.VBU({type:o,selectors:[["core-reminders-date"]],inputs:{component:"component",instanceId:"instanceId",type:"type",label:"label",time:"time",relativeTo:"relativeTo",title:"title",url:"url"},standalone:!0,features:[m.aNF],decls:6,vars:3,consts:[["name","fas-calendar","aria-hidden","true"],["slot","end",3,"component","instanceId","type","label","initialTimebefore","time","title","url",4,"ngIf"],["slot","end",3,"component","instanceId","type","label","initialTimebefore","time","title","url"]],template:function CoreRemindersDateComponent_Template(o,e){1&o&&(m.j41(0,"div"),m.nrm(1,"ion-icon",0),m.j41(2,"strong"),m.EFF(3),m.k0s(),m.EFF(4),m.k0s(),m.DNE(5,CoreRemindersDateComponent_core_reminders_set_button_5_Template,1,8,"core-reminders-set-button",1)),2&o&&(m.R7$(3),m.JRh(e.label),m.R7$(),m.SpI(" ",e.readableTime,"\n"),m.R7$(),m.Y8G("ngIf",e.showReminderButton))},dependencies:[r.n,_.bT,u.iq,p.t,h],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;margin-top:8px;margin-inline-end:8px}div[_ngcontent-%COMP%]{flex-grow:1;font:var(--mdl-typography-body-font-md);line-height:normal;margin:0;align-self:center}div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:var(--display-icon, inline-block);margin-inline-start:0px;margin-inline-end:4px}"]}),CoreRemindersDateComponent})()}}]);