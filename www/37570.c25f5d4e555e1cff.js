"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[37570],{15189:(e,t,o)=>{o.r(t),o.d(t,{default:()=>G});var n=o(10467),i=o(15324),c=o(49697),r=o(2401),s=o(83696),a=o(74094),_=o(24742),p=o(22693),m=o(52749),d=o(79555),u=o(25572),l=o(86654),C=o(54438),g=o(60177),f=o(2910),h=o(16986),y=o(64422),I=o(32572),v=o(49234),R=o(16658),T=o(58197),$=o(23007),b=o(88246),A=o(73955);const _c0=(e,t)=>({x:e,y:t}),_c1=e=>({$a:e});function AddonCompetencyCourseCompetenciesPage_ion_card_14_ng_container_1_ion_item_1_Template(e,t){1&e&&(C.j41(0,"ion-item",11)(1,"ion-label"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&e&&(C.R7$(2),C.JRh(C.bMT(3,1,"addon.competency.coursecompetencyratingsarepushedtouserplans")))}function AddonCompetencyCourseCompetenciesPage_ion_card_14_ng_container_1_ion_item_2_Template(e,t){1&e&&(C.j41(0,"ion-item",12)(1,"ion-label"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&e&&(C.R7$(2),C.JRh(C.bMT(3,1,"addon.competency.coursecompetencyratingsarenotpushedtouserplans")))}function AddonCompetencyCourseCompetenciesPage_ion_card_14_ng_container_1_Template(e,t){if(1&e&&(C.qex(0),C.DNE(1,AddonCompetencyCourseCompetenciesPage_ion_card_14_ng_container_1_ion_item_1_Template,4,3,"ion-item",9)(2,AddonCompetencyCourseCompetenciesPage_ion_card_14_ng_container_1_ion_item_2_Template,4,3,"ion-item",10),C.bVm()),2&e){const e=C.XpG(2);C.R7$(),C.Y8G("ngIf",e.courseCompetencies.settings.pushratingstouserplans),C.R7$(),C.Y8G("ngIf",!e.courseCompetencies.settings.pushratingstouserplans)}}function AddonCompetencyCourseCompetenciesPage_ion_card_14_ion_item_2_Template(e,t){if(1&e&&(C.j41(0,"ion-item",11)(1,"ion-label")(2,"span",13),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.nrm(5,"core-progress-bar",14),C.k0s()()),2&e){const e=C.XpG(2);C.R7$(2),C.Mz_("id","addon-competency-course-",e.courseId,"-progress"),C.R7$(),C.SpI(" ",C.i5U(4,6,"addon.competency.xcompetenciesproficientoutofyincourse",C.eq3(12,_c1,C.l_i(9,_c0,e.courseCompetencies.statistics.proficientcompetencycount,e.courseCompetencies.statistics.competencycount)))," "),C.R7$(2),C.Mz_("ariaDescribedBy","addon-competency-course-",e.courseId,"-progress"),C.Y8G("progress",e.courseCompetencies.statistics.proficientcompetencypercentage)}}function AddonCompetencyCourseCompetenciesPage_ion_card_14_ion_item_3_p_5_Template(e,t){if(1&e){const e=C.RV6();C.j41(0,"p")(1,"button",17),C.bIt("click",(function AddonCompetencyCourseCompetenciesPage_ion_card_14_ion_item_3_p_5_Template_button_click_1_listener(){const t=C.eBV(e).$implicit,o=C.XpG(3);return C.Njj(o.openCompetencySummary(t.id))})),C.nrm(2,"core-format-text",18),C.EFF(3),C.k0s()()}if(2&e){const e=t.$implicit,o=C.XpG(3);C.R7$(2),C.Y8G("text",e.shortname)("contextInstanceId",o.courseId),C.R7$(),C.SpI(" - ",e.idnumber," ")}}function AddonCompetencyCourseCompetenciesPage_ion_card_14_ion_item_3_Template(e,t){if(1&e&&(C.j41(0,"ion-item",11)(1,"ion-label")(2,"p",15),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.DNE(5,AddonCompetencyCourseCompetenciesPage_ion_card_14_ion_item_3_p_5_Template,4,3,"p",16),C.k0s()()),2&e){const e=C.XpG(2);C.R7$(3),C.JRh(C.bMT(4,2,"addon.competency.competenciesmostoftennotproficientincourse")),C.R7$(2),C.Y8G("ngForOf",e.courseCompetencies.statistics.leastproficient)}}function AddonCompetencyCourseCompetenciesPage_ion_card_14_Template(e,t){if(1&e&&(C.j41(0,"ion-card"),C.DNE(1,AddonCompetencyCourseCompetenciesPage_ion_card_14_ng_container_1_Template,3,2,"ng-container",6)(2,AddonCompetencyCourseCompetenciesPage_ion_card_14_ion_item_2_Template,6,14,"ion-item",9)(3,AddonCompetencyCourseCompetenciesPage_ion_card_14_ion_item_3_Template,6,4,"ion-item",9),C.k0s()),2&e){const e=C.XpG();C.R7$(),C.Y8G("ngIf",e.courseCompetencies.cangradecompetencies),C.R7$(),C.Y8G("ngIf",e.courseCompetencies.statistics.canbegradedincourse),C.R7$(),C.Y8G("ngIf",e.courseCompetencies.statistics.canmanagecoursecompetencies&&e.courseCompetencies.statistics.leastproficientcount>0)}}function AddonCompetencyCourseCompetenciesPage_h2_15_Template(e,t){1&e&&(C.j41(0,"h2",19),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"addon.competency.coursecompetencies")," "))}function AddonCompetencyCourseCompetenciesPage_ion_card_16_Template(e,t){if(1&e&&(C.j41(0,"ion-card")(1,"ion-item",11),C.nrm(2,"core-user-avatar",20),C.j41(3,"ion-label")(4,"p",15),C.EFF(5),C.k0s()()()()),2&e){const e=C.XpG();C.R7$(2),C.Y8G("user",e.user),C.R7$(3),C.JRh(e.user.fullname)}}function AddonCompetencyCourseCompetenciesPage_core_empty_box_17_Template(e,t){1&e&&(C.nrm(0,"core-empty-box",21),C.nI1(1,"translate")),2&e&&C.FS9("message",C.bMT(1,1,"addon.competency.nocompetenciesincourse"))}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ion_badge_7_Template(e,t){if(1&e&&(C.j41(0,"ion-badge",26),C.EFF(1),C.k0s()),2&e){const e=C.XpG().$implicit;C.Y8G("color",e.usercompetencycourse.proficiency?"success":"danger"),C.R7$(),C.SpI(" ",e.usercompetencycourse.gradename," ")}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_p_10_Template(e,t){if(1&e&&(C.j41(0,"p"),C.nrm(1,"core-format-text",18),C.k0s()),2&e){const e=C.XpG().$implicit,t=C.XpG(2);C.R7$(),C.Y8G("text",e.competency.description)("contextInstanceId",t.courseId)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_a_16_Template(e,t){if(1&e&&(C.j41(0,"a",27),C.nrm(1,"core-format-text",18),C.k0s()),2&e){const e=C.XpG().$implicit,t=C.XpG(2);C.Y8G("href",t.getCompetencyFrameworkUrl(e),C.B4B)("title",e.comppath.framework.name),C.R7$(),C.Y8G("text",e.comppath.framework.name)("contextInstanceId",t.courseId)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_17_Template(e,t){if(1&e&&(C.qex(0),C.nrm(1,"core-format-text",18),C.bVm()),2&e){const e=C.XpG().$implicit,t=C.XpG(2);C.R7$(),C.Y8G("text",e.comppath.framework.name)("contextInstanceId",t.courseId)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_button_1_Template(e,t){if(1&e){const e=C.RV6();C.j41(0,"button",17),C.bIt("click",(function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_button_1_Template_button_click_0_listener(){C.eBV(e);const t=C.XpG().$implicit,o=C.XpG(3);return C.Njj(o.openCompetencySummary(t.id))})),C.nrm(1,"core-format-text",18),C.k0s()}if(2&e){const e=C.XpG().$implicit,t=C.XpG(3);C.R7$(),C.Y8G("text",e.name)("contextInstanceId",t.courseId)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_ng_container_2_Template(e,t){if(1&e&&(C.qex(0),C.nrm(1,"core-format-text",18),C.bVm()),2&e){const e=C.XpG().$implicit,t=C.XpG(3);C.R7$(),C.Y8G("text",e.name)("contextInstanceId",t.courseId)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_ng_container_3_Template(e,t){1&e&&(C.qex(0),C.EFF(1," / "),C.bVm())}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_Template(e,t){if(1&e&&(C.qex(0),C.DNE(1,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_button_1_Template,2,2,"button",28)(2,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_ng_container_2_Template,2,2,"ng-container",6)(3,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_ng_container_3_Template,2,0,"ng-container",6),C.bVm()),2&e){const e=t.$implicit,o=C.XpG().$implicit;C.R7$(),C.Y8G("ngIf",o.comppath.showlinks),C.R7$(),C.Y8G("ngIf",!o.comppath.showlinks),C.R7$(),C.Y8G("ngIf",!e.last)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_20_ng_container_4_span_1_Template(e,t){if(1&e&&(C.j41(0,"span"),C.EFF(1),C.k0s()),2&e){const e=C.XpG().$implicit;C.R7$(),C.JRh(e.text)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_20_ng_container_4_Template(e,t){if(1&e&&(C.qex(0),C.DNE(1,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_20_ng_container_4_span_1_Template,2,1,"span",6),C.bVm()),2&e){const e=t.$implicit;C.R7$(),C.Y8G("ngIf",e.selected)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_20_Template(e,t){if(1&e&&(C.j41(0,"div")(1,"p",15),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.DNE(4,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_20_ng_container_4_Template,2,1,"ng-container",16),C.k0s()),2&e){const e=C.XpG().$implicit;C.R7$(2),C.JRh(C.bMT(3,2,"addon.competency.uponcoursecompletion")),C.R7$(2),C.Y8G("ngForOf",e.ruleoutcomeoptions)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_p_25_Template(e,t){1&e&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"addon.competency.noactivities")," "))}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ion_item_26_core_mod_icon_1_Template(e,t){if(1&e&&C.nrm(0,"core-mod-icon",32),2&e){const e=C.XpG().$implicit;C.Y8G("modicon",e.iconurl)("showAlt",!1)("colorize",!1)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ion_item_26_Template(e,t){if(1&e&&(C.j41(0,"ion-item",29),C.DNE(1,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ion_item_26_core_mod_icon_1_Template,1,3,"core-mod-icon",30),C.j41(2,"ion-label"),C.nrm(3,"core-format-text",31),C.k0s()()),2&e){const e=t.$implicit,o=C.XpG(3);C.Y8G("href",e.url),C.BMQ("aria-label",e.name),C.R7$(),C.Y8G("ngIf",e.iconurl),C.R7$(2),C.Y8G("text",e.name)("contextInstanceId",e.id)("courseId",o.courseId)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_27_p_4_Template(e,t){1&e&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"addon.competency.nouserplanswithcompetency")," "))}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_27_ion_item_5_Template(e,t){if(1&e&&(C.j41(0,"ion-item",34)(1,"ion-label"),C.nrm(2,"core-format-text",35),C.k0s()()),2&e){const e=t.$implicit;C.Y8G("href",e.url),C.BMQ("aria-label",e.name),C.R7$(2),C.Y8G("text",e.name)("contextInstanceId",e.userid)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_27_Template(e,t){if(1&e&&(C.j41(0,"div")(1,"p",15),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.DNE(4,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_27_p_4_Template,3,3,"p",6)(5,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_27_ion_item_5_Template,3,4,"ion-item",33),C.k0s()),2&e){const e=C.XpG().$implicit;C.R7$(2),C.JRh(C.bMT(3,3,"addon.competency.userplans")),C.R7$(2),C.Y8G("ngIf",0===e.plans.length),C.R7$(),C.Y8G("ngForOf",e.plans)}}function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_Template(e,t){if(1&e){const e=C.RV6();C.j41(0,"ion-card")(1,"ion-item",22),C.bIt("click",(function AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_Template_ion_item_click_1_listener(){const t=C.eBV(e).$implicit,o=C.XpG(2);return C.Njj(o.competencies.select(t))})),C.j41(2,"ion-label")(3,"p",15),C.nrm(4,"core-format-text",18),C.j41(5,"em"),C.EFF(6),C.k0s()()(),C.DNE(7,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ion_badge_7_Template,2,2,"ion-badge",23),C.k0s(),C.j41(8,"ion-item",11)(9,"ion-label"),C.DNE(10,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_p_10_Template,2,2,"p",6),C.j41(11,"div")(12,"p",15),C.EFF(13),C.nI1(14,"translate"),C.k0s(),C.j41(15,"p"),C.DNE(16,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_a_16_Template,2,4,"a",24)(17,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_17_Template,2,2,"ng-container",6),C.EFF(18,"  /  "),C.DNE(19,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ng_container_19_Template,4,3,"ng-container",16),C.k0s()(),C.DNE(20,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_20_Template,5,4,"div",6),C.j41(21,"div")(22,"p",15),C.EFF(23),C.nI1(24,"translate"),C.k0s(),C.DNE(25,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_p_25_Template,3,3,"p",6)(26,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_ion_item_26_Template,4,6,"ion-item",25),C.k0s(),C.DNE(27,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_div_27_Template,6,5,"div",6),C.k0s()()()}if(2&e){const e=t.$implicit,o=C.XpG(2);C.R7$(),C.Y8G("detail",!0),C.BMQ("aria-label",e.competency.shortname),C.R7$(3),C.Y8G("text",e.competency.shortname)("contextInstanceId",o.courseId),C.R7$(2),C.JRh(e.competency.idnumber),C.R7$(),C.Y8G("ngIf",e.usercompetencycourse&&e.usercompetencycourse.gradename),C.R7$(3),C.Y8G("ngIf",e.competency.description),C.R7$(3),C.JRh(C.bMT(14,16,"addon.competency.path")),C.R7$(3),C.Y8G("ngIf",e.comppath.showlinks),C.R7$(),C.Y8G("ngIf",!e.comppath.showlinks),C.R7$(2),C.Y8G("ngForOf",e.comppath.ancestors),C.R7$(),C.Y8G("ngIf",null==o.courseCompetencies?null:o.courseCompetencies.statistics.canmanagecoursecompetencies),C.R7$(3),C.JRh(C.bMT(24,18,"addon.competency.activities")),C.R7$(2),C.Y8G("ngIf",0===e.coursemodules.length),C.R7$(),C.Y8G("ngForOf",e.coursemodules),C.R7$(),C.Y8G("ngIf",e.plans)}}function AddonCompetencyCourseCompetenciesPage_div_18_Template(e,t){if(1&e&&(C.j41(0,"div"),C.DNE(1,AddonCompetencyCourseCompetenciesPage_div_18_ion_card_1_Template,28,20,"ion-card",16),C.k0s()),2&e){const e=C.XpG();C.R7$(),C.Y8G("ngForOf",e.competencies.items)}}let G=(()=>{var e;class AddonCompetencyCourseCompetenciesPage{constructor(){this.logView=_.j.once((()=>this.performLogView()));try{const e=i.CoreNavigator.getRequiredRouteNumberParam("courseId"),t=i.CoreNavigator.getRouteNumberParam("userId"),o=s.u.getOrCreateSource(a.L,[e,t]);this.competencies=new r.R(o,AddonCompetencyCourseCompetenciesPage)}catch(e){return u.CoreAlerts.showError(e),i.CoreNavigator.back(),void 0}}get courseCompetencies(){return this.competencies.getSource().courseCompetencies}get courseId(){return this.competencies.getSource().COURSE_ID}get user(){return this.competencies.getSource().user}get showLeastProficientCompetencies(){var e,t;return!(null===(e=this.courseCompetencies)||void 0===e||!e.statistics.canmanagecoursecompetencies)&&(null===(t=this.courseCompetencies)||void 0===t?void 0:t.statistics.leastproficientcount)>0}ngOnInit(){var e=this;return(0,n.A)((function*(){yield e.fetchCourseCompetencies(),yield e.competencies.start()}))()}ngOnDestroy(){this.competencies.destroy()}getCompetencyFrameworkUrl(e){const{pluginbaseurl:t,framework:o,pagecontextid:n}=e.comppath;return`${t}/competencies.php?competencyframeworkid=${o.id}&pagecontextid=${n}`}fetchCourseCompetencies(){var e=this;return(0,n.A)((function*(){try{yield e.competencies.getSource().reload(),e.logView()}catch(e){u.CoreAlerts.showError(e,{default:"Error getting course competencies data."})}}))()}openCompetencySummary(e){i.CoreNavigator.navigate(`./${e}/${c.kO}`,{params:{contextLevel:"course",contextInstanceId:this.courseId}})}refreshCourseCompetencies(e){var t=this;return(0,n.A)((function*(){yield t.competencies.getSource().invalidateCache(),t.fetchCourseCompetencies().finally((()=>{null==e||e.complete()}))}))()}performLogView(){const e=this.competencies.getSource();e.USER_ID&&e.USER_ID!==m.CoreSites.getCurrentSiteUserId()||p.OF.logEvent({type:p.qr.VIEW_ITEM_LIST,ws:"tool_lp_data_for_course_competencies_page",name:d.HT.instant("addon.competency.coursecompetencies"),data:{category:"competency",courseid:e.COURSE_ID},url:`/admin/tool/lp/coursecompetencies.php?courseid=${e.COURSE_ID}`})}}return(e=AddonCompetencyCourseCompetenciesPage).ɵfac=function AddonCompetencyCourseCompetenciesPage_Factory(t){return new(t||e)},e.ɵcmp=C.VBU({type:e,selectors:[["page-addon-competency-coursecompetencies"]],standalone:!0,features:[C.aNF],decls:19,vars:16,consts:[["slot","start"],[3,"text"],[1,"limited-width"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hideUntil"],[4,"ngIf"],["class","ion-margin-horizontal",4,"ngIf"],["icon","fas-award",3,"message",4,"ngIf"],["class","ion-text-wrap",4,"ngIf"],["class","ion-text-wrap","color","danger",4,"ngIf"],[1,"ion-text-wrap"],["color","danger",1,"ion-text-wrap"],[3,"id"],[3,"progress","ariaDescribedBy"],[1,"item-heading"],[4,"ngFor","ngForOf"],[1,"as-link",3,"click"],["contextLevel","course",3,"text","contextInstanceId"],[1,"ion-margin-horizontal"],["slot","start",3,"user"],["icon","fas-award",3,"message"],["button","",1,"ion-text-wrap",3,"click","detail"],["slot","end",3,"color",4,"ngIf"],["core-link","",3,"href","title",4,"ngIf"],["class","ion-text-wrap core-course-module-handler","core-link","","capture","true",3,"href",4,"ngFor","ngForOf"],["slot","end",3,"color"],["core-link","",3,"href","title"],["class","as-link",3,"click",4,"ngIf"],["core-link","","capture","true",1,"ion-text-wrap","core-course-module-handler",3,"href"],["slot","start",3,"modicon","showAlt","colorize",4,"ngIf"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["slot","start",3,"modicon","showAlt","colorize"],["class","ion-text-wrap","core-link","","capture","true",3,"href",4,"ngFor","ngForOf"],["core-link","","capture","true",1,"ion-text-wrap",3,"href"],["contextLevel","user",3,"text","contextInstanceId"]],template:function AddonCompetencyCourseCompetenciesPage_Template(e,t){1&e&&(C.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),C.nrm(3,"ion-back-button",1),C.nI1(4,"translate"),C.k0s(),C.j41(5,"ion-title")(6,"h1"),C.EFF(7),C.nI1(8,"translate"),C.k0s()()()(),C.j41(9,"ion-content",2)(10,"ion-refresher",3),C.bIt("ionRefresh",(function AddonCompetencyCourseCompetenciesPage_Template_ion_refresher_ionRefresh_10_listener(e){return t.refreshCourseCompetencies(e.target)})),C.nrm(11,"ion-refresher-content",4),C.nI1(12,"translate"),C.k0s(),C.j41(13,"core-loading",5),C.DNE(14,AddonCompetencyCourseCompetenciesPage_ion_card_14_Template,4,3,"ion-card",6)(15,AddonCompetencyCourseCompetenciesPage_h2_15_Template,3,3,"h2",7)(16,AddonCompetencyCourseCompetenciesPage_ion_card_16_Template,6,2,"ion-card",6)(17,AddonCompetencyCourseCompetenciesPage_core_empty_box_17_Template,2,3,"core-empty-box",8)(18,AddonCompetencyCourseCompetenciesPage_div_18_Template,2,1,"div",6),C.k0s()()),2&e&&(C.R7$(3),C.Y8G("text",C.bMT(4,10,"core.back")),C.R7$(4),C.JRh(C.bMT(8,12,"addon.competency.coursecompetencies")),C.R7$(3),C.Y8G("disabled",!t.competencies.loaded),C.R7$(),C.FS9("pullingText",C.bMT(12,14,"core.pulltorefresh")),C.R7$(2),C.Y8G("hideUntil",t.competencies.loaded),C.R7$(),C.Y8G("ngIf",!t.user&&t.courseCompetencies&&t.courseCompetencies.statistics.competencycount>0),C.R7$(),C.Y8G("ngIf",t.courseCompetencies&&t.courseCompetencies.statistics.competencycount>0),C.R7$(),C.Y8G("ngIf",t.user),C.R7$(),C.Y8G("ngIf",t.courseCompetencies&&0===t.courseCompetencies.statistics.competencycount),C.R7$(),C.Y8G("ngIf",t.competencies.loaded))},dependencies:[l.n,g.Sq,g.bT,f.In,f.QW,f.b_,f.W9,f.eU,f.uz,f.he,f.To,f.Ki,f.BC,f.ai,f.el,h.h,y.R,I.I,v.z,R.T,T.B,$.j,b.i,A.D9],encapsulation:2}),AddonCompetencyCourseCompetenciesPage})()},2401:(e,t,o)=>{o.d(t,{R:()=>CoreListItemsManager});var n=o(10467),i=o(21182),c=o(15324),r=o(93417),s=o(81690),a=o(95990),_=o(82907),p=o(24742),m=o(55554);class CoreListItemsManager extends a.u{constructor(e,t){super(e);const o=s.j.debounce((()=>this.scrollToCurrentElement()),300);this.pageRouteLocator=t,this.addListener({onSelectedItemUpdated:o}),this.finishSuccessfulFetch=p.j.once((()=>m.g.ignoreErrors(this.logActivity())))}get items(){return this.getSource().getItems()||[]}get loaded(){return null!==this.itemsMap}get completed(){return this.getSource().isCompleted()}get empty(){const e=this.getSource().getItems();return null===e||0===e.length}start(e){var t=this;return(0,n.A)((function*(){e&&t.watchSplitViewOutlet(e),t.updateSelectedItem()}))()}destroy(){var e;super.destroy(),null===(e=this.splitViewOutletSubscription)||void 0===e||e.unsubscribe()}watchSplitViewOutlet(e){var t;this.splitView=e,this.splitViewOutletSubscription=e.outletRouteObservable.subscribe((e=>this.updateSelectedItem(this.getPageRouteFromSplitViewOutlet(e)))),this.updateSelectedItem(null!==(t=this.getPageRouteFromSplitViewOutlet(e.outletRoute))&&void 0!==t?t:null)}isSelected(e){return this.selectedItem===e}getItemAriaCurrent(e){return this.isSelected(e)?"page":"false"}select(e){var t=this;return(0,n.A)((function*(){if(!e)return yield t.navigateToIndex({reset:t.resetNavigation()}),void 0;yield t.navigateToItem(e,{reset:t.resetNavigation()})}))()}reset(){this.getSource().reset()}reload(){var e=this;return(0,n.A)((function*(){yield e.getSource().reload(),e.finishSuccessfulFetch()}))()}load(){var e=this;return(0,n.A)((function*(){yield e.getSource().load(),e.finishSuccessfulFetch()}))()}logActivity(){return(0,n.A)((function*(){}))()}resetNavigation(){var e;return!!r.CoreScreen.isTablet&&!(!this.splitView||null!==(e=this.splitView)&&void 0!==e&&e.isNested)}updateSelectedItem(e=null){super.updateSelectedItem(e);this.select(r.CoreScreen.isTablet&&null===this.selectedItem&&this.splitView&&!this.splitView.isNested?this.getDefaultItem():this.selectedItem)}scrollToCurrentElement(){var e=this;return(0,n.A)((function*(){var t,o,n;if(r.CoreScreen.isMobile)return;const i=(null!==(t=null===(o=e.splitView)||void 0===o?void 0:o.nativeElement)&&void 0!==t?t:document).querySelector('[aria-current="page"]');if(!i)return;_.y.isElementInViewport(i,1,null===(n=e.splitView)||void 0===n?void 0:n.nativeElement)||i.scrollIntoView({behavior:"smooth"})}))()}getDefaultItem(){return this.items[0]||null}getCurrentPageRoute(){return this.pageRouteLocator instanceof i.nX?c.CoreNavigator.isRouteActive(this.pageRouteLocator)?this.pageRouteLocator:null:c.CoreNavigator.getCurrentRoute({pageComponent:this.pageRouteLocator})}getSelectedItemPathFromRoute(e){const t=[];for(;e.firstChild;)t.push(...c.CoreNavigator.getRouteUrl(e=e.firstChild));return t.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}getPageRouteFromSplitViewOutlet(e){const t=this.buildRouteMatcher();for(;e&&!t(e);)e=e.parent;return e}buildRouteMatcher(){if(this.pageRouteLocator instanceof i.nX){const e=c.CoreNavigator.getRouteFullPath(this.pageRouteLocator);return t=>c.CoreNavigator.getRouteFullPath(t)===e}return e=>e.component===this.pageRouteLocator}}}}]);