/*! For license information please see main.56d1972bc8312ed6.js.LICENSE.txt */
(self.webpackChunkapp=self.webpackChunkapp||[]).push([[38792],{89517:(e,n,r)=>{"use strict";r.d(n,{E:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function Badge(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(Badge,e),Badge.prototype.clear=function(){return(0,i.bk)(this,"clear",{},arguments)},Badge.prototype.set=function(e){return(0,i.bk)(this,"set",{},arguments)},Badge.prototype.get=function(){return(0,i.bk)(this,"get",{},arguments)},Badge.prototype.increase=function(e){return(0,i.bk)(this,"increase",{},arguments)},Badge.prototype.decrease=function(e){return(0,i.bk)(this,"decrease",{},arguments)},Badge.prototype.isSupported=function(){return(0,i.bk)(this,"isSupported",{},arguments)},Badge.prototype.hasPermission=function(){return(0,i.bk)(this,"hasPermission",{},arguments)},Badge.prototype.requestPermission=function(){return(0,i.bk)(this,"requestPermission",{},arguments)},Badge.ɵfac=(()=>{let e;return function Badge_Factory(n){return(e||(e=s.xGo(Badge)))(n||Badge)}})(),Badge.ɵprov=s.jDH({token:Badge,factory:Badge.ɵfac}),Badge.pluginName="Badge",Badge.plugin="cordova-plugin-badge",Badge.pluginRef="cordova.plugins.notification.badge",Badge.repo="https://github.com/katzer/cordova-plugin-badge",Badge.platforms=["Android","Browser","iOS","Windows"],Badge=(0,o.Cg)([],Badge)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},14113:(e,n,r)=>{"use strict";r.d(n,{i7:()=>v});var o=r(31635),i=r(77111),s=r(54438),a=function(e){return e[e.DATA_URL=0]="DATA_URL",e[e.FILE_URL=1]="FILE_URL",e[e.NATIVE_URI=2]="NATIVE_URI",e}(a||{}),c=function(e){return e[e.JPEG=0]="JPEG",e[e.PNG=1]="PNG",e}(c||{}),u=function(e){return e[e.PICTURE=0]="PICTURE",e[e.VIDEO=1]="VIDEO",e[e.ALLMEDIA=2]="ALLMEDIA",e}(u||{}),p=function(e){return e[e.PHOTOLIBRARY=0]="PHOTOLIBRARY",e[e.CAMERA=1]="CAMERA",e[e.SAVEDPHOTOALBUM=2]="SAVEDPHOTOALBUM",e}(p||{}),f=function(e){return e[e.ARROW_UP=1]="ARROW_UP",e[e.ARROW_DOWN=2]="ARROW_DOWN",e[e.ARROW_LEFT=3]="ARROW_LEFT",e[e.ARROW_RIGHT=4]="ARROW_RIGHT",e[e.ARROW_ANY=5]="ARROW_ANY",e}(f||{}),g=function(e){return e[e.BACK=0]="BACK",e[e.FRONT=1]="FRONT",e}(g||{}),v=function(e){function Camera(){var n=null!==e&&e.apply(this,arguments)||this;return n.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},n.EncodingType={JPEG:0,PNG:1},n.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},n.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},n.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},n.Direction={BACK:0,FRONT:1},n}return(0,o.C6)(Camera,e),Camera.prototype.getPicture=function(e){return(0,i.bk)(this,"getPicture",{callbackOrder:"reverse"},arguments)},Camera.prototype.cleanup=function(){return(0,i.bk)(this,"cleanup",{platforms:["iOS"]},arguments)},Camera.ɵfac=(()=>{let e;return function Camera_Factory(n){return(e||(e=s.xGo(Camera)))(n||Camera)}})(),Camera.ɵprov=s.jDH({token:Camera,factory:Camera.ɵfac}),Camera.pluginName="Camera",Camera.plugin="cordova-plugin-camera",Camera.pluginRef="navigator.camera",Camera.repo="https://github.com/apache/cordova-plugin-camera",Camera.platforms=["Android","Browser","iOS","Windows"],Camera=(0,o.Cg)([],Camera)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},11076:(e,n,r)=>{"use strict";r.d(n,{B:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function Clipboard(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(Clipboard,e),Clipboard.prototype.copy=function(e){return(0,i.bk)(this,"copy",{},arguments)},Clipboard.prototype.paste=function(){return(0,i.bk)(this,"paste",{},arguments)},Clipboard.prototype.clear=function(){return(0,i.bk)(this,"clear",{},arguments)},Clipboard.ɵfac=(()=>{let e;return function Clipboard_Factory(n){return(e||(e=s.xGo(Clipboard)))(n||Clipboard)}})(),Clipboard.ɵprov=s.jDH({token:Clipboard,factory:Clipboard.ɵfac}),Clipboard.pluginName="Clipboard",Clipboard.plugin="cordova-clipboard",Clipboard.pluginRef="cordova.plugins.clipboard",Clipboard.repo="https://github.com/ihadeed/cordova-clipboard",Clipboard.platforms=["Android","iOS","Windows Phone 8"],Clipboard=(0,o.Cg)([],Clipboard)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},77111:(e,n,r)=>{"use strict";r.d(n,{UF:()=>c,q0:()=>common_checkAvailability,bk:()=>cordova,WE:()=>cordovaInstance,oO:()=>cordovaPropertyGet,kC:()=>cordovaPropertySet,c$:()=>getPromise,lM:()=>instanceAvailability,PV:()=>instancePropertyGet,jf:()=>instancePropertySet});var o=r(71985),i=r(33726),s={error:"cordova_not_available"},a={error:"plugin_not_installed"};function getPromise(e){if("undefined"!=typeof window&&window.angular){var n=window.document,r=window.angular.element(n.querySelector("[ng-app]")||n.body).injector();if(r)return r.get("$q")((function(n,r){e(n,r)}));console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise((function(n,r){e(n,r)}));console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function common_checkAvailability(e,n,r){var o,i;"string"==typeof e?o=e:(o=e.constructor.getPluginRef(),r=e.constructor.getPluginName(),i=e.constructor.getPluginInstallName());var c=common_getPlugin(o);return!(!c||n&&void 0===c[n])||("undefined"!=typeof window&&window.cordova?(!function pluginWarn(e,n,r){r?console.warn("Native: tried calling "+e+"."+r+", but the "+e+" plugin is not installed."):console.warn("Native: tried accessing the "+e+" plugin but it's not installed.");n&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+n+"'")}(r,i,n),a):(!function cordovaWarn(e,n){"undefined"==typeof process&&(n?console.warn("Native: tried calling "+e+"."+n+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(r,n),s))}function instanceAvailability(e,n){return e._objectInstance&&(!n||void 0!==e._objectInstance[n])}function setIndex(e,n,r,o){if(void 0===n&&(n={}),n.sync)return e;if("reverse"===n.callbackOrder)e.unshift(o),e.unshift(r);else if("node"===n.callbackStyle)e.push((function(e,n){e?o(e):r(n)}));else if("object"===n.callbackStyle&&n.successName&&n.errorName){var i={};i[n.successName]=r,i[n.errorName]=o,e.push(i)}else if(void 0!==n.successIndex||void 0!==n.errorIndex){var setSuccessIndex=function(){n.successIndex>e.length?e[n.successIndex]=r:e.splice(n.successIndex,0,r)},setErrorIndex=function(){n.errorIndex>e.length?e[n.errorIndex]=o:e.splice(n.errorIndex,0,o)};n.successIndex>n.errorIndex?(setErrorIndex(),setSuccessIndex()):(setSuccessIndex(),setErrorIndex())}else e.push(r),e.push(o);return e}function callCordovaPlugin(e,n,r,o,i,s){void 0===o&&(o={}),r=setIndex(r,o,i,s);var a=common_checkAvailability(e,n);if(!0===a){var c=common_getPlugin(e.constructor.getPluginRef());return c[n].apply(c,r)}return a}function callInstance(e,n,r,o,i,s){if(void 0===o&&(o={}),r=setIndex(r,o,i,s),instanceAvailability(e,n))return e._objectInstance[n].apply(e._objectInstance,r)}function common_getPlugin(e){return"undefined"!=typeof window?get(window,e):null}function get(e,n){for(var r=n.split("."),o=e,i=0;i<r.length;i++){if(!o)return null;o=o[r[i]]}return o}var wrap=function(e,n,r){return void 0===r&&(r={}),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r.sync?callCordovaPlugin(e,n,s,r):r.observable?function wrapObservable(e,n,r,i){return void 0===i&&(i={}),new o.c((function(o){var s;return s=i.destruct?callCordovaPlugin(e,n,r,i,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o.next(e)}),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o.error(e)})):callCordovaPlugin(e,n,r,i,o.next.bind(o),o.error.bind(o)),s&&s.error&&(o.error(s.error),o.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?callCordovaPlugin(e,i.clearFunction,r,i,o.next.bind(o),o.error.bind(o)):callCordovaPlugin(e,i.clearFunction,[])}catch(r){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),n),console.warn(r)}}}))}(e,n,s,r):r.eventObservable&&r.event?function wrapEventObservable(e,n){return n="undefined"!=typeof window&&n?get(window,n):n||("undefined"!=typeof window?window:{}),(0,i.R)(n,e)}(r.event,r.element):r.otherPromise?function wrapOtherPromise(e,n,r,o){return void 0===o&&(o={}),getPromise((function(i,s){var a=callCordovaPlugin(e,n,r,o);a?a.error?s(a.error):a.then&&a.then(i).catch(s):s({error:"unexpected_error"})}))}(e,n,s,r):function wrapPromise(e,n,r,o){var i,s;void 0===o&&(o={});var a=getPromise((function(a,c){i=o.destruct?callCordovaPlugin(e,n,r,o,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(e)}),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return c(e)})):callCordovaPlugin(e,n,r,o,a,c),s=c}));return i&&i.error&&(a.catch((function(){})),"function"==typeof s&&s(i.error)),a}(e,n,s,r)}};var c=function(){function AwesomeCordovaNativePlugin(){}return AwesomeCordovaNativePlugin.installed=function(){return!0===common_checkAvailability(this.pluginRef)},AwesomeCordovaNativePlugin.getPlugin=function(){return"undefined"!=typeof window?function util_get(e,n){for(var r=n.split("."),o=e,i=0;i<r.length;i++){if(!o)return null;o=o[r[i]]}return o}(window,this.pluginRef):null},AwesomeCordovaNativePlugin.getPluginName=function(){return this.pluginName},AwesomeCordovaNativePlugin.getPluginRef=function(){return this.pluginRef},AwesomeCordovaNativePlugin.getPluginInstallName=function(){return this.plugin},AwesomeCordovaNativePlugin.getSupportedPlatforms=function(){return this.platforms},AwesomeCordovaNativePlugin.pluginName="",AwesomeCordovaNativePlugin.pluginRef="",AwesomeCordovaNativePlugin.plugin="",AwesomeCordovaNativePlugin.repo="",AwesomeCordovaNativePlugin.platforms=[],AwesomeCordovaNativePlugin.install="",AwesomeCordovaNativePlugin}();function cordova(e,n,r,o){return wrap(e,n,r).apply(this,o)}function cordovaInstance(e,n,r,i){return i=Array.from(i),function wrapInstance(e,n,r){return void 0===r&&(r={}),function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(r.sync)return callInstance(e,n,i,r);if(r.observable)return new o.c((function(o){var s;return s=r.destruct?callInstance(e,n,i,r,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o.next(e)}),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o.error(e)})):callInstance(e,n,i,r,o.next.bind(o),o.error.bind(o)),s&&s.error&&o.error(s.error),function(){try{return r.clearWithArgs?callInstance(e,r.clearFunction,i,r,o.next.bind(o),o.error.bind(o)):callInstance(e,r.clearFunction,[])}catch(r){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),n),console.warn(r)}}}));if(r.otherPromise)return getPromise((function(o,s){var a;a=r.destruct?callInstance(e,n,i,r,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o(e)}),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s(e)})):callInstance(e,n,i,r,o,s),a&&a.then?a.then(o,s):s()}));var a,c,u=getPromise((function(o,s){a=r.destruct?callInstance(e,n,i,r,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return o(e)}),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s(e)})):callInstance(e,n,i,r,o,s),c=s}));return a&&a.error&&(u.catch((function(){})),"function"==typeof c&&c(a.error)),u}}(e,n,r).apply(this,i)}function cordovaPropertyGet(e,n){return!0===common_checkAvailability(e,n)?common_getPlugin(e.constructor.getPluginRef())[n]:null}function cordovaPropertySet(e,n,r){!0===common_checkAvailability(e,n)&&(common_getPlugin(e.constructor.getPluginRef())[n]=r)}function instancePropertyGet(e,n){return e._objectInstance&&e._objectInstance[n]?e._objectInstance[n]:null}function instancePropertySet(e,n,r){e._objectInstance&&(e._objectInstance[n]=r)}!function checkReady(){if("undefined"==typeof process){var e="undefined"!=typeof window?window:{},n=Date.now(),r=!1;e.document.addEventListener("deviceready",(function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-n)+" ms"),r=!0})),setTimeout((function(){!r&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")}),5e3)}}()},78240:(e,n,r)=>{"use strict";r.d(n,{p:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function Device(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(Device,e),Object.defineProperty(Device.prototype,"cordova",{get:function(){return(0,i.oO)(this,"cordova")},set:function(e){(0,i.kC)(this,"cordova",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"model",{get:function(){return(0,i.oO)(this,"model")},set:function(e){(0,i.kC)(this,"model",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"platform",{get:function(){return(0,i.oO)(this,"platform")},set:function(e){(0,i.kC)(this,"platform",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"uuid",{get:function(){return(0,i.oO)(this,"uuid")},set:function(e){(0,i.kC)(this,"uuid",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"version",{get:function(){return(0,i.oO)(this,"version")},set:function(e){(0,i.kC)(this,"version",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"manufacturer",{get:function(){return(0,i.oO)(this,"manufacturer")},set:function(e){(0,i.kC)(this,"manufacturer",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"isVirtual",{get:function(){return(0,i.oO)(this,"isVirtual")},set:function(e){(0,i.kC)(this,"isVirtual",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"serial",{get:function(){return(0,i.oO)(this,"serial")},set:function(e){(0,i.kC)(this,"serial",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"sdkVersion",{get:function(){return(0,i.oO)(this,"sdkVersion")},set:function(e){(0,i.kC)(this,"sdkVersion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Device.prototype,"isiOSAppOnMac",{get:function(){return(0,i.oO)(this,"isiOSAppOnMac")},set:function(e){(0,i.kC)(this,"isiOSAppOnMac",e)},enumerable:!1,configurable:!0}),Device.ɵfac=(()=>{let e;return function Device_Factory(n){return(e||(e=s.xGo(Device)))(n||Device)}})(),Device.ɵprov=s.jDH({token:Device,factory:Device.ɵfac}),Device.pluginName="Device",Device.plugin="cordova-plugin-device",Device.pluginRef="device",Device.repo="https://github.com/apache/cordova-plugin-device",Device.platforms=["Android","Browser","iOS","macOS","Windows"],Device=(0,o.Cg)([],Device)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},59684:(e,n,r)=>{"use strict";r.d(n,{M:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function FileOpener(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(FileOpener,e),FileOpener.prototype.open=function(e,n){return(0,i.bk)(this,"open",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},FileOpener.prototype.uninstall=function(e){return(0,i.bk)(this,"uninstall",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},FileOpener.prototype.appIsInstalled=function(e){return(0,i.bk)(this,"appIsInstalled",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},FileOpener.prototype.showOpenWithDialog=function(e,n){return(0,i.bk)(this,"showOpenWithDialog",{callbackStyle:"object",successName:"success",errorName:"error"},arguments)},FileOpener.ɵfac=(()=>{let e;return function FileOpener_Factory(n){return(e||(e=s.xGo(FileOpener)))(n||FileOpener)}})(),FileOpener.ɵprov=s.jDH({token:FileOpener,factory:FileOpener.ɵfac}),FileOpener.pluginName="FileOpener",FileOpener.plugin="cordova-plugin-file-opener2",FileOpener.pluginRef="cordova.plugins.fileOpener2",FileOpener.repo="https://github.com/pwlin/cordova-plugin-file-opener2",FileOpener.platforms=["Android","iOS","Windows","Windows Phone 8"],FileOpener=(0,o.Cg)([],FileOpener)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},50252:(e,n,r)=>{"use strict";r.d(n,{Z:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function File(){var n=null!==e&&e.apply(this,arguments)||this;return n.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},n}return(0,o.C6)(File,e),File.prototype.getFreeDiskSpace=function(){var e=this;return function(){if(!0===(0,i.q0)(e))return(0,i.c$)((function(e,n){cordova.exec(e,n,"File","getFreeDiskSpace",[])}))}()},File.prototype.checkDir=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r)){if(/^\//.test(n)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return r.resolveDirectoryUrl(e+n).then((function(){return!0}))}}()},File.prototype.createDir=function(e,n,r){var o=this;return function(){if(!0===(0,i.q0)(o)){if(/^\//.test(n)){var s=new FileError(5);return s.message="directory cannot start with /",Promise.reject(s)}var a={create:!0};return r||(a.exclusive=!0),o.resolveDirectoryUrl(e).then((function(e){return o.getDirectory(e,n,a)}))}}()},File.prototype.removeDir=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r)){if(/^\//.test(n)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return r.resolveDirectoryUrl(e).then((function(e){return r.getDirectory(e,n,{create:!1})})).then((function(e){return r.remove(e)}))}}()},File.prototype.moveDir=function(e,n,r,o){var s=this;return function(){if(!0===(0,i.q0)(s)){if(/^\//.test(o=o||n)){var a=new FileError(5);return a.message="directory cannot start with /",Promise.reject(a)}return s.resolveDirectoryUrl(e).then((function(e){return s.getDirectory(e,n,{create:!1})})).then((function(e){return s.resolveDirectoryUrl(r).then((function(n){return s.move(e,n,o)}))}))}}()},File.prototype.copyDir=function(e,n,r,o){var s=this;return function(){if(!0===(0,i.q0)(s)){if(/^\//.test(o)){var a=new FileError(5);return a.message="directory cannot start with /",Promise.reject(a)}return s.resolveDirectoryUrl(e).then((function(e){return s.getDirectory(e,n,{create:!1})})).then((function(e){return s.resolveDirectoryUrl(r).then((function(n){return s.copy(e,n,o)}))}))}}()},File.prototype.listDir=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r)){if(/^\//.test(n)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return r.resolveDirectoryUrl(e).then((function(e){return r.getDirectory(e,n,{create:!1,exclusive:!1})})).then((function(e){var n=e.createReader();return r.readEntries(n)}))}}()},File.prototype.removeRecursively=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r)){if(/^\//.test(n)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}return r.resolveDirectoryUrl(e).then((function(e){return r.getDirectory(e,n,{create:!1})})).then((function(e){return r.rimraf(e)}))}}()},File.prototype.checkFile=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r)){if(/^\//.test(n)){var o=new FileError(5);return o.message="file cannot start with /",Promise.reject(o)}return r.resolveLocalFilesystemUrl(e+n).then((function(e){if(e.isFile)return!0;var n=new FileError(13);return n.message="input is not a file",Promise.reject(n)}))}}()},File.prototype.createFile=function(e,n,r){var o=this;return function(){if(!0===(0,i.q0)(o)){if(/^\//.test(n)){var s=new FileError(5);return s.message="file-name cannot start with /",Promise.reject(s)}var a={create:!0};return r||(a.exclusive=!0),o.resolveDirectoryUrl(e).then((function(e){return o.getFile(e,n,a)}))}}()},File.prototype.removeFile=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r)){if(/^\//.test(n)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}return r.resolveDirectoryUrl(e).then((function(e){return r.getFile(e,n,{create:!1})})).then((function(e){return r.remove(e)}))}}()},File.prototype.writeFile=function(e,n,r,o){var s=this;return void 0===o&&(o={}),function(){if(!0===(0,i.q0)(s)){if(/^\//.test(n)){var a=new FileError(5);return a.message="file-name cannot start with /",Promise.reject(a)}var c={create:!o.append,exclusive:!o.replace};return s.resolveDirectoryUrl(e).then((function(e){return s.getFile(e,n,c)})).then((function(e){return s.writeFileEntry(e,r,o)}))}}()},File.prototype.writeFileEntry=function(e,n,r){var o=this;return this.createWriter(e).then((function(e){return r.append&&e.seek(e.length),r.truncate&&e.truncate(r.truncate),o.write(e,n)})).then((function(){return e}))},File.prototype.writeExistingFile=function(e,n,r){var o=this;return function(){if(!0===(0,i.q0)(o))return o.writeFile(e,n,r,{replace:!0})}()},File.prototype.readAsText=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r))return r.readFile(e,n,"Text")}()},File.prototype.readAsDataURL=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r))return r.readFile(e,n,"DataURL")}()},File.prototype.readAsBinaryString=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r))return r.readFile(e,n,"BinaryString")}()},File.prototype.readAsArrayBuffer=function(e,n){var r=this;return function(){if(!0===(0,i.q0)(r))return r.readFile(e,n,"ArrayBuffer")}()},File.prototype.moveFile=function(e,n,r,o){var s=this;return function(){if(!0===(0,i.q0)(s)){if(/^\//.test(o=o||n)){var a=new FileError(5);return a.message="file name cannot start with /",Promise.reject(a)}return s.resolveDirectoryUrl(e).then((function(e){return s.getFile(e,n,{create:!1})})).then((function(e){return s.resolveDirectoryUrl(r).then((function(n){return s.move(e,n,o)}))}))}}()},File.prototype.copyFile=function(e,n,r,o){var s=this;return function(){if(!0===(0,i.q0)(s)){if(/^\//.test(o=o||n)){var a=new FileError(5);return a.message="file name cannot start with /",Promise.reject(a)}return s.resolveDirectoryUrl(e).then((function(e){return s.getFile(e,n,{create:!1})})).then((function(e){return s.resolveDirectoryUrl(r).then((function(n){return s.copy(e,n,o)}))}))}}()},File.prototype.fillErrorMessage=function(e){try{e.message=this.cordovaFileError[e.code]}catch(e){}},File.prototype.resolveLocalFilesystemUrl=function(e){var n=this;return function(){if(!0===(0,i.q0)(n))return(0,i.c$)((function(r,o){try{window.resolveLocalFileSystemURL(e,(function(e){r(e)}),(function(e){n.fillErrorMessage(e),o(e)}))}catch(e){n.fillErrorMessage(e),o(e)}}))}()},File.prototype.resolveDirectoryUrl=function(e){var n=this;return function(){if(!0===(0,i.q0)(n))return n.resolveLocalFilesystemUrl(e).then((function(e){if(e.isDirectory)return e;var n=new FileError(13);return n.message="input is not a directory",Promise.reject(n)}))}()},File.prototype.getDirectory=function(e,n,r){var o=this;return function(){if(!0===(0,i.q0)(o))return new Promise((function(i,s){try{e.getDirectory(n,r,(function(e){i(e)}),(function(e){o.fillErrorMessage(e),s(e)}))}catch(e){o.fillErrorMessage(e),s(e)}}))}()},File.prototype.getFile=function(e,n,r){var o=this;return function(){if(!0===(0,i.q0)(o))return new Promise((function(i,s){try{e.getFile(n,r,i,(function(e){o.fillErrorMessage(e),s(e)}))}catch(e){o.fillErrorMessage(e),s(e)}}))}()},File.prototype.readFile=function(e,n,r){var o=this;if(/^\//.test(n)){var s=new FileError(5);return s.message="file-name cannot start with /",Promise.reject(s)}return this.resolveDirectoryUrl(e).then((function(e){return o.getFile(e,n,{create:!1})})).then((function(e){var n=new FileReader;return(0,i.c$)((function(o,i){n.onloadend=function(){void 0!==n.result||null!==n.result?o(n.result):i(void 0!==n.error||null!==n.error?n.error:{code:null,message:"READER_ONLOADEND_ERR"})},e.file((function(e){n["readAs"+r].call(n,e)}),(function(e){i(e)}))}))}))},File.prototype.remove=function(e){var n=this;return new Promise((function(r,o){e.remove((function(){r({success:!0,fileRemoved:e})}),(function(e){n.fillErrorMessage(e),o(e)}))}))},File.prototype.move=function(e,n,r){var o=this;return new Promise((function(i,s){e.moveTo(n,r,(function(e){i(e)}),(function(e){o.fillErrorMessage(e),s(e)}))}))},File.prototype.copy=function(e,n,r){var o=this;return new Promise((function(i,s){e.copyTo(n,r,(function(e){i(e)}),(function(e){o.fillErrorMessage(e),s(e)}))}))},File.prototype.readEntries=function(e){var n=this;return new Promise((function(r,o){e.readEntries((function(e){r(e)}),(function(e){n.fillErrorMessage(e),o(e)}))}))},File.prototype.rimraf=function(e){var n=this;return new Promise((function(r,o){e.removeRecursively((function(){r({success:!0,fileRemoved:e})}),(function(e){n.fillErrorMessage(e),o(e)}))}))},File.prototype.createWriter=function(e){var n=this;return new Promise((function(r,o){e.createWriter((function(e){r(e)}),(function(e){n.fillErrorMessage(e),o(e)}))}))},File.prototype.write=function(e,n){return n instanceof Blob?this.writeFileInChunks(e,n):new Promise((function(r,o){e.onwriteend=function(n){e.error?o(e.error):r(n)},e.write(n)}))},File.prototype.writeFileInChunks=function(e,n){var r=0;function writeNextChunk(){var o=Math.min(1048576,n.size-r),i=n.slice(r,r+o);r+=o,e.write(i)}return(0,i.c$)((function(o,i){e.onerror=i,e.onwrite=function(){r<n.size?writeNextChunk():o()},writeNextChunk()}))},Object.defineProperty(File.prototype,"applicationDirectory",{get:function(){return(0,i.oO)(this,"applicationDirectory")},set:function(e){(0,i.kC)(this,"applicationDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"applicationStorageDirectory",{get:function(){return(0,i.oO)(this,"applicationStorageDirectory")},set:function(e){(0,i.kC)(this,"applicationStorageDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"dataDirectory",{get:function(){return(0,i.oO)(this,"dataDirectory")},set:function(e){(0,i.kC)(this,"dataDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"cacheDirectory",{get:function(){return(0,i.oO)(this,"cacheDirectory")},set:function(e){(0,i.kC)(this,"cacheDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"externalApplicationStorageDirectory",{get:function(){return(0,i.oO)(this,"externalApplicationStorageDirectory")},set:function(e){(0,i.kC)(this,"externalApplicationStorageDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"externalDataDirectory",{get:function(){return(0,i.oO)(this,"externalDataDirectory")},set:function(e){(0,i.kC)(this,"externalDataDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"externalCacheDirectory",{get:function(){return(0,i.oO)(this,"externalCacheDirectory")},set:function(e){(0,i.kC)(this,"externalCacheDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"externalRootDirectory",{get:function(){return(0,i.oO)(this,"externalRootDirectory")},set:function(e){(0,i.kC)(this,"externalRootDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"tempDirectory",{get:function(){return(0,i.oO)(this,"tempDirectory")},set:function(e){(0,i.kC)(this,"tempDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"syncedDataDirectory",{get:function(){return(0,i.oO)(this,"syncedDataDirectory")},set:function(e){(0,i.kC)(this,"syncedDataDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"documentsDirectory",{get:function(){return(0,i.oO)(this,"documentsDirectory")},set:function(e){(0,i.kC)(this,"documentsDirectory",e)},enumerable:!1,configurable:!0}),Object.defineProperty(File.prototype,"sharedDirectory",{get:function(){return(0,i.oO)(this,"sharedDirectory")},set:function(e){(0,i.kC)(this,"sharedDirectory",e)},enumerable:!1,configurable:!0}),File.ɵfac=(()=>{let e;return function File_Factory(n){return(e||(e=s.xGo(File)))(n||File)}})(),File.ɵprov=s.jDH({token:File,factory:File.ɵfac}),File.pluginName="File",File.plugin="cordova-plugin-file",File.pluginRef="cordova.file",File.repo="https://github.com/apache/cordova-plugin-file",File.platforms=["Android","Browser","iOS","macOS","Windows"],File=(0,o.Cg)([],File)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},91118:(e,n,r)=>{"use strict";r.d(n,{B:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function HTTP(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(HTTP,e),HTTP.prototype.getBasicAuthHeader=function(e,n){return(0,i.bk)(this,"getBasicAuthHeader",{sync:!0},arguments)},HTTP.prototype.useBasicAuth=function(e,n){return(0,i.bk)(this,"useBasicAuth",{sync:!0},arguments)},HTTP.prototype.getHeaders=function(e){return(0,i.bk)(this,"getHeaders",{sync:!0},arguments)},HTTP.prototype.setHeader=function(e,n,r){return(0,i.bk)(this,"setHeader",{sync:!0},arguments)},HTTP.prototype.getDataSerializer=function(){return(0,i.bk)(this,"getDataSerializer",{sync:!0},arguments)},HTTP.prototype.setDataSerializer=function(e){return(0,i.bk)(this,"setDataSerializer",{sync:!0},arguments)},HTTP.prototype.setCookie=function(e,n){return(0,i.bk)(this,"setCookie",{sync:!0},arguments)},HTTP.prototype.clearCookies=function(){return(0,i.bk)(this,"clearCookies",{sync:!0},arguments)},HTTP.prototype.removeCookies=function(e,n){return(0,i.bk)(this,"removeCookies",{sync:!0},arguments)},HTTP.prototype.getCookieString=function(e){return(0,i.bk)(this,"getCookieString",{sync:!0},arguments)},HTTP.prototype.getRequestTimeout=function(){return(0,i.bk)(this,"getRequestTimeout",{sync:!0},arguments)},HTTP.prototype.setRequestTimeout=function(e){return(0,i.bk)(this,"setRequestTimeout",{sync:!0},arguments)},HTTP.prototype.getFollowRedirect=function(){return(0,i.bk)(this,"getFollowRedirect",{sync:!0},arguments)},HTTP.prototype.setFollowRedirect=function(e){return(0,i.bk)(this,"setFollowRedirect",{sync:!0},arguments)},HTTP.prototype.setServerTrustMode=function(e){return(0,i.bk)(this,"setServerTrustMode",{},arguments)},HTTP.prototype.setClientAuthMode=function(e,n){return(0,i.bk)(this,"setClientAuthMode",{},arguments)},HTTP.prototype.post=function(e,n,r){return(0,i.bk)(this,"post",{},arguments)},HTTP.prototype.postSync=function(e,n,r,o,s){return(0,i.bk)(this,"post",{methodName:"post",sync:!0},arguments)},HTTP.prototype.get=function(e,n,r){return(0,i.bk)(this,"get",{},arguments)},HTTP.prototype.getSync=function(e,n,r,o,s){return(0,i.bk)(this,"get",{methodName:"get",sync:!0},arguments)},HTTP.prototype.put=function(e,n,r){return(0,i.bk)(this,"put",{},arguments)},HTTP.prototype.putSync=function(e,n,r,o,s){return(0,i.bk)(this,"put",{methodName:"put",sync:!0},arguments)},HTTP.prototype.patch=function(e,n,r){return(0,i.bk)(this,"patch",{},arguments)},HTTP.prototype.patchSync=function(e,n,r,o,s){return(0,i.bk)(this,"patch",{methodName:"patch",sync:!0},arguments)},HTTP.prototype.delete=function(e,n,r){return(0,i.bk)(this,"delete",{},arguments)},HTTP.prototype.deleteSync=function(e,n,r,o,s){return(0,i.bk)(this,"delete",{methodName:"delete",sync:!0},arguments)},HTTP.prototype.head=function(e,n,r){return(0,i.bk)(this,"head",{},arguments)},HTTP.prototype.headSync=function(e,n,r,o,s){return(0,i.bk)(this,"head",{methodName:"head",sync:!0},arguments)},HTTP.prototype.options=function(e,n,r){return(0,i.bk)(this,"options",{},arguments)},HTTP.prototype.optionsSync=function(e,n,r,o,s){return(0,i.bk)(this,"options",{methodName:"options",sync:!0},arguments)},HTTP.prototype.uploadFile=function(e,n,r,o,s){return(0,i.bk)(this,"uploadFile",{},arguments)},HTTP.prototype.uploadFileSync=function(e,n,r,o,s,a,c){return(0,i.bk)(this,"uploadFile",{methodName:"uploadFile",sync:!0},arguments)},HTTP.prototype.downloadFile=function(e,n,r,o){return(0,i.bk)(this,"downloadFile",{},arguments)},HTTP.prototype.downloadFileSync=function(e,n,r,o,s,a){return(0,i.bk)(this,"downloadFile",{methodName:"downloadFile",sync:!0},arguments)},HTTP.prototype.sendRequest=function(e,n){return(0,i.bk)(this,"sendRequest",{},arguments)},HTTP.prototype.sendRequestSync=function(e,n,r,o){return(0,i.bk)(this,"sendRequest",{methodName:"sendRequest",sync:!0},arguments)},HTTP.prototype.abort=function(e){return(0,i.bk)(this,"abort",{},arguments)},Object.defineProperty(HTTP.prototype,"ErrorCode",{get:function(){return(0,i.oO)(this,"ErrorCode")},set:function(e){(0,i.kC)(this,"ErrorCode",e)},enumerable:!1,configurable:!0}),HTTP.ɵfac=(()=>{let e;return function HTTP_Factory(n){return(e||(e=s.xGo(HTTP)))(n||HTTP)}})(),HTTP.ɵprov=s.jDH({token:HTTP,factory:HTTP.ɵfac}),HTTP.pluginName="HTTP",HTTP.plugin="cordova-plugin-advanced-http",HTTP.pluginRef="cordova.plugin.http",HTTP.repo="https://github.com/silkimen/cordova-plugin-advanced-http",HTTP.platforms=["Android","iOS"],HTTP=(0,o.Cg)([],HTTP)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},51670:(e,n,r)=>{"use strict";r.d(n,{N:()=>u});var o=r(31635),i=r(77111),s=r(71985),a=r(54438),c=function(){function InAppBrowserObject(e,n,r){try{r&&"string"!=typeof r&&(r=Object.keys(r).map((function(e){return e+"="+r[e]})).join(",")),this._objectInstance=cordova.InAppBrowser.open(e,n,r)}catch(r){"undefined"!=typeof window&&window.open(e,n),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.")}}return InAppBrowserObject.prototype._loadAfterBeforeload=function(e){return(0,i.WE)(this,"_loadAfterBeforeload",{sync:!0},arguments)},InAppBrowserObject.prototype.show=function(){return(0,i.WE)(this,"show",{sync:!0},arguments)},InAppBrowserObject.prototype.close=function(){return(0,i.WE)(this,"close",{sync:!0},arguments)},InAppBrowserObject.prototype.hide=function(){return(0,i.WE)(this,"hide",{sync:!0},arguments)},InAppBrowserObject.prototype.executeScript=function(e){return(0,i.WE)(this,"executeScript",{},arguments)},InAppBrowserObject.prototype.insertCSS=function(e){return(0,i.WE)(this,"insertCSS",{},arguments)},InAppBrowserObject.prototype.on=function(e){var n=this;return function(){if(!0===(0,i.lM)(n))return new s.c((function(r){return n._objectInstance.addEventListener(e,r.next.bind(r)),function(){return n._objectInstance.removeEventListener(e,r.next.bind(r))}}))}()},InAppBrowserObject}(),u=function(e){function InAppBrowser(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(InAppBrowser,e),InAppBrowser.prototype.create=function(e,n,r){return new c(e,n,r)},InAppBrowser.ɵfac=(()=>{let e;return function InAppBrowser_Factory(n){return(e||(e=a.xGo(InAppBrowser)))(n||InAppBrowser)}})(),InAppBrowser.ɵprov=a.jDH({token:InAppBrowser,factory:InAppBrowser.ɵfac}),InAppBrowser.pluginName="InAppBrowser",InAppBrowser.plugin="cordova-plugin-inappbrowser",InAppBrowser.pluginRef="cordova.InAppBrowser",InAppBrowser.repo="https://github.com/apache/cordova-plugin-inappbrowser",InAppBrowser.platforms=["AmazonFire OS","Android","Browser","iOS","macOS","Windows"],InAppBrowser=(0,o.Cg)([],InAppBrowser)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},61402:(e,n,r)=>{"use strict";r.d(n,{S:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function WebView(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(WebView,e),Object.defineProperty(WebView.prototype,"convertFileSrc",{get:function(){return(0,i.oO)(this,"convertFileSrc")},set:function(e){(0,i.kC)(this,"convertFileSrc",e)},enumerable:!1,configurable:!0}),WebView.ɵfac=(()=>{let e;return function WebView_Factory(n){return(e||(e=s.xGo(WebView)))(n||WebView)}})(),WebView.ɵprov=s.jDH({token:WebView,factory:WebView.ɵfac}),WebView.pluginName="WebView",WebView.plugin="cordova-plugin-ionic-webview",WebView.pluginRef="window.Ionic.WebView",WebView.repo="https://github.com/ionic-team/cordova-plugin-ionic-webview",WebView.platforms=["Android","iOS"],WebView.install="ionic cordova plugin add cordova-plugin-ionic-webview",WebView=(0,o.Cg)([],WebView)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},35511:(e,n,r)=>{"use strict";r.d(n,{s3:()=>u});var o=r(31635),i=r(77111),s=r(54438),a=function(e){return e.Light="light",e.Dark="dark",e}(a||{}),c=function(e){return e.Native="native",e.Ionic="ionic",e.Body="body",e.None="none",e}(c||{}),u=function(e){function Keyboard(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(Keyboard,e),Keyboard.prototype.hideFormAccessoryBar=function(e){return(0,i.bk)(this,"hideFormAccessoryBar",{sync:!0,platforms:["iOS"]},arguments)},Keyboard.prototype.hide=function(){return(0,i.bk)(this,"hide",{sync:!0,platforms:["iOS","Android"]},arguments)},Keyboard.prototype.show=function(){return(0,i.bk)(this,"show",{sync:!0,platforms:["Android"]},arguments)},Keyboard.prototype.setResizeMode=function(e){return(0,i.bk)(this,"setResizeMode",{sync:!0,platforms:["iOS"]},arguments)},Keyboard.prototype.setKeyboardStyle=function(e){return(0,i.bk)(this,"setKeyboardStyle",{sync:!0,platforms:["iOS"]},arguments)},Keyboard.prototype.disableScroll=function(e){return(0,i.bk)(this,"disableScroll",{sync:!0,platforms:["iOS"]},arguments)},Keyboard.prototype.onKeyboardShow=function(){return(0,i.bk)(this,"onKeyboardShow",{eventObservable:!0,event:"native.keyboardshow",platforms:["iOS","Android"]},arguments)},Keyboard.prototype.onKeyboardWillShow=function(){return(0,i.bk)(this,"onKeyboardWillShow",{eventObservable:!0,event:"keyboardWillShow",platforms:["iOS","Android"]},arguments)},Keyboard.prototype.onKeyboardDidShow=function(){return(0,i.bk)(this,"onKeyboardDidShow",{eventObservable:!0,event:"keyboardDidShow",platforms:["iOS","Android"]},arguments)},Keyboard.prototype.onKeyboardHide=function(){return(0,i.bk)(this,"onKeyboardHide",{eventObservable:!0,event:"native.keyboardhide",platforms:["iOS","Android"]},arguments)},Keyboard.prototype.onKeyboardWillHide=function(){return(0,i.bk)(this,"onKeyboardWillHide",{eventObservable:!0,event:"keyboardWillHide",platforms:["iOS","Android"]},arguments)},Keyboard.prototype.onKeyboardDidHide=function(){return(0,i.bk)(this,"onKeyboardDidHide",{eventObservable:!0,event:"keyboardDidHide",platforms:["iOS","Android"]},arguments)},Object.defineProperty(Keyboard.prototype,"isVisible",{get:function(){return(0,i.oO)(this,"isVisible")},set:function(e){(0,i.kC)(this,"isVisible",e)},enumerable:!1,configurable:!0}),Keyboard.ɵfac=(()=>{let e;return function Keyboard_Factory(n){return(e||(e=s.xGo(Keyboard)))(n||Keyboard)}})(),Keyboard.ɵprov=s.jDH({token:Keyboard,factory:Keyboard.ɵfac}),Keyboard.pluginName="Keyboard",Keyboard.plugin="cordova-plugin-ionic-keyboard",Keyboard.pluginRef="window.Keyboard",Keyboard.repo="https://github.com/ionic-team/cordova-plugin-ionic-keyboard",Keyboard.platforms=["Android","iOS"],Keyboard=(0,o.Cg)([],Keyboard)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},81100:(e,n,r)=>{"use strict";r.d(n,{WM:()=>u});var o=r(31635),i=r(77111),s=r(54438),a=function(e){return e.SECOND="second",e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.QUARTER="quarter",e.YEAR="year",e.WEEKDAY="weekday",e.WEEKDAY_ORDINAL="weekdayOrdinal",e.WEEK_OF_MONTH="weekOfMonth",e}(a||{}),c=function(e){return e.INPUT="input",e.BUTTON="button",e}(c||{}),u=function(e){function LocalNotifications(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(LocalNotifications,e),LocalNotifications.prototype.hasPermission=function(){return(0,i.bk)(this,"hasPermission",{},arguments)},LocalNotifications.prototype.requestPermission=function(){return(0,i.bk)(this,"requestPermission",{},arguments)},LocalNotifications.prototype.schedule=function(e){return(0,i.bk)(this,"schedule",{sync:!0},arguments)},LocalNotifications.prototype.update=function(e){return(0,i.bk)(this,"update",{sync:!0},arguments)},LocalNotifications.prototype.clear=function(e){return(0,i.bk)(this,"clear",{},arguments)},LocalNotifications.prototype.clearAll=function(){return(0,i.bk)(this,"clearAll",{},arguments)},LocalNotifications.prototype.cancel=function(e){return(0,i.bk)(this,"cancel",{},arguments)},LocalNotifications.prototype.cancelAll=function(){return(0,i.bk)(this,"cancelAll",{},arguments)},LocalNotifications.prototype.isPresent=function(e){return(0,i.bk)(this,"isPresent",{},arguments)},LocalNotifications.prototype.isScheduled=function(e){return(0,i.bk)(this,"isScheduled",{},arguments)},LocalNotifications.prototype.isTriggered=function(e){return(0,i.bk)(this,"isTriggered",{},arguments)},LocalNotifications.prototype.hasType=function(e,n){return(0,i.bk)(this,"hasType",{},arguments)},LocalNotifications.prototype.getType=function(e){return(0,i.bk)(this,"getType",{},arguments)},LocalNotifications.prototype.getIds=function(){return(0,i.bk)(this,"getIds",{},arguments)},LocalNotifications.prototype.getScheduledIds=function(){return(0,i.bk)(this,"getScheduledIds",{},arguments)},LocalNotifications.prototype.getTriggeredIds=function(){return(0,i.bk)(this,"getTriggeredIds",{},arguments)},LocalNotifications.prototype.get=function(e){return(0,i.bk)(this,"get",{},arguments)},LocalNotifications.prototype.getAll=function(){return(0,i.bk)(this,"getAll",{},arguments)},LocalNotifications.prototype.getScheduled=function(e){return(0,i.bk)(this,"getScheduled",{},arguments)},LocalNotifications.prototype.getTriggered=function(e){return(0,i.bk)(this,"getTriggered",{},arguments)},LocalNotifications.prototype.addActions=function(e,n){return(0,i.bk)(this,"addActions",{},arguments)},LocalNotifications.prototype.removeActions=function(e){return(0,i.bk)(this,"removeActions",{},arguments)},LocalNotifications.prototype.hasActions=function(e){return(0,i.bk)(this,"hasActions",{},arguments)},LocalNotifications.prototype.getDefaults=function(){return(0,i.bk)(this,"getDefaults",{sync:!0},arguments)},LocalNotifications.prototype.setDefaults=function(e){return(0,i.bk)(this,"setDefaults",{sync:!0},arguments)},LocalNotifications.prototype.getAllScheduled=function(){return(0,i.bk)(this,"getAllScheduled",{},arguments)},LocalNotifications.prototype.getAllTriggered=function(){return(0,i.bk)(this,"getAllTriggered",{},arguments)},LocalNotifications.prototype.on=function(e){return(0,i.bk)(this,"on",{observable:!0,clearFunction:"un",clearWithArgs:!0},arguments)},LocalNotifications.prototype.fireEvent=function(e,n){return(0,i.bk)(this,"fireEvent",{sync:!0},arguments)},LocalNotifications.prototype.fireQueuedEvents=function(){return(0,i.bk)(this,"fireQueuedEvents",{},arguments)},LocalNotifications.ɵfac=(()=>{let e;return function LocalNotifications_Factory(n){return(e||(e=s.xGo(LocalNotifications)))(n||LocalNotifications)}})(),LocalNotifications.ɵprov=s.jDH({token:LocalNotifications,factory:LocalNotifications.ɵfac}),LocalNotifications.pluginName="LocalNotifications",LocalNotifications.plugin="cordova-plugin-local-notification",LocalNotifications.pluginRef="cordova.plugins.notification.local",LocalNotifications.repo="https://github.com/katzer/cordova-plugin-local-notifications",LocalNotifications.platforms=["Android","iOS","Windows"],LocalNotifications=(0,o.Cg)([],LocalNotifications)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},38245:(e,n,r)=>{"use strict";r.d(n,{V:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function MediaCapture(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(MediaCapture,e),MediaCapture.prototype.captureAudio=function(e){return(0,i.bk)(this,"captureAudio",{callbackOrder:"reverse"},arguments)},MediaCapture.prototype.captureImage=function(e){return(0,i.bk)(this,"captureImage",{callbackOrder:"reverse"},arguments)},MediaCapture.prototype.captureVideo=function(e){return(0,i.bk)(this,"captureVideo",{callbackOrder:"reverse"},arguments)},MediaCapture.prototype.onPendingCaptureResult=function(){return(0,i.bk)(this,"onPendingCaptureResult",{eventObservable:!0,event:"pendingcaptureresult"},arguments)},MediaCapture.prototype.onPendingCaptureError=function(){return(0,i.bk)(this,"onPendingCaptureError",{eventObservable:!0,event:"pendingcaptureerror"},arguments)},Object.defineProperty(MediaCapture.prototype,"supportedImageModes",{get:function(){return(0,i.oO)(this,"supportedImageModes")},set:function(e){(0,i.kC)(this,"supportedImageModes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MediaCapture.prototype,"supportedAudioModes",{get:function(){return(0,i.oO)(this,"supportedAudioModes")},set:function(e){(0,i.kC)(this,"supportedAudioModes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(MediaCapture.prototype,"supportedVideoModes",{get:function(){return(0,i.oO)(this,"supportedVideoModes")},set:function(e){(0,i.kC)(this,"supportedVideoModes",e)},enumerable:!1,configurable:!0}),MediaCapture.ɵfac=(()=>{let e;return function MediaCapture_Factory(n){return(e||(e=s.xGo(MediaCapture)))(n||MediaCapture)}})(),MediaCapture.ɵprov=s.jDH({token:MediaCapture,factory:MediaCapture.ɵfac}),MediaCapture.pluginName="MediaCapture",MediaCapture.plugin="cordova-plugin-media-capture",MediaCapture.pluginRef="navigator.device.capture",MediaCapture.repo="https://github.com/apache/cordova-plugin-media-capture",MediaCapture.platforms=["Android","Browser","iOS","Windows"],MediaCapture=(0,o.Cg)([],MediaCapture)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},39488:(e,n,r)=>{"use strict";r.d(n,{S:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function SplashScreen(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(SplashScreen,e),SplashScreen.prototype.show=function(){return(0,i.bk)(this,"show",{sync:!0},arguments)},SplashScreen.prototype.hide=function(){return(0,i.bk)(this,"hide",{sync:!0},arguments)},SplashScreen.ɵfac=(()=>{let e;return function SplashScreen_Factory(n){return(e||(e=s.xGo(SplashScreen)))(n||SplashScreen)}})(),SplashScreen.ɵprov=s.jDH({token:SplashScreen,factory:SplashScreen.ɵfac}),SplashScreen.pluginName="SplashScreen",SplashScreen.plugin="cordova-plugin-splashscreen",SplashScreen.pluginRef="navigator.splashscreen",SplashScreen.repo="https://github.com/apache/cordova-plugin-splashscreen",SplashScreen.platforms=["Amazon Fire OS","Android","iOS","Windows"],SplashScreen=(0,o.Cg)([],SplashScreen)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},65162:(e,n,r)=>{"use strict";r.d(n,{j:()=>c});var o=r(31635),i=r(77111),s=r(54438),a=function(){function SQLiteObject(e){this._objectInstance=e}return SQLiteObject.prototype.addTransaction=function(e){return(0,i.WE)(this,"addTransaction",{sync:!0},arguments)},SQLiteObject.prototype.transaction=function(e){return(0,i.WE)(this,"transaction",{successIndex:2,errorIndex:1},arguments)},SQLiteObject.prototype.readTransaction=function(e){return(0,i.WE)(this,"readTransaction",{},arguments)},SQLiteObject.prototype.startNextTransaction=function(){return(0,i.WE)(this,"startNextTransaction",{sync:!0},arguments)},SQLiteObject.prototype.open=function(){return(0,i.WE)(this,"open",{},arguments)},SQLiteObject.prototype.close=function(){return(0,i.WE)(this,"close",{},arguments)},SQLiteObject.prototype.executeSql=function(e,n){return(0,i.WE)(this,"executeSql",{},arguments)},SQLiteObject.prototype.sqlBatch=function(e){return(0,i.WE)(this,"sqlBatch",{},arguments)},SQLiteObject.prototype.abortallPendingTransactions=function(){return(0,i.WE)(this,"abortallPendingTransactions",{sync:!0},arguments)},Object.defineProperty(SQLiteObject.prototype,"databaseFeatures",{get:function(){return(0,i.PV)(this,"databaseFeatures")},set:function(e){(0,i.jf)(this,"databaseFeatures",e)},enumerable:!1,configurable:!0}),Object.defineProperty(SQLiteObject.prototype,"openDBs",{get:function(){return(0,i.PV)(this,"openDBs")},set:function(e){(0,i.jf)(this,"openDBs",e)},enumerable:!1,configurable:!0}),SQLiteObject}(),c=function(e){function SQLite(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(SQLite,e),SQLite.prototype.create=function(e){var n=this;return function(){if(!0===(0,i.q0)(n))return new Promise((function(n,r){sqlitePlugin.openDatabase(e,(function(e){return n(new a(e))}),r)}))}()},SQLite.prototype.echoTest=function(){return(0,i.bk)(this,"echoTest",{},arguments)},SQLite.prototype.selfTest=function(){return(0,i.bk)(this,"selfTest",{},arguments)},SQLite.prototype.deleteDatabase=function(e){return(0,i.bk)(this,"deleteDatabase",{},arguments)},SQLite.ɵfac=(()=>{let e;return function SQLite_Factory(n){return(e||(e=s.xGo(SQLite)))(n||SQLite)}})(),SQLite.ɵprov=s.jDH({token:SQLite,factory:SQLite.ɵfac}),SQLite.pluginName="SQLite",SQLite.pluginRef="sqlitePlugin",SQLite.plugin="cordova-sqlite-storage",SQLite.repo="https://github.com/litehelpers/Cordova-sqlite-storage",SQLite.platforms=["Android","iOS","macOS","Windows"],SQLite=(0,o.Cg)([],SQLite)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},79048:(e,n,r)=>{"use strict";r.d(n,{e:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function StatusBar(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(StatusBar,e),StatusBar.prototype.overlaysWebView=function(e){return(0,i.bk)(this,"overlaysWebView",{sync:!0},arguments)},StatusBar.prototype.styleDefault=function(){return(0,i.bk)(this,"styleDefault",{sync:!0},arguments)},StatusBar.prototype.styleLightContent=function(){return(0,i.bk)(this,"styleLightContent",{sync:!0},arguments)},StatusBar.prototype.backgroundColorByName=function(e){return(0,i.bk)(this,"backgroundColorByName",{sync:!0},arguments)},StatusBar.prototype.backgroundColorByHexString=function(e){return(0,i.bk)(this,"backgroundColorByHexString",{sync:!0},arguments)},StatusBar.prototype.hide=function(){return(0,i.bk)(this,"hide",{sync:!0},arguments)},StatusBar.prototype.show=function(){return(0,i.bk)(this,"show",{sync:!0},arguments)},Object.defineProperty(StatusBar.prototype,"isVisible",{get:function(){return(0,i.oO)(this,"isVisible")},set:function(e){(0,i.kC)(this,"isVisible",e)},enumerable:!1,configurable:!0}),StatusBar.ɵfac=(()=>{let e;return function StatusBar_Factory(n){return(e||(e=s.xGo(StatusBar)))(n||StatusBar)}})(),StatusBar.ɵprov=s.jDH({token:StatusBar,factory:StatusBar.ɵfac}),StatusBar.pluginName="StatusBar",StatusBar.plugin="cordova-plugin-statusbar",StatusBar.pluginRef="StatusBar",StatusBar.repo="https://github.com/apache/cordova-plugin-statusbar",StatusBar.platforms=["Android","iOS","Windows"],StatusBar=(0,o.Cg)([],StatusBar)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},86497:(e,n,r)=>{"use strict";r.d(n,{P:()=>a});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function WebIntent(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(WebIntent,e),WebIntent.prototype.startActivity=function(e){return(0,i.bk)(this,"startActivity",{},arguments)},WebIntent.prototype.startActivityForResult=function(e){return(0,i.bk)(this,"startActivityForResult",{},arguments)},WebIntent.prototype.hasExtra=function(e){return(0,i.bk)(this,"hasExtra",{},arguments)},WebIntent.prototype.getExtra=function(e){return(0,i.bk)(this,"getExtra",{},arguments)},WebIntent.prototype.getUri=function(){return(0,i.bk)(this,"getUri",{},arguments)},WebIntent.prototype.onIntent=function(){return(0,i.bk)(this,"onIntent",{observable:!0},arguments)},WebIntent.prototype.sendBroadcast=function(e){return(0,i.bk)(this,"sendBroadcast",{},arguments)},WebIntent.prototype.startService=function(e){return(0,i.bk)(this,"startService",{},arguments)},WebIntent.prototype.registerBroadcastReceiver=function(e){return(0,i.bk)(this,"registerBroadcastReceiver",{observable:!0},arguments)},WebIntent.prototype.unregisterBroadcastReceiver=function(){return(0,i.bk)(this,"unregisterBroadcastReceiver",{sync:!0},arguments)},WebIntent.prototype.onActivityResult=function(){return(0,i.bk)(this,"onActivityResult",{sync:!0},arguments)},WebIntent.prototype.getIntent=function(){return(0,i.bk)(this,"getIntent",{},arguments)},WebIntent.prototype.sendResult=function(e){return(0,i.bk)(this,"sendResult",{},arguments)},Object.defineProperty(WebIntent.prototype,"ACTION_SEND",{get:function(){return(0,i.oO)(this,"ACTION_SEND")},set:function(e){(0,i.kC)(this,"ACTION_SEND",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"ACTION_VIEW",{get:function(){return(0,i.oO)(this,"ACTION_VIEW")},set:function(e){(0,i.kC)(this,"ACTION_VIEW",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"EXTRA_TEXT",{get:function(){return(0,i.oO)(this,"EXTRA_TEXT")},set:function(e){(0,i.kC)(this,"EXTRA_TEXT",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"EXTRA_SUBJECT",{get:function(){return(0,i.oO)(this,"EXTRA_SUBJECT")},set:function(e){(0,i.kC)(this,"EXTRA_SUBJECT",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"EXTRA_STREAM",{get:function(){return(0,i.oO)(this,"EXTRA_STREAM")},set:function(e){(0,i.kC)(this,"EXTRA_STREAM",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"EXTRA_EMAIL",{get:function(){return(0,i.oO)(this,"EXTRA_EMAIL")},set:function(e){(0,i.kC)(this,"EXTRA_EMAIL",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"ACTION_CALL",{get:function(){return(0,i.oO)(this,"ACTION_CALL")},set:function(e){(0,i.kC)(this,"ACTION_CALL",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"ACTION_SENDTO",{get:function(){return(0,i.oO)(this,"ACTION_SENDTO")},set:function(e){(0,i.kC)(this,"ACTION_SENDTO",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"ACTION_GET_CONTENT",{get:function(){return(0,i.oO)(this,"ACTION_GET_CONTENT")},set:function(e){(0,i.kC)(this,"ACTION_GET_CONTENT",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"ACTION_PICK",{get:function(){return(0,i.oO)(this,"ACTION_PICK")},set:function(e){(0,i.kC)(this,"ACTION_PICK",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"ACTION_INSTALL_PACKAGE",{get:function(){return(0,i.oO)(this,"ACTION_INSTALL_PACKAGE")},set:function(e){(0,i.kC)(this,"ACTION_INSTALL_PACKAGE",e)},enumerable:!1,configurable:!0}),Object.defineProperty(WebIntent.prototype,"ACTION_UNINSTALL_PACKAGE",{get:function(){return(0,i.oO)(this,"ACTION_UNINSTALL_PACKAGE")},set:function(e){(0,i.kC)(this,"ACTION_UNINSTALL_PACKAGE",e)},enumerable:!1,configurable:!0}),WebIntent.ɵfac=(()=>{let e;return function WebIntent_Factory(n){return(e||(e=s.xGo(WebIntent)))(n||WebIntent)}})(),WebIntent.ɵprov=s.jDH({token:WebIntent,factory:WebIntent.ɵfac}),WebIntent.pluginName="WebIntent",WebIntent.plugin="com-darryncampbell-cordova-plugin-intent",WebIntent.pluginRef="plugins.intentShim",WebIntent.repo="https://github.com/darryncampbell/darryncampbell-cordova-plugin-intent",WebIntent.platforms=["Android"],WebIntent=(0,o.Cg)([],WebIntent)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0},44442:(e,n,r)=>{"use strict";r.d(n,{L:()=>o,a:()=>i,b:()=>s,c:()=>a,d:()=>c,g:()=>getIonPageElement});r(45531);const o="ionViewWillEnter",i="ionViewDidEnter",s="ionViewWillLeave",a="ionViewDidLeave",c="ionViewWillUnload";const getIonPageElement=e=>{if(e.classList.contains("ion-page"))return e;const n=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return n||e}},45531:(e,n,r)=>{"use strict";r.d(n,{a:()=>isPlatform,c:()=>o,g:()=>getPlatforms});const o=new class Config{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}},getPlatforms=e=>setupPlatforms(e),isPlatform=(e,n)=>("string"==typeof e&&(n=e,e=void 0),getPlatforms(e).includes(n)),setupPlatforms=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let n=e.Ionic.platforms;return null==n&&(n=e.Ionic.platforms=detectPlatforms(e),n.forEach((n=>e.document.documentElement.classList.add(`plt-${n}`)))),n},detectPlatforms=e=>{const n=o.get("platform");return Object.keys(i).filter((r=>{const o=null==n?void 0:n[r];return"function"==typeof o?o(e):i[r](e)}))},isIpad=e=>!!testUserAgent(e,/iPad/i)||!(!testUserAgent(e,/Macintosh/i)||!isMobile(e)),isAndroid=e=>testUserAgent(e,/android|sink/i),isMobile=e=>matchMedia(e,"(any-pointer:coarse)"),isHybrid=e=>isCordova(e)||isCapacitorNative(e),isCordova=e=>!!(e.cordova||e.phonegap||e.PhoneGap),isCapacitorNative=e=>{const n=e.Capacitor;return!!((null==n?void 0:n.isNative)||(null==n?void 0:n.isNativePlatform)&&n.isNativePlatform())},testUserAgent=(e,n)=>n.test(e.navigator.userAgent),matchMedia=(e,n)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,n).matches},i={ipad:isIpad,iphone:e=>testUserAgent(e,/iPhone/i),ios:e=>testUserAgent(e,/iPhone|iPod/i)||isIpad(e),android:isAndroid,phablet:e=>{const n=e.innerWidth,r=e.innerHeight,o=Math.min(n,r),i=Math.max(n,r);return o>390&&o<520&&i>620&&i<800},tablet:e=>{const n=e.innerWidth,r=e.innerHeight,o=Math.min(n,r),i=Math.max(n,r);return isIpad(e)||(e=>isAndroid(e)&&!testUserAgent(e,/mobile/i))(e)||o>460&&o<820&&i>780&&i<1400},cordova:isCordova,capacitor:isCapacitorNative,electron:e=>testUserAgent(e,/electron/i),pwa:e=>{var n;return!(!(null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:isMobile,mobileweb:e=>isMobile(e)&&!isHybrid(e),desktop:e=>!isMobile(e),hybrid:isHybrid}},19986:(e,n,r)=>{"use strict";r.d(n,{c:()=>createAnimation});var o=r(28476);let i;const setStyleProperty=(e,n,r)=>{const o=n.startsWith("animation")?(e=>{void 0===i&&(i=void 0===e.style.animationName&&void 0!==e.style.webkitAnimationName?"-webkit-":"");return i})(e):"";e.style.setProperty(o+n,r)},addClassToArray=(e=[],n)=>{if(void 0!==n){const r=Array.isArray(n)?n:[n];return[...e,...r]}return e},createAnimation=e=>{let n,r,i,s,a,c,u,p,f,g,v,C=[],b=[],w=[],A=!1,_={},E=[],I=[],T={},P=0,k=!1,x=!1,F=!0,R=!1,N=!0,L=!1;const H=e,U=[],B=[],j=[],V=[],G=[],z=[],q=[],W=[],K=[],Q=[],X=[],Y="function"==typeof AnimationEffect||void 0!==o.w&&"function"==typeof o.w.AnimationEffect,J="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Y,getWebAnimations=()=>X,cleanUp=e=>{cleanUpElements(),e&&cleanUpStyleSheets()},clearCallback=(e,n)=>{const r=n.findIndex((n=>n.c===e));r>-1&&n.splice(r,1)},onFinish=(e,n)=>(((null==n?void 0:n.oneTimeCallback)?B:U).push({c:e,o:n}),v),clearOnFinish=()=>(U.length=0,B.length=0,v),cleanUpElements=()=>{J&&(X.forEach((e=>{e.cancel()})),X.length=0)},cleanUpStyleSheets=()=>{z.forEach((e=>{(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),z.length=0},getFill=()=>void 0!==a?a:u?u.getFill():"both",getDirection=()=>void 0!==p?p:void 0!==c?c:u?u.getDirection():"normal",getEasing=()=>k?"linear":void 0!==i?i:u?u.getEasing():"linear",getDuration=()=>x?0:void 0!==f?f:void 0!==r?r:u?u.getDuration():0,getIterations=()=>void 0!==s?s:u?u.getIterations():1,getDelay=()=>void 0!==g?g:void 0!==n?n:u?u.getDelay():0,updateKeyframes=e=>{J&&getWebAnimations().forEach((n=>{const r=n.effect;if(r.setKeyframes)r.setKeyframes(e);else{const o=new KeyframeEffect(r.target,e,r.getTiming());n.effect=o}}))},animationFinish=()=>{0!==P&&(P--,0===P&&((()=>{K.forEach((e=>e())),Q.forEach((e=>e()));const e=F?1:0,n=E,r=I,o=T;V.forEach((e=>{const i=e.classList;n.forEach((e=>i.add(e))),r.forEach((e=>i.remove(e)));for(const n in o)o.hasOwnProperty(n)&&setStyleProperty(e,n,o[n])})),f=void 0,p=void 0,g=void 0,U.forEach((n=>n.c(e,v))),B.forEach((n=>n.c(e,v))),B.length=0,N=!0,F&&(R=!0),F=!0})(),u&&u.animationFinish()))},initializeAnimation=()=>{(()=>{q.forEach((e=>e())),W.forEach((e=>e()));const e=b,n=w,r=_;V.forEach((o=>{const i=o.classList;e.forEach((e=>i.add(e))),n.forEach((e=>i.remove(e)));for(const e in r)r.hasOwnProperty(e)&&setStyleProperty(o,e,r[e])}))})(),C.length>0&&J&&(V.forEach((e=>{const n=e.animate(C,{id:H,delay:getDelay(),duration:getDuration(),easing:getEasing(),iterations:getIterations(),fill:getFill(),direction:getDirection()});n.pause(),X.push(n)})),X.length>0&&(X[0].onfinish=()=>{animationFinish()})),A=!0},setAnimationStep=e=>{e=Math.min(Math.max(e,0),.9999),J&&X.forEach((n=>{n.currentTime=n.effect.getComputedTiming().delay+getDuration()*e,n.pause()}))},updateWebAnimation=e=>{X.forEach((e=>{e.effect.updateTiming({delay:getDelay(),duration:getDuration(),easing:getEasing(),iterations:getIterations(),fill:getFill(),direction:getDirection()})})),void 0!==e&&setAnimationStep(e)},update=(e=!1,n=!0,r)=>(e&&G.forEach((o=>{o.update(e,n,r)})),J&&updateWebAnimation(r),v),pauseAnimation=()=>{A&&(J?X.forEach((e=>{e.pause()})):V.forEach((e=>{setStyleProperty(e,"animation-play-state","paused")})),L=!0)},play=e=>new Promise((n=>{(null==e?void 0:e.sync)&&(x=!0,onFinish((()=>x=!1),{oneTimeCallback:!0})),A||initializeAnimation(),R&&(void(J&&(setAnimationStep(0),updateWebAnimation())),R=!1),N&&(P=G.length+1,N=!1);const onStopCallback=()=>{clearCallback(onFinishCallback,B),n()},onFinishCallback=()=>{clearCallback(onStopCallback,j),n()};onFinish(onFinishCallback,{oneTimeCallback:!0}),((e,n)=>{j.push({c:e,o:n})})(onStopCallback,{oneTimeCallback:!0}),G.forEach((e=>{e.play()})),J?(X.forEach((e=>{e.play()})),0!==C.length&&0!==V.length||animationFinish()):animationFinish(),L=!1})),from=(e,n)=>{const r=C[0];return void 0===r||void 0!==r.offset&&0!==r.offset?C=[{offset:0,[e]:n},...C]:r[e]=n,v};return v={parentAnimation:u,elements:V,childAnimations:G,id:H,animationFinish,from,to:(e,n)=>{const r=C[C.length-1];return void 0===r||void 0!==r.offset&&1!==r.offset?C=[...C,{offset:1,[e]:n}]:r[e]=n,v},fromTo:(e,n,r)=>from(e,n).to(e,r),parent:e=>(u=e,v),play,pause:()=>(G.forEach((e=>{e.pause()})),pauseAnimation(),v),stop:()=>{G.forEach((e=>{e.stop()})),A&&(cleanUpElements(),A=!1),k=!1,x=!1,N=!0,p=void 0,f=void 0,g=void 0,P=0,R=!1,F=!0,L=!1,j.forEach((e=>e.c(0,v))),j.length=0},destroy:e=>(G.forEach((n=>{n.destroy(e)})),cleanUp(e),V.length=0,G.length=0,C.length=0,clearOnFinish(),A=!1,N=!0,v),keyframes:e=>{const n=C!==e;return C=e,n&&updateKeyframes(C),v},addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const n of e)n.parent(v),G.push(n);else e.parent(v),G.push(e);return v},addElement:e=>{if(null!=e)if(1===e.nodeType)V.push(e);else if(e.length>=0)for(let n=0;n<e.length;n++)V.push(e[n]);else console.error("Invalid addElement value");return v},update,fill:e=>(a=e,update(!0),v),direction:e=>(c=e,update(!0),v),iterations:e=>(s=e,update(!0),v),duration:e=>(J||0!==e||(e=1),r=e,update(!0),v),easing:e=>(i=e,update(!0),v),delay:e=>(n=e,update(!0),v),getWebAnimations,getKeyframes:()=>C,getFill,getDirection,getDelay,getIterations,getEasing,getDuration,afterAddRead:e=>(K.push(e),v),afterAddWrite:e=>(Q.push(e),v),afterClearStyles:(e=[])=>{for(const n of e)T[n]="";return v},afterStyles:(e={})=>(T=e,v),afterRemoveClass:e=>(I=addClassToArray(I,e),v),afterAddClass:e=>(E=addClassToArray(E,e),v),beforeAddRead:e=>(q.push(e),v),beforeAddWrite:e=>(W.push(e),v),beforeClearStyles:(e=[])=>{for(const n of e)_[n]="";return v},beforeStyles:(e={})=>(_=e,v),beforeRemoveClass:e=>(w=addClassToArray(w,e),v),beforeAddClass:e=>(b=addClassToArray(b,e),v),onFinish,isRunning:()=>0!==P&&!L,progressStart:(e=!1,n)=>(G.forEach((r=>{r.progressStart(e,n)})),pauseAnimation(),k=e,A||initializeAnimation(),update(!1,!0,n),v),progressStep:e=>(G.forEach((n=>{n.progressStep(e)})),setAnimationStep(e),v),progressEnd:(e,n,r)=>(k=!1,G.forEach((o=>{o.progressEnd(e,n,r)})),void 0!==r&&(f=r),R=!1,F=!0,0===e?(p="reverse"===getDirection()?"normal":"reverse","reverse"===p&&(F=!1),J?(update(),setAnimationStep(1-n)):(g=(1-n)*getDuration()*-1,update(!1,!1))):1===e&&(J?(update(),setAnimationStep(n)):(g=n*getDuration()*-1,update(!1,!1))),void 0===e||u||play(),v)}}},90464:(e,n,r)=>{"use strict";r.d(n,{E:()=>s,a:()=>sanitizeDOMString,s:()=>setupConfig});const sanitizeDOMString=e=>{try{if(e instanceof IonicSafeString)return e.value;if(!isSanitizerEnabled()||"string"!=typeof e||""===e)return e;if(e.includes("onload="))return"";const n=document.createDocumentFragment(),r=document.createElement("div");n.appendChild(r),r.innerHTML=e,i.forEach((e=>{const r=n.querySelectorAll(e);for(let e=r.length-1;e>=0;e--){const o=r[e];o.parentNode?o.parentNode.removeChild(o):n.removeChild(o);const i=getElementChildren(o);for(let e=0;e<i.length;e++)sanitizeElement(i[e])}}));const o=getElementChildren(n);for(let e=0;e<o.length;e++)sanitizeElement(o[e]);const s=document.createElement("div");s.appendChild(n);const a=s.querySelector("div");return null!==a?a.innerHTML:s.innerHTML}catch(e){return console.error(e),""}},sanitizeElement=e=>{if(e.nodeType&&1!==e.nodeType)return;if("undefined"!=typeof NamedNodeMap&&!(e.attributes instanceof NamedNodeMap))return e.remove(),void 0;for(let n=e.attributes.length-1;n>=0;n--){const r=e.attributes.item(n),i=r.name;if(!o.includes(i.toLowerCase())){e.removeAttribute(i);continue}const s=r.value,a=e[i];(null!=s&&s.toLowerCase().includes("javascript:")||null!=a&&a.toLowerCase().includes("javascript:"))&&e.removeAttribute(i)}const n=getElementChildren(e);for(let e=0;e<n.length;e++)sanitizeElement(n[e])},getElementChildren=e=>null!=e.children?e.children:e.childNodes,isSanitizerEnabled=()=>{var e;const n=window,r=null===(e=null==n?void 0:n.Ionic)||void 0===e?void 0:e.config;return!r||(r.get?r.get("sanitizerEnabled",!0):!0===r.sanitizerEnabled||void 0===r.sanitizerEnabled)},o=["class","id","href","src","name","slot"],i=["script","style","iframe","meta","link","object","embed"];class IonicSafeString{constructor(e){this.value=e}}const setupConfig=e=>{const n=window,r=n.Ionic;if(!r||!r.config||"Object"===r.config.constructor.name)return n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),e),n.Ionic.config},s=!1},33345:(e,n,r)=>{"use strict";r.d(n,{C:()=>CoreDelegate,a:()=>s,d:()=>detachComponent});var o=r(10467),i=r(81559);const s=function(){var e=(0,o.A)((function*(e,n,r,o,s,a){var c;if(e)return e.attachViewToDom(n,r,s,o);if(!(a||"string"==typeof r||r instanceof HTMLElement))throw new Error("framework delegate is missing");const u="string"==typeof r?null===(c=n.ownerDocument)||void 0===c?void 0:c.createElement(r):r;return o&&o.forEach((e=>u.classList.add(e))),s&&Object.assign(u,s),n.appendChild(u),yield new Promise((e=>(0,i.c)(u,e))),u}));return function attachComponent(n,r,o,i,s,a){return e.apply(this,arguments)}}(),detachComponent=(e,n)=>{if(n){if(e){return e.removeViewFromDom(n.parentElement,n)}n.remove()}return Promise.resolve()},CoreDelegate=()=>{let e,n;return{attachViewToDom:function(){var r=(0,o.A)((function*(r,o,s={},a=[]){var c,u;let p;if(e=r,o){const n="string"==typeof o?null===(c=e.ownerDocument)||void 0===c?void 0:c.createElement(o):o;a.forEach((e=>n.classList.add(e))),Object.assign(n,s),e.appendChild(n),p=n,yield new Promise((e=>(0,i.c)(n,e)))}else if(e.children.length>0&&("ION-MODAL"===e.tagName||"ION-POPOVER"===e.tagName)){if(!(p=e.children[0]).classList.contains("ion-delegate-host")){const n=null===(u=e.ownerDocument)||void 0===u?void 0:u.createElement("div");n.classList.add("ion-delegate-host"),a.forEach((e=>n.classList.add(e))),n.append(...e.children),e.appendChild(n),p=n}}const f=document.querySelector("ion-app")||document.body;return n=document.createComment("ionic teleport"),e.parentNode.insertBefore(n,e),f.appendChild(e),null!=p?p:e}));return function attachViewToDom(e,n){return r.apply(this,arguments)}}(),removeViewFromDom:()=>(e&&n&&(n.parentNode.insertBefore(e,n),n.remove()),Promise.resolve())}}},11970:(e,n,r)=>{"use strict";r.d(n,{B:()=>o,G:()=>i});class GestureDelegate{constructor(e,n,r,o,i){this.id=n,this.name=r,this.disableScroll=i,this.priority=1e6*o+n,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class BlockerDelegate{constructor(e,n,r,o){this.id=n,this.disable=r,this.disableScroll=o,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const o="backdrop-no-scroll",i=new class GestureController{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new GestureDelegate(this,this.newID(),e.name,null!==(n=e.priority)&&void 0!==n?n:0,!!e.disableScroll)}createBlocker(e={}){return new BlockerDelegate(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,r){return this.canStart(e)?(this.requestedStart.set(n,r),!0):(this.requestedStart.delete(n),!1)}capture(e,n,r){if(!this.start(e,n,r))return!1;const o=this.requestedStart;let i=-1e4;if(o.forEach((e=>{i=Math.max(i,e)})),i===r){this.capturedId=n,o.clear();const r=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(r),!0}return o.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let r=this.disabledGestures.get(e);void 0===r&&(r=new Set,this.disabledGestures.set(e,r)),r.add(n)}enableGesture(e,n){const r=this.disabledGestures.get(e);void 0!==r&&r.delete(n)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(o)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(o)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}},66221:(e,n,r)=>{"use strict";r.r(n),r.d(n,{MENU_BACK_BUTTON_PRIORITY:()=>c,OVERLAY_BACK_BUTTON_PRIORITY:()=>a,blockHardwareBackButton:()=>blockHardwareBackButton,shouldUseCloseWatcher:()=>shouldUseCloseWatcher,startHardwareBackButton:()=>startHardwareBackButton});var o=r(10467),i=r(28476),s=r(74346);r(96317);const shouldUseCloseWatcher=()=>s.c.get("experimentalCloseWatcher",!1)&&void 0!==i.w&&"CloseWatcher"in i.w,blockHardwareBackButton=()=>{document.addEventListener("backbutton",(()=>{}))},startHardwareBackButton=()=>{const e=document;let n=!1;const backButtonCallback=()=>{if(n)return;let r=0,i=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,n){i.push({priority:e,handler:n,id:r++})}}});e.dispatchEvent(s);const a=function(){var e=(0,o.A)((function*(e){try{if(null==e?void 0:e.handler){const n=e.handler(processHandlers);null!=n&&(yield n)}}catch(e){console.error(e)}}));return function executeAction(n){return e.apply(this,arguments)}}(),processHandlers=()=>{if(i.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach((n=>{n.priority>=e.priority&&(e=n)})),n=!0,i=i.filter((n=>n.id!==e.id)),a(e).then((()=>n=!1))}};processHandlers()};if(shouldUseCloseWatcher()){let e;const configureWatcher=()=>{null==e?void 0:e.destroy(),e=new i.w.CloseWatcher,e.onclose=()=>{backButtonCallback(),configureWatcher()}};configureWatcher()}else e.addEventListener("backbutton",backButtonCallback)},a=100,c=99},81559:(e,n,r)=>{"use strict";r.d(n,{a:()=>addEventListener,b:()=>removeEventListener,c:()=>componentOnReady,d:()=>renderHiddenInput,e:()=>debounceEvent,f:()=>focusVisibleElement,g:()=>getElementRoot,h:()=>inheritAttributes,i:()=>inheritAriaAttributes,j:()=>clamp,k:()=>hasLazyBuild,l:()=>isSafeNumber,m:()=>hasShadowDom,n:()=>assert,o:()=>getNextSiblingOfType,p:()=>isEndSide,q:()=>debounce,r:()=>raf,s:()=>shallowEqualStringMap,t:()=>transitionEndAsync,u:()=>pointerCoord});const transitionEndAsync=(e,n=0)=>new Promise((r=>{transitionEnd(e,n,r)})),transitionEnd=(e,n=0,r)=>{let o,i;const s={passive:!0},unregister=()=>{o&&o()},onTransitionEnd=n=>{void 0!==n&&e!==n.target||(unregister(),r(n))};return e&&(e.addEventListener("webkitTransitionEnd",onTransitionEnd,s),e.addEventListener("transitionend",onTransitionEnd,s),i=setTimeout(onTransitionEnd,n+500),o=()=>{void 0!==i&&(clearTimeout(i),i=void 0),e.removeEventListener("webkitTransitionEnd",onTransitionEnd,s),e.removeEventListener("transitionend",onTransitionEnd,s)}),unregister},componentOnReady=(e,n)=>{e.componentOnReady?e.componentOnReady().then((e=>n(e))):raf((()=>n(e)))},hasLazyBuild=e=>void 0!==e.componentOnReady,inheritAttributes=(e,n=[])=>{const r={};return n.forEach((n=>{if(e.hasAttribute(n)){null!==e.getAttribute(n)&&(r[n]=e.getAttribute(n)),e.removeAttribute(n)}})),r},o=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],inheritAriaAttributes=(e,n)=>{let r=o;return n&&n.length>0&&(r=r.filter((e=>!n.includes(e)))),inheritAttributes(e,r)},addEventListener=(e,n,r,o)=>e.addEventListener(n,r,o),removeEventListener=(e,n,r,o)=>e.removeEventListener(n,r,o),getElementRoot=(e,n=e)=>e.shadowRoot||n,raf=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),hasShadowDom=e=>!!e.shadowRoot&&!!e.attachShadow,focusVisibleElement=e=>{if(e.focus(),e.classList.contains("ion-focusable")){const n=e.closest("ion-app");n&&n.setFocus([e])}},renderHiddenInput=(e,n,r,o,i)=>{if(e||hasShadowDom(n)){let e=n.querySelector("input.aux-input");e||(e=n.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),n.appendChild(e)),e.disabled=i,e.name=r,e.value=o||""}},clamp=(e,n,r)=>Math.max(e,Math.min(n,r)),assert=(e,n)=>{if(!e){const e="ASSERT: "+n;throw console.error(e),new Error(e)}},pointerCoord=e=>{if(e){const n=e.changedTouches;if(n&&n.length>0){const e=n[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},isEndSide=e=>{const n="rtl"===document.dir;switch(e){case"start":return n;case"end":return!n;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},debounceEvent=(e,n)=>{const r=e._original||e;return{_original:e,emit:debounce(r.emit.bind(r),n)}},debounce=(e,n=0)=>{let r;return(...o)=>{clearTimeout(r),r=setTimeout(e,n,...o)}},shallowEqualStringMap=(e,n)=>{if(null!=e?e:e={},null!=n||(n={}),e===n)return!0;const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r){if(!(o in n))return!1;if(e[o]!==n[o])return!1}return!0},getNextSiblingOfType=e=>{let n=e.nextSibling;for(;n;){if(n.nodeType===Node.ELEMENT_NODE&&null!==n)return n;n=n.nextSibling}return null},isSafeNumber=e=>"number"==typeof e&&!isNaN(e)&&isFinite(e)},28607:(e,n,r)=>{"use strict";r.r(n),r.d(n,{GESTURE_CONTROLLER:()=>o.G,createGesture:()=>createGesture});var o=r(11970);const addEventListener=(e,n,r,o)=>{const i=supportsPassive(e)?{capture:!!o.capture,passive:!!o.passive}:!!o.capture;let s,a;return e.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(s="addEventListener",a="removeEventListener"),e[s](n,r,i),()=>{e[a](n,r,i)}},supportsPassive=e=>{if(void 0===i)try{const n=Object.defineProperty({},"passive",{get:()=>{i=!0}});e.addEventListener("optsTest",(()=>{}),n)}catch(e){i=!1}return!!i};let i;const getDocument=e=>e instanceof Document?e:e.ownerDocument,createGesture=e=>{let n=!1,r=!1,i=!0,s=!1;const a=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),c=a.canStart,u=a.onWillStart,p=a.onStart,f=a.onEnd,g=a.notCaptured,v=a.onMove,C=a.threshold,b=a.passive,w=a.blurOnStart,A={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},_=((e,n,r)=>{const o=r*(Math.PI/180),i="x"===e,s=Math.cos(o),a=n*n;let c=0,u=0,p=!1,f=0;return{start(e,n){c=e,u=n,f=0,p=!0},detect(e,n){if(!p)return!1;const r=e-c,o=n-u,g=r*r+o*o;if(g<a)return!1;const v=Math.sqrt(g),C=(i?r:o)/v;return f=C>s?1:C<-s?-1:0,p=!1,!0},isGesture:()=>0!==f,getDirection:()=>f}})(a.direction,a.threshold,a.maxAngle),E=o.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),fireOnMove=()=>{n&&(s=!1,v&&v(A))},tryToCapturePan=()=>!!E.capture()&&(n=!0,i=!1,A.startX=A.currentX,A.startY=A.currentY,A.startTime=A.currentTime,u?u(A).then(fireOnStart):fireOnStart(),!0),fireOnStart=()=>{w&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;(null==e?void 0:e.blur)&&e.blur()}})(),p&&p(A),i=!0},reset=()=>{n=!1,r=!1,s=!1,i=!0,E.release()},pointerUp=e=>{const r=n,o=i;if(reset(),o){if(calcGestureData(A,e),r)return f&&f(A),void 0;g&&g(A)}},I=((e,n,r,o,i)=>{let s,a,c,u,p,f,g,v=0;const handleTouchStart=o=>{v=Date.now()+2e3,n(o)&&(!a&&r&&(a=addEventListener(e,"touchmove",r,i)),c||(c=addEventListener(o.target,"touchend",handleTouchEnd,i)),u||(u=addEventListener(o.target,"touchcancel",handleTouchEnd,i)))},handleMouseDown=o=>{v>Date.now()||n(o)&&(!f&&r&&(f=addEventListener(getDocument(e),"mousemove",r,i)),g||(g=addEventListener(getDocument(e),"mouseup",handleMouseUp,i)))},handleTouchEnd=e=>{stopTouch(),o&&o(e)},handleMouseUp=e=>{stopMouse(),o&&o(e)},stopTouch=()=>{a&&a(),c&&c(),u&&u(),a=c=u=void 0},stopMouse=()=>{f&&f(),g&&g(),f=g=void 0},stop=()=>{stopTouch(),stopMouse()},enable=(n=!0)=>{n?(s||(s=addEventListener(e,"touchstart",handleTouchStart,i)),p||(p=addEventListener(e,"mousedown",handleMouseDown,i))):(s&&s(),p&&p(),s=p=void 0,stop())};return{enable,stop,destroy:()=>{enable(!1),o=r=n=void 0}}})(a.el,(e=>{const n=now(e);return!(r||!i)&&(updateDetail(e,A),A.startX=A.currentX,A.startY=A.currentY,A.startTime=A.currentTime=n,A.velocityX=A.velocityY=A.deltaX=A.deltaY=0,A.event=e,(!c||!1!==c(A))&&(E.release(),!!E.start()&&(r=!0,0===C?tryToCapturePan():(_.start(A.startX,A.startY),!0))))}),(e=>{if(n)return!s&&i&&(s=!0,calcGestureData(A,e),requestAnimationFrame(fireOnMove)),void 0;calcGestureData(A,e),_.detect(A.currentX,A.currentY)&&(_.isGesture()&&tryToCapturePan()||abortGesture())}),pointerUp,{capture:!1,passive:b}),abortGesture=()=>{reset(),I.stop(),g&&g(A)};return{enable(e=!0){e||(n&&pointerUp(void 0),reset()),I.enable(e)},destroy(){E.destroy(),I.destroy()}}},calcGestureData=(e,n)=>{if(!n)return;const r=e.currentX,o=e.currentY,i=e.currentTime;updateDetail(n,e);const s=e.currentX,a=e.currentY,c=(e.currentTime=now(n))-i;if(c>0&&c<100){const n=(a-o)/c;e.velocityX=.7*((s-r)/c)+.3*e.velocityX,e.velocityY=.7*n+.3*e.velocityY}e.deltaX=s-e.startX,e.deltaY=a-e.startY,e.event=n},updateDetail=(e,n)=>{let r=0,o=0;if(e){const n=e.changedTouches;if(n&&n.length>0){const e=n[0];r=e.clientX,o=e.clientY}else void 0!==e.pageX&&(r=e.pageX,o=e.pageY)}n.currentX=r,n.currentY=o},now=e=>e.timeStamp||Date.now()},96317:(e,n,r)=>{"use strict";r.d(n,{B:()=>g,a:()=>setMode,b:()=>bootstrapLazy,c:()=>createEvent,d:()=>U,e:()=>q,f:()=>getElement,g:()=>getMode,h:()=>h,i:()=>forceUpdate,j:()=>getAssetPath,r:()=>registerInstance,w:()=>B});var o=r(10467);const i=!0,s="hydrated",a=!0,c=!0,u=!0,p=!0;var f=Object.defineProperty,g={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},v=new WeakMap,getHostRef=e=>v.get(e),registerInstance=(e,n)=>v.set(n.$lazyInstance$=e,n),isMemberInElement=(e,n)=>n in e,consoleError=(e,n)=>(0,console.error)(e,n),C=new Map,b=new Map,w=[],A="s-id",_="c-id",E="slot-fb{display:contents}slot-fb[hidden]{display:none}",I="http://www.w3.org/1999/xlink",T="undefined"!=typeof window?window:{},P=T.document||{head:{}},k={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,n,r,o)=>e.addEventListener(n,r,o),rel:(e,n,r,o)=>e.removeEventListener(n,r,o),ce:(e,n)=>new CustomEvent(e,n)},x=c,F=(()=>{let e=!1;try{P.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(e){}return e})(),R=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),N=!1,L=[],H=[],queueTask=(e,n)=>r=>{e.push(r),N||(N=!0,n&&4&k.$flags$?nextTick(flush):k.raf(flush))},consume=e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(e){consoleError(e)}e.length=0},flush=()=>{consume(L),consume(H),(N=L.length>0)&&k.raf(flush)},nextTick=e=>{return Promise.resolve(n).then(e);var n},U=queueTask(L,!1),B=queueTask(H,!0),getAssetPath=e=>{const n=new URL(e,k.$resourcesUrl$);return n.origin!==T.location.origin?n.href:n.pathname},j={},isComplexType=e=>"object"===(e=typeof e)||"function"===e;function queryNonceMetaTagContent(e){var n,r,o;return null!=(o=null==(r=null==(n=e.head)?void 0:n.querySelector('meta[name="csp-nonce"]'))?void 0:r.getAttribute("content"))?o:void 0}((e,n)=>{for(var r in n)f(e,r,{get:n[r],enumerable:!0})})({},{err:()=>err,map:()=>map,ok:()=>ok,unwrap:()=>unwrap,unwrapErr:()=>unwrapErr});var ok=e=>({isOk:!0,isErr:!1,value:e}),err=e=>({isOk:!1,isErr:!0,value:e});function map(e,n){if(e.isOk){const r=n(e.value);return r instanceof Promise?r.then((e=>ok(e))):ok(r)}if(e.isErr){return err(e.value)}throw"should never get here"}var V,G,z,unwrap=e=>{if(e.isOk)return e.value;throw e.value},unwrapErr=e=>{if(e.isErr)return e.value;throw e.value},h=(e,n,...r)=>{let o=null,i=null,s=null,a=!1,c=!1;const u=[],walk=n=>{for(let r=0;r<n.length;r++)o=n[r],Array.isArray(o)?walk(o):null!=o&&"boolean"!=typeof o&&((a="function"!=typeof e&&!isComplexType(o))&&(o=String(o)),a&&c?u[u.length-1].$text$+=o:u.push(a?newVNode(null,o):o),c=a)};if(walk(r),n){n.key&&(i=n.key),n.name&&(s=n.name);{const e=n.className||n.class;e&&(n.class="object"!=typeof e?e:Object.keys(e).filter((n=>e[n])).join(" "))}}if("function"==typeof e)return e(null===n?{}:n,u,W);const p=newVNode(e,null);return p.$attrs$=n,u.length>0&&(p.$children$=u),p.$key$=i,p.$name$=s,p},newVNode=(e,n)=>{const r={$flags$:0,$tag$:e,$text$:n,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return r},q={},W={forEach:(e,n)=>e.map(convertToPublic).forEach(n),map:(e,n)=>e.map(convertToPublic).map(n).map(convertToPrivate)},convertToPublic=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),convertToPrivate=e=>{if("function"==typeof e.vtag){const n={...e.vattrs};return e.vkey&&(n.key=e.vkey),e.vname&&(n.name=e.vname),h(e.vtag,n,...e.vchildren||[])}const n=newVNode(e.vtag,e.vtext);return n.$attrs$=e.vattrs,n.$children$=e.vchildren,n.$key$=e.vkey,n.$name$=e.vname,n},clientHydrate=(e,n,r,o,i,s,a)=>{let c,u,p,f;if(1===s.nodeType){if(c=s.getAttribute(_),c&&(u=c.split("."),u[0]!==a&&"0"!==u[0]||(p={$flags$:0,$hostId$:u[0],$nodeId$:u[1],$depth$:u[2],$index$:u[3],$tag$:s.tagName.toLowerCase(),$elm$:s,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},n.push(p),s.removeAttribute(_),e.$children$||(e.$children$=[]),e.$children$[p.$index$]=p,e=p,o&&"0"===p.$depth$&&(o[p.$index$]=p.$elm$))),s.shadowRoot)for(f=s.shadowRoot.childNodes.length-1;f>=0;f--)clientHydrate(e,n,r,o,i,s.shadowRoot.childNodes[f],a);for(f=s.childNodes.length-1;f>=0;f--)clientHydrate(e,n,r,o,i,s.childNodes[f],a)}else if(8===s.nodeType)u=s.nodeValue.split("."),u[1]!==a&&"0"!==u[1]||(c=u[0],p={$flags$:0,$hostId$:u[1],$nodeId$:u[2],$depth$:u[3],$index$:u[4],$elm$:s,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===c?(p.$elm$=s.nextSibling,p.$elm$&&3===p.$elm$.nodeType&&(p.$text$=p.$elm$.textContent,n.push(p),s.remove(),e.$children$||(e.$children$=[]),e.$children$[p.$index$]=p,o&&"0"===p.$depth$&&(o[p.$index$]=p.$elm$))):p.$hostId$===a&&("s"===c?(p.$tag$="slot",s["s-sn"]=u[5]?p.$name$=u[5]:"",s["s-sr"]=!0,o&&(p.$elm$=P.createElement(p.$tag$),p.$name$&&p.$elm$.setAttribute("name",p.$name$),s.parentNode.insertBefore(p.$elm$,s),s.remove(),"0"===p.$depth$&&(o[p.$index$]=p.$elm$)),r.push(p),e.$children$||(e.$children$=[]),e.$children$[p.$index$]=p):"r"===c&&(o?s.remove():(i["s-cr"]=s,s["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const n=newVNode(null,s.textContent);n.$elm$=s,n.$index$="0",e.$children$=[n]}},initializeDocumentHydrate=(e,n)=>{if(1===e.nodeType){let r=0;if(e.shadowRoot)for(;r<e.shadowRoot.childNodes.length;r++)initializeDocumentHydrate(e.shadowRoot.childNodes[r],n);for(r=0;r<e.childNodes.length;r++)initializeDocumentHydrate(e.childNodes[r],n)}else if(8===e.nodeType){const r=e.nodeValue.split(".");"o"===r[0]&&(n.set(r[1]+"."+r[2],e),e.nodeValue="",e["s-en"]=r[3])}},setMode=e=>w.push(e),getMode=e=>getHostRef(e).$modeName$,getElement=e=>getHostRef(e).$hostElement$,createEvent=(e,n,r)=>{const o=getElement(e);return{emit:e=>emitEvent(o,n,{bubbles:!!(4&r),composed:!!(2&r),cancelable:!!(1&r),detail:e})}},emitEvent=(e,n,r)=>{const o=k.ce(n,r);return e.dispatchEvent(o),o},K=new WeakMap,addStyle=(e,n,r)=>{var o;const i=getScopeId(n,r),s=b.get(i);if(e=11===e.nodeType?e:P,s)if("string"==typeof s){let r,a=K.get(e=e.head||e);if(a||K.set(e,a=new Set),!a.has(i)){if(e.host&&(r=e.querySelector(`[sty-id="${i}"]`)))r.innerHTML=s;else{r=P.createElement("style"),r.innerHTML=s;const i=null!=(o=k.$nonce$)?o:queryNonceMetaTagContent(P);null!=i&&r.setAttribute("nonce",i);(!(1&n.$flags$)||1&n.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(r,e.querySelector("link"))}4&n.$flags$&&(r.innerHTML+=E),a&&a.add(i)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return i},getScopeId=(e,n)=>"sc-"+(n&&32&e.$flags$?e.$tagName$+"-"+n:e.$tagName$),setAccessor=(e,n,r,o,i,s)=>{if(r!==o){let a=isMemberInElement(e,n),c=n.toLowerCase();if("class"===n){const n=e.classList,i=parseClassList(r),s=parseClassList(o);n.remove(...i.filter((e=>e&&!s.includes(e)))),n.add(...s.filter((e=>e&&!i.includes(e))))}else if("style"===n){for(const n in r)o&&null!=o[n]||(n.includes("-")?e.style.removeProperty(n):e.style[n]="");for(const n in o)r&&o[n]===r[n]||(n.includes("-")?e.style.setProperty(n,o[n]):e.style[n]=o[n])}else if("key"===n);else if("ref"===n)o&&o(e);else if(a||"o"!==n[0]||"n"!==n[1]){const u=isComplexType(o);if((a||u&&null!==o)&&!i)try{if(e.tagName.includes("-"))e[n]=o;else{const i=null==o?"":o;"list"===n?a=!1:null!=r&&e[n]==i||(e[n]=i)}}catch(e){}let p=!1;c!==(c=c.replace(/^xlink\:?/,""))&&(n=c,p=!0),null==o||!1===o?!1===o&&""!==e.getAttribute(n)||(p?e.removeAttributeNS(I,n):e.removeAttribute(n)):(!a||4&s||i)&&!u&&(o=!0===o?"":o,p?e.setAttributeNS(I,n,o):e.setAttribute(n,o))}else if(n="-"===n[2]?n.slice(3):isMemberInElement(T,c)?c.slice(2):c[2]+n.slice(3),r||o){const i=n.endsWith(X);n=n.replace(Y,""),r&&k.rel(e,n,r,i),o&&k.ael(e,n,o,i)}}},Q=/\s/,parseClassList=e=>e?e.split(Q):[],X="Capture",Y=new RegExp(X+"$"),updateElement=(e,n,r)=>{const o=11===n.$elm$.nodeType&&n.$elm$.host?n.$elm$.host:n.$elm$,i=e&&e.$attrs$||j,s=n.$attrs$||j;for(const e of sortedAttrNames(Object.keys(i)))e in s||setAccessor(o,e,i[e],void 0,r,n.$flags$);for(const e of sortedAttrNames(Object.keys(s)))setAccessor(o,e,i[e],s[e],r,n.$flags$)};function sortedAttrNames(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var J=!1,Z=!1,ee=!1,te=!1,createElm=(e,n,r,o)=>{var i;const s=n.$children$[r];let c,p,f,g=0;if(J||(ee=!0,"slot"===s.$tag$&&(V&&o.classList.add(V+"-s"),s.$flags$|=s.$children$?2:1)),null!==s.$text$)c=s.$elm$=P.createTextNode(s.$text$);else if(1&s.$flags$)c=s.$elm$=P.createTextNode("");else{te||(te="svg"===s.$tag$),c=s.$elm$=P.createElementNS(te?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!J&&u&&2&s.$flags$?"slot-fb":s.$tag$),te&&"foreignObject"===s.$tag$&&(te=!1),updateElement(null,s,te);if(!!c.getRootNode().querySelector("body")&&a&&null!=V&&c["s-si"]!==V&&c.classList.add(c["s-si"]=V),updateElementScopeIds(c,o),s.$children$)for(g=0;g<s.$children$.length;++g)p=createElm(e,s,g,c),p&&c.appendChild(p);"svg"===s.$tag$?te=!1:"foreignObject"===c.tagName&&(te=!0)}return c["s-hn"]=z,3&s.$flags$&&(c["s-sr"]=!0,c["s-cr"]=G,c["s-sn"]=s.$name$||"",c["s-rf"]=null==(i=s.$attrs$)?void 0:i.ref,f=e&&e.$children$&&e.$children$[r],f&&f.$tag$===s.$tag$&&e.$elm$&&relocateToHostRoot(e.$elm$)),c},relocateToHostRoot=e=>{k.$flags$|=1;const n=e.closest(z.toLowerCase());if(null!=n){const r=Array.from(n.childNodes).find((e=>e["s-cr"])),o=Array.from(e.childNodes);for(const e of r?o.reverse():o)null!=e["s-sh"]&&(insertBefore(n,e,null!=r?r:null),e["s-sh"]=void 0,ee=!0)}k.$flags$&=-2},putBackInOriginalLocation=(e,n)=>{k.$flags$|=1;const r=Array.from(e.childNodes);if(e["s-sr"]&&i){let n=e;for(;n=n.nextSibling;)n&&n["s-sn"]===e["s-sn"]&&n["s-sh"]===z&&r.push(n)}for(let e=r.length-1;e>=0;e--){const o=r[e];o["s-hn"]!==z&&o["s-ol"]&&(insertBefore(parentReferenceNode(o),o,referenceNode(o)),o["s-ol"].remove(),o["s-ol"]=void 0,o["s-sh"]=void 0,ee=!0),n&&putBackInOriginalLocation(o,n)}k.$flags$&=-2},addVnodes=(e,n,r,o,i,s)=>{let a,c=e["s-cr"]&&e["s-cr"].parentNode||e;for(c.shadowRoot&&c.tagName===z&&(c=c.shadowRoot);i<=s;++i)o[i]&&(a=createElm(null,r,i,e),a&&(o[i].$elm$=a,insertBefore(c,a,referenceNode(n))))},removeVnodes=(e,n,r)=>{for(let o=n;o<=r;++o){const n=e[o];if(n){const e=n.$elm$;nullifyVNodeRefs(n),e&&(Z=!0,e["s-ol"]?e["s-ol"].remove():putBackInOriginalLocation(e,!0),e.remove())}}},isSameVnode=(e,n,r=!1)=>e.$tag$===n.$tag$&&("slot"===e.$tag$?(!("$nodeId$"in e)||!r||8===e.$elm$.nodeType)&&e.$name$===n.$name$:!!r||e.$key$===n.$key$),referenceNode=e=>e&&e["s-ol"]||e,parentReferenceNode=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,patch=(e,n,r=!1)=>{const o=n.$elm$=e.$elm$,i=e.$children$,s=n.$children$,a=n.$tag$,c=n.$text$;let u;null===c?(te="svg"===a||"foreignObject"!==a&&te,"slot"!==a||J?updateElement(e,n,te):e.$name$!==n.$name$&&(n.$elm$["s-sn"]=n.$name$||"",relocateToHostRoot(n.$elm$.parentElement)),null!==i&&null!==s?((e,n,r,o,i=!1)=>{let s,a,c=0,u=0,p=0,f=0,g=n.length-1,v=n[0],C=n[g],b=o.length-1,w=o[0],A=o[b];for(;c<=g&&u<=b;)if(null==v)v=n[++c];else if(null==C)C=n[--g];else if(null==w)w=o[++u];else if(null==A)A=o[--b];else if(isSameVnode(v,w,i))patch(v,w,i),v=n[++c],w=o[++u];else if(isSameVnode(C,A,i))patch(C,A,i),C=n[--g],A=o[--b];else if(isSameVnode(v,A,i))"slot"!==v.$tag$&&"slot"!==A.$tag$||putBackInOriginalLocation(v.$elm$.parentNode,!1),patch(v,A,i),insertBefore(e,v.$elm$,C.$elm$.nextSibling),v=n[++c],A=o[--b];else if(isSameVnode(C,w,i))"slot"!==v.$tag$&&"slot"!==A.$tag$||putBackInOriginalLocation(C.$elm$.parentNode,!1),patch(C,w,i),insertBefore(e,C.$elm$,v.$elm$),C=n[--g],w=o[++u];else{for(p=-1,f=c;f<=g;++f)if(n[f]&&null!==n[f].$key$&&n[f].$key$===w.$key$){p=f;break}p>=0?(a=n[p],a.$tag$!==w.$tag$?s=createElm(n&&n[u],r,p,e):(patch(a,w,i),n[p]=void 0,s=a.$elm$),w=o[++u]):(s=createElm(n&&n[u],r,u,e),w=o[++u]),s&&insertBefore(parentReferenceNode(v.$elm$),s,referenceNode(v.$elm$))}c>g?addVnodes(e,null==o[b+1]?null:o[b+1].$elm$,r,o,u,b):u>b&&removeVnodes(n,c,g)})(o,i,n,s,r):null!==s?(null!==e.$text$&&(o.textContent=""),addVnodes(o,null,n,s,0,s.length-1)):!r&&p&&null!==i&&removeVnodes(i,0,i.length-1),te&&"svg"===a&&(te=!1)):(u=o["s-cr"])?u.parentNode.textContent=c:e.$text$!==c&&(o.data=c)},updateFallbackSlotVisibility=e=>{const n=e.childNodes;for(const e of n)if(1===e.nodeType){if(e["s-sr"]){const r=e["s-sn"];e.hidden=!1;for(const o of n)if(o!==e)if(o["s-hn"]!==e["s-hn"]||""!==r){if(1===o.nodeType&&(r===o.getAttribute("slot")||r===o["s-sn"])||3===o.nodeType&&r===o["s-sn"]){e.hidden=!0;break}}else if(1===o.nodeType||3===o.nodeType&&""!==o.textContent.trim()){e.hidden=!0;break}}updateFallbackSlotVisibility(e)}},ne=[],markSlotContentForRelocation=e=>{let n,r,o;for(const i of e.childNodes){if(i["s-sr"]&&(n=i["s-cr"])&&n.parentNode){r=n.parentNode.childNodes;const e=i["s-sn"];for(o=r.length-1;o>=0;o--)if(n=r[o],!(n["s-cn"]||n["s-nr"]||n["s-hn"]===i["s-hn"]||n["s-sh"]&&n["s-sh"]===i["s-hn"]))if(isNodeLocatedInSlot(n,e)){let r=ne.find((e=>e.$nodeToRelocate$===n));Z=!0,n["s-sn"]=n["s-sn"]||e,r?(r.$nodeToRelocate$["s-sh"]=i["s-hn"],r.$slotRefNode$=i):(n["s-sh"]=i["s-hn"],ne.push({$slotRefNode$:i,$nodeToRelocate$:n})),n["s-sr"]&&ne.map((e=>{isNodeLocatedInSlot(e.$nodeToRelocate$,n["s-sn"])&&(r=ne.find((e=>e.$nodeToRelocate$===n)),r&&!e.$slotRefNode$&&(e.$slotRefNode$=r.$slotRefNode$))}))}else ne.some((e=>e.$nodeToRelocate$===n))||ne.push({$nodeToRelocate$:n})}1===i.nodeType&&markSlotContentForRelocation(i)}},isNodeLocatedInSlot=(e,n)=>1===e.nodeType?null===e.getAttribute("slot")&&""===n||e.getAttribute("slot")===n:e["s-sn"]===n||""===n,nullifyVNodeRefs=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(nullifyVNodeRefs)},insertBefore=(e,n,r)=>{const o=null==e?void 0:e.insertBefore(n,r);return updateElementScopeIds(n,e),o},findScopeIds=e=>{const n=[];return e&&n.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...findScopeIds(e.parentElement)),n},updateElementScopeIds=(e,n,r=!1)=>{var o;if(e&&n&&1===e.nodeType){const i=new Set(findScopeIds(n).filter(Boolean));if(i.size&&(null==(o=e.classList)?void 0:o.add(...e["s-scs"]=[...i]),e["s-ol"]||r))for(const n of Array.from(e.childNodes))updateElementScopeIds(n,e,!0)}},renderVdom=(e,n,r=!1)=>{var o,i,s,a,c;const u=e.$hostElement$,p=e.$cmpMeta$,f=e.$vnode$||newVNode(null,null),g=(v=n)&&v.$tag$===q?n:h(null,null,n);var v;if(z=u.tagName,p.$attrsToReflect$&&(g.$attrs$=g.$attrs$||{},p.$attrsToReflect$.map((([e,n])=>g.$attrs$[n]=u[e]))),r&&g.$attrs$)for(const e of Object.keys(g.$attrs$))u.hasAttribute(e)&&!["key","ref","style","class"].includes(e)&&(g.$attrs$[e]=u[e]);if(g.$tag$=null,g.$flags$|=4,e.$vnode$=g,g.$elm$=f.$elm$=u.shadowRoot||u,V=u["s-sc"],J=!!(1&p.$flags$),G=u["s-cr"],Z=!1,patch(f,g,r),k.$flags$|=1,ee){markSlotContentForRelocation(g.$elm$);for(const e of ne){const n=e.$nodeToRelocate$;if(!n["s-ol"]){const e=P.createTextNode("");e["s-nr"]=n,insertBefore(n.parentNode,n["s-ol"]=e,n)}}for(const e of ne){const n=e.$nodeToRelocate$,c=e.$slotRefNode$;if(c){const e=c.parentNode;let r=c.nextSibling;if(r&&1===r.nodeType){let s=null==(o=n["s-ol"])?void 0:o.previousSibling;for(;s;){let o=null!=(i=s["s-nr"])?i:null;if(o&&o["s-sn"]===n["s-sn"]&&e===o.parentNode){for(o=o.nextSibling;o===n||(null==o?void 0:o["s-sr"]);)o=null==o?void 0:o.nextSibling;if(!o||!o["s-nr"]){r=o;break}}s=s.previousSibling}}(!r&&e!==n.parentNode||n.nextSibling!==r)&&n!==r&&(insertBefore(e,n,r),1===n.nodeType&&(n.hidden=null!=(s=n["s-ih"])&&s)),n&&"function"==typeof c["s-rf"]&&c["s-rf"](n)}else 1===n.nodeType&&(r&&(n["s-ih"]=null!=(a=n.hidden)&&a),n.hidden=!0)}}if(Z&&updateFallbackSlotVisibility(g.$elm$),k.$flags$&=-2,ne.length=0,2&p.$flags$)for(const e of g.$elm$.childNodes)e["s-hn"]===z||e["s-sh"]||(r&&null==e["s-ih"]&&(e["s-ih"]=null!=(c=e.hidden)&&c),e.hidden=!0);G=void 0},attachToAncestor=(e,n)=>{n&&!e.$onRenderResolve$&&n["s-p"]&&n["s-p"].push(new Promise((n=>e.$onRenderResolve$=n)))},scheduleUpdate=(e,n)=>{if(e.$flags$|=16,4&e.$flags$)return e.$flags$|=512,void 0;attachToAncestor(e,e.$ancestorComponent$);return B((()=>dispatchHooks(e,n)))},dispatchHooks=(e,n)=>{const r=(0,e.$cmpMeta$.$tagName$,()=>{}),o=e.$lazyInstance$;if(!o)throw new Error(`Can't render component <${e.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let i;return n&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,n])=>safeCall(o,e,n))),e.$queuedListeners$=void 0),i=safeCall(o,"componentWillLoad")),i=enqueue(i,(()=>safeCall(o,"componentWillRender"))),r(),enqueue(i,(()=>re(e,o,n)))},enqueue=(e,n)=>isPromisey(e)?e.then(n).catch((e=>{console.error(e),n()})):n(),isPromisey=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,re=function(){var e=(0,o.A)((function*(e,n,r){var o;const i=e.$hostElement$,s=(0,e.$cmpMeta$.$tagName$,()=>{}),a=i["s-rc"];r&&(e=>{const n=e.$cmpMeta$,r=e.$hostElement$,o=n.$flags$,i=(0,n.$tagName$,()=>{}),s=addStyle(r.shadowRoot?r.shadowRoot:r.getRootNode(),n,e.$modeName$);10&o&&2&o&&(r["s-sc"]=s,r.classList.add(s+"-h"),2&o&&r.classList.add(s+"-s")),i()})(e);const c=(0,e.$cmpMeta$.$tagName$,()=>{});callRender(e,n,i,r),a&&(a.map((e=>e())),i["s-rc"]=void 0),c(),s();{const n=null!=(o=i["s-p"])?o:[],postUpdate=()=>postUpdateComponent(e);0===n.length?postUpdate():(Promise.all(n).then(postUpdate),e.$flags$|=4,n.length=0)}}));return function updateComponent(n,r,o){return e.apply(this,arguments)}}(),callRender=(e,n,r,o)=>{try{n=n.render&&n.render(),e.$flags$&=-17,e.$flags$|=2,renderVdom(e,n,o)}catch(n){consoleError(n,e.$hostElement$)}return null},postUpdateComponent=e=>{const n=e.$hostElement$,r=(0,e.$cmpMeta$.$tagName$,()=>{}),o=e.$lazyInstance$,i=e.$ancestorComponent$;safeCall(o,"componentDidRender"),64&e.$flags$?(safeCall(o,"componentDidUpdate"),r()):(e.$flags$|=64,addHydratedFlag(n),safeCall(o,"componentDidLoad"),r(),e.$onReadyResolve$(n),i||appDidLoad()),e.$onInstanceResolve$(n),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&nextTick((()=>scheduleUpdate(e,!1))),e.$flags$&=-517},forceUpdate=e=>{{const n=getHostRef(e),r=n.$hostElement$.isConnected;return r&&2==(18&n.$flags$)&&scheduleUpdate(n,!1),r}},appDidLoad=e=>{addHydratedFlag(P.documentElement),nextTick((()=>emitEvent(T,"appload",{detail:{namespace:"ionic"}})))},safeCall=(e,n,r)=>{if(e&&e[n])try{return e[n](r)}catch(e){consoleError(e)}},addHydratedFlag=e=>{var n;return e.classList.add(null!=(n=s)?n:"hydrated")},setValue=(e,n,r,o)=>{const i=getHostRef(e);if(!i)throw new Error(`Couldn't find host element for "${o.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const s=i.$hostElement$,a=i.$instanceValues$.get(n),c=i.$flags$,u=i.$lazyInstance$;var p,f;f=o.$members$[n][0],r=null==(p=r)||isComplexType(p)?p:4&f?"false"!==p&&(""===p||!!p):2&f?parseFloat(p):1&f?String(p):p;const g=Number.isNaN(a)&&Number.isNaN(r);if((!(8&c)||void 0===a)&&(r!==a&&!g)&&(i.$instanceValues$.set(n,r),u)){if(o.$watchers$&&128&c){const e=o.$watchers$[n];e&&e.map((e=>{try{u[e](r,a,n)}catch(e){consoleError(e,s)}}))}2==(18&c)&&scheduleUpdate(i,!1)}},proxyComponent=(e,n,r)=>{var o,i;const s=e.prototype;if(n.$members$||n.$watchers$||e.watchers){e.watchers&&!n.$watchers$&&(n.$watchers$=e.watchers);const a=Object.entries(null!=(o=n.$members$)?o:{});if(a.map((([e,[o]])=>{31&o||2&r&&32&o?Object.defineProperty(s,e,{get(){return n=e,getHostRef(this).$instanceValues$.get(n);var n},set(r){setValue(this,e,r,n)},configurable:!0,enumerable:!0}):1&r&&64&o&&Object.defineProperty(s,e,{value(...n){var r;const o=getHostRef(this);return null==(r=null==o?void 0:o.$onInstancePromise$)?void 0:r.then((()=>{var r;return null==(r=o.$lazyInstance$)?void 0:r[e](...n)}))}})})),1&r){const r=new Map;s.attributeChangedCallback=function(e,o,i){k.jmp((()=>{var a;const c=r.get(e);if(this.hasOwnProperty(c))i=this[c],delete this[c];else{if(s.hasOwnProperty(c)&&"number"==typeof this[c]&&this[c]==i)return;if(null==c){const r=getHostRef(this),s=null==r?void 0:r.$flags$;if(s&&!(8&s)&&128&s&&i!==o){const s=r.$lazyInstance$,c=null==(a=n.$watchers$)?void 0:a[e];null==c?void 0:c.forEach((n=>{null!=s[n]&&s[n].call(s,i,o,e)}))}return}}this[c]=(null!==i||"boolean"!=typeof this[c])&&i}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(i=n.$watchers$)?i:{}),...a.filter((([e,n])=>15&n[0])).map((([e,o])=>{var i;const s=o[1]||e;return r.set(s,e),512&o[0]&&(null==(i=n.$attrsToReflect$)||i.push([e,s])),s}))]))}}return e},oe=function(){var e=(0,o.A)((function*(e,n,o,i){let s;if(!(32&n.$flags$)){n.$flags$|=32;if(o.$lazyBundleId$){const e=(e=>{const n=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$;if(!o)return;const i=C.get(o);return i?i[n]:r(88996)(`./${o}.entry.js`).then((e=>(C.set(o,e),e[n])),consoleError)})(o);if(e&&"then"in e){const endLoad=()=>{};s=yield e,endLoad()}else s=e;if(!s)throw new Error(`Constructor for "${o.$tagName$}#${n.$modeName$}" was not found`);s.isProxied||(o.$watchers$=s.watchers,proxyComponent(s,o,2),s.isProxied=!0);const i=(0,o.$tagName$,()=>{});n.$flags$|=8;try{new s(n)}catch(e){consoleError(e)}n.$flags$&=-9,n.$flags$|=128,i(),fireConnectedCallback(n.$lazyInstance$)}else{s=e.constructor;customElements.whenDefined(e.localName).then((()=>n.$flags$|=128))}if(s&&s.style){let r;"string"==typeof s.style?r=s.style:"string"!=typeof s.style&&(n.$modeName$=(e=>w.map((n=>n(e))).find((e=>!!e)))(e),n.$modeName$&&(r=s.style[n.$modeName$]));const i=getScopeId(o,n.$modeName$);if(!b.has(i)){const e=(0,o.$tagName$,()=>{});((e,n,r)=>{let o=b.get(e);R&&r?(o=o||new CSSStyleSheet,"string"==typeof o?o=n:o.replaceSync(n)):o=n,b.set(e,o)})(i,r,!!(1&o.$flags$)),e()}}}const a=n.$ancestorComponent$,schedule=()=>scheduleUpdate(n,!0);a&&a["s-rc"]?a["s-rc"].push(schedule):schedule()}));return function initializeComponent(n,r,o,i){return e.apply(this,arguments)}}(),fireConnectedCallback=e=>{safeCall(e,"connectedCallback")},connectedCallback=e=>{if(!(1&k.$flags$)){const n=getHostRef(e),r=n.$cmpMeta$,o=(0,r.$tagName$,()=>{});if(1&n.$flags$)addHostEventListeners(e,n,r.$listeners$),(null==n?void 0:n.$lazyInstance$)?fireConnectedCallback(n.$lazyInstance$):(null==n?void 0:n.$onReadyPromise$)&&n.$onReadyPromise$.then((()=>fireConnectedCallback(n.$lazyInstance$)));else{let o;if(n.$flags$|=1,o=e.getAttribute(A),o){if(1&r.$flags$){const n=addStyle(e.shadowRoot,r,e.getAttribute("s-mode"));e.classList.remove(n+"-h",n+"-s")}((e,n,r,o)=>{const i=(0,n,()=>{}),s=e.shadowRoot,a=[],c=s?[]:null,u=o.$vnode$=newVNode(n,null);k.$orgLocNodes$||initializeDocumentHydrate(P.body,k.$orgLocNodes$=new Map),e[A]=r,e.removeAttribute(A),clientHydrate(u,a,[],c,e,e,r),a.map((e=>{const r=e.$hostId$+"."+e.$nodeId$,o=k.$orgLocNodes$.get(r),i=e.$elm$;o&&x&&""===o["s-en"]&&o.parentNode.insertBefore(i,o.nextSibling),s||(i["s-hn"]=n,o&&(i["s-ol"]=o,i["s-ol"]["s-nr"]=i)),k.$orgLocNodes$.delete(r)})),s&&c.map((e=>{e&&s.appendChild(e)})),i()})(e,r.$tagName$,o,n)}o||12&r.$flags$&&setContentReference(e);{let r=e;for(;r=r.parentNode||r.host;)if(1===r.nodeType&&r.hasAttribute("s-id")&&r["s-p"]||r["s-p"]){attachToAncestor(n,n.$ancestorComponent$=r);break}}r.$members$&&Object.entries(r.$members$).map((([n,[r]])=>{if(31&r&&e.hasOwnProperty(n)){const r=e[n];delete e[n],e[n]=r}})),oe(e,n,r)}o()}},setContentReference=e=>{const n=e["s-cr"]=P.createComment("");n["s-cn"]=!0,insertBefore(e,n,e.firstChild)},disconnectInstance=e=>{safeCall(e,"disconnectedCallback")},ie=function(){var e=(0,o.A)((function*(e){if(!(1&k.$flags$)){const n=getHostRef(e);n.$rmListeners$&&(n.$rmListeners$.map((e=>e())),n.$rmListeners$=void 0),(null==n?void 0:n.$lazyInstance$)?disconnectInstance(n.$lazyInstance$):(null==n?void 0:n.$onReadyPromise$)&&n.$onReadyPromise$.then((()=>disconnectInstance(n.$lazyInstance$)))}}));return function disconnectedCallback(n){return e.apply(this,arguments)}}(),patchCloneNode=e=>{const n=e.cloneNode;e.cloneNode=function(e){const r=this,o=r.shadowRoot&&x,i=n.call(r,!!o&&e);if(!o&&e){let e,n,o=0;const s=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;o<r.childNodes.length;o++)e=r.childNodes[o]["s-nr"],n=s.every((e=>!r.childNodes[o][e])),e&&(i.__appendChild?i.__appendChild(e.cloneNode(!0)):i.appendChild(e.cloneNode(!0))),n&&i.appendChild(r.childNodes[o].cloneNode(!0))}return i}},patchSlotAppendChild=e=>{e.__appendChild=e.appendChild,e.appendChild=function(e){const n=e["s-sn"]=getSlotName(e),r=getHostSlotNode(this.childNodes,n,this.tagName);if(r){const o=getHostSlotChildNodes(r,n),i=o[o.length-1],s=insertBefore(i.parentNode,e,i.nextSibling);return updateFallbackSlotVisibility(this),s}return this.__appendChild(e)}},patchSlotRemoveChild=e=>{e.__removeChild=e.removeChild,e.removeChild=function(e){if(e&&void 0!==e["s-sn"]){const n=getHostSlotNode(this.childNodes,e["s-sn"],this.tagName);if(n){const r=getHostSlotChildNodes(n,e["s-sn"]).find((n=>n===e));if(r)return r.remove(),updateFallbackSlotVisibility(this),void 0}}return this.__removeChild(e)}},patchSlotPrepend=e=>{const n=e.prepend;e.prepend=function(...e){e.forEach((e=>{"string"==typeof e&&(e=this.ownerDocument.createTextNode(e));const r=e["s-sn"]=getSlotName(e),o=getHostSlotNode(this.childNodes,r,this.tagName);if(o){const n=document.createTextNode("");n["s-nr"]=e,o["s-cr"].parentNode.__appendChild(n),e["s-ol"]=n;const i=getHostSlotChildNodes(o,r)[0];return insertBefore(i.parentNode,e,i.nextSibling)}return 1===e.nodeType&&e.getAttribute("slot")&&(e.hidden=!0),n.call(this,e)}))}},patchSlotAppend=e=>{e.append=function(...e){e.forEach((e=>{"string"==typeof e&&(e=this.ownerDocument.createTextNode(e)),this.appendChild(e)}))}},patchSlotInsertAdjacentHTML=e=>{const n=e.insertAdjacentHTML;e.insertAdjacentHTML=function(e,r){if("afterbegin"!==e&&"beforeend"!==e)return n.call(this,e,r);const o=this.ownerDocument.createElement("_");let i;if(o.innerHTML=r,"afterbegin"===e)for(;i=o.firstChild;)this.prepend(i);else if("beforeend"===e)for(;i=o.firstChild;)this.append(i)}},patchSlotInsertAdjacentText=e=>{e.insertAdjacentText=function(e,n){this.insertAdjacentHTML(e,n)}},patchSlotInsertAdjacentElement=e=>{const n=e.insertAdjacentElement;e.insertAdjacentElement=function(e,r){return"afterbegin"!==e&&"beforeend"!==e?n.call(this,e,r):"afterbegin"===e?(this.prepend(r),r):"beforeend"===e?(this.append(r),r):r}},patchTextContent=e=>{const n=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(e,"__textContent",n),Object.defineProperty(e,"textContent",{get(){return" "+getAllChildSlotNodes(this.childNodes).map((e=>{var n,r;const o=[];let i=e.nextSibling;for(;i&&i["s-sn"]===e["s-sn"];)3!==i.nodeType&&1!==i.nodeType||o.push(null!=(r=null==(n=i.textContent)?void 0:n.trim())?r:""),i=i.nextSibling;return o.filter((e=>""!==e)).join(" ")})).filter((e=>""!==e)).join(" ")+" "},set(e){getAllChildSlotNodes(this.childNodes).forEach((n=>{let r=n.nextSibling;for(;r&&r["s-sn"]===n["s-sn"];){const e=r;r=r.nextSibling,e.remove()}if(""===n["s-sn"]){const r=this.ownerDocument.createTextNode(e);r["s-sn"]="",insertBefore(n.parentElement,r,n.nextSibling)}else n.remove()}))}})},patchChildSlotNodes=(e,n)=>{class FakeNodeList extends Array{item(e){return this[e]}}if(8&n.$flags$){const n=e.__lookupGetter__("childNodes");Object.defineProperty(e,"children",{get(){return this.childNodes.map((e=>1===e.nodeType))}}),Object.defineProperty(e,"childElementCount",{get:()=>e.children.length}),Object.defineProperty(e,"childNodes",{get(){const e=n.call(this);if(!(1&k.$flags$)&&2&getHostRef(this).$flags$){const n=new FakeNodeList;for(let r=0;r<e.length;r++){const o=e[r]["s-nr"];o&&n.push(o)}return n}return FakeNodeList.from(e)}})}},getAllChildSlotNodes=e=>{const n=[];for(const r of Array.from(e))r["s-sr"]&&n.push(r),n.push(...getAllChildSlotNodes(r.childNodes));return n},getSlotName=e=>e["s-sn"]||1===e.nodeType&&e.getAttribute("slot")||"",getHostSlotNode=(e,n,r)=>{let o,i=0;for(;i<e.length;i++){if(o=e[i],o["s-sr"]&&o["s-sn"]===n&&o["s-hn"]===r)return o;if(o=getHostSlotNode(o.childNodes,n,r),o)return o}return null},getHostSlotChildNodes=(e,n)=>{const r=[e];for(;(e=e.nextSibling)&&e["s-sn"]===n;)r.push(e);return r},bootstrapLazy=(e,n={})=>{var r;const endBootstrap=()=>{},o=[],i=n.exclude||[],s=T.customElements,a=P.head,c=a.querySelector("meta[charset]"),u=P.createElement("style"),p=[];let f,g=!0;Object.assign(k,n),k.$resourcesUrl$=new URL(n.resourcesUrl||"./",P.baseURI).href,k.$flags$|=2;let C=!1;if(e.map((e=>{e[1].map((n=>{var r;const a={$flags$:n[0],$tagName$:n[1],$members$:n[2],$listeners$:n[3]};4&a.$flags$&&(C=!0),a.$members$=n[2],a.$listeners$=n[3],a.$attrsToReflect$=[],a.$watchers$=null!=(r=n[4])?r:{};const c=a.$tagName$,u=class extends HTMLElement{constructor(e){if(super(e),this.hasRegisteredEventListeners=!1,((e,n)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:n,$instanceValues$:new Map};r.$onInstancePromise$=new Promise((e=>r.$onInstanceResolve$=e)),r.$onReadyPromise$=new Promise((e=>r.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[],v.set(e,r)})(e=this,a),1&a.$flags$)if(e.shadowRoot){if("open"!==e.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${a.$tagName$}! Mode is set to ${e.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else e.attachShadow({mode:"open",delegatesFocus:!!(16&a.$flags$)})}connectedCallback(){const e=getHostRef(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,addHostEventListeners(this,e,a.$listeners$)),f&&(clearTimeout(f),f=null),g?p.push(this):k.jmp((()=>connectedCallback(this)))}disconnectedCallback(){k.jmp((()=>ie(this)))}componentOnReady(){return getHostRef(this).$onReadyPromise$}};var b,w;2&a.$flags$&&(w=a,patchCloneNode(b=u.prototype),patchSlotAppendChild(b),patchSlotAppend(b),patchSlotPrepend(b),patchSlotInsertAdjacentElement(b),patchSlotInsertAdjacentHTML(b),patchSlotInsertAdjacentText(b),patchTextContent(b),patchChildSlotNodes(b,w),void patchSlotRemoveChild(b)),a.$lazyBundleId$=e[0],i.includes(c)||s.get(c)||(o.push(c),s.define(c,proxyComponent(u,a,1)))}))})),o.length>0&&(C&&(u.textContent+=E),u.textContent+=o.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",u.innerHTML.length)){u.setAttribute("data-styles","");const e=null!=(r=k.$nonce$)?r:queryNonceMetaTagContent(P);null!=e&&u.setAttribute("nonce",e),a.insertBefore(u,c?c.nextSibling:a.firstChild)}g=!1,p.length?p.map((e=>e.connectedCallback())):k.jmp((()=>f=setTimeout(appDidLoad,30))),endBootstrap()},addHostEventListeners=(e,n,r,o)=>{r&&r.map((([r,o,i])=>{const s=getHostListenerTarget(e,r),a=hostListenerProxy(n,i),c=hostListenerOpts(r);k.ael(s,o,a,c),(n.$rmListeners$=n.$rmListeners$||[]).push((()=>k.rel(s,o,a,c)))}))},hostListenerProxy=(e,n)=>r=>{var o;try{256&e.$flags$?null==(o=e.$lazyInstance$)?void 0:o[n](r):(e.$queuedListeners$=e.$queuedListeners$||[]).push([n,r])}catch(e){consoleError(e)}},getHostListenerTarget=(e,n)=>4&n?P:8&n?T:16&n?P.body:e,hostListenerOpts=e=>F?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)},99144:(e,n,r)=>{"use strict";r.d(n,{a:()=>printIonError,b:()=>printRequiredElementError,p:()=>printIonWarning});var o=r(74346);const printIonWarning=(e,...n)=>{const r=o.c.get("logLevel","WARN");if(["WARN"].includes(r))return console.warn(`[Ionic Warning]: ${e}`,...n)},printIonError=(e,...n)=>{const r=o.c.get("logLevel","ERROR");if(["ERROR","WARN"].includes(r))return console.error(`[Ionic Error]: ${e}`,...n)},printRequiredElementError=(e,...n)=>console.error(`<${e.tagName.toLowerCase()}> must be used inside ${n.join(" or ")}.`)},95248:(e,n,r)=>{"use strict";r.d(n,{b:()=>u,c:()=>p,d:()=>f,e:()=>I,g:()=>getIonPageElement,l:()=>lifecycle,s:()=>setPageHidden,t:()=>transition,w:()=>waitForMount});var o=r(10467),i=r(74346),s=r(96317),a=r(99144),c=r(81559);const u="ionViewWillLeave",p="ionViewDidLeave",f="ionViewWillUnload",moveFocus=e=>{e.tabIndex=-1,e.focus()},isVisible=e=>null!==e.offsetParent,g="ion-last-focus",v={saveViewFocus:e=>{if(i.c.get("focusManagerPriority",!1)){const n=document.activeElement;null!==n&&(null==e?void 0:e.contains(n))&&n.setAttribute(g,"true")}},setViewFocus:e=>{const n=i.c.get("focusManagerPriority",!1);if(Array.isArray(n)&&!e.contains(document.activeElement)){const r=e.querySelector(`[${g}]`);if(r&&isVisible(r))return moveFocus(r),void 0;for(const r of n)switch(r){case"content":const n=e.querySelector('main, [role="main"]');if(n&&isVisible(n))return moveFocus(n),void 0;break;case"heading":const o=e.querySelector('h1, [role="heading"][aria-level="1"]');if(o&&isVisible(o))return moveFocus(o),void 0;break;case"banner":const i=e.querySelector('header, [role="banner"]');if(i&&isVisible(i))return moveFocus(i),void 0;break;default:(0,a.p)(`Unrecognized focus manager priority value ${r}`)}moveFocus(e)}}},transition=e=>new Promise(((n,r)=>{(0,s.w)((()=>{beforeTransition(e),C(e).then((r=>{r.animation&&r.animation.destroy(),afterTransition(e),n(r)}),(n=>{afterTransition(e),r(n)}))}))})),beforeTransition=e=>{const n=e.enteringEl,r=e.leavingEl;v.saveViewFocus(r),setZIndex(n,r,e.direction),e.showGoBack?n.classList.add("can-go-back"):n.classList.remove("can-go-back"),setPageHidden(n,!1),n.style.setProperty("pointer-events","none"),r&&(setPageHidden(r,!1),r.style.setProperty("pointer-events","none"))},C=function(){var e=(0,o.A)((function*(e){const n=yield b(e);return n&&s.B.isBrowser?w(n,e):A(e)}));return function runTransition(n){return e.apply(this,arguments)}}(),afterTransition=e=>{const n=e.enteringEl,r=e.leavingEl;n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"),void 0!==r&&(r.classList.remove("ion-page-invisible"),r.style.removeProperty("pointer-events")),v.setViewFocus(n)},b=function(){var e=(0,o.A)((function*(e){if(!e.leavingEl||!e.animated||0===e.duration)return;if(e.animationBuilder)return e.animationBuilder;return"ios"===e.mode?(yield Promise.resolve().then(r.bind(r,91935))).iosTransitionAnimation:(yield Promise.resolve().then(r.bind(r,85062))).mdTransitionAnimation}));return function getAnimationBuilder(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.A)((function*(e,n){yield _(n,!0);const r=e(n.baseEl,n);fireWillEvents(n.enteringEl,n.leavingEl);const o=yield playTransition(r,n);return n.progressCallback&&n.progressCallback(void 0),o&&fireDidEvents(n.enteringEl,n.leavingEl),{hasCompleted:o,animation:r}}));return function animation(n,r){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.A)((function*(e){const n=e.enteringEl,r=e.leavingEl,o=i.c.get("focusManagerPriority",!1);return yield _(e,o),fireWillEvents(n,r),fireDidEvents(n,r),{hasCompleted:!0}}));return function noAnimation(n){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.A)((function*(e,n){(void 0!==e.deepWait?e.deepWait:n)&&(yield Promise.all([I(e.enteringEl),I(e.leavingEl)])),yield E(e.viewIsReady,e.enteringEl)}));return function waitForReady(n,r){return e.apply(this,arguments)}}(),E=function(){var e=(0,o.A)((function*(e,n){e&&(yield e(n))}));return function notifyViewReady(n,r){return e.apply(this,arguments)}}(),playTransition=(e,n)=>{const r=n.progressCallback,o=new Promise((n=>{e.onFinish((e=>n(1===e)))}));return r?(e.progressStart(!0),r(e)):e.play(),o},fireWillEvents=(e,n)=>{lifecycle(n,u),lifecycle(e,"ionViewWillEnter")},fireDidEvents=(e,n)=>{lifecycle(e,"ionViewDidEnter"),lifecycle(n,p)},lifecycle=(e,n)=>{if(e){const r=new CustomEvent(n,{bubbles:!1,cancelable:!1});e.dispatchEvent(r)}},waitForMount=()=>new Promise((e=>(0,c.r)((()=>(0,c.r)((()=>e())))))),I=function(){var e=(0,o.A)((function*(e){const n=e;if(n){if(null!=n.componentOnReady){if(null!=(yield n.componentOnReady()))return}else if(null!=n.__registerHost){const e=new Promise((e=>(0,c.r)(e)));return yield e,void 0}yield Promise.all(Array.from(n.children).map(I))}}));return function deepReady(n){return e.apply(this,arguments)}}(),setPageHidden=(e,n)=>{n?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},setZIndex=(e,n,r)=>{void 0!==e&&(e.style.zIndex="back"===r?"99":"101"),void 0!==n&&(n.style.zIndex="100")},getIonPageElement=e=>{if(e.classList.contains("ion-page"))return e;const n=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return n||e}},28476:(e,n,r)=>{"use strict";r.d(n,{d:()=>i,w:()=>o});const o="undefined"!=typeof window?window:void 0,i="undefined"!=typeof document?document:void 0},86032:(e,n,r)=>{"use strict";r.d(n,{m:()=>f});var o=r(10467),i=r(28476),s=r(66221),a=r(99144),c=r(81559),u=r(74346),p=r(19986);const baseAnimation=e=>(0,p.c)().duration(e?400:300),menuOverlayAnimation=e=>{let n,r;const o=e.width+8,i=(0,p.c)(),s=(0,p.c)();e.isEndSide?(n=o+"px",r="0px"):(n=-o+"px",r="0px"),i.addElement(e.menuInnerEl).fromTo("transform",`translateX(${n})`,`translateX(${r})`);const a="ios"===(0,u.b)(e),c=a?.2:.25;return s.addElement(e.backdropEl).fromTo("opacity",.01,c),baseAnimation(a).addAnimation([i,s])},menuPushAnimation=e=>{let n,r;const o=(0,u.b)(e),i=e.width;e.isEndSide?(n=-i+"px",r=i+"px"):(n=i+"px",r=-i+"px");const s=(0,p.c)().addElement(e.menuInnerEl).fromTo("transform",`translateX(${r})`,"translateX(0px)"),a=(0,p.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`),c=(0,p.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return baseAnimation("ios"===o).addAnimation([s,a,c])},menuRevealAnimation=e=>{const n=(0,u.b)(e),r=e.width*(e.isEndSide?-1:1)+"px",o=(0,p.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${r})`);return baseAnimation("ios"===n).addAnimation(o)},f=(()=>{const e=new Map,n=[],r=function(){var e=(0,o.A)((function*(e){const n=yield b(e,!0);return!!n&&n.open()}));return function open(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.A)((function*(e){const n=yield void 0!==e?b(e,!0):w();return void 0!==n&&n.close()}));return function close(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.A)((function*(e){const n=yield b(e,!0);return!!n&&n.toggle()}));return function toggle(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.A)((function*(e,n){const r=yield b(n);return r&&(r.disabled=!e),r}));return function enable(n,r){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.A)((function*(e,n){const r=yield b(n);return r&&(r.swipeGesture=e),r}));return function swipeGesture(n,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.A)((function*(e){if(null!=e){const n=yield b(e);return void 0!==n&&n.isOpen()}return void 0!==(yield w())}));return function isOpen(n){return e.apply(this,arguments)}}(),C=function(){var e=(0,o.A)((function*(e){const n=yield b(e);return!!n&&!n.disabled}));return function isEnabled(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.A)((function*(e,r=!1){if(yield waitUntilReady(),"start"===e||"end"===e){const o=n.filter((n=>n.side===e&&!n.disabled));if(o.length>=1)return o.length>1&&r&&(0,a.p)(`menuController queried for a menu on the "${e}" side, but ${o.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,o.map((e=>e.el))),o[0].el;const i=n.filter((n=>n.side===e));if(i.length>=1)return i.length>1&&r&&(0,a.p)(`menuController queried for a menu on the "${e}" side, but ${i.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,i.map((e=>e.el))),i[0].el}else if(null!=e)return find((n=>n.menuId===e));const o=find((e=>!e.disabled));return o||(n.length>0?n[0].el:void 0)}));return function get(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.A)((function*(){return yield waitUntilReady(),_getOpenSync()}));return function getOpen(){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.A)((function*(){return yield waitUntilReady(),getMenusSync()}));return function getMenus(){return e.apply(this,arguments)}}(),_=function(){var e=(0,o.A)((function*(){return yield waitUntilReady(),isAnimatingSync()}));return function isAnimating(){return e.apply(this,arguments)}}(),registerAnimation=(n,r)=>{e.set(n,r)},E=function(){var e=(0,o.A)((function*(e,n,r,o){if(isAnimatingSync())return!1;if(n){const n=yield w();n&&e.el!==n&&(yield n.setOpen(!1,!1))}return e._setOpen(n,r,o)}));return function _setOpen(n,r,o,i){return e.apply(this,arguments)}}(),_getOpenSync=()=>find((e=>e._isOpen)),getMenusSync=()=>n.map((e=>e.el)),isAnimatingSync=()=>n.some((e=>e.isAnimating)),find=e=>{const r=n.find(e);if(void 0!==r)return r.el},waitUntilReady=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((e=>new Promise((n=>(0,c.c)(e,n))))));return registerAnimation("reveal",menuRevealAnimation),registerAnimation("push",menuPushAnimation),registerAnimation("overlay",menuOverlayAnimation),null==i.d||i.d.addEventListener("ionBackButton",(e=>{const n=_getOpenSync();n&&e.detail.register(s.MENU_BACK_BUTTON_PRIORITY,(()=>n.close()))})),{registerAnimation,get:b,getMenus:A,getOpen:w,isEnabled:C,swipeGesture:g,isAnimating:_,isOpen:v,enable:f,toggle:p,close:u,open:r,_getOpenSync,_createAnimation:(n,r)=>{const o=e.get(n);if(!o)throw new Error("animation not registered");return o(r)},_register:e=>{n.indexOf(e)<0&&n.push(e)},_unregister:e=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)},_setOpen:E}})()},90617:(e,n,r)=>{"use strict";r.d(n,{FJ:()=>c.l,Gw:()=>s.createGesture,JI:()=>o.c,Jl:()=>IonicSlides,OZ:()=>c.m,QX:()=>a.s,TN:()=>c.a,_Y:()=>i.g,eE:()=>c.t,k_:()=>c.b,mF:()=>c.c});var o=r(19986),i=r(95248),s=(r(91935),r(85062),r(28607)),a=(r(74346),r(90464)),c=(r(86032),r(24626));r(28476),r(96317),r(99144),r(11970),r(66221);const IonicSlides=e=>{const{swiper:n,extendParams:r}=e,o={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};n.pagination&&(o.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),n.scrollbar&&(o.scrollbar={hide:!0}),r(o)}},74346:(e,n,r)=>{"use strict";r.d(n,{a:()=>isPlatform,b:()=>getIonMode,c:()=>i,i:()=>initialize});var o=r(96317);const i=new class Config{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}},startsWith=(e,n)=>e.substr(0,n.length)===n,s="ionic:",a="ionic-persist-config",isPlatform=(e,n)=>{return"string"==typeof e&&(n=e,e=void 0),(r=e,setupPlatforms(r)).includes(n);var r},setupPlatforms=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let n=e.Ionic.platforms;return null==n&&(n=e.Ionic.platforms=detectPlatforms(e),n.forEach((n=>e.document.documentElement.classList.add(`plt-${n}`)))),n},detectPlatforms=e=>{const n=i.get("platform");return Object.keys(c).filter((r=>{const o=null==n?void 0:n[r];return"function"==typeof o?o(e):c[r](e)}))},isIpad=e=>!!testUserAgent(e,/iPad/i)||!(!testUserAgent(e,/Macintosh/i)||!isMobile(e)),isAndroid=e=>testUserAgent(e,/android|sink/i),isMobile=e=>matchMedia(e,"(any-pointer:coarse)"),isHybrid=e=>isCordova(e)||isCapacitorNative(e),isCordova=e=>!!(e.cordova||e.phonegap||e.PhoneGap),isCapacitorNative=e=>{const n=e.Capacitor;return!!((null==n?void 0:n.isNative)||(null==n?void 0:n.isNativePlatform)&&n.isNativePlatform())},testUserAgent=(e,n)=>n.test(e.navigator.userAgent),matchMedia=(e,n)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,n).matches},c={ipad:isIpad,iphone:e=>testUserAgent(e,/iPhone/i),ios:e=>testUserAgent(e,/iPhone|iPod/i)||isIpad(e),android:isAndroid,phablet:e=>{const n=e.innerWidth,r=e.innerHeight,o=Math.min(n,r),i=Math.max(n,r);return o>390&&o<520&&i>620&&i<800},tablet:e=>{const n=e.innerWidth,r=e.innerHeight,o=Math.min(n,r),i=Math.max(n,r);return isIpad(e)||(e=>isAndroid(e)&&!testUserAgent(e,/mobile/i))(e)||o>460&&o<820&&i>780&&i<1400},cordova:isCordova,capacitor:isCapacitorNative,electron:e=>testUserAgent(e,/electron/i),pwa:e=>{var n;return!(!(null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:isMobile,mobileweb:e=>isMobile(e)&&!isHybrid(e),desktop:e=>!isMobile(e),hybrid:isHybrid};let u;const getIonMode=e=>e&&(0,o.g)(e)||u,initialize=(e={})=>{if("undefined"==typeof window)return;const n=window.document,r=window,c=r.Ionic=r.Ionic||{},p=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const n=e.sessionStorage.getItem(a);return null!==n?JSON.parse(n):{}}catch(e){return{}}})(r)),{persistConfig:!1}),c.config),(e=>{const n={};return e.location.search.slice(1).split("&").map((e=>e.split("="))).map((([e,n])=>{try{return[decodeURIComponent(e),decodeURIComponent(n)]}catch(e){return["",""]}})).filter((([e])=>startsWith(e,s))).map((([e,n])=>[e.slice(s.length),n])).forEach((([e,r])=>{n[e]=r})),n})(r)),e);i.reset(p),i.getBoolean("persistConfig")&&((e,n)=>{try{e.sessionStorage.setItem(a,JSON.stringify(n))}catch(e){return}})(r,p),setupPlatforms(r),c.config=i,c.mode=u=i.get("mode",n.documentElement.getAttribute("mode")||(isPlatform(r,"ios")?"ios":"md")),i.set("mode",u),n.documentElement.setAttribute("mode",u),n.documentElement.classList.add(u),i.getBoolean("_testing")&&i.set("animated",!1);const isIonicElement=e=>{var n;return null===(n=e.tagName)||void 0===n?void 0:n.startsWith("ION-")},isAllowedIonicModeValue=e=>["ios","md"].includes(e);(0,o.a)((e=>{for(;e;){const n=e.mode||e.getAttribute("mode");if(n){if(isAllowedIonicModeValue(n))return n;isIonicElement(e)&&console.warn('Invalid ionic mode: "'+n+'", expected: "ios" or "md"')}e=e.parentElement}return u}))}},91935:(e,n,r)=>{"use strict";r.r(n),r.d(n,{iosTransitionAnimation:()=>iosTransitionAnimation,shadow:()=>shadow});var o=r(19986),i=r(95248);r(28476),r(74346),r(96317),r(99144);const getClonedElement=e=>document.querySelector(`${e}.ion-cloned-element`),shadow=e=>e.shadowRoot||e,getLargeTitle=e=>{const n="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),r="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=n){const e=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=e?e.querySelector(r):null}return e.querySelector(r)},getBackButton=(e,n)=>{const r="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs");let o=[];if(null!=r){const e=r.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=e&&(o=e.querySelectorAll("ion-buttons"))}else o=e.querySelectorAll("ion-buttons");for(const e of o){const r=e.closest("ion-header"),o=r&&!r.classList.contains("header-collapse-condense-inactive"),i=e.querySelector("ion-back-button"),s=e.classList.contains("buttons-collapse");if(null!==i&&("start"===e.slot||""===e.slot)&&(s&&o&&n||!s))return i}return null},animateBackButton=(e,n,r,i,a,c,u,p,f)=>{var g,v;const C=n?`calc(100% - ${a.right+4}px)`:a.left-4+"px",b=n?"right":"left",w=n?"left":"right",A=n?"right":"left";let _=1,E=1,I=`scale(${E})`;const T="scale(1)";if(c&&u){const e=(null===(g=c.textContent)||void 0===g?void 0:g.trim())===(null===(v=p.textContent)||void 0===v?void 0:v.trim());_=f.width/u.width,E=(f.height-s)/u.height,I=e?`scale(${_}, ${E})`:`scale(${E})`}const P=shadow(i).querySelector("ion-icon").getBoundingClientRect(),k=n?P.width/2-(P.right-a.right)+"px":a.left-P.width/2+"px",x=n?`-${window.innerWidth-a.right}px`:`${a.left}px`,F=`${f.top}px`,R=`${a.top}px`,N=r?[{offset:0,transform:`translate3d(${x}, ${R}, 0)`},{offset:1,transform:`translate3d(${k}, ${F}, 0)`}]:[{offset:0,transform:`translate3d(${k}, ${F}, 0)`},{offset:1,transform:`translate3d(${x}, ${R}, 0)`}],L=r?[{offset:0,opacity:1,transform:T},{offset:1,opacity:0,transform:I}]:[{offset:0,opacity:0,transform:I},{offset:1,opacity:1,transform:T}],H=r?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],U=(0,o.c)(),B=(0,o.c)(),j=(0,o.c)(),V=getClonedElement("ion-back-button"),G=shadow(V).querySelector(".button-text"),z=shadow(V).querySelector("ion-icon");V.text=i.text,V.mode=i.mode,V.icon=i.icon,V.color=i.color,V.disabled=i.disabled,V.style.setProperty("display","block"),V.style.setProperty("position","fixed"),B.addElement(z),U.addElement(G),j.addElement(V),j.beforeStyles({position:"absolute",top:"0px",[A]:"0px"}).beforeAddWrite((()=>{i.style.setProperty("display","none"),V.style.setProperty(b,C)})).afterAddWrite((()=>{i.style.setProperty("display",""),V.style.setProperty("display","none"),V.style.removeProperty(b)})).keyframes(N),U.beforeStyles({"transform-origin":`${b} top`}).keyframes(L),B.beforeStyles({"transform-origin":`${w} center`}).keyframes(H),e.addAnimation([U,B,j])},animateLargeTitle=(e,n,r,i,a,c,u,p,f)=>{var g,v;const C=n?"right":"left",b=n?`calc(100% - ${a.right}px)`:`${a.left}px`,w=`${a.top}px`;let A=n?`-${window.innerWidth-u.right-8}px`:`${u.x+8}px`,_=.5;const E="scale(1)";let I=`scale(${_})`;if(p&&f){A=n?`-${window.innerWidth-f.right-8}px`:f.x-8+"px";const e=(null===(g=p.textContent)||void 0===g?void 0:g.trim())===(null===(v=i.textContent)||void 0===v?void 0:v.trim());_=f.height/(c.height-s),I=e?`scale(${f.width/c.width}, ${_})`:`scale(${_})`}const T=u.top+u.height/2-a.height*_/2+"px",P=r?[{offset:0,opacity:0,transform:`translate3d(${A}, ${T}, 0) ${I}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${w}, 0) ${E}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${w}, 0) ${E}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${A}, ${T}, 0) ${I}`}],k=getClonedElement("ion-title"),x=(0,o.c)();k.innerText=i.innerText,k.size=i.size,k.color=i.color,x.addElement(k),x.beforeStyles({"transform-origin":`${C} top`,height:`${a.height}px`,display:"",position:"relative",[C]:b}).beforeAddWrite((()=>{i.style.setProperty("opacity","0")})).afterAddWrite((()=>{i.style.setProperty("opacity",""),k.style.setProperty("display","none")})).keyframes(P),e.addAnimation(x)},iosTransitionAnimation=(e,n)=>{var r;try{const s="cubic-bezier(0.32,0.72,0,1)",a="opacity",c="transform",u="0%",p=.8,f="rtl"===e.ownerDocument.dir,g=f?"-99.5%":"99.5%",v=f?"33%":"-33%",C=n.enteringEl,b=n.leavingEl,w="back"===n.direction,A=C.querySelector(":scope > ion-content"),_=C.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),E=C.querySelectorAll(":scope > ion-header > ion-toolbar"),I=(0,o.c)(),T=(0,o.c)();if(I.addElement(C).duration((null!==(r=n.duration)&&void 0!==r?r:0)||540).easing(n.easing||s).fill("both").beforeRemoveClass("ion-page-invisible"),b&&null!=e){const n=(0,o.c)();n.addElement(e),I.addAnimation(n)}if(A||0!==E.length||0!==_.length?(T.addElement(A),T.addElement(_)):T.addElement(C.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),I.addAnimation(T),w?T.beforeClearStyles([a]).fromTo("transform",`translateX(${v})`,`translateX(${u})`).fromTo(a,p,1):T.beforeClearStyles([a]).fromTo("transform",`translateX(${g})`,`translateX(${u})`),A){const e=shadow(A).querySelector(".transition-effect");if(e){const n=e.querySelector(".transition-cover"),r=e.querySelector(".transition-shadow"),i=(0,o.c)(),s=(0,o.c)(),c=(0,o.c)();i.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),s.addElement(n).beforeClearStyles([a]).fromTo(a,0,.1),c.addElement(r).beforeClearStyles([a]).fromTo(a,.03,.7),i.addAnimation([s,c]),T.addAnimation([i])}}const P=C.querySelector("ion-header.header-collapse-condense"),{forward:k,backward:x}=((e,n,r,o,i)=>{const s=getBackButton(o,r),a=getLargeTitle(i),c=getLargeTitle(o),u=getBackButton(i,r),p=null!==s&&null!==a&&!r,f=null!==c&&null!==u&&r;if(p){const o=a.getBoundingClientRect(),i=s.getBoundingClientRect(),c=shadow(s).querySelector(".button-text"),u=null==c?void 0:c.getBoundingClientRect(),p=shadow(a).querySelector(".toolbar-title").getBoundingClientRect();animateLargeTitle(e,n,r,a,o,p,i,c,u),animateBackButton(e,n,r,s,i,c,u,a,p)}else if(f){const o=c.getBoundingClientRect(),i=u.getBoundingClientRect(),s=shadow(u).querySelector(".button-text"),a=null==s?void 0:s.getBoundingClientRect(),p=shadow(c).querySelector(".toolbar-title").getBoundingClientRect();animateLargeTitle(e,n,r,c,o,p,i,s,a),animateBackButton(e,n,r,u,i,s,a,c,p)}return{forward:p,backward:f}})(I,f,w,C,b);if(E.forEach((e=>{const n=(0,o.c)();n.addElement(e),I.addAnimation(n);const r=(0,o.c)();r.addElement(e.querySelector("ion-title"));const i=(0,o.c)(),s=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),c=e.closest("ion-header"),p=null==c?void 0:c.classList.contains("header-collapse-condense-inactive");let C;C=s.filter(w?e=>{const n=e.classList.contains("buttons-collapse");return n&&!p||!n}:e=>!e.classList.contains("buttons-collapse")),i.addElement(C);const b=(0,o.c)();b.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const A=(0,o.c)();A.addElement(shadow(e).querySelector(".toolbar-background"));const _=(0,o.c)(),E=e.querySelector("ion-back-button");if(E&&_.addElement(E),n.addAnimation([r,i,b,A,_]),i.fromTo(a,.01,1),b.fromTo(a,.01,1),w)p||r.fromTo("transform",`translateX(${v})`,`translateX(${u})`).fromTo(a,.01,1),b.fromTo("transform",`translateX(${v})`,`translateX(${u})`),_.fromTo(a,.01,1);else{P||r.fromTo("transform",`translateX(${g})`,`translateX(${u})`).fromTo(a,.01,1),b.fromTo("transform",`translateX(${g})`,`translateX(${u})`),A.beforeClearStyles([a,"transform"]);if((null==c?void 0:c.translucent)?A.fromTo("transform",f?"translateX(-100%)":"translateX(100%)","translateX(0px)"):A.fromTo(a,.01,"var(--opacity)"),k||_.fromTo(a,.01,1),E&&!k){const e=(0,o.c)();e.addElement(shadow(E).querySelector(".button-text")).fromTo("transform",f?"translateX(-100px)":"translateX(100px)","translateX(0px)"),n.addAnimation(e)}}})),b){const e=(0,o.c)(),n=b.querySelector(":scope > ion-content"),r=b.querySelectorAll(":scope > ion-header > ion-toolbar"),s=b.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(n||0!==r.length||0!==s.length?(e.addElement(n),e.addElement(s)):e.addElement(b.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),I.addAnimation(e),w){e.beforeClearStyles([a]).fromTo("transform",`translateX(${u})`,f?"translateX(-100%)":"translateX(100%)");const n=(0,i.g)(b);I.afterAddWrite((()=>{"normal"===I.getDirection()&&n.style.setProperty("display","none")}))}else e.fromTo("transform",`translateX(${u})`,`translateX(${v})`).fromTo(a,1,p);if(n){const r=shadow(n).querySelector(".transition-effect");if(r){const n=r.querySelector(".transition-cover"),i=r.querySelector(".transition-shadow"),s=(0,o.c)(),c=(0,o.c)(),u=(0,o.c)();s.addElement(r).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),c.addElement(n).beforeClearStyles([a]).fromTo(a,.1,0),u.addElement(i).beforeClearStyles([a]).fromTo(a,.7,.03),s.addAnimation([c,u]),e.addAnimation([s])}}r.forEach((e=>{const n=(0,o.c)();n.addElement(e);const r=(0,o.c)();r.addElement(e.querySelector("ion-title"));const i=(0,o.c)(),s=e.querySelectorAll("ion-buttons,[menuToggle]"),p=e.closest("ion-header"),g=null==p?void 0:p.classList.contains("header-collapse-condense-inactive"),C=Array.from(s).filter((e=>{const n=e.classList.contains("buttons-collapse");return n&&!g||!n}));i.addElement(C);const b=(0,o.c)(),A=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");A.length>0&&b.addElement(A);const _=(0,o.c)();_.addElement(shadow(e).querySelector(".toolbar-background"));const E=(0,o.c)(),T=e.querySelector("ion-back-button");if(T&&E.addElement(T),n.addAnimation([r,i,b,E,_]),I.addAnimation(n),E.fromTo(a,.99,0),i.fromTo(a,.99,0),b.fromTo(a,.99,0),w){g||r.fromTo("transform",`translateX(${u})`,f?"translateX(-100%)":"translateX(100%)").fromTo(a,.99,0),b.fromTo("transform",`translateX(${u})`,f?"translateX(-100%)":"translateX(100%)"),_.beforeClearStyles([a,"transform"]);if((null==p?void 0:p.translucent)?_.fromTo("transform","translateX(0px)",f?"translateX(-100%)":"translateX(100%)"):_.fromTo(a,"var(--opacity)",0),T&&!x){const e=(0,o.c)();e.addElement(shadow(T).querySelector(".button-text")).fromTo("transform",`translateX(${u})`,`translateX(${(f?-124:124)+"px"})`),n.addAnimation(e)}}else g||r.fromTo("transform",`translateX(${u})`,`translateX(${v})`).fromTo(a,.99,0).afterClearStyles([c,a]),b.fromTo("transform",`translateX(${u})`,`translateX(${v})`).afterClearStyles([c,a]),E.afterClearStyles([a]),r.afterClearStyles([a]),i.afterClearStyles([a])}))}return I}catch(e){throw e}},s=10},85062:(e,n,r)=>{"use strict";r.r(n),r.d(n,{mdTransitionAnimation:()=>mdTransitionAnimation});var o=r(19986),i=r(95248);r(28476),r(74346),r(96317),r(99144);const mdTransitionAnimation=(e,n)=>{var r,s,a;const c="40px",u="back"===n.direction,p=n.leavingEl,f=(0,i.g)(n.enteringEl),g=f.querySelector("ion-toolbar"),v=(0,o.c)();if(v.addElement(f).fill("both").beforeRemoveClass("ion-page-invisible"),u?v.duration((null!==(r=n.duration)&&void 0!==r?r:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):v.duration((null!==(s=n.duration)&&void 0!==s?s:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${c})`,"translateY(0px)").fromTo("opacity",.01,1),g){const e=(0,o.c)();e.addElement(g),v.addAnimation(e)}if(p&&u){v.duration((null!==(a=n.duration)&&void 0!==a?a:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const e=(0,o.c)();e.addElement((0,i.g)(p)).onFinish((n=>{1===n&&e.elements.length>0&&e.elements[0].style.setProperty("display","none")})).fromTo("transform","translateY(0px)",`translateY(${c})`).fromTo("opacity",1,0),v.addAnimation(e)}return v}},24626:(e,n,r)=>{"use strict";r.d(n,{B:()=>R,F:()=>H,G:()=>N,O:()=>L,a:()=>w,b:()=>A,c:()=>I,d:()=>createDelegateController,e:()=>createTriggerController,f:()=>P,g:()=>x,h:()=>eventMethod,i:()=>isCancel,j:()=>prepareOverlay,k:()=>setOverlayId,l:()=>_,m:()=>E,n:()=>focusFirstDescendant,o:()=>getPresentedOverlay,q:()=>focusLastDescendant,s:()=>safeCall,t:()=>T});var o=r(10467),i=r(28476),s=r(81559),a=r(66221),c=r(74346),u=r(33345),p=r(11970),f=r(99144);const g='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',focusFirstDescendant=(e,n)=>{const r=e.querySelector(g);focusElementInContext(r,null!=n?n:e)},focusLastDescendant=(e,n)=>{const r=Array.from(e.querySelectorAll(g));focusElementInContext(r.length>0?r[r.length-1]:null,null!=n?n:e)},focusElementInContext=(e,n)=>{let r=e;const o=null==e?void 0:e.shadowRoot;if(o&&(r=o.querySelector(g)||e),r){const e=r.closest("ion-radio-group");e?e.setFocus():(0,s.f)(r)}else n.focus()};let v=0,C=0;const b=new WeakMap,createController=e=>({create:n=>createOverlay(e,n),dismiss:(n,r,o)=>dismissOverlay(document,n,r,e,o),getTop:()=>(0,o.A)((function*(){return getPresentedOverlay(document,e)}))()}),w=createController("ion-alert"),A=createController("ion-action-sheet"),_=createController("ion-loading"),E=createController("ion-modal"),I=createController("ion-popover"),T=createController("ion-toast"),prepareOverlay=e=>{"undefined"!=typeof document&&connectListeners(document);const n=v++;e.overlayIndex=n},setOverlayId=e=>(e.hasAttribute("id")||(e.id="ion-overlay-"+ ++C),e.id),createOverlay=(e,n)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(e).then((()=>{const r=document.createElement(e);return r.classList.add("overlay-hidden"),Object.assign(r,Object.assign(Object.assign({},n),{hasController:!0})),getAppRoot(document).appendChild(r),new Promise((e=>(0,s.c)(r,e)))})):Promise.resolve(),focusElementInOverlay=(e,n)=>{let r=e;const o=null==e?void 0:e.shadowRoot;o&&(r=o.querySelector(g)||e),r?(0,s.f)(r):n.focus()},trapKeyboardFocus=(e,n)=>{const r=getPresentedOverlay(n,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),o=e.target;if(!r||!o)return;if(r.classList.contains(H))return;r.shadowRoot?(()=>{if(r.contains(o))r.lastFocus=o;else if("ION-TOAST"===o.tagName)focusElementInOverlay(r.lastFocus,r);else{const e=r.lastFocus;focusFirstDescendant(r),e===n.activeElement&&focusLastDescendant(r),r.lastFocus=n.activeElement}})():(()=>{if(r===o)r.lastFocus=void 0;else if("ION-TOAST"===o.tagName)focusElementInOverlay(r.lastFocus,r);else{const e=(0,s.g)(r);if(!e.contains(o))return;const i=e.querySelector(".ion-overlay-wrapper");if(!i)return;if(i.contains(o)||o===e.querySelector("ion-backdrop"))r.lastFocus=o;else{const e=r.lastFocus;focusFirstDescendant(i,r),e===n.activeElement&&focusLastDescendant(i,r),r.lastFocus=n.activeElement}}})()},connectListeners=e=>{0===v&&(v=1,e.addEventListener("focus",(n=>{trapKeyboardFocus(n,e)}),!0),e.addEventListener("ionBackButton",(n=>{const r=getPresentedOverlay(e);(null==r?void 0:r.backdropDismiss)&&n.detail.register(a.OVERLAY_BACK_BUTTON_PRIORITY,(()=>{r.dismiss(void 0,R)}))})),(0,a.shouldUseCloseWatcher)()||e.addEventListener("keydown",(n=>{if("Escape"===n.key){const n=getPresentedOverlay(e);(null==n?void 0:n.backdropDismiss)&&n.dismiss(void 0,R)}})))},dismissOverlay=(e,n,r,o,i)=>{const s=getPresentedOverlay(e,o,i);return s?s.dismiss(n,r):Promise.reject("overlay does not exist")},getPresentedOverlays=(e,n)=>((e,n)=>(void 0===n&&(n="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(e.querySelectorAll(n)).filter((e=>e.overlayIndex>0))))(e,n).filter((e=>!e.classList.contains("overlay-hidden"))),getPresentedOverlay=(e,n,r)=>{const o=getPresentedOverlays(e,n);return void 0===r?o[o.length-1]:o.find((e=>e.id===r))},setRootAriaHidden=(e=!1)=>{const n=getAppRoot(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},P=function(){var e=(0,o.A)((function*(e,n,r,o,i){var s,a;if(e.presented)return;"ION-TOAST"!==e.el.tagName&&setRootAriaHidden(!0),document.body.classList.add(p.B),hideUnderlyingOverlaysFromScreenReaders(e.el),hideAnimatingOverlayFromScreenReaders(e.el),e.presented=!0,e.willPresent.emit(),null===(s=e.willPresentShorthand)||void 0===s||s.emit();const u=(0,c.b)(e),f=e.enterAnimation?e.enterAnimation:c.c.get(n,"ios"===u?r:o);(yield F(e,f,e.el,i))&&(e.didPresent.emit(),null===(a=e.didPresentShorthand)||void 0===a||a.emit()),"ION-TOAST"!==e.el.tagName&&k(e.el),!e.keyboardClose||null!==document.activeElement&&e.el.contains(document.activeElement)||e.el.focus(),e.el.removeAttribute("aria-hidden")}));return function present(n,r,o,i,s){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.A)((function*(e){let n=document.activeElement;if(!n)return;const r=null==n?void 0:n.shadowRoot;r&&(n=r.querySelector(g)||n),yield e.onDidDismiss(),null!==document.activeElement&&document.activeElement!==document.body||n.focus()}));return function restoreElementFocus(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.A)((function*(e,n,r,o,s,a,u){var f,g;if(!e.presented)return!1;const v=void 0!==i.d?getPresentedOverlays(i.d).filter((e=>"ION-TOAST"!==e.tagName)):[];1===v.length&&v[0].id===e.el.id&&(setRootAriaHidden(!1),document.body.classList.remove(p.B)),e.presented=!1;try{hideAnimatingOverlayFromScreenReaders(e.el),e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:n,role:r}),null===(f=e.willDismissShorthand)||void 0===f||f.emit({data:n,role:r});const i=(0,c.b)(e),p=e.leaveAnimation?e.leaveAnimation:c.c.get(o,"ios"===i?s:a);r!==N&&(yield F(e,p,e.el,u)),e.didDismiss.emit({data:n,role:r}),null===(g=e.didDismissShorthand)||void 0===g||g.emit({data:n,role:r});(b.get(e)||[]).forEach((e=>e.destroy())),b.delete(e),e.el.classList.add("overlay-hidden"),e.el.style.removeProperty("pointer-events"),void 0!==e.el.lastFocus&&(e.el.lastFocus=void 0)}catch(e){console.error(e)}return e.el.remove(),revealOverlaysToScreenReaders(),!0}));return function dismiss(n,r,o,i,s,a,c){return e.apply(this,arguments)}}(),getAppRoot=e=>e.querySelector("ion-app")||e.body,F=function(){var e=(0,o.A)((function*(e,n,r,o){r.classList.remove("overlay-hidden");const i=n(e.el,o);e.animated&&c.c.getBoolean("animated",!0)||i.duration(0),e.keyboardClose&&i.beforeAddWrite((()=>{const e=r.ownerDocument.activeElement;(null==e?void 0:e.matches("input,ion-input, ion-textarea"))&&e.blur()}));const s=b.get(e)||[];return b.set(e,[...s,i]),yield i.play(),!0}));return function overlayAnimation(n,r,o,i){return e.apply(this,arguments)}}(),eventMethod=(e,n)=>{let r;const o=new Promise((e=>r=e));return onceEvent(e,n,(e=>{r(e.detail)})),o},onceEvent=(e,n,r)=>{const handler=o=>{(0,s.b)(e,n,handler),r(o)};(0,s.a)(e,n,handler)},isCancel=e=>"cancel"===e||e===R,defaultGate=e=>e(),safeCall=(e,n)=>{if("function"==typeof e){return c.c.get("_zoneGate",defaultGate)((()=>{try{return e(n)}catch(e){throw e}}))}},R="backdrop",N="gesture",L=39,createDelegateController=e=>{let n,r=!1;const i=(0,u.C)(),getDelegate=(o=!1)=>{if(n&&!o)return{delegate:n,inline:r};const{el:s,hasController:a,delegate:c}=e;return r=null!==s.parentNode&&!a,n=r?c||i:c,{inline:r,delegate:n}};return{attachViewToDom:function(){var n=(0,o.A)((function*(n){const{delegate:r}=getDelegate(!0);if(r)return yield r.attachViewToDom(e.el,n);const{hasController:o}=e;if(o&&void 0!==n)throw new Error("framework delegate is missing");return null}));return function attachViewToDom(e){return n.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:n}=getDelegate();n&&void 0!==e.el&&n.removeViewFromDom(e.el.parentElement,e.el)}}},createTriggerController=()=>{let e;const removeClickListener=()=>{e&&(e(),e=void 0)};return{addClickListener:(n,r)=>{removeClickListener();const o=void 0!==r?document.getElementById(r):null;if(!o)return(0,f.p)(`A trigger element with the ID "${r}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,n),void 0;e=((e,n)=>{const openOverlay=()=>{n.present()};return e.addEventListener("click",openOverlay),()=>{e.removeEventListener("click",openOverlay)}})(o,n)},removeClickListener}},hideAnimatingOverlayFromScreenReaders=e=>{void 0!==i.d&&(0,c.a)("android")&&e.setAttribute("aria-hidden","true")},hideUnderlyingOverlaysFromScreenReaders=e=>{var n;if(void 0===i.d)return;const r=getPresentedOverlays(i.d);for(let o=r.length-1;o>=0;o--){const i=r[o],s=null!==(n=r[o+1])&&void 0!==n?n:e;(s.hasAttribute("aria-hidden")||"ION-TOAST"!==s.tagName)&&i.setAttribute("aria-hidden","true")}},revealOverlaysToScreenReaders=()=>{if(void 0===i.d)return;const e=getPresentedOverlays(i.d);for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.removeAttribute("aria-hidden"),"ION-TOAST"!==r.tagName)break}},H="ion-disable-focus-trap"},86914:(e,n,r)=>{"use strict";r.d(n,{j:()=>K,F:()=>getBadgesServices});var o=r(10467),i=r(54438),s=r(71112),a=r(15324),c=r(79555),u=r(70548);let p=(()=>{var e;class AddonBadgesMyBadgesLinkHandlerService extends s.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonBadgesMyBadgesLinkHandler",this.featureName="CoreUserDelegate_AddonBadges",this.pattern=/\/badges\/mybadges\.php/}getActions(){return[{action:(e=(0,o.A)((function*(e){yield a.CoreNavigator.navigateToSitePath("/badges",{siteId:e})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(e){return(0,o.A)((function*(){return u.AddonBadges.isPluginEnabled(e)}))()}}return(e=AddonBadgesMyBadgesLinkHandlerService).ɵfac=(()=>{let n;return function AddonBadgesMyBadgesLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesMyBadgesLinkHandlerService})();const f=(0,c.Qd)(p);var g=r(52749);let v=(()=>{var e;class AddonBadgesHelperProvider{canOpenBadge(e,n){return(0,o.A)((function*(){if(!u.AddonBadges.isPluginEnabled(n))return!1;const r=yield g.CoreSites.getSite(n);if(r.isVersionGreaterEqualThan("4.5"))return!0;return void 0!==(yield u.AddonBadges.getUserBadges(0,r.getUserId())).find((n=>e==n.uniquehash))}))()}}return(e=AddonBadgesHelperProvider).ɵfac=function AddonBadgesHelperProvider_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesHelperProvider})();const C=(0,c.Qd)(v);let b=(()=>{var e;class AddonBadgesBadgeLinkHandlerService extends s.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonBadgesBadgeLinkHandler",this.pattern=/\/badges\/badge\.php.*([?&]hash=)/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){yield a.CoreNavigator.navigateToSitePath(`/badge/${r.hash}`,{siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e,n,r){return(0,o.A)((function*(){return C.canOpenBadge(r.hash,e)}))()}}return(e=AddonBadgesBadgeLinkHandlerService).ɵfac=(()=>{let n;return function AddonBadgesBadgeLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesBadgeLinkHandlerService})();const w=(0,c.Qd)(b);let A=(()=>{var e;class AddonBadgesBadgeClassLinkHandlerService extends s.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonBadgesBadgeClassLinkHandler",this.pattern=/\/badges\/badgeclass\.php.*([?&]id=)/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){yield a.CoreNavigator.navigateToSitePath(`/badgeclass/${r.id}`,{siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return(0,o.A)((function*(){const n=yield u.AddonBadges.isPluginEnabled(e),r=yield u.AddonBadges.isGetBadgeClassAvailable(e);return n&&r}))()}}return(e=AddonBadgesBadgeClassLinkHandlerService).ɵfac=(()=>{let n;return function AddonBadgesBadgeClassLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesBadgeClassLinkHandlerService})();const _=(0,c.Qd)(A);var E=r(33504),I=r(5784);let T=(()=>{var e;class AddonBadgesUserHandlerService{constructor(){this.name="AddonBadges:fakename",this.priority=300,this.type=I.CoreUserProfileHandlerType.LIST_ITEM}isEnabled(){return u.AddonBadges.isPluginEnabled()}isEnabledForContext(e,n,r){return(0,o.A)((function*(){const n=g.CoreSites.getCurrentSite();if(!n)return!1;if(e===I.CoreUserDelegateContext.USER_MENU){if(n.isFeatureDisabled("CoreUserDelegate_AddonBadges:account"))return!1}else if(n.isFeatureDisabled("CoreUserDelegate_AddonBadges"))return!1;return void 0===(null==r?void 0:r.badges)||r.badges}))()}getDisplayData(){return{icon:"fas-trophy",title:"addon.badges.badges",action:(e,n,r,o)=>{e.preventDefault(),e.stopPropagation(),a.CoreNavigator.navigateToSitePath("/badges",{params:{courseId:o,userId:n.id}})}}}}return(e=AddonBadgesUserHandlerService).ɵfac=function AddonBadgesUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesUserHandlerService})();const P=(0,c.Qd)(T);var k=r(42858),x=r(71758),F=r(81690),R=r(55554);let N=(()=>{var e;class AddonBadgesPushClickHandlerService{constructor(){this.name="AddonBadgesPushClickHandler",this.priority=200,this.featureName="CoreUserDelegate_AddonBadges"}handles(e){return(0,o.A)((function*(){const n=e.customdata||{};var r,o;return!(!F.j.isTrueOrOne(e.notif)||"moodle"!=e.moodlecomponent||!("badgerecipientnotice"==e.name||"badgecreatornotice"==e.name&&n.hash))&&(null!==(r=e.customdata)&&void 0!==r&&r.hash?yield C.canOpenBadge(String(null===(o=e.customdata)||void 0===o?void 0:o.hash),e.site):u.AddonBadges.isPluginEnabled(e.site))}))()}handleClick(e){return(0,o.A)((function*(){const n=e.customdata||{};if(n.hash)return yield a.CoreNavigator.navigateToSitePath(`/badge/${n.hash}`,{siteId:e.site}),void 0;yield R.g.ignoreErrors(u.AddonBadges.invalidateUserBadges(0,Number(e.usertoid),e.site)),yield a.CoreNavigator.navigateToSitePath("/badges",{siteId:e.site})}))()}}return(e=AddonBadgesPushClickHandlerService).ɵfac=function AddonBadgesPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesPushClickHandlerService})();const L=(0,c.Qd)(N);var H=r(88452),U=r(92443);let B=(()=>{var e;class AddonBadgesTagAreaHandlerService{constructor(){this.name="AddonBadgesTagAreaHandler",this.type="core_badges/badge"}isEnabled(){return u.AddonBadges.isPluginEnabled()}parseContent(e){return(0,o.A)((function*(){return U.CoreTagHelper.parseFeedContent(e)}))()}getComponent(){return(0,o.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=AddonBadgesTagAreaHandlerService).ɵfac=function AddonBadgesTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesTagAreaHandlerService})();const j=(0,c.Qd)(B);var V=r(94114),G=r(93417);function getBadgesServices(){return _getBadgesServices.apply(this,arguments)}function _getBadgesServices(){return(_getBadgesServices=(0,o.A)((function*(){const{AddonBadgesProvider:e}=yield Promise.resolve().then(r.bind(r,70548));return[e]}))).apply(this,arguments)}const z=[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(94733)]).then(r.bind(r,94733)),loadChildren:()=>[{path:":badgeHash",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(85729)]).then(r.bind(r,85729)),data:{usesSwipeNavigation:!0}}]}],q=[...(0,V.VI)([{path:"",pathMatch:"full",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(94733)]).then(r.bind(r,94733))},{path:":badgeHash",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(85729)]).then(r.bind(r,85729)),data:{usesSwipeNavigation:!0}}],(()=>G.CoreScreen.isMobile)),...(0,V.VI)(z,(()=>G.CoreScreen.isTablet))],W=[{path:"badge/:badgeHash",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(85729)]).then(r.bind(r,85729)),data:{usesSwipeNavigation:!1}},{path:"badges",loadChildren:()=>q},{path:"badgeclass/:badgeId",loadComponent:()=>r.e(2553).then(r.bind(r,2553))}];let K=(()=>{var e;class AddonBadgesModule{}return(e=AddonBadgesModule).ɵfac=function AddonBadgesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{E.CoreContentLinksDelegate.registerHandler(f.instance),E.CoreContentLinksDelegate.registerHandler(w.instance),E.CoreContentLinksDelegate.registerHandler(_.instance),I.CoreUserDelegate.registerHandler(P.instance),x.CorePushNotificationsDelegate.registerClickHandler(L.instance),H.CoreTagAreaDelegate.registerHandler(j.instance)}}],imports:[k.b.forChild(W)]}),AddonBadgesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(K,{imports:[k.b]}))},70548:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonBadges:()=>f,AddonBadgesProvider:()=>p});var o=r(10467),i=r(52749),s=r(79555),a=r(75629),c=r(74431),u=r(54438);let p=(()=>{var e;class AddonBadgesProvider{isPluginEnabled(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).canUseAdvancedFeature("enablebadges")}))()}getBadgesCacheKey(e,n){return`${AddonBadgesProvider.ROOT_CACHE_KEY}badges:${e}:${n}`}getUserBadges(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),u={courseid:e,userid:n},p={cacheKey:s.getBadgesCacheKey(e,n),updateFrequency:c.CoreCacheUpdateFrequency.RARELY},f=yield o.read("core_badges_get_user_badges",u,p);if(!f||!f.badges)throw new a.CoreError("Invalid badges response");return f.badges.forEach((e=>{var n;!e.alignment&&e.competencies&&(e.alignment=e.competencies.map((e=>({targetName:e.targetname,targetUrl:e.targeturl})))),e.alignment=e.alignment||e.competencies,e.alignment=null===(n=e.alignment)||void 0===n?void 0:n.filter((e=>e.targetName))})),f.badges}))()}invalidateUserBadges(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(s.getBadgesCacheKey(e,n))}))()}getUserBadgeByHashCacheKey(e){return`${AddonBadgesProvider.ROOT_CACHE_KEY}badge:${e}`}getUserBadgeByHash(e,n){var r=this;return(0,o.A)((function*(){var o,s;const u=yield i.CoreSites.getSite(n),p={hash:e},f={cacheKey:r.getUserBadgeByHashCacheKey(e),updateFrequency:c.CoreCacheUpdateFrequency.RARELY},g=yield u.read("core_badges_get_user_badge_by_hash",p,f),v=null==g||null===(o=g.badge)||void 0===o?void 0:o[0];if(!v)throw new a.CoreError("Invalid badge response");return v.alignment=null===(s=v.alignment)||void 0===s?void 0:s.filter((e=>e.targetName)),v}))()}invalidateUserBadgeByHash(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getUserBadgeByHashCacheKey(e))}))()}getBadgeClassCacheKey(e){return`${AddonBadgesProvider.ROOT_CACHE_KEY}badgeclass:${e}`}getBadgeClass(e,n){var r=this;return(0,o.A)((function*(){var o;const s=yield i.CoreSites.getSite(n),u={id:e},p={cacheKey:r.getBadgeClassCacheKey(e),updateFrequency:c.CoreCacheUpdateFrequency.RARELY},f=yield s.read("core_badges_get_badge",u,p),g=null==f?void 0:f.badge;if(!g)throw new a.CoreError("Invalid badge response");return g.alignment=null===(o=g.alignment)||void 0===o?void 0:o.filter((e=>e.targetName)),g}))()}invalidateBadgeClass(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getBadgeClassCacheKey(e))}))()}isGetBadgeClassAvailable(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).wsAvailable("core_badges_get_badge")}))()}}return(e=AddonBadgesProvider).ROOT_CACHE_KEY="mmaBadges:",e.ɵfac=function AddonBadgesProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBadgesProvider})();const f=(0,s.Qd)(p)},37184:(e,n,r)=>{"use strict";r.d(n,{H5:()=>o,_K:()=>a,d4:()=>i,mO:()=>c,xF:()=>s});const o="blog",i="blog_entry_updated",s="addon_blog_autom_synced",a="addon_blog_manual_synced",c="blog"},30270:(e,n,r)=>{"use strict";r.d(n,{Q:()=>b});var o=r(10467),i=r(16082),s=r(45507),a=r(52749),c=r(55554),u=r(79555),p=r(58364),f=r(8756),g=r(92908),v=r(54438);let C=(()=>{var e;class AddonBlogOfflineService{deleteOfflineEntryRecord(e,n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n),o="id"in e?{id:e.id}:{created:e.created};yield r.getDb().deleteRecords(g.tu,o)}))()}markEntryAsRemoved(e,n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n);yield r.getDb().insertRecord(g.Wo,e)}))()}unmarkEntryAsRemoved(e,n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n);yield r.getDb().deleteRecords(g.Wo,{id:e})}))()}getEntriesToRemove(e){return(0,o.A)((function*(){const n=yield a.CoreSites.getSite(e);return yield n.getDb().getAllRecords(g.Wo)}))()}addOfflineEntry(e,n){return(0,o.A)((function*(){var r;const o=yield a.CoreSites.getSite(n);yield o.getDb().insertRecord(g.tu,{...e,id:null!==(r=e.id)&&void 0!==r?r:-e.created})}))()}getOfflineEntry(e,n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n),o=yield c.g.ignoreErrors(r.getDb().getRecord(g.tu,e));return o&&"id"in o&&o.id&&o.id<0&&delete o.id,o}))()}getOfflineEntries(e={},n){return(0,o.A)((function*(){const{entryid:r,userid:o}=e,i=yield a.CoreSites.getSite(n);return(yield i.getDb().getRecords(g.tu,p.T.withoutUndefined({id:r,userid:o}))).map((e=>("id"in e&&e.id&&e.id<0&&delete e.id,e)))}))()}getOfflineEntryFilesFolderPath(e,n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n),o=s.CoreFile.getSiteFolder(r.id);return f.$.concatenatePaths(o,`offlineblog/${"created"in e?`created-${e.created}`:e.id}`)}))()}getOfflineFiles(e,n){return(0,o.A)((function*(){try{const r=yield b.getOfflineEntryFilesFolderPath(e,n);return yield i.CoreFileUploader.getStoredFiles(r)}catch(e){return[]}}))()}}return(e=AddonBlogOfflineService).ɵfac=function AddonBlogOfflineService_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogOfflineService})();const b=(0,u.Qd)(C)},85618:(e,n,r)=>{"use strict";r.d(n,{a:()=>A});var o=r(10467),i=r(42008),s=r(16082),a=r(52749),c=r(48966),u=r(43411),p=r(79555),f=r(49882),g=r(37184),v=r(23732),C=r(30270),b=r(54438);let w=(()=>{var e;class AddonBlogSyncProvider extends i.l{constructor(){super("AddonBlogSyncService"),this.componentTranslatableString="addon.blog.blog"}syncAllEntries(e,n){var r=this;return(0,o.A)((function*(){yield r.syncOnSites("All entries",(e=>r.syncAllEntriesFunc(e,!!n)),e)}))()}syncAllEntriesFunc(e,n=!1){var r=this;return(0,o.A)((function*(){if(!(!!n||(yield r.isSyncNeeded(g.mO,e))))return;(yield r.syncEntriesForSite(e)).updated&&f.z.trigger(g.xF,void 0,e)}))()}syncEntriesForSite(e){var n=this;return(0,o.A)((function*(){const r=n.getOngoingSync(g.mO,e);return r||(n.logger.debug(`Try to sync ${g.mO} in site ${e}`),yield n.addOngoingSync(g.mO,n.performEntriesSync(e),e))}))()}performEntriesSync(e){var n=this;return(0,o.A)((function*(){const{entries:r,result:o}=yield n.syncEntriesToRemove(e);for(const a of r){var s;if(c.CoreSync.isBlocked(v.Ed.COMPONENT,null!==(s=a.id)&&void 0!==s?s:a.created,e))throw n.logger.debug(`Cannot sync entry ${a.created} because it is blocked.`),new i.D(p.HT.instant("core.errorsyncblocked",{$a:n.componentTranslate}));const r={subject:a.subject,summary:a.summary,summaryformat:a.summaryformat,options:JSON.parse(a.options)};try{if(a.id){yield n.syncUpdatedEntry({...a,id:a.id,options:r.options},e),o.updated=!0;continue}const i=yield n.uploadAttachments({created:a.created,options:r.options},e),s=r.options.find((e=>"attachmentsid"===e.name));i&&(s?s.value=i:r.options.push({name:"attachmentsid",value:i})),yield v.hU.addEntryOnline(r,e),yield C.Q.deleteOfflineEntryRecord({created:a.created},e),o.updated=!0}catch(r){if(!u.CoreWSError.isWebServiceError(r))throw r;yield C.Q.deleteOfflineEntryRecord(a.id?{id:a.id}:{created:a.created},e),n.addOfflineDataDeletedWarning(o.warnings,a.subject,r),o.updated=!0}}return o}))()}syncUpdatedEntry(e,n){var r=this;return(0,o.A)((function*(){const{attachmentsid:o}=yield v.hU.prepareEntryForEdition({entryid:e.id},n);yield r.uploadAttachments({entryId:e.id,attachmentsId:o,options:e.options},n);const i=e.options.find((e=>"attachmentsid"===e.name));i?i.value=o:e.options.push({name:"attachmentsid",value:o});const{options:s,subject:a,summary:c,summaryformat:u,id:p}=e;yield v.hU.updateEntryOnline({options:s,subject:a,summary:c,summaryformat:u,entryid:p},n),yield C.Q.deleteOfflineEntryRecord({id:p},n)}))()}uploadAttachments(e,n){return(0,o.A)((function*(){var r;const o=yield a.CoreSites.getSite(n),i="created"in e?{created:e.created}:{id:e.entryId},c=yield C.Q.getOfflineFiles(i,o.id);if("created"in e)return yield s.CoreFileUploader.uploadOrReuploadFiles(c,v.Ed.COMPONENT,e.created,o.id);const{entries:u}=yield v.hU.getEntries({entryid:e.entryId},{readingStrategy:3,siteId:o.id}),p=u.find((n=>n.id===e.entryId)),f=v.hU.getAttachmentFilesFromOptions(e.options),g=s.CoreFileUploader.getFilesToDelete(null!==(r=null==p?void 0:p.attachmentfiles)&&void 0!==r?r:[],f.online);g.length&&(yield s.CoreFileUploader.deleteDraftFiles(e.attachmentsId,g,o.id)),yield s.CoreFileUploader.uploadFiles(e.attachmentsId,[...f.online,...c],o.id)}))()}syncEntriesToRemove(e){var n=this;return(0,o.A)((function*(){let r=yield C.Q.getOfflineEntries(void 0,e);const i=yield C.Q.getEntriesToRemove(e),s=[];return yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){try{yield v.hU.deleteEntryOnline({entryid:o.id},e),yield C.Q.deleteOfflineEntryRecord({id:o.id},e),yield C.Q.unmarkEntryAsRemoved(o.id,e);const n=r.filter((e=>e.id!==o.id));n.length!==r.length&&(r=n)}catch(r){if(!u.CoreWSError.isWebServiceError(r))throw r;yield C.Q.unmarkEntryAsRemoved(o.id,e),n.addOfflineDataDeletedWarning(s,o.subject,r)}}));return function(e){return i.apply(this,arguments)}}())),{entries:r,result:{updated:i.length>0,warnings:s}}}))()}}return(e=AddonBlogSyncProvider).ɵfac=function AddonBlogSyncProvider_Factory(n){return new(n||e)},e.ɵprov=b.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogSyncProvider})();const A=(0,p.Qd)(w)},23732:(e,n,r)=>{"use strict";r.d(n,{Ed:()=>A,F6:()=>E,hU:()=>_});var o=r(10467),i=r(74431),s=r(98870),a=r(88436),c=r(94455),u=r(52749),p=r(24742),f=r(58364),g=r(79555),v=r(30270),C=r(55554),b=r(43411),w=r(54438);let A=(()=>{var e;class AddonBlogProvider{isPluginEnabled(e){return(0,o.A)((function*(){const n=yield u.CoreSites.getSite(e);return n.wsAvailable("core_blog_get_entries")&&n.canUseAdvancedFeature("enableblogs")}))()}getEntriesCacheKey(e={}){return AddonBlogProvider.ROOT_CACHE_KEY+f.T.sortAndStringify(e)}getEntries(e={},n){var r=this;return(0,o.A)((function*(){var o;const s=yield u.CoreSites.getSite(null==n?void 0:n.siteId),a={filters:f.T.toArrayOfObjects(e,"name","value"),page:null!==(o=null==n?void 0:n.page)&&void 0!==o?o:0,perpage:AddonBlogProvider.ENTRIES_PER_PAGE},c={cacheKey:r.getEntriesCacheKey(e),updateFrequency:i.CoreCacheUpdateFrequency.SOMETIMES,...u.CoreSites.getReadingStrategyPreSets(null==n?void 0:n.readingStrategy),...u.CoreSites.getFilterPresets(null==n?void 0:n.filter)};return s.read("core_blog_get_entries",a,c)}))()}addEntry({created:e,forceOffline:n,...r},i){var s=this;return(0,o.A)((function*(){const a=yield u.CoreSites.getSite(i),p=function(){var n=(0,o.A)((function*(){yield v.Q.addOfflineEntry({...r,userid:a.getUserId(),lastmodified:e,options:JSON.stringify(r.options),created:e})}));return function storeOffline(){return n.apply(this,arguments)}}();if(n||!c.WE.isOnline())return yield p();try{yield s.addEntryOnline(r,i)}catch(e){if(!b.CoreWSError.isWebServiceError(e))return yield p();throw e}}))()}addEntryOnline(e,n){return(0,o.A)((function*(){const r=yield u.CoreSites.getSite(n);yield r.write("core_blog_add_entry",e)}))()}updateEntry({forceOffline:e,created:n,...r},i){var s=this;return(0,o.A)((function*(){const a=yield u.CoreSites.getSite(i),f=function(){var e=(0,o.A)((function*(){const e={subject:r.subject,summary:r.summary,summaryformat:r.summaryformat,userid:a.getUserId(),lastmodified:p.j.timestamp(),options:JSON.stringify(r.options),created:n};yield v.Q.addOfflineEntry({...e,id:r.entryid})}));return function storeOffline(){return e.apply(this,arguments)}}();if(e||!c.WE.isOnline())return yield f();try{yield s.updateEntryOnline(r,i)}catch(e){if(!b.CoreWSError.isWebServiceError(e))return yield f();throw e}}))()}updateEntryOnline(e,n){return(0,o.A)((function*(){const r=yield u.CoreSites.getSite(n);yield r.write("core_blog_update_entry",e)}))()}prepareEntryForEdition(e,n){return(0,o.A)((function*(){const r=yield u.CoreSites.getSite(n);return yield r.write("core_blog_prepare_entry_for_edition",e)}))()}deleteEntry({subject:e,...n},r){var i=this;return(0,o.A)((function*(){try{if(!c.WE.isOnline())return yield v.Q.markEntryAsRemoved({id:n.entryid,subject:e},r);yield i.deleteEntryOnline(n,r),yield C.g.ignoreErrors(v.Q.unmarkEntryAsRemoved(n.entryid))}catch(o){if(!b.CoreWSError.isWebServiceError(o))return yield v.Q.markEntryAsRemoved({id:n.entryid,subject:e},r);throw o}}))()}deleteEntryOnline(e,n){return(0,o.A)((function*(){const r=yield u.CoreSites.getSite(n);yield r.write("core_blog_delete_entry",e)}))()}invalidateEntries(e={},n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getEntriesCacheKey(e))}))()}isEditingEnabled(e){return(0,o.A)((function*(){return(yield u.CoreSites.getSite(e)).wsAvailable("core_blog_update_entry")}))()}logView(e={},n){return(0,o.A)((function*(){const r=yield u.CoreSites.getSite(n),o={filters:f.T.toArrayOfObjects(e,"name","value")};return r.write("core_blog_view_entries",o)}))()}formatOfflineEntry(e,n){var r=this;return(0,o.A)((function*(){var o,i,c,u,p,f,g;const b=JSON.parse(e.options),w=null==b||null===(o=b.find((e=>"modassoc"===e.name)))||void 0===o?void 0:o.value,A=null==b||null===(i=b.find((e=>"courseassoc"===e.name)))||void 0===i?void 0:i.value,_=null==b||null===(c=b.find((e=>"tags"===e.name)))||void 0===c?void 0:c.value,I=null!==(u=null==b||null===(p=b.find((e=>"publishstate"===e.name)))||void 0===p?void 0:p.value)&&void 0!==u?u:E.draft,T=yield C.g.ignoreErrors(s.CoreUser.getProfile(e.userid,A,!0)),P="id"in e&&e.id?{id:e.id}:{created:e.created},k=yield v.Q.getOfflineFiles(P),x=[...r.getAttachmentFilesFromOptions(b).online,...k],F=n?a.CoreFileHelper.replacePluginfileUrls(e.summary,n.summaryfiles):e.summary;return{...e,publishstate:I,publishTranslated:r.getPublishTranslated(I),user:T,tags:null!=_&&_.length?JSON.parse(_):[],coursemoduleid:null!=w?w:0,courseid:null!=A?A:0,attachmentfiles:x,userid:null!==(f=null==T?void 0:T.id)&&void 0!==f?f:0,moduleid:null!=w?w:0,summary:F,summaryfiles:null!==(g=null==n?void 0:n.summaryfiles)&&void 0!==g?g:[],uniquehash:"",module:null==n?void 0:n.module,groupid:0,content:F,updatedOffline:!0}}))()}getPublishTranslated(e){switch(e){case"draft":return"publishtonoone";case"site":return"publishtosite";case"public":return"publishtoworld";default:return"privacy:unknown"}}formatEntry(e){var n=this;return(0,o.A)((function*(){e.publishTranslated=n.getPublishTranslated(e.publishstate),e.moduleid||e.coursemoduleid?(e.contextLevel="module",e.contextInstanceId=e.moduleid||e.coursemoduleid):e.courseid?(e.contextLevel="course",e.contextInstanceId=e.courseid):(e.contextLevel="user",e.contextInstanceId=e.userid),e.summary=a.CoreFileHelper.replacePluginfileUrls(e.summary,e.summaryfiles||[]),e.user=yield C.g.ignoreErrors(s.CoreUser.getProfile(e.userid,e.courseid,!0))}))()}getAttachmentFilesFromOptions(e){const n=e.find((e=>"attachmentsid"===e.name));if(!n)return{online:[],offline:0};switch(typeof n.value){case"object":return n.value;case"string":return JSON.parse(n.value);default:return{online:[],offline:0}}}}return(e=AddonBlogProvider).ROOT_CACHE_KEY="addonBlog:",e.ENTRIES_PER_PAGE=10,e.COMPONENT="blog",e.ɵfac=function AddonBlogProvider_Factory(n){return new(n||e)},e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogProvider})();const _=(0,g.Qd)(A),E={draft:"draft",site:"site",public:"public"}},92908:(e,n,r)=>{"use strict";r.d(n,{Wo:()=>i,d:()=>s,tu:()=>o});const o="addon_blog_entries",i="addon_blog_entries_removed",s={name:"AddonBlogOfflineService",version:1,tables:[{name:o,columns:[{name:"id",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"subject",type:"TEXT"},{name:"summary",type:"TEXT"},{name:"summaryformat",type:"INTEGER"},{name:"created",type:"INTEGER"},{name:"lastmodified",type:"INTEGER"},{name:"options",type:"TEXT"}],primaryKeys:["id"]},{name:i,columns:[{name:"id",type:"INTEGER"},{name:"subject",type:"TEXT"}],primaryKeys:["id"]}]}},95476:(e,n,r)=>{"use strict";r.d(n,{d:()=>G,R:()=>getCalendarServices});var o=r(10467),i=r(54438),s=r(16844),a=r(95376),c=r(26135),u=r(33504),p=r(71112),f=r(15324),g=r(79555),v=r(8224),C=r(94339);const b=["month","mini","minithree","day","upcoming","upcoming_mini"];let w=(()=>{var e;class AddonCalendarViewLinkHandlerService extends p.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonCalendarViewLinkHandler",this.pattern=/\/calendar\/view\.php/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){if(r.view&&"month"!=r.view&&"mini"!=r.view&&"minithree"!=r.view){if("day"==r.view){const n={courseId:r.course},o=r.time?1e3*Number(r.time):Date.now(),i=(0,C.yf)(o);n.year=i.year(),n.month=i.month()+1,n.day=i.date(),yield f.CoreNavigator.navigateToSitePath("/calendar/day",{params:n,siteId:e})}else if("upcoming"==r.view||"upcoming_mini"==r.view){const n={courseId:r.course,upcoming:!0};yield f.CoreNavigator.navigateToSitePath("/calendar/index",{params:n,siteId:e,preferCurrentTab:!1})}}else{const n={courseId:r.course},o=r.time?1e3*Number(r.time):Date.now(),i=(0,C.yf)(o);n.year=i.year(),n.month=i.month()+1,yield f.CoreNavigator.navigateToSitePath("/calendar/index",{params:n,siteId:e,preferCurrentTab:!1})}})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e,n,r){return(0,o.A)((function*(){if(r.view&&-1==b.indexOf(r.view))return!1;return!(yield v.AddonCalendar.isDisabled(e))}))()}}return(e=AddonCalendarViewLinkHandlerService).ɵfac=(()=>{let n;return function AddonCalendarViewLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCalendarViewLinkHandlerService})();const A=(0,g.Qd)(w);var _=r(99234);let E=(()=>{var e;class AddonCalendarMainMenuHandlerService{constructor(){this.name="AddonCalendar",this.priority=550}isEnabled(){return(0,o.A)((function*(){return!v.AddonCalendar.isCalendarDisabledInSite()}))()}getDisplayData(){return{icon:"far-calendar",title:"addon.calendar.calendar",page:_.w3,class:"addon-calendar-handler"}}}return(e=AddonCalendarMainMenuHandlerService).ɵfac=function AddonCalendarMainMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCalendarMainMenuHandlerService})();const I=(0,g.Qd)(E);var T=r(13462);let P=(()=>{var e;class AddonCalendarSyncCronHandlerService{constructor(){this.name="AddonCalendarSyncCronHandler"}execute(e,n){return(0,o.A)((function*(){yield T.AddonCalendarSync.syncAllEvents(e,n)}))()}getInterval(){return T.AddonCalendarSync.syncInterval}}return(e=AddonCalendarSyncCronHandlerService).ɵfac=function AddonCalendarSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCalendarSyncCronHandlerService})();const k=(0,g.Qd)(P);var x=r(52749),F=r(43959),R=r(21604),N=r(85190),L=r(55554);const H={name:"AddonCalendarProvider",version:5,canBeCleared:[_.Vl],tables:[{name:_.Vl,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"name",type:"TEXT",notNull:!0},{name:"description",type:"TEXT"},{name:"eventtype",type:"TEXT"},{name:"courseid",type:"INTEGER"},{name:"timestart",type:"INTEGER"},{name:"timeduration",type:"INTEGER"},{name:"categoryid",type:"INTEGER"},{name:"groupid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"instance",type:"INTEGER"},{name:"modulename",type:"TEXT"},{name:"timemodified",type:"INTEGER"},{name:"repeatid",type:"INTEGER"},{name:"visible",type:"INTEGER"},{name:"uuid",type:"TEXT"},{name:"sequence",type:"INTEGER"},{name:"subscriptionid",type:"INTEGER"},{name:"location",type:"TEXT"},{name:"eventcount",type:"INTEGER"},{name:"timesort",type:"INTEGER"},{name:"category",type:"TEXT"},{name:"course",type:"TEXT"},{name:"subscription",type:"TEXT"},{name:"canedit",type:"INTEGER"},{name:"candelete",type:"INTEGER"},{name:"deleteurl",type:"TEXT"},{name:"editurl",type:"TEXT"},{name:"viewurl",type:"TEXT"},{name:"isactionevent",type:"INTEGER"},{name:"url",type:"TEXT"},{name:"islastday",type:"INTEGER"},{name:"popupname",type:"TEXT"},{name:"mindaytimestamp",type:"INTEGER"},{name:"maxdaytimestamp",type:"INTEGER"},{name:"draggable",type:"INTEGER"}]}],migrate:(e,n,r)=>(0,o.A)((function*(){n<5&&(yield U(r,n<4))}))()},U=function(){var e=(0,o.A)((function*(e,n=!1){const r=`mmaCalendarDefaultNotifTime#${e}`;try{let o=yield N.CoreConfig.get(r);yield L.g.ignoreErrors(N.CoreConfig.delete(r)),o<=0?o=F.Nc:n&&(o*=60),R.CoreReminders.setDefaultNotificationTime(o,e)}catch{}}));return function migrateDefaultTime(n){return e.apply(this,arguments)}}();var B=r(24794),j=r(42858);function getCalendarServices(){return _getCalendarServices.apply(this,arguments)}function _getCalendarServices(){return(_getCalendarServices=(0,o.A)((function*(){const{AddonCalendarProvider:e}=yield Promise.resolve().then(r.bind(r,8224)),{AddonCalendarOfflineProvider:n}=yield Promise.resolve().then(r.bind(r,57186)),{AddonCalendarHelperProvider:o}=yield Promise.resolve().then(r.bind(r,68581)),{AddonCalendarSyncProvider:i}=yield Promise.resolve().then(r.bind(r,13462));return[e,n,o,i]}))).apply(this,arguments)}const V=[{path:_.w3,loadChildren:()=>r.e(23316).then(r.bind(r,23316))}];let G=(()=>{var e,n;class AddonCalendarModule{}return(e=AddonCalendarModule).ɵfac=function AddonCalendarModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:x.CORE_SITE_SCHEMAS,useValue:[H,B.dx],multi:!0},{provide:i.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){u.CoreContentLinksDelegate.registerHandler(A.instance),a.CoreMainMenuDelegate.registerHandler(I.instance),c.CoreCronDelegate.register(k.instance),yield v.AddonCalendar.initialize(),v.AddonCalendar.updateAllSitesEventReminders()})),function useValue(){return n.apply(this,arguments)})}],imports:[j.b.forChild(V),s.I.forChild({children:V})]}),AddonCalendarModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(G,{imports:[j.b,s.I]}))},99234:(e,n,r)=>{"use strict";r.d(n,{D1:()=>b,DT:()=>I,Dk:()=>v,FK:()=>a,Jj:()=>E,Mq:()=>A,QX:()=>o,Uw:()=>g,Vl:()=>s,bp:()=>w,hZ:()=>_,oQ:()=>p,rz:()=>T,tp:()=>f,w:()=>u,w3:()=>i,y$:()=>c,zl:()=>C});const o="AddonCalendarEvents",i="calendar",s="addon_calendar_events_3",a="addon_calendar_autom_synced",c="addon_calendar_manual_synced",u="calendar",p=30,f="addon_calendar_starting_week_day",g="%H:%M",v="%I:%M %p",C="addon_calendar_new_event",b="addon_calendar_new_event_discarded",w="addon_calendar_edit_event",A="addon_calendar_deleted_event",_="addon_calendar_undeleted_event",E="addon_calendar_filter_changed_event";var I=function(e){return e.SITE="fas-globe",e.CATEGORY="fas-cubes",e.COURSE="fas-graduation-cap",e.GROUP="fas-users",e.USER="fas-user",e}(I||{}),T=function(e){return e.SITE="site",e.CATEGORY="category",e.COURSE="course",e.GROUP="group",e.USER="user",e}(T||{})},68581:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonCalendarHelper:()=>P,AddonCalendarHelperProvider:()=>T});var o=r(10467),i=r(52749),s=r(8224),a=r(85190),c=r(58364),u=r(95384),p=r(74431),f=r(94339),g=r(79555),v=r(24742),C=r(21604),b=r(97086),w=r(99234),A=r(43959),_=r(55554),E=r(75383),I=r(54438);let T=(()=>{var e;class AddonCalendarHelperProvider{constructor(){this.eventTypeIcons=[]}getEventIcon(e){return 0==this.eventTypeIcons.length&&c.T.enumKeys(w.rz).forEach((e=>{this.eventTypeIcons[w.rz[e]]=w.DT[e]})),this.eventTypeIcons[e]||""}calculateDayData(e,n){e.hasevents=n.length>0,e.haslastdayofevent=!1;const r={};n.forEach((n=>{r[n.formattedType||n.eventtype]=!0,n.islastday&&(e.haslastdayofevent=!0)})),e.calendareventtypes=Object.keys(r)}canEditEvents(e,n){return(0,o.A)((function*(){try{if(!(yield s.AddonCalendar.canEditEvents(n)))return!1;const r=yield s.AddonCalendar.getAllowedEventTypes(e,n);return Object.keys(r).length>0}catch{return!1}}))()}classifyIntoMonths(e){const n=e.map((e=>P.formatOfflineEventData(e))),r={};return n.forEach((e=>{let n=(0,f.yf)(1e3*e.timestart);const o=(0,f.yf)(1e3*(e.timestart+e.timeduration));for(;!n.isAfter(o,"day");){const o=this.getMonthId(n),i=n.date();r[o]||(r[o]={}),r[o][i]||(r[o][i]=[]),r[o][i].push(e),n=n.add(1,"day")}})),r}formatEventData(e){var n=this;return(0,o.A)((function*(){const r={...e,location:"location"in e?e.location:void 0,eventcount:"eventcount"in e&&e.eventcount||0,repeatid:e.repeatid||0,eventIcon:n.getEventIcon(e.eventtype),formattedType:s.AddonCalendar.getEventType(e),format:E.C9,visible:1,offline:!1,purpose:"purpose"in e?e.purpose:void 0};var o,i;(e.modulename&&(r.eventIcon=yield b.CoreCourseModuleDelegate.getModuleIconSrc(e.modulename,"icon"in e?e.icon.iconurl:void 0),r.moduleIcon=r.eventIcon,r.iconTitle=u.CoreCourseModuleHelper.translateModuleName(e.modulename)),r.formattedType=s.AddonCalendar.getEventType(e),"course"in e)?r.courseid=null===(o=e.course)||void 0===o?void 0:o.id:"courseid"in e&&(r.courseid=e.courseid);"category"in e?r.categoryid=null===(i=e.category)||void 0===i?void 0:i.id:"categoryid"in e&&(r.categoryid=e.categoryid);return"canedit"in e&&(r.canedit=e.canedit),"candelete"in e&&(r.candelete=e.candelete),n.formatEventContext(r,r.courseid,r.categoryid),r}))()}formatOfflineEventData(e){const n={id:e.id,name:e.name,timestart:e.timestart,eventtype:e.eventtype,categoryid:e.categoryid,courseid:e.courseid||e.groupcourseid,groupid:e.groupid,description:e.description,location:e.location,duration:e.duration,timedurationuntil:e.timedurationuntil,timedurationminutes:e.timedurationminutes,eventcount:e.repeats||0,repeatid:e.repeatid||0,userid:e.userid,timemodified:e.timecreated||0,eventIcon:this.getEventIcon(e.eventtype),formattedType:e.eventtype,format:E.C9,visible:1,offline:!0,canedit:e.id<0,candelete:e.id<0,timeduration:0};return this.formatEventContext(n,e.courseid||e.groupcourseid,e.categoryid),n.timeduration=1==n.duration?(e.timedurationuntil||0)-e.timestart:2==n.duration?(e.timedurationminutes||0)*p.CoreConstants.SECONDS_MINUTE:0,n}formatEventContext(e,n,r){r&&r>0?(e.contextLevel="coursecat",e.contextInstanceId=r):n&&n>0?(e.contextLevel="course",e.contextInstanceId=n):(e.contextLevel="user",e.contextInstanceId=e.userid)}getEventReminders(e,n,r){return(0,o.A)((function*(){const o=yield C.CoreReminders.getReminders({instanceId:e,component:w.QX},r);if(!o.length)return[];const i=yield C.CoreReminders.getDefaultNotificationTime(r);let s;if(i>A.Nc){const e=C.CoreRemindersService.convertSecondsToValueAndUnit(i);s=C.CoreReminders.getUnitValueLabel(e.value,e.unit,!0)}return o.map((e=>{const r={id:e.id};if(e.timebefore===A.WK)void 0!==s&&(r.label=s,r.timestamp=n-i);else{const o=C.CoreRemindersService.convertSecondsToValueAndUnit(e.timebefore);r.label=C.CoreReminders.getUnitValueLabel(o.value,o.unit,!1),r.timestamp=n-e.timebefore}return r.timestamp&&(r.sublabel=v.j.userDate(1e3*r.timestamp,"core.strftimedatetime")),r}))}))()}getEventTypeOptions(e){const n=[];return e.user&&n.push({name:"core.user",value:w.rz.USER}),e.group&&n.push({name:"core.group",value:w.rz.GROUP}),e.course&&n.push({name:"core.course",value:w.rz.COURSE}),e.category&&n.push({name:"core.category",value:w.rz.CATEGORY}),e.site&&n.push({name:"core.site",value:w.rz.SITE}),n}getMonthId(e){return`${e.year()}#${e.month()+1}`}getDayId(e){return`${this.getMonthId(e)}#${e.date()}`}getOfflineMonthWeeks(e,n,r){return(0,o.A)((function*(){let o=(yield i.CoreSites.getSite(r)).getStoredConfig("calendar_startwday")||"1";o=yield a.CoreConfig.get(w.tp,o);const s=parseInt(o,10),c=(0,f.yf)(),u=c.year()==e&&c.month()==n-1,p=[];let g=(0,f.yf)({year:e,month:n-1,date:1});for(let r=1;r<=g.daysInMonth();r++){if(g=(0,f.yf)({year:e,month:n-1,date:r}),!p.length||g.day()==s){const e=(g.day()-s+7)%7,n=[];for(let r=0;r<e;r++)n.push(r);p.push({prepadding:n,postpadding:[],days:[]})}if(r==g.daysInMonth()){const e=(s-g.day()+6)%7,n=[];for(let r=0;r<e;r++)n.push(r);p[p.length-1].postpadding=n}p[p.length-1].days.push({events:[],hasevents:!1,mday:g.date(),isweekend:0==g.day()||6==g.day(),istoday:u&&c.date()==g.date(),calendareventtypes:[],popovertitle:"",ispast:c.date()>g.date(),seconds:g.second(),minutes:g.minute(),hours:g.hour(),wday:g.weekday(),year:e,yday:g.dayOfYear(),timestamp:g.date(),haslastdayofevent:!1,neweventtimestamp:0,previousperiod:0,nextperiod:0,navigation:""})}return{weeks:p,daynames:[{dayno:s}]}}))()}hasEventDataChanged(e,n){return!!n&&(e.name!=n.name||e.timestart!=n.timestart||e.eventtype!=n.eventtype||e.description!=n.description||e.location!=n.location||e.duration!=n.duration||e.repeat!=n.repeat||(e.eventtype==w.rz.CATEGORY&&e.categoryid!=n.categoryid||e.eventtype==w.rz.COURSE&&e.courseid!=n.courseid||e.eventtype==w.rz.GROUP&&e.groupcourseid!=n.groupcourseid&&e.groupid!=n.groupid||(1==e.duration&&e.timedurationuntil!=n.timedurationuntil||2==e.duration&&e.timedurationminutes!=n.timedurationminutes||!(!e.repeat||e.repeats==n.repeats))))}getFilteredEvents(e,n,r){if(!n||!n.filtered)return e;const o=n.courseId?Number(n.courseId):void 0;if(!o||o<0)return e.filter((e=>n[e.formattedType]));const i=n.categoryId?Number(n.categoryId):void 0;return e.filter((e=>n[e.formattedType]&&this.shouldDisplayEvent(e,r,o,i)))}shouldDisplayEvent(e,n,r,o){if("user"===e.eventtype||"site"===e.eventtype)return!0;if("category"===e.eventtype&&n){if(!e.categoryid||!Object.keys(n).length||!o)return!0;if(e.categoryid===o)return!0;let r=n[o];for(;r&&r.parent;){if(e.categoryid===r.parent)return!0;r=n[r.parent]}return!1}const s=e.course&&e.course.id||e.courseid;return!s||s===i.CoreSites.getCurrentSiteHomeId()||s===r}refreshAfterChangeEvents(e,n){var r=this;return(0,o.A)((function*(){const a=yield i.CoreSites.getSite(n),c=[],u=[];let g=[];g.push(s.AddonCalendar.getUpcomingEvents(void 0,void 0,!0,a.id)),g=g.concat(e.map(function(){var e=(0,o.A)((function*(e){if(e.repeated<=1)return c.push(e.timestart),s.AddonCalendar.invalidateEvent(e.id);if(e.repeatid){c.push(e.timestart);for(let n=1;n<e.repeated;n++)u.push(e.timestart+7*p.CoreConstants.SECONDS_DAY*n),u.push(e.timestart-7*p.CoreConstants.SECONDS_DAY*n);const n=yield s.AddonCalendar.getLocalEventsByRepeatIdFromLocalDb(e.repeatid,a.id);return yield _.g.allPromises(n.map((e=>s.AddonCalendar.invalidateEvent(e.id)))),void 0}let n=e.timestart;for(c.push(n);e.repeated>1;)n+=7*p.CoreConstants.SECONDS_DAY,e.repeated--,u.push(n)}));return function(n){return e.apply(this,arguments)}}()));try{yield _.g.allPromisesIgnoringErrors(g)}finally{const e={},n={},o=[s.AddonCalendar.invalidateAllUpcomingEvents()];c.forEach((i=>{const c=(0,f.yf)(1e3*i),u=r.getMonthId(c);e[u]||(e[u]=!0,o.push(s.AddonCalendar.getMonthlyEvents(c.year(),c.month()+1,void 0,void 0,!0,a.id)));const p=`${u}#${c.date()}`;n[p]||(n[p]=!0,o.push(s.AddonCalendar.getDayEvents(c.year(),c.month()+1,c.date(),void 0,void 0,!0,a.id)))})),u.forEach((i=>{const c=(0,f.yf)(1e3*i),u=r.getMonthId(c);e[u]||(e[u]=!0,o.push(s.AddonCalendar.invalidateMonthlyEvents(c.year(),c.month()+1,a.id)));const p=`${u}#${c.date()}`;n[p]||(n[p]=!0,o.push(s.AddonCalendar.invalidateDayEvents(c.year(),c.month()+1,c.date(),a.id)))})),yield _.g.allPromisesIgnoringErrors(o)}}))()}refreshAfterChangeEvent(e,n,r){return this.refreshAfterChangeEvents([{id:e.id,repeatid:e.repeatid,timestart:e.timestart,repeated:n}],r)}sortEvents(e){return e.sort(((e,n)=>e.timestart==n.timestart?e.timeduration-n.timeduration:e.timestart-n.timestart))}}return(e=AddonCalendarHelperProvider).ɵfac=function AddonCalendarHelperProvider_Factory(n){return new(n||e)},e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCalendarHelperProvider})();const P=(0,g.Qd)(T)},57186:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonCalendarOffline:()=>f,AddonCalendarOfflineProvider:()=>p});var o=r(10467),i=r(52749),s=r(24502),a=r(79555),c=r(24794),u=r(54438);let p=(()=>{var e;class AddonCalendarOfflineProvider{deleteEvent(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n),o={id:e};yield r.getDb().deleteRecords(c.RP,o)}))()}getAllEventsIds(e){var n=this;return(0,o.A)((function*(){const r=[];r.push(n.getAllDeletedEventsIds(e)),r.push(n.getAllEditedEventsIds(e));const o=yield Promise.all(r);return s.R.mergeWithoutDuplicates(o[0],o[1])}))()}getAllDeletedEvents(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).getDb().getRecords(c.tq)}))()}getAllDeletedEventsIds(e){var n=this;return(0,o.A)((function*(){return(yield n.getAllDeletedEvents(e)).map((e=>e.id))}))()}getAllEditedEvents(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).getDb().getRecords(c.RP)}))()}getAllEditedEventsIds(e){var n=this;return(0,o.A)((function*(){return(yield n.getAllEditedEvents(e)).map((e=>e.id))}))()}getDeletedEvent(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n),o={id:e};return r.getDb().getRecord(c.tq,o)}))()}getEvent(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n),o={id:e};return r.getDb().getRecord(c.RP,o)}))()}hasEditedEvents(e){var n=this;return(0,o.A)((function*(){try{return!!(yield n.getAllEditedEvents(e)).length}catch{return!1}}))()}hasOfflineData(e){var n=this;return(0,o.A)((function*(){return(yield n.getAllEventsIds(e)).length>0}))()}isEventDeleted(e,n){var r=this;return(0,o.A)((function*(){try{return!!(yield r.getDeletedEvent(e,n))}catch{return!1}}))()}markDeleted(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s),a={id:e,name:n||"",repeat:r?1:0,timemodified:Date.now()};return o.getDb().insertRecord(c.tq,a)}))()}saveEvent(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),s=Date.now(),a={id:e||-s,name:n.name,timestart:n.timestart,eventtype:n.eventtype,categoryid:n.categoryid,courseid:n.courseid,groupcourseid:n.groupcourseid,groupid:n.groupid,description:n.description&&n.description.text,location:n.location,duration:n.duration,timedurationuntil:n.timedurationuntil,timedurationminutes:n.timedurationminutes,repeat:n.repeat?1:0,repeats:n.repeats,repeatid:n.repeatid,repeateditall:n.repeateditall?1:0,timecreated:s,userid:o.getUserId()};return yield o.getDb().insertRecord(c.RP,a),a}))()}unmarkDeleted(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n),o={id:e};yield r.getDb().deleteRecords(c.tq,o)}))()}}return(e=AddonCalendarOfflineProvider).ɵfac=function AddonCalendarOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCalendarOfflineProvider})();const f=(0,a.Qd)(p)},13462:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonCalendarSync:()=>P,AddonCalendarSyncProvider:()=>T});var o=r(10467),i=r(42008),s=r(94455),a=r(49882),c=r(52749),u=r(81690),p=r(8224),f=r(57186),g=r(68581),v=r(79555),C=r(48966),b=r(49446),w=r(99234),A=r(55554),_=r(43411),E=r(75383),I=r(54438);let T=(()=>{var e;class AddonCalendarSyncProvider extends i.l{constructor(){super("AddonCalendarSync"),this.componentTranslatableString="addon.calendar.calendarevent"}syncAllEvents(e,n=!1){var r=this;return(0,o.A)((function*(){yield r.syncOnSites("all calendar events",(e=>r.syncAllEventsFunc(n,e)),e)}))()}syncAllEventsFunc(e=!1,n){var r=this;return(0,o.A)((function*(){const o=e?yield r.syncEvents(n):yield r.syncEventsIfNeeded(n);null!=o&&o.updated&&a.z.trigger(w.FK,o,n)}))()}syncEventsIfNeeded(e){var n=this;return(0,o.A)((function*(){e=e||c.CoreSites.getCurrentSiteId();if(yield n.isSyncNeeded(w.w,e))return n.syncEvents(e)}))()}syncEvents(e){var n=this;return(0,o.A)((function*(){e=e||c.CoreSites.getCurrentSiteId();const r=n.getOngoingSync(w.w,e);if(r)return r;n.logger.debug(`Try to sync calendar events for site ${e}`);const o=n.performSyncEvents(e);return n.addOngoingSync(w.w,o,e)}))()}performSyncEvents(e){var n=this;return(0,o.A)((function*(){const r={warnings:[],events:[],offlineIdMap:{},deleted:[],toinvalidate:[],updated:!1},o=yield A.g.ignoreErrors(f.AddonCalendarOffline.getAllEventsIds(e),[]);if(o.length>0){if(!s.WE.isOnline())throw new b.CoreNetworkError;const i=o.map((o=>n.syncOfflineEvent(o,r,e)));if(yield A.g.allPromises(i),r.updated){const n=[p.AddonCalendar.invalidateEventsList(e),g.AddonCalendarHelper.refreshAfterChangeEvents(r.toinvalidate,e)];yield A.g.ignoreErrors(Promise.all(n))}}return yield A.g.ignoreErrors(n.setSyncTime(w.w,e)),r}))()}syncOfflineEvent(e,n,r){var s=this;return(0,o.A)((function*(){if(C.CoreSync.isBlocked(w.QX,e,r))throw s.logger.debug(`Cannot sync event ${e} because it is blocked.`),new i.D(v.HT.instant("core.errorsyncblocked",{$a:v.HT.instant("addon.calendar.calendarevent")}));try{const o=yield f.AddonCalendarOffline.getDeletedEvent(e,r);try{yield p.AddonCalendar.deleteEventOnline(o.id,!!o.repeat,r),n.updated=!0,n.deleted.push(e);const i=[];i.push(f.AddonCalendarOffline.unmarkDeleted(e,r)),i.push(f.AddonCalendarOffline.deleteEvent(e,r).catch((()=>{}))),i.push(p.AddonCalendar.getEventFromLocalDb(e,r).then((e=>{n.toinvalidate.push({id:e.id,repeatid:e.repeatid,timestart:e.timestart,repeated:null!=o&&o.repeat&&e.eventcount||1})})).catch((()=>{}))),yield Promise.all(i)}catch(i){if(!_.CoreWSError.isWebServiceError(i))throw i;n.updated=!0;const a=[];a.push(f.AddonCalendarOffline.unmarkDeleted(e,r)),a.push(f.AddonCalendarOffline.deleteEvent(e,r).catch((()=>{}))),yield Promise.all(a),s.addOfflineDataDeletedWarning(n.warnings,o.name,i)}return}catch{}const o=yield f.AddonCalendarOffline.getEvent(e,r),a=Object.assign(u.j.clone(o),{description:{text:o.description||"",format:E.C9,itemid:0}});try{const i=yield p.AddonCalendar.submitEventOnline(e,a,r);n.updated=!0,n.events.push(i),e<0&&(n.offlineIdMap[e]=i.id);return n.toinvalidate.push({id:i.id,repeatid:i.repeatid,timestart:i.timestart,repeated:(a.repeat?a.repeats:a.repeateditall&&i.repeatid?i.eventcount:1)||1}),f.AddonCalendarOffline.deleteEvent(o.id,r)}catch(e){if(!_.CoreWSError.isWebServiceError(e))throw e;n.updated=!0,yield f.AddonCalendarOffline.deleteEvent(o.id,r),s.addOfflineDataDeletedWarning(n.warnings,o.name,e)}}))()}}return(e=AddonCalendarSyncProvider).ɵfac=function AddonCalendarSyncProvider_Factory(n){return new(n||e)},e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCalendarSyncProvider})();const P=(0,v.Qd)(T)},8224:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonCalendar:()=>B,AddonCalendarProvider:()=>U});var o=r(10467),i=r(52749),s=r(94455),a=r(75383),c=r(24742),u=r(8014),p=r(58364),f=r(15221),g=r(67935),v=r(85190),C=r(57186),b=r(98870),w=r(94339),A=r(66110),_=r(74431),E=r(43411),I=r(79555),T=r(15324),P=r(8756),k=r(18022),x=r(21604),F=r(49882),R=r(99234),N=r(43959),L=r(55554),H=r(54438);let U=(()=>{var e;class AddonCalendarProvider{canEditEvents(e){var n=this;return(0,o.A)((function*(){try{const r=yield i.CoreSites.getSite(e);return n.canEditEventsInSite(r)}catch{return!1}}))()}canEditEventsInSite(e){var n;return!(null===(n=e=e||i.CoreSites.getCurrentSite())||void 0===n||!n.isVersionGreaterEqualThan("3.7.1"))}deleteEvent(e,n,r=!1,a=!1,c){var u=this;return(0,o.A)((function*(){c=c||i.CoreSites.getCurrentSiteId();const storeOffline=()=>C.AddonCalendarOffline.markDeleted(e,n,r,c).then((()=>!1));if(a||!s.WE.isOnline())return storeOffline();yield C.AddonCalendarOffline.unmarkDeleted(e,c);try{return yield u.deleteEventOnline(e,r,c),!0}catch(e){if(e&&!E.CoreWSError.isWebServiceError(e))return storeOffline();throw e}}))()}deleteEventOnline(e,n=!1,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),s={events:[{eventid:e,repeat:n}]};yield o.write("core_calendar_delete_calendar_events",s,{responseExpected:!1})}))()}deleteLocalEvent(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n);n=r.getId();const o=[];o.push(r.getDb().deleteRecords(R.Vl,{id:e})),o.push(x.CoreReminders.removeReminders({instanceId:e,component:R.QX},n)),yield L.g.ignoreErrors(Promise.all(o))}))()}initialize(){var e=this;return(0,o.A)((function*(){g.CoreLocalNotifications.registerClick(R.QX,function(){var n=(0,o.A)((function*(n){yield I.b0.donePromise,e.notificationClicked(n)}));return function(e){return n.apply(this,arguments)}}()),F.z.on(F.z.SITE_ADDED,(n=>{n.siteId&&e.updateSiteEventReminders(n.siteId)}))}))()}notificationClicked(e){var n=this;return(0,o.A)((function*(){(yield n.isDisabled(e.siteId))||T.CoreNavigator.navigateToSitePath(R.w3,{siteId:e.siteId,preferCurrentTab:!1,nextNavigation:{path:`calendar/event/${e.instanceId}`,isSitePath:!0}})}))()}formatEventTime(e,n,r=!0,i,s=0,p){var f=this;return(0,o.A)((function*(){const getTimeHtml=(e,n)=>`<span aria-label="${I.HT.instant(n,{$a:a.Ni.cleanTags(e)})}">${e}</span>`,getStartTimeHtml=e=>getTimeHtml(e,"core.startingtime"),getEndTimeHtml=e=>getTimeHtml(e,"core.endingtime"),o=1e3*e.timestart,g=1e3*(e.timestart+e.timeduration);let v;if(e.timeduration){if(!(0,w.yf)(o).isSame(g,"day")){const r=c.j.userDate(o,n),s=c.j.userDate(g,n),a=[];let v=f.getDayRepresentation(o,!1)+", ",C=f.getDayRepresentation(g,!1)+", ";return!v||i&&(0,w.yf)(i).isSame(o,"day")||a.push(f.getViewUrl("day",e.timestart,void 0,p).then((e=>{v=u.F.buildLink(e,v)}))),!C||i&&(0,w.yf)(i).isSame(g,"day")||a.push(f.getViewUrl("day",g/1e3,void 0,p).then((e=>{C=u.F.buildLink(e,C)}))),yield Promise.all(a),getStartTimeHtml(v+r)+" <strong>&raquo;</strong> "+getEndTimeHtml(C+s)}v=e.timeduration==_.CoreConstants.SECONDS_DAY?I.HT.instant("addon.calendar.allday"):getStartTimeHtml(c.j.userDate(o,n))+" <strong>&raquo;</strong> "+getEndTimeHtml(c.j.userDate(g,n))}else v=getStartTimeHtml(c.j.userDate(o,n));if(s)return v;if(i&&(0,w.yf)(i).isSame(o,"day"))return f.getDayRepresentation(o,r)+", "+v;const C=yield f.getViewUrl("day",e.timestart,void 0,p);return u.F.buildLink(C,f.getDayRepresentation(o,r))+", "+v}))()}getAccessInformation(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s={},a={cacheKey:r.getAccessInformationCacheKey(e)};return e&&(s.courseid=e),o.read("core_calendar_get_calendar_access_information",s,a)}))()}getAccessInformationCacheKey(e){return`${AddonCalendarProvider.ROOT_CACHE_KEY}accessInformation:${e||0}`}getAllEventsFromLocalDb(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).getDb().getAllRecords(R.Vl)}))()}getAllowedEventTypes(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s={},a={cacheKey:r.getAllowedEventTypesCacheKey(e)};e&&(s.courseid=e);const c=yield o.read("core_calendar_get_allowed_event_types",s,a),u={};return c.allowedeventtypes&&c.allowedeventtypes.forEach((e=>{u[e]=!0})),u}))()}getAllowedEventTypesCacheKey(e){return`${AddonCalendarProvider.ROOT_CACHE_KEY}allowedEventTypes:${e||0}`}getCalendarLookAhead(e){return(0,o.A)((function*(){const n=yield i.CoreSites.getSite(e);let r;try{r=yield b.CoreUser.getUserPreference("calendar_lookahead")}catch{}return null==r&&(r=n.getStoredConfig("calendar_lookahead")),parseInt(r,10)}))()}getCalendarTimeFormat(e){return(0,o.A)((function*(){const n=yield i.CoreSites.getSite(e);let r;try{r=yield b.CoreUser.getUserPreference("calendar_timeformat")}catch{}return r&&"0"!==r||(r=n.getStoredConfig("calendar_site_timeformat")),r===R.Dk?r=I.HT.instant("core.strftimetime12"):r===R.Uw&&(r=I.HT.instant("core.strftimetime24")),r&&"0"!==r?r:I.HT.instant("core.strftimetime")}))()}getDayRepresentation(e,n=!0){if(!n)return c.j.userDate(e,"core.strftimedayshort");const r=(0,w.yf)(e),o=(0,w.yf)();return r.isSame(o,"day")?I.HT.instant("addon.calendar.today"):r.isSame(o.subtract(1,"days"),"day")?I.HT.instant("addon.calendar.yesterday"):r.isSame(o.add(1,"days"),"day")?I.HT.instant("addon.calendar.tomorrow"):c.j.userDate(e,"core.strftimedayshort")}getEvent(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s={cacheKey:r.getEventCacheKey(e),updateFrequency:_.CoreCacheUpdateFrequency.RARELY},a={options:{userevents:!1,siteevents:!1},events:{eventids:[e]}};try{const n=yield o.read("core_calendar_get_calendar_events",a,s);return n.events.find((n=>n.id==e))||r.getEventFromLocalDb(e)}catch{return r.getEventFromLocalDb(e)}}))()}getEventById(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n.siteId),s={cacheKey:r.getEventCacheKey(e),updateFrequency:_.CoreCacheUpdateFrequency.RARELY,...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy),...i.CoreSites.getFilterPresets(n.filter)},a={eventid:e};try{const e=yield o.read("core_calendar_get_calendar_event_by_id",a,s);return r.updateLocalEvents([e.event],{siteId:o.getId()}),e.event}catch(o){if(!1===n.filter)throw o;try{return yield r.getEventFromLocalDb(e)}catch{throw o}}}))()}getEventCacheKey(e){return`${AddonCalendarProvider.ROOT_CACHE_KEY}events:${e}`}getEventFromLocalDb(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s=yield o.getDb().getRecord(R.Vl,{id:e}),c=s,u=s,p=s;c.descriptionformat=u.format,c.iscourseevent=u.eventtype===R.rz.COURSE,c.iscategoryevent=u.eventtype===R.rz.CATEGORY,c.normalisedeventtype=r.getEventType(p);try{c.category=a.Ni.parseJSON(p.category||"")}catch{}try{c.course=a.Ni.parseJSON(p.course||"")}catch{}try{c.subscription=a.Ni.parseJSON(p.subscription||"")}catch{}return c}))()}addEventReminder(e,n,r){return(0,o.A)((function*(){n=null!=n?n:N.WK;if((yield x.CoreReminders.getReminders({instanceId:e.id,component:R.QX},r)).some((e=>e.timebefore===n)))return;const o={component:R.QX,instanceId:e.id,type:e.eventtype,time:e.timestart,timebefore:n,title:e.name,url:"url"in e&&e.url||""};yield x.CoreReminders.addReminder(o,r)}))()}getEventType(e){return e.modulename?"course":e.eventtype}getDayEvents(e,n,r,s,a,c=!1,u){var p=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),f={year:e,month:n,day:r};s&&(f.courseid=s),a&&(f.categoryid=a);const g={cacheKey:p.getDayEventsCacheKey(e,n,r,s,a),updateFrequency:_.CoreCacheUpdateFrequency.SOMETIMES};c&&(g.getFromCache=!1,g.emergencyCache=!1);const v=yield o.read("core_calendar_get_calendar_day_view",f,g);return p.updateLocalEvents(v.events,{siteId:u}),v}))()}getDayEventsPrefixCacheKey(){return`${AddonCalendarProvider.ROOT_CACHE_KEY}day:`}getDayEventsDayPrefixCacheKey(e,n,r){return this.getDayEventsPrefixCacheKey()+e+":"+n+":"+r+":"}getDayEventsCacheKey(e,n,r,o,i){return this.getDayEventsDayPrefixCacheKey(e,n,r)+(o||"")+":"+(i||"")}getEventsList(e,n=0,r=R.oQ,s){var a=this;return(0,o.A)((function*(){e=e||c.j.timestamp();const o=yield i.CoreSites.getSite(s);s=o.getId();const u=e+_.CoreConstants.SECONDS_DAY*n,p={courseids:[],groupids:[]},g={options:{userevents:!0,siteevents:!0,timestart:u,timeend:u+_.CoreConstants.SECONDS_DAY*r-1},events:p},v=[];v.push(A.CoreCourses.getUserCourses(!1,s).then((e=>{p.courseids=e.map((e=>e.id)),p.courseids.push(o.getSiteHomeId())}))),v.push(f.CoreGroups.getAllUserGroups(s).then((e=>{p.groupids=e.map((e=>e.id))}))),yield Promise.all(v);const C={cacheKey:a.getEventsListCacheKey(n,r),getCacheUsingCacheKey:!0,uniqueCacheKey:!0,updateFrequency:_.CoreCacheUpdateFrequency.SOMETIMES},b=yield o.read("core_calendar_get_calendar_events",g,C);return a.updateLocalEvents(b.events,{siteId:s}),b.events}))()}getEventsListPrefixCacheKey(){return`${AddonCalendarProvider.ROOT_CACHE_KEY}events:`}getEventsListCacheKey(e,n){return this.getEventsListPrefixCacheKey()+e+":"+n}getLocalEventsByRepeatIdFromLocalDb(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).getDb().getRecords(R.Vl,{repeatid:e})}))()}getMonthlyEvents(e,n,r,a,c=!1,u){var p=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),f={year:e,month:n,mini:!0};r&&(f.courseid=r),a&&(f.categoryid=a);const g={cacheKey:p.getMonthlyEventsCacheKey(e,n,r,a),updateFrequency:_.CoreCacheUpdateFrequency.SOMETIMES};c&&(g.getFromCache=!1,g.emergencyCache=!1);const C=yield o.read("core_calendar_get_calendar_monthly_view",f,g);return C.weeks.forEach((e=>{e.days.forEach((e=>{p.updateLocalEvents(e.events,{siteId:u})}))})),s.WE.isOnline()&&v.CoreConfig.set(R.tp,C.daynames[0].dayno),C}))()}getMonthlyEventsPrefixCacheKey(){return`${AddonCalendarProvider.ROOT_CACHE_KEY}monthly:`}getMonthlyEventsMonthPrefixCacheKey(e,n){return this.getMonthlyEventsPrefixCacheKey()+e+":"+n+":"}getMonthlyEventsCacheKey(e,n,r,o){return this.getMonthlyEventsMonthPrefixCacheKey(e,n)+(r||"")+":"+(o||"")}getUpcomingEvents(e,n,r=!1,s){var a=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s),c={};e&&(c.courseid=e),n&&(c.categoryid=n);const u={cacheKey:a.getUpcomingEventsCacheKey(e,n),updateFrequency:_.CoreCacheUpdateFrequency.SOMETIMES};r&&(u.getFromCache=!1,u.emergencyCache=!1);const p=yield o.read("core_calendar_get_calendar_upcoming_view",c,u);return a.updateLocalEvents(p.events,{siteId:s}),p}))()}getUpcomingEventsPrefixCacheKey(){return`${AddonCalendarProvider.ROOT_CACHE_KEY}upcoming:`}getUpcomingEventsCacheKey(e,n){return this.getUpcomingEventsPrefixCacheKey()+(e||"")+":"+(n||"")}getViewUrl(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s);let a=P.$.concatenatePaths(o.getURL(),`calendar/view.php?view=${e}`);return n&&(a+=`&time=${n}`),r&&(a+=`&course=${r}`),a}))()}getWeekDays(e){return AddonCalendarProvider.weekDays.slice(e=e||0).concat(AddonCalendarProvider.weekDays.slice(0,e))}invalidateAccessInformation(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAccessInformationCacheKey(e))}))()}invalidateAllowedEventTypes(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAllowedEventTypesCacheKey(e))}))()}invalidateAllDayEvents(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getDayEventsPrefixCacheKey())}))()}invalidateDayEvents(e,n,r,s){var a=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s);yield o.invalidateWsCacheForKeyStartingWith(a.getDayEventsDayPrefixCacheKey(e,n,r))}))()}invalidateEventsList(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);e=r.getId();const o=[];o.push(A.CoreCourses.invalidateUserCourses(e)),o.push(f.CoreGroups.invalidateAllUserGroups(e)),o.push(r.invalidateWsCacheForKeyStartingWith(n.getEventsListPrefixCacheKey())),yield Promise.all(o)}))()}invalidateEvent(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getEventCacheKey(e))}))()}invalidateAllMonthlyEvents(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getMonthlyEventsPrefixCacheKey())}))()}invalidateMonthlyEvents(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);yield o.invalidateWsCacheForKeyStartingWith(s.getMonthlyEventsMonthPrefixCacheKey(e,n))}))()}invalidateAllUpcomingEvents(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getUpcomingEventsPrefixCacheKey())}))()}invalidateUpcomingEvents(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);yield o.invalidateWsCacheForKeyStartingWith(s.getUpcomingEventsCacheKey(e,n))}))()}invalidateLookAhead(e){return(0,o.A)((function*(){yield b.CoreUser.invalidateUserPreference("calendar_lookahead",e)}))()}invalidateTimeFormat(e){return(0,o.A)((function*(){yield b.CoreUser.invalidateUserPreference("calendar_timeformat",e)}))()}isCalendarDisabledInSite(e){var n;return!(null===(n=e=e||i.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled("CoreMainMenuDelegate_AddonCalendar"))}isDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isCalendarDisabledInSite(r)}))()}updateAllSitesEventReminders(){var e=this;return(0,o.A)((function*(){yield k.CorePlatform.ready();const n=yield i.CoreSites.getSitesIds();yield Promise.all(n.map((n=>e.updateSiteEventReminders(n))))}))()}updateSiteEventReminders(e){var n=this;return(0,o.A)((function*(){(yield n.isDisabled(e))||(yield n.getEventsList(void 0,void 0,void 0,e))}))()}updateEventsReminders(e,n){return(0,o.A)((function*(){yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){if(1e3*e.timestart<=Date.now())return x.CoreReminders.cancelReminder(e.id,R.QX,n);const r=yield x.CoreReminders.getReminders({instanceId:e.id,component:R.QX},n);yield Promise.all(r.map(function(){var r=(0,o.A)((function*(r){r.time===e.timestart&&r.title===e.name||(r.time=e.timestart,r.title=e.name,x.CoreReminders.updateReminder(r,n))}));return function(e){return r.apply(this,arguments)}}()))}));return function(n){return e.apply(this,arguments)}}()))}))()}storeEventInLocalDb(e,n={}){var r=this;return(0,o.A)((function*(){var o;const s=yield i.CoreSites.getSite(n.siteId),a=null===(o=n.addDefaultReminder)||void 0===o||o;let c={id:e.id,name:e.name,description:e.description||"",eventtype:e.eventtype,timestart:e.timestart,timeduration:e.timeduration,categoryid:e.categoryid,groupid:e.groupid,userid:e.userid,instance:e.instance,modulename:e.modulename,timemodified:e.timemodified,repeatid:e.repeatid,visible:e.visible};var u;"descriptionformat"in e?(c=Object.assign(c,{courseid:null===(u=e.course)||void 0===u?void 0:u.id,location:e.location,eventcount:e.eventcount,timesort:e.timesort,category:e.category?JSON.stringify(e.category):void 0,course:e.course?JSON.stringify(e.course):void 0,subscription:e.subscription?JSON.stringify(e.subscription):void 0,canedit:e.canedit?1:0,candelete:e.candelete?1:0,deleteurl:e.deleteurl,editurl:e.editurl,viewurl:e.viewurl,isactionevent:e.isactionevent?1:0,url:e.url}),"islastday"in e&&(c=Object.assign(c,{islastday:e.islastday?1:0,popupname:e.popupname,mindaytimestamp:e.mindaytimestamp,maxdaytimestamp:e.maxdaytimestamp,draggable:e.draggable?1:0}))):"uuid"in e&&(c=Object.assign(c,{courseid:e.courseid,uuid:e.uuid,sequence:e.sequence,subscriptionid:e.subscriptionid}));a&&(yield r.addDefaultEventReminder(c,s.getId())),yield s.getDb().insertRecord(R.Vl,c)}))()}addDefaultEventReminder(e,n){var r=this;return(0,o.A)((function*(){if(yield L.g.promiseWorks(r.getEventFromLocalDb(e.id,n)))return;(yield x.CoreReminders.getReminders({instanceId:e.id,component:R.QX},n)).length>0||(yield r.addEventReminder(e,void 0,n))}))()}storeEventsInLocalDB(e,n={}){var r=this;return(0,o.A)((function*(){yield Promise.all(e.map((e=>r.storeEventInLocalDb(e,n))))}))()}updateLocalEvents(e,n={}){var r=this;return(0,o.A)((function*(){n.siteId=n.siteId||i.CoreSites.getCurrentSiteId(),yield r.storeEventsInLocalDB(e,n),yield r.updateEventsReminders(e,n.siteId)}))()}submitEvent(e,n,r={}){var a=this;return(0,o.A)((function*(){const c=r.siteId||i.CoreSites.getCurrentSiteId(),u=function(){var i=(0,o.A)((function*(){var o;const i=yield C.AddonCalendarOffline.saveEvent(e,n,c);return null!==(o=r.reminders)&&void 0!==o&&o.length&&(yield L.g.ignoreErrors(Promise.all(r.reminders.map((e=>a.addEventReminder(i,e.time,c)))))),{sent:!1,event:i}}));return function storeOffline(){return i.apply(this,arguments)}}();if(r.forceOffline||!s.WE.isOnline())return u();e&&(yield C.AddonCalendarOffline.deleteEvent(e,c));try{var p;const o=yield a.submitEventOnline(e,n,c);return null!==(p=r.reminders)&&void 0!==p&&p.length&&(yield L.g.ignoreErrors(Promise.all(r.reminders.map((e=>a.addEventReminder(o,e.time,c)))))),{sent:!0,event:o}}catch(e){if(e&&!E.CoreWSError.isWebServiceError(e))return u();throw e}}))()}submitEventOnline(e=0,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);r=o.getId(),n.id=e>0?e:0,n.userid=o.getUserId(),n.visible=1,n.instance=0,e>0?n._qf__core_calendar_local_event_forms_update=1:n._qf__core_calendar_local_event_forms_create=1;const a={formdata:p.T.toGetParams(n)},c=yield o.write("core_calendar_submit_create_update_form",a);if(c.validationerror||!c.event)throw new E.CoreWSError({message:I.HT.instant("core.invalidformdata"),errorcode:"validationerror"});return e<0&&(yield L.g.ignoreErrors(x.CoreReminders.updateReminders({instanceId:c.event.id},{instanceId:e,component:R.QX},r))),0===n.id&&(yield L.g.ignoreErrors(s.storeEventInLocalDb(c.event,{addDefaultReminder:!1,siteId:r}))),c.event}))()}}return(e=AddonCalendarProvider).weekDays=[{shortname:"addon.calendar.sun",fullname:"addon.calendar.sunday"},{shortname:"addon.calendar.mon",fullname:"addon.calendar.monday"},{shortname:"addon.calendar.tue",fullname:"addon.calendar.tuesday"},{shortname:"addon.calendar.wed",fullname:"addon.calendar.wednesday"},{shortname:"addon.calendar.thu",fullname:"addon.calendar.thursday"},{shortname:"addon.calendar.fri",fullname:"addon.calendar.friday"},{shortname:"addon.calendar.sat",fullname:"addon.calendar.saturday"}],e.ROOT_CACHE_KEY="mmaCalendar:",e.ɵfac=function AddonCalendarProvider_Factory(n){return new(n||e)},e.ɵprov=H.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCalendarProvider})();const B=(0,I.Qd)(U)},24794:(e,n,r)=>{"use strict";r.d(n,{RP:()=>o,dx:()=>s,tq:()=>i});const o="addon_calendar_offline_events",i="addon_calendar_deleted_events",s={name:"AddonCalendarOfflineProvider",version:1,tables:[{name:o,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"name",type:"TEXT",notNull:!0},{name:"timestart",type:"INTEGER",notNull:!0},{name:"eventtype",type:"TEXT",notNull:!0},{name:"categoryid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"groupcourseid",type:"INTEGER"},{name:"groupid",type:"INTEGER"},{name:"description",type:"TEXT"},{name:"location",type:"TEXT"},{name:"duration",type:"INTEGER"},{name:"timedurationuntil",type:"INTEGER"},{name:"timedurationminutes",type:"INTEGER"},{name:"repeat",type:"INTEGER"},{name:"repeats",type:"INTEGER"},{name:"repeatid",type:"INTEGER"},{name:"repeateditall",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"timecreated",type:"INTEGER"}]},{name:i,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"name",type:"TEXT",notNull:!0},{name:"repeat",type:"INTEGER"},{name:"timemodified",type:"INTEGER"}]}]}},57492:(e,n,r)=>{"use strict";r.d(n,{S:()=>J,M:()=>getCompetencyServices});var o=r(10467),i=r(54438),s=r(33504),a=r(78765),c=r(71758),u=r(5784),p=r(49697),f=r(71112),g=r(86123),v=r(15324),C=r(79555),b=r(41140);let w=(()=>{var e;class AddonCompetencyCompetencyLinkHandlerService extends f.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonCompetencyCompetencyLinkHandler",this.pattern=/\/admin\/tool\/lp\/(user_competency_in_course|user_competency_in_plan)\.php/,this.patternMatchStart=!1}getActions(e,n,r,i){return i=i||parseInt(r.courseid||r.cid,10),[{action:(s=(0,o.A)((function*(e){return i?(yield v.CoreNavigator.navigateToSitePath(`${g.CORE_COURSE_PAGE_NAME}/${i}/${p.f$}`,{params:{userId:r.userid},siteId:e}),void 0):r.planid?(yield v.CoreNavigator.navigateToSitePath(`${p.zJ}/competencies/${r.planid}`,{params:{userId:r.userid},siteId:e}),void 0):void 0})),function action(e){return s.apply(this,arguments)})}];var s}isEnabled(e){return(0,o.A)((function*(){return b.AddonCompetency.areCompetenciesEnabled({siteId:e})}))()}}return(e=AddonCompetencyCompetencyLinkHandlerService).ɵfac=(()=>{let n;return function AddonCompetencyCompetencyLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyCompetencyLinkHandlerService})();const A=(0,C.Qd)(w);var _=r(40867);let E=(()=>{var e;class AddonCompetencyCourseOptionHandlerService{constructor(){this.name="AddonCompetency",this.priority=300}isEnabled(){return(0,o.A)((function*(){return b.AddonCompetency.areCompetenciesEnabled()}))()}isEnabledForCourse(e,n,r){return(0,o.A)((function*(){if(n&&n.type===g.CoreCourseAccessDataType.ACCESS_GUEST)return!1;if(void 0!==(null==r?void 0:r.competencies))return r.competencies;try{const n=yield b.AddonCompetency.getCourseCompetencies(e);return!!n&&!n.canmanagecoursecompetencies}catch{return!1}}))()}getDisplayData(){return{title:"addon.competency.competencies",class:"addon-competency-course-handler",page:p.f$}}invalidateEnabledForCourse(e,n){return(0,o.A)((function*(){if(void 0===(null==n?void 0:n.competencies))return b.AddonCompetency.invalidateCourseCompetencies(e)}))()}prefetch(e){return(0,o.A)((function*(){const n=yield b.AddonCompetency.getCourseCompetencies(e.id,void 0,void 0,!0);if(!n||!n.competencies)return;const r=[];n.competencies.forEach((n=>{r.push(b.AddonCompetency.getCompetencyInCourse(e.id,n.competency.id,void 0,void 0,!0)),r.push(b.AddonCompetency.getCompetencySummary(n.competency.id,void 0,void 0,!0)),n.coursemodules&&n.coursemodules.forEach((n=>{r.push(_.CoreFilterHelper.getFilters("module",n.id,{courseId:e.id}))})),n.plans&&n.plans.forEach((e=>{r.push(_.CoreFilterHelper.getFilters("user",e.userid))}))})),yield Promise.all(r)}))()}}return(e=AddonCompetencyCourseOptionHandlerService).ɵfac=function AddonCompetencyCourseOptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyCourseOptionHandlerService})();const I=(0,C.Qd)(E);let T=(()=>{var e;class AddonCompetencyPlanLinkHandlerService extends f.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonCompetencyPlanLinkHandler",this.pattern=/\/admin\/tool\/lp\/plan\.php.*([?&]id=\d+)/,this.patternMatchStart=!1}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){yield v.CoreNavigator.navigateToSitePath(`${p.zJ}/${r.id}`,{siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return(0,o.A)((function*(){return b.AddonCompetency.areCompetenciesEnabled({siteId:e})}))()}}return(e=AddonCompetencyPlanLinkHandlerService).ɵfac=(()=>{let n;return function AddonCompetencyPlanLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyPlanLinkHandlerService})();const P=(0,C.Qd)(T);let k=(()=>{var e;class AddonCompetencyPlansLinkHandlerService extends f.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonCompetencyPlansLinkHandler",this.pattern=/\/admin\/tool\/lp\/plans\.php/,this.patternMatchStart=!1}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){yield v.CoreNavigator.navigateToSitePath(p.zJ,{params:{userId:r.userid},siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return(0,o.A)((function*(){return b.AddonCompetency.areCompetenciesEnabled({siteId:e})}))()}}return(e=AddonCompetencyPlansLinkHandlerService).ɵfac=(()=>{let n;return function AddonCompetencyPlansLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyPlansLinkHandlerService})();const x=(0,C.Qd)(k);var F=r(8014),R=r(81690),N=r(55554);let L=(()=>{var e;class AddonCompetencyPushClickHandlerService{constructor(){this.name="AddonCompetencyPushClickHandler",this.priority=200}handles(e){return(0,o.A)((function*(){return!(!R.j.isTrueOrOne(e.notif)||"moodle"!=e.moodlecomponent||"competencyplancomment"!=e.name&&"competencyusercompcomment"!=e.name)&&b.AddonCompetency.areCompetenciesEnabled({siteId:e.site})}))()}handleClick(e){return(0,o.A)((function*(){const n=F.F.extractUrlParams(e.contexturl);if("competencyplancomment"==e.name){const r=Number(n.id);return yield N.g.ignoreErrors(b.AddonCompetency.invalidateLearningPlan(r,e.site)),yield v.CoreNavigator.navigateToSitePath(`${p.zJ}/${r}`,{siteId:e.site}),void 0}if(e.contexturl&&-1!=e.contexturl.indexOf("user_competency_in_plan.php")){const r=Number(e.course),o=Number(n.competencyid),i=Number(n.planid),s=Number(n.userid);if(yield N.g.ignoreErrors(b.AddonCompetency.invalidateCompetencyInPlan(i,o,e.site)),r)return yield v.CoreNavigator.navigateToSitePath(`${g.CORE_COURSE_PAGE_NAME}/${r}/${p.f$}/${o}`,{params:{userId:s},siteId:e.site}),void 0;if(i)return yield v.CoreNavigator.navigateToSitePath(`${p.zJ}/competencies/${i}/${o}`,{params:{userId:s},siteId:e.site}),void 0}const r=Number(n.userid);yield N.g.ignoreErrors(b.AddonCompetency.invalidateLearningPlans(r,e.site)),yield v.CoreNavigator.navigateToSitePath(p.zJ,{params:{userId:r},siteId:e.site})}))()}}return(e=AddonCompetencyPushClickHandlerService).ɵfac=function AddonCompetencyPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyPushClickHandlerService})();const H=(0,C.Qd)(L);let U=(()=>{var e;class AddonCompetencyUserCompetencyLinkHandlerService extends f.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonCompetencyUserCompetencyLinkHandler",this.pattern=/\/admin\/tool\/lp\/user_competency\.php.*([?&]id=\d+)/,this.patternMatchStart=!1}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){yield v.CoreNavigator.navigateToSitePath(`${p.f$}/${r.id}/${p.kO}`,{siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return(0,o.A)((function*(){return b.AddonCompetency.areCompetenciesEnabled({siteId:e})}))()}}return(e=AddonCompetencyUserCompetencyLinkHandlerService).ɵfac=(()=>{let n;return function AddonCompetencyUserCompetencyLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyUserCompetencyLinkHandlerService})();const B=(0,C.Qd)(U);var j=r(76833),V=r(52749);let G=(()=>{var e;class AddonCompetencyUserHandlerService{constructor(){this.name="AddonCompetency",this.priority=100,this.type=u.CoreUserProfileHandlerType.LIST_ITEM,this.cacheEnabled=!0}isEnabled(){return(0,o.A)((function*(){return b.AddonCompetency.areCompetenciesEnabled()}))()}isEnabledForContext(e){return(0,o.A)((function*(){const n=V.CoreSites.getCurrentSite();if(!n)return!1;if(e===u.CoreUserDelegateContext.USER_MENU){if(n.isFeatureDisabled("CoreMainMenuDelegate_AddonCompetency"))return!1}else if(n.isFeatureDisabled("CoreUserDelegate_AddonCompetency:learningPlan"))return!1;return!0}))()}isEnabledForUser(e,n,r){return(0,o.A)((function*(){try{if(n===u.CoreUserDelegateContext.COURSE)return yield b.AddonCompetency.canViewUserCompetenciesInCourse(r,e.id);return(yield b.AddonCompetency.getLearningPlans(e.id)).length>0}catch{return!1}}))()}getDisplayData(e,n){return n!==u.CoreUserDelegateContext.COURSE?{icon:"fas-route",title:"addon.competency.learningplans",class:"addon-competency-handler",action:(e,n)=>{e.preventDefault(),e.stopPropagation(),v.CoreNavigator.navigateToSitePath(p.zJ,{params:{userId:n.id}})}}:{icon:"fas-award",title:"addon.competency.competencies",class:"addon-competency-handler",action:(e,n,r,o)=>{e.preventDefault(),e.stopPropagation(),v.CoreNavigator.navigateToSitePath([g.CORE_COURSE_PAGE_NAME,o,j.Le,n.id,p.f$].join("/"))}}}}return(e=AddonCompetencyUserHandlerService).ɵfac=function AddonCompetencyUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyUserHandlerService})();const z=(0,C.Qd)(G);var q=r(42858),W=r(69342),K=r(94114),Q=r(93417);function getCompetencyServices(){return _getCompetencyServices.apply(this,arguments)}function _getCompetencyServices(){return(_getCompetencyServices=(0,o.A)((function*(){const{AddonCompetencyProvider:e}=yield Promise.resolve().then(r.bind(r,41140)),{AddonCompetencyHelperProvider:n}=yield r.e(72076).then(r.bind(r,8657));return[e,n]}))).apply(this,arguments)}function getCompetencyCourseDetailsRoutes(){const e=[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(1140)]).then(r.bind(r,1140)),loadChildren:()=>[{path:":competencyId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(85808)]).then(r.bind(r,85808))}]}];return[...(0,K.VI)([{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(37570)]).then(r.bind(r,15189))},{path:":competencyId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(85808)]).then(r.bind(r,85808))}],(()=>Q.CoreScreen.isMobile)),...(0,K.VI)(e,(()=>Q.CoreScreen.isTablet)),{path:`:competencyId/${p.kO}`,loadComponent:()=>r.e(7980).then(r.bind(r,7980))}]}const X=[{path:p.zJ,loadChildren:()=>function getCompetencyLearningPlansRoutes(){const e=[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(13004)]).then(r.bind(r,13004)),loadChildren:()=>[{path:`:planId/${p.f$}`,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(52900)]).then(r.bind(r,52900))}]},{path:`:planId/${p.f$}`,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(1140)]).then(r.bind(r,1140)),loadChildren:()=>[{path:":competencyId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(85808)]).then(r.bind(r,85808))}]}];return[...(0,K.VI)([{path:"",pathMatch:"full",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(13004)]).then(r.bind(r,13004))},{path:`:planId/${p.f$}`,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(52900)]).then(r.bind(r,52900))},{path:`:planId/${p.f$}/:competencyId`,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(85808)]).then(r.bind(r,85808))}],(()=>Q.CoreScreen.isMobile)),...(0,K.VI)(e,(()=>Q.CoreScreen.isTablet)),{path:`:planId/${p.f$}/:competencyId/${p.kO}`,loadComponent:()=>r.e(7980).then(r.bind(r,7980))}]}()},{path:`${g.CORE_COURSE_PAGE_NAME}/:courseId/${p.f$}`,loadChildren:()=>getCompetencyCourseDetailsRoutes()},{path:`${g.CORE_COURSE_PAGE_NAME}/:courseId/${j.Le}/:userId/${p.f$}`,loadChildren:()=>getCompetencyCourseDetailsRoutes()}],Y=[{path:p.f$,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(37570)]).then(r.bind(r,15189))}];let J=(()=>{var e;class AddonCompetencyModule{}return(e=AddonCompetencyModule).ɵfac=function AddonCompetencyModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{s.CoreContentLinksDelegate.registerHandler(A.instance),s.CoreContentLinksDelegate.registerHandler(P.instance),s.CoreContentLinksDelegate.registerHandler(x.instance),s.CoreContentLinksDelegate.registerHandler(B.instance),u.CoreUserDelegate.registerHandler(z.instance),a.CoreCourseOptionsDelegate.registerHandler(I.instance),c.CorePushNotificationsDelegate.registerClickHandler(H.instance)}}],imports:[q.b.forChild(X),W.l.forChild({children:Y})]}),AddonCompetencyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(J,{imports:[q.b,W.l]}))},49697:(e,n,r)=>{"use strict";r.d(n,{bo:()=>a,f$:()=>i,kO:()=>s,oO:()=>c,zJ:()=>o});const o="learning-plans",i="competencies",s="summary";var a=function(e){return e[e.DRAFT=0]="DRAFT",e[e.ACTIVE=1]="ACTIVE",e[e.COMPLETE=2]="COMPLETE",e[e.WAITING_FOR_REVIEW=3]="WAITING_FOR_REVIEW",e[e.IN_REVIEW=4]="IN_REVIEW",e}(a||{}),c=function(e){return e[e.IDLE=0]="IDLE",e[e.WAITING_FOR_REVIEW=1]="WAITING_FOR_REVIEW",e[e.IN_REVIEW=2]="IN_REVIEW",e}(c||{})},41140:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonCompetency:()=>g,AddonCompetencyProvider:()=>f});var o=r(10467),i=r(74431),s=r(52749),a=r(55554),c=r(79555),u=r(49697),p=r(54438);let f=(()=>{var e;class AddonCompetencyProvider{areCompetenciesEnabled(e){return(0,o.A)((function*(){const n=null!=e&&e.site?e.site:yield s.CoreSites.getSite(null==e?void 0:e.siteId);return!!n&&(n.canUseAdvancedFeature("enablecompetencies")&&!(n.isFeatureDisabled("CoreMainMenuDelegate_AddonCompetency")&&n.isFeatureDisabled("CoreCourseOptionsDelegate_AddonCompetency")&&n.isFeatureDisabled("CoreUserDelegate_AddonCompetency")))}))()}allCompetenciesDisabled(e){var n=this;return(0,o.A)((function*(){return!(yield n.areCompetenciesEnabled({siteId:e}))}))()}canViewUserCompetenciesInCourse(e,n,r){var i=this;return(0,o.A)((function*(){if(!s.CoreSites.isLoggedIn())return!1;if(!(yield i.areCompetenciesEnabled({siteId:r})))return!1;try{const o=yield i.getCourseCompetenciesPage(e,r);return!!o.competencies.length&&(!n||n==s.CoreSites.getCurrentSiteUserId()||(yield i.getCompetencyInCourse(e,o.competencies[0].competency.id,n,r),!0))}catch{return!1}}))()}getLearningPlansCacheKey(e){return`${AddonCompetencyProvider.ROOT_CACHE_KEY}userplans:${e}`}getLearningPlanCacheKey(e){return`${AddonCompetencyProvider.ROOT_CACHE_KEY}learningplan:${e}`}getCompetencyInPlanCacheKey(e,n){return`${AddonCompetencyProvider.ROOT_CACHE_KEY}plancompetency:${e}:${n}`}getCompetencyInCourseCacheKey(e,n,r){return`${AddonCompetencyProvider.ROOT_CACHE_KEY}coursecompetency:${r}:${e}:${n}`}getCompetencySummaryCacheKey(e,n){return`${AddonCompetencyProvider.ROOT_CACHE_KEY}competencysummary:${n}:${e}`}getCourseCompetenciesCacheKey(e){return`${AddonCompetencyProvider.ROOT_CACHE_KEY}coursecompetencies:${e}`}isPluginForCourseEnabled(e,n){var r=this;return(0,o.A)((function*(){return!!s.CoreSites.isLoggedIn()&&a.g.promiseWorks(r.getCourseCompetencies(e,void 0,n))}))()}getLearningPlans(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),a={userid:e=e||o.getUserId()},c={cacheKey:r.getLearningPlansCacheKey(e),updateFrequency:i.CoreCacheUpdateFrequency.RARELY};return(yield o.read("tool_lp_data_for_plans_page",a,c)).plans}))()}getLearningPlan(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),a={planid:e},c={cacheKey:r.getLearningPlanCacheKey(e),updateFrequency:i.CoreCacheUpdateFrequency.RARELY};return o.read("tool_lp_data_for_plan_page",a,c)}))()}getCompetencyInPlan(e,n,r){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),c={planid:e,competencyid:n},u={cacheKey:a.getCompetencyInPlanCacheKey(e,n),updateFrequency:i.CoreCacheUpdateFrequency.SOMETIMES};return o.read("tool_lp_data_for_user_competency_summary_in_plan",c,u)}))()}getCompetencyInCourse(e,n,r,a,c=!1){var u=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(a);r=r||o.getUserId();const p={courseid:e,competencyid:n,userid:r},f={cacheKey:u.getCompetencyInCourseCacheKey(e,n,r),updateFrequency:i.CoreCacheUpdateFrequency.SOMETIMES};return c&&(f.getFromCache=!1,f.emergencyCache=!1),o.read("tool_lp_data_for_user_competency_summary_in_course",p,f)}))()}getCompetencySummary(e,n,r,a=!1){var c=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);n=n||o.getUserId();const u={competencyid:e,userid:n},p={cacheKey:c.getCompetencySummaryCacheKey(e,n),updateFrequency:i.CoreCacheUpdateFrequency.SOMETIMES};return a&&(p.getFromCache=!1,p.emergencyCache=!1),o.read("tool_lp_data_for_user_competency_summary",u,p)}))()}getCourseCompetencies(e,n,r,i=!1){var a=this;return(0,o.A)((function*(){const o=yield a.getCourseCompetenciesPage(e,r,i);if(!n||n==s.CoreSites.getCurrentSiteUserId())return o;return(yield Promise.all(o.competencies.map((o=>a.getCompetencyInCourse(e,o.competency.id,n,r))))).forEach(((e,n)=>{o.competencies[n].usercompetencycourse=e.usercompetencysummary.usercompetencycourse})),o}))()}getCourseCompetenciesPage(e,n,r=!1){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),c={courseid:e},u={cacheKey:a.getCourseCompetenciesCacheKey(e),updateFrequency:i.CoreCacheUpdateFrequency.SOMETIMES};return r&&(u.getFromCache=!1,u.emergencyCache=!1),o.read("tool_lp_data_for_course_competencies_page",c,u)}))()}invalidateLearningPlans(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);e=e||o.getUserId(),yield o.invalidateWsCacheForKey(r.getLearningPlansCacheKey(e))}))()}invalidateLearningPlan(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getLearningPlanCacheKey(e))}))()}invalidateCompetencyInPlan(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getCompetencyInPlanCacheKey(e,n))}))()}invalidateCompetencyInCourse(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);r=r||o.getUserId(),yield o.invalidateWsCacheForKey(a.getCompetencyInCourseCacheKey(e,n,r))}))()}invalidateCompetencySummary(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);n=n||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCompetencySummaryCacheKey(e,n))}))()}invalidateCourseCompetencies(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);if(yield o.invalidateWsCacheForKey(i.getCourseCompetenciesCacheKey(e)),!n||n==s.CoreSites.getCurrentSiteUserId())return;const a=(yield i.getCourseCompetencies(e,0,r)).competencies.map((o=>i.invalidateCompetencyInCourse(e,o.competency.id,n,r)));yield Promise.all(a)}))()}logCompetencyInPlanView(e,n,r,i,a,c){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(c);a=a||o.getUserId();const i={planid:e,competencyid:n,userid:a},p=r===u.bo.COMPLETE?"core_competency_user_competency_plan_viewed":"core_competency_user_competency_viewed_in_plan";yield o.write(p,i,{typeExpected:"boolean"})}))()}logCompetencyInCourseView(e,n,r,i,a){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(a);i=i||r.getUserId();const o={courseid:e,competencyid:n,userid:i};yield r.write("core_competency_user_competency_viewed_in_course",o,{typeExpected:"boolean"})}))()}logCompetencyView(e,n,r){return(0,o.A)((function*(){const n=yield s.CoreSites.getSite(r),o={id:e};yield n.write("core_competency_competency_viewed",o,{typeExpected:"boolean"})}))()}}return(e=AddonCompetencyProvider).ROOT_CACHE_KEY="mmaCompetency:",e.ɵfac=function AddonCompetencyProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyProvider})();const g=(0,c.Qd)(f)},22063:(e,n,r)=>{"use strict";r.d(n,{O:()=>x,E:()=>getCourseCompletionServices});var o=r(10467),i=r(54438),s=r(33504),a=r(69342),c=r(78765),u=r(42858),p=r(5784),f=r(71112),g=r(15324),v=r(52749),C=r(79555),b=r(12808);let w=(()=>{var e;class AddonCourseCompletionStatusLinkHandlerService extends f.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonCourseCompletionStatusLinkHandler",this.pattern=/\/blocks\/completionstatus\/details\.php.*([?&](course|user)=\d+)/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){let n=r.user?parseInt(r.user,10):void 0;const o=parseInt(r.course,10);n||(n=(yield v.CoreSites.getSite(e)).getUserId());const i={courseId:o,userId:n};yield g.CoreNavigator.navigateToSitePath("/coursecompletion",{params:i,siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e,n,r){return(0,o.A)((function*(){let n=r.user?parseInt(r.user,10):void 0;const o=parseInt(r.course,10);if(!n){n=(yield v.CoreSites.getSite(e)).getUserId()}return b.AddonCourseCompletion.isPluginViewEnabledForUser(o,n,e)}))()}}return(e=AddonCourseCompletionStatusLinkHandlerService).ɵfac=(()=>{let n;return function AddonCourseCompletionStatusLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCourseCompletionStatusLinkHandlerService})();const A=(0,C.Qd)(w);var _=r(86123);let E=(()=>{var e;class AddonCourseCompletionCourseOptionHandlerService{constructor(){this.name="AddonCourseCompletion",this.priority=200}isEnabled(){return(0,o.A)((function*(){return b.AddonCourseCompletion.isPluginViewEnabled()}))()}isEnabledForCourse(e,n){return(0,o.A)((function*(){if(n&&n.type===_.CoreCourseAccessDataType.ACCESS_GUEST)return!1;return!!(yield b.AddonCourseCompletion.isPluginViewEnabledForCourse(e))&&b.AddonCourseCompletion.isPluginViewEnabledForUser(e)}))()}getDisplayData(){return{title:"addon.coursecompletion.completionmenuitem",class:"addon-coursecompletion-course-handler",page:"coursecompletion"}}invalidateEnabledForCourse(e){return(0,o.A)((function*(){yield b.AddonCourseCompletion.invalidateCourseCompletion(e)}))()}prefetch(e){return(0,o.A)((function*(){try{yield b.AddonCourseCompletion.getCompletion(e.id,void 0,{getFromCache:!1,emergencyCache:!1})}catch(e){if(!e||"notenroled"!=e.errorcode)throw e}}))()}}return(e=AddonCourseCompletionCourseOptionHandlerService).ɵfac=function AddonCourseCompletionCourseOptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCourseCompletionCourseOptionHandlerService})();const I=(0,C.Qd)(E);let T=(()=>{var e;class AddonCourseCompletionUserHandlerService{constructor(){this.name="AddonCourseCompletion:viewCompletion",this.type=p.CoreUserProfileHandlerType.LIST_ITEM,this.priority=350,this.cacheEnabled=!0}isEnabled(){return(0,o.A)((function*(){return b.AddonCourseCompletion.isPluginViewEnabled()}))()}isEnabledForContext(e,n){return(0,o.A)((function*(){return e===p.CoreUserDelegateContext.COURSE&&b.AddonCourseCompletion.isPluginViewEnabledForCourse(n)}))()}isEnabledForUser(e,n,r){return(0,o.A)((function*(){return b.AddonCourseCompletion.isPluginViewEnabledForUser(r,e.id)}))()}getDisplayData(){return{icon:"fas-list-check",title:"addon.coursecompletion.coursecompletion",class:"addon-coursecompletion-handler",action:(e,n,r,o)=>{e.preventDefault(),e.stopPropagation(),g.CoreNavigator.navigateToSitePath("/coursecompletion",{params:{courseId:o,userId:n.id}})}}}}return(e=AddonCourseCompletionUserHandlerService).ɵfac=function AddonCourseCompletionUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCourseCompletionUserHandlerService})();const P=(0,C.Qd)(T);function getCourseCompletionServices(){return _getCourseCompletionServices.apply(this,arguments)}function _getCourseCompletionServices(){return(_getCourseCompletionServices=(0,o.A)((function*(){const{AddonCourseCompletionProvider:e}=yield Promise.resolve().then(r.bind(r,12808));return[e]}))).apply(this,arguments)}const k=[{path:"coursecompletion",loadComponent:()=>r.e(58508).then(r.bind(r,58508))}];let x=(()=>{var e;class AddonCourseCompletionModule{}return(e=AddonCourseCompletionModule).ɵfac=function AddonCourseCompletionModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{p.CoreUserDelegate.registerHandler(P.instance),c.CoreCourseOptionsDelegate.registerHandler(I.instance),s.CoreContentLinksDelegate.registerHandler(A.instance)}}],imports:[u.b.forChild(k),a.l.forChild({children:k})]}),AddonCourseCompletionModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(x,{imports:[u.b,a.l]}))},12808:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonCourseCompletion:()=>A,AddonCourseCompletionProvider:()=>w});var o=r(10467),i=r(6787),s=r(52749),a=r(43411),c=r(66110),u=r(79555),p=r(75629),f=r(83749),g=r(96354),v=r(54843),C=r(74431),b=r(54438);let w=(()=>{var e;class AddonCourseCompletionProvider{constructor(){this.logger=i.CoreLogger.getInstance("AddonCourseCompletion")}isCompletionEnabledInSite(e){return!!(e=e||s.CoreSites.getCurrentSite())&&e.canUseAdvancedFeature("enablecompletion")}isCompletionEnabledInCourse(e,n){return!!this.isCompletionEnabledInSite(n)&&this.isCompletionEnabledInCourseObject(e)}isCompletionEnabledInCourseObject(e){return!1!==e.enablecompletion}canMarkSelfCompleted(e,n){if(s.CoreSites.getCurrentSiteUserId()!=e)return!1;let r=!1,o=!1;return n.completions.forEach((e=>{1===e.type&&(r=!0,o=e.complete)})),r&&!o}getCompletedStatusText(e){if(e.completed)return"addon.coursecompletion.completed";return e.completions.some((e=>e.timecompleted||e.complete))?"addon.coursecompletion.inprogress":"addon.coursecompletion.notyetstarted"}getCompletion(e,n,r={},i){var s=this;return(0,o.A)((function*(){return yield(0,v._)(s.getCompletionObservable(e,{userId:n,preSets:r,siteId:i}))}))()}getCompletionObservable(e,n={}){var r=this;return(0,f.uV)((0,o.A)((function*(){var o;const i=yield s.CoreSites.getSite(n.siteId),a=n.userId||i.getUserId();r.logger.debug(`Get completion for course ${e} and user ${a}`);const c={courseid:e,userid:a},u={...null!==(o=n.preSets)&&void 0!==o?o:{},cacheKey:r.getCompletionCacheKey(e,a),updateFrequency:C.CoreCacheUpdateFrequency.SOMETIMES,cacheErrors:["notenroled"],...s.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return i.readObservable("core_completion_get_course_completion_status",c,u).pipe((0,g.T)((e=>e.completionstatus)))})))}getCompletionCacheKey(e,n){return`${AddonCourseCompletionProvider.ROOT_CACHE_KEY}view:${e}:${n}`}invalidateCourseCompletion(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);n=n||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCompletionCacheKey(e,n))}))()}isPluginViewEnabled(){return s.CoreSites.isLoggedIn()&&this.isCompletionEnabledInSite()}isPluginViewEnabledForCourse(e,n=!0){var r=this;return(0,o.A)((function*(){if(!e||!r.isCompletionEnabledInSite())return!1;const o=yield c.CoreCourses.getUserCourse(e,n);return!o||r.isCompletionEnabledInCourseObject(o)&&!1!==o.completionhascriteria}))()}isPluginViewEnabledForUser(e,n,r){var i=this;return(0,o.A)((function*(){const o=(yield s.CoreSites.getSite(r)).getUserId();try{if(!n||n===o){const n=yield c.CoreCourses.getUserCourse(e,!0);if(n&&void 0!==n.completionhascriteria)return!0}}catch{}const u={emergencyCache:!1};try{return yield i.getCompletion(e,n,u),!0}catch(e){if(a.CoreWSError.isWebServiceError(e))return!1}try{return u.omitExpires=!0,yield i.getCompletion(e,n,u),!0}catch{return!1}}))()}markCourseAsSelfCompleted(e,n){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(n),o={courseid:e};if(!(yield r.write("core_completion_mark_course_self_completed",o)).status)throw new p.CoreError("Cannot mark course as self completed")}))()}}return(e=AddonCourseCompletionProvider).ROOT_CACHE_KEY="mmaCourseCompletion:",e.ɵfac=function AddonCourseCompletionProvider_Factory(n){return new(n||e)},e.ɵprov=b.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCourseCompletionProvider})();const A=(0,u.Qd)(w)},83793:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonEnrolGuest:()=>p,AddonEnrolGuestService:()=>u});var o=r(10467),i=r(74431),s=r(52749),a=r(79555),c=r(54438);let u=(()=>{var e;class AddonEnrolGuestService{getGuestEnrolmentInfo(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),a={instanceid:e},c={cacheKey:r.getGuestEnrolmentInfoCacheKey(e),updateFrequency:i.CoreCacheUpdateFrequency.RARELY};return(yield o.read("enrol_guest_get_instance_info",a,c)).instanceinfo}))()}getGuestEnrolmentInfoCacheKey(e){return AddonEnrolGuestService.ROOT_CACHE_KEY+e}invalidateGuestEnrolmentInfo(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getGuestEnrolmentInfoCacheKey(e))}))()}isValidateGuestAccessPasswordAvailable(){return s.CoreSites.wsAvailableInCurrentSite("enrol_guest_validate_password")}validateGuestAccessPassword(e,n){return(0,o.A)((function*(){const r=s.CoreSites.getCurrentSite();if(!r)return{validated:!1};const o={instanceid:e,password:n};return yield r.write("enrol_guest_validate_password",o)}))()}}return(e=AddonEnrolGuestService).ROOT_CACHE_KEY="AddonEnrolGuest:",e.ɵfac=function AddonEnrolGuestService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonEnrolGuestService})();const p=(0,a.Qd)(u)},65485:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonEnrolSelf:()=>g,AddonEnrolSelfService:()=>f});var o=r(10467),i=r(74431),s=r(43411),a=r(9538),c=r(52749),u=r(79555),p=r(54438);let f=(()=>{var e;class AddonEnrolSelfService{getSelfEnrolmentInfo(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n),s={instanceid:e},a={cacheKey:r.getSelfEnrolmentInfoCacheKey(e),updateFrequency:i.CoreCacheUpdateFrequency.RARELY};return yield o.read("enrol_self_get_instance_info",s,a)}))()}getSelfEnrolmentInfoCacheKey(e){return AddonEnrolSelfService.ROOT_CACHE_KEY+e}invalidateSelfEnrolmentInfo(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getSelfEnrolmentInfoCacheKey(e))}))()}selfEnrol(e,n="",r,i){return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(i),u={courseid:e,password:n};r&&(u.instanceid=r);const p=yield o.write("enrol_self_enrol_user",u);if(!p)throw Error("WS enrol_self_enrol_user failed");if(p.status)return!0;if(p.warnings&&p.warnings.length){const e=p.warnings.find((e=>"2"==e.warningcode||"3"==e.warningcode||"4"==e.warningcode));throw new s.CoreWSError(e?{errorcode:a.CORE_COURSES_ENROL_INVALID_KEY,message:e.message}:p.warnings[0])}throw Error("WS enrol_self_enrol_user failed without warnings")}))()}}return(e=AddonEnrolSelfService).ROOT_CACHE_KEY="AddonEnrolSelf:",e.ɵfac=function AddonEnrolSelfService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonEnrolSelfService})();const g=(0,u.Qd)(f)},52012:(e,n,r)=>{"use strict";r.d(n,{jF:()=>C,wK:()=>w});var o=r(10467),i=r(25124),s=r(10892),a=r(72881),c=r(75383),u=r(8014),p=r(79555),f=r(62393),g=r(49882),v=r(54438);const C="video_js_player_created";let b=(()=>{var e;class AddonFilterMediaPluginVideoJSService{createPlayer(e){var n=this;return(0,o.A)((function*(){yield Promise.all([f.D.waitDirectivesReady(e,void 0,s.l),f.D.waitDirectivesReady(e,"source",s.l)]);const r=yield n.getVideoJS(),o=e.getAttribute("data-setup")||e.getAttribute("data-setup-lazy")||"{}",i=c.Ni.parseJSON(o,{}),u=r(e,{controls:!0,techOrder:["OgvJS"],language:yield a.CoreLang.getCurrentLanguage(),controlBar:{pictureInPictureToggle:!1},aspectRatio:i.aspectRatio},(()=>"VIDEO"===e.tagName&&n.fixVideoJSPlayerSize(u)));g.z.trigger(C,{element:e,player:u})}))()}findPlayer(e){var n=this;return(0,o.A)((function*(){return(yield n.getVideoJS()).getPlayer(e)}))()}treatYoutubeVideos(e){var n,r,o;if(!e.classList.contains("video-js"))return;const i=e.getAttribute("data-setup")||e.getAttribute("data-setup-lazy")||"{}",s=c.Ni.parseJSON(i,{}),a="youtube"==(null===(n=s.techOrder)||void 0===n?void 0:n[0])&&u.F.getYoutubeEmbedUrl(null===(r=s.sources)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.src);if(!a)return;const p=document.createElement("iframe");p.id=e.id,p.src=a,p.setAttribute("frameborder","0"),p.setAttribute("allowfullscreen","1"),p.width="100%",p.height="300",null===(o=e.parentNode)||void 0===o||o.replaceChild(p,e)}getVideoJS(){var e=this;return(0,o.A)((function*(){if(!e.videojs){e.videojs=new i._;const n=document.createElement("link");return n.rel="stylesheet",n.href="assets/lib/video.js/video-js.min.css",document.head.appendChild(n),r.e(71941).then(r.bind(r,71941)).then((({initializeVideoJSOgvJS:n,videojs:r})=>{var o;return n(),null===(o=e.videojs)||void 0===o||o.resolve(r),r}))}return e.videojs}))()}fixVideoJSPlayerSize(e){var n;const r=e.videoWidth(),o=e.videoHeight(),i=e.currentDimensions(),s=null===(n=e.el().offsetParent)||void 0===n?void 0:n.clientWidth;if(s&&i.width>s&&(e.dimension("width",s),i.width=s),!r||!o||!i.width||r===i.width)return;const a=i.width*o/r;(!i.height||Math.abs(a-i.height)>1)&&e.dimension("height",a)}}return(e=AddonFilterMediaPluginVideoJSService).ɵfac=function AddonFilterMediaPluginVideoJSService_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterMediaPluginVideoJSService})();const w=(0,p.Qd)(b)},44301:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonFilterMultilang2Handler:()=>p,AddonFilterMultilang2HandlerService:()=>u});var o=r(10467),i=r(72881),s=r(2618),a=r(79555),c=r(54438);let u=(()=>{var e;class AddonFilterMultilang2HandlerService extends s.r{constructor(){super(...arguments),this.name="AddonFilterMultilang2Handler",this.filterName="multilang2",this.replacementDone=!1}filter(e){var n=this;return(0,o.A)((function*(){if(-1===e.indexOf("mlang"))return e;const r=yield i.CoreLang.getCurrentLanguage();n.replacementDone=!1;const o=i.CoreLang.getParentLanguage(),s=/{\s*mlang\s+((?:[a-z0-9_-]+)(?:\s*,\s*[a-z0-9_-]+\s*)*)\s*}(.*?){\s*mlang\s*}/gim,a=e.replace(s,((e,i,s)=>n.replaceLangs(r,[e,i,s],o)));if(null===a)return e;if(n.replacementDone)return a;const c=e.replace(s,((e,r,i)=>n.replaceLangs("other",[e,r,i],o)));return null!=c?c:e}))()}replaceLangs(e,n,r){var o,i;const s=(null!==(o=n[1])&&void 0!==o?o:"").replace(/ /g,"").replace(/_/g,"-").toLowerCase().split(","),a=null!==(i=n[2])&&void 0!==i?i:"";for(const n of s)if(n===e||r===n)return this.replacementDone=!0,a;return""}}return(e=AddonFilterMultilang2HandlerService).ɵfac=(()=>{let n;return function AddonFilterMultilang2HandlerService_Factory(r){return(n||(n=c.xGo(e)))(r||e)}})(),e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterMultilang2HandlerService})();const p=(0,a.Qd)(u)},46007:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonFilterMultilangHandler:()=>p,AddonFilterMultilangHandlerService:()=>u});var o=r(10467),i=r(72881),s=r(2618),a=r(79555),c=r(54438);let u=(()=>{var e;class AddonFilterMultilangHandlerService extends s.r{constructor(){super(...arguments),this.name="AddonFilterMultilangHandler",this.filterName="multilang"}filter(e,n,r,s){return(0,o.A)((function*(){const n=/<(?:lang|span)[^>]+lang="([a-zA-Z0-9_-]+)"[^>]*>.*?<\/(?:lang|span)>/gim,r=new Set;let o,s;for(;s=n.exec(e);){const e=s[1].toLowerCase().replace(/_/g,"-");o=null!=o?o:e,r.add(e)}const a=[yield i.CoreLang.getCurrentLanguage(),i.CoreLang.getParentLanguage(),i.CoreLang.getFallbackLanguage(),o].find((e=>e&&r.has(e)));if(!a)return e;const c=a.replace(/-/g,"(?:-|_)"),u=new RegExp(`<(?:lang|span)[^>]+lang="${c}"[^>]*>(.*?)</(?:lang|span)>`,"img");return e=(e=e.replace(u,"$1")).replace(/<(lang|span)[^>]+lang="[a-zA-Z0-9_-]+"[^>]*>.*?<\/(lang|span)>/gim,"")}))()}shouldBeApplied(e,n){return!!(e.wsNotFiltered||n&&!n.isVersionGreaterEqualThan("3.7"))}}return(e=AddonFilterMultilangHandlerService).ɵfac=(()=>{let n;return function AddonFilterMultilangHandlerService_Factory(r){return(n||(n=c.xGo(e)))(r||e)}})(),e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterMultilangHandlerService})();const p=(0,a.Qd)(u)},77083:(e,n,r)=>{"use strict";r.d(n,{n:()=>w});var o=r(10467),i=r(52749),s=r(74431),a=r(75629),c=r(43411),u=r(79555),p=r(49882),f=r(86552),g=r(8756),v=r(35132),C=r(54438);let b=(()=>{var e;class AddonMessageOutputAirnotifierProvider{initialize(){var e=this;p.z.on(p.z.DEVICE_REGISTERED_IN_MOODLE,function(){var n=(0,o.A)((function*(n){e.getUserDevices(!0,n.siteId)}));return function(e){return n.apply(this,arguments)}}()),p.z.on(p.z.LOGIN,(e=>{this.warnPushDisabledForAdmin(e.siteId)}))}enableDevice(e,n,r){return(0,o.A)((function*(){var o;const s=yield i.CoreSites.getSite(r),u={deviceid:e,enable:!!n},p=yield s.write("message_airnotifier_enable_device",u);if(!p.success){if(null!==(o=p.warnings)&&void 0!==o&&o.length)throw new c.CoreWSError(p.warnings[0]);throw new a.CoreError("Error enabling device")}}))()}getSystemConfiguredCacheKey(){return`${AddonMessageOutputAirnotifierProvider.ROOT_CACHE_KEY}isAirnotifierConfigured`}isSystemConfigured(e={}){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e.siteId),o={cacheKey:n.getSystemConfiguredCacheKey(),updateFrequency:s.CoreCacheUpdateFrequency.RARELY,...i.CoreSites.getReadingStrategyPreSets(e.readingStrategy)};return 1===(yield r.read("message_airnotifier_is_system_configured",{},o))}))()}getUserDevicesCacheKey(){return`${AddonMessageOutputAirnotifierProvider.ROOT_CACHE_KEY}userDevices`}getUserDevices(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),a={appid:s.CoreConstants.CONFIG.app_id},c={cacheKey:r.getUserDevicesCacheKey(),updateFrequency:s.CoreCacheUpdateFrequency.RARELY};e&&(c.getFromCache=!1,c.emergencyCache=!1);return(yield o.read("message_airnotifier_get_user_devices",a,c)).devices}))()}invalidateUserDevices(e){var n=this;return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).invalidateWsCacheForKey(n.getUserDevicesCacheKey())}))()}warnPushDisabledForAdmin(e){var n=this;return(0,o.A)((function*(){if(e)try{var r;const o=yield i.CoreSites.getSite(e);if(null===(r=o.getInfo())||void 0===r||!r.userissiteadmin)return;if(yield o.getLocalSiteConfig("AddonMessageOutputAirnotifierDontRemindDisabled",0))return;if(yield n.isSystemConfigured({readingStrategy:2,siteId:e}))return;(yield v.CorePrompts.show(u.HT.instant("addon.messageoutput_airnotifier.pushdisabledwarning"),"checkbox",{placeholderOrLabel:u.HT.instant("core.dontshowagain"),buttons:[{text:u.HT.instant("core.ok")},{text:u.HT.instant("core.goto",{$a:u.HT.instant("core.settings.settings")}),handler:(e,n)=>{n(e[0]);const r=g.$.concatenatePaths(o.getURL(),o.isVersionGreaterEqualThan("3.11")?"message/output/airnotifier/checkconfiguration.php":"admin/message.php");f.j.openInBrowser(r,{showBrowserWarning:!1})}}]}))&&(yield o.setLocalSiteConfig("AddonMessageOutputAirnotifierDontRemindDisabled",1))}catch{}}))()}}return(e=AddonMessageOutputAirnotifierProvider).ROOT_CACHE_KEY="mmaMessageOutputAirnotifier:",e.ɵfac=function AddonMessageOutputAirnotifierProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessageOutputAirnotifierProvider})();const w=(0,u.Qd)(b)},11405:(e,n,r)=>{"use strict";r.d(n,{$:()=>b,z:()=>getMessageOutputServices});var o=r(10467),i=r(54438),s=r(42858),a=r(2806),c=r(79555);const u="messageoutput-airnotifier";let p=(()=>{var e;class AddonMessageOutputAirnotifierHandlerService{constructor(){this.name="AddonMessageOutputAirnotifier",this.processorName="airnotifier"}isEnabled(){return(0,o.A)((function*(){return!0}))()}getDisplayData(e){return{priority:600,label:"addon.messageoutput_airnotifier.processorsettingsdesc",icon:"fas-gear",page:u}}}return(e=AddonMessageOutputAirnotifierHandlerService).ɵfac=function AddonMessageOutputAirnotifierHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessageOutputAirnotifierHandlerService})();const f=(0,c.Qd)(p);var g=r(77083);const v=[{path:u,loadComponent:()=>r.e(11388).then(r.bind(r,11388))}];let C=(()=>{var e;class AddonMessageOutputAirnotifierModule{}return(e=AddonMessageOutputAirnotifierModule).ɵfac=function AddonMessageOutputAirnotifierModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{a.AddonMessageOutputDelegate.registerHandler(f.instance),g.n.initialize()}}],imports:[s.b.forChild(v)]}),AddonMessageOutputAirnotifierModule})();function getMessageOutputServices(){return _getMessageOutputServices.apply(this,arguments)}function _getMessageOutputServices(){return(_getMessageOutputServices=(0,o.A)((function*(){const{AddonMessageOutputDelegateService:e}=yield Promise.resolve().then(r.bind(r,2806));return[e]}))).apply(this,arguments)}void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(C,{imports:[s.b]}));let b=(()=>{var e;class AddonMessageOutputModule{}return(e=AddonMessageOutputModule).ɵfac=function AddonMessageOutputModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({imports:[C]}),AddonMessageOutputModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(b,{imports:[C]}))},2806:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonMessageOutputDelegate:()=>c,AddonMessageOutputDelegateService:()=>a});var o=r(59296),i=r(79555),s=r(54438);let a=(()=>{var e;class AddonMessageOutputDelegateService extends o.B{constructor(){super("AddonMessageOutputDelegate"),this.handlerNameProperty="processorName"}getDisplayData(e){return this.executeFunctionOnEnabled(e.name,"getDisplayData",[e])}}return(e=AddonMessageOutputDelegateService).ɵfac=function AddonMessageOutputDelegateService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessageOutputDelegateService})();const c=(0,i.Qd)(a)},40152:(e,n,r)=>{"use strict";r.d(n,{HA:()=>I,I2:()=>a,IA:()=>C,Ie:()=>c,SU:()=>u,U2:()=>b,_R:()=>A,bb:()=>E,cj:()=>o,ib:()=>f,j_:()=>i,l3:()=>p,mO:()=>s,nq:()=>w,pV:()=>g,q5:()=>v,xT:()=>_});const o="addon_messages_new_message_event",i="addon_messages_read_changed_event",s="addon_messages_open_conversation_event",a="addon_messages_update_conversation_list_event",c="addon_messages_member_changed_event",u="addon_messages_unread_conversation_counts_event",p="addon_messages_contact_requests_count_event",f=1e4,g="AddonMessagesPushSimulation",v="messages",C="messages",b=50,w=50,A=3,_=50,E="message_provider_moodle_instantmessage",I="addon_messages_autom_synced"},41007:(e,n,r)=>{"use strict";r.d(n,{B:()=>te,x:()=>getMessagesServices});var o=r(10467),i=r(54438),s=r(16844),a=r(54656),c=r(52749),u=r(95376),p=r(20728),f=r(49882),g=r(81690),v=r(71758),C=r(79555),b=r(40152),w=r(36684);let A=(()=>{var e;class AddonMessagesMainMenuHandlerService{constructor(){this.name="AddonMessages",this.priority=700,this.handler={icon:"fas-comments",title:"addon.messages.messages",page:b.q5,class:"addon-messages-handler",showBadge:!0,badge:"",badgeA11yText:"addon.messages.unreadconversations",loading:!0},this.unreadCount=0,this.contactRequestsCount=0,this.orMore=!1,f.z.on(b.SU,(e=>{this.unreadCount=e.favourites+e.individual+e.group+e.self,this.orMore=!!e.orMore,e.siteId&&this.updateBadge(e.siteId)})),f.z.on(b.l3,(e=>{this.contactRequestsCount=e.count,e.siteId&&this.updateBadge(e.siteId)})),f.z.on(f.z.LOGOUT,(()=>{this.unreadCount=0,this.contactRequestsCount=0,this.orMore=!1,this.handler.badge="",this.handler.loading=!0})),v.CorePushNotificationsDelegate.on("receive").subscribe((e=>{(g.j.isFalseOrZero(e.notif)||"messagecontactrequests"==e.name)&&c.CoreSites.isCurrentSite(e.site)&&this.refreshBadge(e.site)})),v.CorePushNotificationsDelegate.registerCounterHandler(AddonMessagesMainMenuHandlerService.name)}isEnabled(){return p.AddonMessages.isPluginEnabled()}getDisplayData(){return this.handler.loading&&this.refreshBadge(),this.handler}refreshBadge(e,n){var r=this;return(0,o.A)((function*(){const o=e||c.CoreSites.getCurrentSiteId();if(!o)return;const i=[];i.push(p.AddonMessages.refreshUnreadConversationCounts(o).catch((()=>{r.unreadCount=0,r.orMore=!1}))),!n&&p.AddonMessages.isGroupMessagingEnabled()&&i.push(p.AddonMessages.refreshContactRequestsCount(o).catch((()=>{r.contactRequestsCount=0}))),yield Promise.all(i).finally((()=>{r.updateBadge(o),r.handler.loading=!1}))}))()}updateBadge(e){const n=this.unreadCount+(this.contactRequestsCount||0);this.badgeCount!==n&&(this.badgeCount=n,this.handler.badge=n>0?n+(this.orMore?"+":""):"",f.z.trigger(w.MAIN_MENU_HANDLER_BADGE_UPDATED_EVENT,{handler:AddonMessagesMainMenuHandlerService.name,value:n},e))}execute(e){var n=this;return(0,o.A)((function*(){const r=c.CoreSites.getCurrentSite();c.CoreSites.isCurrentSite(e)&&r&&!r.isFeatureDisabled("CoreMainMenuDelegate_AddonMessages")&&r.canUseAdvancedFeature("messaging")&&n.refreshBadge()}))()}getInterval(){return this.isSync()?6e5:3e5}isSync(){return!1}canManualSync(){return!0}}return(e=AddonMessagesMainMenuHandlerService).ɵfac=function AddonMessagesMainMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesMainMenuHandlerService})();const _=(0,C.Qd)(A);var E=r(26135),I=r(63196);let T=(()=>{var e;class AddonMessagesSettingsHandlerService{constructor(){this.name="AddonMessages",this.priority=600}isEnabled(){return(0,o.A)((function*(){return p.AddonMessages.isPluginEnabled()}))()}getDisplayData(){return{icon:"fas-comments",title:"addon.messages.messages",page:b.IA,class:"addon-messages-settings-handler"}}}return(e=AddonMessagesSettingsHandlerService).ɵfac=function AddonMessagesSettingsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesSettingsHandlerService})();const P=(0,C.Qd)(T);var k=r(42858),x=r(33504),F=r(71112),R=r(15324);let N=(()=>{var e;class AddonMessagesIndexLinkHandlerService extends F.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonMessagesIndexLinkHandler",this.pattern=/\/message\/index\.php((?![?&](id|user1|user2)=\d+).)*$/}getActions(){return[{action:(e=(0,o.A)((function*(e){yield R.CoreNavigator.navigateToSitePath(b.q5,{siteId:e,preferCurrentTab:!1})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(e){return p.AddonMessages.isPluginEnabled(e)}}return(e=AddonMessagesIndexLinkHandlerService).ɵfac=(()=>{let n;return function AddonMessagesIndexLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesIndexLinkHandlerService})();const L=(0,C.Qd)(N);let H=(()=>{var e;class AddonMessagesDiscussionLinkHandlerService extends F.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonMessagesDiscussionLinkHandler",this.pattern=/\/message\/index\.php.*([?&](id|user1|user2)=\d+)/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){const n=parseInt(r.id||r.user2,10);yield R.CoreNavigator.navigateToSitePath(`/messages/discussion/user/${n}`,{siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e,n,r){return(0,o.A)((function*(){if(!(yield p.AddonMessages.isPluginEnabled(e)))return!1;if(void 0===r.id&&void 0===r.user2)return!1;if(void 0!==r.user1){const n=yield c.CoreSites.getSite(e);return parseInt(r.user1,10)==n.getUserId()}return!0}))()}}return(e=AddonMessagesDiscussionLinkHandlerService).ɵfac=(()=>{let n;return function AddonMessagesDiscussionLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesDiscussionLinkHandlerService})();const U=(0,C.Qd)(H);let B=(()=>{var e;class AddonMessagesContactRequestLinkHandlerService extends F.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonMessagesContactRequestLinkHandler",this.pattern=/\/message\/pendingcontactrequests\.php/}getActions(){return[{action:(e=(0,o.A)((function*(e){yield R.CoreNavigator.navigateToSitePath("/messages/contacts",{siteId:e})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(e){return(0,o.A)((function*(){return!!(yield p.AddonMessages.isPluginEnabled(e))&&p.AddonMessages.isGroupMessagingEnabledInSite(e)}))()}}return(e=AddonMessagesContactRequestLinkHandlerService).ɵfac=(()=>{let n;return function AddonMessagesContactRequestLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesContactRequestLinkHandlerService})();const j=(0,C.Qd)(B);let V=(()=>{var e;class AddonMessagesPushClickHandlerService{constructor(){this.name="AddonMessagesPushClickHandler",this.priority=200,this.featureName="CoreMainMenuDelegate_AddonMessages"}handles(e){return(0,o.A)((function*(){return(!g.j.isTrueOrOne(e.notif)||"messagecontactrequests"===e.name)&&p.AddonMessages.isPluginEnabled(e.site)}))()}handleClick(e){return(0,o.A)((function*(){try{yield p.AddonMessages.invalidateDiscussionsCache(e.site)}catch{}const n=yield p.AddonMessages.isGroupMessagingEnabledInSite(e.site);let r,o;e.convid&&n?r=Number(e.convid):e.userfromid&&(o=Number(e.userfromid)),yield R.CoreNavigator.navigateToSitePath(b.q5,{siteId:e.site,preferCurrentTab:!1,nextNavigation:r?{path:`discussion/${r}`}:o?{path:`discussion/user/${o}`}:void 0})}))()}}return(e=AddonMessagesPushClickHandlerService).ɵfac=function AddonMessagesPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesPushClickHandlerService})();const G=(0,C.Qd)(V);var z=r(5784);let q=(()=>{var e;class AddonMessagesSendMessageUserHandlerService{constructor(){this.name="AddonMessages:sendMessage",this.priority=1e3,this.type=z.CoreUserProfileHandlerType.BUTTON}isEnabled(){return p.AddonMessages.isPluginEnabled()}isEnabledForContext(){return(0,o.A)((function*(){return!!c.CoreSites.getCurrentSite()}))()}isEnabledForUser(e){return(0,o.A)((function*(){const n=c.CoreSites.getRequiredCurrentSite();return e.id!=c.CoreSites.getCurrentSiteUserId()||n.isVersionGreaterEqualThan("3.7")}))()}getDisplayData(){return{icon:"fas-paper-plane",title:"addon.messages.message",class:"addon-messages-send-message-handler",action:(e,n)=>{e.preventDefault(),e.stopPropagation();R.CoreNavigator.navigateToSitePath(`/messages/discussion/user/${n.id}`,{params:{showKeyboard:!0,hideInfo:!0}})}}}}return(e=AddonMessagesSendMessageUserHandlerService).ɵfac=function AddonMessagesSendMessageUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesSendMessageUserHandlerService})();const W=(0,C.Qd)(q);var K=r(94455),Q=r(59534);let X=(()=>{var e;class AddonMessagesSyncCronHandlerService{constructor(){this.name="AddonMessagesSyncCronHandler"}execute(e){return Q.AddonMessagesSync.syncAllDiscussions(e)}getInterval(){return 3e5}}return(e=AddonMessagesSyncCronHandlerService).ɵfac=function AddonMessagesSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesSyncCronHandlerService})();const Y=(0,C.Qd)(X);var J=r(49450);function getMessagesServices(){return _getMessagesServices.apply(this,arguments)}function _getMessagesServices(){return(_getMessagesServices=(0,o.A)((function*(){const{AddonMessagesProvider:e}=yield Promise.resolve().then(r.bind(r,20728)),{AddonMessagesOfflineProvider:n}=yield Promise.resolve().then(r.bind(r,47050)),{AddonMessagesSyncProvider:o}=yield Promise.resolve().then(r.bind(r,59534));return[e,n,o]}))).apply(this,arguments)}const Z=[{path:b.q5,loadChildren:()=>r.e(1941).then(r.bind(r,1941))}],ee=[{path:b.IA,loadComponent:()=>r.e(34445).then(r.bind(r,34445))}];let te=(()=>{var e;class AddonMessagesModule{}return(e=AddonMessagesModule).ɵfac=function AddonMessagesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:c.CORE_SITE_SCHEMAS,useValue:[a.HH],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{u.CoreMainMenuDelegate.registerHandler(_.instance),E.CoreCronDelegate.register(_.instance),E.CoreCronDelegate.register(Y.instance),I.CoreSettingsDelegate.registerHandler(P.instance),x.CoreContentLinksDelegate.registerHandler(L.instance),x.CoreContentLinksDelegate.registerHandler(U.instance),x.CoreContentLinksDelegate.registerHandler(j.instance),v.CorePushNotificationsDelegate.registerClickHandler(G.instance),z.CoreUserDelegate.registerHandler(W.instance),K.WE.onConnectShouldBeStable().subscribe((()=>{C.SK.run((()=>{Q.AddonMessagesSync.syncAllDiscussions(void 0,!0)}))}))}}],imports:[s.I.forChild({children:Z}),k.b.forChild(Z),J.h.forChild(ee)]}),AddonMessagesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(te,{imports:[s.I,k.b,J.h]}))},54656:(e,n,r)=>{"use strict";r.d(n,{HH:()=>s,QQ:()=>o,qe:()=>i});const o="addon_messages_offline_messages",i="addon_messages_offline_conversation_messages",s={name:"AddonMessagesOfflineProvider",version:1,tables:[{name:o,columns:[{name:"touserid",type:"INTEGER"},{name:"useridfrom",type:"INTEGER"},{name:"smallmessage",type:"TEXT"},{name:"timecreated",type:"INTEGER"},{name:"deviceoffline",type:"INTEGER"}],primaryKeys:["touserid","smallmessage","timecreated"]},{name:i,columns:[{name:"conversationid",type:"INTEGER"},{name:"text",type:"TEXT"},{name:"timecreated",type:"INTEGER"},{name:"deviceoffline",type:"INTEGER"},{name:"conversation",type:"TEXT"}],primaryKeys:["conversationid","text","timecreated"]}]}},47050:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonMessagesOffline:()=>g,AddonMessagesOfflineProvider:()=>f});var o=r(10467),i=r(52749),s=r(94455),a=r(75383),c=r(54656),u=r(79555),p=r(54438);let f=(()=>{var e;class AddonMessagesOfflineProvider{deleteConversationMessage(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s);yield o.getDb().deleteRecords(c.qe,{conversationid:e,text:n,timecreated:r})}))()}deleteConversationMessages(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n);yield r.getDb().deleteRecords(c.qe,{conversationid:e})}))()}deleteMessage(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s);yield o.getDb().deleteRecords(c.QQ,{touserid:e,smallmessage:n,timecreated:r})}))()}getAllDeviceOfflineMessages(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e),[o,s]=yield Promise.all([r.getDb().getRecords(c.QQ,{deviceoffline:1}),r.getDb().getRecords(c.qe,{deviceoffline:1})]),a=n.parseMessages(o),u=n.parseConversationMessages(s);return a.concat(u)}))()}getAllMessages(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e),[o,s]=yield Promise.all([r.getDb().getAllRecords(c.QQ),r.getDb().getAllRecords(c.qe)]),a=n.parseMessages(o),u=n.parseConversationMessages(s);return a.concat(u)}))()}getConversationMessages(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),a=yield o.getDb().getRecords(c.qe,{conversationid:e});return s.parseConversationMessages(a,n)}))()}getMessages(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s=yield o.getDb().getRecords(c.QQ,{touserid:e});return r.parseMessages(s)}))()}hasConversationMessages(e,n){var r=this;return(0,o.A)((function*(){return!!(yield r.getConversationMessages(e,void 0,n)).length}))()}hasMessages(e,n){var r=this;return(0,o.A)((function*(){return!!(yield r.getMessages(e,n)).length}))()}parseConversationMessages(e,n){return e?e.map((e=>({conversationid:e.conversationid,text:e.text,timecreated:e.timecreated,deviceoffline:e.deviceoffline,conversation:e.conversation?a.Ni.parseJSON(e.conversation,void 0):void 0,pending:!0,useridfrom:n}))):[]}parseMessages(e){return e?e.map((e=>({touserid:e.touserid,useridfrom:e.useridfrom,smallmessage:e.smallmessage,timecreated:e.timecreated,deviceoffline:e.deviceoffline,pending:!0,text:e.smallmessage}))):[]}saveConversationMessage(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),a={conversationid:e.id,text:n,timecreated:Date.now(),deviceoffline:s.WE.isOnline()?0:1,conversation:JSON.stringify({name:e.name||"",subname:e.subname||"",imageurl:e.imageurl||"",isfavourite:e.isfavourite?1:0,type:e.type})};return yield o.getDb().insertRecord(c.qe,a),a}))()}saveMessage(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),a={touserid:e,useridfrom:o.getUserId(),smallmessage:n,timecreated:Date.now(),deviceoffline:s.WE.isOnline()?0:1};return yield o.getDb().insertRecord(c.QQ,a),a}))()}setMessagesDeviceOffline(e,n,r){return(0,o.A)((function*(){const o=(yield i.CoreSites.getSite(r)).getDb(),s=[],a={deviceoffline:n?1:0};e.forEach((e=>{s.push("conversationid"in e?o.updateRecords(c.qe,a,{conversationid:e.conversationid,text:e.text,timecreated:e.timecreated}):o.updateRecords(c.QQ,a,{touserid:e.touserid,smallmessage:e.smallmessage,timecreated:e.timecreated}))})),yield Promise.all(s)}))()}}return(e=AddonMessagesOfflineProvider).ɵfac=function AddonMessagesOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesOfflineProvider})();const g=(0,u.Qd)(f)},59534:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonMessagesSync:()=>T,AddonMessagesSyncProvider:()=>I});var o=r(10467),i=r(42008),s=r(47050),a=r(20728),c=r(49882),u=r(43411),p=r(79555),f=r(52749),g=r(94455),v=r(74431),C=r(98870),b=r(75629),w=r(53794),A=r(49588),_=r(40152),E=r(54438);let I=(()=>{var e;class AddonMessagesSyncProvider extends i.l{constructor(){super("AddonMessagesSync")}getSyncId(e,n){if(e)return`conversationid:${e}`;if(n)return`userid:${n}`;throw new b.CoreError("Incorrect messages sync id.")}syncAllDiscussions(e,n=!1){return this.syncOnSites("all discussions"+(n?" (Only offline)":""),(e=>this.syncAllDiscussionsFunc(n,e)),e)}syncAllDiscussionsFunc(e,n){var r=this;return(0,o.A)((function*(){const o=[],i=[],a=[];(e?yield s.AddonMessagesOffline.getAllDeviceOfflineMessages(n):yield s.AddonMessagesOffline.getAllMessages(n)).forEach((e=>{"conversationid"in e?-1==i.indexOf(e.conversationid)&&i.push(e.conversationid):-1==o.indexOf(e.touserid)&&o.push(e.touserid)})),i.forEach((e=>{a.push(r.syncDiscussion(e,void 0,n).then((e=>{void 0!==e&&c.z.trigger(_.HA,e,n)})))})),o.forEach((e=>{a.push(r.syncDiscussion(void 0,e,n).then((e=>{void 0!==e&&c.z.trigger(_.HA,e,n)})))})),yield Promise.all(a)}))()}syncDiscussion(e,n,r){r=r||f.CoreSites.getCurrentSiteId();const o=this.getSyncId(e,n),i=this.getOngoingSync(o,r);return i||this.addOngoingSync(o,this.performSyncDiscussion(e,n,r),r)}performSyncDiscussion(e,n,r){var i=this;return(0,o.A)((function*(){const o={warnings:[],userId:n,conversationId:e},c=a.AddonMessages.isGroupMessagingEnabled();let p;const f=[];if(e)i.logger.debug(`Try to sync conversation '${e}'`),p=yield s.AddonMessagesOffline.getConversationMessages(e,void 0,r);else{if(!n)throw new b.CoreError("Incorrect messages sync.");i.logger.debug(`Try to sync discussion with user '${n}'`),p=yield s.AddonMessagesOffline.getMessages(n,r)}if(!p.length)return o;if(!g.WE.isOnline())throw s.AddonMessagesOffline.setMessagesDeviceOffline(p,!0),new b.CoreError("Cannot sync in offline. Mark messages as device offline.");p=a.AddonMessages.sortMessages(p);const C=Math.floor((p[0].timecreated-v.CoreConstants.WS_TIMEOUT-1e3)/1e3),A=yield i.getMessagesSentAfter(C,e,n,r);for(let o=0;o<p.length;o++){const i=p[o],v=("text"in i?i.text:i.smallmessage)||"",C="<"!=i[e?"text":"smallmessage"][0]?`<p>${v}</p>`:v;try{-1!=A.indexOf(C)||(e?yield a.AddonMessages.sendMessageToConversationOnline(e,v,r):n&&(yield a.AddonMessages.sendMessageOnline(n,v,r)))}catch(e){if(!u.CoreWSError.isWebServiceError(e))throw g.WE.isOnline()&&s.AddonMessagesOffline.setMessagesDeviceOffline(p,!1),e;-1==f.indexOf(e)&&f.push(e)}e?yield s.AddonMessagesOffline.deleteConversationMessage(e,v,i.timecreated,r):n&&(yield s.AddonMessagesOffline.deleteMessage(n,v,i.timecreated,r)),!c&&o<p.length-1&&(yield w.H.wait(1e3))}return yield i.handleSyncErrors(e,n,f,o.warnings),o}))()}getMessagesSentAfter(e,n,r,i){return(0,o.A)((function*(){const o=(yield f.CoreSites.getSite(i)).getUserId();if(!n){if(r){const n={useridto:r,useridfrom:o,limitnum:_.nq},s={cacheKey:a.AddonMessages.getCacheKeyForDiscussion(r),getFromCache:!1,emergencyCache:!1},c=yield a.AddonMessages.getRecentMessages(n,s,0,0,!1,i);e*=1e3;return c.filter((n=>n.timecreated>=e)).map((e=>e.text))}throw new b.CoreError("Incorrect messages sync identifier")}try{const r=yield a.AddonMessages.getConversationMessages(n,{excludePending:!0,ignoreCache:!0,timeFrom:e});return r.messages.filter((e=>e.useridfrom==o)).map((e=>e.text))}catch(e){if(e&&"invalidresponse"==e.errorcode)return[];throw e}}))()}handleSyncErrors(e,n,r=[],i=[]){return(0,o.A)((function*(){if(r&&!(r.length<=0))if(e){let n=String(e);try{const r=yield a.AddonMessages.getConversation(e,!1,!1);n=r.name||String(e)}catch{}r.forEach((e=>{i.push(p.HT.instant("addon.messages.warningconversationmessagenotsent",{conversation:n,error:A.CoreErrorHelper.getErrorMessageFromError(e)}))}))}else if(n){let e=String(n);try{const r=yield C.CoreUser.getProfile(n,void 0,!0);e=r.fullname}catch{}r.forEach((n=>{i.push(p.HT.instant("addon.messages.warningmessagenotsent",{user:e,error:A.CoreErrorHelper.getErrorMessageFromError(n)}))}))}}))()}waitForSyncConversation(e,n,r){const o=this.getSyncId(e,n);return this.waitForSync(o,r)}}return(e=AddonMessagesSyncProvider).ɵfac=function AddonMessagesSyncProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesSyncProvider})();const T=(0,p.Qd)(I)},20728:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonMessages:()=>T,AddonMessagesProvider:()=>I});var o=r(10467),i=r(6787),s=r(52749),a=r(94455),c=r(98870),u=r(47050),p=r(24742),f=r(49882),g=r(79555),v=r(75629),C=r(43411),b=r(74431),w=r(40152),A=r(55554),_=r(75383),E=r(54438);let I=(()=>{var e;class AddonMessagesProvider{constructor(){this.logger=i.CoreLogger.getInstance("AddonMessages")}addContact(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),i={userids:[e]};yield o.write("core_message_create_contacts",i),yield r.invalidateAllContactsCache(o.getId())}))()}blockContact(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);try{if(o.wsAvailable("core_message_block_user")){const n={userid:o.getUserId(),blockeduserid:e};yield o.write("core_message_block_user",n)}else{const n={userids:[e]};yield o.write("core_message_block_contacts",n)}yield r.invalidateAllMemberInfo(e,o)}finally{f.z.trigger(w.Ie,{userId:e,userBlocked:!0},o.id)}}))()}confirmContactRequest(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),i={userid:e,requesteduserid:o.getUserId()};yield o.write("core_message_confirm_contact_request",i),yield A.g.allPromises([r.invalidateAllMemberInfo(e,o),r.invalidateContactsCache(o.id),r.invalidateUserContacts(o.id),r.refreshContactRequestsCount(o.id)]).finally((()=>{f.z.trigger(w.Ie,{userId:e,contactRequestConfirmed:!0},o.id)}))}))()}createContactRequest(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);if(o.wsAvailable("core_message_create_contact_request")){var i;const n={userid:o.getUserId(),requesteduserid:e},r=yield o.write("core_message_create_contact_request",n);if(null!==(i=r.warnings)&&void 0!==i&&i.length)throw new C.CoreWSError(r.warnings[0])}else yield r.addContact(e,o.getId());yield r.invalidateAllMemberInfo(e,o).finally((()=>{f.z.trigger(w.Ie,{userId:e,contactRequestCreated:!0},o.id)}))}))()}declineContactRequest(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),i={userid:e,requesteduserid:o.getUserId()};yield o.write("core_message_decline_contact_request",i),yield A.g.allPromises([r.invalidateAllMemberInfo(e,o),r.refreshContactRequestsCount(o.id)]).finally((()=>{f.z.trigger(w.Ie,{userId:e,contactRequestDeclined:!0},o.id)}))}))()}deleteConversation(e,n,r){var i=this;return(0,o.A)((function*(){yield i.deleteConversations([e],n,r)}))()}deleteConversations(e,n,r){return(0,o.A)((function*(){const i=yield s.CoreSites.getSite(n),a={userid:r=r||i.getUserId(),conversationids:e};yield i.write("core_message_delete_conversations_by_id",a),yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){try{return u.AddonMessagesOffline.deleteConversationMessages(e,i.getId())}catch{}}));return function(n){return e.apply(this,arguments)}}()))}))()}deleteMessage(e,n){return"id"in e?n?this.deleteMessageForAllOnline(e.id):this.deleteMessageOnline(e.id,!(!("read"in e)||!e.read)):"conversationid"in e?u.AddonMessagesOffline.deleteConversationMessage(e.conversationid,e.text,e.timecreated):u.AddonMessagesOffline.deleteMessage(e.touserid,e.smallmessage,e.timecreated)}deleteMessageOnline(e,n,r){var i=this;return(0,o.A)((function*(){var o;r=r||s.CoreSites.getCurrentSiteUserId();const a={messageid:e,userid:r};void 0!==n&&(a.read=n),yield null===(o=s.CoreSites.getCurrentSite())||void 0===o?void 0:o.write("core_message_delete_message",a),yield i.invalidateDiscussionCache(r)}))()}deleteMessageForAllOnline(e,n){var r=this;return(0,o.A)((function*(){var o;n=n||s.CoreSites.getCurrentSiteUserId();const i={messageid:e,userid:n};yield null===(o=s.CoreSites.getCurrentSite())||void 0===o?void 0:o.write("core_message_delete_message_for_all_users",i),yield r.invalidateDiscussionCache(n)}))()}formatConversation(e,n){const r=e.messages.length,o=r?e.messages[r-1]:null;if(e.lastmessage=o?o.text:void 0,e.lastmessagedate=o?o.timecreated:void 0,e.sentfromcurrentuser=o?o.useridfrom==n:void 0,2!=e.type){const r=1==e.type,o=e.members.find((e=>r&&e.id!=n||!r&&e.id==n));o&&(e.name=e.name?e.name:o.fullname,e.imageurl=e.imageurl?e.imageurl:o.profileimageurl,e.otherUser=o,e.userid=o.id,e.showonlinestatus=o.showonlinestatus,e.isonline=o.isonline,e.isblocked=o.isblocked,e.otherUser=o)}return e}getCacheKeyForBlockedContacts(e){return`${AddonMessagesProvider.ROOT_CACHE_KEY}blockedContacts:${e}`}getCacheKeyForContacts(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}contacts`}getCacheKeyForUserContacts(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}userContacts`}getCacheKeyForContactRequests(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}contactRequests`}getCacheKeyForContactRequestsCount(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}contactRequestsCount`}getCacheKeyForDiscussion(e){return`${AddonMessagesProvider.ROOT_CACHE_KEY}discussion:${e}`}getCacheKeyForMessageCount(e){return`${AddonMessagesProvider.ROOT_CACHE_KEY}count:${e}`}getCacheKeyForUnreadConversationCounts(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}unreadConversationCounts`}getCacheKeyForDiscussions(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}discussions`}getCacheKeyForConversation(e,n){return`${AddonMessagesProvider.ROOT_CACHE_KEY}conversation:${e}:${n}`}getCacheKeyForConversationBetweenUsers(e,n){return`${AddonMessagesProvider.ROOT_CACHE_KEY}conversationBetweenUsers:${e}:${n}`}getCacheKeyForConversationMembers(e,n){return`${AddonMessagesProvider.ROOT_CACHE_KEY}conversationMembers:${e}:${n}`}getCacheKeyForConversationMessages(e,n){return`${AddonMessagesProvider.ROOT_CACHE_KEY}conversationMessages:${e}:${n}`}getCacheKeyForConversations(e,n,r){return this.getCommonCacheKeyForUserConversations(e)+":"+n+":"+r}getCacheKeyForConversationCounts(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}conversationCounts`}getCacheKeyForMemberInfo(e,n){return`${AddonMessagesProvider.ROOT_CACHE_KEY}memberInfo:${e}:${n}`}getCacheKeyForSelfConversation(e){return`${AddonMessagesProvider.ROOT_CACHE_KEY}selfconversation:${e}`}getCommonCacheKeyForUserConversations(e){return this.getRootCacheKeyForConversations()+e}getRootCacheKeyForConversations(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}conversations:`}getAllContacts(e){var n=this;return(0,o.A)((function*(){e=e||s.CoreSites.getCurrentSiteId();const r=yield n.getContacts(e);try{const o=yield n.getBlockedContacts(e);return r.blocked=o.users,n.storeUsersFromAllContacts(r),r}catch{return r.blocked=[],n.storeUsersFromAllContacts(r),r}}))()}getBlockedContacts(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o=r.getUserId(),i={userid:o},a={cacheKey:n.getCacheKeyForBlockedContacts(o),updateFrequency:b.CoreCacheUpdateFrequency.OFTEN};return r.read("core_message_get_blocked_users",i,a)}))()}getContacts(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o={cacheKey:n.getCacheKeyForContacts(),updateFrequency:b.CoreCacheUpdateFrequency.OFTEN},i=yield r.read("core_message_get_contacts",void 0,o),a={online:[],offline:[],strangers:[]};for(const e in i)a[e]||(a[e]=[]),i[e].forEach((n=>{n.id>0&&a[e].push(n)}));return a}))()}getUserContacts(e=0,n=w.U2,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),a={userid:o.getUserId(),limitfrom:e,limitnum:n<=0?0:n+1},u={cacheKey:i.getCacheKeyForUserContacts(),updateFrequency:b.CoreCacheUpdateFrequency.OFTEN},p=yield o.read("core_message_get_user_contacts",a,u);return p&&p.length?(c.CoreUser.storeUsers(p,o.id),n<=0?{contacts:p,canLoadMore:!1}:{contacts:p.slice(0,n),canLoadMore:p.length>n}):{contacts:[],canLoadMore:!1}}))()}getContactRequests(e=0,n=w.U2,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),a={userid:o.getUserId(),limitfrom:e,limitnum:n<=0?0:n+1},u={cacheKey:i.getCacheKeyForContactRequests(),updateFrequency:b.CoreCacheUpdateFrequency.OFTEN},p=yield o.read("core_message_get_contact_requests",a,u);return p&&p.length?(c.CoreUser.storeUsers(p,o.id),n<=0?{requests:p,canLoadMore:!1}:{requests:p.slice(0,n),canLoadMore:p.length>n}):{requests:[],canLoadMore:!1}}))()}getContactRequestsCount(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o={userid:r.getUserId()},i={cacheKey:n.getCacheKeyForContactRequestsCount(),typeExpected:"number"},a={count:yield r.read("core_message_get_received_contact_requests_count",o,i)};return f.z.trigger(w.l3,a,r.id),a.count}))()}getConversation(e,n=!1,r=!1,i=0,a=1,c=0,u=2,p=!0,f,g){var v=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(f);g=g||o.getUserId();const C={cacheKey:v.getCacheKeyForConversation(g,e)},b={userid:g,conversationid:e,includecontactrequests:n,includeprivacyinfo:r,messageoffset:i,messagelimit:a,memberoffset:c,memberlimit:u,newestmessagesfirst:p},w=yield o.read("core_message_get_conversation",b,C);return v.formatConversation(w,g)}))()}getConversationBetweenUsers(e,n,r,i=0,a=1,c=0,u=2,p=!0,f,g,v){var C=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(f);g=g||o.getUserId();const b={cacheKey:C.getCacheKeyForConversationBetweenUsers(g,e),omitExpires:!!v},w={userid:g,otheruserid:e,includecontactrequests:!!n,includeprivacyinfo:!!r,messageoffset:i,messagelimit:a,memberoffset:c,memberlimit:u,newestmessagesfirst:!!p},A=yield o.read("core_message_get_conversation_between_users",w,b);return C.formatConversation(A,g)}))()}getConversationMembers(e,n=0,r,i,a,c){var u=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(a);c=c||o.getUserId(),r=null!=r?r:w.nq;const p={cacheKey:u.getCacheKeyForConversationMembers(c,e),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES},f={userid:c,conversationid:e,limitfrom:n,limitnum:r<1?r:r+1,includecontactrequests:!!i,includeprivacyinfo:!0},g=yield o.read("core_message_get_conversation_members",f,p);return r<1?{canLoadMore:!1,members:g}:{canLoadMore:g.length>r,members:g.slice(0,r)}}))()}getConversationMessages(e,n={}){var r=this;return(0,o.A)((function*(){var o,i;const a=yield s.CoreSites.getSite(n.siteId);n.userId=n.userId||a.getUserId(),n.limitFrom=n.limitFrom||0,n.limitTo=null!==(o=n.limitTo)&&void 0!==o?o:w.nq,n.timeFrom=n.timeFrom||0,n.newestFirst=null===(i=n.newestFirst)||void 0===i||i;const c={cacheKey:r.getCacheKeyForConversationMessages(n.userId,e)},p={currentuserid:n.userId,convid:e,limitfrom:n.limitFrom,limitnum:n.limitTo<1?n.limitTo:n.limitTo+1,newest:!!n.newestFirst,timefrom:n.timeFrom};n.limitFrom>0?(c.getFromCache=!1,c.saveToCache=!1,c.emergencyCache=!1):n.forceCache?c.omitExpires=!0:n.ignoreCache&&(c.getFromCache=!1,c.emergencyCache=!1);const f=yield a.read("core_message_get_conversation_messages",p,c);if(n.limitTo<1?f.canLoadMore=!1:(f.canLoadMore=f.messages.length>n.limitTo,f.messages=f.messages.slice(0,n.limitTo)),f.messages.forEach((e=>{e.timecreated=e.timecreated?1e3*e.timecreated:0})),n.excludePending)return f;const g=yield u.AddonMessagesOffline.getConversationMessages(e,n.userId,a.getId());return f.messages=f.messages.concat(g),f}))()}getConversations(e,n,r=0,i,a,c,u){var p=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);a=a||o.getUserId();const f={cacheKey:p.getCacheKeyForConversations(a,e,n)},g={userid:a,limitfrom:r,limitnum:w.nq+1};let v;c?f.omitExpires=!0:u&&(f.getFromCache=!1,f.emergencyCache=!1),void 0!==e&&null!=e&&(g.type=e),void 0!==n&&null!=n&&(g.favourites=!!n),o.isVersionGreaterEqualThan("3.7")&&2!=e&&(g.mergeself=!0);try{v=yield o.read("core_message_get_conversations",g,f)}catch(e){if(g.mergeself)return delete g.mergeself,o.read("core_message_get_conversations",g,f);throw e}return{conversations:v.conversations.slice(0,w.nq).map((e=>p.formatConversation(e,a))),canLoadMore:v.conversations.length>w.nq}}))()}getConversationCounts(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o={cacheKey:n.getCacheKeyForConversationCounts()},i=yield r.read("core_message_get_conversation_counts",{},o);return{favourites:i.favourites,individual:i.types[1],group:i.types[2],self:i.types[3]||0}}))()}getDiscussion(e,n,r=0,i=0,a=0,c=0,p=!1,f){var g=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(f),p={messages:[],canLoadMore:!1},v={cacheKey:g.getCacheKeyForDiscussion(e)},C={useridto:o.getUserId(),useridfrom:e,limitnum:w.nq};(r>0||i>0||a>0||c>0)&&(v.getFromCache=!1,v.saveToCache=!1,v.emergencyCache=!1);const b=yield g.getRecentMessages(C,v,r,i,void 0,o.getId());p.messages=b;const A=b.length>0;C.useridto=e,C.useridfrom=o.getUserId();const _=yield g.getRecentMessages(C,v,a,c,void 0,f);p.messages=p.messages.concat(_);const E=_.length>0;if(p.messages.length>w.nq?(p.canLoadMore=!0,p.messages=g.sortMessages(p.messages),p.messages=p.messages.slice(-w.nq)):p.canLoadMore=!(p.messages.length!=w.nq||A&&E),n)return p;const I=yield u.AddonMessagesOffline.getMessages(e,o.getId());return p.messages=p.messages.concat(I),p}))()}getDiscussions(e){var n=this;return(0,o.A)((function*(){const r={},treatRecentMessage=(e,n,o)=>{void 0===r[n]&&(r[n]={fullname:o,profileimageurl:""},"timeread"in e&&e.timeread||e.pending||e.useridfrom==i||(r[n].unread=!0));const s="id"in e?e.id:0,a=r[n].message;(void 0===a||!a.pending&&e.pending||a.pending==e.pending&&(a.timecreated<e.timecreated||a.timecreated==e.timecreated&&a.id<s))&&(r[n].message={id:s,user:n,message:e.text||"",timecreated:e.timecreated,pending:!!e.pending})},o=yield s.CoreSites.getSite(e),i=o.getUserId(),a={useridto:i,useridfrom:0,limitnum:w.nq},c={cacheKey:n.getCacheKeyForDiscussions()};(yield n.getRecentMessages(a,c,void 0,void 0,void 0,o.getId())).forEach((e=>{treatRecentMessage(e,e.useridfrom,e.userfromfullname)})),a.useridfrom=a.useridto,a.useridto=0;(yield n.getRecentMessages(a,c)).forEach((e=>{treatRecentMessage(e,e.useridto,e.usertofullname)}));(yield u.AddonMessagesOffline.getAllMessages(o.getId())).forEach((e=>{treatRecentMessage(e,"touserid"in e?e.touserid:0,"")}));const p=yield n.getDiscussionsUserImg(r,o.getId());return n.storeUsersFromDiscussions(p),p}))()}getDiscussionsUserImg(e,n){return(0,o.A)((function*(){const r=[];for(const o in e)!e[o].profileimageurl&&e[o].message&&r.push(c.CoreUser.getProfile(e[o].message.user,0,!0,n).then((n=>{e[o].profileimageurl=n.profileimageurl})).catch((()=>{})));return yield Promise.all(r),e}))()}getMemberInfo(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);r=r||o.getUserId();const a={cacheKey:i.getCacheKeyForMemberInfo(r,e),updateFrequency:b.CoreCacheUpdateFrequency.OFTEN},c={referenceuserid:r,userids:[e],includecontactrequests:!0,includeprivacyinfo:!0},u=yield o.read("core_message_get_member_info",c,a);if(!u||u.length<1)throw new v.CoreError("Error fetching member info.");return u[0]}))()}getMessagePreferencesCacheKey(){return`${AddonMessagesProvider.ROOT_CACHE_KEY}messagePreferences`}getMessagePreferences(e){var n=this;return(0,o.A)((function*(){n.logger.debug("Get message preferences");const r=yield s.CoreSites.getSite(e),o={cacheKey:n.getMessagePreferencesCacheKey(),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES},i=yield r.read("core_message_get_user_message_preferences",{},o);if(i.preferences)return i.preferences.blocknoncontacts=i.blocknoncontacts,i.preferences;throw new v.CoreError("Error getting message preferences")}))()}getMessages(e,n,r){return(0,o.A)((function*(){e.type="conversations",e.newestfirst=!0;const o=yield s.CoreSites.getSite(r),i=yield o.read("core_message_get_messages",e,n);return i.messages.forEach((n=>{n.read=!!e.read,n.timecreated=n.timecreated?1e3*n.timecreated:0,n.timeread=n.timeread?1e3*n.timeread:0})),i}))()}getRecentMessages(e,n,r=0,i=0,s=!1,a){var c=this;return(0,o.A)((function*(){r=r||0,i=i||0,e.read=!1,e.limitfrom=r;let o=(yield c.getMessages(e,n,a)).messages;if(!o)throw new v.CoreError("Error fetching recent messages");if(o.length>=(e.limitnum||0))return o;e.limitnum=(e.limitnum||0)-o.length,e.read=!0,e.limitfrom=i;try{const r=yield c.getMessages(e,n,a);return r.messages&&(o=o.concat(r.messages)),o}catch{return o}}))()}getSelfConversation(e=0,n=1,r=!0,i,a){var c=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);a=a||o.getUserId();const u={cacheKey:c.getCacheKeyForSelfConversation(a)},p={userid:a,messageoffset:e,messagelimit:n,newestmessagesfirst:!!r},f=yield o.read("core_message_get_self_conversation",p,u);return c.formatConversation(f,a)}))()}getUnreadConversationCounts(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);let o;if(n.isGroupMessagingEnabled()){const e={cacheKey:n.getCacheKeyForUnreadConversationCounts()},i=yield r.read("core_message_get_unread_conversation_counts",{},e);o={favourites:i.favourites,individual:i.types[1],group:i.types[2],self:i.types[3]||0}}else{const e={useridto:r.getUserId()},i={cacheKey:n.getCacheKeyForMessageCount(r.getUserId()),typeExpected:"number"};o={favourites:0,individual:yield r.read("core_message_get_unread_conversations_count",e,i),group:0,self:0}}return f.z.trigger(w.SU,o,r.id),o}))()}getUnreadReceivedMessages(e=!0,n=!1,r=!1,i){var a=this;return(0,o.A)((function*(){const e=yield s.CoreSites.getSite(i),o={read:!1,limitfrom:0,limitnum:w.nq,useridto:e.getUserId(),useridfrom:0},c={};return n?c.omitExpires=!0:r&&(c.getFromCache=!1,c.emergencyCache=!1),a.getMessages(o,c,i)}))()}invalidateAllContactsCache(e){var n=this;return(0,o.A)((function*(){e=e||s.CoreSites.getCurrentSiteId(),yield n.invalidateContactsCache(e),yield n.invalidateBlockedContactsCache(e)}))()}invalidateBlockedContactsCache(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o=r.getUserId();yield r.invalidateWsCacheForKey(n.getCacheKeyForBlockedContacts(o))}))()}invalidateContactsCache(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getCacheKeyForContacts())}))()}invalidateUserContacts(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getCacheKeyForUserContacts())}))()}invalidateContactRequestsCache(e){var n=this;return(0,o.A)((function*(){return(yield s.CoreSites.getSite(e)).invalidateWsCacheForKey(n.getCacheKeyForContactRequests())}))()}invalidateContactRequestsCountCache(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getCacheKeyForContactRequestsCount())}))()}invalidateConversation(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);r=r||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCacheKeyForConversation(r,e))}))()}invalidateConversationBetweenUsers(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);r=r||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCacheKeyForConversationBetweenUsers(r,e))}))()}invalidateConversationMembers(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);r=r||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCacheKeyForConversationMembers(r,e))}))()}invalidateConversationMessages(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);r=r||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCacheKeyForConversationMessages(r,e))}))()}invalidateConversations(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(e);n=n||o.getUserId(),yield o.invalidateWsCacheForKeyStartingWith(r.getCommonCacheKeyForUserConversations(n))}))()}invalidateConversationCounts(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getCacheKeyForConversationCounts())}))()}invalidateDiscussionCache(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getCacheKeyForDiscussion(e))}))()}invalidateDiscussionsCache(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o=[];o.push(r.invalidateWsCacheForKey(n.getCacheKeyForDiscussions())),o.push(n.invalidateContactsCache(r.getId())),yield Promise.all(o)}))()}invalidateMemberInfo(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);r=r||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCacheKeyForMemberInfo(r,e))}))()}invalidateMessagePreferences(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getMessagePreferencesCacheKey())}))()}invalidateAllMemberInfo(e,n){var r=this;return(0,o.A)((function*(){yield A.g.allPromises([r.invalidateMemberInfo(e,n.id),r.invalidateUserContacts(n.id),r.invalidateBlockedContactsCache(n.id),r.invalidateContactRequestsCache(n.id),r.invalidateConversations(n.id),r.getConversationBetweenUsers(e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n.id,void 0,!0).then((e=>A.g.allPromises([r.invalidateConversation(e.id),r.invalidateConversationMembers(e.id,n.id)]))).catch((()=>{}))])}))()}invalidateSelfConversation(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(e);n=n||o.getUserId(),yield o.invalidateWsCacheForKey(r.getCacheKeyForSelfConversation(n))}))()}invalidateUnreadConversationCounts(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);return n.isGroupMessagingEnabled()?r.invalidateWsCacheForKey(n.getCacheKeyForUnreadConversationCounts()):r.invalidateWsCacheForKey(n.getCacheKeyForMessageCount(r.getUserId()))}))()}isBlocked(e,n){var r=this;return(0,o.A)((function*(){if(r.isGroupMessagingEnabled()){return(yield r.getMemberInfo(e,n)).isblocked}const o=yield r.getBlockedContacts(n);return!(!o.users||o.users.length<1)&&o.users.some((n=>e==n.id))}))()}isContact(e,n){var r=this;return(0,o.A)((function*(){if(r.isGroupMessagingEnabled()){return(yield r.getMemberInfo(e,n)).iscontact}const o=yield r.getContacts(n);return["online","offline"].some((n=>!!(o[n]&&o[n].length>0)&&o[n].some((n=>e==n.id))))}))()}isGroupMessagingEnabled(){return s.CoreSites.wsAvailableInCurrentSite("core_message_get_conversations")}isGroupMessagingEnabledInSite(e){return(0,o.A)((function*(){try{return(yield s.CoreSites.getSite(e)).wsAvailable("core_message_get_conversations")}catch{return!1}}))()}isMessagingEnabledForSite(e){var n=this;return(0,o.A)((function*(){if(!(yield n.isPluginEnabled(e)))throw new v.CoreError("Messaging not enabled for the site")}))()}isMuteConversationEnabled(e){var n;return!(null===(n=e=e||s.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("core_message_mute_conversations"))}isMuteConversationEnabledInSite(e){var n=this;return(0,o.A)((function*(){try{const r=yield s.CoreSites.getSite(e);return n.isMuteConversationEnabled(r)}catch{return!1}}))()}isPluginEnabled(e){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(e)).canUseAdvancedFeature("messaging")}))()}isSelfConversationEnabled(e){var n;return!(null===(n=e=e||s.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("core_message_get_self_conversation"))}isSelfConversationEnabledInSite(e){var n=this;return(0,o.A)((function*(){try{const r=yield s.CoreSites.getSite(e);return n.isSelfConversationEnabled(r)}catch{return!1}}))()}markMessageRead(e,n){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(n),o={messageid:e,timeread:p.j.timestamp()};return r.write("core_message_mark_message_read",o)}))()}markAllConversationMessagesRead(e){return(0,o.A)((function*(){var n;const r={userid:s.CoreSites.getCurrentSiteUserId(),conversationid:e};yield null===(n=s.CoreSites.getCurrentSite())||void 0===n?void 0:n.write("core_message_mark_all_conversation_messages_as_read",r,{responseExpected:!1})}))()}markAllMessagesRead(e){return(0,o.A)((function*(){const n={useridto:s.CoreSites.getCurrentSiteUserId(),useridfrom:e},r=s.CoreSites.getCurrentSite();return!!r&&r.write("core_message_mark_all_messages_as_read",n,{typeExpected:"boolean"})}))()}muteConversation(e,n,r,i){var s=this;return(0,o.A)((function*(){yield s.muteConversations([e],n,r,i)}))()}muteConversations(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),c={userid:i=i||o.getUserId(),conversationids:e},u=n?"core_message_mute_conversations":"core_message_unmute_conversations";yield o.write(u,c);const p=e.map((e=>a.invalidateConversation(e,o.getId(),i)));try{yield Promise.all(p)}catch{}}))()}refreshContactRequestsCount(e){var n=this;return(0,o.A)((function*(){return e=e||s.CoreSites.getCurrentSiteId(),yield n.invalidateContactRequestsCountCache(e),n.getContactRequestsCount(e)}))()}refreshUnreadConversationCounts(e){var n=this;return(0,o.A)((function*(){return e=e||s.CoreSites.getCurrentSiteId(),yield n.invalidateUnreadConversationCounts(e),n.getUnreadConversationCounts(e)}))()}removeContact(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),i={userids:[e]};return yield o.write("core_message_delete_contacts",i,{responseExpected:!1}),A.g.allPromises([r.invalidateUserContacts(o.id),r.invalidateAllMemberInfo(e,o),r.invalidateContactsCache(o.id)]).then((()=>{f.z.trigger(w.Ie,{userId:e,contactRemoved:!0},o.id)}))}))()}searchContacts(e,n=100,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),i={searchtext:e,onlymycourses:!1};let a=yield o.read("core_message_search_contacts",i,{getFromCache:!1});return n&&a.length>n&&(a=a.splice(0,n)),c.CoreUser.storeUsers(a),a}))()}searchMessages(e,n,r=0,i=w.xT,a){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(a),u={userid:n||o.getUserId(),search:e,limitfrom:r,limitnum:i<=0?0:i+1},p=yield o.read("core_message_data_for_messagearea_search_messages",u,{getFromCache:!1});if(!p.contacts||!p.contacts.length)return{messages:[],canLoadMore:!1};const f=p.contacts.map((e=>({id:e.userid,fullname:e.fullname,profileimageurl:e.profileimageurl})));return c.CoreUser.storeUsers(f,o.id),i<=0?{messages:p.contacts,canLoadMore:!1}:{messages:p.contacts.slice(0,i),canLoadMore:p.contacts.length>i}}))()}searchUsers(e,n=0,r=w.xT,i){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i),a={userid:o.getUserId(),search:e,limitfrom:n,limitnum:r<=0?0:r+1},u=yield o.read("core_message_message_search_users",a,{getFromCache:!1}),p=u.contacts||[],f=u.noncontacts||[];return c.CoreUser.storeUsers(p,o.id),c.CoreUser.storeUsers(f,o.id),r<=0?{contacts:p,nonContacts:f,canLoadMoreContacts:!1,canLoadMoreNonContacts:!1}:{contacts:p.slice(0,r),nonContacts:f.slice(0,r),canLoadMoreContacts:p.length>r,canLoadMoreNonContacts:f.length>r}}))()}sendMessage(e,n,r){var i=this;return(0,o.A)((function*(){const c=function(){var i=(0,o.A)((function*(){const o=yield u.AddonMessagesOffline.saveMessage(e,n,r);return{sent:!1,message:{msgid:-1,text:o.smallmessage,timecreated:o.timecreated,conversationid:0,useridfrom:o.useridfrom,candeletemessagesforallusers:!0}}}));return function storeOffline(){return i.apply(this,arguments)}}();if(r=r||s.CoreSites.getCurrentSiteId(),!a.WE.isOnline())return c();let p=!1;try{p=yield u.AddonMessagesOffline.hasMessages(e,r)}catch{p=!0}if(p)return c();try{return{sent:!0,message:yield i.sendMessageOnline(e,n)}}catch(e){if(C.CoreWSError.isWebServiceError(e))throw e;return c()}}))()}sendMessageOnline(e,n,r){var i=this;return(0,o.A)((function*(){r=r||s.CoreSites.getCurrentSiteId();const o=[{touserid:e,text:n,textformat:_.C9}],a=yield i.sendMessagesOnline(o,r);if(a&&a[0]&&-1===a[0].msgid)throw new C.CoreWSError({message:a[0].errormessage,errorcode:"sendmessageerror"});try{yield i.invalidateDiscussionCache(e,r)}catch{}return a[0]}))()}sendMessagesOnline(e,n){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(n)).write("core_message_send_instant_messages",{messages:e})}))()}sendMessageToConversation(e,n,r){var i=this;return(0,o.A)((function*(){const c=yield s.CoreSites.getSite(r);r=c.getId();const p=function(){var i=(0,o.A)((function*(){const o=yield u.AddonMessagesOffline.saveConversationMessage(e,n,r);return{sent:!1,message:{id:-1,useridfrom:c.getUserId(),text:o.text,timecreated:o.timecreated}}}));return function storeOffline(){return i.apply(this,arguments)}}();if(!a.WE.isOnline())return p();let f=!1;try{f=yield u.AddonMessagesOffline.hasConversationMessages(e.id,r)}catch{f=!0}if(f)return p();try{return{sent:!0,message:yield i.sendMessageToConversationOnline(e.id,n,r)}}catch(e){if(C.CoreWSError.isWebServiceError(e))throw e;return p()}}))()}sendMessageToConversationOnline(e,n,r){var i=this;return(0,o.A)((function*(){r=r||s.CoreSites.getCurrentSiteId();const o=[{text:n,textformat:_.C9}],a=yield i.sendMessagesToConversationOnline(e,o,r);try{yield i.invalidateConversationMessages(e,r)}catch{}return a[0]}))()}sendMessagesToConversationOnline(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),i={conversationid:e,messages:n.map((e=>({text:e.text,textformat:void 0!==e.textformat?e.textformat:_.C9})))};return o.write("core_message_send_messages_to_conversation",i)}))()}setFavouriteConversation(e,n,r,o){return this.setFavouriteConversations([e],n,r,o)}setFavouriteConversations(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),c={userid:i=i||o.getUserId(),conversations:e},u=n?"core_message_set_favourite_conversations":"core_message_unset_favourite_conversations";yield o.write(u,c);const p=e.map((e=>a.invalidateConversation(e,o.getId(),i)));try{yield Promise.all(p)}catch{}}))()}sortConversations(e=[]){return e.sort(((e,n)=>{const r=Number(e.lastmessagedate),o=Number(n.lastmessagedate);return r==o&&e.id?e.id<=n.id?1:-1:r<=o?1:-1}))}sortMessages(e){return e.sort(((e,n)=>{if(e.pending&&!n.pending)return 1;if(!e.pending&&n.pending)return-1;const r=e.timecreated,o=n.timecreated;if(r==o&&"id"in e){return e.id>=("id"in n?n.id:0)?1:-1}return r>=o?1:-1}))}storeUsersFromAllContacts(e){for(const n in e)c.CoreUser.storeUsers(e[n])}storeUsersFromDiscussions(e,n){const r=[];for(const n in e)r.push({id:parseInt(n,10),fullname:e[n].fullname,profileimageurl:e[n].profileimageurl});c.CoreUser.storeUsers(r,n)}unblockContact(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);try{if(o.wsAvailable("core_message_unblock_user")){const n={userid:o.getUserId(),unblockeduserid:e};yield o.write("core_message_unblock_user",n)}else{const n={userids:[e]},r={responseExpected:!1};yield o.write("core_message_unblock_contacts",n,r)}yield r.invalidateAllMemberInfo(e,o)}finally{f.z.trigger(w.Ie,{userId:e,userUnblocked:!0},o.id)}}))()}}return(e=AddonMessagesProvider).ROOT_CACHE_KEY="mmaMessages:",e.NEW_MESSAGE_EVENT=w.cj,e.READ_CHANGED_EVENT=w.j_,e.OPEN_CONVERSATION_EVENT=w.mO,e.UPDATE_CONVERSATION_LIST_EVENT=w.I2,e.MEMBER_INFO_CHANGED_EVENT=w.Ie,e.UNREAD_CONVERSATION_COUNTS_EVENT=w.SU,e.CONTACT_REQUESTS_COUNT_EVENT=w.l3,e.POLL_INTERVAL=w.ib,e.PUSH_SIMULATION_COMPONENT=w.pV,e.MESSAGE_PRIVACY_COURSEMEMBER=0,e.MESSAGE_PRIVACY_ONLYCONTACTS=1,e.MESSAGE_PRIVACY_SITE=2,e.MESSAGE_CONVERSATION_TYPE_INDIVIDUAL=1,e.MESSAGE_CONVERSATION_TYPE_GROUP=2,e.MESSAGE_CONVERSATION_TYPE_SELF=3,e.LIMIT_CONTACTS=w.U2,e.LIMIT_MESSAGES=w.nq,e.LIMIT_INITIAL_USER_SEARCH=w._R,e.LIMIT_SEARCH=w.xT,e.NOTIFICATION_PREFERENCES_KEY="message_provider_moodle_instantmessage",e.ɵfac=function AddonMessagesProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonMessagesProvider})();const T=(0,g.Qd)(I)},75133:(e,n,r)=>{"use strict";r.d(n,{yd:()=>He,qg:()=>getModAssignComponentModules,kd:()=>getModAssignServices});var o=r(10467),i=r(54438),s=r(33504),a=r(94247),c=r(97086),u=r(8979),p=r(42858),f=r(71758),g=r(26135),v=r(52749),C=r(5505),b=r(4175),w=r(75383),A=r(55554),_=r(79555),E=r(88436);let I=(()=>{var e;class AddonModAssignFeedbackCommentsHandlerService{constructor(){this.name="AddonModAssignFeedbackCommentsHandler",this.type="comments"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!0}))()}getTextFromInputData(e,n){if(void 0===n.assignfeedbackcomments_editor)return;return E.CoreFileHelper.restorePluginfileUrls(n.assignfeedbackcomments_editor,(e.fileareas&&e.fileareas[0]?e.fileareas[0].files:[])||[])}getComponent(){return(0,o.A)((function*(){const{AddonModAssignFeedbackCommentsComponent:e}=yield Promise.all([r.e(41450),r.e(72076),r.e(51180)]).then(r.bind(r,51180));return e}))()}getPluginFiles(e,n,r){return C.AddonModAssign.getSubmissionPluginAttachments(r)}hasDataChanged(e,n,r,i,s){return(0,o.A)((function*(){var n;const o=yield A.g.ignoreErrors(b.AddonModAssignOffline.getSubmissionGrade(e.id,s),void 0),a=null!=o&&null!==(n=o.plugindata)&&void 0!==n&&n.assignfeedbackcomments_editor?o.plugindata.assignfeedbackcomments_editor.text:C.AddonModAssign.getSubmissionPluginText(r),c=T.getTextFromInputData(r,i);return void 0!==c&&a!==c}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}prepareFeedbackData(e,n,r,o,i){const s=T.getTextFromInputData(r,i);if(!s)return;const a={text:w.Ni.formatHtmlLines(s),format:w.C9};o.assignfeedbackcomments_editor=a}}return(e=AddonModAssignFeedbackCommentsHandlerService).ɵfac=function AddonModAssignFeedbackCommentsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignFeedbackCommentsHandlerService})();const T=(0,_.Qd)(I);var P=r(62007);let k=(()=>{var e;class AddonModAssignFeedbackCommentsModule{}return(e=AddonModAssignFeedbackCommentsModule).ɵfac=function AddonModAssignFeedbackCommentsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{P.AddonModAssignFeedbackDelegate.registerHandler(T.instance)}}]}),AddonModAssignFeedbackCommentsModule})(),x=(()=>{var e;class AddonModAssignFeedbackEditPdfHandlerService{constructor(){this.name="AddonModAssignFeedbackEditPdfHandler",this.type="editpdf"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!1}))()}getComponent(){return(0,o.A)((function*(){const{AddonModAssignFeedbackEditPdfComponent:e}=yield Promise.all([r.e(72076),r.e(98678)]).then(r.bind(r,98678));return e}))()}getPluginFiles(e,n,r){return C.AddonModAssign.getSubmissionPluginAttachments(r)}isEnabled(){return(0,o.A)((function*(){return!0}))()}}return(e=AddonModAssignFeedbackEditPdfHandlerService).ɵfac=function AddonModAssignFeedbackEditPdfHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignFeedbackEditPdfHandlerService})();const F=(0,_.Qd)(x);let R=(()=>{var e;class AddonModAssignFeedbackEditPdfModule{}return(e=AddonModAssignFeedbackEditPdfModule).ɵfac=function AddonModAssignFeedbackEditPdfModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{P.AddonModAssignFeedbackDelegate.registerHandler(F.instance)}}]}),AddonModAssignFeedbackEditPdfModule})(),N=(()=>{var e;class AddonModAssignFeedbackFileHandlerService{constructor(){this.name="AddonModAssignFeedbackFileHandler",this.type="file"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!1}))()}getComponent(){return(0,o.A)((function*(){const{AddonModAssignFeedbackFileComponent:e}=yield Promise.all([r.e(72076),r.e(33192)]).then(r.bind(r,33192));return e}))()}getPluginFiles(e,n,r){return C.AddonModAssign.getSubmissionPluginAttachments(r)}isEnabled(){return(0,o.A)((function*(){return!0}))()}}return(e=AddonModAssignFeedbackFileHandlerService).ɵfac=function AddonModAssignFeedbackFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignFeedbackFileHandlerService})();const L=(0,_.Qd)(N);let H=(()=>{var e;class AddonModAssignFeedbackFileModule{}return(e=AddonModAssignFeedbackFileModule).ɵfac=function AddonModAssignFeedbackFileModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{P.AddonModAssignFeedbackDelegate.registerHandler(L.instance)}}]}),AddonModAssignFeedbackFileModule})(),U=(()=>{var e;class AddonModAssignFeedbackModule{}return(e=AddonModAssignFeedbackModule).ɵfac=function AddonModAssignFeedbackModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({imports:[k,R,H]}),AddonModAssignFeedbackModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(U,{imports:[k,R,H]}));var B=r(6969),j=r(30260),V=r(66016);let G=(()=>{var e;class AddonModAssignIndexLinkHandlerService extends j.CoreContentLinksModuleIndexHandler{constructor(){super(V.AC,V.KZ),this.name="AddonModAssignIndexLinkHandler"}getModNavOptions(e,n){return n.action?{params:{action:n.action}}:{}}}return(e=AddonModAssignIndexLinkHandlerService).ɵfac=function AddonModAssignIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignIndexLinkHandlerService})();const z=(0,_.Qd)(G);var q=r(85720);let W=(()=>{var e;class AddonModAssignListLinkHandlerService extends q.S{constructor(){super(V.AC,V.KZ),this.name="AddonModAssignListLinkHandler"}}return(e=AddonModAssignListLinkHandlerService).ɵfac=function AddonModAssignListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignListLinkHandlerService})();const K=(0,_.Qd)(W);var Q=r(43130);let X=(()=>{var e;class AddonModAssignModuleHandlerService extends Q.j{constructor(){super(...arguments),this.name=V.AC,this.modName=V.KZ,this.pageName=V.gU,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,grade_has_penalty:!0,outcomes:!0,backup_moodle2:!0,showdescription:!0,grade_advanced_grading:!0,plagiarism:!0,comment:!0,mod_purpose:"assessment"}}getMainComponent(){return(0,o.A)((function*(){const{AddonModAssignIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(81679),r.e(78497)]).then(r.bind(r,78497));return e}))()}}return(e=AddonModAssignModuleHandlerService).ɵfac=(()=>{let n;return function AddonModAssignModuleHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignModuleHandlerService})();const Y=(0,_.Qd)(X);var J=r(25583),Z=r(8014),ee=r(81690);let te=(()=>{var e;class AddonModAssignPushClickHandlerService{constructor(){this.name="AddonModAssignPushClickHandler",this.priority=200,this.featureName=V.ph}handles(e){return(0,o.A)((function*(){return ee.j.isTrueOrOne(e.notif)&&e.moodlecomponent===V.gU&&"assign_notification"===e.name}))()}handleClick(e){return(0,o.A)((function*(){const n=Z.F.extractUrlParams(e.contexturl),r=Number(e.courseid),o=Number(n.id);yield A.g.ignoreErrors(C.AddonModAssign.invalidateContent(o,r,e.site)),yield a.CoreCourseHelper.navigateToModule(o,{courseId:r,siteId:e.site})}))()}}return(e=AddonModAssignPushClickHandlerService).ɵfac=function AddonModAssignPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignPushClickHandlerService})();const ne=(0,_.Qd)(te);var re=r(75217);let oe=(()=>{var e;class AddonModAssignSyncCronHandlerService{constructor(){this.name=V.dY}execute(e,n){return re.AddonModAssignSync.syncAllAssignments(e,n)}getInterval(){return re.AddonModAssignSync.syncInterval}}return(e=AddonModAssignSyncCronHandlerService).ɵfac=function AddonModAssignSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignSyncCronHandlerService})();const ie=(0,_.Qd)(oe);var se=r(54638),ae=r(57102),le=r(81879),de=r(86654),ce=r(67636),ue=r(60177),pe=r(2910);function AddonModAssignSubmissionCommentsComponent_ion_item_0_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-item",1),i.bIt("click",(function AddonModAssignSubmissionCommentsComponent_ion_item_0_Template_ion_item_click_0_listener(n){i.eBV(e);const r=i.XpG();return i.Njj(r.showComments(n))})),i.j41(1,"ion-label")(2,"p",2),i.EFF(3),i.k0s(),i.nrm(4,"core-comments",3),i.k0s()()}if(2&e){const e=i.XpG();i.Y8G("detail",!0),i.R7$(3),i.JRh(e.plugin.name),i.R7$(),i.Y8G("instanceId",e.assign.cmid)("itemId",e.submission.id)("title",e.plugin.name)("courseId",e.assign.course)}}let fe=(()=>{var e;class AddonModAssignSubmissionCommentsComponent extends ae.L{constructor(){super(),this.commentsEnabled=se.CoreComments.areCommentsEnabledInSite()}invalidate(){return se.CoreComments.invalidateCommentsData("module",this.assign.cmid,ce.t,this.submission.id,ce.R)}showComments(e){var n;null===(n=this.commentsComponent)||void 0===n||n.openComments(e)}}return(e=AddonModAssignSubmissionCommentsComponent).ɵfac=function AddonModAssignSubmissionCommentsComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["addon-mod-assign-submission-comments"]],viewQuery:function AddonModAssignSubmissionCommentsComponent_Query(e,n){if(1&e&&i.GBs(le.L,5),2&e){let e;i.mGM(e=i.lsd())&&(n.commentsComponent=e.first)}},standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:1,consts:[["class","ion-text-wrap","button","",3,"detail","click",4,"ngIf"],["button","",1,"ion-text-wrap",3,"click","detail"],[1,"item-heading"],["contextLevel","module","component","assignsubmission_comments","area","submission_comments",3,"instanceId","itemId","title","courseId"]],template:function AddonModAssignSubmissionCommentsComponent_Template(e,n){1&e&&i.DNE(0,AddonModAssignSubmissionCommentsComponent_ion_item_0_Template,5,6,"ion-item",0),2&e&&i.Y8G("ngIf",n.commentsEnabled)},dependencies:[de.n,ue.bT,pe.uz,pe.he,le.L],encapsulation:2}),AddonModAssignSubmissionCommentsComponent})(),ge=(()=>{var e;class AddonModAssignSubmissionCommentsHandlerService{constructor(){this.name="AddonModAssignSubmissionCommentsHandler",this.type="comments"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!1}))()}getComponent(e,n=!1){return n?void 0:fe}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForEdit(){return!0}prefetch(e,n,r,i){return(0,o.A)((function*(){yield se.CoreComments.getComments("module",e.cmid,ce.t,n.id,ce.R,0,i)}))()}}return(e=AddonModAssignSubmissionCommentsHandlerService).ɵfac=function AddonModAssignSubmissionCommentsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignSubmissionCommentsHandlerService})();const me=(0,_.Qd)(ge);var he=r(95790);let ve=(()=>{var e;class AddonModAssignSubmissionCommentsModule{}return(e=AddonModAssignSubmissionCommentsModule).ɵfac=function AddonModAssignSubmissionCommentsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{he.AddonModAssignSubmissionDelegate.registerHandler(me.instance)}}]}),AddonModAssignSubmissionCommentsModule})();var ye=r(20218),Ce=r(16082),be=r(24942),we=r(87809),Se=r(15152);let Ae=(()=>{var e;class AddonModAssignSubmissionFileHandlerService{constructor(){this.name="AddonModAssignSubmissionFileHandler",this.type="file"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!1}))()}isEmpty(e,n){return 0===C.AddonModAssign.getSubmissionPluginAttachments(n).length}isEmptyForEdit(e){return 0==be.CoreFileSession.getFiles(V.It,e.id).length}clearTmpData(e){const n=be.CoreFileSession.getFiles(V.It,e.id);be.CoreFileSession.clearFiles(V.It,e.id),Ce.CoreFileUploader.clearTmpFiles(n)}copySubmissionData(e,n,r){return(0,o.A)((function*(){const o=C.AddonModAssign.getSubmissionPluginAttachments(n);r.files_filemanager=yield ye.AddonModAssignHelper.uploadFiles(e.id,o)}))()}getComponent(){return(0,o.A)((function*(){const{AddonModAssignSubmissionFileComponent:e}=yield r.e(49851).then(r.bind(r,49851));return e}))()}deleteOfflineData(e,n,r,i,s){return(0,o.A)((function*(){yield A.g.ignoreErrors(ye.AddonModAssignHelper.deleteStoredSubmissionFiles(e.id,Se.h,n.userid,s))}))()}getPluginFiles(e,n,r){return C.AddonModAssign.getSubmissionPluginAttachments(r)}getSizeForCopy(e,n){return(0,o.A)((function*(){const e=C.AddonModAssign.getSubmissionPluginAttachments(n);return E.CoreFileHelper.getTotalFilesSize(e)}))()}getSizeForEdit(e,n,r){var i=this;return(0,o.A)((function*(){if(yield i.hasDataChanged(e,n,r)){const n=be.CoreFileSession.getFiles(V.It,e.id);return E.CoreFileHelper.getTotalFilesSize(n)}return 0}))()}hasDataChanged(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield A.g.ignoreErrors(b.AddonModAssignOffline.getSubmission(e.id,n.userid),void 0);let s;if(o&&o.plugindata&&o.plugindata.files_filemanager){const e=o.plugindata.files_filemanager;s=e.offline+e.online.length}else{const e=C.AddonModAssign.getSubmissionPluginAttachments(r);s=e&&e.length}const a=be.CoreFileSession.getFiles(V.It,e.id);if(a.length!=s)return!0;const c=yield i.getSubmissionFilesToSync(e,n,o);return Ce.CoreFileUploader.areFileListDifferent(a,c)}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForEdit(){return!0}prepareSubmissionData(e,n,r,i,s,a=!1,c,u){var p=this;return(0,o.A)((function*(){if(!(yield p.hasDataChanged(e,n,r)))return;const o=be.CoreFileSession.getFiles(V.It,e.id),i=we.H.hasRepeatedFilenames(o);if(i)throw i;s.files_filemanager=yield ye.AddonModAssignHelper.uploadOrStoreFiles(e.id,Se.h,o,a,c,u)}))()}prepareSyncData(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){const r=yield c.getSubmissionFilesToSync(e,n,i,a);0!=r.length&&(s.files_filemanager=yield ye.AddonModAssignHelper.uploadFiles(e.id,r,a))}))()}getSubmissionFilesToSync(e,n,r,i){return(0,o.A)((function*(){const o=null==r?void 0:r.plugindata.files_filemanager;if(!o)return[];let s=o.online||[];if(o.offline){const r=yield A.g.ignoreErrors(ye.AddonModAssignHelper.getStoredSubmissionFiles(e.id,Se.h,n.userid,i),[]);s=s.concat(r)}return s}))()}}return(e=AddonModAssignSubmissionFileHandlerService).ɵfac=function AddonModAssignSubmissionFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignSubmissionFileHandlerService})();const _e=(0,_.Qd)(Ae);let Ee=(()=>{var e;class AddonModAssignSubmissionFileModule{}return(e=AddonModAssignSubmissionFileModule).ɵfac=function AddonModAssignSubmissionFileModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{he.AddonModAssignSubmissionDelegate.registerHandler(_e.instance)}}]}),AddonModAssignSubmissionFileModule})();var Ie=r(75629);let De=(()=>{var e;class AddonModAssignSubmissionOnlineTextHandlerService{constructor(){this.name="AddonModAssignSubmissionOnlineTextHandler",this.type="onlinetext"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!0}))()}isEmpty(e,n){return 0===C.AddonModAssign.getSubmissionPluginText(n,!0).trim().length}isEmptyForEdit(e,n,r){const o=this.getTextToSubmit(n,r);return!(w.Ni.countWords(o)>0)&&!/<\s*((video|audio)[^>]*>(.*?)<\s*\/\s*(video|audio)>)|(img[^>]*>)/.test(o)}copySubmissionData(e,n,r,i,s){return(0,o.A)((function*(){const o=C.AddonModAssign.getSubmissionPluginText(n,!0),i=C.AddonModAssign.getSubmissionPluginAttachments(n);let a=0;i.length&&(a=yield ye.AddonModAssignHelper.uploadFiles(e.id,i,s)),r.onlinetext_editor={text:o,format:w.C9,itemid:a}}))()}getComponent(){return(0,o.A)((function*(){const{AddonModAssignSubmissionOnlineTextComponent:e}=yield Promise.all([r.e(41450),r.e(12027)]).then(r.bind(r,12027));return e}))()}getPluginFiles(e,n,r){return C.AddonModAssign.getSubmissionPluginAttachments(r)}getSizeForCopy(e,n){return(0,o.A)((function*(){const e=C.AddonModAssign.getSubmissionPluginText(n,!0),r=C.AddonModAssign.getSubmissionPluginAttachments(n),o=yield E.CoreFileHelper.getTotalFilesSize(r);return e.length+o}))()}getSizeForEdit(e,n,r){return C.AddonModAssign.getSubmissionPluginText(r,!0).length}getTextToSubmit(e,n){return E.CoreFileHelper.restorePluginfileUrls(n.onlinetext_editor_text,e.fileareas&&e.fileareas[0]&&e.fileareas[0].files||[]||[])}hasDataChanged(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield A.g.ignoreErrors(b.AddonModAssignOffline.getSubmission(e.id,n.userid));let a="";return a=o&&o.plugindata&&o.plugindata.onlinetext_editor?o.plugindata.onlinetext_editor.text:r.editorfields&&r.editorfields[0]?r.editorfields[0].text:"",a!=s.getTextToSubmit(r,i)}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForEdit(){return!0}prepareSubmissionData(e,n,r,o,i){let s=this.getTextToSubmit(r,o);const a=ye.AddonModAssignHelper.getPluginConfig(e,"assignsubmission",r.type);if(parseInt(a.wordlimitenabled,10)){const e=w.Ni.countWords(s),n=parseInt(a.wordlimit,10);if(e>n){const r=_.HT.instant("addon.mod_assign_submission_onlinetext.wordlimitexceeded",{$a:{count:e,limit:n}});throw new Ie.CoreError(r)}}s=w.Ni.formatHtmlLines(s),i.onlinetext_editor={text:s,format:w.C9,itemid:0}}prepareSyncData(e,n,r,o,i){const s=(o&&o.plugindata).onlinetext_editor;s&&(i.onlinetext_editor=s)}}return(e=AddonModAssignSubmissionOnlineTextHandlerService).ɵfac=function AddonModAssignSubmissionOnlineTextHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignSubmissionOnlineTextHandlerService})();const Me=(0,_.Qd)(De);let Te=(()=>{var e;class AddonModAssignSubmissionOnlineTextModule{}return(e=AddonModAssignSubmissionOnlineTextModule).ɵfac=function AddonModAssignSubmissionOnlineTextModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{he.AddonModAssignSubmissionDelegate.registerHandler(Me.instance)}}]}),AddonModAssignSubmissionOnlineTextModule})(),Pe=(()=>{var e;class AddonModAssignSubmissionModule{}return(e=AddonModAssignSubmissionModule).ɵfac=function AddonModAssignSubmissionModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({imports:[ve,Ee,Te]}),AddonModAssignSubmissionModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(Pe,{imports:[ve,Ee,Te]}));var ke=r(94114),xe=r(6007),Fe=r(93417);function getModAssignServices(){return _getModAssignServices.apply(this,arguments)}function _getModAssignServices(){return(_getModAssignServices=(0,o.A)((function*(){const{AddonModAssignProvider:e}=yield Promise.resolve().then(r.bind(r,5505)),{AddonModAssignOfflineProvider:n}=yield Promise.resolve().then(r.bind(r,4175)),{AddonModAssignSyncProvider:o}=yield Promise.resolve().then(r.bind(r,75217)),{AddonModAssignHelperProvider:i}=yield Promise.resolve().then(r.bind(r,20218)),{AddonModAssignFeedbackDelegateService:s}=yield Promise.resolve().then(r.bind(r,62007)),{AddonModAssignSubmissionDelegateService:a}=yield Promise.resolve().then(r.bind(r,95790));return[e,n,o,i,s,a]}))).apply(this,arguments)}function getModAssignComponentModules(){return _getModAssignComponentModules.apply(this,arguments)}function _getModAssignComponentModules(){return(_getModAssignComponentModules=(0,o.A)((function*(){const{AddonModAssignSubmissionPluginComponent:e}=yield r.e(58841).then(r.bind(r,58841)),{AddonModAssignFeedbackPluginComponent:n}=yield r.e(29905).then(r.bind(r,29905));return[e,n]}))).apply(this,arguments)}const Oe=[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(81679),r.e(78497),r.e(72076),r.e(54181)]).then(r.bind(r,54181))},{path:":courseId/:cmId/edit",loadComponent:()=>r.e(45755).then(r.bind(r,45755)),canDeactivate:[xe.V]}],Re=[...Oe,{path:":courseId/:cmId/submission",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(91005)]).then(r.bind(r,91005))},{path:":courseId/:cmId/submission/:submitId",loadComponent:()=>Promise.all([r.e(33285),r.e(81679),r.e(72076),r.e(85852)]).then(r.bind(r,16837))}],Ne=[...Oe,{path:":courseId/:cmId/submission",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(91005)]).then(r.bind(r,91005)),loadChildren:()=>[{path:":submitId",loadComponent:()=>Promise.all([r.e(33285),r.e(81679),r.e(72076),r.e(85852)]).then(r.bind(r,16837))}]}],Le=[{path:V.gU,loadChildren:()=>[...(0,ke.VI)(Re,(()=>Fe.CoreScreen.isMobile)),...(0,ke.VI)(Ne,(()=>Fe.CoreScreen.isTablet))]}];let He=(()=>{var e;class AddonModAssignModule{}return(e=AddonModAssignModule).ɵfac=function AddonModAssignModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:v.CORE_SITE_SCHEMAS,useValue:[B.A2],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{c.CoreCourseModuleDelegate.registerHandler(Y.instance),s.CoreContentLinksDelegate.registerHandler(z.instance),s.CoreContentLinksDelegate.registerHandler(K.instance),u.CoreCourseModulePrefetchDelegate.registerHandler(J.H.instance),g.CoreCronDelegate.register(ie.instance),f.CorePushNotificationsDelegate.registerClickHandler(ne.instance),a.CoreCourseHelper.registerModuleReminderClick(V.It)}}],imports:[p.b.forChild(Le),Pe,U]}),AddonModAssignModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(He,{imports:[p.b,Pe,U]}))},57102:(e,n,r)=>{"use strict";r.d(n,{L:()=>a});var o=r(10467),i=r(91416),s=r(54438);let a=(()=>{var e;class AddonModAssignSubmissionPluginBaseComponent{constructor(){this.edit=!1,this.allowOffline=!1}invalidate(){return(0,o.A)((function*(){}))()}}return(e=AddonModAssignSubmissionPluginBaseComponent).ɵfac=function AddonModAssignSubmissionPluginBaseComponent_Factory(n){return new(n||e)},e.ɵcmp=s.VBU({type:e,selectors:[["ng-component"]],inputs:{assign:"assign",submission:"submission",plugin:"plugin",configs:"configs",edit:[s.Mj6.HasDecoratorInputTransform,"edit","edit",i.G],allowOffline:[s.Mj6.HasDecoratorInputTransform,"allowOffline","allowOffline",i.G]},features:[s.GFd],decls:0,vars:0,template:function AddonModAssignSubmissionPluginBaseComponent_Template(e,n){},encapsulation:2}),AddonModAssignSubmissionPluginBaseComponent})()},66016:(e,n,r)=>{"use strict";r.d(n,{$P:()=>C,AC:()=>i,Ad:()=>f,Bq:()=>_,Cu:()=>A,It:()=>s,KZ:()=>c,_K:()=>v,aE:()=>E,dY:()=>p,dl:()=>b,gU:()=>a,hq:()=>I,ph:()=>u,ze:()=>g,zi:()=>w});var o=r(86123);const i="AddonModAssign",s="mmaModAssign",a="mod_assign",c="assign",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="AddonModAssignSyncCronHandler",f="addon_mod_assign_submission_saved",g="addon_mod_assign_submission_removed",v="addon_mod_assign_submitted_for_grading",C="addon_mod_assign_graded",b="addon_mod_assign_started",w="addon_mod_assign_autom_synced",A="addon_mod_assign_manual_synced",_=-1,E="warnrequired",I="warnoptional"},20218:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModAssignHelper:()=>E,AddonModAssignHelperProvider:()=>_});var o=r(10467),i=r(16082),s=r(52749),a=r(5505),c=r(4175),u=r(58364),p=r(45507),f=r(15221),g=r(95790),v=r(62007),C=r(79555),b=r(66016),w=r(55554),A=r(54438);let _=(()=>{var e;class AddonModAssignHelperProvider{calculateEndTime(e,n){const r=((null==n?void 0:n.timestarted)||0)+(e.timelimit||0);return e.duedate?Math.min(r,e.duedate):e.cutoffdate?Math.min(r,e.cutoffdate):r}clearSubmissionPluginTmpData(e,n,r){var o;n&&(null===(o=n.plugins)||void 0===o||o.forEach((o=>{g.AddonModAssignSubmissionDelegate.clearTmpData(e,n,o,r)})))}copyPreviousAttempt(e,n){return(0,o.A)((function*(){const r={},o=n.plugins?n.plugins.map((n=>g.AddonModAssignSubmissionDelegate.copyPluginSubmissionData(e,n,r))):[];if(yield Promise.all(o),Object.keys(r).length)return a.AddonModAssign.saveSubmissionOnline(e.id,r)}))()}createEmptyFeedback(){return{grade:void 0,gradefordisplay:"",gradeddate:0}}createEmptySubmission(){return{id:0,userid:0,attemptnumber:0,timecreated:0,timemodified:0,status:"new",groupid:0}}deleteStoredSubmissionFiles(e,n,r,i){return(0,o.A)((function*(){const o=yield c.AddonModAssignOffline.getSubmissionPluginFolder(e,n,r,i);yield p.CoreFile.removeDir(o)}))()}discardFeedbackPluginData(e,n,r,i){return(0,o.A)((function*(){const o=r.plugins?r.plugins.map((r=>v.AddonModAssignFeedbackDelegate.discardPluginFeedbackData(e,n,r,i))):[];yield Promise.all(o)}))()}isSubmissionEmpty(e,n){var r;if(!n)return!0;return!(null===(r=n.plugins)||void 0===r?void 0:r.some((n=>!g.AddonModAssignSubmissionDelegate.isPluginEmpty(e,n))))}isSubmissionEmptyForEdit(e,n,r){var o;return!(null===(o=n.plugins)||void 0===o?void 0:o.some((n=>!g.AddonModAssignSubmissionDelegate.isPluginEmptyForEdit(e,n,r))))}getParticipants(e,n,r={}){return(0,o.A)((function*(){n=n||0,r.siteId=r.siteId||s.CoreSites.getCurrentSiteId();const o={cmId:e.cmid,...r},i=yield a.AddonModAssign.listParticipants(e.id,n,o);if(n||i&&i.length>0)return i;const c=yield f.CoreGroups.getActivityGroupInfo(e.cmid,!1,void 0,o.siteId),p={},g=c.groups?c.groups.map((n=>a.AddonModAssign.listParticipants(e.id,n.id,o).then((e=>{e.forEach((e=>{p[e.id]=e}))})))):[];return yield Promise.all(g),u.T.toArray(p)}))()}getPluginConfig(e,n,r){const o={};return e.configs.forEach((e=>{e.subtype==n&&e.plugin==r&&(o[e.name]=e.value)})),o}getPluginsEnabled(e,n){const r=[];return e.configs.forEach((e=>{e.subtype==n&&"enabled"==e.name&&1===parseInt(e.value,10)&&r.push({type:e.plugin,name:e.plugin})})),r}getStoredSubmissionFiles(e,n,r,i){return(0,o.A)((function*(){const o=yield c.AddonModAssignOffline.getSubmissionPluginFolder(e,n,r,i);return p.CoreFile.getDirectoryContents(o)}))()}getSubmissionSizeForCopy(e,n){return(0,o.A)((function*(){let r=0;const o=n.plugins?n.plugins.map((n=>g.AddonModAssignSubmissionDelegate.getPluginSizeForCopy(e,n).then((e=>{r+=e||0})))):[];return yield Promise.all(o),r}))()}getSubmissionSizeForEdit(e,n,r){return(0,o.A)((function*(){let o=0;const i=n.plugins?n.plugins.map((i=>g.AddonModAssignSubmissionDelegate.getPluginSizeForEdit(e,n,i,r).then((e=>{o+=e||0})))):[];return yield Promise.all(i),o}))()}getSubmissionsUserData(e,n=[],r,i={}){var s=this;return(0,o.A)((function*(){const o=yield s.getParticipants(e,r,i),a=!!e.blindmarking&&!e.revealidentities,c=!!e.teamsubmission;return c&&(n=n.filter((e=>0==e.userid))),o.map((e=>{var r;const o=null!==(r=e.groupid)&&void 0!==r?r:e.groups&&e.groups[0]?e.groups[0].id:0,i=n.find((n=>{if(c)return n.groupid==o;return e.id==(n.userid&&n.userid>0?n.userid:n.blindid)}));let u;var p;(i?u=Object.assign({},i):(u=s.createEmptySubmission(),u.groupid=o,u.status=e.submitted?"submitted":"new"),u.submitid=e.id,a?u.blindid=e.id:(u.userid=e.id,u.userfullname=e.fullname,u.userprofileimageurl=e.profileimageurl),u.manyGroups=!!e.groups&&e.groups.length>1,u.noGroups=!!e.groups&&0==e.groups.length,e.groupname)&&(u.groupid=null!==(p=e.groupid)&&void 0!==p?p:0,u.groupname=e.groupname);return u}))}))()}hasFeedbackDataChanged(e,n,r,i,s){return(0,o.A)((function*(){if(!n||!r.plugins)return!1;let o=!1;const a=r.plugins.map((r=>v.AddonModAssignFeedbackDelegate.hasPluginDataChanged(e,n,r,s,i).then((e=>{e&&(o=!0)})).catch((()=>{}))));return yield w.g.allPromises(a),o}))()}hasSubmissionDataChanged(e,n,r){return(0,o.A)((function*(){if(!n||!n.plugins)return!1;let o=!1;const i=n.plugins.map((i=>g.AddonModAssignSubmissionDelegate.hasPluginDataChanged(e,n,i,r).then((e=>{e&&(o=!0)})).catch((()=>{}))));return yield w.g.allPromises(i),o}))()}prepareFeedbackPluginData(e,n,r,i,s){return(0,o.A)((function*(){const o={},a=r.plugins?r.plugins.map((r=>v.AddonModAssignFeedbackDelegate.preparePluginFeedbackData(e,n,r,o,i,s))):[];return yield Promise.all(a),o}))()}prepareSubmissionPluginData(e,n,r,i=!1){return(0,o.A)((function*(){if(!n||!n.plugins)return{};const o={},s=n.plugins.map((s=>g.AddonModAssignSubmissionDelegate.preparePluginSubmissionData(e,n,s,r,o,i)));return yield Promise.all(s),o}))()}shouldFetchUnfilteredFeedbackToEdit(e,n,r){return(0,o.A)((function*(){var o;if(!r)return!1;if(yield w.g.promiseWorks(c.AddonModAssignOffline.getSubmissionGrade(e.id,n)))return!1;return(yield Promise.all((null!==(o=r.plugins)&&void 0!==o?o:[]).map((o=>v.AddonModAssignFeedbackDelegate.canPluginContainFiltersWhenEditing(e,n,r,o))))).some((e=>e))}))()}shouldFetchUnfilteredSubmissionToEdit(e,n){return(0,o.A)((function*(){var r;if(!n)return!1;if(a.AddonModAssign.isNewOrReopenedSubmission(n.status))return!1;if(yield w.g.promiseWorks(c.AddonModAssignOffline.getSubmission(e.id,n.userid)))return!1;return(yield Promise.all((null!==(r=n.plugins)&&void 0!==r?r:[]).map((r=>g.AddonModAssignSubmissionDelegate.canPluginContainFiltersWhenEditing(e,n,r))))).some((e=>e))}))()}storeSubmissionFiles(e,n,r,s,a){return(0,o.A)((function*(){const o=yield c.AddonModAssignOffline.getSubmissionPluginFolder(e,n,s,a);return i.CoreFileUploader.storeFilesToUpload(o,r)}))()}uploadFile(e,n,r,o){return i.CoreFileUploader.uploadOrReuploadFile(n,r,b.It,e,o)}uploadFiles(e,n,r){return i.CoreFileUploader.uploadOrReuploadFiles(n,b.It,e,r)}uploadOrStoreFiles(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){return i?c.storeSubmissionFiles(e,n,r,s,a):c.uploadFiles(e,r,a)}))()}}return(e=AddonModAssignHelperProvider).ɵfac=function AddonModAssignHelperProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignHelperProvider})();const E=(0,C.Qd)(_)},4175:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModAssignOffline:()=>b,AddonModAssignOfflineProvider:()=>C});var o=r(10467),i=r(75629),s=r(45507),a=r(52749),c=r(75383),u=r(24742),p=r(79555),f=r(8756),g=r(6969),v=r(54438);let C=(()=>{var e;class AddonModAssignOfflineProvider{deleteSubmission(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);n=n||o.getUserId(),yield o.getDb().deleteRecords(g.P5,{assignid:e,userid:n})}))()}deleteSubmissionGrade(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);n=n||o.getUserId(),yield o.getDb().deleteRecords(g.K4,{assignid:e,userid:n})}))()}getAllAssigns(e){var n=this;return(0,o.A)((function*(){const r=[];r.push(n.getAllSubmissions(e)),r.push(n.getAllSubmissionsGrade(e));let o=(yield Promise.all(r)).flat().map((e=>e.assignid));return o=o.filter(((e,n)=>o.indexOf(e)==n)),o}))()}getAllSubmissions(e){var n=this;return(0,o.A)((function*(){return n.getAssignSubmissionsFormatted(void 0,e)}))()}getAssignSubmissions(e,n){var r=this;return(0,o.A)((function*(){return r.getAssignSubmissionsFormatted({assignid:e},n)}))()}getAssignSubmissionsFormatted(e={},n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSiteDb(n);return(yield r.getRecords(g.P5,e)).map((e=>({assignid:e.assignid,userid:e.userid,courseid:e.courseid,plugindata:c.Ni.parseJSON(e.plugindata,{}),onlinetimemodified:e.onlinetimemodified,timecreated:e.timecreated,timemodified:e.timemodified,submitted:e.submitted,submissionstatement:e.submissionstatement})))}))()}getAllSubmissionsGrade(e){var n=this;return(0,o.A)((function*(){return n.getAssignSubmissionsGradeFormatted(void 0,e)}))()}getAssignSubmissionsGrade(e,n){var r=this;return(0,o.A)((function*(){return r.getAssignSubmissionsGradeFormatted({assignid:e},n)}))()}getAssignSubmissionsGradeFormatted(e={},n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSiteDb(n);return(yield r.getRecords(g.K4,e)).map((e=>({assignid:e.assignid,userid:e.userid,courseid:e.courseid,grade:e.grade,attemptnumber:e.attemptnumber,addattempt:e.addattempt,workflowstate:e.workflowstate,applytoall:e.applytoall,outcomes:c.Ni.parseJSON(e.outcomes,{}),plugindata:c.Ni.parseJSON(e.plugindata,{}),timemodified:e.timemodified})))}))()}getSubmission(e,n,r){var s=this;return(0,o.A)((function*(){n=n||a.CoreSites.getCurrentSiteUserId();const o=yield s.getAssignSubmissionsFormatted({assignid:e,userid:n},r);if(o.length)return o[0];throw new i.CoreError("No records found.")}))()}getSubmissionFolder(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);n=n||o.getUserId();const i=s.CoreFile.getSiteFolder(o.getId());return f.$.concatenatePaths(i,`offlineassign/${e}/${n}`)}))()}getSubmissionGrade(e,n,r){var s=this;return(0,o.A)((function*(){n=n||a.CoreSites.getCurrentSiteUserId();const o=yield s.getAssignSubmissionsGradeFormatted({assignid:e,userid:n},r);if(o.length)return o[0];throw new i.CoreError("No records found.")}))()}getSubmissionPluginFolder(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield s.getSubmissionFolder(e,r,i);return f.$.concatenatePaths(o,n)}))()}hasAssignOfflineData(e,n){var r=this;return(0,o.A)((function*(){const o=[];o.push(r.getAssignSubmissions(e,n)),o.push(r.getAssignSubmissionsGrade(e,n));try{return(yield Promise.all(o)).some((e=>e.length))}catch{return!1}}))()}markSubmitted(e,n,r,i,s,c,p){var f=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(p);let v;c=c||o.getUserId();try{const n=yield f.getSubmission(e,c,o.getId());v=Object.assign(n,{plugindata:n.plugindata?JSON.stringify(n.plugindata):"{}",submitted:r?1:0,submissionstatement:i?1:0})}catch{const o=u.j.timestamp();v={assignid:e,courseid:n,userid:c,onlinetimemodified:s,timecreated:o,timemodified:o,plugindata:"{}",submitted:r?1:0,submissionstatement:i?1:0}}return o.getDb().insertRecord(g.P5,v)}))()}saveSubmission(e,n,r,i,s,c,p){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(p);c=c||o.getUserId();const f=u.j.timestamp(),v={assignid:e,courseid:n,plugindata:r?JSON.stringify(r):"{}",userid:c,submitted:s?1:0,timecreated:f,timemodified:f,onlinetimemodified:i};return o.getDb().insertRecord(g.P5,v)}))()}submitGradingForm(e,n,r,i,s,c,p,f,v,C,b){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(b),w=u.j.timestamp(),A={assignid:e,userid:n,courseid:r,grade:i,attemptnumber:s,addattempt:c?1:0,workflowstate:p,applytoall:f?1:0,outcomes:v?JSON.stringify(v):"{}",plugindata:C?JSON.stringify(C):"{}",timemodified:w};return o.getDb().insertRecord(g.K4,A)}))()}}return(e=AddonModAssignOfflineProvider).ɵfac=function AddonModAssignOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignOfflineProvider})();const b=(0,p.Qd)(C)},75217:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModAssignSync:()=>F,AddonModAssignSyncProvider:()=>x});var o=r(10467),i=r(49882),s=r(52749),a=r(42008),c=r(5505),u=r(79555),p=r(44682),f=r(37690),g=r(4175),v=r(48966),C=r(97254),b=r(43411),w=r(94455),A=r(49446),_=r(97383),E=r(95790),I=r(62007),T=r(66016),P=r(55554),k=r(54438);let x=(()=>{var e;class AddonModAssignSyncProvider extends f.L{constructor(){super("AddonModAssignSyncProvider"),this.componentTranslatableString=T.KZ}getGradeSyncId(e,n){return`assignGrade#${e}#${n}`}getSelectedScaleId(e,n){let r=e.split(",");r=r.map((e=>e.trim())),r.unshift("");const o=e.indexOf(n)||0;return o<0?0:o}hasDataToSync(e,n){return g.AddonModAssignOffline.hasAssignOfflineData(e,n)}syncAllAssignments(e,n){return this.syncOnSites("all assignments",(e=>this.syncAllAssignmentsFunc(!!n,e)),e)}syncAllAssignmentsFunc(e,n){var r=this;return(0,o.A)((function*(){const s=yield g.AddonModAssignOffline.getAllAssigns(n);yield Promise.all(s.map(function(){var s=(0,o.A)((function*(o){const s=e?yield r.syncAssign(o,n):yield r.syncAssignIfNeeded(o,n);null!=s&&s.updated&&i.z.trigger(T.zi,{assignId:o,warnings:s.warnings,gradesBlocked:s.gradesBlocked},n)}));return function(e){return s.apply(this,arguments)}}()))}))()}syncAssignIfNeeded(e,n){var r=this;return(0,o.A)((function*(){if(yield r.isSyncNeeded(e,n))return r.syncAssign(e,n)}))()}syncAssign(e,n){var r=this;return(0,o.A)((function*(){n=n||s.CoreSites.getCurrentSiteId();const o=r.getOngoingSync(e,n);if(o)return o;if(v.CoreSync.isBlocked(T.AC,e,n))throw r.logger.debug(`Cannot sync assign ${e} because it is blocked.`),new a.D(u.HT.instant("core.errorsyncblocked",{$a:r.componentTranslate}));r.logger.debug(`Try to sync assign ${e} in site ${n}`);const i=r.performSyncAssign(e,n);return r.addOngoingSync(e,i,n)}))()}performSyncAssign(e,n){var r=this;return(0,o.A)((function*(){yield P.g.ignoreErrors(C.CoreCourseLogHelper.syncActivity(T.It,e,n));const i={warnings:[],updated:!1,gradesBlocked:[]},[s,u]=yield Promise.all([r.getOfflineSubmissions(e,n),r.getOfflineGrades(e,n)]);if(!s.length&&!u.length)return yield P.g.ignoreErrors(r.setSyncTime(e,n)),i;if(!w.WE.isOnline())throw new A.CoreNetworkError;const p=s.length>0?s[0].courseid:u[0].courseid,f=yield c.AddonModAssign.getAssignmentById(p,e,{siteId:n});let g=[];return g=g.concat(s.map(function(){var e=(0,o.A)((function*(e){yield r.syncSubmission(f,e,i.warnings,n),i.updated=!0}));return function(n){return e.apply(this,arguments)}}())),g=g.concat(u.map(function(){var e=(0,o.A)((function*(e){try{yield r.syncSubmissionGrade(f,e,i.warnings,p,n),i.updated=!0}catch(n){if(!(n instanceof a.D))throw n;i.gradesBlocked.push(e.userid)}}));return function(n){return e.apply(this,arguments)}}())),yield P.g.allPromises(g),i.updated&&(yield P.g.ignoreErrors(c.AddonModAssign.invalidateContent(f.cmid,p,n))),yield P.g.ignoreErrors(r.setSyncTime(e,n)),i}))()}getOfflineGrades(e,n){return(0,o.A)((function*(){return P.g.ignoreErrors(g.AddonModAssignOffline.getAssignSubmissionsGrade(e,n),[])}))()}getOfflineSubmissions(e,n){return(0,o.A)((function*(){return P.g.ignoreErrors(g.AddonModAssignOffline.getAssignSubmissions(e,n),[])}))()}syncSubmission(e,n,r,i){var s=this;return(0,o.A)((function*(){const o={},a={userId:n.userid,cmId:e.cmid,readingStrategy:2,siteId:i},p=yield c.AddonModAssign.getSubmissionStatus(e,a),f=c.AddonModAssign.getSubmissionObjectFromAttempt(e,p.lastattempt);if(f&&f.timemodified!=n.onlinetimemodified)return s.addOfflineDataDeletedWarning(r,e.name,u.HT.instant("addon.mod_assign.warningsubmissionmodified")),s.deleteSubmissionData(e,n,f,i);try{0==Object.keys(n.plugindata).length?yield c.AddonModAssign.removeSubmissionOnline(e.id,n.userid,i):(null!=f&&f.plugins&&(yield Promise.all(f.plugins.map((r=>E.AddonModAssignSubmissionDelegate.preparePluginSyncData(e,f,r,n,o,i))))),yield c.AddonModAssign.saveSubmissionOnline(e.id,o,i),e.submissiondrafts&&n.submitted&&(yield c.AddonModAssign.submitForGradingOnline(e.id,!!n.submissionstatement,i))),c.AddonModAssign.getSubmissionStatus(e,a)}catch(n){if(!b.CoreWSError.isWebServiceError(n))throw n;s.addOfflineDataDeletedWarning(r,e.name,n)}yield s.deleteSubmissionData(e,n,f,i)}))()}deleteSubmissionData(e,n,r,i){return(0,o.A)((function*(){yield g.AddonModAssignOffline.deleteSubmission(e.id,n.userid,i),null!=r&&r.plugins&&(yield Promise.all(r.plugins.map((o=>E.AddonModAssignSubmissionDelegate.deletePluginOfflineData(e,r,o,n,i)))))}))()}syncSubmissionGrade(e,n,r,i,s){var f=this;return(0,o.A)((function*(){var o;const C=n.userid,w=f.getGradeSyncId(e.id,C),A={userId:C,cmId:e.cmid,readingStrategy:2,siteId:s};if(v.CoreSync.isBlocked(T.AC,w,s))throw f.logger.error(`Cannot sync grade for assign ${e.id} and user ${C} because it is blocked.!!!!`),new a.D(u.HT.instant("core.errorsyncblocked",{$a:u.HT.instant("addon.mod_assign.syncblockedusercomponent")}));const E=yield c.AddonModAssign.getSubmissionStatus(e,A);if((E.feedback&&(E.feedback.gradeddate||(null===(o=E.feedback.grade)||void 0===o?void 0:o.timemodified))||0)>n.timemodified)return f.addOfflineDataDeletedWarning(r,e.name,u.HT.instant("addon.mod_assign.warningsubmissiongrademodified")),g.AddonModAssignOffline.deleteSubmissionGrade(e.id,C,s);const k=yield _.CoreGradesHelper.getGradeModuleItems(i,e.cmid,C,void 0,s,!0),x=yield p.CoreCourse.getModuleBasicGradeInfo(e.cmid,s);k.forEach((e=>{(e.gradedategraded||0)>=n.timemodified&&(e.outcomeid||e.scaleid?x&&e.outcomeid&&x.outcomes&&x.outcomes.forEach(((r,o)=>{r.scale&&e.itemnumber==o&&(n.outcomes[e.itemnumber]=f.getSelectedScaleId(r.scale,e.grade||""))})):n.grade=x&&x.scale?f.getSelectedScaleId(x.scale,e.grade||""):parseFloat(e.grade||""))}));try{yield c.AddonModAssign.submitGradingFormOnline(e.id,C,n.grade,n.attemptnumber,!!n.addattempt,n.workflowstate,!!n.applytoall,n.outcomes,n.plugindata,s);let r=[];E.feedback&&E.feedback.plugins&&(r=E.feedback.plugins.map((n=>I.AddonModAssignFeedbackDelegate.discardPluginFeedbackData(e.id,C,n,s)))),r.push(c.AddonModAssign.getSubmissionStatus(e,A)),yield P.g.allPromises(r)}catch(n){if(!b.CoreWSError.isWebServiceError(n))throw n;f.addOfflineDataDeletedWarning(r,e.name,n)}yield g.AddonModAssignOffline.deleteSubmissionGrade(e.id,C,s)}))()}}return(e=AddonModAssignSyncProvider).ɵfac=function AddonModAssignSyncProvider_Factory(n){return new(n||e)},e.ɵprov=k.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignSyncProvider})();const F=(0,u.Qd)(x)},5505:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModAssign:()=>x,AddonModAssignProvider:()=>k});var o=r(10467),i=r(52749),s=r(54024),a=r(79555),c=r(27338),u=r(24742),p=r(97254),f=r(75629),g=r(94455),v=r(4175),C=r(95790),b=r(54638),w=r(43411),A=r(88436),_=r(55351),E=r(74431),I=r(66016),T=r(95384),P=r(54438);let k=(()=>{var e;class AddonModAssignProvider{canSubmitOffline(e,n){if(!this.isSubmissionOpen(e,n))return!1;const r=null==n?void 0:n.submission,o=null==n?void 0:n.teamsubmission;if(o){if("submitted"===o.status)return!1;if(r&&"submitted"===r.status)return!1;if(e.preventsubmissionnotingroup&&(null==n||!n.submissiongroup))return!1}else{if(!r)return!1;if("submitted"===r.status)return!1}return!!e.submissiondrafts}fixSubmissionStatusParams(e,n,r,o=!1){return{isBlind:!!n&&!!o,groupId:r||0,userId:n||e.getUserId()}}getAssignment(e,n,r={}){return this.getAssignmentByField(e,"cmid",n,r)}getAssignmentByField(e,n,r,s={}){var a=this;return(0,o.A)((function*(){var o;const c=yield i.CoreSites.getSite(s.siteId),u={courseids:[e],includenotenrolledcourses:!0},p={cacheKey:a.getAssignmentCacheKey(e),updateFrequency:E.CoreCacheUpdateFrequency.RARELY,component:I.It,...i.CoreSites.getReadingStrategyPreSets(s.readingStrategy)};let f;try{f=yield c.read("mod_assign_get_assignments",u,p)}catch{delete u.includenotenrolledcourses,f=yield c.read("mod_assign_get_assignments",u,p)}return T.CoreCourseModuleHelper.getActivityByField(null===(o=f.courses)||void 0===o?void 0:o[0].assignments,n,r)}))()}getAssignmentById(e,n,r={}){return this.getAssignmentByField(e,"id",n,r)}getAssignmentCacheKey(e){return`${AddonModAssignProvider.ROOT_CACHE_KEY}assignment:${e}`}getAssignmentUserMappings(e,n,r={}){var s=this;return(0,o.A)((function*(){if(!n||n<0)return-1;const o=yield i.CoreSites.getSite(r.siteId),a={assignmentids:[e]},c={cacheKey:s.getAssignmentUserMappingsCacheKey(e),updateFrequency:E.CoreCacheUpdateFrequency.OFTEN,component:I.It,componentId:r.cmId,...i.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield o.read("mod_assign_get_user_mappings",a,c);if(u.assignments.length&&u.assignments[0].assignmentid==e){const e=u.assignments[0].mappings.find((e=>e.userid==n));if(e)return e.id}else if(u.warnings&&u.warnings.length)throw u.warnings[0];throw new f.CoreError("Assignment user mappings not found")}))()}getAssignmentUserMappingsCacheKey(e){return`${AddonModAssignProvider.ROOT_CACHE_KEY}usermappings:${e}`}getAssignmentGrades(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n.siteId),s={assignmentids:[e]},a={cacheKey:r.getAssignmentGradesCacheKey(e),component:I.It,componentId:n.cmId,...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},c=yield o.read("mod_assign_get_grades",s,a);if(c.assignments.length&&c.assignments[0].assignmentid==e)return c.assignments[0].grades;if(c.warnings&&c.warnings.length){if("3"==c.warnings[0].warningcode)return[];throw c.warnings[0]}throw new f.CoreError("Assignment grades not found.")}))()}getAssignmentGradesCacheKey(e){return`${AddonModAssignProvider.ROOT_CACHE_KEY}assigngrades:${e}`}getSubmissionGradingStatusColor(e){return e?"graded"==e||"released"==e?_.$.SUCCESS:_.$.DANGER:_.$.NONE}getSubmissionGradingStatusTranslationId(e){if(e)return"graded"===e||"notgraded"===e||"gradedfollowupsubmit"===e?`addon.mod_assign.${e}`:`addon.mod_assign.markingworkflowstate${e}`}getSubmissionObjectFromAttempt(e,n){if(n)return e.teamsubmission?n.teamsubmission:n.submission}getSubmissionPluginAttachments(e){if(!e.fileareas)return[];const n=[];return e.fileareas.forEach((e=>{e&&e.files&&e.files.forEach((e=>{e.filename||(e.filename=A.CoreFileHelper.getFilenameFromPath(e)),n.push(e)}))})),n}getSubmissionPluginText(e,n=!1){if(!e.editorfields)return"";let r="";return e.editorfields.forEach((e=>{r+=e.text})),!n&&e.fileareas&&e.fileareas[0]&&(r=A.CoreFileHelper.replacePluginfileUrls(r,e.fileareas[0].files||[])),r}getSubmissions(e,n={}){var r=this;return(0,o.A)((function*(){var o;const s=yield i.CoreSites.getSite(n.siteId),a={assignmentids:[e]},c={cacheKey:r.getSubmissionsCacheKey(e),updateFrequency:E.CoreCacheUpdateFrequency.OFTEN,component:I.It,componentId:n.cmId,...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},u=yield s.read("mod_assign_get_submissions",a,c);if(null!==(o=u.warnings)&&void 0!==o&&o.length&&"1"==u.warnings[0].warningcode)return{canviewsubmissions:!1};if(u.assignments&&u.assignments.length)return{canviewsubmissions:!0,submissions:u.assignments[0].submissions};throw new f.CoreError("Assignment submissions not found")}))()}getSubmissionsCacheKey(e){return`${AddonModAssignProvider.ROOT_CACHE_KEY}submissions:${e}`}getSubmissionStatus(e,n={}){var r=this;return(0,o.A)((function*(){const s=yield i.CoreSites.getSite(n.siteId),a=r.fixSubmissionStatusParams(s,n.userId,n.groupId,n.isBlind),c={assignid:e.id,userid:a.userId};a.groupId&&(c.groupid=a.groupId);const u={cacheKey:r.getSubmissionStatusCacheKey(e.id,a.userId,a.groupId,a.isBlind),getCacheUsingCacheKey:!0,component:I.It,componentId:n.cmId,...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy),...i.CoreSites.getFilterPresets(n.filter)};return!1!==n.checkFetchOriginal&&a.userId===s.getUserId()&&(u.fetchOriginalToo=function(){var n=(0,o.A)((function*(n){var o,i,s;if(null===(o=n.lastattempt)||void 0===o||!o.canedit)return!1;const a=r.getSubmissionObjectFromAttempt(e,n.lastattempt);if(!a||r.isNewOrReopenedSubmission(a.status))return!1;if((yield r.getUnsupportedEditPlugins(null!==(i=a.plugins)&&void 0!==i?i:[])).length>0)return!1;return(yield Promise.all((null!==(s=a.plugins)&&void 0!==s?s:[]).map((n=>C.AddonModAssignSubmissionDelegate.canPluginContainFiltersWhenEditing(e,a,n))))).some((e=>e))}));return function(e){return n.apply(this,arguments)}}()),s.read("mod_assign_get_submission_status",c,u)}))()}getSubmissionStatusWithRetry(e,n={}){var r=this;return(0,o.A)((function*(){n.cmId=n.cmId||e.cmid;const o=yield r.getSubmissionStatus(e,n);if(r.getSubmissionObjectFromAttempt(e,o.lastattempt))return o;const i={...n,readingStrategy:2};try{return yield r.getSubmissionStatus(e,i)}catch{return o}}))()}getSubmissionStatusCacheKey(e,n,r,o=!1){return this.getSubmissionsCacheKey(e)+":"+n+":"+(o?1:0)+":"+r}getSubmissionStatusColor(e){switch(e){case"submitted":return _.$.SUCCESS;case"draft":return _.$.INFO;case"new":case"noattempt":case"noonlinesubmissions":case"nosubmission":case"gradedfollowupsubmit":return _.$.DANGER;default:return _.$.LIGHT}}getUnsupportedEditPlugins(e){return(0,o.A)((function*(){const n=[],r=e.map((e=>C.AddonModAssignSubmissionDelegate.isPluginSupportedForEdit(e.type).then((r=>{r||n.push(e.name)}))));return yield Promise.all(r),n}))()}isNewOrReopenedSubmission(e){return"new"===e||"reopened"===e}listParticipants(e,n,r={}){var s=this;return(0,o.A)((function*(){n=n||0;const o=yield i.CoreSites.getSite(r.siteId),a={assignid:e,groupid:n,filter:""},c={cacheKey:s.listParticipantsCacheKey(e,n),updateFrequency:E.CoreCacheUpdateFrequency.OFTEN,component:I.It,componentId:r.cmId,...i.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};return o.read("mod_assign_list_participants",a,c)}))()}listParticipantsCacheKey(e,n){return this.listParticipantsPrefixCacheKey(e)+":"+n}listParticipantsPrefixCacheKey(e){return`${AddonModAssignProvider.ROOT_CACHE_KEY}participants:${e}`}invalidateAllSubmissionData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getSubmissionsCacheKey(e))}))()}invalidateAssignmentData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAssignmentCacheKey(e))}))()}invalidateAssignmentUserMappingsData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAssignmentUserMappingsCacheKey(e))}))()}invalidateAssignmentGradesData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAssignmentGradesCacheKey(e))}))()}invalidateContent(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId();const o=yield s.getAssignment(n,e,{siteId:r}),a=[];a.push(s.invalidateAllSubmissionData(o.id,r)),a.push(s.invalidateAssignmentUserMappingsData(o.id,r)),a.push(s.invalidateAssignmentGradesData(o.id,r)),a.push(s.invalidateListParticipantsData(o.id,r)),a.push(b.CoreComments.invalidateCommentsByInstance("module",o.id,r)),a.push(s.invalidateAssignmentData(n,r)),a.push(c.CoreGrades.invalidateAllCourseGradesData(n)),yield Promise.all(a)}))()}invalidateSubmissionData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getSubmissionsCacheKey(e))}))()}invalidateSubmissionStatusData(e,n,r,s=!1,a){var c=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(a),u=c.fixSubmissionStatusParams(o,n,r,s);yield o.invalidateWsCacheForKey(c.getSubmissionStatusCacheKey(e,u.userId,u.groupId,u.isBlind))}))()}invalidateListParticipantsData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.listParticipantsPrefixCacheKey(e))}))()}isSubmissionOpen(e,n){if(!e||!n)return!1;const r=u.j.timestamp(),o=this.getSubmissionObjectFromAttempt(e,n);let i,s=!0;return e.cutoffdate&&(i=e.cutoffdate),(!n||!n.locked)&&(i&&n&&n.extensionduedate&&n.extensionduedate>i&&(i=n.extensionduedate),s=i?e.allowsubmissionsfromdate<=r&&r<=i:e.allowsubmissionsfromdate<=r,!!s&&(!o||!e.submissiondrafts||"submitted"!=o.status))}logSubmissionView(e,n){return(0,o.A)((function*(){const r={assignid:e};yield p.CoreCourseLogHelper.log("mod_assign_view_submission_status",r,I.It,e,n)}))()}logGradingView(e,n){return(0,o.A)((function*(){const r={assignid:e};yield p.CoreCourseLogHelper.log("mod_assign_view_grading_table",r,I.It,e,n)}))()}logView(e,n){return(0,o.A)((function*(){const r={assignid:e};yield p.CoreCourseLogHelper.log("mod_assign_view_assign",r,I.It,e,n)}))()}needsSubmissionToBeGraded(e,n){var r=this;return(0,o.A)((function*(){if("submitted"!=e.status)return!1;if(!e.gradingstatus)return!0;if("graded"!=e.gradingstatus&&"released"!=e.gradingstatus)return!0;const o=yield r.getSubmissionStatus(n,{userId:e.submitid,isBlind:!!e.blindid});return!o.feedback||!o.feedback.gradeddate||o.feedback.gradeddate<e.timemodified}))()}saveSubmission(e,n,r,s,a=!1,c,u){var p=this;return(0,o.A)((function*(){u=u||i.CoreSites.getCurrentSiteId();const f=function(){var i=(0,o.A)((function*(){return yield v.AddonModAssignOffline.saveSubmission(e,n,r,s,!a,c,u),!1}));return function storeOffline(){return i.apply(this,arguments)}}();if(!g.WE.isOnline())return f();try{return yield v.AddonModAssignOffline.deleteSubmission(e,c,u),yield p.saveSubmissionOnline(e,r,u),!0}catch(e){if(e&&!w.CoreWSError.isWebServiceError(e))return f();throw e}}))()}saveSubmissionOnline(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),s={assignmentid:e,plugindata:n},a=yield o.write("mod_assign_save_submission",s);if(a.length)throw new w.CoreWSError(a[0])}))()}startSubmission(e,n){return(0,o.A)((function*(){var r;const o=yield i.CoreSites.getSite(n),s={assignid:e},a=yield o.write("mod_assign_start_submission",s);if(null===(r=a.warnings)||void 0===r||!r.length)return;const c=a.warnings.find((e=>"timelimitnotenabled"!==e.warningcode&&"opensubmissionexists"!==e.warningcode));if(c)throw new w.CoreWSError(c)}))()}submitForGrading(e,n,r,s,a=!1,c){var u=this;return(0,o.A)((function*(){c=c||i.CoreSites.getCurrentSiteId();const p=function(){var i=(0,o.A)((function*(){return yield v.AddonModAssignOffline.markSubmitted(e,n,!0,r,s,void 0,c),!1}));return function storeOffline(){return i.apply(this,arguments)}}();if(a||!g.WE.isOnline())return p();try{return yield v.AddonModAssignOffline.deleteSubmission(e,void 0,c),yield u.submitForGradingOnline(e,r,c),!0}catch(e){if(e&&!w.CoreWSError.isWebServiceError(e))return p();throw e}}))()}submitForGradingOnline(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),s={assignmentid:e,acceptsubmissionstatement:n},a=yield o.write("mod_assign_submit_for_grading",s);if(a.length)throw new w.CoreWSError(a[0])}))()}submitGradingForm(e,n,r,s,a,c,u,p,f,C,b){var A=this;return(0,o.A)((function*(){b=b||i.CoreSites.getCurrentSiteId();const _=function(){var i=(0,o.A)((function*(){return yield v.AddonModAssignOffline.submitGradingForm(e,n,r,s,a,c,u,p,f,C,b),!1}));return function storeOffline(){return i.apply(this,arguments)}}();if(!g.WE.isOnline())return _();try{return yield v.AddonModAssignOffline.deleteSubmissionGrade(e,n,b),yield A.submitGradingFormOnline(e,n,s,a,c,u,p,f,C,b),!0}catch(e){if(e&&!w.CoreWSError.isWebServiceError(e))return _();throw e}}))()}submitGradingFormOnline(e,n,r,a,c,u,p,f,g,v){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(v);n=n||o.getUserId();const C={grade:r,attemptnumber:a,addattempt:c?1:0,workflowstate:u,applytoall:p?1:0};for(const e in f)C["outcome_"+e+"["+n+"]"]=f[e];for(const e in g)C[e]=g[e];const b=s.z.serialize(C,!0),A={assignmentid:e,userid:n,jsonformdata:JSON.stringify(b)},_=yield o.write("mod_assign_submit_grading_form",A);if(_.length)throw new w.CoreWSError(_[0])}))()}removeSubmission(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId();const a=function(){var i=(0,o.A)((function*(){return yield v.AddonModAssignOffline.saveSubmission(e.id,e.course,{},n.timemodified,!!e.submissiondrafts,n.userid,r),!1}));return function storeOffline(){return i.apply(this,arguments)}}();if(s.isNewOrReopenedSubmission(n.status))return yield v.AddonModAssignOffline.deleteSubmission(e.id,n.userid,r),!1;if(!g.WE.isOnline())return a();try{const o=yield v.AddonModAssignOffline.getSubmission(e.id,n.userid,r);return o&&(n.plugins&&(yield Promise.all(n.plugins.map((i=>C.AddonModAssignSubmissionDelegate.deletePluginOfflineData(e,n,i,o,r))))),yield v.AddonModAssignOffline.deleteSubmission(e.id,n.userid,r)),yield s.removeSubmissionOnline(e.id,n.userid,r),!0}catch(e){if(e&&!w.CoreWSError.isWebServiceError(e))return a();throw e}}))()}removeSubmissionOnline(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);n=n||o.getUserId();const s={assignid:e,userid:n},a=yield o.write("mod_assign_remove_submission",s);var c;if(!a.status)throw null!==(c=a.warnings)&&void 0!==c&&c.length?new w.CoreWSError(a.warnings[0]):new f.CoreError("Error removing assignment submission.")}))()}isRemoveSubmissionAvailable(e){return(e=null!=e?e:i.CoreSites.getRequiredCurrentSite()).wsAvailable("mod_assign_remove_submission")}}return(e=AddonModAssignProvider).ROOT_CACHE_KEY="mmaModAssign:",e.ɵfac=function AddonModAssignProvider_Factory(n){return new(n||e)},e.ɵprov=P.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignProvider})();const x=(0,a.Qd)(k)},6969:(e,n,r)=>{"use strict";r.d(n,{A2:()=>s,K4:()=>i,P5:()=>o});const o="addon_mod_assign_submissions",i="addon_mod_assign_submissions_grading",s={name:"AddonModAssignOfflineProvider",version:1,tables:[{name:o,columns:[{name:"assignid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"plugindata",type:"TEXT"},{name:"onlinetimemodified",type:"INTEGER"},{name:"timecreated",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"submitted",type:"INTEGER"},{name:"submissionstatement",type:"INTEGER"}],primaryKeys:["assignid","userid"]},{name:i,columns:[{name:"assignid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"grade",type:"REAL"},{name:"attemptnumber",type:"INTEGER"},{name:"addattempt",type:"INTEGER"},{name:"workflowstate",type:"TEXT"},{name:"applytoall",type:"INTEGER"},{name:"outcomes",type:"TEXT"},{name:"plugindata",type:"TEXT"},{name:"timemodified",type:"INTEGER"}],primaryKeys:["assignid","userid"]}]}},62007:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModAssignFeedbackDelegate:()=>g,AddonModAssignFeedbackDelegateService:()=>f});var o=r(10467),i=r(59296),s=r(79555),a=r(52749),c=r(66016),u=r(54438),p=r(3379);let f=(()=>{var e;class AddonModAssignFeedbackDelegateService extends i.B{constructor(e){super("AddonModAssignFeedbackDelegate"),this.defaultHandler=e,this.handlerNameProperty="type"}isEnabled(){return(0,o.A)((function*(){return!(yield a.CoreSites.isFeatureDisabled(c.ph))}))()}canPluginContainFiltersWhenEditing(e,n,r,i){var s=this;return(0,o.A)((function*(){return yield s.executeFunctionOnEnabled(i.type,"canContainFiltersWhenEditing",[e,n,r,i])}))()}discardPluginFeedbackData(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(r.type,"discardDraft",[e,n,i])}))()}getComponentForPlugin(e){var n=this;return(0,o.A)((function*(){return n.executeFunctionOnEnabled(e.type,"getComponent",[e])}))()}getPluginDraftData(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(r.type,"getDraft",[e,n,i])}))()}getPluginFiles(e,n,r,i){var s=this;return(0,o.A)((function*(){return(yield s.executeFunctionOnEnabled(r.type,"getPluginFiles",[e,n,r,i]))||[]}))()}getPluginName(e){return this.executeFunctionOnEnabled(e.type,"getPluginName",[e])}hasPluginDataChanged(e,n,r,i,s){var a=this;return(0,o.A)((function*(){return a.executeFunctionOnEnabled(r.type,"hasDataChanged",[e,n,r,i,s])}))()}hasPluginDraftData(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(r.type,"hasDraftData",[e,n,i])}))()}isPluginSupported(e){return this.hasHandler(e,!0)}prefetch(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(r.type,"prefetch",[e,n,r,i])}))()}preparePluginFeedbackData(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){return c.executeFunctionOnEnabled(r.type,"prepareFeedbackData",[e,n,r,i,s,a])}))()}saveFeedbackDraft(e,n,r,i,s){var a=this;return(0,o.A)((function*(){return a.executeFunctionOnEnabled(r.type,"saveDraft",[e,n,r,i,s])}))()}}return(e=AddonModAssignFeedbackDelegateService).ɵfac=function AddonModAssignFeedbackDelegateService_Factory(n){return new(n||e)(u.KVO(p.W))},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignFeedbackDelegateService})();const g=(0,s.Qd)(f)},3379:(e,n,r)=>{"use strict";r.d(n,{W:()=>a});var o=r(10467),i=r(79555),s=r(54438);let a=(()=>{var e;class AddonModAssignDefaultFeedbackHandler{constructor(){this.name="AddonModAssignDefaultFeedbackHandler",this.type="default"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!0}))()}discardDraft(){}getDraft(){}getPluginFiles(){return[]}getPluginName(e){const n=`addon.mod_assign_feedback_${e.type}.pluginname`,r=i.HT.instant(n);return n!=r?r:e.name?e.name:""}hasDataChanged(){return(0,o.A)((function*(){return!1}))()}hasDraftData(){return(0,o.A)((function*(){return!1}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}prefetch(){return(0,o.A)((function*(){}))()}prepareFeedbackData(){}saveDraft(){}}return(e=AddonModAssignDefaultFeedbackHandler).ɵfac=function AddonModAssignDefaultFeedbackHandler_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignDefaultFeedbackHandler})()},81672:(e,n,r)=>{"use strict";r.d(n,{x:()=>a});var o=r(10467),i=r(79555),s=r(54438);let a=(()=>{var e;class AddonModAssignDefaultSubmissionHandler{constructor(){this.name="AddonModAssignBaseSubmissionHandler",this.type="base"}canContainFiltersWhenEditing(){return(0,o.A)((function*(){return!0}))()}isEmpty(){return!0}isEmptyForEdit(){return!0}clearTmpData(){}copySubmissionData(){}deleteOfflineData(){}getPluginFiles(){return[]}getPluginName(e){const n=`addon.mod_assign_submission_${e.type}.pluginname`,r=i.HT.instant(n);return n!=r?r:e.name?e.name:""}getSizeForCopy(){return 0}getSizeForEdit(){return 0}hasDataChanged(){return(0,o.A)((function*(){return!1}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForEdit(){return!1}prefetch(){return(0,o.A)((function*(){}))()}prepareSubmissionData(){}prepareSyncData(){}}return(e=AddonModAssignDefaultSubmissionHandler).ɵfac=function AddonModAssignDefaultSubmissionHandler_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignDefaultSubmissionHandler})()},25583:(e,n,r)=>{"use strict";r.d(n,{H:()=>k});var o=r(10467),i=r(52749),s=r(79555),a=r(5505),c=r(95790),u=r(62007),p=r(38911),f=r(44682),g=r(20218),v=r(55554),C=r(88793),b=r(15221),w=r(75217),A=r(98870),_=r(97383),E=r(66110),I=r(66016),T=r(54438);let P=(()=>{var n;class AddonModAssignPrefetchHandlerService extends p.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name=I.AC,this.modName=I.KZ,this.component=I.It,this.updatesNames=/^configuration$|^.*files$|^submissions$|^grades$|^gradeitems$|^outcomes$|^comments$/}canUseCheckUpdates(e,n){return(0,o.A)((function*(){try{const r=yield a.AddonModAssign.getAssignment(n,e.id);return!(yield a.AddonModAssign.getSubmissions(r.id,{cmId:e.id})).canviewsubmissions&&(yield a.AddonModAssign.getSubmissionStatus(r,{cmId:e.id}),!0)}catch{return!1}}))()}getFiles(e,n){var r=this;return(0,o.A)((function*(){const s=i.CoreSites.getCurrentSiteId();try{const c=yield a.AddonModAssign.getAssignment(n,e.id,{siteId:s});let u=c.introattachments||[];u=u.concat(r.getIntroFilesFromInstance(e,c)),u=u.concat(c.activityattachments||[]);const p=yield a.AddonModAssign.getSubmissions(c.id,{cmId:e.id,siteId:s});if(p.canviewsubmissions){const e=(yield g.AddonModAssignHelper.getSubmissionsUserData(c,p.submissions,0,{siteId:s})).map(function(){var e=(0,o.A)((function*(e){try{const n=yield r.getSubmissionFiles(c,e.submitid,!!e.blindid,!0,s);u=u.concat(n)}catch(e){if(e&&"nopermission"==e.errorcode)return;throw e}}));return function(n){return e.apply(this,arguments)}}());yield Promise.all(e)}else{const e=i.CoreSites.getCurrentSiteUserId(),n=!!c.blindmarking&&!c.revealidentities,o=yield r.getSubmissionFiles(c,e,n,!1,s);u=u.concat(o)}return u}catch{return[]}}))()}getSubmissionFiles(e,n,r,i,s){return(0,o.A)((function*(){var o,p;const f=yield a.AddonModAssign.getSubmissionStatusWithRetry(e,{userId:n,isBlind:r,siteId:s}),g=a.AddonModAssign.getSubmissionObjectFromAttempt(e,f.lastattempt),v=i?[]:((null===(o=f.assignmentdata)||void 0===o||null===(o=o.attachments)||void 0===o?void 0:o.intro)||[]).concat((null===(p=f.assignmentdata)||void 0===p||null===(p=p.attachments)||void 0===p?void 0:p.activity)||[]);if(!f.lastattempt||!g)return v;const C=[];g.plugins&&g.plugins.forEach((n=>{C.push(c.AddonModAssignSubmissionDelegate.getPluginFiles(e,g,n,s))})),f.feedback&&f.feedback.plugins&&f.feedback.plugins.forEach((n=>{C.push(u.AddonModAssignFeedbackDelegate.getPluginFiles(e,g,n,s))}));const b=yield Promise.all(C);return v.concat.apply(v,b)}))()}invalidateContent(e,n){return(0,o.A)((function*(){yield a.AddonModAssign.invalidateContent(e,n)}))()}invalidateModule(e){return(0,o.A)((function*(){return f.CoreCourse.invalidateModule(e.id)}))()}prefetch(e,n){return this.prefetchPackage(e,n,(r=>this.prefetchAssign(e,n,r)))}prefetchAssign(e,n,r){var s=this;return(0,o.A)((function*(){const o=i.CoreSites.getCurrentSiteUserId(),c={readingStrategy:2,siteId:r},u={cmId:e.id,...c},p=yield a.AddonModAssign.getAssignment(n,e.id,c),g=[];p.blindmarking&&!p.revealidentities&&g.push(v.g.ignoreErrors(a.AddonModAssign.getAssignmentUserMappings(p.id,-1,u))),g.push(s.prefetchSubmissions(p,n,e.id,o,r)),g.push(f.CoreCourse.getModuleBasicInfoByInstance(p.id,I.KZ,{siteId:r})),g.push(v.g.ignoreErrors(E.CoreCourses.getCourseByField("id",n,r)));let b=p.introattachments||[];b=b.concat(s.getIntroFilesFromInstance(e,p)),g.push(C.CoreFilepool.addFilesToQueue(r,b,s.component,e.id)),yield Promise.all(g)}))()}prefetchSubmissions(e,n,r,i,s){var c=this;return(0,o.A)((function*(){const o={cmId:r,readingStrategy:2,siteId:s},u=yield a.AddonModAssign.getSubmissions(e.id,o),p=[];p.push(c.prefetchParticipantSubmissions(e,u.canviewsubmissions,u.submissions,r,n,i,s)),p.push(c.prefetchSubmission(e,n,r,{userId:i,readingStrategy:2,siteId:s},!0)),yield Promise.all(p)}))()}prefetchParticipantSubmissions(e,n,r=[],i,s,c,u){var p=this;return(0,o.A)((function*(){const f={readingStrategy:2,siteId:u},v={cmId:i,...f},C=yield b.CoreGroups.getActivityGroupInfo(e.cmid,!1,void 0,u);if(!n)return;C.groups&&0!=C.groups.length||(C.groups=[{id:0,name:""}]);const w=C.groups.map((n=>g.AddonModAssignHelper.getSubmissionsUserData(e,r,n.id,f).then((r=>{const o=r.map((r=>p.prefetchSubmission(e,s,i,{userId:r.submitid,groupId:n.id,isBlind:!!r.blindid,readingStrategy:2,siteId:u},!0)));if(o.push(a.AddonModAssign.getAssignmentGrades(e.id,v)),!r||!r.find((e=>e.submitid==c))){o.push(p.prefetchSubmission(e,s,i,{userId:c,groupId:n.id,readingStrategy:2,siteId:u}))}return Promise.all(o)})).then((0,o.A)((function*(){const r=yield g.AddonModAssignHelper.getParticipants(e,n.id,{siteId:u});yield A.CoreUser.prefetchUserAvatars(r,"profileimageurl",u)})))));yield Promise.all(w)}))()}prefetchSubmission(n,r,i,s={},p=!1){var g=this;return(0,o.A)((function*(){const o=yield a.AddonModAssign.getSubmissionStatusWithRetry(n,s),v=s.siteId,w=s.userId;try{const s=[],p=!!n.blindmarking&&!n.revealidentities;let E=[];const I=a.AddonModAssign.getSubmissionObjectFromAttempt(n,o.lastattempt);o.lastattempt&&(!p&&o.lastattempt.submissiongroupmemberswhoneedtosubmit&&(E=E.concat(o.lastattempt.submissiongroupmemberswhoneedtosubmit)),I&&I.id&&(I.plugins&&I.plugins.forEach((r=>{s.push(c.AddonModAssignSubmissionDelegate.prefetch(n,I,r,v)),s.push(c.AddonModAssignSubmissionDelegate.getPluginFiles(n,I,r,v).then((n=>C.CoreFilepool.addFilesToQueue(v,n,g.component,e.id))).catch((()=>{})))})),I.userid&&E.push(I.userid)),n.teamsubmission&&o.lastattempt.submissiongroup&&s.push(b.CoreGroups.getActivityAllowedGroups(n.cmid))),w&&s.push(f.CoreCourse.getModuleBasicGradeInfo(i,v).then((e=>{e&&s.push(_.CoreGradesHelper.getGradeModuleItems(r,i,w,void 0,v,!0))}))),o.feedback&&(o.feedback.grade&&o.feedback.grade.grader>0&&E.push(o.feedback.grade.grader),o.feedback.plugins&&I&&I.id&&o.feedback.plugins.forEach((r=>{s.push(u.AddonModAssignFeedbackDelegate.prefetch(n,I,r,v)),s.push(u.AddonModAssignFeedbackDelegate.getPluginFiles(n,I,r,v).then((n=>C.CoreFilepool.addFilesToQueue(v,n,g.component,e.id))).catch((()=>{})))}))),s.push(A.CoreUser.prefetchProfiles(E,r,v)),yield Promise.all(s)}catch(e){if(p&&"nopermission"!=e.errorcode)throw e}}))()}sync(e,n,r){return w.AddonModAssignSync.syncAssign(e.instance,r)}}return(n=AddonModAssignPrefetchHandlerService).ɵfac=(()=>{let e;return function AddonModAssignPrefetchHandlerService_Factory(r){return(e||(e=T.xGo(n)))(r||n)}})(),n.ɵprov=T.jDH({token:n,factory:n.ɵfac,providedIn:"root"}),AddonModAssignPrefetchHandlerService})();const k=(0,s.Qd)(P)},95790:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModAssignSubmissionDelegate:()=>g,AddonModAssignSubmissionDelegateService:()=>f});var o=r(10467),i=r(59296),s=r(79555),a=r(52749),c=r(66016),u=r(54438),p=r(81672);let f=(()=>{var e;class AddonModAssignSubmissionDelegateService extends i.B{constructor(e){super("AddonModAssignSubmissionDelegate"),this.defaultHandler=e,this.handlerNameProperty="type"}isEnabled(){return(0,o.A)((function*(){return!(yield a.CoreSites.isFeatureDisabled(c.ph))}))()}canPluginContainFiltersWhenEditing(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getHandler(r.type);if(o&&!o.canContainFiltersWhenEditing&&o.canEditOffline){return!(yield o.canEditOffline(e,n,r))}return i.executeFunctionOnEnabled(r.type,"canContainFiltersWhenEditing",[e,n,r])}))()}clearTmpData(e,n,r,o){this.executeFunctionOnEnabled(r.type,"clearTmpData",[e,n,r,o])}copyPluginSubmissionData(e,n,r,i,s){var a=this;return(0,o.A)((function*(){return a.executeFunctionOnEnabled(n.type,"copySubmissionData",[e,n,r,i,s])}))()}deletePluginOfflineData(e,n,r,i,s){var a=this;return(0,o.A)((function*(){return a.executeFunctionOnEnabled(r.type,"deleteOfflineData",[e,n,r,i,s])}))()}getComponentForPlugin(e,n){var r=this;return(0,o.A)((function*(){return r.executeFunctionOnEnabled(e.type,"getComponent",[e,n])}))()}getPluginFiles(e,n,r,i){var s=this;return(0,o.A)((function*(){return(yield s.executeFunctionOnEnabled(r.type,"getPluginFiles",[e,n,r,i]))||[]}))()}getPluginName(e){return this.executeFunctionOnEnabled(e.type,"getPluginName",[e])}getPluginSizeForCopy(e,n){var r=this;return(0,o.A)((function*(){return r.executeFunctionOnEnabled(n.type,"getSizeForCopy",[e,n])}))()}getPluginSizeForEdit(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(r.type,"getSizeForEdit",[e,n,r,i])}))()}hasPluginDataChanged(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(r.type,"hasDataChanged",[e,n,r,i])}))()}isPluginSupported(e){return this.hasHandler(e,!0)}isPluginSupportedForEdit(e){var n=this;return(0,o.A)((function*(){return n.executeFunctionOnEnabled(e,"isEnabledForEdit")}))()}isPluginEmpty(e,n){return this.executeFunctionOnEnabled(n.type,"isEmpty",[e,n])}isPluginEmptyForEdit(e,n,r){return this.executeFunctionOnEnabled(n.type,"isEmptyForEdit",[e,n,r])}prefetch(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(r.type,"prefetch",[e,n,r,i])}))()}preparePluginSubmissionData(e,n,r,i,s,a,c,u){var p=this;return(0,o.A)((function*(){return p.executeFunctionOnEnabled(r.type,"prepareSubmissionData",[e,n,r,i,s,a,c,u])}))()}preparePluginSyncData(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){return c.executeFunctionOnEnabled(r.type,"prepareSyncData",[e,n,r,i,s,a])}))()}}return(e=AddonModAssignSubmissionDelegateService).ɵfac=function AddonModAssignSubmissionDelegateService_Factory(n){return new(n||e)(u.KVO(p.x))},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModAssignSubmissionDelegateService})();const g=(0,s.Qd)(f)},67636:(e,n,r)=>{"use strict";r.d(n,{R:()=>o,t:()=>i});const o="submission_comments",i="assignsubmission_comments"},15152:(e,n,r)=>{"use strict";r.d(n,{h:()=>o});const o="submission_file"},91767:(e,n,r)=>{"use strict";r.d(n,{$q:()=>i,TO:()=>s,rU:()=>o,vi:()=>a});r(86123);const o="AddonModBBB",i="mmaModBigBlueButtonBN",s="mod_bigbluebuttonbn",a="bigbluebuttonbn"},47101:(e,n,r)=>{"use strict";r.d(n,{OG:()=>_,no:()=>A});var o=r(10467),i=r(75629),s=r(43411),a=r(97254),c=r(52749),u=r(75383),p=r(58364),f=r(79555),g=r(91767),v=r(74431),C=r(95384),b=r(54438);let w=(()=>{var e;class AddonModBBBService{endMeeting(e,n=0,r){return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r),i={bigbluebuttonbnid:e,groupid:n};yield o.write("mod_bigbluebuttonbn_end_meeting",i)}))()}getBBB(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r.siteId),s={courseids:[e]},a={cacheKey:i.getBBBsCacheKey(e),updateFrequency:v.CoreCacheUpdateFrequency.RARELY,component:g.$q,...c.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield o.read("mod_bigbluebuttonbn_get_bigbluebuttonbns_by_courses",s,a);return C.CoreCourseModuleHelper.getActivityByCmId(u.bigbluebuttonbns,n)}))()}getBBBsCacheKey(e){return`${AddonModBBBService.ROOT_CACHE_KEY}bbb:${e}`}getJoinUrl(e,n=0,r){return(0,o.A)((function*(){var o;const a=yield c.CoreSites.getSite(r),u={cmid:e,groupid:n},p=yield a.write("mod_bigbluebuttonbn_get_join_url",u);if(null!==(o=p.warnings)&&void 0!==o&&o.length)throw new s.CoreWSError(p.warnings[0]);if(!p.join_url)throw new i.CoreError(f.HT.instant("addon.mod_bigbluebuttonbn.view_error_unable_join_studentview_error_unable_join_student"));return p.join_url}))()}getMeetingInfo(e,n=0,r={}){var i=this;return(0,o.A)((function*(){var o,s;const a=yield c.CoreSites.getSite(r.siteId),u={bigbluebuttonbnid:e,groupid:n},f={cacheKey:i.getMeetingInfoCacheKey(e,n),getCacheUsingCacheKey:!0,uniqueCacheKey:!0,component:g.$q,componentId:r.cmId,...c.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};r.updateCache&&(u.updatecache=!0,f.getFromCache=!1);const v=yield a.read("mod_bigbluebuttonbn_meeting_info",u,f);return{...v,features:v.features?p.T.toKeyValueMap(v.features,"name","isenabled"):void 0,presentations:(null!==(o=v.presentations)&&void 0!==o?o:[]).map((e=>({fileurl:e.url,filename:e.name}))),showpresentations:null===(s=v.showpresentations)||void 0===s||s}}))()}getMeetingInfoCacheKey(e,n=0){return this.getMeetingInfoCacheKeyPrefix(e)+n}getMeetingInfoCacheKeyPrefix(e){return`${AddonModBBBService.ROOT_CACHE_KEY}meetingInfo:${e}:`}getRecordings(e,n=0,r={}){var a=this;return(0,o.A)((function*(){var o,p;const f=yield c.CoreSites.getSite(r.siteId),v={bigbluebuttonbnid:e,groupid:n},C={cacheKey:a.getRecordingsCacheKey(e,n),component:g.$q,componentId:r.cmId,...c.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},b=yield f.read("mod_bigbluebuttonbn_get_recordings",v,C);if(null!==(o=b.warnings)&&void 0!==o&&o.length)throw new s.CoreWSError(b.warnings[0]);if(!b.tabledata)throw new i.CoreError("Cannot retrieve recordings.");return{...b.tabledata,parsedData:u.Ni.parseJSON(null===(p=b.tabledata)||void 0===p?void 0:p.data,[])}}))()}getRecordingsCacheKey(e,n=0){return this.getRecordingsCacheKeyPrefix(e)+n}getRecordingsCacheKeyPrefix(e){return`${AddonModBBBService.ROOT_CACHE_KEY}recordings:${e}:`}logView(e,n){return(0,o.A)((function*(){const r={bigbluebuttonbnid:e};yield a.CoreCourseLogHelper.log("mod_bigbluebuttonbn_view_bigbluebuttonbn",r,g.$q,e,n)}))()}invalidateBBBs(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getBBBsCacheKey(e))}))()}invalidateMeetingInfo(e,n=0,r){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getMeetingInfoCacheKey(e,n))}))()}invalidateAllGroupsMeetingInfo(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getMeetingInfoCacheKeyPrefix(e))}))()}invalidateRecordings(e,n=0,r){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getRecordingsCacheKey(e,n))}))()}invalidateAllGroupsRecordings(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getRecordingsCacheKeyPrefix(e))}))()}isPluginEnabled(e){return(0,o.A)((function*(){return(yield c.CoreSites.getSite(e)).wsAvailable("mod_bigbluebuttonbn_meeting_info")}))()}}return(e=AddonModBBBService).ROOT_CACHE_KEY="AddonModBBB:",e.ɵfac=function AddonModBBBService_Factory(n){return new(n||e)},e.ɵprov=b.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBBBService})();const A=(0,f.Qd)(w);var _=function(e){return e.NOTES="notes",e.PODCAST="podcast",e.PRESENTATION="presentation",e.SCREENSHARE="screenshare",e.STATISTICS="statistics",e.VIDEO="video",e}(_||{})},492:(e,n,r)=>{"use strict";r.d(n,{Gn:()=>o,Iu:()=>a,_F:()=>s,iy:()=>i});r(86123);const o="AddonModBook",i="mmaModBook",s="mod_book",a="book"},79313:(e,n,r)=>{"use strict";r.d(n,{A:()=>T});var o=r(10467),i=r(52749),s=r(99121),a=r(79555),c=r(97254),u=r(44682),p=r(55554),f=r(88793),g=r(75383),v=r(82907),C=r(75629),b=r(492),w=r(8014),A=r(74431),_=r(95384),E=r(54438);let I=(()=>{var e;class AddonModBookProvider{getBook(e,n,r={}){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r.siteId),a={courseids:[e]},c={cacheKey:s.getBookDataCacheKey(e),updateFrequency:A.CoreCacheUpdateFrequency.RARELY,component:b.Gn,...i.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield o.read("mod_book_get_books_by_courses",a,c);return _.CoreCourseModuleHelper.getActivityByCmId(u.books,n)}))()}getBookDataCacheKey(e){return`${AddonModBookProvider.ROOT_CACHE_KEY}book:${e}`}getChapterContent(e,n,r){return(0,o.A)((function*(){const o=e[n]?e[n].indexUrl:void 0;if(!o)throw new C.CoreError("Could not locate the index chapter.");const a=i.CoreSites.getCurrentSiteId(),c=e[n].timemodified,u=yield f.CoreFilepool.downloadUrl(a,o,!1,b.Gn,r,c),p=yield s.CoreWS.getText(u);return v.y.restoreSourcesInHtml(p,e[n].paths)}))()}getContentsMap(e){const n={};return e?(e.forEach((e=>{if(!this.isFileDownloadable(e))return;const r=e.filepath.match(/\/(\d+)\//);if(!r||!r[1])return;let o;const i=r[1],s=e.filepath==`/${i}/`;if(n[i]=n[i]||{paths:{}},"index.html"==e.filename&&s)return n[i].indexUrl=e.fileurl,n[i].tags=e.tags,n[i].timemodified=e.timemodified,void 0;if(s){o=e.fileurl.split(`mod_book/chapter${e.filepath}`)[1]||e.filename}else o=e.filepath.replace(`/${i}/`,"")+e.filename;n[i].paths[w.F.decodeURIComponent(o)]=e.fileurl})),n):n}getFirstChapter(e){if(e&&e.length)return e[0].id}getLastChapterViewed(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n),o=yield r.getLastViewed(b.Gn,e),s=Number(null==o?void 0:o.value);return isNaN(s)?void 0:s}))()}getToc(e){return e&&e.length&&void 0!==e[0].content?g.Ni.parseJSON(e[0].content,[]):[]}getTocList(e){const getChapterInfo=(e,n,r="")=>{const o=!!parseInt(e.hidden,10),i=r+(o?"x.":`${n}.`);return{id:parseInt(e.href.replace("/index.html",""),10),title:e.title,level:e.level,indexNumber:i,hidden:o}},n=[],r=this.getToc(e);let o=1;return r.forEach((e=>{const r=getChapterInfo(e,o);if(n.push(r),e.subitems){let o=1;e.subitems.forEach((e=>{n.push(getChapterInfo(e,o,r.indexNumber)),o++}))}parseInt(e.hidden,10)||o++})),n}invalidateBookData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getBookDataCacheKey(e))}))()}invalidateContent(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId();const o=[];o.push(s.invalidateBookData(n,r)),o.push(f.CoreFilepool.invalidateFilesByComponent(r,b.Gn,e)),o.push(u.CoreCourse.invalidateModule(e,r)),yield p.g.allPromises(o)}))()}isFileDownloadable(e){return"file"===e.type}isPluginEnabled(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).canDownloadFiles()}))()}logView(e,n,r){return(0,o.A)((function*(){const o={bookid:e,chapterid:n};yield c.CoreCourseLogHelper.log("mod_book_view_book",o,b.Gn,e,r)}))()}storeLastChapterViewed(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s);yield o.storeLastViewed(b.Gn,e,n,{data:String(r)})}))()}}return(e=AddonModBookProvider).ROOT_CACHE_KEY="mmaModBook:",e.ɵfac=function AddonModBookProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBookProvider})();const T=(0,a.Qd)(I)},22535:(e,n,r)=>{"use strict";r.d(n,{L5:()=>o,VU:()=>s,dE:()=>a,vz:()=>i});r(86123);const o="AddonModChat",i="mmaModChat",s="mod_chat",a="chat"},80234:(e,n,r)=>{"use strict";r.d(n,{F:()=>AddonModChatPrefetchHandlerService,j:()=>getPrefetchHandlerInstance});var o=r(10467),i=r(38911),s=r(22535),a=r(89312);class AddonModChatPrefetchHandlerService extends i.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name=s.L5,this.modName=s.dE,this.component=s.vz}}function getPrefetchHandlerInstance(){const e=(0,a.A)((0,o.A)((function*(){const{AddonModChatPrefetchHandler:e}=yield r.e(30833).then(r.bind(r,30833));return e.instance})));return e.setEagerInstance(new AddonModChatPrefetchHandlerService),e.setLazyMethods([]),e.setLazyOverrides(["prefetch","invalidateModule","invalidateContent"]),e}},72890:(e,n,r)=>{"use strict";r.d(n,{MO:()=>u,Q$:()=>s,_C:()=>a,ou:()=>i,yw:()=>o,zp:()=>c});r(86123);const o="AddonModChoice",i="mmaModChoice",s="mod_choice",a="choice",c="addon_mod_choice_autom_synced",u=!1},68511:(e,n,r)=>{"use strict";r.d(n,{R:()=>f});var o=r(10467),i=r(52749),s=r(75383),a=r(79555),c=r(7529),u=r(54438);let p=(()=>{var e;class AddonModChoiceOfflineProvider{deleteResponse(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);r=r||o.getUserId(),yield o.getDb().deleteRecords(c.a,{choiceid:e,userid:r})}))()}getResponses(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return(yield r.getDb().getRecords(c.a)).map((e=>n.parseResponse(e)))}))()}hasResponse(e,n,r){var i=this;return(0,o.A)((function*(){try{return!!(yield i.getResponse(e,n,r)).choiceid}catch(e){return!1}}))()}getResponse(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);r=r||o.getUserId();const a=yield o.getDb().getRecord(c.a,{choiceid:e,userid:r});return s.parseResponse(a)}))()}parseResponse(e){return{...e,responses:s.Ni.parseJSON(e.responses,[])}}saveResponse(e,n,r,s,a,u,p){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),f={choiceid:e,name:n,courseid:r,userid:p||o.getUserId(),responses:JSON.stringify(s),deleting:a?1:0,timecreated:Date.now()};yield o.getDb().insertRecord(c.a,f)}))()}}return(e=AddonModChoiceOfflineProvider).ɵfac=function AddonModChoiceOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoiceOfflineProvider})();const f=(0,a.Qd)(p)},7265:(e,n,r)=>{"use strict";r.d(n,{j:()=>I});var o=r(10467),i=r(49446),s=r(37690),a=r(44682),c=r(97254),u=r(94455),p=r(52749),f=r(43411),g=r(79555),v=r(49882),C=r(11793),b=r(68511),w=r(72890),A=r(55554),_=r(54438);let E=(()=>{var e;class AddonModChoiceSyncProvider extends s.L{constructor(){super("AddonModChoiceSyncProvider"),this.componentTranslatableString="choice"}getSyncId(e,n){return`${e}#${n}`}syncAllChoices(e,n){return this.syncOnSites("all choices",(e=>this.syncAllChoicesFunc(!!n,e)),e)}syncAllChoicesFunc(e,n){var r=this;return(0,o.A)((function*(){const i=yield b.R.getResponses(n);yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){const i=e?yield r.syncChoice(o.choiceid,o.userid,n):yield r.syncChoiceIfNeeded(o.choiceid,o.userid,n);null!=i&&i.updated&&v.z.trigger(w.zp,{choiceId:o.choiceid,userId:o.userid,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}()))}))()}syncChoiceIfNeeded(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getSyncId(e,n);if(yield i.isSyncNeeded(o,r))return i.syncChoice(e,n,r)}))()}syncChoice(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(r);n=n||o.getUserId(),r=o.getId();const s=i.getSyncId(e,n),a=i.getOngoingSync(s,r);return a||(i.logger.debug(`Try to sync choice '${e}' for user '${n}'`),i.addOngoingSync(s,i.performSync(e,n,r),r))}))()}performSync(e,n,r){var s=this;return(0,o.A)((function*(){const o=s.getSyncId(e,n),p={warnings:[],updated:!1};yield A.g.ignoreErrors(c.CoreCourseLogHelper.syncActivity(w.ou,e,r));const g=yield A.g.ignoreErrors(b.R.getResponse(e,r,n));if(!g||!g.choiceid)return yield s.setSyncTime(o,r),p;if(!u.WE.isOnline())throw new i.CoreNetworkError;const v=g.courseid;try{g.deleting?yield C.u.deleteResponsesOnline(e,g.responses,r):yield C.u.submitResponseOnline(e,g.responses,r),p.updated=!0,yield b.R.deleteResponse(e,r,n)}catch(o){if(!f.CoreWSError.isWebServiceError(o))throw o;p.updated=!0,yield b.R.deleteResponse(e,r,n),s.addOfflineDataDeletedWarning(p.warnings,g.name,o)}try{const n=yield a.CoreCourse.getModuleBasicInfoByInstance(e,w._C,{siteId:r});yield s.prefetchModuleAfterUpdate(n,v,void 0,r)}catch{}return yield s.setSyncTime(o,r),p}))()}}return(e=AddonModChoiceSyncProvider).ɵfac=function AddonModChoiceSyncProvider_Factory(n){return new(n||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoiceSyncProvider})();const I=(0,g.Qd)(E)},11793:(e,n,r)=>{"use strict";r.d(n,{u:()=>E});var o=r(10467),i=r(75629),s=r(43411),a=r(97254),c=r(94455),u=r(88793),p=r(52749),f=r(79555),g=r(68511),v=r(72890),C=r(74431),b=r(55554),w=r(95384),A=r(54438);let _=(()=>{var e;class AddonModChoiceProvider{areGroupsSupported(e){var n=this;return(0,o.A)((function*(){const r=yield p.CoreSites.getSite(e);return n.areGroupsSupportedInSite(r)}))()}areGroupsSupportedInSite(e){return e.isVersionGreaterEqualThan("5.0")}canStudentSeeResults(e,n,r){if(!this.choiceHasBeenOpened(e,r))return!1;const o=this.choiceHasBeenClosed(e,r);return 3===e.showresults||1===e.showresults&&n||2===e.showresults&&o}choiceHasBeenOpened(e,n){return!e.timeopen||n>e.timeopen}choiceHasBeenClosed(e,n){return!!e.timeclose&&n>e.timeclose}deleteResponses(e,n,r,i=[],a){var u=this;return(0,o.A)((function*(){a=a||p.CoreSites.getCurrentSiteId();const f=function(){var s=(0,o.A)((function*(){return yield g.R.saveResponse(e,n,r,i,!0,a),!1}));return function storeOffline(){return s.apply(this,arguments)}}();if(!c.WE.isOnline())return f();yield g.R.deleteResponse(e,a);try{return yield u.deleteResponsesOnline(e,i,a),!0}catch(e){if(s.CoreWSError.isWebServiceError(e))throw e;return f()}}))()}deleteResponsesOnline(e,n,r){var a=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(r),c={choiceid:e,responses:n},u=yield o.write("mod_choice_delete_choice_responses",c);if(!1===u.status){var f;if(null!==(f=u.warnings)&&void 0!==f&&f[0])throw new s.CoreWSError(u.warnings[0]);throw new i.CoreError("Cannot delete responses.")}yield b.g.ignoreErrors(Promise.all([a.invalidateOptions(e,o.id),a.invalidateResults(e,o.id)]))}))()}getChoiceDataCacheKey(e){return`${AddonModChoiceProvider.ROOT_CACHE_KEY}choice:${e}`}getChoiceOptionsCacheKey(e){return`${AddonModChoiceProvider.ROOT_CACHE_KEY}options:${e}`}getChoiceResultsCacheKey(e){return`${AddonModChoiceProvider.ROOT_CACHE_KEY}results:${e}`}getChoice(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(r.siteId),s={courseids:[e]},a={cacheKey:i.getChoiceDataCacheKey(e),updateFrequency:C.CoreCacheUpdateFrequency.RARELY,component:v.ou,...p.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},c=yield o.read("mod_choice_get_choices_by_courses",s,a);return w.CoreCourseModuleHelper.getActivityByCmId(c.choices,n)}))()}getOptions(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(n.siteId),i={choiceid:e},s={cacheKey:r.getChoiceOptionsCacheKey(e),updateFrequency:C.CoreCacheUpdateFrequency.RARELY,component:v.ou,componentId:n.cmId,...p.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield o.read("mod_choice_get_choice_options",i,s)).options}))()}getResults(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(n.siteId),i={choiceid:e};r.areGroupsSupportedInSite(o)&&void 0!==n.groupId&&(i.groupid=n.groupId);const s={cacheKey:r.getChoiceOptionsCacheKey(e),component:v.ou,componentId:n.cmId,...p.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield o.read("mod_choice_get_choice_results",i,s)).options}))()}invalidateChoiceData(e,n){var r=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getChoiceDataCacheKey(e))}))()}invalidateContent(e,n,r){var i=this;return(0,o.A)((function*(){r=r||p.CoreSites.getCurrentSiteId();const o=yield i.getChoice(n,e);yield Promise.all([i.invalidateChoiceData(n),i.invalidateOptions(o.id),i.invalidateResults(o.id),u.CoreFilepool.invalidateFilesByComponent(r,v.ou,e)])}))()}invalidateOptions(e,n){var r=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getChoiceOptionsCacheKey(e))}))()}invalidateResults(e,n){var r=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getChoiceResultsCacheKey(e))}))()}logView(e,n){return a.CoreCourseLogHelper.log("mod_choice_view_choice",{choiceid:e},v.ou,e,n)}submitResponse(e,n,r,i,a){var u=this;return(0,o.A)((function*(){a=a||p.CoreSites.getCurrentSiteId();const f=function(){var s=(0,o.A)((function*(){return yield g.R.saveResponse(e,n,r,i,!1,a),!1}));return function storeOffline(){return s.apply(this,arguments)}}();if(!c.WE.isOnline())return f();yield g.R.deleteResponse(e,a);try{return yield u.submitResponseOnline(e,i,a),!0}catch(e){if(s.CoreWSError.isWebServiceError(e))throw e;return f()}}))()}submitResponseOnline(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(r),s={choiceid:e,responses:n};yield o.write("mod_choice_submit_choice_response",s),yield b.g.ignoreErrors(Promise.all([i.invalidateOptions(e,r),i.invalidateResults(e,r)]))}))()}}return(e=AddonModChoiceProvider).ROOT_CACHE_KEY="mmaModChoice:",e.ɵfac=function AddonModChoiceProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoiceProvider})();const E=(0,f.Qd)(_)},7529:(e,n,r)=>{"use strict";r.d(n,{a:()=>o,g:()=>i});const o="addon_mod_choice_responses",i={name:"AddonModChoiceOfflineProvider",version:1,tables:[{name:o,columns:[{name:"choiceid",type:"INTEGER"},{name:"name",type:"TEXT"},{name:"courseid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"responses",type:"TEXT"},{name:"deleting",type:"INTEGER"},{name:"timecreated",type:"INTEGER"}],primaryKeys:["choiceid","userid"]}]}},95209:(e,n,r)=>{"use strict";r.d(n,{$W:()=>s,Fn:()=>a,KP:()=>b,No:()=>C,Sg:()=>u,Z4:()=>v,a9:()=>f,bg:()=>p,t7:()=>c,uZ:()=>g,zc:()=>i});var o=r(86123);const i="AddonModData",s="mmaModData",a="mod_data",c="data",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_data_entry_changed",f="addon_mod_data_autom_synced",g=25;var v=function(e){return e.ADD="add",e.EDIT="edit",e.DELETE="delete",e.APPROVE="approve",e.DISAPPROVE="disapprove",e.USER="user",e.USERPICTURE="userpicture",e.MORE="more",e.MOREURL="moreurl",e.COMMENTS="comments",e.TIMEADDED="timeadded",e.TIMEMODIFIED="timemodified",e.TAGS="tags",e.APPROVALSTATUS="approvalstatus",e.APPROVALSTATUSCLASS="approvalstatusclass",e.DELCHECK="delcheck",e.EXPORT="export",e.ACTIONSMENU="actionsmenu",e.ID="id",e}(v||{}),C=function(e){return e.LIST_HEADER="listtemplateheader",e.LIST="listtemplate",e.LIST_FOOTER="listtemplatefooter",e.ADD="addtemplate",e.SEARCH="asearchtemplate",e.SINGLE="singletemplate",e}(C||{}),b=function(e){return e.LIST="list",e.EDIT="edit",e.SHOW="show",e.SEARCH="search",e}(b||{})},82622:(e,n,r)=>{"use strict";r.d(n,{R:()=>g});var o=r(10467),i=r(59296),s=r(79555),a=r(52749),c=r(95209),u=r(54438);let p=(()=>{var e;class AddonModDataDefaultFieldHandler{constructor(){this.name="AddonModDataDefaultFieldHandler",this.type="default"}getFieldSearchData(){return[]}getFieldEditData(){return[]}hasFieldDataChanged(){return!1}getFieldEditFiles(){return[]}getFieldsNotifications(){}overrideData(e){return e}isEnabled(){return(0,o.A)((function*(){return!0}))()}}return(e=AddonModDataDefaultFieldHandler).ɵfac=function AddonModDataDefaultFieldHandler_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataDefaultFieldHandler})(),f=(()=>{var e;class AddonModDataFieldsDelegateService extends i.B{constructor(e){super("AddonModDataFieldsDelegate"),this.defaultHandler=e,this.handlerNameProperty="type"}isEnabled(){return(0,o.A)((function*(){return!(yield a.CoreSites.isFeatureDisabled(c.Sg))}))()}getComponentForField(e){return Promise.resolve(this.executeFunctionOnEnabled(e.type,"getComponent",[e]))}getFieldSearchData(e,n){return this.executeFunctionOnEnabled(e.type,"getFieldSearchData",[e,n])||[]}getFieldEditData(e,n,r){return this.executeFunctionOnEnabled(e.type,"getFieldEditData",[e,n,r])||[]}getFieldEditFiles(e,n,r){return this.executeFunctionOnEnabled(e.type,"getFieldEditFiles",[e,n,r])||[]}getFieldsNotifications(e,n){return this.executeFunctionOnEnabled(e.type,"getFieldsNotifications",[e,n])}hasFiles(e){return this.hasFunction(e.type,"getFieldEditFiles")}hasFieldDataChanged(e,n,r){return!!this.executeFunctionOnEnabled(e.type,"hasFieldDataChanged",[e,n,r])}isPluginSupported(e){return this.hasHandler(e,!0)}overrideData(e,n,r,o){return n=n||{},r&&this.executeFunctionOnEnabled(e.type,"overrideData",[n,r,o])||n}}return(e=AddonModDataFieldsDelegateService).ɵfac=function AddonModDataFieldsDelegateService_Factory(n){return new(n||e)(u.KVO(p))},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldsDelegateService})();const g=(0,s.Qd)(f)},15403:(e,n,r)=>{"use strict";r.d(n,{T:()=>o,z:()=>i});const o="addon_mod_data_entry_1",i={name:"AddonModDataOfflineProvider",version:1,tables:[{name:o,columns:[{name:"dataid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"groupid",type:"INTEGER"},{name:"action",type:"TEXT"},{name:"entryid",type:"INTEGER"},{name:"fields",type:"TEXT"},{name:"timemodified",type:"INTEGER"}],primaryKeys:["dataid","entryid","action"]}]}},15723:(e,n,r)=>{"use strict";r.d(n,{R:()=>getApproveLinkHandlerInstance,x:()=>AddonModDataApproveLinkHandlerService});var o=r(10467),i=r(89312),s=r(95209),a=r(71112);class AddonModDataApproveLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModDataApproveLinkHandler",this.featureName=s.Sg,this.pattern=/\/mod\/data\/view\.php.*([?&](d|approve|disapprove)=\d+)/,this.priority=50}getActions(e,n,r,o){return[{action:e=>this.handleAction(e,r,o)}]}handleAction(e,n,r){return(0,o.A)((function*(){}))()}}function getApproveLinkHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModDataApproveLinkHandler:e}=yield Promise.all([r.e(57934),r.e(94126)]).then(r.bind(r,94126));return e.instance})));return e.setEagerInstance(new AddonModDataApproveLinkHandlerService),e.setLazyOverrides(["isEnabled","handleAction"]),e}},96665:(e,n,r)=>{"use strict";r.d(n,{L:()=>getDeleteLinkHandlerInstance,l:()=>AddonModDataDeleteLinkHandlerService});var o=r(10467),i=r(89312),s=r(95209),a=r(71112);class AddonModDataDeleteLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModDataDeleteLinkHandler",this.featureName=s.Sg,this.pattern=/\/mod\/data\/view\.php.*([?&](d|delete)=\d+)/}getActions(e,n,r,o){return[{action:e=>this.handleAction(e,r,o)}]}handleAction(e,n,r){return(0,o.A)((function*(){}))()}}function getDeleteLinkHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModDataDeleteLinkHandler:e}=yield Promise.all([r.e(57934),r.e(24052)]).then(r.bind(r,24052));return e.instance})));return e.setEagerInstance(new AddonModDataDeleteLinkHandlerService),e.setLazyOverrides(["isEnabled","handleAction"]),e}},268:(e,n,r)=>{"use strict";r.d(n,{_:()=>AddonModDataEditLinkHandlerService,m:()=>getEditLinkHandlerInstance});var o=r(10467),i=r(89312),s=r(95209),a=r(71112);class AddonModDataEditLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModDataEditLinkHandler",this.featureName=s.Sg,this.pattern=/\/mod\/data\/edit\.php.*([?&](d|rid)=\d+)/}getActions(e,n,r){return[{action:e=>this.handleAction(e,r)}]}handleAction(e,n){return(0,o.A)((function*(){}))()}}function getEditLinkHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModDataEditLinkHandler:e}=yield r.e(92259).then(r.bind(r,92259));return e.instance})));return e.setEagerInstance(new AddonModDataEditLinkHandlerService),e.setLazyOverrides(["isEnabled","handleAction"]),e}},96132:(e,n,r)=>{"use strict";r.d(n,{b:()=>AddonModDataPrefetchHandlerService,j:()=>getPrefetchHandlerInstance});var o=r(10467),i=r(89312),s=r(95209),a=r(38911);class AddonModDataPrefetchHandlerService extends a.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name=s.zc,this.modName=s.t7,this.component=s.$W,this.updatesNames=/^configuration$|^.*files$|^entries$|^gradeitems$|^outcomes$|^comments$|^ratings/}}function getPrefetchHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModDataPrefetchHandler:e}=yield Promise.all([r.e(57934),r.e(9099)]).then(r.bind(r,9099));return e.instance})));return e.setEagerInstance(new AddonModDataPrefetchHandlerService),e.setLazyMethods(["sync"]),e.setLazyOverrides(["getFiles","getIntroFiles","invalidateContent","invalidateModule","isDownloadable","prefetch"]),e}},95495:(e,n,r)=>{"use strict";r.d(n,{P:()=>getShowLinkHandlerInstance,b:()=>AddonModDataShowLinkHandlerService});var o=r(10467),i=r(89312),s=r(95209),a=r(71112);class AddonModDataShowLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModDataShowLinkHandler",this.featureName=s.Sg,this.pattern=/\/mod\/data\/view\.php.*([?&](d|rid|page|group|mode)=\d+)/,this.priority=50}getActions(e,n,r){return[{action:e=>this.handleAction(e,r)}]}handleAction(e,n){return(0,o.A)((function*(){}))()}}function getShowLinkHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModDataShowLinkHandler:e}=yield r.e(53394).then(r.bind(r,53394));return e.instance})));return e.setEagerInstance(new AddonModDataShowLinkHandlerService),e.setLazyOverrides(["isEnabled","handleAction"]),e}},92145:(e,n,r)=>{"use strict";r.d(n,{F:()=>AddonModDataSyncCronHandlerService,c:()=>getCronHandlerInstance});var o=r(10467),i=r(89312);class AddonModDataSyncCronHandlerService{constructor(){this.name="AddonModDataSyncCronHandler"}}function getCronHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModDataSyncCronHandler:e}=yield Promise.all([r.e(57934),r.e(46300)]).then(r.bind(r,46300));return e.instance})));return e.setEagerInstance(new AddonModDataSyncCronHandlerService),e.setLazyMethods(["execute","getInterval"]),e}},19634:(e,n,r)=>{"use strict";r.d(n,{$5:()=>w,AB:()=>E,IR:()=>c,Ll:()=>g,Mw:()=>A,My:()=>P,Qt:()=>k,SK:()=>i,U3:()=>b,bN:()=>p,gL:()=>I,gR:()=>T,gy:()=>v,h2:()=>u,jj:()=>C,qY:()=>a,sP:()=>f,sT:()=>_,yH:()=>s});var o=r(86123);const i="AddonModFeedback",s="mmaModFeedback",a="mod_feedback",c="feedback",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_feedback_form_submitted",f="|",g=">>>>>",v="<<<<<",C="h",b="####",w="addon_mod_feedback_autom_synced",A=20;var _=function(e){return e.OVERVIEW="overview",e.ANALYSIS="analysis",e}(_||{}),E=function(e){return e.CAPTCHA="captcha",e.INFO="info",e.LABEL="label",e.MULTICHOICE="multichoice",e.MULTICHOICERATED="multichoicerated",e.NUMERIC="numeric",e.PAGEBREAK="pagebreak",e.TEXTAREA="textarea",e.TEXTFIELD="textfield",e}(E||{}),I=function(e){return e.CHECKBOX="c",e.DROPDOWN="d",e.RADIO="r",e}(I||{});const T="multichoice-";var P=function(e){return e.CAPTCHA="captcha",e.LABEL="label",e.MULTICHOICE_CHECKBOX="multichoice-c",e.MULTICHOICE_RADIO="multichoice-r",e.MULTICHOICE_DROPDOWN="multichoice-d",e.NUMERIC="numeric",e.TEXTAREA="textarea",e.TEXTFIELD="textfield",e}(P||{}),k=function(e){return e.CHART="chart",e.LIST="list",e.NUMERIC="numeric",e}(k||{})},59721:(e,n,r)=>{"use strict";r.d(n,{L:()=>o,g:()=>i});const o="addon_mod_feedback_answers",i={name:"AddonModFeedbackOfflineProvider",version:1,tables:[{name:o,columns:[{name:"feedbackid",type:"INTEGER"},{name:"page",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"responses",type:"TEXT"},{name:"timemodified",type:"INTEGER"}],primaryKeys:["feedbackid","page"]}]}},2538:(e,n,r)=>{"use strict";r.d(n,{_:()=>I});var o=r(10467),i=r(44682),s=r(98870),a=r(15324),c=r(52749),u=r(88436),p=r(24742),f=r(81690),g=r(79555),v=r(4593),C=r(19634),b=r(33014),w=r(75383),A=r(25572),_=r(54438);let E=(()=>{var e;class AddonModFeedbackHelperProvider{getNonRespondents(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield v.o.getNonRespondents(e,n);return o.users=yield r.addImageProfile(o.users),o}))()}getPageItemsResponses(e){const n={};return e.forEach((e=>{let r=!1;if(e.hasError=!1,e.typ===C.AB.CAPTCHA){const o=e.value||"";r=!!o,n[`${e.typ}_${e.id}`]=1,n["g-recaptcha-response"]=o,n.recaptcha_element="dummyvalue",e.isEmpty=!(!e.required||r)}else if(e.hasvalue){let o,i;const s=`${e.typ}_${e.id}`;this.isMultiChoiceItem(e)&&e.subtype===C.gL.CHECKBOX?(o=`${s}[0]`,n[o]=0,e.choices.forEach(((e,a)=>{o=`${s}[${a+1}]`,i=e.checked?e.value:0,!r&&i&&(r=!0),n[o]=i}))):(o=this.isMultiChoiceItem(e)&&e.subtype!==C.gL.RADIO?`${s}[0]`:s,e.typ===C.AB.MULTICHOICE||e.typ===C.AB.MULTICHOICERATED?i=e.value||0:this.isNumericItem(e)?(i=e.value||0==e.value?e.value:"",""!=i&&(""!=e.rangefrom&&i<e.rangefrom||""!=e.rangeto&&i>e.rangeto)&&(e.hasError=!0)):i=e.value||0==e.value?e.value:"",r=!!i,n[o]=i),e.isEmpty=!(!e.required||r)}})),n}getResponsesAnalysis(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield v.o.getResponsesAnalysis(e,n);return o.attempts=yield r.addImageProfile(o.attempts),o}))()}handleShowEntriesLink(e,n){return(0,o.A)((function*(){n=n||c.CoreSites.getCurrentSiteId();const r=yield b.CoreLoadings.show();try{const r=yield i.CoreCourse.getModuleBasicInfo(Number(e.id),{siteId:n,readingStrategy:1});if(void 0===e.showcompleted)return yield a.CoreNavigator.navigateToSitePath(`${C.qY}/${r.course}/${r.id}/attempts`,{siteId:n}),void 0;const o=yield v.o.getAttempt(r.instance,Number(e.showcompleted),{cmId:r.id,readingStrategy:2,siteId:n});yield a.CoreNavigator.navigateToSitePath(`${C.qY}/${r.course}/${r.id}/attempts/${o.id}`,{params:{feedbackId:r.instance,attempt:o},siteId:n})}catch(e){A.CoreAlerts.showError(e,{default:"Error opening link."})}finally{r.dismiss()}}))()}addImageProfile(e){return(0,o.A)((function*(){return Promise.all(e.map(function(){var e=(0,o.A)((function*(e){try{const n=yield s.CoreUser.getProfile(e.userid,e.courseid,!0);e.profileimageurl=n.profileimageurl}catch{}return e}));return function(n){return e.apply(this,arguments)}}()))}))()}getItemFormLabel(e){return e.name="",e.presentation=u.CoreFileHelper.replacePluginfileUrls(e.presentation,e.itemfiles),Object.assign(e,{templateName:C.My.LABEL,value:"",slottedLabel:!1})}getItemFormInfo(e){const n=Object.assign(e,{templateName:C.My.LABEL,value:"",slottedLabel:!1}),r=parseInt(n.presentation,10);if(2==r||3==r)n.presentation=n.otherdata,n.value=void 0!==n.rawValue?n.rawValue:n.otherdata;else{if(1!=r)return;{n.value="__CURRENT__TIMESTAMP__";const e=Number(n.rawValue),r=isNaN(e)?Date.now():1e3*e;n.presentation=p.j.userDate(r)}}return n}getItemFormNumeric(e){const n=e.presentation.split(C.sP)||[],r=n.length>0?parseInt(n[0],10):void 0,o=n.length>1?parseInt(n[1],10):void 0,i=Object.assign(e,{templateName:C.My.NUMERIC,value:void 0!==e.rawValue?Number(e.rawValue):"",rangefrom:"number"!=typeof r||isNaN(r)?"":n[0],rangeto:"number"!=typeof o||isNaN(o)?"":o,slottedLabel:!0});return i.postfix=this.getNumericBoundariesForDisplay(i.rangefrom,i.rangeto),i}getItemFormTextfield(e){return Object.assign(e,{templateName:C.My.TEXTFIELD,length:Number(e.presentation.split(C.sP)[1])||255,value:void 0!==e.rawValue?e.rawValue:"",slottedLabel:!0})}getItemFormTextarea(e){return Object.assign(e,{templateName:C.My.TEXTAREA,value:void 0!==e.rawValue?e.rawValue:"",slottedLabel:!0})}getItemFormMultichoice(e){let n=e.presentation.split(C.Ll)||[];const r=n.length>0&&n[0]?n[0]:C.gL.RADIO,o=Object.assign(e,{templateName:C.gR+r,subtype:r,value:"",choices:[],slottedLabel:r===C.gL.DROPDOWN});o.presentation=n.length>1?n[1]:"",o.subtype!==C.gL.DROPDOWN&&(n=o.presentation.split(C.gy)||[],o.presentation=n.length>0?n[0]:"");const i=o.presentation.split(C.sP)||[];if(o.choices=i.map(((e,n)=>{const r=e.split(C.U3)||[""];return{value:n+1,label:e=1==r.length?r[0]:`(${r[0]}) ${r[1]}`}})),o.subtype===C.gL.RADIO&&-1==o.options.search(C.jj))o.choices.unshift({value:0,label:g.HT.instant("addon.mod_feedback.not_selected")}),o.value=void 0!==o.rawValue?Number(o.rawValue):0;else if(o.subtype===C.gL.DROPDOWN)o.choices.unshift({value:0,label:""}),o.value=void 0!==o.rawValue?Number(o.rawValue):0;else if(o.subtype===C.gL.CHECKBOX){if(void 0!==o.rawValue){o.rawValue=String(o.rawValue);const e=o.rawValue.split(C.sP);o.choices.forEach((n=>{for(const r in e)if(n.value==Number(e[r]))return n.checked=!0,void 0}))}}else o.value=void 0!==o.rawValue?Number(o.rawValue):"";return o}getItemFormCaptcha(e){const n=Object.assign(e,{templateName:C.My.CAPTCHA,value:"",slottedLabel:!1}),r=w.Ni.parseJSON(e.otherdata);return r&&r.length>3&&(n.captcha={recaptchapublickey:r[3]}),n}getItemForm(e,n){switch(e.typ){case C.AB.LABEL:return this.getItemFormLabel(e);case C.AB.INFO:return this.getItemFormInfo(e);case C.AB.NUMERIC:return this.getItemFormNumeric(e);case C.AB.TEXTFIELD:return this.getItemFormTextfield(e);case C.AB.TEXTAREA:return this.getItemFormTextarea(e);case C.AB.MULTICHOICE:case C.AB.MULTICHOICERATED:return this.getItemFormMultichoice(e);case C.AB.PAGEBREAK:if(!n)return;break;case C.AB.CAPTCHA:return this.getItemFormCaptcha(e);default:return}}getNumericBoundariesForDisplay(e,n){const r="number"==typeof e,o="number"==typeof n;return!r&&o?" ("+g.HT.instant("addon.mod_feedback.maximal")+": "+f.j.formatFloat(n)+")":r&&!o?" ("+g.HT.instant("addon.mod_feedback.minimal")+": "+f.j.formatFloat(e)+")":r||o?" ("+f.j.formatFloat(e)+" - "+f.j.formatFloat(n)+")":""}isMultiChoiceItem(e){return e.typ===C.AB.MULTICHOICE}isNumericItem(e){return e.typ===C.AB.NUMERIC}}return(e=AddonModFeedbackHelperProvider).ɵfac=function AddonModFeedbackHelperProvider_Factory(n){return new(n||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackHelperProvider})();const I=(0,g.Qd)(E)},26463:(e,n,r)=>{"use strict";r.d(n,{X:()=>g});var o=r(10467),i=r(52749),s=r(75383),a=r(24742),c=r(79555),u=r(59721),p=r(54438);let f=(()=>{var e;class AddonModFeedbackOfflineProvider{deleteFeedbackPageResponses(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);yield o.getDb().deleteRecords(u.L,{feedbackid:e,page:n})}))()}getAllFeedbackResponses(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return(yield r.getDb().getAllRecords(u.L)).map((e=>n.parseResponse(e)))}))()}getFeedbackResponses(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);return(yield o.getDb().getRecords(u.L,{feedbackid:e})).map((e=>r.parseResponse(e)))}))()}getFeedbackPageResponses(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),a={feedbackid:e,page:n},c=yield o.getDb().getRecord(u.L,a);return s.parseResponse(c)}))()}hasFeedbackOfflineData(e,n){var r=this;return(0,o.A)((function*(){return!!(yield r.getFeedbackResponses(e,n)).length}))()}parseResponse(e){return Object.assign(e,{responses:s.Ni.parseJSON(e.responses)})}saveResponses(e,n,r,s,c){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(c),p={feedbackid:e,page:n,courseid:s,responses:JSON.stringify(r),timemodified:a.j.timestamp()};yield o.getDb().insertRecord(u.L,p)}))()}}return(e=AddonModFeedbackOfflineProvider).ɵfac=function AddonModFeedbackOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackOfflineProvider})();const g=(0,c.Qd)(f)},99073:(e,n,r)=>{"use strict";r.d(n,{V:()=>P});var o=r(10467),i=r(42008),s=r(49446),a=r(37690),c=r(44682),u=r(97254),p=r(94455),f=r(52749),g=r(48966),v=r(43411),C=r(79555),b=r(49882),w=r(4593),A=r(26463),_=r(19634),E=r(55554),I=r(54438);let T=(()=>{var e;class AddonModFeedbackSyncProvider extends a.L{constructor(){super("AddonModFeedbackSyncProvider"),this.componentTranslatableString="feedback"}prefetchModuleAfterUpdate(e,n,r,o){return super.prefetchModuleAfterUpdate(e,n,r=r||/^.*files$|^timers/,o)}syncAllFeedbacks(e,n){return this.syncOnSites("all feedbacks",(e=>this.syncAllFeedbacksFunc(!!n,e)),e)}syncAllFeedbacksFunc(e,n){var r=this;return(0,o.A)((function*(){const i=yield A.X.getAllFeedbackResponses(n),s={};yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){if(s[o.feedbackid])return;s[o.feedbackid]=!0;const i=e?yield r.syncFeedback(o.feedbackid,n):yield r.syncFeedbackIfNeeded(o.feedbackid,n);null!=i&&i.updated&&b.z.trigger(_.$5,{feedbackId:o.feedbackid,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}()))}))()}syncFeedbackIfNeeded(e,n){var r=this;return(0,o.A)((function*(){n=n||f.CoreSites.getCurrentSiteId();if(yield r.isSyncNeeded(e,n))return r.syncFeedback(e,n)}))()}syncFeedback(e,n){n=n||f.CoreSites.getCurrentSiteId();const r=this.getOngoingSync(e,n);if(r)return r;if(g.CoreSync.isBlocked(_.SK,e,n))throw this.logger.debug(`Cannot sync feedback '${e}' because it is blocked.`),new i.D(C.HT.instant("core.errorsyncblocked",{$a:this.componentTranslate}));return this.logger.debug(`Try to sync feedback '${e}' in site ${n}'`),this.addOngoingSync(e,this.performSyncFeedback(e,n),n)}performSyncFeedback(e,n){var r=this;return(0,o.A)((function*(){const o={warnings:[],updated:!1};yield E.g.ignoreErrors(u.CoreCourseLogHelper.syncActivity(_.yH,e,n));const i=yield E.g.ignoreErrors(A.X.getFeedbackResponses(e,n));if(!i||!i.length)return yield E.g.ignoreErrors(r.setSyncTime(e,n)),o;if(!p.WE.isOnline())throw new s.CoreNetworkError;const a=i[0].courseid,f=yield w.o.getFeedbackById(a,e,{siteId:n});if(!f.multiple_submit){if(yield w.o.isCompleted(e,{cmId:f.coursemodule,siteId:n}))return yield Promise.all(i.map((r=>A.X.deleteFeedbackPageResponses(e,r.page,n)))),o.updated=!0,r.addOfflineDataDeletedWarning(o.warnings,f.name,C.HT.instant("addon.mod_feedback.this_feedback_is_already_submitted")),yield E.g.ignoreErrors(r.setSyncTime(e,n)),o}const g=yield w.o.getCurrentCompletedTimeModified(e,{readingStrategy:2,siteId:n});i.sort(((e,n)=>e.page-n.page));const v=i.map((e=>({function:()=>r.processPage(f,e,n,g,o),blocking:!0})));if(yield E.g.executeOrderedPromises(v),o.updated)try{const o=yield c.CoreCourse.getModuleBasicInfoByInstance(e,_.IR,{siteId:n});yield r.prefetchModuleAfterUpdate(o,a,void 0,n)}catch{}return yield E.g.ignoreErrors(r.setSyncTime(e,n)),o}))()}processPage(e,n,r,i,s){var a=this;return(0,o.A)((function*(){if(i>n.timemodified)return A.X.deleteFeedbackPageResponses(e.id,n.page,r);try{yield w.o.processPageOnline(e.id,n.page,n.responses,!1,r),s.updated=!0,yield A.X.deleteFeedbackPageResponses(e.id,n.page,r)}catch(o){if(!v.CoreWSError.isWebServiceError(o))throw o;s.updated=!0,yield A.X.deleteFeedbackPageResponses(e.id,n.page,r),a.addOfflineDataDeletedWarning(s.warnings,e.name,o)}}))()}}return(e=AddonModFeedbackSyncProvider).ɵfac=function AddonModFeedbackSyncProvider_Factory(n){return new(n||e)},e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackSyncProvider})();const P=(0,C.Qd)(T)},4593:(e,n,r)=>{"use strict";r.d(n,{o:()=>I});var o=r(10467),i=r(75629),s=r(97254),a=r(94455),c=r(88793),u=r(52749),p=r(58364),f=r(79555),g=r(26463),v=r(19634),C=r(74431),b=r(55554),w=r(43411),A=r(95384),_=r(54438);let E=(()=>{var e;class AddonModFeedbackProvider{checkDependencyItem(e,n){const r=e.find((e=>e.id==n.dependitem));if(!r)return!0;switch(r.typ){case v.AB.LABEL:return!1;case v.AB.MULTICHOICE:case v.AB.MULTICHOICERATED:return this.compareDependItemMultichoice(r,n.dependvalue)}return n.dependvalue==r.rawValue}compareDependItemMultichoice(e,n){const r=e.presentation.split(v.Ll)||[],o=r.length>0&&r[0]?r[0]:v.gL.RADIO,i=((r[1]||"").split(v.gy)[0]||"").split(v.sP)||[];let s;o===v.gL.CHECKBOX?void 0===e.rawValue?s=[""]:(e.rawValue=`${e.rawValue}`,s=e.rawValue.split(v.sP)):s=[e.rawValue||""];for(let r=0;r<i.length;r++)for(const o in s)if(s[o]==r+1){let o=i[r];if(e.typ===v.AB.MULTICHOICERATED&&(o=o.split(v.U3)[1]||""),o.trim()==n)return!0;if(1==s.length)return!1}return!1}fillValues(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=n;try{const n=yield i.getCurrentValues(e,r),s={};n.forEach((e=>{s[e.item]=e.value})),o.forEach((e=>{e.hasvalue&&void 0!==s[e.id]&&(e.rawValue=s[e.id])}))}catch{}const s=yield b.g.ignoreErrors(g.X.getFeedbackResponses(e,r.siteId));if(!s)return n;const a={};return s.reduce(((e,n)=>{const r=p.T.toArrayOfObjects(n.responses,"id","value");return e.concat(r)}),[]).map((e=>{const n=e.id.split("_"),r=(n[1]||"").replace(/\[.*\]/,"");return{...e,typ:n[0],item:Number(r)}})).forEach((e=>{void 0===a[e.item]&&(a[e.item]=[]),a[e.item].push(e.value)})),o.forEach((e=>{e.hasvalue&&void 0!==a[e.id]&&(e.typ===v.AB.MULTICHOICE&&e.presentation.split(v.Ll)[0]===v.gL.CHECKBOX?(a[e.id]=a[e.id].filter((e=>Number(e)>0)),e.rawValue=a[e.id].join(v.sP)):e.rawValue=a[e.id][0])})),o}))()}getAllNonRespondents(e,n={},r){var i=this;return(0,o.A)((function*(){n.siteId=n.siteId||u.CoreSites.getCurrentSiteId(),r=r||{page:0,users:[]};const o=yield i.getNonRespondents(e,{page:r.page,...n});return r.users.length<o.total&&(r.users=r.users.concat(o.users)),r.users.length<o.total?(r.page++,i.getAllNonRespondents(e,n,r)):{...r,total:o.total}}))()}getAllResponsesAnalysis(e,n={},r){var i=this;return(0,o.A)((function*(){n.siteId=n.siteId||u.CoreSites.getCurrentSiteId(),r=r||{page:0,attempts:[],anonattempts:[]};const o=yield i.getResponsesAnalysis(e,{page:r.page,...n});return r.anonattempts.length<o.totalanonattempts&&(r.anonattempts=r.anonattempts.concat(o.anonattempts)),r.attempts.length<o.totalattempts&&(r.attempts=r.attempts.concat(o.attempts)),r.anonattempts.length<o.totalanonattempts||r.attempts.length<o.totalattempts?(r.page++,i.getAllResponsesAnalysis(e,n,r)):{...r,totalattempts:o.totalattempts,totalanonattempts:o.totalanonattempts}}))()}getAnalysis(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e},s={cacheKey:r.getAnalysisDataCacheKey(e,n.groupId),component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return n.groupId&&(i.groupid=n.groupId),o.read("mod_feedback_get_analysis",i,s)}))()}getAnalysisDataCacheKey(e,n=0){return this.getAnalysisDataPrefixCacheKey(e)+n}getAnalysisDataPrefixCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:analysis:`}getAttempt(e,n,r={},s){var a=this;return(0,o.A)((function*(){r.siteId=r.siteId||u.CoreSites.getCurrentSiteId(),s=s||{page:0,attemptsLoaded:0,anonAttemptsLoaded:0};const o=yield a.getResponsesAnalysis(e,{page:s.page,...r}),c=o.attempts.find((e=>n==e.id));if(c)return c;const p=o.anonattempts.find((e=>n==e.id));if(p)return p;if(s.anonAttemptsLoaded<o.totalanonattempts&&(s.anonAttemptsLoaded+=o.anonattempts.length),s.attemptsLoaded<o.totalattempts&&(s.attemptsLoaded+=o.attempts.length),s.anonAttemptsLoaded<o.totalanonattempts||s.attemptsLoaded<o.totalattempts)return s.page++,a.getAttempt(e,n,r,s);throw new i.CoreError("Attempt not found.")}))()}getCompletedDataCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:completed:`}getCurrentCompletedTimeModified(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e},s={cacheKey:r.getCurrentCompletedTimeModifiedDataCacheKey(e),component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};try{return(yield o.read("mod_feedback_get_current_completed_tmp",i,s)).feedback.timemodified}catch{return 0}}))()}getCurrentCompletedTimeModifiedDataCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:completedtime:`}getCurrentValues(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e},s={cacheKey:r.getCurrentValuesDataCacheKey(e),component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},a=yield o.read("mod_feedback_get_unfinished_responses",i,s);if(a.responses.length)return a.responses;return(yield o.read("mod_feedback_get_finished_responses",i,s)).responses}))()}getCurrentValuesDataCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:currentvalues`}getFeedbackAccessInformation(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e},s={cacheKey:r.getFeedbackAccessInformationDataCacheKey(e),component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_feedback_get_feedback_access_information",i,s)}))()}getFeedbackAccessInformationDataCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:access`}getFeedbackCacheKey(e){return`${AddonModFeedbackProvider.ROOT_CACHE_KEY}feedback:${e}`}getFeedbackDataPrefixCacheKey(e){return AddonModFeedbackProvider.ROOT_CACHE_KEY+e}getFeedbackDataByKey(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(i.siteId),a={courseids:[e]},c={cacheKey:s.getFeedbackCacheKey(e),updateFrequency:C.CoreCacheUpdateFrequency.RARELY,component:v.yH,...u.CoreSites.getReadingStrategyPreSets(i.readingStrategy)},p=yield o.read("mod_feedback_get_feedbacks_by_courses",a,c);return A.CoreCourseModuleHelper.getActivityByField(p.feedbacks,n,r)}))()}getFeedback(e,n,r={}){return this.getFeedbackDataByKey(e,"coursemodule",n,r)}getFeedbackById(e,n,r={}){return this.getFeedbackDataByKey(e,"id",n,r)}getItems(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e},s={cacheKey:r.getItemsDataCacheKey(e),updateFrequency:C.CoreCacheUpdateFrequency.SOMETIMES,component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_feedback_get_items",i,s)}))()}getItemsDataCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:items`}getNonRespondents(e,n={}){var r=this;return(0,o.A)((function*(){n.groupId=n.groupId||0,n.page=n.page||0;const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e,groupid:n.groupId,page:n.page,perpage:v.Mw},s={cacheKey:r.getNonRespondentsDataCacheKey(e,n.groupId),component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_feedback_get_non_respondents",i,s)}))()}getNonRespondentsDataCacheKey(e,n=0){return this.getNonRespondentsDataPrefixCacheKey(e)+n}getNonRespondentsDataPrefixCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:nonrespondents:`}getPageItems(e,n,r){return(0,o.A)((function*(){return(yield u.CoreSites.getSite(r)).write("mod_feedback_get_page_items",{feedbackid:e,page:n})}))()}getPageItemsWithValues(e,n,r={}){var i=this;return(0,o.A)((function*(){r.siteId=r.siteId||u.CoreSites.getCurrentSiteId();try{const o=yield i.getPageItems(e,n,r.siteId);return o.items=yield i.fillValues(e,o.items,r),o}catch{const o=yield i.getItems(e,r),s=yield i.fillValues(e,o.items,r);let a=0;const c=[];return{items:s.filter((e=>!(a>n)&&(e.typ===v.AB.PAGEBREAK?(a++,!1):a<n?(c.push(e),!1):e&&e.dependitem>0&&c.length>0?i.checkDependencyItem(c,e):e))),hasprevpage:n>0,hasnextpage:a>n,warnings:o.warnings}}}))()}getPageJumpTo(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield s.getPageItemsWithValues(e,n,{cmId:i.cmId,readingStrategy:1,siteId:i.siteId});return o.items.length>0?n:!!(1==r&&o.hasnextpage||-1==r&&o.hasprevpage)&&s.getPageJumpTo(e,n+r,r,i)}))()}getResponsesAnalysis(e,n={}){var r=this;return(0,o.A)((function*(){n.groupId=n.groupId||0,n.page=n.page||0;const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e,groupid:n.groupId,page:n.page,perpage:v.Mw},s={cacheKey:r.getResponsesAnalysisDataCacheKey(e,n.groupId),component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_feedback_get_responses_analysis",i,s)}))()}getResponsesAnalysisDataCacheKey(e,n=0){return this.getResponsesAnalysisDataPrefixCacheKey(e)+n}getResponsesAnalysisDataPrefixCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:responsesanalysis:`}getResumePage(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e},s={cacheKey:r.getResumePageDataCacheKey(e),component:v.yH,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},a=yield o.read("mod_feedback_launch_feedback",i,s);return a.gopage>0?a.gopage:0}))()}getResumePageDataCacheKey(e){return`${this.getFeedbackDataPrefixCacheKey(e)}:launch`}invalidateAllFeedbackData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getFeedbackDataPrefixCacheKey(e))}))()}invalidateAnalysisData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getAnalysisDataPrefixCacheKey(e))}))()}invalidateContent(e,n,r){var i=this;return(0,o.A)((function*(){r=r||u.CoreSites.getCurrentSiteId();const o=yield i.getFeedback(n,e,{siteId:r});yield Promise.all([i.invalidateFeedbackData(n,r),i.invalidateAllFeedbackData(o.id,r)])}))()}invalidateCurrentValuesData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getCurrentValuesDataCacheKey(e))}))()}invalidateFeedbackAccessInformationData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getFeedbackAccessInformationDataCacheKey(e))}))()}invalidateFeedbackData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getFeedbackCacheKey(e))}))()}invalidateFiles(e,n){return(0,o.A)((function*(){yield c.CoreFilepool.invalidateFilesByComponent(n,v.yH,e)}))()}invalidateNonRespondentsData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getNonRespondentsDataPrefixCacheKey(e))}))()}invalidateResponsesAnalysisData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getResponsesAnalysisDataPrefixCacheKey(e))}))()}invalidateResumePageData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getResumePageDataCacheKey(e))}))()}isCompleted(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={feedbackid:e},s={cacheKey:r.getCompletedDataCacheKey(e),updateFrequency:C.CoreCacheUpdateFrequency.RARELY,component:v.yH,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return b.g.promiseWorks(o.read("mod_feedback_get_last_completed",i,s))}))()}logView(e,n=!1,r){return(0,o.A)((function*(){const o={feedbackid:e,moduleviewed:n};yield s.CoreCourseLogHelper.log("mod_feedback_view_feedback",o,v.yH,e,r)}))()}processPage(e,n,r,i={}){var s=this;return(0,o.A)((function*(){i.siteId=i.siteId||u.CoreSites.getCurrentSiteId();const c=function(){var a=(0,o.A)((function*(){yield g.X.saveResponses(e,n,r,i.courseId,i.siteId);const o={jumpto:n,completed:!1,offline:!0};let a=0;if(i.goPrevious?n>0&&(a=-1):i.formHasErrors||(a=1),0===a)return o;const c=yield s.getPageItemsWithValues(e,n,{cmId:i.cmId,readingStrategy:1,siteId:i.siteId});if(1==a&&!c.hasnextpage)return o.completed=!0,o;const u=yield s.getPageJumpTo(e,n+a,a,i);return!1===u?-1==a?o.jumpto=0:o.completed=!0:o.jumpto=u,o}));return function storeOffline(){return a.apply(this,arguments)}}();if(!a.WE.isOnline())return c();yield g.X.deleteFeedbackPageResponses(e,n,i.siteId);try{return yield s.processPageOnline(e,n,r,!!i.goPrevious,i.siteId)}catch(e){if(w.CoreWSError.isWebServiceError(e))throw e;return c()}}))()}processPageOnline(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(s),c={feedbackid:e,page:n,responses:p.T.toArrayOfObjects(r,"name","value"),goprevious:i},f=yield o.write("mod_feedback_process_page",c);return yield b.g.ignoreErrors(a.invalidateCurrentValuesData(e,o.getId())),yield b.g.ignoreErrors(a.getCurrentValues(e,{siteId:o.getId()})),f}))()}}return(e=AddonModFeedbackProvider).ROOT_CACHE_KEY="AddonModFeedback:",e.ɵfac=function AddonModFeedbackProvider_Factory(n){return new(n||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackProvider})();const I=(0,f.Qd)(E)},91793:(e,n,r)=>{"use strict";r.d(n,{B9:()=>i,DE:()=>o,F7:()=>s,lD:()=>a});r(86123);const o="AddonModFolder",i="mmaModFolder",s="mod_folder",a="folder"},99577:(e,n,r)=>{"use strict";r.d(n,{B:()=>b});var o=r(10467),i=r(44682),s=r(97254),a=r(52749),c=r(55554),u=r(79555),p=r(91793),f=r(74431),g=r(95384),v=r(54438);let C=(()=>{var e;class AddonModFolderProvider{getFolder(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r.siteId),s={courseids:[e]},c={cacheKey:i.getFolderCacheKey(e),updateFrequency:f.CoreCacheUpdateFrequency.RARELY,component:p.B9,...a.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield o.read("mod_folder_get_folders_by_courses",s,c);return g.CoreCourseModuleHelper.getActivityByCmId(u.folders,n)}))()}getFolderCacheKey(e){return`${AddonModFolderProvider.ROOT_CACHE_KEY}folder:${e}`}invalidateContent(e,n,r){var s=this;return(0,o.A)((function*(){const o=[];o.push(s.invalidateFolderData(n,r)),o.push(i.CoreCourse.invalidateModule(e,r)),yield c.g.allPromises(o)}))()}invalidateFolderData(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getFolderCacheKey(e))}))()}logView(e,n){return(0,o.A)((function*(){const r={folderid:e};yield s.CoreCourseLogHelper.log("mod_folder_view_folder",r,p.B9,e,n)}))()}}return(e=AddonModFolderProvider).ROOT_CACHE_KEY="mmaModFolder:",e.ɵfac=function AddonModFolderProvider_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFolderProvider})();const b=(0,u.Qd)(C)},2216:(e,n,r)=>{"use strict";r.d(n,{BR:()=>A,C7:()=>w,CT:()=>s,D7:()=>f,Ep:()=>i,L4:()=>C,Xz:()=>u,Yj:()=>a,eG:()=>_,kz:()=>c,lL:()=>E,p8:()=>v,pQ:()=>I,rh:()=>b,t4:()=>p,uP:()=>g});var o=r(86123);const i="AddonModForum",s="mmaModForum",a="mod_forum",c="forum",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="forum/search",f="addon_mod_forum_autom_synced",g="addon_mod_forum_manual_synced",v="addon_mod_forum_new_discussion",C="addon_mod_forum_reply_discussion",b="addon_mod_forum_change_discussion_status",w="addon_mod_forum_mark_read",A="forum_discussionlistsortorder",_=10,E=-1,I=-2},90741:(e,n,r)=>{"use strict";r.d(n,{RI:()=>o,aQ:()=>i,em:()=>s});const o="addon_mod_forum_discussions",i="addon_mod_forum_replies",s={name:"AddonModForumOfflineProvider",version:1,tables:[{name:o,columns:[{name:"forumid",type:"INTEGER"},{name:"name",type:"TEXT"},{name:"courseid",type:"INTEGER"},{name:"subject",type:"TEXT"},{name:"message",type:"TEXT"},{name:"options",type:"TEXT"},{name:"groupid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"timecreated",type:"INTEGER"}],primaryKeys:["forumid","userid","timecreated"]},{name:i,columns:[{name:"postid",type:"INTEGER"},{name:"discussionid",type:"INTEGER"},{name:"forumid",type:"INTEGER"},{name:"name",type:"TEXT"},{name:"courseid",type:"INTEGER"},{name:"subject",type:"TEXT"},{name:"message",type:"TEXT"},{name:"options",type:"TEXT"},{name:"userid",type:"INTEGER"},{name:"timecreated",type:"INTEGER"}],primaryKeys:["postid","userid"]}]}},93956:(e,n,r)=>{"use strict";r.d(n,{i:()=>I});var o=r(10467),i=r(16082),s=r(98870),a=r(94455),c=r(45507),u=r(52749),p=r(24742),f=r(81690),g=r(79555),v=r(16179),C=r(11945),b=r(2216),w=r(55554),A=r(43411),_=r(54438);let E=(()=>{var e;class AddonModForumHelperProvider{addNewDiscussion(e,n,r,i,s,c,p,g=[],w,_){var E=this;return(0,o.A)((function*(){_=_||u.CoreSites.getCurrentSiteId(),g=g&&g.length>0?g:[0];let I=!1;const T=[];let P;const k=function(){var a=(0,o.A)((function*(){const o=g.length>1?b.pQ:g[0];P&&p&&(p.attachmentsid=P),yield C.p.addNewDiscussion(e,n,r,i,s,p,o,w,_)}));return function storeOffline(){return a.apply(this,arguments)}}();if(c&&c.length>0){const n=g.map((()=>E.uploadOrStoreNewDiscussionFiles(e,w||0,c,!1).then((e=>T.push(e)))));try{yield Promise.all(n)}catch(n){if(A.CoreWSError.isWebServiceError(n))throw n;I=!0;const r=yield E.uploadOrStoreNewDiscussionFiles(e,w||0,c,!0);P=r}}if(w&&(yield C.p.deleteNewDiscussion(e,w,_)),I||!a.WE.isOnline())return yield k(),null;const x=[],F=[],R=g.map(function(){var n=(0,o.A)((function*(n,r){const o=f.j.clone(p);o&&T[r]&&(o.attachmentsid=T[r]);try{const r=yield v.AddonModForum.addNewDiscussionOnline(e,i,s,o,n,_);F.push(r)}catch(e){x.push(e)}}));return function(e,r){return n.apply(this,arguments)}}());if(yield Promise.all(R),x.length==g.length){for(let e=0;e<x.length;e++)if(A.CoreWSError.isWebServiceError(x[e])||c&&c.length>0)throw x[e];return yield k(),null}return F}))()}convertOfflineReplyToOnline(e,n){var r=this;return(0,o.A)((function*(){var o,i;const a={id:-e.timecreated,discussionid:e.discussionid,parentid:e.postid,hasparent:!!e.postid,author:{id:e.userid},timecreated:!1,subject:e.subject,message:e.message,attachments:[],capabilities:{reply:!1},unread:!1,isprivatereply:!(null===(o=e.options)||void 0===o||!o.private)},c=[];if(e.options&&e.options.attachmentsid){const o=e.options.attachmentsid;a.attachments="object"==typeof o&&"online"in o?o.online:[],"object"==typeof o&&o.offline&&c.push(r.getReplyStoredFiles(e.forumid,a.parentid,n,e.userid).then((e=>{a.attachments=a.attachments.concat(e)})))}return c.push(w.g.ignoreErrors(s.CoreUser.instance.getProfile(e.userid,e.courseid,!0).then((e=>{a.author.fullname=e.fullname,a.author.urls={profileimage:e.profileimageurl}})))),yield Promise.all(c),a.attachment=null!==(i=a.attachments)&&void 0!==i&&i.length?1:0,a}))()}deleteNewDiscussionStoredFiles(e,n,r){return(0,o.A)((function*(){const o=yield C.p.getNewDiscussionFolder(e,n,r);yield w.g.ignoreErrors(c.CoreFile.removeDir(o))}))()}deleteReplyStoredFiles(e,n,r,i){return(0,o.A)((function*(){const o=yield C.p.getReplyFolder(e,n,r,i);yield w.g.ignoreErrors(c.CoreFile.removeDir(o))}))()}getAvailabilityMessage(e,n=!0){if(this.isCutoffDateReached(e))return g.HT.instant("addon.mod_forum.cutoffdatereached");if(n){if(this.isDueDateReached(e)){const n=p.j.userDate(1e3*e.duedate);return g.HT.instant("addon.mod_forum.thisforumisdue",{$a:n})}if(e.duedate&&e.duedate>0){const n=p.j.userDate(1e3*e.duedate);return g.HT.instant("addon.mod_forum.thisforumhasduedate",{$a:n})}}return null}getDiscussionById(e,n,r,i){i=i||u.CoreSites.getCurrentSiteId();const s=function(){var a=(0,o.A)((function*(o){const a=yield v.AddonModForum.getDiscussions(e,{cmId:n,page:o,siteId:i});if(a.discussions&&a.discussions.length>0){const e=a.discussions.find((e=>e.discussion==r));if(e)return e;if(a.canLoadMore)return s(o+1)}throw new Error("Discussion not found")}));return function findDiscussion(e){return a.apply(this,arguments)}}();return s(0)}getNewDiscussionStoredFiles(e,n,r){return(0,o.A)((function*(){const o=yield C.p.getNewDiscussionFolder(e,n,r);return i.CoreFileUploader.getStoredFiles(o)}))()}getReplyStoredFiles(e,n,r,s){return(0,o.A)((function*(){const o=yield C.p.getReplyFolder(e,n,r,s);return i.CoreFileUploader.getStoredFiles(o)}))()}hasPostDataChanged(e,n){var r,o;return!(!n||null==n.subject)&&(e.subject!=n.subject||e.message!=n.message||(e.isprivatereply!=n.isprivatereply||i.CoreFileUploader.areFileListDifferent(null!==(r=e.files)&&void 0!==r?r:[],null!==(o=n.files)&&void 0!==o?o:[])))}isCutoffDateReached(e){const n=p.j.timestamp();return!!e.cutoffdate&&e.cutoffdate>0&&e.cutoffdate<n}isDueDateReached(e){var n;const r=p.j.timestamp(),o=null!==(n=e.duedate)&&void 0!==n?n:0;return o>0&&o<r}storeNewDiscussionFiles(e,n,r,s){return(0,o.A)((function*(){const o=yield C.p.getNewDiscussionFolder(e,n,s);return i.CoreFileUploader.storeFilesToUpload(o,r)}))()}storeReplyFiles(e,n,r,s,a){return(0,o.A)((function*(){const o=yield C.p.getReplyFolder(e,n,s,a);return i.CoreFileUploader.storeFilesToUpload(o,r)}))()}uploadOrStoreNewDiscussionFiles(e,n,r,o,s){return o?this.storeNewDiscussionFiles(e,n,r,s):i.CoreFileUploader.uploadOrReuploadFiles(r,b.CT,e,s)}uploadOrStoreReplyFiles(e,n,r,s,a,c){var u=this;return(0,o.A)((function*(){return s?u.storeReplyFiles(e,n,r,a,c):i.CoreFileUploader.uploadOrReuploadFiles(r,b.CT,e,a)}))()}}return(e=AddonModForumHelperProvider).ɵfac=function AddonModForumHelperProvider_Factory(n){return new(n||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumHelperProvider})();const I=(0,g.Qd)(E)},11945:(e,n,r)=>{"use strict";r.d(n,{p:()=>C});var o=r(10467),i=r(45507),s=r(52749),a=r(75383),c=r(79555),u=r(90741),p=r(8756),f=r(2216),g=r(54438);let v=(()=>{var e;class AddonModForumOfflineProvider{deleteNewDiscussion(e,n,r,i){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),a={forumid:e,userid:i||o.getUserId(),timecreated:n};yield o.getDb().deleteRecords(u.RI,a)}))()}getNewDiscussion(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),c={forumid:e,userid:i||o.getUserId(),timecreated:n},p=yield o.getDb().getRecord(u.RI,c);return a.parseRecordOptions(p)}))()}getAllNewDiscussions(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o=yield r.getDb().getRecords(u.RI);return n.parseRecordsOptions(o)}))()}hasNewDiscussions(e,n,r){var i=this;return(0,o.A)((function*(){try{return!!(yield i.getNewDiscussions(e,n,r)).length}catch(e){return!1}}))()}getNewDiscussions(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),a={forumid:e,userid:r||o.getUserId()},c=yield o.getDb().getRecords(u.RI,a);return i.parseRecordsOptions(c)}))()}addNewDiscussion(e,n,r,i,a,c,p,g,v,C){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(v),b={forumid:e,name:n,courseid:r,subject:i,message:a,options:JSON.stringify(c||{}),groupid:p||f.lL,userid:C||o.getUserId(),timecreated:g||Date.now()};yield o.getDb().insertRecord(u.RI,b)}))()}deleteReply(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),i={postid:e,userid:r||o.getUserId()};yield o.getDb().deleteRecords(u.aQ,i)}))()}getAllReplies(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e),o=yield r.getDb().getRecords(u.aQ);return n.parseRecordsOptions(o)}))()}hasForumReplies(e,n,r){var i=this;return(0,o.A)((function*(){try{return!!(yield i.getForumReplies(e,n,r)).length}catch(e){return!1}}))()}getForumReplies(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),a={forumid:e,userid:r||o.getUserId()},c=yield o.getDb().getRecords(u.aQ,a);return i.parseRecordsOptions(c)}))()}hasDiscussionReplies(e,n,r){var i=this;return(0,o.A)((function*(){try{return!!(yield i.getDiscussionReplies(e,n,r)).length}catch(e){return!1}}))()}getDiscussionReplies(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),a={discussionid:e,userid:r||o.getUserId()},c=yield o.getDb().getRecords(u.aQ,a);return i.parseRecordsOptions(c)}))()}replyPost(e,n,r,i,a,c,p,f,g,v){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(g),C={postid:e,discussionid:n,forumid:r,name:i,courseid:a,subject:c,message:p,options:JSON.stringify(f||{}),userid:v||o.getUserId(),timecreated:Date.now()};yield o.getDb().insertRecord(u.aQ,C)}))()}getForumFolder(e,n){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(n),o=i.CoreFile.getSiteFolder(r.getId());return p.$.concatenatePaths(o,`offlineforum/${e}`)}))()}getNewDiscussionFolder(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.getForumFolder(e,r);return p.$.concatenatePaths(o,`newdisc_${n}`)}))()}getReplyFolder(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield a.getForumFolder(e,r),c=yield s.CoreSites.getSite(r);return i=i||c.getUserId(),p.$.concatenatePaths(o,`reply_${n}_${i}`)}))()}parseRecordsOptions(e){return e.map((e=>this.parseRecordOptions(e)))}parseRecordOptions(e){return e.options=a.Ni.parseJSON(e.options),e}}return(e=AddonModForumOfflineProvider).ɵfac=function AddonModForumOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumOfflineProvider})();const C=(0,c.Qd)(v)},86275:(e,n,r)=>{"use strict";r.d(n,{F:()=>x});var o=r(10467),i=r(37690),s=r(97254),a=r(16082),c=r(82308),u=r(94455),p=r(15221),f=r(52749),g=r(48966),v=r(81690),C=r(79555),b=r(49882),w=r(16179),A=r(93956),_=r(11945),E=r(2216),I=r(55554),T=r(43411),P=r(54438);let k=(()=>{var e;class AddonModForumSyncProvider extends i.L{constructor(){super("AddonModForumSyncProvider"),this.componentTranslatableString="forum"}syncAllForums(e,n){var r=this;return(0,o.A)((function*(){yield r.syncOnSites("all forums",(e=>r.syncAllForumsFunc(!!n,e)),e)}))()}syncAllForumsFunc(e,n){var r=this;return(0,o.A)((function*(){const i=[],s=function(){var i=(0,o.A)((function*(i){const s=[],a=i.map(function(){var i=(0,o.A)((function*(o){if(s.includes(o.forumid))return;s.push(o.forumid);const i=e?yield r.syncForumDiscussions(o.forumid,o.userid,n):yield r.syncForumDiscussionsIfNeeded(o.forumid,o.userid,n);i&&i.updated&&b.z.trigger(E.D7,{forumId:o.forumid,userId:o.userid,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}());yield Promise.all(Object.values(a))}));return function syncDiscussions(e){return i.apply(this,arguments)}}();i.push(_.p.instance.getAllNewDiscussions(n).then((e=>s(e))));const a=function(){var i=(0,o.A)((function*(i){const s=[],a=i.map(function(){var i=(0,o.A)((function*(o){if(s.includes(o.discussionid))return;s.push(o.discussionid);const i=e?yield r.syncDiscussionReplies(o.discussionid,o.userid,n):yield r.syncDiscussionRepliesIfNeeded(o.discussionid,o.userid,n);i&&i.updated&&b.z.trigger(E.D7,{forumId:o.forumid,discussionId:o.discussionid,userId:o.userid,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}());yield Promise.all(a)}));return function syncReplies(e){return i.apply(this,arguments)}}();i.push(_.p.instance.getAllReplies(n).then((e=>a(e)))),i.push(r.syncRatings(void 0,void 0,e,n)),yield Promise.all(i)}))()}syncForumDiscussionsIfNeeded(e,n,r){var i=this;return(0,o.A)((function*(){r=r||f.CoreSites.getCurrentSiteId();const o=i.getForumSyncId(e,n);if(yield i.isSyncNeeded(o,r))return i.syncForumDiscussions(e,n,r)}))()}syncForumDiscussions(e,n,r){var i=this;return(0,o.A)((function*(){n=n||f.CoreSites.getCurrentSiteUserId(),r=r||f.CoreSites.getCurrentSiteId();const a=i.getForumSyncId(e,n),c=i.getOngoingSync(a,r);if(c)return c;if(g.CoreSync.isBlocked(E.Ep,a,r))throw i.logger.debug(`Cannot sync forum ${e} because it is blocked.`),new Error(C.HT.instant("core.errorsyncblocked",{$a:i.componentTranslate}));i.logger.debug(`Try to sync forum ${e} for user ${n}`);const b={warnings:[],updated:!1},A=function(){var c=(0,o.A)((function*(){yield I.g.ignoreErrors(s.CoreCourseLogHelper.syncActivity(E.CT,e,r));const c=yield I.g.ignoreErrors(_.p.getNewDiscussions(e,r,n),[]);if(0!==c.length&&!u.WE.isOnline())throw new Error("cannot sync in offline");const f=c.map(function(){var s=(0,o.A)((function*(s){const a=[],c=s.groupid===E.pQ?yield w.AddonModForum.instance.getForumById(s.courseid,s.forumid,{siteId:r}).then((e=>p.CoreGroups.getActivityAllowedGroups(e.cmid))).then((e=>e.groups.map((e=>e.id)))):[s.groupid];if(yield Promise.all(c.map(function(){var c=(0,o.A)((function*(o){try{const a=yield i.uploadAttachments(e,s,!0,r,n),c=v.j.clone(s.options||{});c.attachmentsid=a,yield w.AddonModForum.addNewDiscussionOnline(e,s.subject,s.message,c,o,r)}catch(e){a.push(e)}}));return function(e){return c.apply(this,arguments)}}())),a.length===c.length)for(const e of a)if(!T.CoreWSError.isWebServiceError(e))throw e;b.updated=!0,yield i.deleteNewDiscussion(e,s.timecreated,r,n),a.length===c.length&&i.addOfflineDataDeletedWarning(b.warnings,s.name,a[0])}));return function(e){return s.apply(this,arguments)}}());if(yield Promise.all(f),b.updated){const n=[w.AddonModForum.invalidateDiscussionsList(e,r),w.AddonModForum.invalidateCanAddDiscussion(e,r)];yield I.g.ignoreErrors(Promise.all(n))}return yield I.g.ignoreErrors(i.setSyncTime(a,r)),b}));return function syncDiscussions(){return c.apply(this,arguments)}}();return i.addOngoingSync(a,A(),r)}))()}syncRatings(e,n,r,i){var s=this;return(0,o.A)((function*(){i=i||f.CoreSites.getCurrentSiteId();const o=yield c.CoreRatingSync.syncRatings("mod_forum","post","module",e,n,r,i);let a=!1;const u=[],p=[];return o.forEach((e=>{e.updated.length&&(a=!0,p.push(w.AddonModForum.invalidateDiscussionPosts(e.itemSet.itemSetId,void 0,i))),e.warnings.length&&p.push(w.AddonModForum.getForum(e.itemSet.courseId,e.itemSet.instanceId,{siteId:i}).then((n=>{e.warnings.forEach((e=>{s.addOfflineDataDeletedWarning(u,n.name,e)}))})))})),yield I.g.allPromises(p),{updated:a,warnings:u}}))()}syncForumReplies(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield I.g.ignoreErrors(_.p.getForumReplies(e,r,n),[]);if(!o.length)return{warnings:[],updated:!1};if(!u.WE.isOnline())return Promise.reject(null);const s={};o.forEach((e=>{void 0===s[e.discussionid]&&(s[e.discussionid]=i.syncDiscussionReplies(e.discussionid,n,r))}));return(yield Promise.all(Object.values(s))).reduce(((e,n)=>({warnings:e.warnings.concat(n.warnings),updated:e.updated||n.updated})),{warnings:[],updated:!1})}))()}syncDiscussionRepliesIfNeeded(e,n,r){var i=this;return(0,o.A)((function*(){r=r||f.CoreSites.getCurrentSiteId();const o=i.getDiscussionSyncId(e,n);if(yield i.isSyncNeeded(o,r))return i.syncDiscussionReplies(e,n,r)}))()}syncDiscussionReplies(e,n,r){var i=this;return(0,o.A)((function*(){n=n||f.CoreSites.getCurrentSiteUserId(),r=r||f.CoreSites.getCurrentSiteId();const s=i.getDiscussionSyncId(e,n),a=i.getOngoingSync(s,r);if(a)return a;if(g.CoreSync.isBlocked(E.Ep,s,r))throw i.logger.debug(`Cannot sync forum discussion ${e} because it is blocked.`),new Error(C.HT.instant("core.errorsyncblocked",{$a:i.componentTranslate}));let c;i.logger.debug(`Try to sync forum discussion ${e} for user ${n}`);const p={warnings:[],updated:!1},v=function(){var a=(0,o.A)((function*(){const a=yield I.g.ignoreErrors(_.p.getDiscussionReplies(e,r,n),[]);if(0!==a.length&&!u.WE.isOnline())throw new Error("Cannot sync in offline");const f=a.map(function(){var e=(0,o.A)((function*(e){c=e.forumid,e.options=e.options||{};try{yield i.uploadAttachments(c,e,!1,r,n).then((n=>(e.options.attachmentsid=n,w.AddonModForum.replyPostOnline(e.postid,e.subject,e.message,e.options,r)))),p.updated=!0,yield i.deleteReply(c,e.postid,r,n)}catch(o){if(!T.CoreWSError.isWebServiceError(o))throw o;p.updated=!0,yield i.deleteReply(c,e.postid,r,n),i.addOfflineDataDeletedWarning(p.warnings,e.name,o)}}));return function(n){return e.apply(this,arguments)}}());yield Promise.all(f);const g=[];return c&&g.push(w.AddonModForum.invalidateDiscussionsList(c,r)),g.push(w.AddonModForum.invalidateDiscussionPosts(e,c,r)),yield I.g.allPromisesIgnoringErrors(g),yield I.g.ignoreErrors(i.setSyncTime(s,r)),p}));return function syncReplies(){return a.apply(this,arguments)}}();return i.addOngoingSync(s,v(),r)}))()}deleteNewDiscussion(e,n,r,i){return(0,o.A)((function*(){yield Promise.all([_.p.deleteNewDiscussion(e,n,r,i),I.g.ignoreErrors(A.i.deleteNewDiscussionStoredFiles(e,n,r))])}))()}deleteReply(e,n,r,i){return(0,o.A)((function*(){yield Promise.all([_.p.deleteReply(n,r,i),I.g.ignoreErrors(A.i.deleteReplyStoredFiles(e,n,r,i))])}))()}uploadAttachments(e,n,r,i,s){return(0,o.A)((function*(){const o=n&&n.options&&n.options.attachmentsid;if(!o)return;let c="object"==typeof o&&o.online?o.online:[];if("object"==typeof o&&o.offline)try{const o=r?yield A.i.getNewDiscussionStoredFiles(e,n.timecreated,i):yield A.i.getReplyStoredFiles(e,n.postid,i,s);c=c.concat(o)}catch(e){}return a.CoreFileUploader.uploadOrReuploadFiles(c,E.CT,e,i)}))()}getForumSyncId(e,n){return`forum#${e}#${n=n||f.CoreSites.getCurrentSiteUserId()}`}getDiscussionSyncId(e,n){return`discussion#${e}#${n=n||f.CoreSites.getCurrentSiteUserId()}`}}return(e=AddonModForumSyncProvider).ɵfac=function AddonModForumSyncProvider_Factory(n){return new(n||e)},e.ɵprov=P.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumSyncProvider})();const x=(0,C.Qd)(k)},16179:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModForum:()=>P,AddonModForumProvider:()=>T});var o=r(10467),i=r(97254),s=r(98870),a=r(94455),c=r(15221),u=r(52749),p=r(8014),f=r(81690),g=r(79555),v=r(11945),C=r(2216),b=r(74431),w=r(55554),A=r(43411),_=r(58364),E=r(95384),I=r(54438);let T=(()=>{var e;class AddonModForumProvider{getCanAddDiscussionCacheKey(e,n){return this.getCommonCanAddDiscussionCacheKey(e)+n}getCommonCanAddDiscussionCacheKey(e){return`${AddonModForumProvider.ROOT_CACHE_KEY}canadddiscussion:${e}:`}getForumDataPrefixCacheKey(e){return AddonModForumProvider.ROOT_CACHE_KEY+e}getDiscussionPostDataCacheKey(e,n,r){return`${this.getForumDiscussionDataCacheKey(e,n)}:post:${r}`}getForumDiscussionDataCacheKey(e,n){return`${this.getForumDataPrefixCacheKey(e)}:discussion:${n}`}getForumDataCacheKey(e){return`${AddonModForumProvider.ROOT_CACHE_KEY}forum:${e}`}getAccessInformationCacheKey(e){return`${AddonModForumProvider.ROOT_CACHE_KEY}accessInformation:${e}`}getDiscussionPostsCacheKey(e){return`${AddonModForumProvider.ROOT_CACHE_KEY}discussion:${e}`}getDiscussionsListCommonCacheKey(e){return`${AddonModForumProvider.ROOT_CACHE_KEY}discussions:${e}`}getDiscussionsListCacheKey(e,n,r){let o=this.getDiscussionsListCommonCacheKey(e);return 1!==n&&(o+=`:${n}`),r&&(o+=`:group${r}`),o}addNewDiscussionOnline(e,n,r,i,s,a){return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(a),c={forumid:e,subject:n,message:r,options:_.T.toArrayOfObjects(i||{},"name","value")};s&&(c.groupid=s);return(yield o.write("mod_forum_add_discussion",c)).discussionid}))()}canAddDiscussion(e,n,r={}){var i=this;return(0,o.A)((function*(){const o={forumid:e,groupid:n},s={cacheKey:i.getCanAddDiscussionCacheKey(e,n),component:C.CT,componentId:r.cmId,...u.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},a=yield u.CoreSites.getSite(r.siteId),c=yield a.read("mod_forum_can_add_discussion",o,s);if(!c)throw new Error("Invalid response calling mod_forum_can_add_discussion");return void 0===c.canpindiscussions&&(c.canpindiscussions=!1),void 0===c.cancreateattachment&&(c.cancreateattachment=!0),c}))()}canAddDiscussionToAll(e,n={}){return this.canAddDiscussion(e,C.lL,n)}deletePost(e,n){return(0,o.A)((function*(){return(yield u.CoreSites.getSite(n)).write("mod_forum_delete_post",{postid:e})}))()}extractStartingPost(e){const n=e.findIndex((e=>!e.parentid));return n>=0?e.splice(n,1).pop():void 0}isGetDiscussionPostAvailable(){return u.CoreSites.wsAvailableInCurrentSite("mod_forum_get_discussion_post")}isGetDiscussionPostsAvailable(e){return e?e.wsAvailable("mod_forum_get_discussion_posts"):u.CoreSites.wsAvailableInCurrentSite("mod_forum_get_discussion_posts")}isDeletePostAvailable(){return u.CoreSites.wsAvailableInCurrentSite("mod_forum_delete_post")}isUpdatePostAvailable(){return u.CoreSites.wsAvailableInCurrentSite("mod_forum_update_discussion_post")}formatDiscussionsGroups(e,n){return n=f.j.clone(n),c.CoreGroups.getActivityAllowedGroups(e).then((e=>{const r=g.HT.instant("core.allparticipants"),o=g.HT.instant("core.allgroups"),i={};return e.groups.forEach((e=>{i[e.id]=e})),n.forEach((e=>{if(e.groupid==C.lL)e.groupname=r;else if(e.groupid==C.pQ)e.groupname=o;else{const n=i[e.groupid];n&&(e.groupname=n.name)}})),n})).catch((()=>n))}getCourseForums(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={courseids:[e]},s={cacheKey:r.getForumDataCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.RARELY,component:C.CT,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_forum_get_forums_by_courses",i,s)}))()}getDiscussionPost(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(i.siteId),a={postid:r},c={cacheKey:s.getDiscussionPostDataCacheKey(e,n,r),updateFrequency:b.CoreCacheUpdateFrequency.USUALLY,component:C.CT,componentId:i.cmId,...u.CoreSites.getReadingStrategyPreSets(i.readingStrategy)},p=yield o.read("mod_forum_get_discussion_post",a,c);if(!p.post)throw new Error("Post not found");return s.translateWSPost(p.post)}))()}getForum(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield i.getCourseForums(e,r);return E.CoreCourseModuleHelper.getActivityByField(o,"cmid",n)}))()}getForumById(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield i.getCourseForums(e,r);return E.CoreCourseModuleHelper.getActivityByField(o,"id",n)}))()}getAccessInformation(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId);if(!o.wsAvailable("mod_forum_get_forum_access_information"))return{};const i={forumid:e},s={cacheKey:r.getAccessInformationCacheKey(e),component:C.CT,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_forum_get_forum_access_information",i,s)}))()}getDiscussionPosts(e,n={}){var r=this;return(0,o.A)((function*(){const o={discussionid:e},i={cacheKey:r.getDiscussionPostsCacheKey(e),component:C.CT,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},s=yield u.CoreSites.getSite(n.siteId),a=r.isGetDiscussionPostsAvailable(s);a&&s.isVersionGreaterEqualThan("4.0")&&(o.includeinlineattachments=!0);const c=a?yield s.read("mod_forum_get_discussion_posts",o,i):yield s.read("mod_forum_get_forum_discussion_posts",o,i);if(!c)throw new Error("Could not get forum posts");const p=a?(e=>(e.forEach((e=>r.translateWSPost(e))),e))(c.posts):(e=>e.map((e=>{const n={id:e.id,discussionid:e.discussion,parentid:e.parent,hasparent:!!e.parent,author:{id:e.userid,fullname:e.userfullname,urls:{profileimage:e.userpictureurl}},timecreated:e.created,subject:e.subject,message:e.message,attachments:e.attachments,capabilities:{reply:!!e.canreply},unread:!e.postread,isprivatereply:!!e.isprivatereply,tags:e.tags};return"groupname"in e&&"string"==typeof e.groupname&&(n.author.groups=[{name:e.groupname}]),n})))(c.posts);return r.storeUserData(p),{...c,posts:p}}))()}sortDiscussionPosts(e,n){e.sort(((e,r)=>{const o=Number(e.timecreated)||0,i=Number(r.timecreated)||0;return 0==o||0==i?i-o:"ASC"==n?o-i:i-o}))}isDiscussionListSortingAvailable(e){var n;return!(null===(n=e=e||u.CoreSites.getCurrentSite())||void 0===n||!n.isVersionGreaterEqualThan("3.7"))}getAvailableSortOrders(){const e=[{label:"addon.mod_forum.discussionlistsortbylastpostdesc",value:1}];return this.isDiscussionListSortingAvailable()&&e.push({label:"addon.mod_forum.discussionlistsortbylastpostasc",value:2},{label:"addon.mod_forum.discussionlistsortbycreateddesc",value:3},{label:"addon.mod_forum.discussionlistsortbycreatedasc",value:4},{label:"addon.mod_forum.discussionlistsortbyrepliesdesc",value:5},{label:"addon.mod_forum.discussionlistsortbyrepliesasc",value:6}),e}getSelectedSortOrder(){var e=this;return(0,o.A)((function*(){const n=e.getAvailableSortOrders();let r=null;if(e.isDiscussionListSortingAvailable()){const e=yield w.g.ignoreErrors(s.CoreUser.getUserPreference(C.BR));r=e?parseInt(e,10):null}return n.find((e=>e.value===r))||n[0]}))()}getDiscussions(e,n={}){var r=this;return(0,o.A)((function*(){n.sortOrder=n.sortOrder||1,n.page=n.page||0;const o=yield u.CoreSites.getSite(n.siteId);let i="mod_forum_get_forum_discussions_paginated";const s={forumid:e,page:n.page,perpage:C.eG};if(o.wsAvailable("mod_forum_get_forum_discussions"))i="mod_forum_get_forum_discussions",s.sortorder=n.sortOrder,s.groupid=n.groupId;else{if(1!==n.sortOrder)throw new Error("Sorting not supported with the old WS method.");s.sortby="timemodified",s.sortdirection="DESC"}const c={cacheKey:r.getDiscussionsListCacheKey(e,n.sortOrder),component:C.CT,componentId:n.cmId,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};let p;try{p=yield o.read(i,s,c)}catch(r){if(a.WE.isOnline()||"mod_forum_get_forum_discussions"!==i||1!==n.sortOrder)throw r;const s={forumid:e,page:n.page,perpage:C.eG,sortby:"timemodified",sortdirection:"DESC"};Object.assign(c,u.CoreSites.getReadingStrategyPreSets(1)),p=yield o.read("mod_forum_get_forum_discussions_paginated",s,c)}if(!p)throw new Error("Could not get discussions");return r.storeUserData(p.discussions),{discussions:p.discussions,canLoadMore:p.discussions.length>=C.eG}}))()}getDiscussionsInPages(e,n={}){var r=this;return(0,o.A)((function*(){var o;const i={discussions:[],error:!1};let s=void 0===n.numPages?-1:n.numPages;if(!s)return i;const getPage=o=>r.getDiscussions(e,{...n,page:o}).then((e=>(i.discussions=i.discussions.concat(e.discussions),s--,e.canLoadMore&&0!==s?getPage(o+1):i))).catch((()=>(i.error=!0,i)));return getPage(null!==(o=n.page)&&void 0!==o?o:0)}))()}invalidateCanAddDiscussion(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getCommonCanAddDiscussionCacheKey(e))}))()}invalidateContent(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getForum(n,e),i=[];return i.push(r.invalidateForumData(n)),i.push(r.invalidateDiscussionsList(o.id)),i.push(r.invalidateCanAddDiscussion(o.id)),i.push(r.invalidateAccessInformation(o.id)),r.getAvailableSortOrders().forEach((e=>{i.push(r.getDiscussionsInPages(o.id,{cmId:o.cmid,sortOrder:e.value,readingStrategy:0}).then((e=>{const n=[];return e.discussions.forEach((e=>{n.push(r.invalidateDiscussionPosts(e.discussion,o.id))})),w.g.allPromises(n)})))})),r.isDiscussionListSortingAvailable()&&i.push(s.CoreUser.invalidateUserPreference(C.BR)),w.g.allPromises(i)}))()}invalidateAccessInformation(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAccessInformationCacheKey(e))}))()}invalidateDiscussionPosts(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(r),s=[o.invalidateWsCacheForKey(i.getDiscussionPostsCacheKey(e))];n&&s.push(o.invalidateWsCacheForKeyStartingWith(i.getForumDiscussionDataCacheKey(n,e))),yield w.g.allPromises(s)}))()}invalidateDiscussionsList(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getDiscussionsListCommonCacheKey(e))}))()}invalidateForumData(e){var n=this;return(0,o.A)((function*(){const r=u.CoreSites.getCurrentSite();yield null==r?void 0:r.invalidateWsCacheForKey(n.getForumDataCacheKey(e))}))()}logView(e,n){return i.CoreCourseLogHelper.log("mod_forum_view_forum",{forumid:e},C.CT,e,n)}logDiscussionView(e,n,r){return i.CoreCourseLogHelper.log("mod_forum_view_forum_discussion",{discussionid:e},C.CT,n,r)}replyPost(e,n,r,i,s,c,p,f,C,b){var w=this;return(0,o.A)((function*(){C=C||u.CoreSites.getCurrentSiteId();const _=function(){var a=(0,o.A)((function*(){if(!r)throw new Error(g.HT.instant("core.networkerrormsg"));return yield v.p.replyPost(e,n,r,i,s,c,p,f,C),!1}));return function storeOffline(){return a.apply(this,arguments)}}();if(!a.WE.isOnline()&&b)return _();try{return yield v.p.deleteReply(e,C),yield w.replyPostOnline(e,c,p,f,C),!0}catch(e){if(b&&!A.CoreWSError.isWebServiceError(e))return _();throw e}}))()}replyPostOnline(e,n,r,i,s){return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(s),a={postid:e,subject:n,message:r,options:_.T.toArrayOfObjects(i||{},"name","value")},c=yield o.write("mod_forum_add_discussion_post",a);if(!c||!c.postid)throw new Error("Post id missing from response");return c.postid}))()}setLockState(e,n,r,i){return(0,o.A)((function*(){return(yield u.CoreSites.getSite(i)).write("mod_forum_set_lock_state",{forumid:e,discussionid:n,targetstate:r?0:1})}))()}isSetPinStateAvailableForSite(){return u.CoreSites.wsAvailableInCurrentSite("mod_forum_set_pin_state")}setPinState(e,n,r){return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(r),i={discussionid:e,targetstate:n?1:0};yield o.write("mod_forum_set_pin_state",i)}))()}toggleFavouriteState(e,n,r){return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(r),i={discussionid:e,targetstate:n};yield o.write("mod_forum_toggle_favourite_state",i)}))()}storeUserData(e){const n={};e.forEach((e=>{if("author"in e){const o=Number(e.author.id);var r;if(!isNaN(o)&&!n[o])n[o]={id:e.author.id,fullname:e.author.fullname,profileimageurl:null===(r=e.author.urls)||void 0===r?void 0:r.profileimage}}const o=parseInt(e.userid);!("userid"in e)||isNaN(o)||n[o]||(n[o]={id:o,fullname:e.userfullname,profileimageurl:e.userpictureurl});const i=parseInt(e.usermodified);!("usermodified"in e)||isNaN(i)||n[i]||(n[i]={id:i,fullname:e.usermodifiedfullname,profileimageurl:e.usermodifiedpictureurl})})),s.CoreUser.storeUsers(_.T.toArray(n))}preparePostForEdition(e,n,r={}){return(0,o.A)((function*(){var o;const i=yield u.CoreSites.getSite(r.siteId),s={postid:e,area:n};return null!==(o=r.filesToKeep)&&void 0!==o&&o.length&&(s.filestokeep=r.filesToKeep.map((e=>{var n,r;return{filename:null!==(n=e.filename)&&void 0!==n?n:"",filepath:null!==(r=e.filepath)&&void 0!==r?r:""}}))),yield i.write("mod_forum_prepare_draft_area_for_post",s)}))()}updatePost(e,n,r,i,s){return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(s),a={postid:e,subject:n,message:r,options:_.T.toArrayOfObjects(i||{},"name","value")},c=yield o.write("mod_forum_update_discussion_post",a);return c&&c.status}))()}translateWSPost(e){return e.tags=(e.tags||[]).map((e=>{const n=p.F.extractUrlParams(e.urls&&e.urls.view||"");return{id:e.tagid,taginstanceid:e.id,flag:e.flag?1:0,isstandard:e.isstandard,rawname:e.displayname,name:e.displayname,tagcollid:n.tc?Number(n.tc):void 0,taginstancecontextid:n.from?Number(n.from):void 0}})),e}}return(e=AddonModForumProvider).ROOT_CACHE_KEY="mmaModForum:",e.ɵfac=function AddonModForumProvider_Factory(n){return new(n||e)},e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumProvider})();const P=(0,g.Qd)(T)},57095:(e,n,r)=>{"use strict";r.d(n,{V:()=>_});var o=r(10467),i=r(38911),s=r(16179),a=r(88793),c=r(44682),u=r(98870),p=r(15221),f=r(55554),g=r(86275),v=r(79555),C=r(66110),b=r(2216),w=r(54438);let A=(()=>{var e;class AddonModForumPrefetchHandlerService extends i.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModForum",this.modName=b.kz,this.component=b.CT,this.updatesNames=/^configuration$|^.*files$|^discussions$/}getFiles(e,n){var r=this;return(0,o.A)((function*(){try{const o=yield s.AddonModForum.getForum(n,e.id);let i=r.getIntroFilesFromInstance(e,o);const a=yield r.getPostsForPrefetch(o,{cmId:e.id});return i=i.concat(r.getPostsFiles(a)),i}catch(e){return[]}}))()}getPostsFiles(e){let n=[];return e.forEach((e=>{e.attachments&&e.attachments.length&&(n=n.concat(e.attachments)),e.messageinlinefiles?n=n.concat(e.messageinlinefiles):e.message&&(n=n.concat(a.CoreFilepool.extractDownloadableFilesFromHtmlAsFakeFileObjects(e.message)))})),n}getPostsForPrefetch(e,n={}){var r=this;return(0,o.A)((function*(){const i=yield s.AddonModForum.getSelectedSortOrder(),a=yield r.getGroupsIdsToPrefetch(e),c=yield Promise.all(a.map(function(){var r=(0,o.A)((function*(r){const o={sortOrder:i.value,groupId:r,numPages:2,...n},a=yield s.AddonModForum.getDiscussionsInPages(e.id,o);if(a.error)throw new Error("Failed getting discussions");return Promise.all(a.discussions.map((e=>s.AddonModForum.getDiscussionPosts(e.discussion,n))))}));return function(e){return r.apply(this,arguments)}}())),u=[],p={};return c.forEach((e=>{e.forEach((e=>{e.posts.forEach((e=>{p[e.id]||(p[e.id]=!0,u.push(e))}))}))})),u}))()}getGroupsIdsToPrefetch(e){return(0,o.A)((function*(){var n;const r=yield p.CoreGroups.getActivityGroupInfo(e.cmid),o=s.AddonModForum.isGetDiscussionPostsAvailable();if(!!(!r.separateGroups&&!r.visibleGroups))return[0];return r.groups.find((e=>0===e.id))?[0]:o?null!==(n=r.groups.map((e=>e.id)))&&void 0!==n?n:[0]:[r.defaultGroupId]}))()}invalidateContent(e,n){return(0,o.A)((function*(){yield s.AddonModForum.invalidateContent(e,n)}))()}invalidateModule(e,n){return(0,o.A)((function*(){const r=[];r.push(s.AddonModForum.invalidateForumData(n)),r.push(c.CoreCourse.invalidateModule(e.id)),yield Promise.all(r)}))()}prefetch(e,n,r){return this.prefetchPackage(e,n,(o=>this.prefetchForum(e,n,!!r,o)))}prefetchForum(e,n,r,i){var c=this;return(0,o.A)((function*(){const r={readingStrategy:2,siteId:i},o={cmId:e.id,...r},p=yield s.AddonModForum.getForum(n,e.id,r),g=[];g.push(c.getPostsForPrefetch(p,o).then((r=>{const o=[],s=c.getIntroFilesFromInstance(e,p).concat(c.getPostsFiles(r));return o.push(a.CoreFilepool.addFilesToQueue(i,s,c.component,e.id)),o.push(c.prefetchGroupsInfo(p,n,!!p.cancreatediscussions,i)),o.push(u.CoreUser.prefetchUserAvatars(r,"userpictureurl",i)),Promise.all(o)}))),g.push(s.AddonModForum.getAccessInformation(p.id,o)),g.push(f.g.ignoreErrors(C.CoreCourses.getCourseByField("id",n,i))),yield Promise.all(g)}))()}prefetchGroupsInfo(e,n,r,i){return(0,o.A)((function*(){const n={cmId:e.cmid,siteId:i};try{const r=yield p.CoreGroups.getActivityGroupMode(e.cmid,i);if(r!==p.CoreGroupsProvider.SEPARATEGROUPS&&r!==p.CoreGroupsProvider.VISIBLEGROUPS)return yield f.g.ignoreErrors(s.AddonModForum.canAddDiscussionToAll(e.id,n)),void 0;const a=yield p.CoreGroups.getActivityAllowedGroups(e.cmid,void 0,i);yield Promise.all(a.groups.map(function(){var r=(0,o.A)((function*(r){return f.g.ignoreErrors(s.AddonModForum.canAddDiscussion(e.id,r.id,n))}));return function(e){return r.apply(this,arguments)}}()).concat(f.g.ignoreErrors(s.AddonModForum.canAddDiscussionToAll(e.id,n))))}catch(e){if(r)throw e}}))()}sync(e,n,r){return(0,o.A)((function*(){const n=[];n.push(g.F.syncForumDiscussions(e.instance,void 0,r)),n.push(g.F.syncForumReplies(e.instance,void 0,r)),n.push(g.F.syncRatings(e.id,void 0,!0,r));return(yield Promise.all(n)).reduce(((e,n)=>({updated:e.updated||n.updated,warnings:(e.warnings||[]).concat(n.warnings||[])})),{updated:!1,warnings:[]})}))()}}return(e=AddonModForumPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModForumPrefetchHandlerService_Factory(r){return(n||(n=w.xGo(e)))(r||e)}})(),e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumPrefetchHandlerService})();const _=(0,v.Qd)(A)},59829:(e,n,r)=>{"use strict";r.d(n,{OL:()=>v,Oc:()=>u,XG:()=>i,Yd:()=>b,Z9:()=>a,Z_:()=>f,hd:()=>c,iW:()=>p,pV:()=>s,sT:()=>C,uw:()=>g});var o=r(86123);const i="AddonModGlossary",s="mmaModGlossary",a="mod_glossary",c="glossary",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_glossary_auto_synced",f="addon_mod_glossary_entry_added",g="addon_mod_glossary_entry_updated",v="addon_mod_glossary_entry_deleted",C=25,b=10},24155:(e,n,r)=>{"use strict";r.d(n,{em:()=>i,gr:()=>a,ix:()=>o,m5:()=>s});const o="addon_mod_glossary_entry_glossaryid",i={name:"AddonModGlossaryProvider",version:1,tables:[{name:o,columns:[{name:"entryid",type:"INTEGER",primaryKey:!0},{name:"glossaryid",type:"INTEGER"},{name:"pagefrom",type:"INTEGER"}]}]},s="addon_mod_glossary_entrues",a={name:"AddonModGlossaryOfflineProvider",version:1,tables:[{name:s,columns:[{name:"glossaryid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"concept",type:"TEXT"},{name:"definition",type:"TEXT"},{name:"definitionformat",type:"TEXT"},{name:"userid",type:"INTEGER"},{name:"timecreated",type:"INTEGER"},{name:"options",type:"TEXT"},{name:"attachments",type:"TEXT"}],primaryKeys:["glossaryid","concept","timecreated"]}]}},18674:(e,n,r)=>{"use strict";r.d(n,{n:()=>g});var o=r(10467),i=r(16082),s=r(45507),a=r(55554),c=r(20119),u=r(79555),p=r(54438);let f=(()=>{var e;class AddonModGlossaryHelperProvider{deleteStoredFiles(e,n,r,i){return(0,o.A)((function*(){const o=yield c.e.getEntryFolder(e,n,r,i);yield a.g.ignoreErrors(s.CoreFile.removeDir(o))}))()}getStoredFiles(e,n,r,s){return(0,o.A)((function*(){const o=yield c.e.getEntryFolder(e,n,r,s);return i.CoreFileUploader.getStoredFiles(o)}))()}storeFiles(e,n,r,s,a){return(0,o.A)((function*(){const o=yield c.e.getEntryFolder(e,n,r,a);return i.CoreFileUploader.storeFilesToUpload(o,s)}))()}}return(e=AddonModGlossaryHelperProvider).ɵfac=function AddonModGlossaryHelperProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryHelperProvider})();const g=(0,u.Qd)(f)},20119:(e,n,r)=>{"use strict";r.d(n,{e:()=>b});var o=r(10467),i=r(45507),s=r(52749),a=r(75383),c=r(79555),u=r(49882),p=r(8756),f=r(24155),g=r(59829),v=r(54438);let C=(()=>{var e;class AddonModGlossaryOfflineProvider{deleteOfflineEntry(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),i={glossaryid:e,timecreated:n};yield o.getDb().deleteRecords(f.m5,i),u.z.trigger(g.OL,{glossaryId:e,timecreated:n})}))()}getAllOfflineEntries(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);return(yield r.getDb().getRecords(f.m5)).map((e=>n.parseRecord(e)))}))()}getOfflineEntry(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),a={glossaryid:e,timecreated:n},c=yield o.getDb().getRecord(f.m5,a);return i.parseRecord(c)}))()}getGlossaryOfflineEntries(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),a={glossaryid:e,userid:r||o.getUserId()};return(yield o.getDb().getRecords(f.m5,a)).map((e=>i.parseRecord(e)))}))()}isConceptUsed(e,n,r,i){return(0,o.A)((function*(){try{const o=yield s.CoreSites.getSite(i),a={glossaryid:e,concept:n},c=yield o.getDb().getRecords(f.m5,a);return!!c.length&&(c.length>1||!r||c[0].timecreated!==r)}catch{return!1}}))()}addOfflineEntry(e,n,r,i,a,c,p,v,C){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(v),b={glossaryid:e,courseid:i,concept:n,definition:r,definitionformat:"html",options:JSON.stringify(c||{}),attachments:JSON.stringify(p),userid:C||o.getUserId(),timecreated:a};return yield o.getDb().insertRecord(f.m5,b),u.z.trigger(g.Z_,{glossaryId:e,timecreated:a},v),!1}))()}updateOfflineEntry(e,n,r,i,a){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(),c={concept:n,definition:r,definitionformat:"html",options:JSON.stringify(i||{}),attachments:JSON.stringify(a)};yield o.getDb().updateRecords(f.m5,c,{...e,userid:o.getUserId()}),u.z.trigger(g.uw,{glossaryId:e.glossaryid,timecreated:e.timecreated})}))()}getGlossaryFolder(e,n){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(n),o=i.CoreFile.getSiteFolder(r.getId());return p.$.concatenatePaths(o,`offlineglossary/${e}`)}))()}getEntryFolder(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield s.getGlossaryFolder(e,i);return p.$.concatenatePaths(o,`newentry_${n}_${r}`)}))()}parseRecord(e){return Object.assign(e,{options:a.Ni.parseJSON(e.options),attachments:e.attachments?a.Ni.parseJSON(e.attachments):void 0})}}return(e=AddonModGlossaryOfflineProvider).ɵfac=function AddonModGlossaryOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryOfflineProvider})();const b=(0,c.Qd)(C)},81097:(e,n,r)=>{"use strict";r.d(n,{a:()=>x});var o=r(10467),i=r(42008),s=r(49446),a=r(37690),c=r(97254),u=r(82308),p=r(94455),f=r(52749),g=r(48966),v=r(43411),C=r(79555),b=r(49882),w=r(21113),A=r(18674),_=r(20119),E=r(16082),I=r(59829),T=r(55554),P=r(54438);let k=(()=>{var e;class AddonModGlossarySyncProvider extends a.L{constructor(){super("AddonModGlossarySyncProvider"),this.componentTranslatableString="glossary"}syncAllGlossaries(e,n){var r=this;return(0,o.A)((function*(){yield r.syncOnSites("all glossaries",(e=>r.syncAllGlossariesFunc(!!n,e)),e)}))()}syncAllGlossariesFunc(e,n){var r=this;return(0,o.A)((function*(){n=n||f.CoreSites.getCurrentSiteId(),yield Promise.all([r.syncAllGlossariesEntries(e,n),r.syncRatings(void 0,e,n)])}))()}syncAllGlossariesEntries(e,n){var r=this;return(0,o.A)((function*(){const i=yield _.e.getAllOfflineEntries(n),s={};yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){if(s[o.glossaryid])return;s[o.glossaryid]=!0;const i=e?yield r.syncGlossaryEntries(o.glossaryid,o.userid,n):yield r.syncGlossaryEntriesIfNeeded(o.glossaryid,o.userid,n);null!=i&&i.updated&&b.z.trigger(I.iW,{glossaryId:o.glossaryid,userId:o.userid,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}()))}))()}syncGlossaryEntriesIfNeeded(e,n,r){var i=this;return(0,o.A)((function*(){r=r||f.CoreSites.getCurrentSiteId();const o=i.getGlossarySyncId(e,n);if(yield i.isSyncNeeded(o,r))return i.syncGlossaryEntries(e,n,r)}))()}syncGlossaryEntries(e,n,r){n=n||f.CoreSites.getCurrentSiteUserId(),r=r||f.CoreSites.getCurrentSiteId();const o=this.getGlossarySyncId(e,n),s=this.getOngoingSync(o,r);if(s)return s;if(g.CoreSync.isBlocked(I.XG,o,r))throw this.logger.debug(`Cannot sync glossary ${e} because it is blocked.`),new i.D(C.HT.instant("core.errorsyncblocked",{$a:this.componentTranslate}));this.logger.debug(`Try to sync glossary ${e} for user ${n}`);const a=this.performSyncGlossaryEntries(e,n,r);return this.addOngoingSync(o,a,r)}performSyncGlossaryEntries(e,n,r){var i=this;return(0,o.A)((function*(){const a={warnings:[],updated:!1},u=i.getGlossarySyncId(e,n);yield T.g.ignoreErrors(c.CoreCourseLogHelper.syncActivity(I.pV,e,r));const f=yield T.g.ignoreErrors(_.e.getGlossaryOfflineEntries(e,r,n),[]);if(!f.length)return yield T.g.ignoreErrors(i.setSyncTime(u,r)),a;if(!p.WE.isOnline())throw new s.CoreNetworkError;let g;if(yield Promise.all(f.map(function(){var n=(0,o.A)((function*(n){g=g||n.courseid;try{const o=yield i.uploadAttachments(e,n,r);yield w.$.addEntryOnline(e,n.concept,n.definition,n.options,o,r),a.updated=!0,yield i.deleteAddEntry(e,n.concept,n.timecreated,r)}catch(o){if(!v.CoreWSError.isWebServiceError(o))throw o;a.updated=!0,yield i.deleteAddEntry(e,n.concept,n.timecreated,r),i.addOfflineDataDeletedWarning(a.warnings,n.concept,o)}}));return function(e){return n.apply(this,arguments)}}())),a.updated&&g)try{const n=yield w.$.getGlossaryById(g,e);yield w.$.invalidateGlossaryEntries(n,!0)}catch{}return yield T.g.ignoreErrors(i.setSyncTime(u,r)),a}))()}syncRatings(e,n,r){var i=this;return(0,o.A)((function*(){r=r||f.CoreSites.getCurrentSiteId();const s=yield u.CoreRatingSync.syncRatings("mod_glossary","entry","module",e,0,n,r);let a=!1;const c=[];return yield T.g.allPromises(s.map(function(){var e=(0,o.A)((function*(e){if(e.updated.length&&(a=!0,yield Promise.all(e.updated.map((e=>w.$.invalidateEntry(e,r))))),e.warnings.length){const n=yield w.$.getGlossary(e.itemSet.courseId,e.itemSet.instanceId,{siteId:r});e.warnings.forEach((e=>{i.addOfflineDataDeletedWarning(c,n.name,e)}))}}));return function(n){return e.apply(this,arguments)}}())),{updated:a,warnings:c}}))()}deleteAddEntry(e,n,r,i){return(0,o.A)((function*(){yield Promise.all([_.e.deleteOfflineEntry(e,r,i),A.n.deleteStoredFiles(e,n,r,i)])}))()}uploadAttachments(e,n,r){return(0,o.A)((function*(){if(!n.attachments)return 0;let o=n.attachments.online||[];if(n.attachments.offline){const i=yield T.g.ignoreErrors(A.n.getStoredFiles(e,n.concept,n.timecreated,r),[]);o=o.concat(i)}return E.CoreFileUploader.uploadOrReuploadFiles(o,I.pV,e,r)}))()}getGlossarySyncId(e,n){return`glossary#${e}#${n=n||f.CoreSites.getCurrentSiteUserId()}`}}return(e=AddonModGlossarySyncProvider).ɵfac=function AddonModGlossarySyncProvider_Factory(n){return new(n||e)},e.ɵprov=P.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossarySyncProvider})();const x=(0,C.Qd)(k)},21113:(e,n,r)=>{"use strict";r.d(n,{$:()=>P});var o=r(10467),i=r(75629),s=r(97254),a=r(94455),c=r(52749),u=r(58364),p=r(79555),f=r(49882),g=r(24155),v=r(20119),C=r(59829),b=r(74431),w=r(55554),A=r(43411),_=r(75383),E=r(95384),I=r(54438);let T=(()=>{var e;class AddonModGlossaryProvider{getCourseGlossariesCacheKey(e){return`${AddonModGlossaryProvider.ROOT_CACHE_KEY}courseGlossaries:${e}`}getCourseGlossaries(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n.siteId),i={courseids:[e]},s={cacheKey:r.getCourseGlossariesCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.RARELY,component:C.pV,...c.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield o.read("mod_glossary_get_glossaries_by_courses",i,s)).glossaries}))()}invalidateCourseGlossaries(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n),i=r.getCourseGlossariesCacheKey(e);yield o.invalidateWsCacheForKey(i)}))()}getEntriesByAuthorCacheKey(e){return`${AddonModGlossaryProvider.ROOT_CACHE_KEY}entriesByAuthor:${e}:ALL:LASTNAME:ASC`}getEntriesByAuthor(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n.siteId),i={id:e,letter:"ALL",field:"LASTNAME",sort:"ASC",from:n.from||0,limit:n.limit||C.sT},s={cacheKey:r.getEntriesByAuthorCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES,component:C.pV,componentId:n.cmId,...c.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_glossary_get_entries_by_author",i,s)}))()}invalidateEntriesByAuthor(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n),i=r.getEntriesByAuthorCacheKey(e);yield o.invalidateWsCacheForKey(i)}))()}getEntriesByCategory(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n.siteId),i={id:e,categoryid:AddonModGlossaryProvider.SHOW_ALL_CATEGORIES,from:n.from||0,limit:n.limit||C.sT},s={cacheKey:r.getEntriesByCategoryCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES,component:C.pV,componentId:n.cmId,...c.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_glossary_get_entries_by_category",i,s)}))()}invalidateEntriesByCategory(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n),i=r.getEntriesByCategoryCacheKey(e);yield o.invalidateWsCacheForKey(i)}))()}getEntriesByCategoryCacheKey(e){return`${`${AddonModGlossaryProvider.ROOT_CACHE_KEY}entriesByCategory`}:${e}:${AddonModGlossaryProvider.SHOW_ALL_CATEGORIES}`}getEntriesByDateCacheKey(e,n){return`${AddonModGlossaryProvider.ROOT_CACHE_KEY}entriesByDate:${e}:${n}:DESC`}getEntriesByDate(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r.siteId),s={id:e,order:n,sort:"DESC",from:r.from||0,limit:r.limit||C.sT},a={cacheKey:i.getEntriesByDateCacheKey(e,n),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES,component:C.pV,componentId:r.cmId,...c.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};return o.read("mod_glossary_get_entries_by_date",s,a)}))()}invalidateEntriesByDate(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r),s=i.getEntriesByDateCacheKey(e,n);yield o.invalidateWsCacheForKey(s)}))()}getEntriesByLetterCacheKey(e){return`${AddonModGlossaryProvider.ROOT_CACHE_KEY}entriesByLetter:${e}:ALL`}getEntriesByLetter(e,n={}){var r=this;return(0,o.A)((function*(){const o=n.from||0,i=n.limit||C.sT,s=yield c.CoreSites.getSite(n.siteId),a={id:e,letter:"ALL",from:o,limit:i},u={cacheKey:r.getEntriesByLetterCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES,component:C.pV,componentId:n.cmId,...c.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},p=yield s.read("mod_glossary_get_entries_by_letter",a,u);return i===C.sT&&w.g.ignoreErrors(r.storeEntries(e,p.entries,o,s.getId())),p}))()}invalidateEntriesByLetter(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n),i=r.getEntriesByLetterCacheKey(e);yield o.invalidateWsCacheForKey(i)}))()}getEntriesBySearchCacheKey(e,n,r){return`${AddonModGlossaryProvider.ROOT_CACHE_KEY}entriesBySearch:${e}:${r}:CONCEPT:ASC:${n}`}getEntriesBySearch(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(i.siteId),a={id:e,query:n,fullsearch:r,order:"CONCEPT",sort:"ASC",from:i.from||0,limit:i.limit||C.sT},u={cacheKey:s.getEntriesBySearchCacheKey(e,n,r),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES,component:C.pV,componentId:i.cmId,...c.CoreSites.getReadingStrategyPreSets(i.readingStrategy)};return o.read("mod_glossary_get_entries_by_search",a,u)}))()}invalidateEntriesBySearch(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(i),a=s.getEntriesBySearchCacheKey(e,n,r);yield o.invalidateWsCacheForKey(a)}))()}getCategoriesCacheKey(e){return`${AddonModGlossaryProvider.ROOT_CACHE_KEY}categories:${e}`}getAllCategories(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n.siteId);return r.getCategories(e,[],o,n)}))()}getCategories(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=i.from||0,a=i.limit||C.Yd,u={id:e,from:o,limit:a},p={cacheKey:s.getCategoriesCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.SOMETIMES,component:C.pV,componentId:i.cmId,...c.CoreSites.getReadingStrategyPreSets(i.readingStrategy)},f=yield r.read("mod_glossary_get_categories",u,p);n=n.concat(f.categories);return o+a<f.count?s.getCategories(e,n,r,{...i,from:o+a}):n}))()}invalidateCategories(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getCategoriesCacheKey(e))}))()}getEntryCacheKey(e){return`${AddonModGlossaryProvider.ROOT_CACHE_KEY}getEntry:${e}`}getEntry(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n.siteId),i={id:e},s={cacheKey:r.getEntryCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.RARELY,component:C.pV,componentId:n.cmId,...c.CoreSites.getReadingStrategyPreSets(n.readingStrategy),filter:!1!==n.filter,rewriteurls:!1!==n.filter};try{return yield o.read("mod_glossary_get_entry_by_id",i,s)}catch(i){if(!s.getFromCache)throw i;try{const i=yield r.getStoredDataForEntry(e,o.getId());if(void 0!==i.from){const o=yield w.g.ignoreErrors(r.getEntryFromList(i.glossaryId,e,i.from,!1,n));if(o)return o}return yield r.getEntryFromList(i.glossaryId,e,0,!0,n)}catch{throw i}}}))()}getStoredDataForEntry(e,n){return(0,o.A)((function*(){const r=yield c.CoreSites.getSite(n),o={entryid:e},i=yield r.getDb().getRecord(g.ix,o);return{glossaryId:i.glossaryid,from:i.pagefrom}}))()}getEntryFromList(e,n,r,s,a={}){var c=this;return(0,o.A)((function*(){const o=yield c.getEntriesByLetter(e,{from:r,readingStrategy:0,cmId:a.cmId,siteId:a.siteId}),u=o.entries.find((e=>e.id==n));if(u)return{entry:u,from:r};const p=r+o.entries.length;if(p<o.count&&s)return c.getEntryFromList(e,n,p,!0,a);throw new i.CoreError("Entry not found.")}))()}canDeleteEntries(e){return(0,o.A)((function*(){return(yield c.CoreSites.getSite(e)).wsAvailable("mod_glossary_delete_entry")}))()}canUpdateEntries(e){return(0,o.A)((function*(){return(yield c.CoreSites.getSite(e)).wsAvailable("mod_glossary_update_entry")}))()}fetchAllEntries(e,n={}){n.siteId=n.siteId||c.CoreSites.getCurrentSiteId();const r=[],i=function(){var s=(0,o.A)((function*(){const o=yield e({from:r.length,...n});return Array.prototype.push.apply(r,o.entries),r.length<o.count?i():r}));return function fetchMoreEntries(){return s.apply(this,arguments)}}();return i()}invalidateEntry(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getEntryCacheKey(e))}))()}invalidateEntries(e,n){var r=this;return(0,o.A)((function*(){const o=[];e.forEach((e=>{o.push(r.getEntryCacheKey(e.id))}));const i=yield c.CoreSites.getSite(n);yield i.invalidateMultipleWsCacheForKey(o)}))()}invalidateContent(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getGlossary(n,e);yield w.g.ignoreErrors(r.invalidateGlossaryEntries(o)),yield w.g.allPromises([r.invalidateCourseGlossaries(n),r.invalidateCategories(o.id)])}))()}invalidateGlossaryEntries(e,n,r){var i=this;return(0,o.A)((function*(){r=r||c.CoreSites.getCurrentSiteId();const o=[];n||o.push(i.fetchAllEntries((n=>i.getEntriesByLetter(e.id,n)),{cmId:e.coursemodule,readingStrategy:1,siteId:r}).then((e=>i.invalidateEntries(e,r)))),e.browsemodes.forEach((n=>{switch(n){case"letter":o.push(i.invalidateEntriesByLetter(e.id,r));break;case"cat":o.push(i.invalidateEntriesByCategory(e.id,r));break;case"date":o.push(i.invalidateEntriesByDate(e.id,"CREATION",r)),o.push(i.invalidateEntriesByDate(e.id,"UPDATE",r));break;case"author":o.push(i.invalidateEntriesByAuthor(e.id,r))}})),yield w.g.allPromises(o)}))()}getGlossary(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield i.getCourseGlossaries(e,r);return E.CoreCourseModuleHelper.getActivityByCmId(o,n)}))()}getGlossaryById(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield i.getCourseGlossaries(e,r);return E.CoreCourseModuleHelper.getActivityByField(o,"id",n)}))()}addEntry(e,n,r,s,u,f,g={}){var C=this;return(0,o.A)((function*(){g.siteId=g.siteId||c.CoreSites.getCurrentSiteId();const b=function(){var a=(0,o.A)((function*(){var o;if(g.checkDuplicates){if(yield C.isConceptUsed(e,n,{cmId:g.cmId,siteId:g.siteId}))throw new i.CoreError(p.HT.instant("addon.mod_glossary.errconceptalreadyexists"))}if("number"==typeof f)throw new i.CoreError("Error adding entry.");return yield v.e.addOfflineEntry(e,n,r,s,null!==(o=g.timeCreated)&&void 0!==o?o:Date.now(),u,f,g.siteId,void 0),!1}));return function storeOffline(){return a.apply(this,arguments)}}();if(!a.WE.isOnline()&&g.allowOffline)return b();try{return yield C.addEntryOnline(e,n,r,u,f,g.siteId)}catch(e){if(g.allowOffline&&!A.CoreWSError.isWebServiceError(e))return b();throw e}}))()}addEntryOnline(e,n,r,i,s,a){return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(a),p={glossaryid:e,concept:n,definition:r,definitionformat:_.C9,options:u.T.toArrayOfObjects(i||{},"name","value")};var g;s&&(null===(g=p.options)||void 0===g||g.push({name:"attachmentsid",value:String(s)}));const v=yield o.write("mod_glossary_add_entry",p);return f.z.trigger(C.Z_,{glossaryId:e,entryId:v.entryid},a),v.entryid}))()}updateEntry(e,n,r,s,a,p,g){return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(g),v={entryid:n,concept:r,definition:s,definitionformat:_.C9,options:u.T.toArrayOfObjects(a||{},"name","value")};var b;p&&(null===(b=v.options)||void 0===b||b.push({name:"attachmentsid",value:String(p)}));const w=yield o.write("mod_glossary_update_entry",v);var A,E;if(!w.result)throw new i.CoreError(null!==(A=null===(E=w.warnings)||void 0===E?void 0:E[0].message)&&void 0!==A?A:"Error updating entry");f.z.trigger(C.uw,{glossaryId:e,entryId:n},g)}))()}deleteEntry(e,n){return(0,o.A)((function*(){const r=c.CoreSites.getRequiredCurrentSite();yield r.write("mod_glossary_delete_entry",{entryid:n}),f.z.trigger(C.OL,{glossaryId:e,entryId:n})}))()}isConceptUsed(e,n,r={}){var i=this;return(0,o.A)((function*(){try{if(yield v.e.isConceptUsed(e,n,r.timeCreated,r.siteId))return!0;return(yield i.fetchAllEntries((n=>i.getEntriesByLetter(e,n)),{cmId:r.cmId,readingStrategy:1,siteId:r.siteId})).some((e=>e.concept==n))}catch{return!1}}))()}logView(e,n,r){return(0,o.A)((function*(){const o={id:e,mode:n};yield s.CoreCourseLogHelper.log("mod_glossary_view_glossary",o,C.pV,e,r)}))()}logEntryView(e,n,r){return(0,o.A)((function*(){const o={id:e};yield s.CoreCourseLogHelper.log("mod_glossary_view_entry",o,C.pV,n,r)}))()}storeEntries(e,n,r,i){var s=this;return(0,o.A)((function*(){yield Promise.all(n.map((n=>s.storeEntryId(e,n.id,r,i))))}))()}storeEntryId(e,n,r,i){return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(i),s={entryid:n,glossaryid:e,pagefrom:r};yield o.getDb().insertRecord(g.ix,s)}))()}prepareEntryForEdition(e,n){return(0,o.A)((function*(){const r=yield c.CoreSites.getSite(n),o={entryid:e};return yield r.write("mod_glossary_prepare_entry_for_edition",o)}))()}}return(e=AddonModGlossaryProvider).SHOW_ALL_CATEGORIES=0,e.ROOT_CACHE_KEY="mmaModGlossary:",e.ɵfac=function AddonModGlossaryProvider_Factory(n){return new(n||e)},e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryProvider})();const P=(0,p.Qd)(T)},88712:(e,n,r)=>{"use strict";r.d(n,{A:()=>_});var o=r(10467),i=r(54638),s=r(38911),a=r(44682),c=r(66110),u=r(98870),p=r(88793),f=r(55554),g=r(79555),v=r(21113),C=r(81097),b=r(59829),w=r(54438);let A=(()=>{var e;class AddonModGlossaryPrefetchHandlerService extends s.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModGlossary",this.modName=b.hd,this.component=b.pV,this.updatesNames=/^configuration$|^.*files$|^entries$/}getFiles(e,n){var r=this;return(0,o.A)((function*(){try{const o=yield v.$.getGlossary(n,e.id),i=yield v.$.fetchAllEntries((e=>v.$.getEntriesByLetter(o.id,e)),{cmId:e.id});return r.getFilesFromGlossaryAndEntries(e,o,i)}catch{return[]}}))()}getFilesFromGlossaryAndEntries(e,n,r){let o=this.getIntroFilesFromInstance(e,n);return r.forEach((e=>{o=o.concat(e.attachments||[]),e.definitioninlinefiles&&e.definitioninlinefiles.length&&(o=o.concat(e.definitioninlinefiles))})),o}invalidateContent(e,n){return v.$.invalidateContent(e,n)}prefetch(e,n){return this.prefetchPackage(e,n,(r=>this.prefetchGlossary(e,n,r)))}prefetchGlossary(e,n,r){var s=this;return(0,o.A)((function*(){const o={cmId:e.id,readingStrategy:2,siteId:r},g=yield v.$.getGlossary(n,e.id,{siteId:r}),C=[];g.browsemodes.forEach((e=>{switch(e){case"letter":break;case"cat":C.push(v.$.fetchAllEntries((e=>v.$.getEntriesByCategory(g.id,e)),o));break;case"date":C.push(v.$.fetchAllEntries((e=>v.$.getEntriesByDate(g.id,"CREATION",e)),o)),C.push(v.$.fetchAllEntries((e=>v.$.getEntriesByDate(g.id,"UPDATE",e)),o));break;case"author":C.push(v.$.fetchAllEntries((e=>v.$.getEntriesByAuthor(g.id,e)),o))}})),C.push(v.$.fetchAllEntries((e=>v.$.getEntriesByLetter(g.id,e)),o).then((n=>{const o=[],a=i.CoreComments.areCommentsEnabledInSite();n.forEach((e=>{g.allowcomments&&a&&o.push(i.CoreComments.getComments("module",g.coursemodule,"mod_glossary",e.id,"glossary_entry",0,r))}));const c=s.getFilesFromGlossaryAndEntries(e,g,n);return o.push(p.CoreFilepool.addFilesToQueue(r,c,s.component,e.id)),o.push(u.CoreUser.prefetchUserAvatars(n,"userpictureurl",r)),Promise.all(o)}))),C.push(v.$.getAllCategories(g.id,o)),C.push(a.CoreCourse.getModuleBasicInfo(e.id,{siteId:r})),C.push(a.CoreCourse.getModuleBasicInfoByInstance(g.id,b.hd,{siteId:r})),C.push(f.g.ignoreErrors(c.CoreCourses.getCourseByField("id",n,r))),yield Promise.all(C)}))()}sync(e,n,r){return(0,o.A)((function*(){const n=yield Promise.all([C.a.syncGlossaryEntries(e.instance,void 0,r),C.a.syncRatings(e.id,void 0,r)]);return{updated:n[0].updated||n[1].updated,warnings:n[0].warnings.concat(n[1].warnings)}}))()}}return(e=AddonModGlossaryPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModGlossaryPrefetchHandlerService_Factory(r){return(n||(n=w.xGo(e)))(r||e)}})(),e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryPrefetchHandlerService})();const _=(0,g.Qd)(A)},9153:(e,n,r)=>{"use strict";r.d(n,{$J:()=>f,EJ:()=>p,HB:()=>v,P$:()=>c,hS:()=>i,mz:()=>u,tU:()=>s,uq:()=>g,zr:()=>a});var o=r(86123);const i="AddonModH5PActivity",s="mmaModH5PActivity",a="mod_h5pactivity",c="h5pactivity",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_h5pactivity_autom_synced",f="mod_h5pactivity",g=20,v="state"},8257:(e,n,r)=>{"use strict";r.d(n,{U:()=>x});var o=r(10467),i=r(49446),s=r(37690),a=r(97254),c=r(59863),u=r(65630),p=r(94455),f=r(52749),g=r(79555),v=r(49882),C=r(34961),b=r(51694),w=r(74345),A=r(43411),_=r(24502),E=r(9153),I=r(55554),T=r(95384),P=r(54438);let k=(()=>{var e;class AddonModH5PActivitySyncProvider extends s.L{constructor(){super("AddonModH5PActivitySyncProvider"),this.componentTranslatableString="h5pactivity"}syncAllActivities(e,n){return this.syncOnSites("H5P activities",(e=>this.syncAllActivitiesFunc(!!n,e)),e)}syncAllActivitiesFunc(e,n){var r=this;return(0,o.A)((function*(){const[i,s]=yield Promise.all([c.CoreXAPIOffline.getAllStatements(n),c.CoreXAPIOffline.getAllStates(n)]),a=i.concat(s),u=_.R.unique(a.map((e=>"contextid"in e?e.contextid:e.itemid))).map(function(){var i=(0,o.A)((function*(o){const i=yield e?r.syncActivity(o,n):r.syncActivityIfNeeded(o,n);null!=i&&i.updated&&v.z.trigger(E.EJ,{contextId:o,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}());yield Promise.all(u)}))()}syncActivityIfNeeded(e,n){var r=this;return(0,o.A)((function*(){if(yield r.isSyncNeeded(e,n))return r.syncActivity(e,n)}))()}syncActivity(e,n){if(n=n||f.CoreSites.getCurrentSiteId(),!p.WE.isOnline())throw new i.CoreNetworkError;const r=this.getOngoingSync(e,n);return r||this.addOngoingSync(e,this.syncActivityData(e,n),n)}syncActivityData(e,n){var r=this;return(0,o.A)((function*(){var i,s;r.logger.debug(`Try to sync H5P activity with context ID '${e}'`);let u=null;const p={warnings:[],updated:!1},[f,g]=yield Promise.all([c.CoreXAPIOffline.getContextStatements(e,n),c.CoreXAPIOffline.getItemStates(e,n)]),v=function(){var r=(0,o.A)((function*(){yield Promise.all([f.length?c.CoreXAPIOffline.deleteStatementsForContext(e,n):void 0,g.length?c.CoreXAPIOffline.deleteStates(E.$J,{itemId:e,siteId:n}):void 0]),p.updated=!0}));return function deleteOfflineData(){return r.apply(this,arguments)}}(),b=function(){var i=(0,o.A)((function*(){return yield r.setSyncTime(e,n),p}));return function finishSync(){return i.apply(this,arguments)}}();if(!f.length&&!g.length)return b();const w=null===(i=null!==(s=f.find((e=>!!e.courseid)))&&void 0!==s?s:g.find((e=>!!e.courseid)))||void 0===i?void 0:i.courseid;if(!w)return yield v(),b();try{u=yield C.R.getH5PActivityByContextId(w,e,{siteId:n})}catch(e){if(A.CoreWSError.isWebServiceError(e)||T.CoreCourseModuleHelper.isNotFoundError(e))return yield v(),b();throw e}yield I.g.ignoreErrors(a.CoreCourseLogHelper.syncActivity(E.tU,u.id,n));const _=yield Promise.all([r.syncStatements(u.id,f,n),r.syncStates(u,g,n)]);return p.updated=_[0].updated||_[1].updated,p.warnings=_[0].warnings.concat(_[1].warnings),b()}))()}syncStatements(e,n,r){var i=this;return(0,o.A)((function*(){const o={warnings:[],updated:!1};for(let e=0;e<n.length;e++){const s=n[e];try{yield u.CoreXAPI.postStatementsOnline(s.component,s.statements,r),o.updated=!0,yield c.CoreXAPIOffline.deleteStatements(s.id,r)}catch(e){if(!A.CoreWSError.isWebServiceError(e))throw e;o.updated=!0,yield c.CoreXAPIOffline.deleteStatements(s.id,r),i.addOfflineDataDeletedWarning(o.warnings,s.extra||"",e)}}return o.updated&&(yield I.g.ignoreErrors(C.R.invalidateUserAttempts(e,void 0,r))),o}))()}syncStates(e,n,r){var i=this;return(0,o.A)((function*(){const s={warnings:[],updated:!1};if(!n.length)return s;const[a,p]=yield Promise.all([f.CoreSites.getSite(r),b.i.generate(e.context,"activity",r)]),v=JSON.stringify(w.w.createFromSite(a).getData());let _;try{const n=yield C.R.getUserAttempts(e.id,{cmId:e.context,readingStrategy:2});_=n.attempts.pop()}catch(e){if(!A.CoreWSError.isWebServiceError(e))throw e}return yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){try{if(_&&n.timecreated<=_.timecreated)throw new A.CoreWSError({message:g.HT.instant("core.warningofflinedatadeletedreason"),errorcode:"offlinedataoutdated"});if((yield u.CoreXAPI.getStatesSince(n.component,e.context,{registration:n.registration,since:n.timecreated,siteId:r})).length)throw new A.CoreWSError({message:g.HT.instant("core.warningofflinedatadeletedreason"),errorcode:"offlinedataoutdated"});n.statedata===u.XAPI_STATE_DELETED?yield u.CoreXAPI.deleteStateOnline(n.component,p,v,n.stateid,{registration:n.registration,siteId:r}):n.statedata&&(yield u.CoreXAPI.postStateOnline(n.component,p,v,n.stateid,n.statedata,{registration:n.registration,siteId:r})),s.updated=!0,yield c.CoreXAPIOffline.deleteStates(n.component,{itemId:e.context,stateId:n.stateid,registration:n.registration,siteId:r})}catch(o){if(!A.CoreWSError.isWebServiceError(o))throw o;s.updated=!0,yield c.CoreXAPIOffline.deleteStates(n.component,{itemId:e.context,stateId:n.stateid,registration:n.registration,siteId:r}),i.addOfflineDataDeletedWarning(s.warnings,n.extra||"",o)}}));return function(e){return n.apply(this,arguments)}}())),s}))()}}return(e=AddonModH5PActivitySyncProvider).ɵfac=function AddonModH5PActivitySyncProvider_Factory(n){return new(n||e)},e.ɵprov=P.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModH5PActivitySyncProvider})();const x=(0,g.Qd)(k)},34961:(e,n,r)=>{"use strict";r.d(n,{R:()=>E});var o=r(10467),i=r(52749),s=r(97254),a=r(53867),c=r(79555),u=r(43411),p=r(75629),f=r(24742),g=r(9153),v=r(74431),C=r(88436),b=r(55554),w=r(95384),A=r(54438);let _=(()=>{var e;class AddonModH5PActivityProvider{canGetUsersAttempts(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.canGetUsersAttemptsInSite(r)}))()}canGetUsersAttemptsInSite(e){var n;return!(null===(n=e=e||i.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("mod_h5pactivity_get_user_attempts"))}formatAttempt(e){var n;const r=e;return r.timecreated=1e3*e.timecreated,r.timemodified=1e3*e.timemodified,r.success=null!==(n=r.success)&&void 0!==n?n:null,e.duration?(r.durationReadable=f.j.formatTime(e.duration,3),r.durationCompact=f.j.formatTimeShort(e.duration)):(r.durationReadable="-",r.durationCompact="-"),r}formatAttemptResults(e){var n;const r=this.formatAttempt(e);return r.results=null===(n=r.results)||void 0===n?void 0:n.map((e=>this.formatResult(e))),r}formatUserAttempts(e){const n=e;return n.attempts=n.attempts.map((e=>this.formatAttempt(e))),n.scored&&(n.scored.attempts=n.scored.attempts.map((e=>this.formatAttempt(e)))),n}formatResult(e){return e.timecreated=1e3*e.timecreated,e}getAccessInformationCacheKey(e){return`${AddonModH5PActivityProvider.ROOT_CACHE_KEY}accessInfo:${e}`}getAccessInformation(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n.siteId),s={h5pactivityid:e},a={cacheKey:r.getAccessInformationCacheKey(e),updateFrequency:v.CoreCacheUpdateFrequency.OFTEN,component:g.tU,componentId:n.cmId,...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_h5pactivity_get_h5pactivity_access_information",s,a)}))()}getAllAttemptsResults(e,n){var r=this;return(0,o.A)((function*(){const o=(yield r.getUserAttempts(e,n)).attempts.map((e=>e.id));return o.length?r.getAttemptsResults(e,o,n):{activityid:e,attempts:[],warnings:[]}}))()}getAllUsersAttempts(e,n){var r=this;return(0,o.A)((function*(){const o={...n};o.page=0;let i=!0,s=[];for(;i;)try{const n=yield r.getUsersAttempts(e,o);o.page=o.page+1,s=s.concat(n.users),i=n.canLoadMore}catch(e){if(o.dontFailOnError)return s;throw e}return s}))()}getUsersAttempts(e,n){var r=this;return(0,o.A)((function*(){var o,s;(n=n||{}).page=n.page||0,n.perPage=null!==(o=n.perPage)&&void 0!==o?o:g.uq;const a=yield i.CoreSites.getSite(n.siteId),c={h5pactivityid:e,page:n.page,perpage:0===n.perPage?0:n.perPage+1,sortorder:n.sortOrder,firstinitial:n.firstInitial,lastinitial:n.lastInitial},p={cacheKey:r.getUsersAttemptsCacheKey(e,n),updateFrequency:v.CoreCacheUpdateFrequency.SOMETIMES,component:g.tU,componentId:n.cmId,...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},f=yield a.read("mod_h5pactivity_get_user_attempts",c,p);if(null!==(s=f.warnings)&&void 0!==s&&s[0])throw new u.CoreWSError(f.warnings[0]);let C=!1;return n.perPage>0&&(C=f.usersattempts.length>n.perPage,f.usersattempts=f.usersattempts.slice(0,n.perPage)),{canLoadMore:C,users:f.usersattempts.map((e=>r.formatUserAttempts(e))),totalAttempts:f.totalattempts}}))()}getUsersAttemptsCacheKey(e,n){return this.getUsersAttemptsCommonCacheKey(e)+`:${n.page}:${n.perPage}`+`:${n.sortOrder||""}:${n.firstInitial||""}:${n.lastInitial||""}`}getUsersAttemptsCommonCacheKey(e){return`${AddonModH5PActivityProvider.ROOT_CACHE_KEY}userAttempts:${e}`}getAttemptResultsCacheKey(e,n){return this.getAttemptResultsCommonCacheKey(e)+":"+JSON.stringify(n)}getAttemptResultsCommonCacheKey(e){return`${AddonModH5PActivityProvider.ROOT_CACHE_KEY}results:${e}`}getAttemptResults(e,n,r){var s=this;return(0,o.A)((function*(){r=r||{};const o=yield i.CoreSites.getSite(r.siteId),a={h5pactivityid:e};a.attemptids=[n];const c={cacheKey:s.getAttemptResultsCacheKey(e,a.attemptids),updateFrequency:v.CoreCacheUpdateFrequency.SOMETIMES,component:g.tU,componentId:r.cmId,...i.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};try{var p;const e=yield o.read("mod_h5pactivity_get_results",a,c);if(null!==(p=e.warnings)&&void 0!==p&&p[0])throw new u.CoreWSError(e.warnings[0]);return s.formatAttemptResults(e.attempts[0])}catch(o){if(u.CoreWSError.isWebServiceError(o))throw o;const i={...r,readingStrategy:0},s=(yield E.getAllAttemptsResults(e,i)).attempts.find((e=>e.id==n));if(!s)throw o;return s}}))()}getAttemptsResults(e,n,r){var s=this;return(0,o.A)((function*(){r=r||{};const o=yield i.CoreSites.getSite(r.siteId),a={h5pactivityid:e,attemptids:n},c={cacheKey:s.getAttemptResultsCommonCacheKey(e),updateFrequency:v.CoreCacheUpdateFrequency.SOMETIMES,component:g.tU,componentId:r.cmId,...i.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield o.read("mod_h5pactivity_get_results",a,c);return u.attempts=u.attempts.map((e=>s.formatAttemptResults(e))),u}))()}getDeployedFile(e,n){return(0,o.A)((function*(){if(e.deployedfile)return e.deployedfile;if(!e.package||!e.package[0])throw new p.CoreError("No H5P package found.");return a.CoreH5P.getTrustedH5PFile(e.package[0].fileurl,(n=n||{}).displayOptions,n.ignoreCache,n.siteId)}))()}getH5PActivityDataCacheKey(e){return`${AddonModH5PActivityProvider.ROOT_CACHE_KEY}h5pactivity:${e}`}getH5PActivityByField(e,n,r,s={}){var a=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s.siteId),c={courseids:[e]},u={cacheKey:a.getH5PActivityDataCacheKey(e),updateFrequency:v.CoreCacheUpdateFrequency.RARELY,component:g.tU,...i.CoreSites.getReadingStrategyPreSets(s.readingStrategy)},p=yield o.read("mod_h5pactivity_get_h5pactivities_by_courses",c,u);return{...w.CoreCourseModuleHelper.getActivityByField(p.h5pactivities,n,r),...p.h5pglobalsettings}}))()}getH5PActivity(e,n,r={}){return this.getH5PActivityByField(e,"coursemodule",n,r)}getH5PActivityByContextId(e,n,r={}){return this.getH5PActivityByField(e,"context",n,r)}getH5PActivityById(e,n,r={}){return this.getH5PActivityByField(e,"id",n,r)}getMissingDependencies(e,n,r){return(0,o.A)((function*(){const o=C.CoreFileHelper.getFileUrl(n),i=yield a.CoreH5P.h5pFramework.getMissingDependenciesForComponent(g.tU,e,r);if(!i.length)return[];const s=yield a.CoreH5P.h5pFramework.getFileIdForMissingDependencies(o,r),c=i.filter((e=>e.fileid===s&&e.filetimemodified===n.timemodified));return c.length>0?c:(yield b.g.ignoreErrors(a.CoreH5P.h5pFramework.deleteMissingDependenciesForComponent(g.tU,e,r)),[])}))()}getUserAttemptsCacheKey(e,n){return this.getUserAttemptsCommonCacheKey(e)+":"+JSON.stringify(n)}getUserAttemptsCommonCacheKey(e){return`${AddonModH5PActivityProvider.ROOT_CACHE_KEY}attempts:${e}`}getUserAttempts(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n.siteId),s=n.userId||o.getUserId();try{var a;const c={h5pactivityid:e};c.userids=[s];const p={cacheKey:r.getUserAttemptsCacheKey(e,c.userids),updateFrequency:v.CoreCacheUpdateFrequency.SOMETIMES,component:g.tU,componentId:n.cmId,...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},f=yield o.read("mod_h5pactivity_get_attempts",c,p);if(null!==(a=f.warnings)&&void 0!==a&&a[0])throw new u.CoreWSError(f.warnings[0]);return r.formatUserAttempts(f.usersattempts[0])}catch(o){if(u.CoreWSError.isWebServiceError(o))throw o;try{const i=(yield r.getAllUsersAttempts(e,{...n,readingStrategy:0,dontFailOnError:!0})).find((e=>e.userid===s));if(!i)throw o;return r.formatUserAttempts(i)}catch{throw o}}}))()}hasMissingDependencies(e,n,r){var i=this;return(0,o.A)((function*(){return(yield i.getMissingDependencies(e,n,r)).length>0}))()}invalidateAccessInformation(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAccessInformationCacheKey(e))}))()}invalidateActivityData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getH5PActivityDataCacheKey(e))}))()}invalidateAllResults(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAttemptResultsCommonCacheKey(e))}))()}invalidateAttemptResults(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(s.getAttemptResultsCacheKey(e,[n]))}))()}invalidateAllUsersAttempts(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getUsersAttemptsCommonCacheKey(e))}))()}invalidateUserAttempts(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);n=n||o.getUserId(),yield o.invalidateWsCacheForKey(s.getUserAttemptsCacheKey(e,[n]))}))()}isPluginEnabled(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).wsAvailable("mod_h5pactivity_get_h5pactivities_by_courses")}))()}isSaveStateEnabled(e,n){return!(!e.enabletracking||!e.enablesavestate||n&&!n.cansubmit)}logView(e,n){return s.CoreCourseLogHelper.log("mod_h5pactivity_view_h5pactivity",{h5pactivityid:e},g.tU,e,n)}logViewReport(e,n={}){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n.siteId);if(!r.wsAvailable("mod_h5pactivity_log_report_viewed"))return;return s.CoreCourseLogHelper.log("mod_h5pactivity_log_report_viewed",{h5pactivityid:e,userid:n.userId,attemptid:n.attemptId},g.tU,e,r.getId())}))()}}return(e=AddonModH5PActivityProvider).ROOT_CACHE_KEY="mmaModH5PActivity:",e.ɵfac=function AddonModH5PActivityProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModH5PActivityProvider})();const E=(0,c.Qd)(_)},62925:(e,n,r)=>{"use strict";r.d(n,{VI:()=>i,Xh:()=>o,f9:()=>s,fl:()=>a});r(86123);const o="AddonModImscp",i="mmaModImscp",s="mod_imscp",a="imscp"},99201:(e,n,r)=>{"use strict";r.d(n,{x:()=>E});var o=r(10467),i=r(44682),s=r(97254),a=r(94455),c=r(88793),u=r(52749),p=r(75383),f=r(55554),g=r(79555),v=r(8756),C=r(62925),b=r(74431),w=r(95384),A=r(54438);let _=(()=>{var e;class AddonModImscpProvider{getToc(e){return e&&e.length?p.Ni.parseJSON(e[0].content||""):[]}createItemList(e){const n=[];return this.getToc(e).forEach((e=>{n.push({href:e.href,title:e.title,level:e.level}),e.subitems.forEach((e=>{n.push({href:e.href,title:e.title,level:e.level})}))})),n}checkSpecialFiles(e){return"imsmanifest.xml"==e}getImscpDataCacheKey(e){return`${AddonModImscpProvider.ROOT_CACHE_KEY}imscp:${e}`}getImscp(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(r.siteId),s={courseids:[e]},a={cacheKey:i.getImscpDataCacheKey(e),updateFrequency:b.CoreCacheUpdateFrequency.RARELY,component:C.VI,...u.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},c=yield o.read("mod_imscp_get_imscps_by_courses",s,a);return w.CoreCourseModuleHelper.getActivityByCmId(c.imscps,n)}))()}getFileUrlFromContents(e,n){const r=e.find((e=>{if("file"!=e.type)return!1;const r=v.$.concatenatePaths(e.filepath,e.filename),o="/"===r.charAt(0)?r.substring(1):`/${r}`;return r===n||o===n}));return null==r?void 0:r.fileurl}getIframeSrc(e,n){var r=this;return(0,o.A)((function*(){const o=u.CoreSites.getCurrentSiteId();try{const r=yield c.CoreFilepool.getPackageDirUrlByUrl(o,e.url||"");return v.$.concatenatePaths(r,n)}catch(s){if(a.WE.isOnline()){const s=yield i.CoreCourse.getModuleContents(e),a=r.getFileUrlFromContents(s,n);if(a){return(yield u.CoreSites.getSite(o)).checkAndFixPluginfileURL(a)}}throw s}}))()}getLastItemViewed(e,n){return(0,o.A)((function*(){const r=yield u.CoreSites.getSite(n),o=yield r.getLastViewed(C.VI,e);return null==o?void 0:o.value}))()}invalidateContent(e,n,r){var s=this;return(0,o.A)((function*(){r=r||u.CoreSites.getCurrentSiteId();const o=[];o.push(s.invalidateImscpData(n,r)),o.push(c.CoreFilepool.invalidateFilesByComponent(r,C.VI,e)),o.push(i.CoreCourse.invalidateModule(e,r)),yield f.g.allPromises(o)}))()}invalidateImscpData(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getImscpDataCacheKey(e))}))()}isFileDownloadable(e){return"file"===e.type&&!this.checkSpecialFiles(e.filename)}isPluginEnabled(e){return(0,o.A)((function*(){return(yield u.CoreSites.getSite(e)).canDownloadFiles()}))()}logView(e,n){return(0,o.A)((function*(){const r={imscpid:e};yield s.CoreCourseLogHelper.log("mod_imscp_view_imscp",r,C.VI,e,n)}))()}storeLastItemViewed(e,n,r,i){return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(i);yield o.storeLastViewed(C.VI,e,n,{data:String(r)})}))()}}return(e=AddonModImscpProvider).ROOT_CACHE_KEY="mmaModImscp:",e.ɵfac=function AddonModImscpProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModImscpProvider})();const E=(0,g.Qd)(_)},55101:(e,n,r)=>{"use strict";r.d(n,{EI:()=>p,Hm:()=>c,JL:()=>i,Lc:()=>a,YJ:()=>u,tj:()=>s,y6:()=>f,yT:()=>g});var o=r(86123);const i="AddonModLesson",s="mmaModLesson",a="mod_lesson",c="lesson",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_lesson_autom_synced",f="addon_mod_lesson_data_sent",g="@#wronganswer#@"},38115:(e,n,r)=>{"use strict";r.d(n,{C7:()=>u,DE:()=>s,HS:()=>o,cH:()=>a,em:()=>i,gr:()=>c,k6:()=>p});const o="addon_mod_lesson_password",i={name:"AddonModLessonProvider",version:1,tables:[{name:o,columns:[{name:"lessonid",type:"INTEGER",primaryKey:!0},{name:"password",type:"TEXT"},{name:"timemodified",type:"INTEGER"}]}]},s="addon_mod_lesson_retakes",a="addon_mod_lesson_page_attempts",c={name:"AddonModLessonOfflineProvider",version:1,tables:[{name:s,columns:[{name:"lessonid",type:"INTEGER",primaryKey:!0},{name:"retake",type:"INTEGER",notNull:!0},{name:"courseid",type:"INTEGER"},{name:"finished",type:"INTEGER"},{name:"outoftime",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"lastquestionpage",type:"INTEGER"}]},{name:a,columns:[{name:"lessonid",type:"INTEGER",notNull:!0},{name:"retake",type:"INTEGER",notNull:!0},{name:"pageid",type:"INTEGER",notNull:!0},{name:"timemodified",type:"INTEGER",notNull:!0},{name:"courseid",type:"INTEGER"},{name:"data",type:"TEXT"},{name:"type",type:"INTEGER"},{name:"newpageid",type:"INTEGER"},{name:"correct",type:"INTEGER"},{name:"answerid",type:"INTEGER"},{name:"useranswer",type:"TEXT"}],primaryKeys:["lessonid","retake","pageid","timemodified"]}]},u="addon_mod_lesson_retakes_finished_sync",p={name:"AddonModLessonSyncProvider",version:1,tables:[{name:u,columns:[{name:"lessonid",type:"INTEGER",primaryKey:!0},{name:"retake",type:"INTEGER"},{name:"pageid",type:"INTEGER"},{name:"timefinished",type:"INTEGER"}]}]}},15712:(e,n,r)=>{"use strict";r.d(n,{o:()=>I});var o=r(10467),i=r(75629),s=r(38911),a=r(44682),c=r(88793),u=r(15221),p=r(11361),f=r(52749),g=r(55554),v=r(79555),C=r(21509),b=r(35661),w=r(55101),A=r(83174),_=r(54438);let E=(()=>{var n;class AddonModLessonPrefetchHandlerService extends s.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModLesson",this.modName=w.Hm,this.component=w.tj,this.updatesNames=/^configuration$|^.*files$|^grades$|^gradeitems$|^pages$|^answers$|^questionattempts$|^pagesviewed$/}getDownloadSize(e,n,r){var i=this;return(0,o.A)((function*(){const o=f.CoreSites.getCurrentSiteId();let s=yield C.N.getLesson(n,e.id,{siteId:o});const a=yield A.r.getLessonPassword(s.id,{readingStrategy:2,askPassword:r,siteId:o});s=a.lesson||s;let c=s.mediafiles||[];c=c.concat(i.getIntroFilesFromInstance(e,s));const u=yield p.CorePluginFileDelegate.getFilesDownloadSize(c);return(yield C.N.getPages(s.id,{cmId:e.id,password:a.password,siteId:o})).forEach((e=>{u.size+=e.filessizetotal})),u}))()}invalidateContent(e,n){return(0,o.A)((function*(){yield Promise.all([C.N.invalidateLessonData(n),a.CoreCourse.invalidateModule(e),u.CoreGroups.invalidateActivityAllowedGroups(e)])}))()}invalidateModule(e,n){return(0,o.A)((function*(){const r=f.CoreSites.getCurrentSiteId(),o=yield C.N.getLesson(n,e.id,{readingStrategy:1,siteId:r});yield Promise.all([C.N.invalidateLessonData(n,r),C.N.invalidateAccessInformation(o.id,r)])}))()}isDownloadable(e,n){return(0,o.A)((function*(){const r=f.CoreSites.getCurrentSiteId(),o=yield C.N.getLesson(n,e.id,{siteId:r}),i=yield C.N.getAccessInformation(o.id,{cmId:e.id,siteId:r});return!(!i.canviewreports&&!C.N.isLessonOffline(o))&&(!i.preventaccessreasons.length||1==i.preventaccessreasons.length&&C.N.isPasswordProtected(i))}))()}prefetch(e,n,r){return this.prefetchPackage(e,n,(o=>this.prefetchLesson(e,n,!!r,o)))}prefetchLesson(e,n,r,i){var s=this;return(0,o.A)((function*(){const o={readingStrategy:2,siteId:i},a={cmId:e.id,...o};let u=yield C.N.getLesson(n,e.id,o);const p=yield A.r.getLessonPassword(u.id,{readingStrategy:2,askPassword:r,siteId:i});u=p.lesson||u;let f=p.accessInfo;const g=p.password;C.N.isLessonOffline(u)&&!C.N.leftDuringTimed(f)&&(f=yield s.launchRetake(u.id,g,a,i));const v=[];let b=u.mediafiles||[];b=b.concat(s.getIntroFilesFromInstance(e,u)),v.push(c.CoreFilepool.addFilesToQueue(i,b,s.component,e.id)),C.N.isLessonOffline(u)&&v.push(s.prefetchPlayData(u,g,f.attemptscount,a)),f.canviewreports&&(v.push(s.prefetchGroupInfo(e.id,u.id,a)),v.push(s.prefetchReportsData(e.id,u.id,a))),yield Promise.all(v)}))()}launchRetake(n,r,i,s){var a=this;return(0,o.A)((function*(){yield C.N.launchRetake(n,r,void 0,!1,s);return(yield Promise.all([g.g.ignoreErrors(c.CoreFilepool.updatePackageDownloadTime(s,a.component,e.id)),C.N.getAccessInformation(n,i)]))[1]}))()}prefetchPlayData(e,n,r,i){var s=this;return(0,o.A)((function*(){const o={password:n,...i};yield Promise.all([s.prefetchPagesData(e,o),g.g.ignoreErrors(C.N.getTimers(e.id,i)),C.N.getContentPagesViewedOnline(e.id,r,i),C.N.getQuestionsAttemptsOnline(e.id,r,i)])}))()}prefetchPagesData(n,r){var i=this;return(0,o.A)((function*(){const s=yield C.N.getPages(n.id,r);let a=!1;const u=s.map(function(){var s=(0,o.A)((function*(o){a||(a=o.jumps.some((e=>-70===e)));const s=yield C.N.getPageData(n,o.page.id,{includeContents:!0,includeOfflineData:!1,...r});let u=s.contentfiles||[];s.answers.forEach((e=>{u=u.concat(e.answerfiles),u=u.concat(e.responsefiles)})),yield c.CoreFilepool.addFilesToQueue(r.siteId,u,i.component,e.id)}));return function(e){return s.apply(this,arguments)}}());u.push(i.prefetchPossibleJumps(n.id,a,r)),yield Promise.all(u)}))()}prefetchPossibleJumps(e,n,r){return(0,o.A)((function*(){try{yield C.N.getPagesPossibleJumps(e,r)}catch(e){if(n)throw new i.CoreError(v.HT.instant("addon.mod_lesson.errorprefetchrandombranch"));throw e}}))()}prefetchGroupInfo(e,n,r){return(0,o.A)((function*(){const i=yield u.CoreGroups.getActivityGroupInfo(e,!1,void 0,r.siteId,!0);yield Promise.all(i.groups.map(function(){var e=(0,o.A)((function*(e){yield C.N.getRetakesOverview(n,{groupId:e.id,...r})}));return function(n){return e.apply(this,arguments)}}())||[])}))()}prefetchReportsData(e,n,r){var i=this;return(0,o.A)((function*(){const s=yield C.N.getRetakesOverview(n,r);s&&s.students&&(yield Promise.all(s.students.map(function(){var s=(0,o.A)((function*(o){var s;const a=null===(s=o.attempts)||void 0===s?void 0:s[o.attempts.length-1];if(!a)return;const u=yield C.N.getUserRetake(n,a.try,{userId:o.id,...r});if(null==u||!u.answerpages)return;const p=[];u.answerpages.forEach((e=>{var n;e.page&&10===e.page.qtype&&(null===(n=e.answerdata)||void 0===n||null===(n=n.answers)||void 0===n||n.forEach((e=>{p.push(...c.CoreFilepool.extractDownloadableFilesFromHtmlAsFakeFileObjects(e[0]))})))})),yield c.CoreFilepool.addFilesToQueue(r.siteId,p,i.component,e)}));return function(e){return s.apply(this,arguments)}}())))}))()}sync(e,n,r){return b._.syncLesson(e.instance,!1,!1,r)}}return(n=AddonModLessonPrefetchHandlerService).ɵfac=(()=>{let e;return function AddonModLessonPrefetchHandlerService_Factory(r){return(e||(e=_.xGo(n)))(r||n)}})(),n.ɵprov=_.jDH({token:n,factory:n.ɵfac,providedIn:"root"}),AddonModLessonPrefetchHandlerService})();const I=(0,v.Qd)(E)},83174:(e,n,r)=>{"use strict";r.d(n,{r:()=>E});var o=r(10467),i=r(82907),s=r(75383),a=r(24742),c=r(79555),u=r(21509),p=r(81690),f=r(35161),g=r(75629),v=r(35132),C=r(52749),b=r(55554),w=r(54438),A=r(89417);let _=(()=>{var e;class AddonModLessonHelperProvider{constructor(e){this.formBuilder=e}formatActivityLink(e){const n=(0,f.B)(e).querySelector("a");return n?{formatted:!0,label:n.innerHTML,href:n.href}:{formatted:!1,label:e,href:""}}getContentPageAnswerDataFromHtml(e){const n={buttonText:"",content:""},r=(0,f.B)(e),o=r.querySelector('input[type="button"]');return o&&(n.buttonText=o.value,o.remove()),n.content=r.innerHTML.trim(),n}getPageButtonsFromHtml(e){const n=[],r=(0,f.B)(e);let o=r.querySelector(".branchbuttoncontainer");if(!o){if(!r.querySelector('form input[type="submit"]'))return n;o=r}return Array.from(o.querySelectorAll("form")).forEach((e=>{const r=e.querySelector('input[type="submit"], button[type="submit"]'),o=Array.from(e.querySelectorAll("input"));if(!r||!o||!o.length)return;const i={id:r.id,title:r.title||r.value,content:"INPUT"==r.tagName?r.value:r.innerHTML.trim(),data:{}};o.forEach((e=>{"submit"!=e.type&&(i.data[e.name]=e.value)})),n.push(i)})),n}getPageContentsFromPageData(e){var n,r;const o=(0,f.B)(e.pagecontent||"").querySelector(".contents");return o?o.innerHTML.trim():u.N.isQuestionPage((null===(n=e.page)||void 0===n?void 0:n.type)||-1)||20==(null===(r=e.page)||void 0===r?void 0:r.qtype)?(null===(i=e.page)||void 0===i?void 0:i.contents)||"":e.pagecontent||"";var i}getQuestionFromPageData(e,n){var r;const o=(0,f.B)(n.pagecontent||""),i=o.querySelector(".fcontainer");Array.from(o.querySelectorAll('input[type="hidden"]')).forEach((n=>{e.addControl(n.name,this.formBuilder.control(n.value))}));const s=o.querySelector('input[type="submit"]'),a={template:"",submitLabel:s?s.value:c.HT.instant("addon.mod_lesson.submit")};if(!i)return a;switch(null===(r=n.page)||void 0===r?void 0:r.qtype){case 2:case 3:return this.getMultiChoiceQuestionData(e,a,i);case 8:case 1:return this.getInputQuestionData(e,a,i,n.page.qtype);case 10:return this.getEssayQuestionData(e,a,i);case 5:return this.getMatchingQuestionData(e,a,i)}return a}getMultiChoiceQuestionData(e,n,r){const o={...n,template:"multichoice",options:[],multi:!1};let i=Array.from(r.querySelectorAll('input[type="radio"]'));if(!(i&&i.length||(o.multi=!0,i=Array.from(r.querySelectorAll('input[type="checkbox"]')),i&&i.length)))return o;let s=!1;return i.forEach((n=>{const r=n.parentElement,i={id:n.id,name:n.name,value:n.value,checked:!!n.checked,disabled:!!n.disabled,text:""};(i.checked||o.multi)&&(e.addControl(i.name,this.formBuilder.control(o.multi?{value:i.checked,disabled:i.disabled}:i.value)),s=!0),n.remove(),i.text=(null==r?void 0:r.innerHTML.trim())||"",o.options.push(i)})),o.multi||(o.controlName=i[0].name,s||e.addControl(o.controlName,this.formBuilder.control(""))),o}getInputQuestionData(e,n,r,o){const i=n;i.template="shortanswer";const s=r.querySelector('input[type="text"], input[type="number"]');return s?(i.input={id:s.id,name:s.name,maxlength:s.maxLength,type:"text"},e.addControl(s.name,this.formBuilder.control({value:8===o?p.j.formatFloat(s.value):s.value,disabled:s.readOnly})),i):i}getEssayQuestionData(e,n,r){const o=n;o.template="essay";const i=r.querySelector("textarea");if(i)o.textarea={id:i.id,name:i.name||"answer[text]"},o.control=this.formBuilder.control("",{nonNullable:!0}),e.addControl(o.textarea.name,o.control);else{const e=r.querySelector(".reviewessay");if(!e)return o;o.useranswer=e.innerHTML}return o}getMatchingQuestionData(e,n,r){const o={...n,template:"matching",rows:[]};return Array.from(r.querySelectorAll(".answeroption")).forEach((n=>{const r=n.querySelector("label"),i=n.querySelector("select"),s=Array.from(n.querySelectorAll("option"));if(!(r&&i&&s&&s.length))return;const a={text:r.innerHTML.trim(),id:i.id,name:i.name,options:[]};let c=!1;s.forEach((n=>{if(void 0===n.value)return;const r={value:n.value,label:n.innerHTML.trim(),selected:n.selected};r.selected&&(c=!0,e.addControl(a.name,this.formBuilder.control({value:r.value,disabled:!!i.disabled}))),a.options.push(r)})),c||e.addControl(a.name,this.formBuilder.control({value:"",disabled:!!i.disabled})),o.rows.push(a)})),o}getQuestionPageAnswerDataFromHtml(e){const n=(0,f.B)(e);let r=n.querySelector('input[type="checkbox"][name*="answer"]');if(r){const e=n.querySelector(".badge.bg-success, .badge.badge-success"),o={isCheckbox:!0,checked:!!r.checked,name:r.name,highlight:!!n.querySelector(".highlight"),content:"",successBadge:null==e?void 0:e.innerText};return r.remove(),null==e||e.remove(),o.content=n.innerHTML.trim(),o}if(r=n.querySelector('input[type="number"],input[type="text"]'),r)return{isText:!0,value:r.value};const o=n.querySelector("select");if(null!=o&&o.options){const e=o.options[o.selectedIndex],r={isSelect:!0,id:o.id,value:e?e.value:"",content:""};return o.remove(),r.content=n.innerHTML.trim(),r}return e}getRetakeLabel(e,n){const r={retake:e.try+1,grade:"",timestart:"",duration:""},o=null!=e.grade;return o||e.end?(o&&(r.grade=c.HT.instant("core.percentagenumber",{$a:e.grade})),r.timestart=a.j.userDate(1e3*e.timestart),n&&(r.duration=a.j.formatTime(e.timeend-e.timestart))):(r.grade=c.HT.instant("addon.mod_lesson.notcompleted"),e.timestart&&(r.timestart=a.j.userDate(1e3*e.timestart))),c.HT.instant("addon.mod_lesson.retakelabel"+(n?"full":"short"),r)}prepareQuestionData(e,n){if("essay"==e.template){const r=e.textarea;r&&(n[r.name]=s.Ni.formatHtmlLines(n[r.name]||""))}else if("multichoice"==e.template&&e.multi)for(const e in n)e.match(/answer\[\d+\]/)&&0==n[e]&&delete n[e];return n}removeQuestionFromFeedback(e){const n=(0,f.B)(e);return i.y.removeElement(n,".generalbox:not(.feedback):not(.correctanswer)"),n.innerHTML.trim()}getLessonPassword(e,n={}){var r=this;return(0,o.A)((function*(){n.siteId=n.siteId||C.CoreSites.getCurrentSiteId();const o=yield u.N.getAccessInformation(e,n);if(!o.preventaccessreasons.length)return{accessInfo:o};if(!(1==o.preventaccessreasons.length&&u.N.isPasswordProtected(o)))throw new g.CoreError(o.preventaccessreasons[0].message);let i=yield b.g.ignoreErrors(u.N.getStoredPassword(e));if(i)try{return yield r.validatePassword(e,o,i,n)}catch{}if(!n.askPassword)throw new g.CoreError(o.preventaccessreasons[0].message);return i=(yield v.CorePrompts.promptPassword({title:"addon.mod_lesson.enterpassword",placeholder:"core.login.password",submit:"addon.mod_lesson.continue"})).password,r.validatePassword(e,o,i,n)}))()}validatePassword(e,n,r,i={}){return(0,o.A)((function*(){i.siteId=i.siteId||C.CoreSites.getCurrentSiteId();const o=yield u.N.getLessonWithPassword(e,{password:r,...i});return yield u.N.storePassword(o.id,r,i.siteId),{password:r,lesson:o,accessInfo:n}}))()}}return(e=AddonModLessonHelperProvider).ɵfac=function AddonModLessonHelperProvider_Factory(n){return new(n||e)(w.KVO(A.ok))},e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonHelperProvider})();const E=(0,c.Qd)(_)},2907:(e,n,r)=>{"use strict";r.d(n,{c:()=>C});var o=r(10467),i=r(52749),s=r(75383),a=r(24742),c=r(58364),u=r(79555),p=r(38115),f=r(55554),g=r(54438);let v=(()=>{var e;class AddonModLessonOfflineProvider{deleteAttempt(e,n,r,s,a){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(a);yield o.getDb().deleteRecords(p.cH,{lessonid:e,retake:n,pageid:r,timemodified:s})}))()}deleteRetake(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n);yield r.getDb().deleteRecords(p.DE,{lessonid:e})}))()}deleteRetakeAttemptsForPage(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s);yield o.getDb().deleteRecords(p.cH,{lessonid:e,retake:n,pageid:r})}))()}finishRetake(e,n,r,s,c,u){var f=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),g=yield f.getRetakeWithFallback(e,n,r,o.id);g.finished=s?1:0,g.outoftime=c?1:0,g.timemodified=a.j.timestamp(),yield o.getDb().insertRecord(p.DE,g)}))()}getAllAttempts(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSiteDb(e),o=yield r.getAllRecords(p.cH);return n.parsePageAttempts(o)}))()}getAllLessonsWithData(e){var n=this;return(0,o.A)((function*(){const r={},[o,i]=yield Promise.all([f.g.ignoreErrors(n.getAllAttempts(e)),f.g.ignoreErrors(n.getAllRetakes(e))]);return n.getLessonsFromEntries(r,o||[]),n.getLessonsFromEntries(r,i||[]),c.T.toArray(r)}))()}getAllRetakes(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSiteDb(e)).getAllRecords(p.DE)}))()}getLastQuestionPageAttempt(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId();try{const o=yield s.getRetakeWithFallback(e,0,n,r);if(!o.lastquestionpage)return;return(yield s.getRetakeAttemptsForPage(e,n,o.lastquestionpage,r)).reduce(((e,n)=>e&&e.timemodified>n.timemodified?e:n),void 0)}catch{}}))()}getLessonAttempts(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s=yield o.getDb().getRecords(p.cH,{lessonid:e});return r.parsePageAttempts(s)}))()}getLessonsFromEntries(e,n){n.forEach((n=>{e[n.lessonid]||(e[n.lessonid]={id:n.lessonid,courseId:n.courseid})}))}getQuestionsAttempts(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=i?yield a.getRetakeAttemptsForPage(e,n,i,s):yield a.getRetakeAttemptsForType(e,n,0,s);return r?o.filter((e=>!!e.correct)):o}))()}getRetake(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).getDb().getRecord(p.DE,{lessonid:e})}))()}getRetakeAttempts(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),a=yield o.getDb().getRecords(p.cH,{lessonid:e,retake:n});return s.parsePageAttempts(a)}))()}getRetakeAttemptsForPage(e,n,r,s){var a=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s),c=yield o.getDb().getRecords(p.cH,{lessonid:e,retake:n,pageid:r});return a.parsePageAttempts(c)}))()}getRetakeAttemptsForType(e,n,r,s){var a=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s),c=yield o.getDb().getRecords(p.cH,{lessonid:e,retake:n,type:r});return a.parsePageAttempts(c)}))()}getRetakeWithFallback(e,n,r,i){var s=this;return(0,o.A)((function*(){try{const n=yield s.getRetake(e,i);if(n.retake==r)return n}catch{}return{lessonid:e,retake:r,courseid:n,finished:0}}))()}hasFinishedRetake(e,n){var r=this;return(0,o.A)((function*(){try{return!!(yield r.getRetake(e,n)).finished}catch{return!1}}))()}hasOfflineData(e,n){var r=this;return(0,o.A)((function*(){const[o,i]=yield Promise.all([f.g.ignoreErrors(r.getRetake(e,n)),f.g.ignoreErrors(r.getLessonAttempts(e,n))]);return!!o||!(null==i||!i.length)}))()}hasRetakeAttempts(e,n,r){var i=this;return(0,o.A)((function*(){try{return!!(yield i.getRetakeAttempts(e,n,r)).length}catch{return!1}}))()}parsePageAttempt(e){return{...e,data:e.data?s.Ni.parseJSON(e.data):null,useranswer:e.useranswer?s.Ni.parseJSON(e.useranswer):null}}parsePageAttempts(e){return e.map((e=>this.parsePageAttempt(e)))}processPage(e,n,r,s,c,u,f,g,v,C){var b=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(C),w={lessonid:e,retake:r,pageid:s.id,timemodified:a.j.timestamp(),courseid:n,data:c?JSON.stringify(c):null,type:s.type,newpageid:u,correct:g?1:0,answerid:f||null,useranswer:v?JSON.stringify(v):null};yield o.getDb().insertRecord(p.cH,w),0==s.type&&(yield b.setLastQuestionPageAttempted(e,n,r,s.id,C))}))()}setLastQuestionPageAttempted(e,n,r,s,c){var u=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(c),f=yield u.getRetakeWithFallback(e,n,r,o.id);f.lastquestionpage=s,f.timemodified=a.j.timestamp(),yield o.getDb().insertRecord(p.DE,f)}))()}}return(e=AddonModLessonOfflineProvider).ɵfac=function AddonModLessonOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonOfflineProvider})();const C=(0,u.Qd)(v)},35661:(e,n,r)=>{"use strict";r.d(n,{_:()=>R});var o=r(10467),i=r(42008),s=r(49446),a=r(37690),c=r(44682),u=r(97254),p=r(94455),f=r(52749),g=r(48966),v=r(24742),C=r(8014),b=r(43411),w=r(79555),A=r(49882),_=r(38115),E=r(21509),I=r(2907),T=r(55101),P=r(55554),k=r(83174),x=r(54438);let F=(()=>{var e;class AddonModLessonSyncProvider extends a.L{constructor(){super("AddonModLessonSyncProvider"),this.componentTranslatableString="lesson"}deleteRetakeFinishedInSync(e,n){return(0,o.A)((function*(){const r=yield f.CoreSites.getSite(n);yield P.g.ignoreErrors(r.getDb().deleteRecords(_.C7,{lessonid:e}))}))()}getRetakeFinishedInSync(e,n){return(0,o.A)((function*(){const r=yield f.CoreSites.getSite(n);return P.g.ignoreErrors(r.getDb().getRecord(_.C7,{lessonid:e}))}))()}hasDataToSync(e,n,r){return(0,o.A)((function*(){const[o,i]=yield Promise.all([P.g.ignoreErrors(I.c.hasRetakeAttempts(e,n,r)),P.g.ignoreErrors(I.c.hasFinishedRetake(e,r))]);return!(!o&&!i)}))()}setRetakeFinishedInSync(e,n,r,i){return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(i);yield o.getDb().insertRecord(_.C7,{lessonid:e,retake:Number(n),pageid:Number(r),timefinished:v.j.timestamp()})}))()}syncAllLessons(e,n=!1){return this.syncOnSites("all lessons",(e=>this.syncAllLessonsFunc(!!n,e)),e)}syncAllLessonsFunc(e,n){var r=this;return(0,o.A)((function*(){const i=yield I.c.getAllLessonsWithData(n);yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){const i=e?yield r.syncLesson(o.id,!1,!1,n):yield r.syncLessonIfNeeded(o.id,!1,n);null!=i&&i.updated&&A.z.trigger(T.EI,{lessonId:o.id,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}()))}))()}syncLessonIfNeeded(e,n=!1,r){var i=this;return(0,o.A)((function*(){if(yield i.isSyncNeeded(e,r))return i.syncLesson(e,n,!1,r)}))()}syncLesson(e,n=!1,r=!1,s){var a=this;return(0,o.A)((function*(){s=s||f.CoreSites.getCurrentSiteId();let o=a.getOngoingSync(e,s);if(o)return o;if(!r&&g.CoreSync.isBlocked(T.JL,e,s))throw a.logger.debug(`Cannot sync lesson ${e} because it is blocked.`),new i.D(w.HT.instant("core.errorsyncblocked",{$a:a.componentTranslate}));return a.logger.debug(`Try to sync lesson ${e} in site ${s}`),o=a.performSyncLesson(e,n,r,s),a.addOngoingSync(e,o,s)}))()}performSyncLesson(e,n=!1,r=!1,i){var s=this;return(0,o.A)((function*(){yield P.g.ignoreErrors(u.CoreCourseLogHelper.syncActivity(T.tj,e,i));const o={warnings:[],updated:!1},a=yield s.syncAttempts(e,o,n,i);if(yield s.syncRetake(e,o,a,n,r,i),o.updated&&o.courseId)try{const n=yield c.CoreCourse.getModuleBasicInfoByInstance(e,T.Hm,{siteId:i});yield s.prefetchModuleAfterUpdate(n,o.courseId,void 0,i)}catch{}return yield P.g.ignoreErrors(s.setSyncTime(e,i)),o}))()}syncAttempts(e,n,r=!1,i){var a=this;return(0,o.A)((function*(){let o=yield I.c.getLessonAttempts(e,i);if(!o.length)return;if(!p.WE.isOnline())throw new s.CoreNetworkError;n.courseId=o[0].courseid;const c=o.length,u=yield E.N.getLessonById(n.courseId,e,{siteId:i}),f=yield k.r.getLessonPassword(e,{readingStrategy:2,askPassword:r,siteId:i}),g=[];if(f.lesson=f.lesson||u,o=o.filter((e=>e.retake==f.accessInfo.attemptscount||(g.push(P.g.ignoreErrors(I.c.deleteAttempt(u.id,e.retake,e.pageid,e.timemodified,i))),!1))),o.length!=c&&a.addOfflineDataDeletedWarning(n.warnings,u.name,w.HT.instant("addon.mod_lesson.warningretakefinished")),yield Promise.all(g),!o.length)return f;o.sort(((e,n)=>e.timemodified-n.timemodified));const v=o.map((e=>({function:()=>{var r;return a.sendAttempt(u,null!==(r=f.password)&&void 0!==r?r:"",e,n,i)},blocking:!0})));return yield P.g.executeOrderedPromises(v),f}))()}sendAttempt(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=r.retake,c=r.pageid,u=r.timemodified;try{yield E.N.processPageOnline(e.id,r.pageid,r.data||{},{password:n,siteId:s}),i.updated=!0,yield I.c.deleteAttempt(e.id,o,c,u,s)}catch(n){if(!b.CoreWSError.isWebServiceError(n))throw n;i.updated=!0,yield I.c.deleteAttempt(e.id,o,c,u,s),a.addOfflineDataDeletedWarning(i.warnings,e.name,n)}}))()}syncRetake(e,n,r,i=!1,a=!1,c){var u=this;return(0,o.A)((function*(){var o;const f=yield P.g.ignoreErrors(I.c.getRetake(e,c));if(f){if(!f.finished)return yield I.c.deleteRetake(e,c),void 0;if(!p.WE.isOnline())throw new s.CoreNetworkError;if(n.courseId=f.courseid||n.courseId,null===(o=r)||void 0===o||!o.lesson){const o=yield E.N.getLessonById(n.courseId,e,{siteId:c});(r=yield k.r.getLessonPassword(e,{readingStrategy:2,askPassword:i,siteId:c})).lesson=r.lesson||o}f.retake!=r.accessInfo.attemptscount&&(n.warnings.length||u.addOfflineDataDeletedWarning(n.warnings,r.lesson.name,w.HT.instant("addon.mod_lesson.warningretakefinished")),yield I.c.deleteRetake(e,c));try{var g;const o=yield E.N.finishRetakeOnline(e,{password:r.password,siteId:c});if(n.updated=!0,!a&&null!==(g=o.data)&&void 0!==g&&g.reviewlesson){const n=C.F.extractUrlParams(o.data.reviewlesson.value);n.pageid&&u.setRetakeFinishedInSync(e,f.retake,Number(n.pageid),c)}yield I.c.deleteRetake(e,c)}catch(o){if(!b.CoreWSError.isWebServiceError(o))throw o;n.updated=!0,yield I.c.deleteRetake(e,c),u.addOfflineDataDeletedWarning(n.warnings,r.lesson.name,o)}}}))()}}return(e=AddonModLessonSyncProvider).ɵfac=function AddonModLessonSyncProvider_Factory(n){return new(n||e)},e.ɵprov=x.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonSyncProvider})();const R=(0,w.Qd)(F)},21509:(e,n,r)=>{"use strict";r.d(n,{N:()=>k});var o=r(10467),i=r(75629),s=r(97254),a=r(52749),c=r(35161),u=r(75383),p=r(81690),f=r(79555),g=r(49882),v=r(38115),C=r(2907),b=r(55101),w=r(74431),A=r(55554),_=r(58364),E=r(24502),I=r(95384),T=r(54438);let P=(()=>{var e;class AddonModLessonProvider{addAnswerAndResponseToFeedback(e,n,r,o,i){return e+='<tr><td class="cell c0 lastcol">'+(r?n:u.Ni.cleanTags(n))+"</td></tr>",null!=o&&o.trim()?e+='<tr><td class="cell c0 lastcol '+i+'"><em>'+f.HT.instant("addon.mod_lesson.response")+"</em>: <br/>"+o+"</td></tr>":e+='<tr><td class="cell c0 lastcol"></td></tr>',e}addMessage(e,n,r){e.push({message:f.HT.instant(n,r),type:""})}addResultValueEolPage(e,n,r,o){let i="";if(o){i=f.HT.instant(`addon.mod_lesson.${n}`,"boolean"!=typeof r?{$a:r}:void 0)}e.data[n]={name:n,value:r,message:i}}answerPageIsContent(e){if(e.qtype==f.HT.instant("addon.mod_lesson.branchtable"))return!0;if(e.answerdata&&!this.answerPageIsQuestion(e)&&e.answerdata.answers&&e.answerdata.answers[0]){return!!(0,c.B)(e.answerdata.answers[0][0]).querySelector('input[type="button"]')}return!1}answerPageIsQuestion(e){if(!e.answerdata)return!1;if(e.answerdata.score)return!0;if(e.answerdata.answers)for(let n=0;n<e.answerdata.answers.length;n++){if(e.answerdata.answers[n][1])return!0}return!1}calculateOfflineData(e,n={}){var r=this;return(0,o.A)((function*(){var o;const i=!!(n.review||null!==(o=n.accessInfo)&&void 0!==o&&o.reviewmode);let s,a="";if(n.accessInfo&&!n.accessInfo.canmanage&&(e.ongoing&&!i&&(a=yield r.getOngoingScoreMessage(e,n.accessInfo,n)),e.progressbar)){const o={cmId:e.coursemodule,...n};s=yield r.calculateProgress(e.id,n.accessInfo,o)}return{reviewmode:i,progress:s,ongoingscore:a}}))()}calculateProgress(e,n,r={}){var i=this;return(0,o.A)((function*(){if(r.siteId=r.siteId||a.CoreSites.getCurrentSiteId(),r.review)return 100;const o=n.attemptscount,s={cmId:r.cmId,siteId:r.siteId};if(!r.pageIndex){const n=yield i.getPages(e,{cmId:r.cmId,password:r.password,readingStrategy:1,siteId:r.siteId});r.pageIndex=i.createPagesIndex(n)}let c=yield i.getPagesIdsWithQuestionAttempts(e,o,s);const p=yield i.getContentPagesViewedIds(e,o,s),f={};let g=n.firstpageid;for(c=E.R.mergeWithoutDuplicates(c,p);g;)g=i.validPageAndView(r.pageIndex,r.pageIndex[g],f,c);return 100*u.Ni.roundToDecimals(c.length/Object.keys(f).length,2)}))()}checkAnswer(e,n,r,o,i){const s={answerid:0,noanswer:!1,correctanswer:!1,isessayquestion:!1,response:"",newpageid:0,studentanswer:"",userresponse:"",feedback:"",nodefaultresponse:!1,inmediatejump:!1};switch(n.page.qtype){case 20:s.inmediatejump=!0,s.newpageid=this.getNewPageId(n.page.id,r.jumpto,o);break;case 10:this.checkAnswerEssay(n,r,s);break;case 5:this.checkAnswerMatching(n,r,s);break;case 3:this.checkAnswerMultichoice(e,n,r,i,s);break;case 8:this.checkAnswerNumerical(e,n,r,i,s);break;case 1:this.checkAnswerShort(e,n,r,i,s);break;case 2:this.checkAnswerTruefalse(e,n,r,i,s)}return s}checkAnswerEssay(e,n,r){let o;return r.isessayquestion=!0,n?(o=void 0!==n["answer_editor[text]"]?n["answer_editor[text]"]:"object"==typeof n.answer_editor?n.answer_editor.text:void 0!==n["answer[text]"]?n["answer[text]"]:"object"==typeof n.answer?n.answer.text:n.answer,o&&""!==o.trim()?(e.answers.forEach((e=>{r.answerid=e.id,r.newpageid=e.jumpto||0})),r.userresponse={sent:0,graded:0,score:0,answer:o,answerformat:u.C9,response:"",responseformat:u.C9},r.studentanswerformat=u.C9,r.studentanswer=o,void 0):(r.noanswer=!0,void 0)):(r.inmediatejump=!0,r.newpageid=e.page.id,void 0)}checkAnswerMatching(e,n,r){if(!n)return r.inmediatejump=!0,r.newpageid=e.page.id,void 0;const o=this.getUserResponseMatching(n),i=p.j.clone(e.answers),s=i.shift(),a=i.shift(),c={};i.forEach((e=>{""===e.answer&&""===e.response||(c[e.id]=e)}));const f=[];let g=0;r.studentanswer="",r.studentanswerformat=u.C9;for(const e in o){let n=o[e];if(!n)return r.noanswer=!0,void 0;if(n=u.Ni.decodeHTML(n),f.push(n),void 0!==c[e]){const o=c[e];r.studentanswer+=`<br />${o.answer} = ${n}`,o.response&&o.response.trim()==n.trim()&&g++}}r.userresponse=f.join(","),g==Object.keys(c).length?(r.correctanswer=!0,r.response=s.answer||"",r.answerid=s.id,r.newpageid=s.jumpto||0):(r.correctanswer=!1,r.response=a.answer||"",r.answerid=a.id,r.newpageid=a.jumpto||0)}checkAnswerMultichoice(e,n,r,o,i){if(!r)return i.inmediatejump=!0,i.newpageid=n.page.id,void 0;const s=this.getUsedAnswersMultichoice(n);if(n.page.qoption){const a=this.getUserResponseMultichoice(r);if(!a||!Array.isArray(a))return i.noanswer=!0,void 0;i.userresponse=a.join(",");const c=[],p=[];let f,g,v=0,C=0,b=0,w=0;i.studentanswer="",i.studentanswerformat=u.C9,s.forEach((e=>{for(const n in a){if(a[n]==e.id){c.push(e.answer),p.push(e.response||"");break}}})),i.studentanswer=c.join(AddonModLessonProvider.MULTIANSWER_DELIMITER),s.forEach((r=>{const i=this.isAnswerCorrect(e,n.page.id,r,o);a.forEach((e=>{e==r.id&&(i?v++:(void 0===g&&(g=r.jumpto),w||(w=r.id)))})),i&&(C++,void 0===f&&(f=r.jumpto),b||(b=r.id))})),a.length==C&&v==C?(i.correctanswer=!0,i.response=p.join(AddonModLessonProvider.MULTIANSWER_DELIMITER),i.newpageid=f||0,i.answerid=b):(i.correctanswer=!1,i.response=p.join(AddonModLessonProvider.MULTIANSWER_DELIMITER),i.newpageid=g||0,i.answerid=w)}else{if(void 0===r.answerid||!r.answerid&&0!==Number(r.answerid))return i.noanswer=!0,void 0;i.answerid=r.answerid;for(const s in n.answers){const a=n.answers[s];if(a.id==r.answerid){i.correctanswer=this.isAnswerCorrect(e,n.page.id,a,o),i.newpageid=a.jumpto||0,i.response=a.response||"",i.userresponse=i.studentanswer=a.answer||"";break}}}}checkAnswerNumerical(e,n,r,o,i){const s=p.j.unformatFloat(r.answer,!0);if(i.response="",i.newpageid=0,!r.answer||!1===s||""===s)return i.noanswer=!0,void 0;r.answer=String(s),i.useranswer=s,i.studentanswer=i.userresponse=String(i.useranswer);for(const r in n.answers){const a=n.answers[r];let c,u;if(a.answer&&-1!=a.answer.indexOf(":")){const e=a.answer.split(":");u=parseFloat(e[0]),c=parseFloat(e[1])}else u=parseFloat(a.answer||""),c=u;if(s>=u&&s<=c){i.newpageid=a.jumpto||0,i.response=a.response||"",i.correctanswer=this.isAnswerCorrect(e,n.page.id,a,o),i.answerid=a.id;break}}this.checkOtherAnswers(e,n,i)}checkAnswerShort(e,n,r,o,i){let s="string"==typeof r.answer&&r.answer.trim();if(!s)return i.noanswer=!0,void 0;for(const r in n.answers){const a=n.answers[r],c=n.page.qoption;let p=a.answer||"",f=!1,g="";if(c?"/i"==p.slice(-2)&&(p=p.substring(0,p.length-2),g="i"):(p=p.replace("*","#####"),p=u.Ni.escapeForRegex(p),p=p.replace("#####",".*")),this.isAnswerCorrect(e,n.page.id,a,o))c?s.match(new RegExp(`^${p}$`,g))&&(f=!0):s.match(new RegExp(`^${p}$`,"i"))&&(f=!0),f&&(i.correctanswer=!0);else if(c){switch(p.substring(0,2)){case"--":p=p.substring(2),s.match(new RegExp(`^${p}$`,g))||(f=!0);break;case"++":{p=p.substring(2);const e=s.match(new RegExp(p,`g${g}`));if(e){f=!0;const n=e.length,r=[],o=[];for(let i=0;i<n;i++)r.push(e[i]),o.push(`<span class="incorrect matches">${e[i]}</span>`);for(let e=0;e<r.length;e++)s=s.replace(r[e],o[e])}break}default:s.match(new RegExp(`^${p}$`,g))&&(f=!0)}i.correctanswer=!1}else s.match(new RegExp(`^${p}$`,"i"))&&(f=!0);if(f){i.newpageid=a.jumpto||0,i.response=a.response||"",i.answerid=a.id;break}}this.checkOtherAnswers(e,n,i),i.userresponse=s,i.studentanswer=u.Ni.s(s)}checkAnswerTruefalse(e,n,r,o,i){if(!r.answerid)return i.noanswer=!0,void 0;i.answerid=r.answerid;for(const s in n.answers){const a=n.answers[s];if(a.id==r.answerid){i.correctanswer=this.isAnswerCorrect(e,n.page.id,a,o),i.newpageid=a.jumpto||0,i.response=a.response||"",i.studentanswer=i.userresponse=a.answer||"";break}}}checkOtherAnswers(e,n,r){if(0==r.answerid){const o=n.answers[n.answers.length-1]||{};"string"==typeof o.answer&&-1!==o.answer.indexOf(b.yT)&&(r.newpageid=o.jumpto||0,r.response=o.response||"",e.custom&&(r.correctanswer=!!(o.score&&o.score>0)),r.answerid=o.id)}}createPagesIndex(e){const n={};return e.forEach((e=>{n[e.page.id]=e.page})),n}finishRetake(e,n,r={}){var i=this;return(0,o.A)((function*(){if(r.offline)return i.finishRetakeOffline(e,n,r);const o=yield i.finishRetakeOnline(e.id,r);return g.z.trigger(b.y6,{lessonId:e.id,type:"finish",courseId:n,outOfTime:r.outOfTime,review:r.review},a.CoreSites.getCurrentSiteId()),o}))()}finishRetakeOnline(e,n={}){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n.siteId),o={lessonid:e,outoftime:!!n.outOfTime,review:!!n.review};"string"==typeof n.password&&(o.password=n.password);const i=yield r.write("mod_lesson_finish_attempt",o),s={};return i.data.forEach((e=>{e.value&&"string"==typeof e.value&&"1"!==e.value&&(e.value=u.Ni.parseJSON(e.value)),s[e.name]=e})),Object.assign(i,{data:s})}))()}finishRetakeOffline(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=r.accessInfo.attemptscount;yield C.c.finishRetake(e.id,n,o,!0,r.outOfTime,r.siteId);const s={cmId:e.coursemodule,password:r.password,review:r.review,siteId:r.siteId},a=yield A.g.ignoreErrors(i.lessonGrade(e,o,s));return i.processEolPage(e,n,r,a)}))()}processEolPage(e,n,r={},s){var a=this;return(0,o.A)((function*(){if(!r.accessInfo)throw new i.CoreError("Access info not supplied to finishRetake.");const n={data:{},messages:[],warnings:[]};let o=!0;if(a.addResultValueEolPage(n,"offline",!0),a.addResultValueEolPage(n,"gradeinfo",s),e.custom&&!r.accessInfo.canmanage&&s&&e.minquestions&&s.nquestions<e.minquestions&&(o=!1,a.addMessage(n.messages,"addon.mod_lesson.numberofpagesviewednotice",{$a:{nquestions:s.nquestions,minquestions:e.minquestions}})),r.accessInfo.canmanage)0!==e.grade&&a.addResultValueEolPage(n,"displayofgrade",!0,!0);else if(o){const o=yield a.calculateProgress(e.id,r.accessInfo,{cmId:e.coursemodule,password:r.password,review:r.review,siteId:r.siteId});if(a.addResultValueEolPage(n,"progresscompleted",o),null!=s&&s.attempts){e.custom||(a.addResultValueEolPage(n,"numberofpagesviewed",s.nquestions,!0),e.minquestions&&s.nquestions<e.minquestions&&a.addResultValueEolPage(n,"youshouldview",e.minquestions,!0),a.addResultValueEolPage(n,"numberofcorrectanswers",s.earned,!0));const r={score:s.earned,grade:s.total};s.nmanual?(r.tempmaxgrade=s.total-s.manualpoints,r.essayquestions=s.nmanual,a.addResultValueEolPage(n,"displayscorewithessays",r,!0)):a.addResultValueEolPage(n,"displayscorewithoutessays",r,!0),void 0!==e.grade&&0!==e.grade&&(r.grade=u.Ni.roundToDecimals(s.grade*e.grade/100,1),r.total=e.grade,a.addResultValueEolPage(n,"yourcurrentgradeisoutof",r,!0))}else e.timelimit?r.outOfTime&&a.addResultValueEolPage(n,"eolstudentoutoftimenoanswers",!0,!0):a.addResultValueEolPage(n,"welldone",!0,!0)}return e.modattempts&&r.accessInfo.canmanage&&a.addResultValueEolPage(n,"modattemptsnoteacher",!0,!0),o&&a.addResultValueEolPage(n,"gradelesson",1),n}))()}getAccessInformation(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n.siteId),i={lessonid:e},s={cacheKey:r.getAccessInformationCacheKey(e),updateFrequency:w.CoreCacheUpdateFrequency.OFTEN,component:b.tj,componentId:n.cmId,...a.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_lesson_get_lesson_access_information",i,s)}))()}getAccessInformationCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}accessInfo:${e}`}getContentPagesViewed(e,n,r={}){var i=this;return(0,o.A)((function*(){const[o,s]=yield Promise.all([i.getContentPagesViewedOnline(e,n,r),A.g.ignoreErrors(C.c.getRetakeAttemptsForType(e,n,1,r.siteId))]);return{online:o,offline:s||[]}}))()}getContentPagesViewedCacheKey(e,n){return`${this.getContentPagesViewedCommonCacheKey(e)}:${n}`}getContentPagesViewedCommonCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}contentPagesViewed:${e}`}getContentPagesViewedIds(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield i.getContentPagesViewed(e,n,r),s={};return o.online.concat(o.offline).forEach((e=>{s[e.pageid]||(s[e.pageid]=!0)})),Object.keys(s).map((e=>Number(e)))}))()}getContentPagesViewedOnline(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r.siteId),s={lessonid:e,lessonattempt:n},c={cacheKey:i.getContentPagesViewedCacheKey(e,n),component:b.tj,componentId:r.cmId,...a.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};return(yield o.read("mod_lesson_get_content_pages_viewed",s,c)).pages}))()}getLastContentPageViewed(e,n,r={}){var i=this;return(0,o.A)((function*(){try{const o=yield i.getContentPagesViewed(e,n,r);let s,a=0;return o.online.forEach((e=>{e.timeseen>a&&(s=e,a=e.timeseen)})),o.offline.forEach((e=>{e.timemodified>a&&(s=e,a=e.timemodified)})),s}catch{}}))()}getLastPageSeen(e,n,r={}){var i=this;return(0,o.A)((function*(){let o;r.siteId=r.siteId||a.CoreSites.getCurrentSiteId();const s=yield C.c.getLastQuestionPageAttempt(e,n,r.siteId);s&&(o=s.newpageid);const c=yield i.getLastContentPageViewed(e,n,r);if(c)if(s){("timeseen"in c?c.timeseen:c.timemodified)>s.timemodified&&(o=c.newpageid||c.pageid)}else o=c.newpageid||c.pageid;return o}))()}getLesson(e,n,r={}){return this.getLessonByField(e,"coursemodule",n,r)}getLessonByField(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(i.siteId),c={courseids:[e]},u={cacheKey:s.getLessonDataCacheKey(e),updateFrequency:w.CoreCacheUpdateFrequency.RARELY,component:b.tj,...a.CoreSites.getReadingStrategyPreSets(i.readingStrategy)},p=yield o.read("mod_lesson_get_lessons_by_courses",c,u);return I.CoreCourseModuleHelper.getActivityByField(p.lessons,n,r)}))()}getLessonById(e,n,r={}){return this.getLessonByField(e,"id",n,r)}getLessonDataCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}lesson:${e}`}getLessonWithPassword(e,n={}){var r=this;return(0,o.A)((function*(){var o;const s=null===(o=n.validatePassword)||void 0===o||o,c=yield a.CoreSites.getSite(n.siteId),u={lessonid:e},p={cacheKey:r.getLessonWithPasswordCacheKey(e),component:b.tj,componentId:n.cmId,...a.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};"string"==typeof n.password&&(u.password=n.password);const g=yield c.read("mod_lesson_get_lesson",u,p);if(void 0===g.lesson.ongoing&&(r.removeStoredPassword(e,c.id),s))throw yield A.g.ignoreErrors(r.invalidateLessonWithPassword(e,c.id)),new i.CoreError(f.HT.instant("addon.mod_lesson.loginfail"));return g.lesson}))()}getLessonWithPasswordCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}lessonWithPswrd:${e}`}getNewPageId(e,n,r){return r&&r[e]&&r[e][n]?r[e][n].calculatedjump:n||e}getOngoingScoreMessage(e,n,r={}){if(n.canmanage)return Promise.resolve(f.HT.instant("addon.mod_lesson.teacherongoingwarning"));{let o=n.attemptscount;return r.review&&o--,this.lessonGrade(e,o,r).then((n=>e.custom?f.HT.instant("addon.mod_lesson.ongoingcustom",{$a:{score:n.earned,currenthigh:n.total}}):f.HT.instant("addon.mod_lesson.ongoingnormal",{$a:{correct:n.earned,viewed:n.attempts}})))}}getPageAnswers(e,n,r={}){var i=this;return(0,o.A)((function*(){return(yield i.getPageData(e,n,{includeContents:!0,...r,readingStrategy:r.readingStrategy||1,includeOfflineData:!1})).answers}))()}getPagesAnswers(e,n,r={}){var i=this;return(0,o.A)((function*(){const s={};return yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){(yield i.getPageAnswers(e,n,r)).forEach((e=>{s[e.id]=Object.assign(e,{pageid:n})}))}));return function(e){return n.apply(this,arguments)}}())),s}))()}getPageData(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r.siteId),s={lessonid:e.id,pageid:Number(n),review:!!r.review,returncontents:!!r.includeContents},c={cacheKey:i.getPageDataCacheKey(e.id,n),component:b.tj,componentId:r.cmId,...a.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};"string"==typeof r.password&&(s.password=r.password),r.review&&(c.getFromCache=!1,c.saveToCache=!1,c.emergencyCache=!1);const u=yield o.read("mod_lesson_get_page_data",s,c);if(c.omitExpires&&r.includeOfflineData&&u.page&&r.accessInfo&&r.jumps){const n=yield i.calculateOfflineData(e,r);Object.assign(u,n),u.messages=yield i.getPageViewMessages(e,r.accessInfo,u.page,r.jumps,{password:r.password,siteId:r.siteId})}return u}))()}getPageDataCacheKey(e,n){return`${this.getPageDataCommonCacheKey(e)}:${n}`}getPageDataCommonCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}pageData:${e}`}getPages(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n.siteId),i={lessonid:e},s={cacheKey:r.getPagesCacheKey(e),updateFrequency:w.CoreCacheUpdateFrequency.SOMETIMES,component:b.tj,componentId:n.cmId,...a.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};"string"==typeof n.password&&(i.password=n.password);return(yield o.read("mod_lesson_get_pages",i,s)).pages}))()}getPagesCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}pages:${e}`}getPagesPossibleJumps(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n.siteId),i={lessonid:e},s={cacheKey:r.getPagesPossibleJumpsCacheKey(e),component:b.tj,componentId:n.cmId,...a.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},c=yield o.read("mod_lesson_get_pages_possible_jumps",i,s),u={};return c.jumps.forEach((e=>{void 0===u[e.pageid]&&(u[e.pageid]={}),u[e.pageid][e.jumpto]=e})),u}))()}getPagesPossibleJumpsCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}pagesJumps:${e}`}getPageProcessMessages(e,n,r,o,i){const s=[];return n.canmanage&&(this.lessonDisplayTeacherWarning(i)&&this.addMessage(s,"addon.mod_lesson.teacherjumpwarning",{$a:{cluster:f.HT.instant("addon.mod_lesson.clusterjump"),unseen:f.HT.instant("addon.mod_lesson.unseenpageinbranch")}}),e.timelimit&&this.addMessage(s,"addon.mod_lesson.teachertimerwarning")),r.attemptsremaining&&r.attemptsremaining>0&&e.review&&!o&&this.addMessage(s,"addon.mod_lesson.attemptsremaining",{$a:r.attemptsremaining}),s}getPagesIdsWithQuestionAttempts(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield i.getQuestionsAttempts(e,n,r),s={};return o.online.concat(o.offline).forEach((e=>{s[e.pageid]||(s[e.pageid]=!0)})),Object.keys(s).map((e=>Number(e)))}))()}getPageViewMessages(e,n,r,i,s={}){var a=this;return(0,o.A)((function*(){const o=[];if(n.canmanage)e.timelimit&&a.addMessage(o,"addon.mod_lesson.teachertimerwarning"),a.lessonDisplayTeacherWarning(i)&&a.addMessage(o,"addon.mod_lesson.teacherjumpwarning",{$a:{cluster:f.HT.instant("addon.mod_lesson.clusterjump"),unseen:f.HT.instant("addon.mod_lesson.unseenpageinbranch")}});else if(20===r.qtype&&e.minquestions){const r=n.attemptscount,i=yield A.g.ignoreErrors(a.lessonGrade(e,r,s));null!=i&&i.attempts&&(i.nquestions<e.minquestions&&a.addMessage(o,"addon.mod_lesson.numberofpagesviewednotice",{$a:{nquestions:i.nquestions,minquestions:e.minquestions}}),s.review||e.retake||(a.addMessage(o,"addon.mod_lesson.numberofcorrectanswers",{$a:i.earned}),void 0!==e.grade&&0!==e.grade&&a.addMessage(o,"addon.mod_lesson.yourcurrentgradeisoutof",{$a:{grade:u.Ni.roundToDecimals(i.grade*e.grade/100,1),total:e.grade}})))}return o}))()}getQuestionsAttempts(e,n,r={}){var i=this;return(0,o.A)((function*(){const[o,s]=yield Promise.all([i.getQuestionsAttemptsOnline(e,n,r),A.g.ignoreErrors(C.c.getQuestionsAttempts(e,n,r.correct,r.pageId,r.siteId))]);return{online:o,offline:s||[]}}))()}getQuestionsAttemptsCacheKey(e,n,r){return`${this.getQuestionsAttemptsCommonCacheKey(e)}:${r}:${n}`}getQuestionsAttemptsCommonCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}questionsAttempts:${e}`}getQuestionsAttemptsOnline(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r.siteId),s=r.userId||o.getUserId(),c={lessonid:e,attempt:n,userid:s},u={cacheKey:i.getQuestionsAttemptsCacheKey(e,n,s),component:b.tj,componentId:r.cmId,...a.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},p=yield o.read("mod_lesson_get_questions_attempts",c,u);return r.pageId||r.correct?p.attempts.filter((e=>!(r.correct&&!e.correct)&&(!r.pageId||e.pageid==r.pageId))):p.attempts}))()}getRetakesOverview(e,n={}){var r=this;return(0,o.A)((function*(){const o=n.groupId||0,i=yield a.CoreSites.getSite(n.siteId),s={lessonid:e,groupid:o},c={cacheKey:r.getRetakesOverviewCacheKey(e,o),updateFrequency:w.CoreCacheUpdateFrequency.OFTEN,component:b.tj,componentId:n.cmId,...a.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield i.read("mod_lesson_get_attempts_overview",s,c)).data}))()}getRetakesOverviewCacheKey(e,n){return`${this.getRetakesOverviewCommonCacheKey(e)}:${n}`}getRetakesOverviewCommonCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}retakesOverview:${e}`}getStoredPassword(e,n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n);return(yield r.getDb().getRecord(v.HS,{lessonid:e})).password}))()}getSubpagesOf(e,n,r){const o=[];for(n=e[n].nextpageid,r=r||[];n&&-1==r.indexOf(e[n].qtype);)o.push(e[n]),n=e[n].nextpageid;return o}getTimers(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n.siteId),i=n.userId||o.getUserId(),s={lessonid:e,userid:i},c={cacheKey:r.getTimersCacheKey(e,i),component:b.tj,componentId:n.cmId,...a.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield o.read("mod_lesson_get_user_timers",s,c)).timers}))()}getTimersCacheKey(e,n){return`${this.getTimersCommonCacheKey(e)}:${n}`}getTimersCommonCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}timers:${e}`}getUsedAnswersMultichoice(e){return p.j.clone(e.answers).filter((e=>void 0!==e.answer&&""!==e.answer))}getUserResponseMatching(e){if(e.response)return e.response;const n={};for(const r in e){const o=r.match(/^response\[(\d+)\]/);o&&o.length>1&&(n[o[1]]=e[r])}return n}getUserResponseMultichoice(e){if(e.answer)return Array.isArray(e.answer)?e.answer.map((e=>parseInt(e,10))):void 0;const n=[];for(const r in e){const e=r.match(/^answer\[(\d+)\]/);e&&e.length>1&&n.push(parseInt(e[1],10))}return n}getUserRetake(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r.siteId),s=r.userId||o.getUserId(),c={lessonid:e,userid:s,lessonattempt:n},u={cacheKey:i.getUserRetakeCacheKey(e,s,n),updateFrequency:w.CoreCacheUpdateFrequency.SOMETIMES,component:b.tj,componentId:r.cmId,...a.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};return o.read("mod_lesson_get_user_attempt",c,u)}))()}getUserRetakeCacheKey(e,n,r){return`${this.getUserRetakeUserCacheKey(e,n)}:${r}`}getUserRetakeUserCacheKey(e,n){return`${this.getUserRetakeLessonCacheKey(e)}:${n}`}getUserRetakeLessonCacheKey(e){return`${AddonModLessonProvider.ROOT_CACHE_KEY}userRetake:${e}`}getPreventAccessReason(e,n,r){if(null==e||!e.preventaccessreasons)return;let o;for(let i=0;i<e.preventaccessreasons.length;i++){const s=e.preventaccessreasons[i];if("lessonopen"==s.reason||"lessonclosed"==s.reason)return s;"passwordprotectedlesson"==s.reason?n||(o=s):"noretake"==s.reason&&r||o||(o=s)}return o}jumptoIsCorrect(e,n,r){if(!n)return!1;if(-1==n)return!0;if(-50==n)return!0;if(-60==n)return!0;if(-80==n)return!0;if(-9==n)return!0;let o=r[e].nextpageid;for(;o;){if(n==o)return!0;o=r[o].nextpageid}return!1}invalidateAccessInformation(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAccessInformationCacheKey(e))}))()}invalidateContentPagesViewed(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getContentPagesViewedCommonCacheKey(e))}))()}invalidateContentPagesViewedForRetake(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getContentPagesViewedCacheKey(e,n))}))()}invalidateLessonData(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getLessonDataCacheKey(e))}))()}invalidateLessonWithPassword(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getLessonWithPasswordCacheKey(e))}))()}invalidatePageData(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getPageDataCommonCacheKey(e))}))()}invalidatePageDataForPage(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getPageDataCacheKey(e,n))}))()}invalidatePages(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getPagesCacheKey(e))}))()}invalidatePagesPossibleJumps(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getPagesPossibleJumpsCacheKey(e))}))()}invalidateQuestionsAttempts(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getQuestionsAttemptsCommonCacheKey(e))}))()}invalidateQuestionsAttemptsForRetake(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(s.getQuestionsAttemptsCacheKey(e,n,i||o.getUserId()))}))()}invalidateRetakesOverview(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getRetakesOverviewCommonCacheKey(e))}))()}invalidateRetakesOverviewForGroup(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getRetakesOverviewCacheKey(e,n))}))()}invalidateTimers(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getTimersCommonCacheKey(e))}))()}invalidateTimersForUser(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(i.getTimersCacheKey(e,r||o.getUserId()))}))()}invalidateUserRetake(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(i);yield o.invalidateWsCacheForKey(s.getUserRetakeCacheKey(e,r||o.getUserId(),n))}))()}invalidateUserRetakesForLesson(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getUserRetakeLessonCacheKey(e))}))()}invalidateUserRetakesForUser(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);yield o.invalidateWsCacheForKeyStartingWith(i.getUserRetakeUserCacheKey(e,n||o.getUserId()))}))()}isAnswerCorrect(e,n,r,o){return e.custom?!!(r.score&&r.score>0):this.jumptoIsCorrect(n,r.jumpto||0,o)}isLessonOffline(e){return!!e.allowofflineattempts}isPasswordProtected(e){if(!e||!e.preventaccessreasons)return!1;for(let n=0;n<e.preventaccessreasons.length;n++){if("passwordprotectedlesson"==e.preventaccessreasons[n].reason)return!0}return!1}isQuestionPage(e){return 0===e}launchRetake(e,n,r,i,s){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(s),c={lessonid:e,review:!!i};"string"==typeof n&&(c.password=n),"number"==typeof r&&(c.pageid=r);const u=yield o.write("mod_lesson_launch_attempt",c);return g.z.trigger(b.y6,{lessonId:e,type:"launch"},a.CoreSites.getCurrentSiteId()),u}))()}leftDuringTimed(e){return!(null==e||!e.lastpageseen||-9==e.lastpageseen||!e.leftduringtimedsession)}lessonDisplayTeacherWarning(e){if(!e)return!1;for(const n in e)for(const r in e[n]){const e=Number(r);if(-80==e||-50==e)return!0}return!1}lessonGrade(e,n,r={}){var i=this;return(0,o.A)((function*(){const o={nquestions:0,attempts:0,total:0,earned:0,grade:0,nmanual:0,manualpoints:0},s=yield i.getQuestionsAttempts(e.id,n,{cmId:e.coursemodule,siteId:r.siteId,userId:r.userId}),a=s.online.concat(s.offline);if(!a.length)return o;if(!r.pageIndex){const n=yield i.getPages(e.id,{password:r.password,cmId:e.coursemodule,readingStrategy:1,siteId:r.siteId});r.pageIndex=i.createPagesIndex(n)}const c={},p=[];if(a.forEach((e=>{c[e.pageid]||(c[e.pageid]=[],p.push(e.pageid)),c[e.pageid].push(e)})),e.maxattempts&&e.maxattempts>0)for(const n in c){const r=c[n].sort(((e,n)=>("timeseen"in e?e.timeseen:e.timemodified)-("timeseen"in n?n.timeseen:n.timemodified)));c[n]=r.slice(0,e.maxattempts)}const f=yield i.getPagesAnswers(e,p,r);o.nquestions=Object.keys(c).length;for(const n in c){const i=c[n],s=i[i.length-1];if(e.custom)if(10===r.pageIndex[s.pageid].qtype){var g;const e=null===(g=s.useranswer)||void 0===g?void 0:g.score;void 0!==e&&(o.earned+=e),o.nmanual++,o.manualpoints+=f[s.answerid].score||0}else s.answerid&&(o.earned+=f[s.answerid].score||0);else i.forEach((e=>{o.earned+=e.correct?1:0})),10===r.pageIndex[s.pageid].qtype&&(o.nmanual++,o.manualpoints++);o.attempts+=i.length}if(e.custom){const e={};for(const n in f){const r=f[n];(void 0===e[r.pageid]||e[r.pageid]<(r.score||0))&&(e[r.pageid]=r.score||0)}for(const n in e)o.total+=e[n]}else o.total=e.minquestions&&o.nquestions<e.minquestions?o.attempts+(e.minquestions-o.nquestions):o.attempts;return o.total&&(o.grade=u.Ni.roundToDecimals(100*o.earned/o.total,5)),o}))()}logViewLesson(e,n,r){return(0,o.A)((function*(){const o={lessonid:e};"string"==typeof n&&(o.password=n),yield s.CoreCourseLogHelper.log("mod_lesson_view_lesson",o,b.tj,e,r)}))()}processPage(e,n,r,s,c={}){var u=this;return(0,o.A)((function*(){if(c.siteId=c.siteId||a.CoreSites.getCurrentSiteId(),!r.page)throw new i.CoreError("Page data not supplied.");const o=r.page.id;if(!c.offline){const r=yield u.processPageOnline(e.id,o,s,c);return g.z.trigger(b.y6,{lessonId:e.id,type:"process",courseId:n,pageId:o,review:c.review},a.CoreSites.getCurrentSiteId()),r.sent=!0,r}if(!c.accessInfo||!c.jumps)throw new i.CoreError("Access info or jumps not supplied to processPage.");const p=yield u.getPages(e.id,{cmId:e.coursemodule,password:c.password,readingStrategy:1,siteId:c.siteId}),f=u.createPagesIndex(p),v={newpageid:s.newpageid,inmediatejump:!1,nodefaultresponse:!1,feedback:"",attemptsremaining:null,correctanswer:!1,noanswer:!1,isessayquestion:!1,maxattemptsreached:!1,response:"",studentanswer:"",userresponse:"",reviewmode:!1,ongoingscore:"",progress:null,displaymenu:!1,messages:[]};if(r.answers.length){const o=yield u.recordAttempt(e,n,r,s,!!c.review,c.accessInfo,c.jumps,f,c.siteId);Object.assign(v,o)}else v.nodefaultresponse=!0;v.newpageid=u.getNewPageId(r.page.id,v.newpageid,c.jumps);const C=yield u.calculateOfflineData(e,{accessInfo:c.accessInfo,password:c.password,review:c.review,pageIndex:f,siteId:c.siteId});return{...v,...C,displaymenu:r.displaymenu,messages:u.getPageProcessMessages(e,c.accessInfo,v,!!c.review,c.jumps),warnings:[],sent:!1}}))()}processPageOnline(e,n,r,i={}){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(i.siteId),s={lessonid:e,pageid:n,data:_.T.toArrayOfObjects(r,"name","value",!0),review:!!i.review};return"string"==typeof i.password&&(s.password=i.password),o.write("mod_lesson_process_page",s)}))()}recordAttempt(e,n,r,s,a,c,u,g,v){var b=this;return(0,o.A)((function*(){if(!r.page)throw new i.CoreError("Page data not supplied.");const o=b.checkAnswer(e,r,s,u,g),w=c.attemptscount;var A;if(o.inmediatejump)return 20===(null===(A=r.page)||void 0===A?void 0:A.qtype)?(yield C.c.processPage(e.id,n,w,r.page,s,o.newpageid,o.answerid,!1,o.userresponse,v),o):o;let _;if(o.attemptsremaining=0,o.maxattemptsreached=!1,o.noanswer)return o.newpageid=r.page.id,o.feedback=f.HT.instant("addon.mod_lesson.noanswer"),o;if(!c.canmanage){const i=yield b.getQuestionsAttempts(e.id,w,{cmId:e.coursemodule,pageId:r.page.id,siteId:v});if(_=i.online.length+i.offline.length,e.maxattempts&&e.maxattempts>0&&_>=e.maxattempts)return o.maxattemptsreached=!0,o.feedback=f.HT.instant("addon.mod_lesson.maximumnumberofattemptsreached"),o.newpageid=-1,o;if(!a&&(e.retake||!e.retake&&!w)){const i=b.getNewPageId(r.page.id,o.newpageid,u);yield C.c.processPage(e.id,n,w,r.page,s,i,o.answerid,o.correctanswer,o.userresponse,v),_++}o.correctanswer||o.newpageid||(e.maxattempts&&e.maxattempts>0&&_>=e.maxattempts?(e.maxattempts>1&&(o.maxattemptsreached=!0),o.newpageid=-1):e.maxattempts&&e.maxattempts>1&&(o.attemptsremaining=e.maxattempts-_))}if(o.response||(e.feedback||o.noanswer||e.review&&!o.correctanswer&&!o.isessayquestion?o.response=f.HT.instant(o.isessayquestion?"addon.mod_lesson.defaultessayresponse":o.correctanswer?"addon.mod_lesson.thatsthecorrectanswer":"addon.mod_lesson.thatsthewronganswer"):o.nodefaultresponse=!0),!o.response)return o;if(!e.review||o.correctanswer||o.isessayquestion)o.feedback="";else{if(void 0===_){const n=yield b.getQuestionsAttempts(e.id,w,{cmId:e.coursemodule,pageId:r.page.id,siteId:v});_=n.online.length+n.offline.length}o.feedback='<div class="box feedback">'+f.HT.instant("addon.mod_lesson."+(1==_?"firstwrong":"secondpluswrong"))+"</div>"}let E="response";if(o.correctanswer?E+=" correct":o.isessayquestion||(E+=" incorrect"),o.feedback+='<div class="box generalbox boxaligncenter p-y-1">'+r.page.contents+"</div>",o.feedback+='<div class="correctanswer generalbox"><em>'+f.HT.instant("addon.mod_lesson.youranswer")+'</em> : <div class="studentanswer m-t-2 m-b-2"><table class="generaltable"><tbody>',r.page.qoption){const e=o.studentanswer?o.studentanswer.split(AddonModLessonProvider.MULTIANSWER_DELIMITER):[],n=o.response?o.response.split(AddonModLessonProvider.MULTIANSWER_DELIMITER):[];for(let r=0;r<e.length;r++)o.feedback=b.addAnswerAndResponseToFeedback(o.feedback,e[r],o.studentanswerformat||1,n[r],E)}else o.feedback=b.addAnswerAndResponseToFeedback(o.feedback,p.j.formatFloat(o.studentanswer),o.studentanswerformat||1,o.response,E);return o.feedback+="</tbody></table></div></div>",o}))()}removeStoredPassword(e,n){return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(n);yield r.getDb().deleteRecords(v.HS,{lessonid:e})}))()}storePassword(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r),i={lessonid:e,password:n,timemodified:Date.now()};yield o.getDb().insertRecord(v.HS,i)}))()}validPageAndView(e,n,r,o){if(31!==n.qtype&&21!==n.qtype&&(r[n.id]=1),30===n.qtype){this.getSubpagesOf(e,n.id,[31]).forEach((e=>{const r=o.indexOf(e.id);-1!=r&&(delete o[r],-1==o.indexOf(n.id)&&o.push(n.id))}))}return n.nextpageid}}return(e=AddonModLessonProvider).ROOT_CACHE_KEY="mmaModLesson:",e.MULTIANSWER_DELIMITER="@^#|",e.ɵfac=function AddonModLessonProvider_Factory(n){return new(n||e)},e.ɵprov=T.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonProvider})();const k=(0,f.Qd)(P)},50978:(e,n,r)=>{"use strict";r.d(n,{Nr:()=>u,OJ:()=>c,Oz:()=>a,qe:()=>s,w0:()=>i});var o=r(86123);const i="AddonModLti",s="mmaModLti",a="mod_lti",c="lti",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i},84048:(e,n,r)=>{"use strict";r.d(n,{c:()=>w});var o=r(10467),i=r(44682),s=r(18022),a=r(52749),c=r(79555),u=r(49882),p=r(52391),f=r(22693),g=r(33014),v=r(25572),C=r(54438);let b=(()=>{var e;class AddonModLtiHelperProvider{constructor(){this.pendingCheckCompletion={},u.z.on(u.z.LOGOUT,(()=>{this.pendingCheckCompletion={}}))}watchPendingCompletions(){s.CorePlatform.resume.subscribe((()=>{for(const e in this.pendingCheckCompletion){const n=this.pendingCheckCompletion[e];i.CoreCourse.checkModuleCompletion(n.courseId,n.module.completiondata)}}))}getDataAndLaunch(e,n,r,i){var s=this;return(0,o.A)((function*(){i=i||a.CoreSites.getCurrentSiteId();const o=yield g.CoreLoadings.show();try{if(yield p.u.shouldLaunchInBrowser(i)){const r=yield a.CoreSites.getSite(i);return s.pendingCheckCompletion[n.id]={courseId:e,module:n},r.openInBrowserWithAutoLogin(n.url||"")}r||(r=yield p.u.getLti(e,n.id));const o=yield p.u.getLtiLaunchData(r.id);return s.logViewAndCheckCompletion(e,n,r.id,i),p.u.launch(o.endpoint,o.parameters)}catch(e){v.CoreAlerts.showError(e,{default:c.HT.instant("addon.mod_lti.errorgetlti")})}finally{o.dismiss()}}))()}logViewAndCheckCompletion(e,n,r,s){return(0,o.A)((function*(){try{yield p.u.logView(r,s),i.CoreCourse.checkModuleCompletion(e,n.completiondata)}catch{}f.OF.logEvent({type:f.qr.VIEW_ITEM,ws:"mod_lti_view_lti",name:n.name,data:{id:n.instance,category:"lti"},url:`/mod/lti/view.php?id=${n.id}`})}))()}}return(e=AddonModLtiHelperProvider).ɵfac=function AddonModLtiHelperProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLtiHelperProvider})();const w=(0,c.Qd)(b)},52391:(e,n,r)=>{"use strict";r.d(n,{u:()=>_});var o=r(10467),i=r(97254),s=r(45507),a=r(18022),c=r(52749),u=r(75383),p=r(8014),f=r(86552),g=r(79555),v=r(50978),C=r(74431),b=r(95384),w=r(54438);let A=(()=>{var e;class AddonModLtiProvider{deleteLauncher(){return s.CoreFile.removeFile(AddonModLtiProvider.LAUNCHER_FILE_NAME)}generateLauncher(e,n){return(0,o.A)((function*(){let r=`<form action="${e}" name="ltiLaunchForm" method="post" encType="application/x-www-form-urlencoded">\n`;n.forEach((e=>{r+="ext_submit"==e.name?'    <input type="submit"':'    <input type="hidden" name="'+u.Ni.escapeHTML(e.name)+'"',r+=' value="'+u.Ni.escapeHTML(e.value)+'"/>\n'})),r+="</form>\n",r+='<script type="text/javascript"> \n    window.onload = function() { \n        document.ltiLaunchForm.submit(); \n    }; \n<\/script> \n';const o=yield s.CoreFile.writeFile(AddonModLtiProvider.LAUNCHER_FILE_NAME,r);return s.CoreFile.getFileEntryURL(o)}))()}getLti(e,n,r={}){var i=this;return(0,o.A)((function*(){const o={courseids:[e]},s={cacheKey:i.getLtiCacheKey(e),updateFrequency:C.CoreCacheUpdateFrequency.RARELY,component:v.qe,...c.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},a=yield c.CoreSites.getSite(r.siteId),u=yield a.read("mod_lti_get_ltis_by_courses",o,s);return b.CoreCourseModuleHelper.getActivityByCmId(u.ltis,n)}))()}getLtiCacheKey(e){return`${AddonModLtiProvider.ROOT_CACHE_KEY}lti:${e}`}getLtiLaunchData(e,n){var r=this;return(0,o.A)((function*(){const o={toolid:e},i={getFromCache:!1,saveToCache:!0,emergencyCache:!0,cacheKey:r.getLtiLaunchDataCacheKey(e)};return(yield c.CoreSites.getSite(n)).read("mod_lti_get_tool_launch_data",o,i)}))()}getLtiLaunchDataCacheKey(e){return`${AddonModLtiProvider.ROOT_CACHE_KEY}launch:${e}`}invalidateLti(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getLtiCacheKey(e))}))()}invalidateLtiLaunchData(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getLtiLaunchDataCacheKey(e))}))()}isLaunchViaSiteDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield c.CoreSites.getSite(e);return n.isLaunchViaSiteDisabledInSite(r)}))()}isLaunchViaSiteDisabledInSite(e){var n;return!(null===(n=e=e||c.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled(`${v.Nr}:launchViaSite`))}isOpenInAppBrowserDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield c.CoreSites.getSite(e);return n.isOpenInAppBrowserDisabledInSite(r)}))()}isOpenInAppBrowserDisabledInSite(e){var n;return!(null===(n=e=e||c.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled(`${v.Nr}:openInAppBrowser`))}launch(e,n){var r=this;return(0,o.A)((function*(){if(!p.F.isHttpURL(e))throw g.HT.instant("addon.mod_lti.errorinvalidlaunchurl");const o=yield r.generateLauncher(e,n);a.CorePlatform.isMobile()?f.j.openInApp(o):f.j.openInBrowser(o)}))()}logView(e,n,r){return i.CoreCourseLogHelper.log("mod_lti_view_lti",{ltiid:e},v.qe,e,r)}shouldLaunchInBrowser(e){var n=this;return(0,o.A)((function*(){const r=yield c.CoreSites.getSite(e);return r.isVersionGreaterEqualThan("3.11")?!n.isLaunchViaSiteDisabledInSite(r):n.isOpenInAppBrowserDisabledInSite(r)}))()}}return(e=AddonModLtiProvider).ROOT_CACHE_KEY="mmaModLti:",e.LAUNCHER_FILE_NAME="lti_launcher.html",e.ɵfac=function AddonModLtiProvider_Factory(n){return new(n||e)},e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLtiProvider})();const _=(0,g.Qd)(A)},35794:(e,n,r)=>{"use strict";r.d(n,{C7:()=>i,IR:()=>a,kR:()=>s,w1:()=>o});r(86123);const o="AddonModPage",i="mmaModPage",s="mod_page",a="page"},91921:(e,n,r)=>{"use strict";r.d(n,{_:()=>w});var o=r(10467),i=r(52749),s=r(79555),a=r(88793),c=r(44682),u=r(55554),p=r(97254),f=r(35794),g=r(74431),v=r(95384),C=r(54438);let b=(()=>{var e;class AddonModPageProvider{getPageData(e,n,r={}){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r.siteId),a={courseids:[e]},c={cacheKey:s.getPageCacheKey(e),updateFrequency:g.CoreCacheUpdateFrequency.RARELY,component:f.C7,...i.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield o.read("mod_page_get_pages_by_courses",a,c);return v.CoreCourseModuleHelper.getActivityByCmId(u.pages,n)}))()}getPageCacheKey(e){return`${AddonModPageProvider.ROOT_CACHE_KEY}page:${e}`}invalidateContent(e,n,r){r=r||i.CoreSites.getCurrentSiteId();const o=[];return o.push(this.invalidatePageData(n,r)),o.push(a.CoreFilepool.invalidateFilesByComponent(r,f.C7,e)),o.push(c.CoreCourse.invalidateModule(e,r)),u.g.allPromises(o)}invalidatePageData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getPageCacheKey(e))}))()}isPluginEnabled(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).canDownloadFiles()}))()}logView(e,n){return p.CoreCourseLogHelper.log("mod_page_view_page",{pageid:e},f.C7,e,n)}}return(e=AddonModPageProvider).ROOT_CACHE_KEY="mmaModPage:",e.ɵfac=function AddonModPageProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModPageProvider})();const w=(0,s.Qd)(b)},20860:(e,n,r)=>{"use strict";r.d(n,{Ar:()=>s,I5:()=>p,Po:()=>f,Qs:()=>i,T8:()=>u,f5:()=>g,mF:()=>a,uD:()=>v,uL:()=>c});var o=r(86123);const i="AddonModQuiz",s="mmaModQuiz",a="mod_quiz",c="quiz",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_quiz_attempt_finished",f="addon_mod_quiz_autom_synced",g=3600,v=120},43266:(e,n,r)=>{"use strict";r.d(n,{O:()=>Fe,v:()=>getModQuizServices});var o=r(10467),i=r(54438),s=r(33504),a=r(94247),c=r(97086),u=r(8979),p=r(42858),f=r(71758),g=r(26135),v=r(52749),C=r(15646),b=r(79555);let w=(()=>{var e;class AddonModQuizAccessDelayBetweenAttemptsHandlerService{constructor(){this.name="AddonModQuizAccessDelayBetweenAttempts",this.ruleName="quizaccess_delaybetweenattempts"}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(){return!1}}return(e=AddonModQuizAccessDelayBetweenAttemptsHandlerService).ɵfac=function AddonModQuizAccessDelayBetweenAttemptsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessDelayBetweenAttemptsHandlerService})();const A=(0,b.Qd)(w);let _=(()=>{var e;class AddonModQuizAccessDelayBetweenAttemptsModule{}return(e=AddonModQuizAccessDelayBetweenAttemptsModule).ɵfac=function AddonModQuizAccessDelayBetweenAttemptsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(A.instance)}}]}),AddonModQuizAccessDelayBetweenAttemptsModule})(),E=(()=>{var e;class AddonModQuizAccessIpAddressHandlerService{constructor(){this.name="AddonModQuizAccessIpAddress",this.ruleName="quizaccess_ipaddress"}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(){return!1}}return(e=AddonModQuizAccessIpAddressHandlerService).ɵfac=function AddonModQuizAccessIpAddressHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessIpAddressHandlerService})();const I=(0,b.Qd)(E);let T=(()=>{var e;class AddonModQuizAccessIpAddressModule{}return(e=AddonModQuizAccessIpAddressModule).ɵfac=function AddonModQuizAccessIpAddressModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(I.instance)}}]}),AddonModQuizAccessIpAddressModule})(),P=(()=>{var e;class AddonModQuizAccessNumAttemptsHandlerService{constructor(){this.name="AddonModQuizAccessNumAttempts",this.ruleName="quizaccess_numattempts"}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(){return!1}}return(e=AddonModQuizAccessNumAttemptsHandlerService).ɵfac=function AddonModQuizAccessNumAttemptsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessNumAttemptsHandlerService})();const k=(0,b.Qd)(P);let x=(()=>{var e;class AddonModQuizAccessNumAttemptsModule{}return(e=AddonModQuizAccessNumAttemptsModule).ɵfac=function AddonModQuizAccessNumAttemptsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(k.instance)}}]}),AddonModQuizAccessNumAttemptsModule})();var F=r(74149);let R=(()=>{var e;class AddonModQuizAccessOfflineAttemptsHandlerService{constructor(){this.name="AddonModQuizAccessOfflineAttempts",this.ruleName="quizaccess_offlineattempts"}getFixedPreflightData(e,n){n.confirmdatasaved="1"}getPreflightComponent(){return(0,o.A)((function*(){const{AddonModQuizAccessOfflineAttemptsComponent:e}=yield r.e(31400).then(r.bind(r,9019));return e}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(e,n,r){return(0,o.A)((function*(){if(r)return!1;if(!n)return!0;const o=yield F.AddonModQuizSync.getSyncTime(e.id);return Date.now()-F.AddonModQuizSync.syncInterval>o}))()}}return(e=AddonModQuizAccessOfflineAttemptsHandlerService).ɵfac=function AddonModQuizAccessOfflineAttemptsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessOfflineAttemptsHandlerService})();const N=(0,b.Qd)(R);let L=(()=>{var e;class AddonModQuizAccessOfflineAttemptsModule{}return(e=AddonModQuizAccessOfflineAttemptsModule).ɵfac=function AddonModQuizAccessOfflineAttemptsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(N.instance)}}]}),AddonModQuizAccessOfflineAttemptsModule})();var H=r(20860);let U=(()=>{var e;class AddonModQuizAccessOpenCloseDateHandlerService{constructor(){this.name="AddonModQuizAccessOpenCloseDate",this.ruleName="quizaccess_openclosedate"}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(){return!1}shouldShowTimeLeft(e,n,r){return!(e.preview&&r>n)&&r>n-H.f5}}return(e=AddonModQuizAccessOpenCloseDateHandlerService).ɵfac=function AddonModQuizAccessOpenCloseDateHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessOpenCloseDateHandlerService})();const B=(0,b.Qd)(U);let j=(()=>{var e;class AddonModQuizAccessOpenCloseDateModule{}return(e=AddonModQuizAccessOpenCloseDateModule).ɵfac=function AddonModQuizAccessOpenCloseDateModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(B.instance)}}]}),AddonModQuizAccessOpenCloseDateModule})();const V="addon_mod_quiz_access_password",G={name:"AddonModQuizAccessPasswordHandler",version:1,tables:[{name:V,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"password",type:"TEXT"},{name:"timemodified",type:"INTEGER"}]}]};var z=r(55554);let q=(()=>{var e;class AddonModQuizAccessPasswordHandlerService{constructor(){this.name="AddonModQuizAccessPassword",this.ruleName="quizaccess_password"}getFixedPreflightData(e,n,r,i,s){var a=this;return(0,o.A)((function*(){if(void 0===n.quizpassword)try{const r=yield a.getPasswordEntry(e.id,s);n.quizpassword=r.password}catch{}}))()}getPasswordEntry(e,n){return(0,o.A)((function*(){return(yield v.CoreSites.getSite(n)).getDb().getRecord(V,{id:e})}))()}getPreflightComponent(){return(0,o.A)((function*(){const{AddonModQuizAccessPasswordComponent:e}=yield r.e(75548).then(r.bind(r,75548));return e}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(e,n,r,i){var s=this;return(0,o.A)((function*(){return!(yield z.g.ignoreErrors(s.getPasswordEntry(e.id,i)))}))()}notifyPreflightCheckPassed(e,n,r,i,s){var a=this;return(0,o.A)((function*(){void 0!==r.quizpassword&&(yield a.storePassword(e.id,r.quizpassword,s))}))()}notifyPreflightCheckFailed(e,n,r,i,s){var a=this;return(0,o.A)((function*(){yield a.removePassword(e.id,s)}))()}removePassword(e,n){return(0,o.A)((function*(){const r=yield v.CoreSites.getSite(n);yield r.getDb().deleteRecords(V,{id:e})}))()}storePassword(e,n,r){return(0,o.A)((function*(){const o=yield v.CoreSites.getSite(r),i={id:e,password:n,timemodified:Date.now()};yield o.getDb().insertRecord(V,i)}))()}}return(e=AddonModQuizAccessPasswordHandlerService).ɵfac=function AddonModQuizAccessPasswordHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessPasswordHandlerService})();const W=(0,b.Qd)(q);let K=(()=>{var e;class AddonModQuizAccessPasswordModule{}return(e=AddonModQuizAccessPasswordModule).ɵfac=function AddonModQuizAccessPasswordModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:v.CORE_SITE_SCHEMAS,useValue:[G],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(W.instance)}}]}),AddonModQuizAccessPasswordModule})(),Q=(()=>{var e;class AddonModQuizAccessSafeBrowserHandlerService{constructor(){this.name="AddonModQuizAccessSafeBrowser",this.ruleName="quizaccess_safebrowser"}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(){return!1}}return(e=AddonModQuizAccessSafeBrowserHandlerService).ɵfac=function AddonModQuizAccessSafeBrowserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessSafeBrowserHandlerService})();const X=(0,b.Qd)(Q);let Y=(()=>{var e;class AddonModQuizAccessSafeBrowserModule{}return(e=AddonModQuizAccessSafeBrowserModule).ɵfac=function AddonModQuizAccessSafeBrowserModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(X.instance)}}]}),AddonModQuizAccessSafeBrowserModule})(),J=(()=>{var e;class AddonModQuizAccessSecureWindowHandlerService{constructor(){this.name="AddonModQuizAccessSecureWindow",this.ruleName="quizaccess_securewindow"}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(){return!1}}return(e=AddonModQuizAccessSecureWindowHandlerService).ɵfac=function AddonModQuizAccessSecureWindowHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessSecureWindowHandlerService})();const Z=(0,b.Qd)(J);let ee=(()=>{var e;class AddonModQuizAccessSecureWindowModule{}return(e=AddonModQuizAccessSecureWindowModule).ɵfac=function AddonModQuizAccessSecureWindowModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(Z.instance)}}]}),AddonModQuizAccessSecureWindowModule})(),te=(()=>{var e;class AddonModQuizAccessTimeLimitHandlerService{constructor(){this.name="AddonModQuizAccessTimeLimit",this.ruleName="quizaccess_timelimit"}getPreflightComponent(){return(0,o.A)((function*(){const{AddonModQuizAccessTimeLimitComponent:e}=yield r.e(30044).then(r.bind(r,30044));return e}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isPreflightCheckRequired(e,n){return!n}shouldShowTimeLeft(e,n,r){return!(e.preview&&r>n)}}return(e=AddonModQuizAccessTimeLimitHandlerService).ɵfac=function AddonModQuizAccessTimeLimitHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessTimeLimitHandlerService})();const ne=(0,b.Qd)(te);let re=(()=>{var e;class AddonModQuizAccessTimeLimitModule{}return(e=AddonModQuizAccessTimeLimitModule).ɵfac=function AddonModQuizAccessTimeLimitModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{C.AddonModQuizAccessRuleDelegate.registerHandler(ne.instance)}}]}),AddonModQuizAccessTimeLimitModule})(),oe=(()=>{var e;class AddonModQuizAccessRulesModule{}return(e=AddonModQuizAccessRulesModule).ɵfac=function AddonModQuizAccessRulesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({imports:[_,T,x,L,j,K,Y,ee,re]}),AddonModQuizAccessRulesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(oe,{imports:[_,T,x,L,j,K,Y,ee,re]}));var ie=r(32525),se=r(80447);let ae=(()=>{var e;class AddonModQuizGradeLinkHandlerService extends se.CoreContentLinksModuleGradeHandler{constructor(){super(H.Qs,H.uL),this.name="AddonModQuizGradeLinkHandler",this.canReview=!1}}return(e=AddonModQuizGradeLinkHandlerService).ɵfac=function AddonModQuizGradeLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizGradeLinkHandlerService})();const le=(0,b.Qd)(ae);var de=r(30260);let ce=(()=>{var e;class AddonModQuizIndexLinkHandlerService extends de.CoreContentLinksModuleIndexHandler{constructor(){super(H.Qs,H.uL,"q"),this.name="AddonModQuizIndexLinkHandler"}}return(e=AddonModQuizIndexLinkHandlerService).ɵfac=function AddonModQuizIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizIndexLinkHandlerService})();const ue=(0,b.Qd)(ce);var pe=r(85720);let fe=(()=>{var e;class AddonModQuizListLinkHandlerService extends pe.S{constructor(){super(H.Qs,H.uL),this.name="AddonModQuizListLinkHandler"}}return(e=AddonModQuizListLinkHandlerService).ɵfac=function AddonModQuizListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizListLinkHandlerService})();const ge=(0,b.Qd)(fe);var me=r(43130);let he=(()=>{var e;class AddonModQuizModuleHandlerService extends me.j{constructor(){super(...arguments),this.name="AddonModQuiz",this.modName=H.uL,this.pageName=H.mF,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,outcomes:!0,backup_moodle2:!0,showdescription:!0,controlsgradevisbility:!0,usesquestions:!0,plagiarism:!0,mod_purpose:"assessment"}}getMainComponent(){return(0,o.A)((function*(){const{AddonModQuizIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(8901)]).then(r.bind(r,8901));return e}))()}}return(e=AddonModQuizModuleHandlerService).ɵfac=(()=>{let n;return function AddonModQuizModuleHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizModuleHandlerService})();const ve=(0,b.Qd)(he);var ye=r(93267),Ce=r(8014),be=r(81690),we=r(64766),Se=r(93918),Ae=r(20523);let _e=(()=>{var e;class AddonModQuizPushClickHandlerService{constructor(){this.name="AddonModQuizPushClickHandler",this.priority=200,this.featureName=H.T8,this.SUPPORTED_NAMES=["submission","confirmation","attempt_overdue"]}handles(e){var n=this;return(0,o.A)((function*(){var r,o;return be.j.isTrueOrOne(e.notif)&&"mod_quiz"==e.moodlecomponent&&-1!==n.SUPPORTED_NAMES.indexOf(null!==(r=e.name)&&void 0!==r?r:"")&&!!(null!==(o=e.customdata)&&void 0!==o&&o.instance||e.contexturl)}))()}handleClick(e){return(0,o.A)((function*(){const n=Ce.F.extractUrlParams(e.contexturl||""),r=e.customdata||{},o=Number(e.courseid);if("submission"===e.name&&void 0!==r.instance&&void 0!==n.attempt&&void 0!==n.page)return yield Se.AddonModQuizHelper.handleReviewLink(Number(n.attempt),Number(n.page),Number(r.instance),e.site),void 0;const i=Number(n.id);(0,Ae.L)(i)&&(yield z.g.ignoreErrors(we.AddonModQuiz.invalidateContent(i,o,e.site)),yield a.CoreCourseHelper.navigateToModule(i,{courseId:o,siteId:e.site}))}))()}}return(e=AddonModQuizPushClickHandlerService).ɵfac=function AddonModQuizPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizPushClickHandlerService})();const Ee=(0,b.Qd)(_e);var Ie=r(71112);let De=(()=>{var e;class AddonModQuizReviewLinkHandlerService extends Ie.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModQuizReviewLinkHandler",this.featureName=H.T8,this.pattern=/\/mod\/quiz\/review\.php.*([&?]attempt=\d+)/}getActions(e,n,r,i,s){const a=null!=s&&s.instance?Number(s.instance):void 0;return[{action:(c=(0,o.A)((function*(e){const n=parseInt(r.attempt,10),o=parseInt(r.page,10);yield Se.AddonModQuizHelper.handleReviewLink(n,o,a,e)})),function action(e){return c.apply(this,arguments)})}];var c}}return(e=AddonModQuizReviewLinkHandlerService).ɵfac=(()=>{let n;return function AddonModQuizReviewLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizReviewLinkHandlerService})();const Me=(0,b.Qd)(De);let Te=(()=>{var e;class AddonModQuizSyncCronHandlerService{constructor(){this.name="AddonModQuizSyncCronHandler"}execute(e,n){return F.AddonModQuizSync.syncAllQuizzes(e,n)}getInterval(){return F.AddonModQuizSync.syncInterval}}return(e=AddonModQuizSyncCronHandlerService).ɵfac=function AddonModQuizSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizSyncCronHandlerService})();const Pe=(0,b.Qd)(Te);var ke=r(6007);function getModQuizServices(){return _getModQuizServices.apply(this,arguments)}function _getModQuizServices(){return(_getModQuizServices=(0,o.A)((function*(){const{AddonModQuizProvider:e}=yield Promise.resolve().then(r.bind(r,64766)),{AddonModQuizOfflineProvider:n}=yield Promise.resolve().then(r.bind(r,78659)),{AddonModQuizHelperProvider:o}=yield Promise.resolve().then(r.bind(r,93918)),{AddonModQuizSyncProvider:i}=yield Promise.resolve().then(r.bind(r,74149)),{AddonModQuizAccessRuleDelegateService:s}=yield Promise.resolve().then(r.bind(r,15646));return[s,e,n,o,i]}))).apply(this,arguments)}const xe=[{path:H.mF,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(8901),r.e(72076),r.e(18297)]).then(r.bind(r,18297))},{path:":courseId/:cmId/player",loadComponent:()=>Promise.all([r.e(31233),r.e(57086)]).then(r.bind(r,57086)),canDeactivate:[ke.V]},{path:":courseId/:cmId/review/:attemptId",loadComponent:()=>Promise.all([r.e(31233),r.e(81723)]).then(r.bind(r,81723))}]}];let Fe=(()=>{var e;class AddonModQuizModule{}return(e=AddonModQuizModule).ɵfac=function AddonModQuizModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:v.CORE_SITE_SCHEMAS,useValue:[ie.e],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{c.CoreCourseModuleDelegate.registerHandler(ve.instance),u.CoreCourseModulePrefetchDelegate.registerHandler(ye.n.instance),s.CoreContentLinksDelegate.registerHandler(le.instance),s.CoreContentLinksDelegate.registerHandler(ue.instance),s.CoreContentLinksDelegate.registerHandler(ge.instance),s.CoreContentLinksDelegate.registerHandler(Me.instance),f.CorePushNotificationsDelegate.registerClickHandler(Ee.instance),g.CoreCronDelegate.register(Pe.instance),a.CoreCourseHelper.registerModuleReminderClick(H.Ar)}}],imports:[p.b.forChild(xe),oe]}),AddonModQuizModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(Fe,{imports:[p.b,oe]}))},15646:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModQuizAccessRuleDelegate:()=>g,AddonModQuizAccessRuleDelegateService:()=>f});var o=r(10467),i=r(59296),s=r(55554),a=r(79555),c=r(52749),u=r(20860),p=r(54438);let f=(()=>{var e;class AddonModQuizAccessRuleDelegateService extends i.B{constructor(){super("AddonModQuizAccessRulesDelegate"),this.handlerNameProperty="ruleName"}isEnabled(){return(0,o.A)((function*(){return!(yield c.CoreSites.isFeatureDisabled(u.T8))}))()}getAccessRuleHandler(e){return this.getHandler(e,!0)}getFixedPreflightData(e,n,r,i,a,c){var u=this;return(0,o.A)((function*(){e=e||[],yield s.g.allPromisesIgnoringErrors(e.map(function(){var e=(0,o.A)((function*(e){yield u.executeFunctionOnEnabled(e,"getFixedPreflightData",[n,r,i,a,c])}));return function(n){return e.apply(this,arguments)}}()))}))()}getPreflightComponent(e){return Promise.resolve(this.executeFunctionOnEnabled(e,"getPreflightComponent",[]))}isAccessRuleSupported(e){return this.hasHandler(e,!0)}isPreflightCheckRequired(e,n,r,i,a){var c=this;return(0,o.A)((function*(){e=e||[];let u=!1;return yield s.g.allPromisesIgnoringErrors(e.map(function(){var e=(0,o.A)((function*(e){const o=yield c.isPreflightCheckRequiredForRule(e,n,r,i,a);u=u||o}));return function(n){return e.apply(this,arguments)}}())),u}))()}isPreflightCheckRequiredForRule(e,n,r,i,s){var a=this;return(0,o.A)((function*(){return!!(yield a.executeFunctionOnEnabled(e,"isPreflightCheckRequired",[n,r,i,s]))}))()}notifyPreflightCheckPassed(e,n,r,i,a,c){var u=this;return(0,o.A)((function*(){e=e||[],yield s.g.allPromisesIgnoringErrors(e.map(function(){var e=(0,o.A)((function*(e){yield u.executeFunctionOnEnabled(e,"notifyPreflightCheckPassed",[n,r,i,a,c])}));return function(n){return e.apply(this,arguments)}}()))}))()}notifyPreflightCheckFailed(e,n,r,i,a,c){var u=this;return(0,o.A)((function*(){e=e||[],yield s.g.allPromisesIgnoringErrors(e.map(function(){var e=(0,o.A)((function*(e){yield u.executeFunctionOnEnabled(e,"notifyPreflightCheckFailed",[n,r,i,a,c])}));return function(n){return e.apply(this,arguments)}}()))}))()}shouldShowTimeLeft(e,n,r,o){e=e||[];for(const i in e){if(this.executeFunctionOnEnabled(e[i],"shouldShowTimeLeft",[n,r,o]))return!0}return!1}}return(e=AddonModQuizAccessRuleDelegateService).ɵfac=function AddonModQuizAccessRuleDelegateService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizAccessRuleDelegateService})();const g=(0,a.Qd)(f)},32525:(e,n,r)=>{"use strict";r.d(n,{e:()=>i,u:()=>o});const o="addon_mod_quiz_attempts",i={name:"AddonModQuizOfflineProvider",version:1,tables:[{name:o,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"attempt",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"quizid",type:"INTEGER"},{name:"currentpage",type:"INTEGER"},{name:"timecreated",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"finished",type:"INTEGER"}]}]}},93267:(e,n,r)=>{"use strict";r.d(n,{n:()=>P});var o=r(10467),i=r(74431),s=r(20523),a=r(75629),c=r(38911),u=r(66110),p=r(69319),f=r(88793),g=r(52749),v=r(75383),C=r(55554),b=r(79555),w=r(64766),A=r(93918),_=r(74149),E=r(20860),I=r(54438);let T=(()=>{var e;class AddonModQuizPrefetchHandlerService extends c.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModQuiz",this.modName=E.uL,this.component=E.Ar,this.updatesNames=/^configuration$|^.*files$|^grades$|^gradeitems$|^questions$|^attempts$/}download(e,n,r,o,i=!0){return this.prefetch(e,n,o,r,i)}getFiles(e,n,r){var i=this;return(0,o.A)((function*(){try{const r=yield w.AddonModQuiz.getQuiz(n,e.id),o=i.getIntroFilesFromInstance(e,r),s=yield w.AddonModQuiz.getUserAttempts(r.id,{cmId:e.id,readingStrategy:2}),a=yield i.getAttemptsFeedbackFiles(r,s);return o.concat(a)}catch{return[]}}))()}getAttemptsFeedbackFiles(e,n,r){return(0,o.A)((function*(){let i=[];return yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){var o;if(!w.AddonModQuiz.isAttemptCompleted(n.state))return;const a=w.AddonModQuiz.rescaleGrade(n.sumgrades,e,!1),c=void 0!==a&&Number(a);if(!(0,s.L)(c))return;const u=yield w.AddonModQuiz.getFeedbackForGrade(e.id,c,{cmId:e.coursemodule,readingStrategy:2,siteId:r});null!==(o=u.feedbackinlinefiles)&&void 0!==o&&o.length&&(i=i.concat(u.feedbackinlinefiles))}));return function(e){return n.apply(this,arguments)}}())),i}))()}invalidateContent(e,n){return(0,o.A)((function*(){yield w.AddonModQuiz.invalidateContent(e,n)}))()}invalidateModule(e,n){return(0,o.A)((function*(){yield Promise.all([w.AddonModQuiz.invalidateQuizData(n),w.AddonModQuiz.invalidateUserAttemptsForUser(e.instance)])}))()}isDownloadable(e,n){return(0,o.A)((function*(){var r,o;if(null!==(r=g.CoreSites.getCurrentSite())&&void 0!==r&&r.isOfflineDisabled())return!1;const i=g.CoreSites.getCurrentSiteId(),s=yield w.AddonModQuiz.getQuiz(n,e.id,{siteId:i});if(!w.AddonModQuiz.isQuizOffline(s)||0===s.hasquestions)return!1;const a=yield w.AddonModQuiz.getUserAttempts(s.id,{cmId:e.id,siteId:i}),c=!a.length||w.AddonModQuiz.isAttemptCompleted(a[a.length-1].state);return 0===s.attempts||(null!==(o=s.attempts)&&void 0!==o?o:0)>a.length||!c}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}prefetch(e,n,r,i,s=!0){var a=this;return(0,o.A)((function*(){return e.attemptFinished?(delete e.attemptFinished,void 0):a.prefetchPackage(e,n,(o=>a.prefetchQuiz(e,n,!!r,s,o)))}))()}prefetchQuiz(e,n,r,i,s){var c=this;return(0,o.A)((function*(){const p={readingStrategy:2,siteId:s},g={cmId:e.id,...p},b=yield w.AddonModQuiz.getQuiz(n,e.id,p),I=c.getIntroFilesFromInstance(e,b);let[T,P,k]=yield Promise.all([w.AddonModQuiz.getQuizAccessInformation(b.id,g),w.AddonModQuiz.getUserAttempts(b.id,g),w.AddonModQuiz.getAttemptAccessInformation(b.id,0,g),w.AddonModQuiz.getQuizRequiredQtypes(b.id,g),f.CoreFilepool.addFilesToQueue(s,I,E.Ar,e.id)]),x=P[P.length-1],F={},R=!1;if(i||x){if(i&&(!x||w.AddonModQuiz.isAttemptCompleted(x.state))){if(k.preventnewattemptreasons.length)throw new a.CoreError(v.Ni.buildMessage(k.preventnewattemptreasons));R=!0,x=void 0}F=yield A.AddonModQuizHelper.getPreflightDataToAttemptOffline(b,T,x,r,"core.download",s)}const N=[];if(R?(N.push(w.AddonModQuiz.getUserAttempts(b.id,g).then(function(){var n=(0,o.A)((function*(n){P=n;const r=yield c.getAttemptsFeedbackFiles(b,P,s);return f.CoreFilepool.addFilesToQueue(s,r,E.Ar,e.id)}));return function(e){return n.apply(this,arguments)}}())),N.push(C.g.ignoreErrors(f.CoreFilepool.updatePackageDownloadTime(s,E.Ar,e.id)))):N.push(c.getAttemptsFeedbackFiles(b,P,s).then((n=>f.CoreFilepool.addFilesToQueue(s,n,E.Ar,e.id)))),N.push(w.AddonModQuiz.getCombinedReviewOptions(b.id,g)),N.push(w.AddonModQuiz.getUserBestGrade(b.id,g)),N.push(c.prefetchGradeAndFeedback(b,g,s)),N.push(w.AddonModQuiz.getAttemptAccessInformation(b.id,0,g)),N.push(C.g.ignoreErrors(u.CoreCourses.getCourseByField("id",n,s))),yield Promise.all(N),yield Promise.all(P.map(function(){var e=(0,o.A)((function*(e){yield c.prefetchAttempt(b,T,e,F,s)}));return function(n){return e.apply(this,arguments)}}())),!i)return;(yield _.AddonModQuizSync.hasDataToSync(b.id,s))||_.AddonModQuizSync.setSyncTime(b.id,s)}))()}prefetchAttempt(e,n,r,i,a){var c=this;return(0,o.A)((function*(){const u=w.AddonModQuiz.isNavigationSequential(e);let f=[];const g={cmId:e.coursemodule,readingStrategy:2,siteId:a};if(w.AddonModQuiz.isAttemptCompleted(r.state)){const o=w.AddonModQuiz.rescaleGrade(r.sumgrades,e,!1),i=void 0!==o&&Number(o);(0,s.L)(i)&&f.push(w.AddonModQuiz.getFeedbackForGrade(e.id,i,g)),f.push(c.prefetchAttemptReview(e,n,r,g))}else if(f.push(w.AddonModQuiz.getAttemptAccessInformation(e.id,r.id,g)),f.push(w.AddonModQuiz.getAttemptSummary(r.id,i,g)),"inprogress"===r.state){const n=w.AddonModQuiz.getPagesFromLayout(r.layout);f=f.concat(n.map(function(){var n=(0,o.A)((function*(n){if(u&&"number"==typeof r.currentpage&&n<r.currentpage)return;const s=yield w.AddonModQuiz.getAttemptData(r.id,n,i,g);yield Promise.all(s.questions.map(function(){var n=(0,o.A)((function*(n){yield p.CoreQuestionHelper.prefetchQuestionFiles(n,c.component,e.coursemodule,a,r.uniqueid)}));return function(e){return n.apply(this,arguments)}}()))}));return function(e){return n.apply(this,arguments)}}()))}yield Promise.all(f)}))()}prefetchAttemptReview(e,n,r,i){var s=this;return(0,o.A)((function*(){if(!(yield A.AddonModQuizHelper.canReviewAttempt(e,n,r)))return;const o=w.AddonModQuiz.getPagesFromLayout(r.layout),a=[];o.forEach((e=>{a.push(C.g.ignoreErrors(w.AddonModQuiz.getAttemptReview(r.id,{page:e,...i})))})),a.push(s.prefetchAttemptReviewFiles(e,r,i)),yield Promise.all(a)}))()}prefetchAttemptReviewFiles(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield C.g.ignoreErrors(w.AddonModQuiz.getAttemptReview(n.id,{page:-1,...r}));o&&(yield Promise.all(o.questions.map((o=>{p.CoreQuestionHelper.prefetchQuestionFiles(o,i.component,e.coursemodule,r.siteId,n.uniqueid)}))))}))()}prefetchGradeAndFeedback(e,n,r){return(0,o.A)((function*(){try{const o=yield w.AddonModQuiz.getGradeFromGradebook(e.course,e.coursemodule,!0,r);o&&void 0!==o.graderaw&&(yield w.AddonModQuiz.getFeedbackForGrade(e.id,o.graderaw,n))}catch{}}))()}prefetchQuizAndLastAttempt(e,n,r){var i=this;return(0,o.A)((function*(){r=r||g.CoreSites.getCurrentSiteId();const o={cmId:e.coursemodule,readingStrategy:2,siteId:r},[s,a]=yield Promise.all([w.AddonModQuiz.getQuizAccessInformation(e.id,o),w.AddonModQuiz.getUserAttempts(e.id,o),w.AddonModQuiz.getQuizRequiredQtypes(e.id,o),w.AddonModQuiz.getCombinedReviewOptions(e.id,o),w.AddonModQuiz.getUserBestGrade(e.id,o),i.prefetchGradeAndFeedback(e,o,r),w.AddonModQuiz.getAttemptAccessInformation(e.id,0,o)]),c=a[a.length-1];let u={};c&&(u=yield A.AddonModQuizHelper.getPreflightDataToAttemptOffline(e,s,c,n,"core.download",r),yield i.prefetchAttempt(e,s,c,u,r)),yield i.setStatusAfterPrefetch(e,{cmId:e.coursemodule,attempts:a,readingStrategy:1,siteId:r})}))()}setStatusAfterPrefetch(e,n={}){var r=this;return(0,o.A)((function*(){n.siteId=n.siteId||g.CoreSites.getCurrentSiteId();let o=n.attempts;o||(o=yield w.AddonModQuiz.getUserAttempts(e.id,n));if((yield f.CoreFilepool.getPackageStatus(n.siteId,r.component,e.coursemodule))===i.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED)return;const s=o[o.length-1],a=!s||w.AddonModQuiz.isAttemptCompleted(s.state)?i.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED:i.DownloadStatus.DOWNLOADED;yield f.CoreFilepool.storePackageStatus(n.siteId,a,r.component,e.coursemodule)}))()}sync(e,n,r){return(0,o.A)((function*(){const o=yield w.AddonModQuiz.getQuiz(n,e.id,{siteId:r});try{const n=yield _.AddonModQuizSync.syncQuiz(o,!1,r);return e.attemptFinished=n.attemptFinished||!1,n}catch{e.attemptFinished=!1}}))()}}return(e=AddonModQuizPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModQuizPrefetchHandlerService_Factory(r){return(n||(n=I.xGo(e)))(r||e)}})(),e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizPrefetchHandlerService})();const P=(0,b.Qd)(T)},93918:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModQuizHelper:()=>R,AddonModQuizHelperProvider:()=>F});var o=r(10467),i=r(63508),s=r(75629),a=r(44682),c=r(15324),u=r(52749),p=r(82907),f=r(43411),g=r(79555),v=r(15646),C=r(64766),b=r(78659),w=r(20860),A=r(15221),_=r(24742),E=r(93589),I=r(33014),T=r(35161),P=r(55554),k=r(25572),x=r(54438);let F=(()=>{var e;class AddonModQuizHelperProvider{canReviewAttempt(e,n,r){var i=this;return(0,o.A)((function*(){if(!i.hasReviewCapabilityForAttempt(e,n,r))return!1;if(r.userid!==u.CoreSites.getCurrentSiteUserId())return i.canReviewOtherUserAttempt(e,n,r);if(!C.AddonModQuiz.isAttemptCompleted(r.state))return!1;if(r.preview&&n.canpreview)return!0;if(!r.preview&&n.canviewreports)return!0;if(void 0===e.reviewattempt)return!0;return C.AddonModQuiz.getDisplayOptionsForQuiz(e,C.AddonModQuiz.getAttemptStateDisplayOption(e,r)).attempt}))()}canReviewOtherUserAttempt(e,n,r){return(0,o.A)((function*(){if(!n.canviewreports)return!1;try{const n=yield A.CoreGroups.getActivityGroupInfo(e.coursemodule);if(n.canAccessAllGroups||!n.separateGroups)return!0;if(!n.groups.length)return!1;return(yield A.CoreGroups.getUserGroupsInCourse(e.course,void 0,r.userid)).some((e=>n.groups.find((n=>e.id===n.id))))}catch{return!1}}))()}getCannotReviewMessage(e,n,r=!1){var o,i;let s=0;switch(C.AddonModQuiz.getAttemptStateDisplayOption(e,n)){case 65536:return"";case 4096:if(256&(null!==(o=e.reviewattempt)&&void 0!==o?o:0)){var a;s=(null!==(a=n.timefinish)&&void 0!==a?a:Date.now())+w.uD;break}case 256:if(e.timeclose&&16&(null!==(i=e.reviewattempt)&&void 0!==i?i:0)){s=e.timeclose;break}}return s?g.HT.instant("addon.mod_quiz.noreviewuntil"+(r?"short":""),{$a:_.j.userDate(1e3*s,r?"core.strftimedatetimeshort":void 0)}):g.HT.instant("addon.mod_quiz.noreviewattempt")}getAndCheckPreflightData(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=null==n?void 0:n.activerulenames,a=yield v.AddonModQuizAccessRuleDelegate.isPreflightCheckRequired(o,e,i.attempt,i.prefetch,i.siteId);if(a){const o=yield s.getPreflightData(e,n,i);Object.assign(r,o)}yield v.AddonModQuizAccessRuleDelegate.getFixedPreflightData(o,e,r,i.attempt,i.prefetch,i.siteId);try{return yield s.validatePreflightData(e,n,r,i)}catch(o){if(i.prefetch)throw o;if(i.retrying&&!a)throw o;return setTimeout((()=>{k.CoreAlerts.showError(o,{default:g.HT.instant("core.error")})}),100),s.getAndCheckPreflightData(e,n,r,{...i,retrying:!0})}}))()}getPreflightData(e,n,a={}){return(0,o.A)((function*(){const o=[],c=null==n?void 0:n.activerulenames;if(c.forEach((e=>{v.AddonModQuizAccessRuleDelegate.isAccessRuleSupported(e)||o.push(e)})),o.length)throw new s.CoreError(g.HT.instant("addon.mod_quiz.errorrulesnotsupported")+" "+JSON.stringify(o));const{AddonModQuizPreflightModalComponent:u}=yield r.e(34021).then(r.bind(r,34021)),p=yield E.I.openModal({component:u,componentProps:{title:a.title,quiz:e,attempt:a.attempt,prefetch:!!a.prefetch,siteId:a.siteId,rules:c}});if(!p)throw new i.CoreCanceledError;return p}))()}getQuestionMarkFromHtml(e){const n=(0,T.B)(e);return p.y.getContentsOfElement(n,".grade")}getQuizIdByAttemptId(e,n={}){return(0,o.A)((function*(){const r=yield C.AddonModQuiz.getAttemptReview(e,n);if(r.attempt.quiz)return r.attempt.quiz;throw new s.CoreError("Cannot get quiz ID.")}))()}handleReviewLink(e,n,r,i){var s=this;return(0,o.A)((function*(){i=i||u.CoreSites.getCurrentSiteId();const o=yield I.CoreLoadings.show();try{r||(r=yield s.getQuizIdByAttemptId(e,{siteId:i}));const o=yield a.CoreCourse.getModuleBasicInfoByInstance(r,w.uL,{siteId:i,readingStrategy:1});yield c.CoreNavigator.navigateToSitePath(`${w.mF}/${o.course}/${o.id}/review/${e}`,{params:{page:null==n||isNaN(n)?-1:n},siteId:i})}catch(e){k.CoreAlerts.showError(e,{default:"An error occurred while loading the required data."})}finally{o.dismiss()}}))()}hasReviewCapabilityForAttempt(e,n,r){if(n.canviewreports||n.canpreview)return!0;return 4096===C.AddonModQuiz.getAttemptStateDisplayOption(e,r)?n.canattempt:n.canreviewmyattempts}setAttemptCalculatedData(e,n,r){return(0,o.A)((function*(){const o=n;return o.finished="finished"===n.state,o.completed=C.AddonModQuiz.isAttemptCompleted(n.state),o.rescaledGrade=Number(C.AddonModQuiz.rescaleGrade(n.sumgrades,e,!1)),o.formattedGrade=e.showAttemptsGrades&&o.finished?C.AddonModQuiz.formatGrade(o.rescaledGrade,e.decimalpoints):"",o.finishedOffline=yield C.AddonModQuiz.isAttemptFinishedOffline(n.id,r),o}))()}setQuizCalculatedData(e,n){const r=e;return r.sumGradesFormatted=C.AddonModQuiz.formatGrade(e.sumgrades,e.decimalpoints),r.gradeFormatted=C.AddonModQuiz.formatGrade(e.grade,e.decimalpoints),r.showAttemptsGrades=n.someoptions.marks>=2&&C.AddonModQuiz.quizHasGrades(e),r.showAttemptsMarks=r.showAttemptsGrades&&e.grade!==e.sumgrades,r.showFeedback=!!e.hasfeedback&&!!n.alloptions.overallfeedback,r}validatePreflightData(e,n,r,i={}){return(0,o.A)((function*(){const o=n.activerulenames,s={cmId:e.coursemodule,readingStrategy:i.offline?1:2,siteId:i.siteId};let a=i.attempt;try{var c;if(a){if("overdue"===a.state||i.finishedOffline)yield C.AddonModQuiz.getAttemptSummary(a.id,r,s);else if(yield C.AddonModQuiz.getAttemptData(a.id,null!==(c=a.currentpage)&&void 0!==c?c:0,r,s),i.offline){var u;const e=yield P.g.ignoreErrors(b.AddonModQuizOffline.getAttemptById(a.id));a.currentpage=null!==(u=null==e?void 0:e.currentpage)&&void 0!==u?u:a.currentpage}}else a=yield C.AddonModQuiz.startAttempt(e.id,r,!1,i.siteId);return v.AddonModQuizAccessRuleDelegate.notifyPreflightCheckPassed(o,e,a,r,i.prefetch,i.siteId),a}catch(n){throw f.CoreWSError.isWebServiceError(n)&&v.AddonModQuizAccessRuleDelegate.notifyPreflightCheckFailed(o,e,a,r,i.prefetch,i.siteId),n}}))()}getPreflightDataToAttemptOffline(e,n,r,i,s,a){return(0,o.A)((function*(){const o={};if(i)yield R.getAndCheckPreflightData(e,n,o,{attempt:r,prefetch:!0,title:s,siteId:a});else{const i=(null==n?void 0:n.activerulenames)||[];yield v.AddonModQuizAccessRuleDelegate.getFixedPreflightData(i,e,o,r,!0,a),r||(yield C.AddonModQuiz.startAttempt(e.id,o,!1,a))}return o}))()}}return(e=AddonModQuizHelperProvider).ɵfac=function AddonModQuizHelperProvider_Factory(n){return new(n||e)},e.ɵprov=x.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizHelperProvider})();const R=(0,g.Qd)(F)},78659:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModQuizOffline:()=>w,AddonModQuizOfflineProvider:()=>b});var o=r(10467),i=r(13482),s=r(54090),a=r(52749),c=r(24742),u=r(55554),p=r(79555),f=r(6787),g=r(32525),v=r(20860),C=r(54438);let b=(()=>{var e;class AddonModQuizOfflineProvider{constructor(){this.logger=f.CoreLogger.getInstance("AddonModQuizOfflineProvider")}classifyAnswersInQuestions(e){const n={};for(const r in e){const o=s.CoreQuestion.getQuestionSlotFromName(r),i=s.CoreQuestion.removeQuestionPrefix(r);n[o]||(n[o]={answers:{},prefix:r.substring(0,r.indexOf(i))}),n[o].answers[i]=e[r]}return n}extractAnswersFromQuestions(e){const n={};for(const r in e){const o=e[r];for(const e in o.answers)n[o.prefix+e]=o.answers[e]}return n}getAllAttempts(e){return(0,o.A)((function*(){return(yield a.CoreSites.getSiteDb(e)).getAllRecords(g.u)}))()}getAttemptAnswers(e,n){return s.CoreQuestion.getAttemptAnswers(v.Ar,e,n)}getAttemptById(e,n){return(0,o.A)((function*(){return(yield a.CoreSites.getSiteDb(n)).getRecord(g.u,{id:e})}))()}getQuizAttempts(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);return o.getDb().getRecords(g.u,{quizid:e,userid:r||o.getUserId()})}))()}loadQuestionsLocalStates(e,n,r){return(0,o.A)((function*(){return yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){const o=yield u.g.ignoreErrors(s.CoreQuestion.getQuestion(v.Ar,e,n.slot,r));if(!o)return;const i=s.CoreQuestion.getState(o.state);n.state=o.state,n.status=p.HT.instant(`core.question.${i.status}`),n.stateclass=i.stateclass}));return function(e){return n.apply(this,arguments)}}())),n}))()}processAttempt(e,n,r,i,s,p){var f=this;return(0,o.A)((function*(){p=p||a.CoreSites.getCurrentSiteId();const o=c.j.timestamp(),v=yield a.CoreSites.getSiteDb(p);let C=yield u.g.ignoreErrors(f.getAttemptById(n.id,p));var b,w;C?(C.timemodified=o,C.finished=s?1:0):C={quizid:e.id,userid:null!==(b=n.userid)&&void 0!==b?b:a.CoreSites.getCurrentSiteUserId(),id:n.id,courseid:e.course,timecreated:o,attempt:null!==(w=n.attempt)&&void 0!==w?w:0,currentpage:n.currentpage,timemodified:o,finished:s?1:0};yield v.insertRecord(g.u,C),yield f.saveAnswers(e,n,r,i,o,p)}))()}removeAttemptAndAnswers(e,n){return(0,o.A)((function*(){n=n||a.CoreSites.getCurrentSiteId();const r=yield a.CoreSites.getSiteDb(n);yield Promise.all([s.CoreQuestion.removeAttemptAnswers(v.Ar,e,n),s.CoreQuestion.removeAttemptQuestions(v.Ar,e,n),r.deleteRecords(g.u,{id:e})])}))()}removeQuestionAndAnswers(e,n,r){return(0,o.A)((function*(){r=r||a.CoreSites.getCurrentSiteId(),yield Promise.all([s.CoreQuestion.removeQuestion(v.Ar,e,n,r),s.CoreQuestion.removeQuestionAnswers(v.Ar,e,n,r)])}))()}saveAnswers(e,n,r,p,f,g){var C=this;return(0,o.A)((function*(){var b;g=g||a.CoreSites.getCurrentSiteId(),f=f||c.j.timestamp();const w={},A={};for(const e in p){const n=s.CoreQuestion.getQuestionSlotFromName(e),o=s.CoreQuestion.removeQuestionPrefix(e);r[n]&&(w[n]||(w[n]={...r[n],answers:{}}),w[n].answers[o]=p[e])}yield Promise.all(Object.values(w).map(function(){var r=(0,o.A)((function*(r){var o;const a=yield i.CoreQuestionBehaviourDelegate.determineNewState(null!==(o=e.preferredbehaviour)&&void 0!==o?o:"",v.Ar,n.id,r,e.coursemodule,g);a&&a.name!=r.state&&(A[r.slot]=a.name),yield s.CoreQuestion.removeQuestionAnswers(v.Ar,n.id,r.slot,g)}));return function(e){return r.apply(this,arguments)}}())),yield s.CoreQuestion.saveAnswers(v.Ar,e.id,n.id,null!==(b=n.userid)&&void 0!==b?b:a.CoreSites.getCurrentSiteUserId(),p,f,g);try{yield u.g.allPromises(Object.keys(A).map(function(){var r=(0,o.A)((function*(r){var o;const i=w[Number(r)];yield s.CoreQuestion.saveQuestion(v.Ar,e.id,n.id,null!==(o=n.userid)&&void 0!==o?o:a.CoreSites.getCurrentSiteUserId(),i,A[r],g)}));return function(e){return r.apply(this,arguments)}}()))}catch(e){C.logger.error("Error saving question state",e)}}))()}setAttemptCurrentPage(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSiteDb(r);yield o.updateRecords(g.u,{currentpage:n},{id:e})}))()}}return(e=AddonModQuizOfflineProvider).ɵfac=function AddonModQuizOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizOfflineProvider})();const w=(0,p.Qd)(b)},74149:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModQuizSync:()=>x,AddonModQuizSyncProvider:()=>k});var o=r(10467),i=r(75629),s=r(37690),a=r(44682),c=r(97254),u=r(8979),p=r(54090),f=r(89857),g=r(94455),v=r(52749),C=r(48966),b=r(55554),w=r(79555),A=r(49882),_=r(64766),E=r(78659),I=r(20860),T=r(93918),P=r(54438);let k=(()=>{var e;class AddonModQuizSyncProvider extends s.L{constructor(){super("AddonModQuizSyncProvider"),this.componentTranslatableString="quiz"}finishSync(e,n,r,i,s){var c=this;return(0,o.A)((function*(){if(s=s||{},yield b.g.ignoreErrors(_.AddonModQuiz.invalidateAllQuizData(n.id,r,s.attemptId,e)),s.removeAttempt&&s.attemptId){const r=[];if(r.push(E.AddonModQuizOffline.removeAttemptAndAnswers(s.attemptId,e)),s.onlineQuestions)for(const o in s.onlineQuestions)r.push(f.CoreQuestionDelegate.deleteOfflineData(s.onlineQuestions[o],I.Ar,n.coursemodule,e));yield Promise.all(r)}if(s.updated)try{const o=yield a.CoreCourse.getModuleBasicInfoByInstance(n.id,I.uL,{siteId:e});yield c.prefetchAfterUpdateQuiz(o,n,r,e)}catch{}yield b.g.ignoreErrors(c.setSyncTime(n.id,e));let o=!1;if(s.onlineAttempt&&!_.AddonModQuiz.isAttemptCompleted(s.onlineAttempt.state)){const r=(yield _.AddonModQuiz.getUserAttempts(n.id,{cmId:n.coursemodule,siteId:e})).find((e=>{var n;return e.id==(null===(n=s)||void 0===n||null===(n=n.onlineAttempt)||void 0===n?void 0:n.id)}));o=!!r&&_.AddonModQuiz.isAttemptCompleted(r.state)}return{warnings:i,attemptFinished:o,updated:!!s.updated||!!s.removeAttempt}}))()}hasDataToSync(e,n){return(0,o.A)((function*(){try{return!!(yield E.AddonModQuizOffline.getQuizAttempts(e,n)).length}catch{return!1}}))()}prefetchAfterUpdateQuiz(e,n,r,i){return(0,o.A)((function*(){var o;let s=!1;const a=yield u.CoreCourseModulePrefetchDelegate.getModuleUpdates(e,r,!0,i),c=u.CoreCourseModulePrefetchDelegate.getPrefetchHandlerFor(e.modname);if(c){if(null!=a&&null!==(o=a.updates)&&void 0!==o&&o.length){const n=/^.*files$/;s=!a.updates.find((e=>e.name.match(n))),s&&(yield c.download(e,r,void 0,!1,!1))}yield c.setStatusAfterPrefetch(n,{cmId:e.id,readingStrategy:s?1:void 0,siteId:i})}}))()}syncAllQuizzes(e,n){return this.syncOnSites("all quizzes",(e=>this.syncAllQuizzesFunc(!!n,e)),e)}syncAllQuizzesFunc(e,n){var r=this;return(0,o.A)((function*(){const i=yield E.AddonModQuizOffline.getAllAttempts(n),s={};yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){var i;if(s[o.quizid])return;if(s[o.quizid]=!0,C.CoreSync.isBlocked(I.Qs,o.quizid,n))return;const a=yield _.AddonModQuiz.getQuizById(o.courseid,o.quizid,{siteId:n}),c=yield e?r.syncQuiz(a,!1,n):r.syncQuizIfNeeded(a,!1,n);null!=c&&null!==(i=c.warnings)&&void 0!==i&&i.length&&(yield r.setSyncWarnings(a.id,c.warnings,n)),c&&A.z.trigger(I.Po,{quizId:a.id,attemptFinished:c.attemptFinished,warnings:c.warnings},n)}));return function(e){return i.apply(this,arguments)}}()))}))()}syncQuizIfNeeded(e,n,r){var i=this;return(0,o.A)((function*(){if(yield i.isSyncNeeded(e.id,r))return i.syncQuiz(e,n,r)}))()}syncQuiz(e,n,r){r=r||v.CoreSites.getCurrentSiteId();const o=this.getOngoingSync(e.id,r);if(o)return o;if(C.CoreSync.isBlocked(I.Qs,e.id,r))throw this.logger.debug(`Cannot sync quiz ${e.id} because it is blocked.`),new i.CoreError(w.HT.instant("core.errorsyncblocked",{$a:this.componentTranslate}));return this.addOngoingSync(e.id,this.performSyncQuiz(e,n,r),r)}performSyncQuiz(e,n,r){var s=this;return(0,o.A)((function*(){r=r||v.CoreSites.getCurrentSiteId();const a=[],u=e.course,C={cmId:e.coursemodule,readingStrategy:2,siteId:r};s.logger.debug(`Try to sync quiz ${e.id} in site ${r}`),yield b.g.ignoreErrors(c.CoreCourseLogHelper.syncActivity(I.Ar,e.id,r));const A=(yield E.AddonModQuizOffline.getQuizAttempts(e.id,r)).pop();if(!A)return s.finishSync(r,e,u,a);if(!g.WE.isOnline())throw new i.CoreError(w.HT.instant("core.cannotconnect"));const P=yield _.AddonModQuiz.getUserAttempts(e.id,C),k=P.length?P[P.length-1].id:void 0,x=P.find((e=>e.id==A.id));if(!x||_.AddonModQuiz.isAttemptCompleted(x.state))return a.push(w.HT.instant("addon.mod_quiz.warningattemptfinished")),s.finishSync(r,e,u,a,{attemptId:A.id,offlineAttempt:A,onlineAttempt:x,removeAttempt:!0});const F=yield E.AddonModQuizOffline.getAttemptAnswers(A.id,r);if(!F.length)return s.finishSync(r,e,u,a,{attemptId:k,offlineAttempt:A,onlineAttempt:x,removeAttempt:!0});const R=p.CoreQuestion.convertAnswersArrayToObject(F),N=E.AddonModQuizOffline.classifyAnswersInQuestions(R),L=yield _.AddonModQuiz.getQuizAccessInformation(e.id,C),H=yield T.AddonModQuizHelper.getPreflightDataToAttemptOffline(e,L,x,n,"core.settings.synchronization",r),U=yield _.AddonModQuiz.getAllQuestionsData(e,x,H,{pages:_.AddonModQuiz.getPagesFromLayoutAndQuestions(x.layout||"",N),readingStrategy:2,siteId:r}),B=yield s.validateQuestions(x.id,U,N,r);yield Promise.all(Object.keys(N).map(function(){var n=(0,o.A)((function*(n){const o=Number(n),i=U[o];yield f.CoreQuestionDelegate.prepareSyncData(i,N[o].answers,I.Ar,e.coursemodule,r)}));return function(e){return n.apply(this,arguments)}}()));const j=E.AddonModQuizOffline.extractAnswersFromQuestions(N),V=!!A.finished&&!B;return B&&a.push(w.HT.instant(A.finished?"addon.mod_quiz.warningdatadiscardedfromfinished":"addon.mod_quiz.warningdatadiscarded")),yield _.AddonModQuiz.processAttempt(e,x,j,H,V,!1,!1,r),V||(yield b.g.ignoreErrors(_.AddonModQuiz.logViewAttempt(x.id,A.currentpage,H,!1,r))),s.finishSync(r,e,u,a,{attemptId:k,offlineAttempt:A,onlineAttempt:x,removeAttempt:!0,updated:!0,onlineQuestions:U})}))()}validateQuestions(e,n,r,i){return(0,o.A)((function*(){let s=!1;return yield Promise.all(Object.keys(r).map(function(){var a=(0,o.A)((function*(o){const a=Number(o),c=r[a],u=n[a];u&&f.CoreQuestionDelegate.validateSequenceCheck(u,c.answers[":sequencecheck"])?c.answers[":sequencecheck"]=String(u.sequencecheck):(yield E.AddonModQuizOffline.removeQuestionAndAnswers(e,a,i),s=!0,delete r[a])}));return function(e){return a.apply(this,arguments)}}())),s}))()}}return(e=AddonModQuizSyncProvider).ɵfac=function AddonModQuizSyncProvider_Factory(n){return new(n||e)},e.ɵprov=P.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizSyncProvider})();const x=(0,w.Qd)(k)},64766:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonModQuiz:()=>H,AddonModQuizProvider:()=>L});var o=r(10467),i=r(75629),s=r(43411),a=r(97254),c=r(97383),u=r(54090),p=r(89857),f=r(52749),g=r(35161),v=r(24742),C=r(81690),b=r(79555),w=r(6787),A=r(15646),_=r(78659);const E=["notyetanswered"],I=["invalidanswer"];var T=r(20860),P=r(55351),k=r(74431),x=r(58364),F=r(24502),R=r(95384),N=r(54438);let L=(()=>{var e;class AddonModQuizProvider{constructor(){this.logger=w.CoreLogger.getInstance("AddonModQuizProvider")}formatGrade(e,n){return void 0===e||-1===e||null===e||isNaN(e)?b.HT.instant("addon.mod_quiz.notyetgraded"):C.j.formatFloat(e.toFixed(null!=n?n:2))}getAllQuestionsData(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const a={},c=s.isNavigationSequential(e),u=i.pages||s.getPagesFromLayout(n.layout);return yield Promise.all(u.map(function(){var e=(0,o.A)((function*(e){if(c&&e<(n.currentpage||0))return;(yield s.getAttemptData(n.id,e,r,i)).questions.forEach((e=>{a[e.slot]=e}))}));return function(n){return e.apply(this,arguments)}}())),a}))()}getAttemptAccessInformationCacheKey(e,n){return`${this.getAttemptAccessInformationCommonCacheKey(e)}:${n}`}getAttemptAccessInformationCommonCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}attemptAccessInformation:${e}`}getAttemptAccessInformation(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(r.siteId),s={quizid:e,attemptid:n},a={cacheKey:i.getAttemptAccessInformationCacheKey(e,n),component:T.Ar,componentId:r.cmId,...f.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};return o.read("mod_quiz_get_attempt_access_information",s,a)}))()}getAttemptDataCacheKey(e,n){return`${this.getAttemptDataCommonCacheKey(e)}:${n}`}getAttemptDataCommonCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}attemptData:${e}`}getAttemptData(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(i.siteId),a={attemptid:e,page:n,preflightdata:x.T.toArrayOfObjects(r,"name","value",!0)},c={cacheKey:s.getAttemptDataCacheKey(e,n),component:T.Ar,componentId:i.cmId,...f.CoreSites.getReadingStrategyPreSets(i.readingStrategy)},p=yield o.read("mod_quiz_get_attempt_data",a,c);return p.questions=u.CoreQuestion.parseQuestions(p.questions),p}))()}getAttemptDueDate(e,n){var r;const o=[];if(e.timelimit&&n.timestart&&o.push(n.timestart+e.timelimit),e.timeclose&&o.push(e.timeclose),!o.length)return 0;const i=Math.min.apply(null,o);if(!i)return 0;switch(n.state){case"inprogress":return 1e3*i;case"overdue":return 1e3*(i+(null!==(r=e.graceperiod)&&void 0!==r?r:0));default:return this.logger.warn(`Unexpected state when getting due date: ${n.state}`),0}}getAttemptDueDateWarning(e,n){const r=this.getAttemptDueDate(e,n);return"overdue"===n.state?b.HT.instant("addon.mod_quiz.overduemustbesubmittedby",{$a:v.j.userDate(r)}):r?b.HT.instant("addon.mod_quiz.mustbesubmittedby",{$a:v.j.userDate(r)}):void 0}getAttemptStateDisplayOption(e,n){var r;return"inprogress"===n.state?65536:e.timeclose&&Date.now()>=1e3*e.timeclose?16:Date.now()<1e3*((null!==(r=n.timefinish)&&void 0!==r?r:0)+T.uD)?4096:256}getDisplayOptionsForQuiz(e,n){var r,o,i,s,a,c,u,p;const f=this.calculateDisplayOptionValue(null!==(r=e.reviewmarks)&&void 0!==r?r:0,n,2,1),g=this.calculateDisplayOptionValue(null!==(o=e.reviewspecificfeedback)&&void 0!==o?o:0,n);return{attempt:this.calculateDisplayOptionValue(null!==(i=e.reviewattempt)&&void 0!==i?i:0,n,!0,!1),correctness:this.calculateDisplayOptionValue(null!==(s=e.reviewcorrectness)&&void 0!==s?s:0,n),marks:void 0!==e.reviewmaxmarks?this.calculateDisplayOptionValue(e.reviewmaxmarks,n,f,0):f,feedback:g,generalfeedback:this.calculateDisplayOptionValue(null!==(a=e.reviewgeneralfeedback)&&void 0!==a?a:0,n),rightanswer:this.calculateDisplayOptionValue(null!==(c=e.reviewrightanswer)&&void 0!==c?c:0,n),overallfeedback:this.calculateDisplayOptionValue(null!==(u=e.reviewoverallfeedback)&&void 0!==u?u:0,n),numpartscorrect:g,manualcomment:g,markdp:void 0!==e.questiondecimalpoints&&-1!==e.questiondecimalpoints?e.questiondecimalpoints:null!==(p=e.decimalpoints)&&void 0!==p?p:0}}calculateDisplayOptionValue(e,n,r=1,o=0){return e&n?r:o}getAttemptReadableStateName(e,n=!1){if(n)return b.HT.instant("core.submittedoffline");switch(e){case"inprogress":return b.HT.instant("addon.mod_quiz.stateinprogress");case"overdue":return b.HT.instant("addon.mod_quiz.stateoverdue");case"finished":return b.HT.instant("addon.mod_quiz.statefinished");case"abandoned":return b.HT.instant("addon.mod_quiz.stateabandoned");default:return""}}getAttemptStateColor(e,n=!1){if(n)return P.$.MEDIUM;switch(e){case"inprogress":return P.$.WARNING;case"overdue":return P.$.INFO;case"finished":return P.$.SUCCESS;case"abandoned":return P.$.DANGER;default:return""}}getAttemptReviewCacheKey(e,n){return`${this.getAttemptReviewCommonCacheKey(e)}:${n}`}getAttemptReviewCommonCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}attemptReview:${e}`}getAttemptReview(e,n={}){var r=this;return(0,o.A)((function*(){const o=void 0===n.page?-1:n.page,i=yield f.CoreSites.getSite(n.siteId),s={attemptid:e,page:o},a={cacheKey:r.getAttemptReviewCacheKey(e,o),component:T.Ar,componentId:n.cmId,deleteCacheIfWSError:!0,...f.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},c=yield i.read("mod_quiz_get_attempt_review",s,a);return c.questions=u.CoreQuestion.parseQuestions(c.questions),c}))()}getAttemptSummaryCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}attemptSummary:${e}`}getAttemptSummary(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(r.siteId),s={attemptid:e,preflightdata:x.T.toArrayOfObjects(n,"name","value",!0)},a={cacheKey:i.getAttemptSummaryCacheKey(e),component:T.Ar,componentId:r.cmId,...f.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},c=yield o.read("mod_quiz_get_attempt_summary",s,a),p=u.CoreQuestion.parseQuestions(c.questions);return r.loadLocal?_.AddonModQuizOffline.loadQuestionsLocalStates(e,p,o.getId()):p}))()}getCombinedReviewOptionsCacheKey(e,n){return`${this.getCombinedReviewOptionsCommonCacheKey(e)}:${n}`}getCombinedReviewOptionsCommonCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}combinedReviewOptions:${e}`}getCombinedReviewOptions(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n.siteId),i=n.userId||o.getUserId(),s={quizid:e,userid:i},a={cacheKey:r.getCombinedReviewOptionsCacheKey(e,i),component:T.Ar,componentId:n.cmId,...f.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},c=yield o.read("mod_quiz_get_combined_review_options",s,a);return{someoptions:x.T.toKeyValueMap(c.someoptions,"name","value"),alloptions:x.T.toKeyValueMap(c.alloptions,"name","value"),warnings:c.warnings}}))()}getFeedbackForGradeCacheKey(e,n){return`${this.getFeedbackForGradeCommonCacheKey(e)}:${n}`}getFeedbackForGradeCommonCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}feedbackForGrade:${e}`}getFeedbackForGrade(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(r.siteId),s={quizid:e,grade:n},a={cacheKey:i.getFeedbackForGradeCacheKey(e,n),updateFrequency:k.CoreCacheUpdateFrequency.RARELY,component:T.Ar,componentId:r.cmId,...f.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};return o.read("mod_quiz_get_quiz_feedback_for_grade",s,a)}))()}getGradeDecimals(e){var n;return void 0===e.questiondecimalpoints&&(e.questiondecimalpoints=-1),-1==e.questiondecimalpoints?null!==(n=e.decimalpoints)&&void 0!==n?n:1:e.questiondecimalpoints}getGradeFromGradebook(e,n,r,i,s){return(0,o.A)((function*(){return(yield c.CoreGradesHelper.getGradeModuleItems(e,n,s,void 0,i,r)).shift()}))()}getLastCompletedAttemptFromList(e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(this.isAttemptCompleted(r.state))return r}}getPreventSubmitMessages(e){const n=[];return e.forEach((e=>{if("random"==e.type||p.CoreQuestionDelegate.isQuestionSupported(e.type)){let r=p.CoreQuestionDelegate.getPreventSubmitMessage(e);r&&(r=b.HT.instant(r),n.push(b.HT.instant("core.question.questionmessage",{$a:e.slot,$b:r})))}else n.push(b.HT.instant("core.question.questionmessage",{$a:e.slot,$b:b.HT.instant("core.question.errorquestionnotsupported",{$a:e.type})}))})),n}getQuizDataCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}quiz:${e}`}getQuizByField(e,n,r,i={}){var s=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(i.siteId),a={courseids:[e]},c={cacheKey:s.getQuizDataCacheKey(e),updateFrequency:k.CoreCacheUpdateFrequency.RARELY,component:T.Ar,...f.CoreSites.getReadingStrategyPreSets(i.readingStrategy)},u=yield o.read("mod_quiz_get_quizzes_by_courses",a,c);return R.CoreCourseModuleHelper.getActivityByField(u.quizzes,n,r)}))()}getQuiz(e,n,r={}){return this.getQuizByField(e,"coursemodule",n,r)}getQuizById(e,n,r={}){return this.getQuizByField(e,"id",n,r)}getQuizAccessInformationCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}quizAccessInformation:${e}`}getQuizAccessInformation(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n.siteId),i={quizid:e},s={cacheKey:r.getQuizAccessInformationCacheKey(e),component:T.Ar,componentId:n.cmId,...f.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_quiz_get_quiz_access_information",i,s)}))()}getQuizGradeMethod(e){if(void 0===e)return"";switch("string"==typeof e&&(e=parseInt(e,10)),e){case 1:return b.HT.instant("addon.mod_quiz.gradehighest");case 2:return b.HT.instant("addon.mod_quiz.gradeaverage");case 3:return b.HT.instant("addon.mod_quiz.attemptfirst");case 4:return b.HT.instant("addon.mod_quiz.attemptlast");default:return""}}getQuizRequiredQtypesCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}quizRequiredQtypes:${e}`}getQuizRequiredQtypes(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n.siteId),i={quizid:e},s={cacheKey:r.getQuizRequiredQtypesCacheKey(e),updateFrequency:k.CoreCacheUpdateFrequency.SOMETIMES,component:T.Ar,componentId:n.cmId,...f.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield o.read("mod_quiz_get_quiz_required_qtypes",i,s)).questiontypes}))()}getPagesFromLayout(e){if(!e)return[];const n=e.split(","),r=[];let o=0;for(let e=0;e<n.length;e++)"0"==n[e]&&(r.push(o),o++);return r}getPagesFromLayoutAndQuestions(e,n){const r=e.split(","),o=[];let i=0,s=!1;for(let e=0;e<r.length;e++){const a=Number(r[e]);0==a?(i++,s=!1):!s&&n[a]&&(o.push(i),s=!0)}return o}getUnsupportedQuestions(e){const n=[];return e.forEach((e=>{"random"==e||p.CoreQuestionDelegate.isQuestionSupported(e)||n.push(e)})),n}getUnsupportedRules(e){const n=[];return e.forEach((e=>{A.AddonModQuizAccessRuleDelegate.isAccessRuleSupported(e)||n.push(e)})),n}getUserAttemptsCacheKey(e,n){return`${this.getUserAttemptsCommonCacheKey(e)}:${n}`}getUserAttemptsCommonCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}userAttempts:${e}`}getUserAttempts(e,n={}){var r=this;return(0,o.A)((function*(){const o=n.status||"all",i=void 0===n.includePreviews||n.includePreviews,s=yield f.CoreSites.getSite(n.siteId),a=n.userId||s.getUserId(),c={quizid:e,userid:a,status:o,includepreviews:!!i},u={cacheKey:r.getUserAttemptsCacheKey(e,a),updateFrequency:k.CoreCacheUpdateFrequency.SOMETIMES,component:T.Ar,componentId:n.cmId,...f.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield s.read("mod_quiz_get_user_attempts",c,u)).attempts}))()}getUserBestGradeCacheKey(e,n){return`${this.getUserBestGradeCommonCacheKey(e)}:${n}`}getUserBestGradeCommonCacheKey(e){return`${AddonModQuizProvider.ROOT_CACHE_KEY}userBestGrade:${e}`}getUserBestGrade(e,n={}){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n.siteId),i=n.userId||o.getUserId(),s={quizid:e,userid:i},a={cacheKey:r.getUserBestGradeCacheKey(e,i),component:T.Ar,componentId:n.cmId,...f.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_quiz_get_user_best_grade",s,a)}))()}invalidateAllQuizData(e,n,r,i,s){var a=this;return(0,o.A)((function*(){i=i||f.CoreSites.getCurrentSiteId();const o=[];o.push(a.invalidateAttemptAccessInformation(e,i)),o.push(a.invalidateCombinedReviewOptionsForUser(e,i,s)),o.push(a.invalidateFeedback(e,i)),o.push(a.invalidateQuizAccessInformation(e,i)),o.push(a.invalidateQuizRequiredQtypes(e,i)),o.push(a.invalidateUserAttemptsForUser(e,i,s)),o.push(a.invalidateUserBestGradeForUser(e,i,s)),r&&(o.push(a.invalidateAttemptData(r,i)),o.push(a.invalidateAttemptReview(r,i)),o.push(a.invalidateAttemptSummary(r,i))),n&&o.push(a.invalidateGradeFromGradebook(n,i,s)),yield Promise.all(o)}))()}invalidateAttemptAccessInformation(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getAttemptAccessInformationCommonCacheKey(e))}))()}invalidateAttemptAccessInformationForAttempt(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getAttemptAccessInformationCacheKey(e,n))}))()}invalidateAttemptData(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getAttemptDataCommonCacheKey(e))}))()}invalidateAttemptDataForPage(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getAttemptDataCacheKey(e,n))}))()}invalidateAttemptReview(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getAttemptReviewCommonCacheKey(e))}))()}invalidateAttemptReviewForPage(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getAttemptReviewCacheKey(e,n))}))()}invalidateAttemptSummary(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAttemptSummaryCacheKey(e))}))()}invalidateCombinedReviewOptions(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getCombinedReviewOptionsCommonCacheKey(e))}))()}invalidateCombinedReviewOptionsForUser(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(i.getCombinedReviewOptionsCacheKey(e,r||o.getUserId()))}))()}invalidateContent(e,n,r){var i=this;return(0,o.A)((function*(){r=r||f.CoreSites.getCurrentSiteId();const o=yield i.getQuiz(n,e,{readingStrategy:1,siteId:r}),s=yield i.getUserAttempts(o.id,{cmId:e,siteId:r}),a=s.length?s[s.length-1].id:void 0;yield i.invalidateAllQuizData(o.id,n,a,r)}))()}invalidateFeedback(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getFeedbackForGradeCommonCacheKey(e))}))()}invalidateFeedbackForGrade(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getFeedbackForGradeCacheKey(e,n))}))()}invalidateGradeFromGradebook(e,n,r){return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield c.CoreGradesHelper.invalidateGradeModuleItems(e,r||o.getUserId(),void 0,n)}))()}invalidateQuizAccessInformation(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getQuizAccessInformationCacheKey(e))}))()}invalidateQuizRequiredQtypes(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getQuizRequiredQtypesCacheKey(e))}))()}invalidateUserAttempts(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getUserAttemptsCommonCacheKey(e))}))()}invalidateUserAttemptsForUser(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(i.getUserAttemptsCacheKey(e,r||o.getUserId()))}))()}invalidateUserBestGrade(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getUserBestGradeCommonCacheKey(e))}))()}invalidateUserBestGradeForUser(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(i.getUserBestGradeCacheKey(e,r||o.getUserId()))}))()}invalidateQuizData(e,n){var r=this;return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getQuizDataCacheKey(e))}))()}isAttemptCompleted(e){return"finished"===e||"abandoned"===e}isAttemptFinishedOffline(e,n){return(0,o.A)((function*(){try{return!!(yield _.AddonModQuizOffline.getAttemptById(e,n)).finished}catch{return!1}}))()}isAttemptTimeNearlyOver(e,n){if("inprogress"!==n.state)return!0;const r=this.getAttemptDueDate(e,n),o=e.autosaveperiod||0;return r>0&&Date.now()+o>=r}isLastAttemptOfflineUnfinished(e,n,r){return(0,o.A)((function*(){try{const o=(yield _.AddonModQuizOffline.getQuizAttempts(e.id,n,r)).pop();return!!o&&!o.finished}catch{return!1}}))()}isNavigationSequential(e){return"sequential"===e.navmethod}isQuestionBlocked(e){return!!(0,g.B)(e.html).querySelector(".mod_quiz-blocked_question_warning")}isQuestionUnanswered(e){return!!e.stateclass&&(E.some((n=>n===e.stateclass))||I.some((n=>n===e.stateclass)))}isQuizOffline(e){var n;return!(!e.allowofflineattempts||this.isNavigationSequential(e)||null!==(n=f.CoreSites.getCurrentSite())&&void 0!==n&&n.isOfflineDisabled())}logViewAttempt(e,n=0,r={},i,s){return(0,o.A)((function*(){const o=yield f.CoreSites.getSite(s),a={attemptid:e,page:n,preflightdata:x.T.toArrayOfObjects(r,"name","value")},c=[];c.push(o.write("mod_quiz_view_attempt",a)),i&&c.push(_.AddonModQuizOffline.setAttemptCurrentPage(e,n,o.getId())),yield Promise.all(c)}))()}logViewAttemptReview(e,n,r){return a.CoreCourseLogHelper.log("mod_quiz_view_attempt_review",{attemptid:e},T.Ar,n,r)}logViewAttemptSummary(e,n,r,o){const i={attemptid:e,preflightdata:x.T.toArrayOfObjects(n,"name","value")};return a.CoreCourseLogHelper.log("mod_quiz_view_attempt_summary",i,T.Ar,r,o)}logViewQuiz(e,n){return a.CoreCourseLogHelper.log("mod_quiz_view_quiz",{quizid:e},T.Ar,e,n)}processAttempt(e,n,r,i,s,a,c,u){var p=this;return(0,o.A)((function*(){if(c)return p.processAttemptOffline(e,n,r,i,s,u);yield p.processAttemptOnline(n.id,r,i,s,a,u)}))()}processAttemptOnline(e,n,r,i,a,c){return(0,o.A)((function*(){var o;const u=yield f.CoreSites.getSite(c),p={attemptid:e,data:x.T.toArrayOfObjects(n,"name","value"),finishattempt:!!i,timeup:!!a,preflightdata:x.T.toArrayOfObjects(r,"name","value")},g=yield u.write("mod_quiz_process_attempt",p);if(null!==(o=g.warnings)&&void 0!==o&&o.length)throw new s.CoreWSError(g.warnings[0]);return g.state}))()}processAttemptOffline(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){const o=yield c.getAttemptSummary(n.id,i,{cmId:e.coursemodule,loadLocal:!0,readingStrategy:1,siteId:a}),u=F.R.toObject(o,"slot");return _.AddonModQuizOffline.processAttempt(e,n,u,r,s,a)}))()}quizHasGrades(e){var n,r;return(null!==(n=e.grade)&&void 0!==n?n:0)>=5e-6&&(null!==(r=e.sumgrades)&&void 0!==r?r:0)>=5e-6}rescaleGrade(e,n,r=!0){let o;const i="string"==typeof e?parseFloat(e):e;var s,a;null==i||isNaN(i)||(o=n.sumgrades&&n.sumgrades>=5e-6?i*(null!==(s=n.grade)&&void 0!==s?s:0)/n.sumgrades:0);if(null!=o)return"question"===r?this.formatGrade(o,this.getGradeDecimals(n)):r?this.formatGrade(o,null!==(a=n.decimalpoints)&&void 0!==a?a:1):String(o)}saveAttempt(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){try{if(s)return yield c.processAttemptOffline(e,n,r,i,!1,a);yield c.saveAttemptOnline(n.id,r,i,a)}catch(e){throw c.logger.error(e),e}}))()}saveAttemptOnline(e,n,r,a){return(0,o.A)((function*(){var o;const c=yield f.CoreSites.getSite(a),u={attemptid:e,data:x.T.toArrayOfObjects(n,"name","value"),preflightdata:x.T.toArrayOfObjects(r,"name","value")},p=yield c.write("mod_quiz_save_attempt",u);if(null!==(o=p.warnings)&&void 0!==o&&o.length)throw new s.CoreWSError(p.warnings[0]);if(!p.status)throw new i.CoreError("Cannot save data.")}))()}shouldShowTimeLeft(e,n,r){const o=v.j.timestamp();return"inprogress"===n.state&&A.AddonModQuizAccessRuleDelegate.shouldShowTimeLeft(e,n,r,o)}startAttempt(e,n,r,i){return(0,o.A)((function*(){var o;const a=yield f.CoreSites.getSite(i),c={quizid:e,preflightdata:x.T.toArrayOfObjects(n,"name","value"),forcenew:!!r},u=yield a.write("mod_quiz_start_attempt",c);if(null!==(o=u.warnings)&&void 0!==o&&o.length)throw new s.CoreWSError(u.warnings[0]);return u.attempt}))()}}return(e=AddonModQuizProvider).ROOT_CACHE_KEY="mmaModQuiz:",e.ɵfac=function AddonModQuizProvider_Factory(n){return new(n||e)},e.ɵprov=N.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQuizProvider})();const H=(0,b.Qd)(L)},37057:(e,n,r)=>{"use strict";r.d(n,{Bv:()=>i,NB:()=>a,Xi:()=>o,xV:()=>s});r(86123);const o="AddonModResource",i="mmaModResource",s="mod_resource",a="resource"},34890:(e,n,r)=>{"use strict";r.d(n,{j:()=>F});var o=r(10467),i=r(74431),s=r(75629),a=r(44682),c=r(94247),u=r(94455),p=r(88436),f=r(88793),g=r(52749),v=r(12364),C=r(79555),b=r(8756),w=r(85105),A=r(22693),_=r(75383),E=r(24742),I=r(37057),T=r(33014),P=r(25572),k=r(54438);let x=(()=>{var e;class AddonModResourceHelperProvider{getEmbeddedHtml(e){return(0,o.A)((function*(){const n=yield a.CoreCourse.getModuleContents(e),r=yield c.CoreCourseHelper.downloadModuleWithMainFileIfNeeded(e,e.course,I.Bv,e.id,n);return v.A.getEmbeddedHtml(n[0],r.path)}))()}getIframeSrc(e){return(0,o.A)((function*(){var n;if(null===(n=e.contents)||void 0===n||!n.length||void 0===e.url)throw new s.CoreError("No contents available in module");const r=e.contents[0];let o=r.filename;"/"!==r.filepath&&(o=r.filepath.substring(1)+o);try{const n=yield f.CoreFilepool.getPackageDirUrlByUrl(g.CoreSites.getCurrentSiteId(),e.url);return b.$.concatenatePaths(n,o)}catch(e){if(u.WE.isOnline()&&r.fileurl)return g.CoreSites.getRequiredCurrentSite().checkAndFixPluginfileURL(r.fileurl);throw e}}))()}isDisplayedEmbedded(e,n){var r;const o=g.CoreSites.getCurrentSite();if(o&&!o.isVersionGreaterEqualThan("3.7")&&this.isNextcloudFile(e))return!1;let i;if(e.contentsinfo)i=v.A.getExtension(e.contentsinfo.mimetypes[0]);else{if(null===(r=e.contents)||void 0===r||!r.length)return!1;i=v.A.getFileExtension(e.contents[0].filename)}return(1===n||0===n)&&v.A.canBeEmbedded(i)}isDisplayedInIframe(e){let n;if(e.contentsinfo)n=e.contentsinfo.mimetypes[0];else{if(!e.contents)return!1;{const r=v.A.getFileExtension(e.contents[0].filename);n=v.A.getMimeType(r)}}return"text/html"===n||"application/xhtml+xml"===n}isMainFileDownloadable(e,n){return(0,o.A)((function*(){const r=yield a.CoreCourse.getModuleContents(e);if(!r.length)throw new s.CoreError(C.HT.instant("core.filenotfound"));n=n||g.CoreSites.getCurrentSiteId();const o=r[0],i=p.CoreFileHelper.getFileTimemodified(o);return f.CoreFilepool.isFileDownloadable(n,o.fileurl,i)}))()}isNextcloudFile(e){return"contentsinfo"in e&&e.contentsinfo?"nextcloud"==e.contentsinfo.repositorytype:!(!e.contents||!e.contents[0]||"nextcloud"!=e.contents[0].repositorytype)}openModuleFile(e,n,r={}){return(0,o.A)((function*(){const o=yield T.CoreLoadings.show();try{yield c.CoreCourseHelper.downloadModuleAndOpenFile(e,n,I.Bv,e.id,e.contents,void 0,r);try{yield w.x.logView(e.instance,e.name),a.CoreCourse.checkModuleCompletion(n,e.completiondata)}catch{}A.OF.logEvent({type:A.qr.VIEW_ITEM,ws:"mod_resource_view_resource",name:e.name,data:{id:e.instance,category:"resource"},url:`/mod/resource/view.php?id=${e.id}`})}catch(e){P.CoreAlerts.showError(e,{default:C.HT.instant("addon.mod_resource.errorwhileloadingthecontent")})}finally{o.dismiss()}}))()}getModuleOptions(e,n){return(0,o.A)((function*(){var r;if(void 0!==e.customdata){const n=_.Ni.parseJSON(e.customdata);return _.Ni.unserialize("object"==typeof n?n.displayoptions:n)}const o=yield w.x.getResourceData(n,e.id),s=_.Ni.unserialize(o.displayoptions);if(null===(r=e.contents)||void 0===r||!r[0]||void 0!==s.filedetails)return s;s.filedetails={};const a=e.contents,c=a[0];if(s.showsize&&(s.filedetails.size=a.reduce(((e,n)=>e+(n.filesize||0)),0)),s.showtype&&(s.filedetails.type=v.A.getMimetypeDescription(c)),s.showdate){const e="timecreated"in c?c.timecreated:0;(c.timemodified||0)>e+5*i.CoreConstants.SECONDS_MINUTE?s.filedetails.modifieddate=c.timemodified||0:s.filedetails.uploadeddate=e}return s}))()}getAfterLinkDetails(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getModuleOptions(e,n);if(!o.filedetails)return"";const i=o.filedetails,s=[];return o.showsize&&i.size&&s.push(_.Ni.bytesToSize(i.size,1)),o.showtype&&(i.extension?s.push(i.extension):i.mimetype?s.push(v.A.getMimetypeDescription(i.mimetype)):i.type&&s.push(i.type)),o.showdate&&(i.modifieddate?s.push(C.HT.instant("addon.mod_resource.modifieddate",{$a:E.j.userDate(1e3*i.modifieddate,"core.strftimedatetimeshort")})):i.uploadeddate&&s.push(C.HT.instant("addon.mod_resource.uploadeddate",{$a:E.j.userDate(1e3*i.uploadeddate,"core.strftimedatetimeshort")}))),s.join(" · ")}))()}}return(e=AddonModResourceHelperProvider).ɵfac=function AddonModResourceHelperProvider_Factory(n){return new(n||e)},e.ɵprov=k.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModResourceHelperProvider})();const F=(0,C.Qd)(x)},85105:(e,n,r)=>{"use strict";r.d(n,{x:()=>w});var o=r(10467),i=r(44682),s=r(97254),a=r(88793),c=r(52749),u=r(55554),p=r(79555),f=r(37057),g=r(74431),v=r(95384),C=r(54438);let b=(()=>{var e;class AddonModResourceProvider{getResourceCacheKey(e){return`${AddonModResourceProvider.ROOT_CACHE_KEY}resource:${e}`}getResourceData(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r.siteId),s={courseids:[e]},a={cacheKey:i.getResourceCacheKey(e),updateFrequency:g.CoreCacheUpdateFrequency.RARELY,component:f.Bv,...c.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield o.read("mod_resource_get_resources_by_courses",s,a);return v.CoreCourseModuleHelper.getActivityByCmId(u.resources,n)}))()}invalidateContent(e,n,r){var s=this;return(0,o.A)((function*(){r=r||c.CoreSites.getCurrentSiteId();const o=[];o.push(s.invalidateResourceData(n,r)),o.push(a.CoreFilepool.invalidateFilesByComponent(r,f.Bv,e)),o.push(i.CoreCourse.invalidateModule(e,r,"resource")),yield u.g.allPromises(o)}))()}invalidateResourceData(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getResourceCacheKey(e))}))()}isPluginEnabled(e){return(0,o.A)((function*(){return(yield c.CoreSites.getSite(e)).canDownloadFiles()}))()}logView(e,n){return(0,o.A)((function*(){const r={resourceid:e};yield s.CoreCourseLogHelper.log("mod_resource_view_resource",r,f.Bv,e,n)}))()}}return(e=AddonModResourceProvider).ROOT_CACHE_KEY="mmaModResource:",e.ɵfac=function AddonModResourceProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModResourceProvider})();const w=(0,p.Qd)(b)},50891:(e,n,r)=>{"use strict";r.d(n,{Bm:()=>v,I7:()=>u,M2:()=>f,OI:()=>C,RL:()=>s,Rz:()=>i,T2:()=>a,UK:()=>p,b8:()=>c,lt:()=>g,xg:()=>b});var o=r(86123);const i="AddonModScorm",s="mmaModScorm",a="mod_scorm",c="scorm",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_scorm_launch_next_sco",f="addon_mod_scorm_launch_prev_sco",g="addon_mod_scorm_update_toc",v="addon_mod_scorm_go_offline",C="addon_mod_scorm_data_sent",b="addon_mod_scorm_autom_synced"},1823:(e,n,r)=>{"use strict";r.d(n,{Ws:()=>a,gr:()=>c,k_:()=>i,mu:()=>s,ud:()=>o});const o="addon_mod_scorm_offline_attempts",i=["scormid","userid","attempt"],s="addon_mod_scorm_offline_scos_tracks",a=["scormid","userid","attempt","scoid","element"],c={name:"AddonModScormOfflineProvider",version:1,tables:[{name:o,columns:[{name:"scormid",type:"INTEGER",notNull:!0},{name:"attempt",type:"INTEGER",notNull:!0},{name:"userid",type:"INTEGER",notNull:!0},{name:"courseid",type:"INTEGER"},{name:"timecreated",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"snapshot",type:"TEXT"}],primaryKeys:[...i]},{name:s,columns:[{name:"scormid",type:"INTEGER",notNull:!0},{name:"attempt",type:"INTEGER",notNull:!0},{name:"userid",type:"INTEGER",notNull:!0},{name:"scoid",type:"INTEGER",notNull:!0},{name:"element",type:"TEXT",notNull:!0},{name:"value",type:"TEXT"},{name:"timemodified",type:"INTEGER"},{name:"synced",type:"INTEGER"}],primaryKeys:[...a]}]}},60438:(e,n,r)=>{"use strict";r.d(n,{_:()=>E});var o=r(10467),i=r(75629),s=r(38911),a=r(44682),c=r(45507),u=r(88793),p=r(18022),f=r(52749),g=r(55554),v=r(79555),C=r(1717),b=r(98045),w=r(50891),A=r(54438);let _=(()=>{var e;class AddonModScormPrefetchHandlerService extends s.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModScorm",this.modName=w.b8,this.component=w.RL,this.updatesNames=/^configuration$|^.*files$|^tracks$/}download(e,n,r,o){return this.prefetchPackage(e,n,(r=>this.downloadOrPrefetchScorm(e,n,!0,!1,o,r)))}downloadOrPrefetchScorm(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){var r;const o=yield c.getScorm(e,n,a),p=c.getIntroFilesFromInstance(e,o);return yield Promise.all([c.downloadOrPrefetchMainFileIfNeeded(o,i,s,a),g.g.ignoreErrors(c.fetchWSData(o,a)),g.g.ignoreErrors(u.CoreFilepool.downloadOrPrefetchFiles(a,p,i,!1,c.component,e.id))]),null!==(r=o.sha1hash)&&void 0!==r?r:""}))()}downloadOrPrefetchMainFile(e,n,r,i){var s=this;return(0,o.A)((function*(){var o;i=i||f.CoreSites.getCurrentSiteId();const a=C.v.getPackageUrl(e),p=yield C.v.getScormFolder(null!==(o=e.moduleurl)&&void 0!==o?o:"");r&&r({message:"core.downloading"}),n?yield u.CoreFilepool.addToQueueByUrl(i,a,s.component,e.coursemodule,void 0,void 0,(e=>s.downloadProgress(!0,r,e))):yield u.CoreFilepool.downloadUrl(i,a,!0,s.component,e.coursemodule,void 0,(e=>s.downloadProgress(!0,r,e)));const v=yield u.CoreFilepool.getFilePathByUrl(i,a);r&&r({message:"core.unzipping"}),yield c.CoreFile.unzipFile(v,p,(e=>s.downloadProgress(!1,r,e))),yield g.g.ignoreErrors(u.CoreFilepool.removeFileByUrl(i,a))}))()}downloadOrPrefetchMainFileIfNeeded(e,n,r,s){var a=this;return(0,o.A)((function*(){if(s=s||f.CoreSites.getCurrentSiteId(),C.v.useOnlinePlayer(e))throw new i.CoreError("This SCORM cannot be downloaded.");(yield C.v.shouldDownloadMainFile(e,void 0,s))&&(yield a.downloadOrPrefetchMainFile(e,n,r,s))}))()}downloadProgress(e,n,r){n&&r&&r.loaded&&n({downloading:e,progress:r})}fetchWSData(e,n){var r=this;return(0,o.A)((function*(){n=n||f.CoreSites.getCurrentSiteId();const o={cmId:e.coursemodule,readingStrategy:2,siteId:n};yield Promise.all([r.fetchAttempts(e,o),C.v.getScos(e.id,o),C.v.getAccessInformation(e.id,o)])}))()}fetchAttempts(e,n){return(0,o.A)((function*(){const r=yield g.g.ignoreErrors(C.v.getAttemptCountOnline(e.id,n),0);if(r<=0)return yield C.v.getScormUserDataOnline(e.id,0,n),void 0;const o=[];for(let i=1;i<=r;i++)o.push(C.v.getScormUserDataOnline(e.id,i,n).catch((e=>{if(i==r)throw e})));yield Promise.all(o)}))()}getDownloadSize(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getScorm(e,n);if(C.v.useOnlinePlayer(o))return{size:-1,total:!1};if(o.packagesize)return{size:o.packagesize,total:!0};return{size:yield C.v.calculateScormSize(o),total:!0}}))()}getDownloadedSize(e,n){var r=this;return(0,o.A)((function*(){var o;const i=yield r.getScorm(e,n),s=yield C.v.getScormFolder(null!==(o=i.moduleurl)&&void 0!==o?o:"");return c.CoreFile.getDirectorySize(s)}))()}getFiles(e,n){var r=this;return(0,o.A)((function*(){try{const o=yield r.getScorm(e,n);return C.v.getScormFileList(o)}catch{return[]}}))()}getScorm(e,n,r){return(0,o.A)((function*(){let o="url"in e?e.url:void 0;return o||(o=(e=yield a.CoreCourse.getModule(e.id,e.course,void 0,!0,!1,r)).url),C.v.getScorm(n,e.id,{moduleUrl:o,siteId:r})}))()}invalidateContent(e,n){return C.v.invalidateContent(e,n)}invalidateModule(e,n){return C.v.invalidateScormData(n)}isDownloadable(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getScorm(e,n);return!o.warningMessage&&!C.v.useOnlinePlayer(o)}))()}prefetch(e,n,r,o,i){return this.prefetchPackage(e,n,(o=>this.downloadOrPrefetchScorm(e,n,!!r,!0,i,o)))}removeFiles(e,n){var r=this;return(0,o.A)((function*(){var o;const i=f.CoreSites.getCurrentSiteId(),s=yield r.getScorm(e,n,i),a=yield C.v.getScormFolder(null!==(o=s.moduleurl)&&void 0!==o?o:""),g=[];g.push(c.CoreFile.removeDir(a).catch((e=>{if(!e||1!=e.code&&p.CorePlatform.isMobile())throw e}))),g.push(u.CoreFilepool.removeFilesByComponent(i,r.component,e.id)),yield Promise.all(g)}))()}sync(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.getScorm(e,n,r);return b.S.syncScorm(o,r)}))()}}return(e=AddonModScormPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModScormPrefetchHandlerService_Factory(r){return(n||(n=A.xGo(e)))(r||e)}})(),e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormPrefetchHandlerService})();const E=(0,v.Qd)(_)},85387:(e,n,r)=>{"use strict";r.d(n,{o:()=>T});var o=r(10467),i=r(98870),s=r(52749),a=r(48966),c=r(75383),u=r(24742),p=r(81690),f=r(79555),g=r(6787),v=r(1823),C=r(49833),b=r(89312),w=r(71689),A=r(50891),_=r(55554),E=r(54438);let I=(()=>{var e;class AddonModScormOfflineProvider{constructor(){this.logger=g.CoreLogger.getInstance("AddonModScormOfflineProvider"),this.tracksTables=(0,C.$)((e=>(0,b.A)((()=>s.CoreSites.getSiteTable(v.mu,{siteId:e,primaryKeyColumns:[...v.Ws],rowIdColumn:null,config:{cachingStrategy:w.T.None},onDestroy:()=>delete this.tracksTables[e]}))))),this.attemptsTables=(0,C.$)((e=>(0,b.A)((()=>s.CoreSites.getSiteTable(v.ud,{siteId:e,primaryKeyColumns:[...v.k_],rowIdColumn:null,config:{cachingStrategy:w.T.None},onDestroy:()=>delete this.tracksTables[e]})))))}changeAttemptNumber(e,n,r,i,c){var p=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);c=c||o.getUserId(),p.logger.debug(`Change attempt number from ${n} to ${r} in SCORM ${e}`),a.CoreSync.blockOperation(A.Rz,e,"changeAttemptNumber",o.id);try{const i={sql:"scormid = ? AND userid = ? AND attempt = ?",sqlParams:[e,c,n],js:r=>r.scormid===e&&r.userid===c&&r.attempt===n};yield p.attemptsTables[o.id].updateWhere({attempt:r,timemodified:u.j.timestamp()},i);try{yield p.tracksTables[o.id].updateWhere({attempt:r,synced:0},i)}catch(i){throw yield p.attemptsTables[o.id].updateWhere({attempt:n},{sql:"scormid = ? AND userid = ? AND attempt = ?",sqlParams:[e,c,r],js:n=>n.scormid===e&&n.userid===c&&n.attempt===r}),i}}finally{a.CoreSync.unblockOperation(A.Rz,e,"changeAttemptNumber",o.id)}}))()}createNewAttempt(e,n,r,i,c,p){var f=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(c);p=p||o.getUserId(),f.logger.debug(`Creating new offline attempt ${n} in SCORM ${e.id}`),a.CoreSync.blockOperation(A.Rz,e.id,"createNewAttempt",o.id);const g={scormid:e.id,userid:p,attempt:n,courseid:e.course,timecreated:u.j.timestamp(),timemodified:u.j.timestamp(),snapshot:null};i&&(g.snapshot=JSON.stringify(f.removeDefaultData(i)));try{yield f.attemptsTables[o.id].insert(g);const i=[];for(const s in r){const a=r[s],c=[];for(const e in a.userdata)c.push({element:e,value:a.userdata[e]});i.push(f.saveTracks(e,a.scoid,n,c,r,o.id,p))}yield Promise.all(i)}finally{a.CoreSync.unblockOperation(A.Rz,e.id,"createNewAttempt",o.id)}}))()}deleteAttempt(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);i=i||o.getUserId(),a.logger.debug(`Delete offline attempt ${n} in SCORM ${e}`);const c={scormid:e,userid:i,attempt:n};yield Promise.all([a.attemptsTables[o.id].delete(c),a.tracksTables[o.id].delete(c)])}))()}formatInteractions(e){const n={score_raw:"",status:"",total_time:"00:00:00",session_time:"00:00:00"};for(const r in e){let o=e[r];if("score_raw"!=r&&"status"!=r&&"total_time"!=r&&"session_time"!=r)switch(n[r]=o,r){case"cmi.core.lesson_status":case"cmi.completion_status":"not attempted"==o&&(o="notattempted"),n.status=o;break;case"cmi.core.score.raw":case"cmi.score.raw":n.score_raw=c.Ni.roundToDecimals(Number(o),2);break;case"cmi.core.session_time":case"cmi.session_time":n.session_time=o;break;case"cmi.core.total_time":case"cmi.total_time":n.total_time=o}}return n}getAllAttempts(e){var n=this;return(0,o.A)((function*(){null!=e?e:e=s.CoreSites.getCurrentSiteId();return(yield n.attemptsTables[e].getMany()).map((e=>n.parseAttempt(e)))}))()}getAttempt(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);i=i||o.getUserId();const c=yield a.attemptsTables[o.id].getOneByPrimaryKey({scormid:e,userid:i,attempt:n});return a.parseAttempt(c)}))()}getAttemptCreationTime(e,n,r,i){var s=this;return(0,o.A)((function*(){try{return(yield s.getAttempt(e,n,r,i)).timecreated}catch{return}}))()}getAttempts(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);r=r||o.getUserId();return(yield i.attemptsTables[o.id].getMany({scormid:e,userid:r})).map((e=>i.parseAttempt(e)))}))()}getAttemptSnapshot(e,n,r,i){var s=this;return(0,o.A)((function*(){try{return(yield s.getAttempt(e,n,r,i)).snapshot||void 0}catch{return}}))()}getLaunchUrlsFromScos(e){const n={};return(e=e||[]).forEach((e=>{n[e.id]=e.launch})),n}getScormStoredData(e,n,r,i,a,c){var u=this;return(0,o.A)((function*(){if(r&&i)return[];const o=yield s.CoreSites.getSite(a);c=c||o.getUserId();const p={scormid:e,userid:c,attempt:n};r?p.synced=0:i&&(p.synced=1);const f=yield u.tracksTables[o.id].getMany(p);return u.parseTracks(f)}))()}getScormUserData(e,n,r,a,c){var u=this;return(0,o.A)((function*(){r=r||[];let o="",p="";const f=yield s.CoreSites.getSite(a);if((c=c||f.getUserId())==f.getUserId()){var g,v;o=(null===(g=f.getInfo())||void 0===g?void 0:g.fullname)||"",p=(null===(v=f.getInfo())||void 0===v?void 0:v.username)||""}else{const e=yield _.g.ignoreErrors(i.CoreUser.getProfile(c));o=(null==e?void 0:e.fullname)||"",p=(null==e?void 0:e.username)||""}const C=yield u.getScormStoredData(e,n,!1,!1,a,c),b={},w=u.getLaunchUrlsFromScos(r);C.forEach((e=>{var n;const r=e.scoid;b[r]||(b[r]={scoid:r,userdata:{userid:null!=c?c:f.getUserId(),scoid:r,timemodified:0},defaultdata:{}}),b[r].userdata[e.element]=null!==(n=e.value)&&void 0!==n?n:"",e.timemodified>Number(b[r].userdata.timemodified)&&(b[r].userdata.timemodified=e.timemodified)}));for(const e in b){const n=b[e];n.userdata=u.formatInteractions(n.userdata)}r.forEach((e=>{b[e.id]||(b[e.id]={scoid:e.id,userdata:{status:"",score_raw:""},defaultdata:{}})}));for(const e in b){const n=b[e];n.defaultdata={},n.defaultdata["cmi.core.student_id"]=p,n.defaultdata["cmi.core.student_name"]=o,n.defaultdata["cmi.core.lesson_mode"]="normal",n.defaultdata["cmi.core.credit"]="credit",n.defaultdata["cmi.core.entry"]=""===n.userdata.status?"ab-initio":"suspend"===n.userdata["cmi.core.exit"]?"resume":"",n.defaultdata["cmi.student_data.mastery_score"]=u.scormIsset(n.userdata,"masteryscore"),n.defaultdata["cmi.student_data.max_time_allowed"]=u.scormIsset(n.userdata,"max_time_allowed"),n.defaultdata["cmi.student_data.time_limit_action"]=u.scormIsset(n.userdata,"time_limit_action"),n.defaultdata["cmi.core.total_time"]=u.scormIsset(n.userdata,"cmi.core.total_time","00:00:00"),n.defaultdata["cmi.launch_data"]=w[n.scoid],n.defaultdata["cmi.core.lesson_location"]=u.scormIsset(n.userdata,"cmi.core.lesson_location"),n.defaultdata["cmi.core.lesson_status"]=u.scormIsset(n.userdata,"cmi.core.lesson_status"),n.defaultdata["cmi.core.score.raw"]=u.scormIsset(n.userdata,"cmi.core.score.raw"),n.defaultdata["cmi.core.score.max"]=u.scormIsset(n.userdata,"cmi.core.score.max"),n.defaultdata["cmi.core.score.min"]=u.scormIsset(n.userdata,"cmi.core.score.min"),n.defaultdata["cmi.core.exit"]=u.scormIsset(n.userdata,"cmi.core.exit"),n.defaultdata["cmi.suspend_data"]=u.scormIsset(n.userdata,"cmi.suspend_data"),n.defaultdata["cmi.comments"]=u.scormIsset(n.userdata,"cmi.comments"),n.defaultdata["cmi.student_preference.language"]=u.scormIsset(n.userdata,"cmi.student_preference.language"),n.defaultdata["cmi.student_preference.audio"]=u.scormIsset(n.userdata,"cmi.student_preference.audio","0"),n.defaultdata["cmi.student_preference.speed"]=u.scormIsset(n.userdata,"cmi.student_preference.speed","0"),n.defaultdata["cmi.student_preference.text"]=u.scormIsset(n.userdata,"cmi.student_preference.text","0"),n.userdata.student_id=p,n.userdata.student_name=o,n.userdata.mode=n.defaultdata["cmi.core.lesson_mode"],n.userdata.credit=n.defaultdata["cmi.core.credit"],n.userdata.entry=n.defaultdata["cmi.core.entry"]}return b}))()}insertTrack(e,n,r,i,a,c,p,f,g){var v=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(f);g=g||o.getUserId();const C=(null==p?void 0:p.userdata)||{};let b=!1;if(c&&("cmi.core.lesson_status"==i&&"incomplete"==a&&C["cmi.core.score.raw"]&&(a="completed"),"cmi.core.score.raw"==i&&"incomplete"==C["cmi.core.lesson_status"]&&(b=!0,yield v.tracksTables[o.id].insert({userid:g,scormid:e,scoid:n,attempt:r,element:"cmi.core.lesson_status",value:JSON.stringify("completed"),timemodified:u.j.timestamp(),synced:0}))),!C[i]||"x.start.time"!=i)try{yield v.tracksTables[o.id].insert({userid:g,scormid:e,scoid:n,attempt:r,element:i,value:void 0===a?null:JSON.stringify(a),timemodified:u.j.timestamp(),synced:0})}catch(i){throw b&&(yield v.tracksTables[o.id].insert({userid:g,scormid:e,scoid:n,attempt:r,element:"cmi.core.lesson_status",value:JSON.stringify("incomplete"),timemodified:u.j.timestamp(),synced:0})),i}}))()}insertTrackSync(e,n,r,o,i,a,c,p){if(p=p||s.CoreSites.getCurrentSiteUserId(),!s.CoreSites.isLoggedIn())return!1;const f=(null==c?void 0:c.userdata)||{},g=s.CoreSites.getRequiredCurrentSite().id;return a&&("cmi.core.lesson_status"==o&&"incomplete"==i&&f["cmi.core.score.raw"]&&(i="completed"),"cmi.core.score.raw"==o&&"incomplete"==f["cmi.core.lesson_status"]&&this.tracksTables[g].syncInsert({userid:p,scormid:e,scoid:n,attempt:r,element:"cmi.core.lesson_status",value:JSON.stringify("completed"),timemodified:u.j.timestamp(),synced:0})),f[o]&&"x.start.time"==o||this.tracksTables[g].syncInsert({userid:p,scormid:e,scoid:n,attempt:r,element:o,value:void 0===i?null:JSON.stringify(i),timemodified:u.j.timestamp(),synced:0}),!0}markAsSynced(e,n,r,i,a){var c=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);a=a||o.getUserId(),c.logger.debug(`Mark SCO ${r} as synced for attempt ${n} in SCORM ${e}`),yield c.tracksTables[o.id].update({synced:1},{scormid:e,userid:a,attempt:n,scoid:r,synced:0})}))()}parseAttempt(e){return{...e,snapshot:e.snapshot?c.Ni.parseJSON(e.snapshot):null}}parseTracks(e){return e.map((e=>({...e,value:e.value?c.Ni.parseJSON(e.value):null})))}removeDefaultData(e){const n=p.j.clone(e);for(const e in n)n[e].defaultdata={};return n}saveTracks(e,n,r,i,c,u,p){var f=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(u);p=p||o.getUserId(),a.CoreSync.blockOperation(A.Rz,e.id,"saveTracksOffline",u);try{yield Promise.all(i.map((o=>f.insertTrack(e.id,n,r,o.element,o.value,e.forcecompleted,c[n],u,p))))}finally{a.CoreSync.unblockOperation(A.Rz,e.id,"saveTracksOffline",u)}}))()}saveTracksSync(e,n,r,o,i,a){a=a||s.CoreSites.getCurrentSiteUserId();let c=!0;return o.forEach((o=>{const s=this.insertTrackSync(e.id,n,r,o.element,o.value,e.forcecompleted,i[n],a);c=c&&s})),c}scormIsset(e,n,r=""){return void 0!==e[n]?e[n]:r}setAttemptSnapshot(e,n,r,i,a){var c=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);a=a||o.getUserId(),c.logger.debug(`Set snapshot for attempt ${n} in SCORM ${e}`);const p={timemodified:u.j.timestamp(),snapshot:JSON.stringify(c.removeDefaultData(r))};yield c.attemptsTables[o.id].updateWhere(p,{sql:"scormid = ? AND userid = ? AND attempt = ?",sqlParams:[e,a,n],js:r=>r.scormid===e&&r.userid===a&&r.attempt===n})}))()}}return(e=AddonModScormOfflineProvider).ɵfac=function AddonModScormOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormOfflineProvider})();const T=(0,f.Qd)(I)},98045:(e,n,r)=>{"use strict";r.d(n,{S:()=>E});var o=r(10467),i=r(75629),s=r(37690),a=r(44682),c=r(97254),u=r(52749),p=r(48966),f=r(55554),g=r(79555),v=r(49882),C=r(1717),b=r(85387),w=r(50891),A=r(54438);let _=(()=>{var e;class AddonModScormSyncProvider extends s.L{constructor(){super("AddonModScormSyncProvider"),this.componentTranslatableString="scorm"}addToNewOrDelete(e,n,r,i,s,a,c,u,p){var v=this;return(0,o.A)((function*(){if(n==r)return i.push(n),void 0;const o=yield b.o.getAttemptCreationTime(e,n,p);if(!o||o<=a)return i.push(n),void 0;c?(v.logger.debug(`Try to delete attempt ${n} because it cannot be created as a new attempt.`),yield f.g.ignoreErrors(b.o.deleteAttempt(e,n,p)),u.push(g.HT.instant("addon.mod_scorm.warningofflinedatadeleted",{number:n}))):s[o]=n}))()}canRetrySync(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=r!=n,c=yield C.v.getScormUserData(e,n,{cmId:i,readingStrategy:o?2:void 0,siteId:s}),u=yield b.o.getAttemptSnapshot(e,n,s);return!!(u&&Object.keys(u).length&&a.snapshotEquals(u,c))}))()}createNewAttemptsAtEnd(e,n,r,i){return(0,o.A)((function*(){const o=Object.keys(n).sort();o.length&&(yield f.g.allPromises(o.map(((o,s)=>b.o.changeAttemptNumber(e,n[o],r+s+1,i)))))}))()}finishSync(e,n,r,i,s,c,u){var p=this;return(0,o.A)((function*(){const o={warnings:r,attemptFinished:!1,updated:!!u};if(u)try{const r=yield a.CoreCourse.getModuleBasicInfoByInstance(n.id,w.b8,{siteId:e});yield p.prefetchModuleAfterUpdate(r,n.course,void 0,e)}catch{}if(yield f.g.ignoreErrors(p.setSyncTime(n.id,e)),!c)return o;if((yield C.v.getAttemptCount(n.id,{cmId:n.coursemodule,siteId:e})).online.length>c.online.length)o.attemptFinished=!0;else if(!s&&i){const r=yield C.v.isAttemptIncomplete(n.id,i,{cmId:n.coursemodule,readingStrategy:2,siteId:e});o.attemptFinished=!r}return o}))()}getOfflineAttemptData(e,n,r,i){return(0,o.A)((function*(){return{incomplete:yield C.v.isAttemptIncomplete(e,n,{offline:!0,cmId:r,siteId:i}),timecreated:yield b.o.getAttemptCreationTime(e,n,i)}}))()}moveNewAttempts(e,n,r,i,s,a){return(0,o.A)((function*(){if(!n.length)return;let c;try{s=s.sort(((e,n)=>Number(e)<=Number(n)?1:-1));for(const r in s){const o=s[r];if(o>i){const r=o+n.length;yield b.o.changeAttemptNumber(e,o,r,a),c=o}}const u=[];try{n=n.sort(((e,n)=>Number(e)>=Number(n)?1:-1)),yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n,o){const i=r+o+1;yield b.o.changeAttemptNumber(e,n,i,a),u.push(n)}));return function(e,r){return n.apply(this,arguments)}}()))}catch(o){throw yield f.g.allPromises(u.map((o=>{const i=r+n.indexOf(o)+1;return b.o.changeAttemptNumber(e,i,o,a)}))),o}}catch(r){if(!c)throw r;for(let r=c;-1!=s.indexOf(r);r++)yield b.o.changeAttemptNumber(e,r+n.length,r,a);throw r}}))()}saveSyncSnapshot(e,n,r,i){return(0,o.A)((function*(){let o;try{o=yield C.v.getScormUserData(e,n,{cmId:r,readingStrategy:2,siteId:i})}catch{o=yield f.g.ignoreErrors(C.v.getScormUserData(e,n,{cmId:r,siteId:i}),{});(yield b.o.getScormStoredData(e,n,!1,!0,i)).forEach((e=>{o[e.scoid]||(o[e.scoid]={scoid:e.scoid,userdata:{},defaultdata:{}}),o[e.scoid].userdata[e.element]=e.value||""}))}return b.o.setAttemptSnapshot(e,n,o,i)}))()}snapshotEquals(e,n){for(const r in n){const o=n[r],i=e[r];for(const e in o.userdata)if(e.indexOf(".")>-1&&(!i||o.userdata[e]!==i.userdata[e]))return!1}for(const r in e){const o=n[r],i=e[r];for(const e in i.userdata)if(e.indexOf(".")>-1&&(!o||o.userdata[e]!==i.userdata[e]))return!1}return!0}syncAllScorms(e,n){return this.syncOnSites("all SCORMs",(e=>this.syncAllScormsFunc(!!n,e)),e)}syncAllScormsFunc(e,n){var r=this;return(0,o.A)((function*(){const i=yield b.o.getAllAttempts(n),s={};yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){if(s[o.scormid]||p.CoreSync.isBlocked(w.Rz,o.scormid,n))return;s[o.scormid]=!0;const i=yield C.v.getScormById(o.courseid,o.scormid,{siteId:n}),a=e?yield r.syncScorm(i,n):yield r.syncScormIfNeeded(i,n);void 0!==a&&v.z.trigger(w.xg,{scormId:i.id,attemptFinished:a.attemptFinished,warnings:a.warnings,updated:a.updated},n)}));return function(e){return i.apply(this,arguments)}}()))}))()}syncAttempt(e,n,r,i){var s=this;return(0,o.A)((function*(){i=i||u.CoreSites.getCurrentSiteId(),s.logger.debug(`Try to sync attempt ${n} in SCORM ${e} and site ${i}`);const a=yield b.o.getScormStoredData(e,n,!0,!1,i),c={};let p=!1;a.forEach((e=>{e.element.indexOf(".")>-1&&(c[e.scoid]||(c[e.scoid]=[]),c[e.scoid].push({element:e.element,value:e.value||""}))}));try{const r=Object.entries(c).map(function(){var r=(0,o.A)((function*([r,o]){const s=Number(r);yield C.v.saveTracksOnline(e,s,n,o,i),yield f.g.ignoreErrors(b.o.markAsSynced(e,n,s,i)),p=!0}));return function(e){return r.apply(this,arguments)}}());yield f.g.allPromises(r)}catch(o){throw p?(s.logger.error(`Error synchronizing some SCOs for attempt ${n} in SCORM ${e}. Saving snapshot.`),yield s.saveSyncSnapshot(e,n,r,i)):s.logger.error(`Error synchronizing attempt ${n} in SCORM ${e}`),o}yield f.g.ignoreErrors(b.o.deleteAttempt(e,n,i))}))()}syncScormIfNeeded(e,n){var r=this;return(0,o.A)((function*(){if(yield r.isSyncNeeded(e.id,n))return r.syncScorm(e,n)}))()}syncScorm(e,n){n=n||u.CoreSites.getCurrentSiteId();const r=this.getOngoingSync(e.id,n);if(r)return r;if(p.CoreSync.isBlocked(w.Rz,e.id,n))throw this.logger.debug(`Cannot sync SCORM ${e.id} because it is blocked.`),new i.CoreError(g.HT.instant("core.errorsyncblocked",{$a:this.componentTranslate}));this.logger.debug(`Try to sync SCORM ${e.id} in site ${n}`);const o=this.performSyncScorm(e,n);return this.addOngoingSync(e.id,o,n)}performSyncScorm(e,n){var r=this;return(0,o.A)((function*(){let i=[],s=0,a=!1;yield f.g.ignoreErrors(c.CoreCourseLogHelper.syncActivity(w.RL,e.id,n));const u=yield C.v.getAttemptCount(e.id,{cmId:e.coursemodule,readingStrategy:2,siteId:n});if(!u.offline||!u.offline.length)return r.finishSync(n,e,i,s,a);const p=u,v=[];u.online.forEach((e=>{s=Math.max(s,e),u.offline.indexOf(e)>-1&&v.push(e)}));let A=!(s<=0)&&(yield C.v.isAttemptIncomplete(e.id,s,{cmId:e.coursemodule,readingStrategy:2,siteId:n}));if(a=!A,!v.length)return A?(i.push(g.HT.instant("addon.mod_scorm.warningsynconlineincomplete")),r.finishSync(n,e,i,s,a,p,!1)):(yield Promise.all(u.offline.map(function(){var i=(0,o.A)((function*(o){(!e.maxattempt||o<=e.maxattempt)&&(yield r.syncAttempt(e.id,o,e.coursemodule,n))}));return function(e){return i.apply(this,arguments)}}())),r.finishSync(n,e,i,s,a,p,!0));i=yield r.treatCollisions(e.id,v,s,u.offline,e.coursemodule,n);const _=yield b.o.getAttempts(e.id,n);let E=!1;const I=_.map((e=>e.attempt));return A&&I.indexOf(s)>-1&&(A=!1),yield Promise.all(I.map(function(){var i=(0,o.A)((function*(o){!A||o<=s?(!e.maxattempt||o<=e.maxattempt)&&(yield r.syncAttempt(e.id,o,e.coursemodule,n)):E=!0}));return function(e){return i.apply(this,arguments)}}())),E&&i.push(g.HT.instant("addon.mod_scorm.warningsynconlineincomplete")),r.finishSync(n,e,i,s,a,p,!0)}))()}treatCollisions(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){const u=[],p=[],g={},v=Math.max.apply(Math,n);let w=Math.max.apply(Math,i);const A=yield c.getOfflineAttemptData(e,w,s,a),_=n.map(function(){var n=(0,o.A)((function*(n){if((yield b.o.getScormStoredData(e,n,!1,!0,a)).length){if(!(yield b.o.getScormStoredData(e,n,!0,!1,a)).find((e=>e.element.indexOf(".")>-1)))return f.g.ignoreErrors(b.o.deleteAttempt(e,n,a));var o;if(!(yield c.canRetrySync(e,n,r,s,a)))return c.addToNewOrDelete(e,n,w,p,g,null!==(o=A.timecreated)&&void 0!==o?o:0,A.incomplete,u,a)}else{const o=yield b.o.getAttemptSnapshot(e,n,a);if(!o||!Object.keys(o).length)return p.push(n),void 0;const f=r!=n,v=yield C.v.getScormUserData(e,n,{cmId:s,readingStrategy:f?2:void 0,siteId:a});var i;if(!c.snapshotEquals(o,v))return c.addToNewOrDelete(e,n,w,p,g,null!==(i=A.timecreated)&&void 0!==i?i:0,A.incomplete,u,a)}}));return function(e){return n.apply(this,arguments)}}());return yield Promise.all(_),yield c.moveNewAttempts(e,p,r,v,i,a),w+=p.length,yield c.createNewAttemptsAtEnd(e,g,w,a),u}))()}}return(e=AddonModScormSyncProvider).ɵfac=function AddonModScormSyncProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormSyncProvider})();const E=(0,g.Qd)(_)},1717:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>AddonModScorm});var C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(10467),_core_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(74431),_features_course_services_log_helper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(97254),_services_filepool__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(88793),_services_sites__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(52749),_services_sync__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(48966),_singletons_text__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75383),_singletons_time__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24742),_singletons_url__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8014),_singletons_object__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(58364),_services_ws__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(99121),_singletons__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(79555),_singletons_events__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(49882),_singletons_path__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(8756),_scorm_offline__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(85387),_constants__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(50891),_singletons_promise_utils__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(55554),_features_course_services_course_module_helper__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(95384),_angular_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(54438);const VALID_STATUSES=["notattempted","passed","completed","failed","incomplete","browsed","suspend"],STATUSES={passed:"passed",completed:"completed",failed:"failed",incomplete:"incomplete",browsed:"browsed","not attempted":"notattempted",p:"passed",c:"completed",f:"failed",i:"incomplete",b:"browsed",n:"notattempted"},STATUS_TO_ICON={asset:"",browsed:"moodle-browsed",completed:"fas-check",failed:"fas-xmark",incomplete:"fas-pen-to-square",notattempted:"far-square",passed:"fas-check-double",suspend:"fas-pause"};let AddonModScormProvider=(()=>{var _AddonModScormProvider;class AddonModScormProvider{calculateScormGrade(e,n){if(!n||!Object.keys(n).length)return-1;switch(e.whatgrade){case 2:return n[1]?n[1].score:-1;case 3:{let e=0;for(const r in n)n[r].hasCompletedPassedSCO&&(e=Math.max(n[r].num,e));return e>0?n[e].score:n[1]?n[1].score:-1}case 0:{let e=0;for(const r in n)e=Math.max(n[r].score,e);return e}case 1:{let e=0,r=0;for(const o in n)e+=n[o].score,r++;return Math.round(e/r)}default:return-1}}calculateScormSize(e){var n=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){return e.packagesize?e.packagesize:_services_ws__WEBPACK_IMPORTED_MODULE_8__.CoreWS.getRemoteFileSize(n.getPackageUrl(e))}))()}countAttemptsLeft(e,n){return e.maxattempt?(n=Number(n),isNaN(n)?-1:Math.max(e.maxattempt-n,0)):Number.MAX_VALUE}determineAttemptAndMode(e,n,r,o,i,s=!0){if(!s)return{mode:e.hidebrowse?"normal":n,attempt:r,newAttempt:!1};if("browse"==n){if(!e.hidebrowse)return 0==r&&(r=1,o=!0),{mode:n,attempt:r,newAttempt:!!o};n="normal"}return 2===e.forcenewattempt?{mode:"normal",attempt:r+1,newAttempt:!0}:(0==r?o=!0:i?o=!1:e.forcenewattempt&&(o=!0),o&&(!e.maxattempt||r<e.maxattempt)?(r++,n="normal"):n=i?"normal":"review",{mode:n,attempt:r,newAttempt:!!o})}displayTocInPlayer(e){return 3!==e.hidetoc}evalPrerequisites(prerequisites,trackData){const stack=[];prerequisites=prerequisites.replace(/&amp;/gi,"&"),prerequisites=prerequisites.replace(/(&|\||\(|\)|~)/gi,"\t$1\t"),prerequisites=prerequisites.replace(/&/gi,"&&"),prerequisites=prerequisites.replace(/\|/gi,"||");const elements=prerequisites.trim().split("\t");return elements.forEach((e=>{if(e=e.trim()){if(!e.match(/^(&&|\|\||\(|\))$/gi)){const o=/^(.+)(=|<>)(.+)$/,i=e.match(/^(\d+)\*\{(.+)\}$/);if(i){const n=Number(i[1]),r=i[2].split(",")||[];let o=0;r.forEach((e=>{e=e.trim(),void 0===trackData[e]||"completed"!=trackData[e].status&&"passed"!=trackData[e].status||o++})),e=o>=n?"true":"false"}else if("~"==e)e="!";else if(o.test(e)){var n,r;const i=null!==(n=e.match(o))&&void 0!==n?n:[];if(e=null===(r=i[1])||void 0===r?void 0:r.trim(),void 0!==trackData[e]){let n,r=i[3].trim().replace(/('|")/gi,"");void 0!==STATUSES[r]&&(r=STATUSES[r]),n="<>"==i[2]?"!=":"==",e=`('${trackData[e].status}' ${n} '${r}')`}else e="false"}else e=void 0===trackData[e]||"completed"!=trackData[e].status&&"passed"!=trackData[e].status?"false":"true"}stack.push(` ${e} `)}})),eval(`${stack.join("")};`)}formatGrade(e,n){return void 0===n||-1==n?_singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("core.none"):0!==e.grademethod&&e.maxgrade?_singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("core.percentagenumber",{$a:_singletons_text__WEBPACK_IMPORTED_MODULE_5__.Ni.roundToDecimals(n=n/e.maxgrade*100,2)}):String(n)}formatTocToArray(e,n=0){if(!e||!e.length)return[];let r=[];return e.forEach((e=>{const o=e;o.level=n,r.push(o),r=r.concat(this.formatTocToArray(e.children,n+1))})),r}getAccessInformation(e,n={}){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n.siteId);if(!o.wsAvailable("mod_scorm_get_scorm_access_information"))return{};const i={scormid:e},s={cacheKey:r.getAccessInformationCacheKey(e),component:_constants__WEBPACK_IMPORTED_MODULE_13__.RL,componentId:n.cmId,..._services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.read("mod_scorm_get_scorm_access_information",i,s)}))()}getAccessInformationCacheKey(e){return`${AddonModScormProvider.ROOT_CACHE_KEY}accessInfo:${e}`}getAttemptCount(e,n={}){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){n.siteId=n.siteId||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId();const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n.siteId),i=n.userId||o.getUserId(),[s,a]=yield Promise.all([r.getAttemptCountOnline(e,n),_scorm_offline__WEBPACK_IMPORTED_MODULE_12__.o.getAttempts(e,n.siteId,i)]),c={online:[],offline:[],total:s,lastAttempt:{num:s,offline:!1}};for(let e=1;e<=s;e++)c.online.push(e);return c.offline=a.map((e=>(e.attempt>=c.lastAttempt.num&&(c.lastAttempt.num=e.attempt,c.lastAttempt.offline=!0),e.attempt))),c.offline.forEach((e=>{-1==c.online.indexOf(e)&&c.total++})),c}))()}getAttemptCountCacheKey(e,n){return`${AddonModScormProvider.ROOT_CACHE_KEY}attemptcount:${e}:${n}`}getAttemptCountOnline(e,n={}){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n.siteId),i=n.userId||o.getUserId(),s={scormid:e,userid:i,ignoremissingcompletion:n.ignoreMissing},a={cacheKey:r.getAttemptCountCacheKey(e,i),updateFrequency:_core_constants__WEBPACK_IMPORTED_MODULE_0__.CoreCacheUpdateFrequency.SOMETIMES,component:_constants__WEBPACK_IMPORTED_MODULE_13__.RL,componentId:n.cmId,..._services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return(yield o.read("mod_scorm_get_scorm_attempt_count",s,a)).attemptscount}))()}getAttemptGrade(e,n,r,o){var i=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const s={scos:0,values:0,max:0,sum:0},a=yield i.getScormUserData(e.id,n,{offline:r,cmId:e.coursemodule,siteId:o});for(const n in a){const r=a[n].userdata;if("completed"!=r.status&&"passed"!=r.status||s.scos++,r.score_raw||void 0!==e.scormtype&&"sco"==e.scormtype&&void 0!==r.score_raw){const e=parseFloat(r.score_raw);s.values++,s.sum+=e,s.max=Math.max(e,s.max)}}let c=0;switch(e.grademethod){case 1:default:c=s.max;break;case 2:c=s.values>0?s.sum/s.values:0;break;case 3:c=s.sum;break;case 0:c=s.scos}return{num:n,score:c,hasCompletedPassedSCO:s.scos>0}}))()}getOrganizations(e,n={}){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield r.getScos(e,n),i=[];return o.forEach((e=>{""==e.organization&&"/"==e.parent&&""==e.scormtype&&i.push({identifier:e.identifier,title:e.title,sortorder:e.sortorder})})),i}))()}getOrganizationToc(e,n,r={}){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const i=yield o.getScosWithData(e,n,r),s={},a=[];return i.forEach(((e,n)=>{e.children=[],s[e.identifier]=n,"/"!==e.parent&&(e.parent==r.organization?a.push(e):i[s[e.parent]].children.push(e))})),a}))()}getPackageUrl(e){return e.packageurl?e.packageurl:e.reference?e.reference:""}getScormUserData(e,n,r={}){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){return r.siteId=r.siteId||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId(),r.offline?(r.scos||(r.scos=yield o.getScos(e,r)),_scorm_offline__WEBPACK_IMPORTED_MODULE_12__.o.getScormUserData(e,n,r.scos,r.siteId)):o.getScormUserDataOnline(e,n,r)}))()}getScormUserDataCacheKey(e,n){return`${this.getScormUserDataCommonCacheKey(e)}:${n}`}getScormUserDataCommonCacheKey(e){return`${AddonModScormProvider.ROOT_CACHE_KEY}userdata:${e}`}getScormUserDataOnline(e,n,r={}){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const i=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(r.siteId),s={scormid:e,attempt:n},a={cacheKey:o.getScormUserDataCacheKey(e,n),component:_constants__WEBPACK_IMPORTED_MODULE_13__.RL,componentId:r.cmId,..._services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},c=yield i.read("mod_scorm_get_scorm_user_data",s,a),u={};return c.data.forEach((e=>{u[e.scoid]={scoid:e.scoid,defaultdata:_singletons_object__WEBPACK_IMPORTED_MODULE_17__.T.toKeyValueMap(e.defaultdata,"element","value"),userdata:_singletons_object__WEBPACK_IMPORTED_MODULE_17__.T.toKeyValueMap(e.userdata,"element","value")}})),u}))()}getScosCacheKey(e){return`${AddonModScormProvider.ROOT_CACHE_KEY}scos:${e}`}getScos(e,n={}){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){n.siteId=n.siteId||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId();const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n.siteId),i={scormid:e},s={cacheKey:r.getScosCacheKey(e),updateFrequency:_core_constants__WEBPACK_IMPORTED_MODULE_0__.CoreCacheUpdateFrequency.SOMETIMES,component:_constants__WEBPACK_IMPORTED_MODULE_13__.RL,componentId:n.cmId,..._services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},a=yield o.read("mod_scorm_get_scorm_scoes",i,s);return n.organization?a.scoes.filter((e=>e.organization==n.organization)):a.scoes}))()}getScosWithData(e,n,r={}){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const i=yield o.getScos(e,r),s={scos:i,...r},a=yield o.getScormUserData(e,n,s),c={};i.forEach((e=>{c[e.identifier]=a[e.id].userdata}));const u=i;return u.forEach((e=>{const n=a[e.id].userdata;n&&(e.isvisible=void 0===n.isvisible||!!n.isvisible&&"false"!==n.isvisible,e.prereq=void 0===n.prerequisites||o.evalPrerequisites(n.prerequisites,c),e.status=void 0===n.status||""===n.status?"notattempted":n.status,e.exitvar=void 0===n.exitvar?"cmi.core.exit":n.exitvar,e.exitvalue=n[e.exitvar],e.scoreraw=n.score_raw)})),u}))()}getScoSrc(e,n,r){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){var i,s;r=r||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId();let a=n.launch;const c=null===(i=n.extradata)||void 0===i?void 0:i.find((e=>"parameters"==e.element));let u=null==c?void 0:c.value;if(u){const e=a.indexOf("?")>-1?"&":"?";"?"==u.charAt(0)&&(u=u.substring(1)),a+=e+u}if(o.isExternalLink(a))return a;const p=yield _services_filepool__WEBPACK_IMPORTED_MODULE_2__.CoreFilepool.getPackageDirUrlByUrl(r,null!==(s=e.moduleurl)&&void 0!==s?s:"");return _singletons_path__WEBPACK_IMPORTED_MODULE_11__.$.concatenatePaths(p,a)}))()}getScoSrcForOnlinePlayer(e,n,r={}){return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(r.siteId);return _singletons_url__WEBPACK_IMPORTED_MODULE_7__.F.addParamsToUrl(_singletons_path__WEBPACK_IMPORTED_MODULE_11__.$.concatenatePaths(o.getURL(),"/mod/scorm/player.php"),{a:e.id,scoid:n.id,display:"popup",mode:r.mode,currentorg:r.organization,newattempt:r.newAttempt?"on":"off"})}))()}getScormFolder(e,n){return n=n||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId(),_services_filepool__WEBPACK_IMPORTED_MODULE_2__.CoreFilepool.getPackageDirPathByUrl(n,e)}getScormFileList(e){const n=[];return this.useOnlinePlayer(e)||e.warningMessage||n.push({fileurl:this.getPackageUrl(e),filepath:"/",filename:e.reference,filesize:e.packagesize,timemodified:0}),n}getScoStatusIcon(e,n){let r="",o="",i="";const s=e.status||"";return e.isvisible&&(VALID_STATUSES.indexOf(s)>=0?("sco"===e.scormtype?(r=s,o=s):(r="asset",o="assetlaunched"),n||(n=this.isStatusIncomplete(s)),n&&"suspend"==e.exitvalue&&(r="suspend",i=` - ${_singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.suspended")}`)):(n=!0,r="sco"===e.scormtype?"notattempted":"asset",o=r)),""==r&&(r="notattempted",o="notattempted",i=""),e.incomplete=n,{icon:STATUS_TO_ICON[r],description:_singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant(`addon.mod_scorm.${o}`)+i}}getScormDataCacheKey(e){return`${AddonModScormProvider.ROOT_CACHE_KEY}scorm:${e}`}getScormByField(e,n,r,o={}){var i=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const s=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(o.siteId),a={courseids:[e]},c={cacheKey:i.getScormDataCacheKey(e),updateFrequency:_core_constants__WEBPACK_IMPORTED_MODULE_0__.CoreCacheUpdateFrequency.RARELY,component:_constants__WEBPACK_IMPORTED_MODULE_13__.RL,..._services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getReadingStrategyPreSets(o.readingStrategy)},u=yield s.read("mod_scorm_get_scorms_by_courses",a,c),p=_features_course_services_course_module_helper__WEBPACK_IMPORTED_MODULE_15__.CoreCourseModuleHelper.getActivityByField(u.scorms,n,r);if(void 0===p.timeopen){var f;const e=null===(f=u.warnings)||void 0===f?void 0:f.find((e=>e.itemid===p.id));p.warningMessage=null==e?void 0:e.message}if(u.options){const e=_singletons_object__WEBPACK_IMPORTED_MODULE_17__.T.toKeyValueMap(u.options,"name","value");e.scormstandard&&(p.scormStandard=Number(e.scormstandard))}return p.moduleurl=o.moduleUrl,p}))()}getScorm(e,n,r={}){return this.getScormByField(e,"coursemodule",n,r)}getScormById(e,n,r={}){return this.getScormByField(e,"id",n,r)}getScormGradeMethod(e){if(1==e.maxattempt)switch(e.grademethod){case 1:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.gradehighest");case 2:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.gradeaverage");case 3:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.gradesum");case 0:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.gradescoes");default:return""}switch(e.whatgrade){case 0:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.highestattempt");case 1:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.averageattempt");case 2:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.firstattempt");case 3:return _singletons__WEBPACK_IMPORTED_MODULE_9__.HT.instant("addon.mod_scorm.lastattempt");default:return""}}invalidateAccessInformation(e,n){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAccessInformationCacheKey(e))}))()}invalidateAllScormData(e,n,r){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){yield Promise.all([o.invalidateAttemptCount(e,n,r),o.invalidateScos(e,n),o.invalidateScormUserData(e,n),o.invalidateAccessInformation(e,n)])}))()}invalidateAttemptCount(e,n,r){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const i=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n);r=r||i.getUserId(),yield i.invalidateWsCacheForKey(o.getAttemptCountCacheKey(e,r))}))()}invalidateContent(e,n,r,o){var i=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){r=r||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId();const s=yield i.getScorm(n,e,{siteId:r});yield Promise.all([i.invalidateAllScormData(s.id,r,o),_services_filepool__WEBPACK_IMPORTED_MODULE_2__.CoreFilepool.invalidateFilesByComponent(r,_constants__WEBPACK_IMPORTED_MODULE_13__.RL,e,!0)])}))()}invalidateScormData(e,n){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getScormDataCacheKey(e))}))()}invalidateScormUserData(e,n){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getScormUserDataCommonCacheKey(e))}))()}invalidateScos(e,n){var r=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){const o=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getScosCacheKey(e))}))()}isAttemptIncomplete(e,n,r={}){var o=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){return(yield o.getScosWithData(e,n,r)).some((e=>e.isvisible&&e.launch&&o.isStatusIncomplete(e.status)))}))()}isExternalLink(e){return!(!(e=e.toLowerCase()).match(/^https?:\/\//i)||_singletons_url__WEBPACK_IMPORTED_MODULE_7__.F.isLocalFileUrl(e))||"www."==e.substring(0,4)}isScormClosed(e){return!!(e.timeclose&&_singletons_time__WEBPACK_IMPORTED_MODULE_6__.j.timestamp()>e.timeclose)}isScormDownloadable(e){return void 0!==e.protectpackagedownloads&&!1===e.protectpackagedownloads}isScormOpen(e){return!!(e.timeopen&&e.timeopen>_singletons_time__WEBPACK_IMPORTED_MODULE_6__.j.timestamp())}isScormValidVersion(e){return"SCORM_1.2"==e.version}isStatusIncomplete(e){return!e||"notattempted"==e||"incomplete"==e||"browsed"==e}isValidPackageUrl(e){return!!e&&!(e.indexOf("imsmanifest.xml")>-1)}logLaunchSco(e,n,r){return _features_course_services_log_helper__WEBPACK_IMPORTED_MODULE_1__.CoreCourseLogHelper.log("mod_scorm_launch_sco",{scormid:e,scoid:n},_constants__WEBPACK_IMPORTED_MODULE_13__.RL,e,r)}logView(e,n){return _features_course_services_log_helper__WEBPACK_IMPORTED_MODULE_1__.CoreCourseLogHelper.log("mod_scorm_view_scorm",{scormid:e},_constants__WEBPACK_IMPORTED_MODULE_13__.RL,e,n)}saveTracks(e,n,r,o,i,s,a){var c=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){if(a=a||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId(),i)return s||(s=yield c.getScormUserData(o.id,n,{offline:i,cmId:o.coursemodule,siteId:a})),_scorm_offline__WEBPACK_IMPORTED_MODULE_12__.o.saveTracks(o,e,n,r,s,a);yield c.saveTracksOnline(o.id,e,n,r,a),c.updateUserDataAfterSave(o.id,n,r,{cmId:o.coursemodule,siteId:a}),_singletons_events__WEBPACK_IMPORTED_MODULE_10__.z.trigger(_constants__WEBPACK_IMPORTED_MODULE_13__.OI,{scormId:o.id,scoId:e,attempt:n},_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId())}))()}saveTracksOnline(e,n,r,o,i){return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){if(!o||!o.length)return[];const s=yield _services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getSite(i),a={scoid:n,attempt:r,tracks:o};_services_sync__WEBPACK_IMPORTED_MODULE_4__.CoreSync.blockOperation(_constants__WEBPACK_IMPORTED_MODULE_13__.Rz,e,"saveTracksOnline",s.id);try{return(yield s.write("mod_scorm_insert_scorm_tracks",a)).trackids}finally{_services_sync__WEBPACK_IMPORTED_MODULE_4__.CoreSync.unblockOperation(_constants__WEBPACK_IMPORTED_MODULE_13__.Rz,e,"saveTracksOnline",s.id)}}))()}saveTracksSync(e,n,r,o,i,s){if(i)return _scorm_offline__WEBPACK_IMPORTED_MODULE_12__.o.saveTracksSync(o,e,n,r,null!=s?s:{});{const i=this.saveTracksSyncOnline(e,n,r);return i&&(this.updateUserDataAfterSave(o.id,n,r,{cmId:o.coursemodule}),_singletons_events__WEBPACK_IMPORTED_MODULE_10__.z.trigger(_constants__WEBPACK_IMPORTED_MODULE_13__.OI,{scormId:o.id,scoId:e,attempt:n},_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId())),i}}saveTracksSyncOnline(e,n,r){if(!r||!r.length)return!0;const o={scoid:e,attempt:n,tracks:r},i=_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSite();if(!i)return!1;const s={siteUrl:i.getURL(),wsToken:i.getToken()};try{const e=_services_ws__WEBPACK_IMPORTED_MODULE_8__.CoreWS.syncCall("mod_scorm_insert_scorm_tracks",o,s);return!(!e||!e.trackids)}catch{return!1}}shouldDownloadMainFile(e,n,r){return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){r=r||_services_sites__WEBPACK_IMPORTED_MODULE_3__.CoreSites.getCurrentSiteId();const o=_constants__WEBPACK_IMPORTED_MODULE_13__.RL;if(void 0===n){const n=yield _singletons_promise_utils__WEBPACK_IMPORTED_MODULE_14__.g.ignoreErrors(_services_filepool__WEBPACK_IMPORTED_MODULE_2__.CoreFilepool.getPackageData(r,o,e.coursemodule));if(!n)return!1;return!(n.status===_core_constants__WEBPACK_IMPORTED_MODULE_0__.DownloadStatus.OUTDATED||n.status===_core_constants__WEBPACK_IMPORTED_MODULE_0__.DownloadStatus.DOWNLOADING&&n.previous===_core_constants__WEBPACK_IMPORTED_MODULE_0__.DownloadStatus.OUTDATED)||n.extra!=e.sha1hash}if(n){const n=yield _singletons_promise_utils__WEBPACK_IMPORTED_MODULE_14__.g.ignoreErrors(_services_filepool__WEBPACK_IMPORTED_MODULE_2__.CoreFilepool.getPackageExtra(r,o,e.coursemodule));return!n||e.sha1hash!=n}return!0}))()}updateUserDataAfterSave(e,n,r,o){var i=this;return(0,C_Users_Khizar_Riyaz_Desktop_Originalmoodleapp_moodleapp_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.A)((function*(){if(!r||!r.length)return;r.some((e=>e.element&&e.element.indexOf(".")>-1))&&(yield i.getScormUserDataOnline(e,n,{cmId:o.cmId,readingStrategy:2,siteId:o.siteId}))}))()}useOnlinePlayer(e){return!this.isScormValidVersion(e)||!this.isScormDownloadable(e)||!this.isValidPackageUrl(this.getPackageUrl(e))}}return _AddonModScormProvider=AddonModScormProvider,_AddonModScormProvider.ROOT_CACHE_KEY="mmaModScorm:",_AddonModScormProvider.ɵfac=function AddonModScormProvider_Factory(e){return new(e||_AddonModScormProvider)},_AddonModScormProvider.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_18__.jDH({token:_AddonModScormProvider,factory:_AddonModScormProvider.ɵfac,providedIn:"root"}),AddonModScormProvider})();const AddonModScorm=(0,_singletons__WEBPACK_IMPORTED_MODULE_9__.Qd)(AddonModScormProvider)},67039:(e,n,r)=>{"use strict";r.d(n,{A9:()=>p,FY:()=>a,G6:()=>u,Ny:()=>s,Rw:()=>i,TV:()=>o,qI:()=>c});r(86123);const o="AddonModSurvey",i="mmaModSurvey",s="mod_survey",a="survey",c=/^configuration$|^.*files$|^answers$/,u="AddonModSurveySyncCronHandler",p="addon_mod_survey_autom_synced"},25191:(e,n,r)=>{"use strict";r.d(n,{K:()=>o,P:()=>i});const o="addon_mod_survey_answers",i={name:"AddonModSurveyOfflineProvider",version:1,tables:[{name:o,columns:[{name:"surveyid",type:"INTEGER"},{name:"name",type:"TEXT"},{name:"courseid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"answers",type:"TEXT"},{name:"timecreated",type:"INTEGER"}],primaryKeys:["surveyid","userid"]}]}},97810:(e,n,r)=>{"use strict";r.d(n,{j:()=>getPrefetchHandlerInstance,l:()=>AddonModSurveyPrefetchHandlerService});var o=r(10467),i=r(89312),s=r(67039),a=r(38911);let c=null;class AddonModSurveyPrefetchHandlerService extends a.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name=s.TV,this.modName=s.FY,this.component=s.Rw,this.updatesNames=s.qI}}function getPrefetchHandlerInstance(){return c||(c=(0,i.A)((0,o.A)((function*(){const{AddonModSurveyPrefetchHandler:e}=yield Promise.all([r.e(51877),r.e(7369)]).then(r.bind(r,7369));return e.instance}))),c.setEagerInstance(new AddonModSurveyPrefetchHandlerService),c.setLazyMethods(["sync"]),c.setLazyOverrides(["prefetch","isEnabled","invalidateModule","invalidateContent","getIntroFiles"])),c}},52323:(e,n,r)=>{"use strict";r.d(n,{c:()=>getCronHandlerInstance,r:()=>AddonModSurveySyncCronHandlerService});var o=r(10467),i=r(89312),s=r(67039);class AddonModSurveySyncCronHandlerService{constructor(){this.name=s.G6}}function getCronHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModSurveySyncCronHandler:e}=yield Promise.all([r.e(51877),r.e(32950)]).then(r.bind(r,32950));return e.instance})));return e.setEagerInstance(new AddonModSurveySyncCronHandlerService),e.setLazyMethods(["execute","getInterval"]),e}},27392:(e,n,r)=>{"use strict";r.d(n,{KY:()=>o,Mt:()=>a,Qb:()=>s,mb:()=>i});r(86123);const o="AddonModUrl",i="mmaModUrl",s="mod_url",a="url"},16260:(e,n,r)=>{"use strict";r.d(n,{Q:()=>p});var o=r(10467),i=r(33014),s=r(10883),a=r(79555),c=r(54438);let u=(()=>{var e;class AddonModUrlHelperProvider{open(e){return(0,o.A)((function*(){const n=yield i.CoreLoadings.show();try{yield s.CoreContentLinksHelper.visitLink(e,{checkRoot:!0,openBrowserRoot:!0})}finally{n.dismiss()}}))()}}return(e=AddonModUrlHelperProvider).ɵfac=function AddonModUrlHelperProvider_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModUrlHelperProvider})();const p=(0,a.Qd)(u)},73235:(e,n,r)=>{"use strict";r.d(n,{k:()=>w});var o=r(10467),i=r(52749),s=r(79555),a=r(74431),c=r(12364),u=r(44682),p=r(55554),f=r(97254),g=r(27392),v=r(95384),C=r(54438);let b=(()=>{var e;class AddonModUrlProvider{getFinalDisplayType(e){var n;if(!e)return-1;const r=c.A.guessExtensionFromUrl(e.externalurl);if(1===e.display&&"pdf"===r)return 4;if(0!==e.display)return e.display;const o=i.CoreSites.getCurrentSite();if(o&&o.containsUrl(e.externalurl)&&-1==e.externalurl.indexOf("file.php")&&-1!=e.externalurl.indexOf(".php"))return 5;let s=c.A.getMimeType(r);return(-1!=e.externalurl.indexOf(".php")||"/"===e.externalurl.slice(-1)||-1!=e.externalurl.indexOf("//")&&2==(null===(n=e.externalurl.match(/\//g))||void 0===n?void 0:n.length))&&(s="text/html"),s&&-1!=["application/zip","application/x-tar","application/g-zip","application/pdf","text/html"].indexOf(s)?4:r&&c.A.canBeEmbedded(r)?1:5}getUrlCacheKey(e){return`${AddonModUrlProvider.ROOT_CACHE_KEY}url:${e}`}getUrl(e,n,r={}){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r.siteId),c={courseids:[e]},u={cacheKey:s.getUrlCacheKey(e),updateFrequency:a.CoreCacheUpdateFrequency.RARELY,component:g.mb,...i.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},p=yield o.read("mod_url_get_urls_by_courses",c,u);return v.CoreCourseModuleHelper.getActivityByCmId(p.urls,n)}))()}guessIcon(e){const n=(e=e||"").match(/\//g),r=c.A.guessExtensionFromUrl(e);if(!n||n.length<3||"/"===e.slice(-1)||"php"===r)return"";const o=i.CoreSites.getCurrentSite(),s=c.A.getExtensionIcon(null!=r?r:"",o);return s===c.A.getFileIconForType("unknown",o)||s===c.A.getFileIconForType("html",o)?"":s}invalidateContent(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId();const o=[];o.push(s.invalidateUrlData(n,r)),o.push(u.CoreCourse.invalidateModule(e,r,"url")),yield p.g.allPromises(o)}))()}invalidateUrlData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getUrlCacheKey(e))}))()}logView(e,n){return f.CoreCourseLogHelper.log("mod_url_view_url",{urlid:e},g.mb,e,n)}}return(e=AddonModUrlProvider).ROOT_CACHE_KEY="mmaModUrl:",e.ɵfac=function AddonModUrlProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModUrlProvider})();const w=(0,s.Qd)(b)},51069:(e,n,r)=>{"use strict";r.d(n,{$9:()=>f,Ip:()=>u,Jb:()=>a,PQ:()=>g,Pe:()=>c,Rv:()=>i,dD:()=>s,hD:()=>v,mb:()=>p});var o=r(86123);const i="AddonModWiki",s="mmaModWiki",a="mod_wiki",c="wiki",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p="addon_mod_wiki_autom_synced",f="addon_mod_wiki_manual_synced",g="addon_mod_wiki_page_created",v=3e4},95531:(e,n,r)=>{"use strict";r.d(n,{g:()=>i,v:()=>o});const o="addon_mod_wiki_new_pages_store",i={name:"AddonModWikiOfflineProvider",version:1,tables:[{name:o,columns:[{name:"wikiid",type:"INTEGER"},{name:"subwikiid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"groupid",type:"INTEGER"},{name:"title",type:"TEXT"},{name:"cachedcontent",type:"TEXT"},{name:"contentformat",type:"TEXT"},{name:"courseid",type:"INTEGER"},{name:"timecreated",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"caneditpage",type:"INTEGER"}],primaryKeys:["wikiid","subwikiid","userid","groupid","title"]}]}},93320:(e,n,r)=>{"use strict";r.d(n,{E:()=>getCreateLinkHandlerInstance,g:()=>AddonModWikiCreateLinkHandlerService});var o=r(10467),i=r(89312),s=r(51069),a=r(71112);class AddonModWikiCreateLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModWikiCreateLinkHandler",this.featureName=s.Ip,this.pattern=/\/mod\/wiki\/create\.php.*([&?]swid=\d+)/}getActions(e,n,r,o){return o=Number(o||r.courseid||r.cid),[{action:e=>this.handleAction(e,o,r)}]}handleAction(e,n,r){return(0,o.A)((function*(){}))()}}function getCreateLinkHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWikiCreateLinkHandler:e}=yield Promise.all([r.e(67981),r.e(14023)]).then(r.bind(r,14023));return e.instance})));return e.setEagerInstance(new AddonModWikiCreateLinkHandlerService),e.setLazyOverrides(["handleAction"]),e}},32208:(e,n,r)=>{"use strict";r.d(n,{e:()=>AddonModWikiEditLinkHandlerService,m:()=>getEditLinkHandlerInstance});var o=r(10467),i=r(89312),s=r(51069),a=r(71112);class AddonModWikiEditLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModWikiEditLinkHandler",this.featureName=s.Ip,this.pattern=/\/mod\/wiki\/edit\.php.*([&?]pageid=\d+)/}getActions(e,n,r){return[{action:e=>this.handleAction(e,r)}]}handleAction(e,n){return(0,o.A)((function*(){}))()}}function getEditLinkHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWikiEditLinkHandler:e}=yield Promise.all([r.e(67981),r.e(41791)]).then(r.bind(r,41791));return e.instance})));return e.setEagerInstance(new AddonModWikiEditLinkHandlerService),e.setLazyOverrides(["handleAction"]),e}},63036:(e,n,r)=>{"use strict";r.d(n,{I:()=>getPageOrMapLinkHandlerInstance,c:()=>AddonModWikiPageOrMapLinkHandlerService});var o=r(10467),i=r(89312),s=r(51069),a=r(71112);class AddonModWikiPageOrMapLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModWikiPageOrMapLinkHandler",this.featureName=s.Ip,this.pattern=/\/mod\/wiki\/(view|map)\.php.*([&?]pageid=\d+)/}getActions(e,n,r){return[{action:e=>this.handleAction(n,e,r)}]}handleAction(e,n,r){return(0,o.A)((function*(){}))()}}function getPageOrMapLinkHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWikiPageOrMapLinkHandler:e}=yield Promise.all([r.e(67981),r.e(54131)]).then(r.bind(r,54131));return e.instance})));return e.setEagerInstance(new AddonModWikiPageOrMapLinkHandlerService),e.setLazyOverrides(["isEnabled","handleAction"]),e}},90784:(e,n,r)=>{"use strict";r.d(n,{X:()=>AddonModWikiPrefetchHandlerService,j:()=>getPrefetchHandlerInstance});var o=r(10467),i=r(89312),s=r(51069),a=r(38911);class AddonModWikiPrefetchHandlerService extends a.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name=s.Rv,this.modName=s.Pe,this.component=s.dD,this.updatesNames=/^.*files$|^pages$/}}function getPrefetchHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWikiPrefetchHandler:e}=yield Promise.all([r.e(67981),r.e(34735)]).then(r.bind(r,34735));return e.instance})));return e.setEagerInstance(new AddonModWikiPrefetchHandlerService),e.setLazyMethods(["sync"]),e.setLazyOverrides(["getFiles","getDownloadSize","invalidateContent","prefetch"]),e}},80629:(e,n,r)=>{"use strict";r.d(n,{c:()=>getCronHandlerInstance,l:()=>AddonModWikiSyncCronHandlerService});var o=r(10467),i=r(89312);class AddonModWikiSyncCronHandlerService{constructor(){this.name="AddonModWikiSyncCronHandler"}}function getCronHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWikiSyncCronHandler:e}=yield Promise.all([r.e(67981),r.e(8728)]).then(r.bind(r,8728));return e.instance})));return e.setEagerInstance(new AddonModWikiSyncCronHandlerService),e.setLazyMethods(["execute","getInterval"]),e}},78939:(e,n,r)=>{"use strict";r.d(n,{R:()=>getAssessmentStrategyHandlerInstance,f:()=>AddonModWorkshopAssessmentStrategyAccumulativeHandlerService});var o=r(10467),i=r(89312),s=r(37261);class AddonModWorkshopAssessmentStrategyAccumulativeHandlerService{constructor(){this.name=s.xh,this.strategyName=s.T7}isEnabled(){return(0,o.A)((function*(){return!0}))()}}function getAssessmentStrategyHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWorkshopAssessmentStrategyAccumulativeHandler:e}=yield r.e(96190).then(r.bind(r,96190));return e.instance})));return e.setEagerInstance(new AddonModWorkshopAssessmentStrategyAccumulativeHandlerService),e.setLazyMethods(["getComponent","getOriginalValues","hasDataChanged","prepareAssessmentData"]),e}},20984:(e,n,r)=>{"use strict";r.d(n,{R:()=>getAssessmentStrategyHandlerInstance,S:()=>AddonModWorkshopAssessmentStrategyCommentsHandlerService});var o=r(10467),i=r(89312),s=r(37261);class AddonModWorkshopAssessmentStrategyCommentsHandlerService{constructor(){this.name=s.GS,this.strategyName=s.Gi}isEnabled(){return(0,o.A)((function*(){return!0}))()}}function getAssessmentStrategyHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWorkshopAssessmentStrategyCommentsHandler:e}=yield r.e(63639).then(r.bind(r,63639));return e.instance})));return e.setEagerInstance(new AddonModWorkshopAssessmentStrategyCommentsHandlerService),e.setLazyMethods(["getComponent","getOriginalValues","hasDataChanged","prepareAssessmentData"]),e}},37261:(e,n,r)=>{"use strict";r.d(n,{Dj:()=>u,GS:()=>s,Gi:()=>a,JI:()=>p,LM:()=>f,T7:()=>i,lh:()=>c,xh:()=>o});const o="AddonModWorkshopAssessmentStrategyAccumulative",i="accumulative",s="AddonModWorkshopAssessmentStrategyComments",a="comments",c="AddonModWorkshopAssessmentStrategyNumErrors",u="numerrors",p="AddonModWorkshopAssessmentStrategyRubric",f="rubric"},58753:(e,n,r)=>{"use strict";r.d(n,{R:()=>getAssessmentStrategyHandlerInstance,t:()=>AddonModWorkshopAssessmentStrategyNumErrorsHandlerService});var o=r(10467),i=r(89312),s=r(37261);class AddonModWorkshopAssessmentStrategyNumErrorsHandlerService{constructor(){this.name=s.lh,this.strategyName=s.Dj}isEnabled(){return(0,o.A)((function*(){return!0}))()}}function getAssessmentStrategyHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWorkshopAssessmentStrategyNumErrorsHandler:e}=yield r.e(51948).then(r.bind(r,51948));return e.instance})));return e.setEagerInstance(new AddonModWorkshopAssessmentStrategyNumErrorsHandlerService),e.setLazyMethods(["getComponent","getOriginalValues","hasDataChanged","prepareAssessmentData"]),e}},98457:(e,n,r)=>{"use strict";r.d(n,{R:()=>getAssessmentStrategyHandlerInstance,V:()=>AddonModWorkshopAssessmentStrategyRubricHandlerService});var o=r(10467),i=r(89312),s=r(37261);class AddonModWorkshopAssessmentStrategyRubricHandlerService{constructor(){this.name=s.JI,this.strategyName=s.LM}isEnabled(){return(0,o.A)((function*(){return!0}))()}}function getAssessmentStrategyHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWorkshopAssessmentStrategyRubricHandler:e}=yield r.e(39348).then(r.bind(r,39348));return e.instance})));return e.setEagerInstance(new AddonModWorkshopAssessmentStrategyRubricHandlerService),e.setLazyMethods(["getComponent","getOriginalValues","hasDataChanged","prepareAssessmentData"]),e}},81552:(e,n,r)=>{"use strict";r.d(n,{AZ:()=>g,Cy:()=>w,Dl:()=>C,N7:()=>b,OY:()=>s,Px:()=>v,Ug:()=>i,ar:()=>c,be:()=>u,dx:()=>p,q3:()=>a,rv:()=>f});var o=r(86123);const i="AddonModWorkshop",s="mmaModWorkshop",a="mod_workshop",c="workshop",u=o.CORE_COURSE_MODULE_FEATURE_PREFIX+i,p=new RegExp(["^configuration$","^.*files$","^completion","^gradeitems$","^outcomes$","^submissions$","^assessments$^assessmentgrades$","^usersubmissions$","^userassessments$","^userassessmentgrades$","^userassessmentgrades$"].join("|")),f="AddonModWorkshopSyncCronHandler",g="addon_mod_workshop_submission_changed",v="addon_mod_workshop_assessment_saved",C="addon_mod_workshop_assessment_invalidated",b="addon_mod_workshop_autom_synced",w=10},65964:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonWorkshopAssessmentStrategyDelegate:()=>f,AddonWorkshopAssessmentStrategyDelegateService:()=>p});var o=r(10467),i=r(59296),s=r(79555),a=r(52749),c=r(81552),u=r(54438);let p=(()=>{var e;class AddonWorkshopAssessmentStrategyDelegateService extends i.B{constructor(){super("AddonWorkshopAssessmentStrategyDelegate"),this.handlerNameProperty="strategyName"}isEnabled(){return(0,o.A)((function*(){return!(yield a.CoreSites.isFeatureDisabled(c.be))}))()}isPluginSupported(e){return this.hasHandler(e,!0)}getComponentForPlugin(e){return this.executeFunctionOnEnabled(e,"getComponent")}getOriginalValues(e,n,r){return Promise.resolve(this.executeFunctionOnEnabled(e,"getOriginalValues",[n,r])||[])}hasDataChanged(e,n,r){return this.executeFunctionOnEnabled(e,"hasDataChanged",[n,r])||!1}prepareAssessmentData(e,n,r){return Promise.resolve(this.executeFunctionOnEnabled(e,"prepareAssessmentData",[n,r]))}}return(e=AddonWorkshopAssessmentStrategyDelegateService).ɵfac=function AddonWorkshopAssessmentStrategyDelegateService_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonWorkshopAssessmentStrategyDelegateService})();const f=(0,s.Qd)(p)},38641:(e,n,r)=>{"use strict";r.d(n,{NM:()=>a,P5:()=>o,Vz:()=>s,YQ:()=>c,zC:()=>i});const o="addon_mod_workshop_submissions",i="addon_mod_workshop_assessments",s="addon_mod_workshop_evaluate_submissions",a="addon_mod_workshop_evaluate_assessments",c={name:"AddonModWorkshopOfflineProvider",version:1,tables:[{name:o,columns:[{name:"workshopid",type:"INTEGER"},{name:"action",type:"TEXT"},{name:"submissionid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"title",type:"TEXT"},{name:"content",type:"TEXT"},{name:"attachmentsid",type:"TEXT"},{name:"timemodified",type:"INTEGER"}],primaryKeys:["workshopid","action"]},{name:i,columns:[{name:"workshopid",type:"INTEGER"},{name:"assessmentid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"inputdata",type:"TEXT"},{name:"timemodified",type:"INTEGER"}],primaryKeys:["workshopid","assessmentid"]},{name:s,columns:[{name:"workshopid",type:"INTEGER"},{name:"submissionid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"feedbacktext",type:"TEXT"},{name:"published",type:"INTEGER"},{name:"gradeover",type:"TEXT"}],primaryKeys:["workshopid","submissionid"]},{name:a,columns:[{name:"workshopid",type:"INTEGER"},{name:"assessmentid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"feedbacktext",type:"TEXT"},{name:"weight",type:"INTEGER"},{name:"gradinggradeover",type:"TEXT"}],primaryKeys:["workshopid","assessmentid"]}]}},34751:(e,n,r)=>{"use strict";r.d(n,{j:()=>getPrefetchHandlerInstance,w:()=>AddonModWorkshopPrefetchHandlerService});var o=r(10467),i=r(89312),s=r(81552),a=r(38911);class AddonModWorkshopPrefetchHandlerService extends a.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name=s.Ug,this.modName=s.ar,this.component=s.OY,this.updatesNames=s.dx}}function getPrefetchHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWorkshopPrefetchHandler:e}=yield Promise.all([r.e(26327),r.e(67193),r.e(36553),r.e(3770)]).then(r.bind(r,3770));return e.instance})));return e.setEagerInstance(new AddonModWorkshopPrefetchHandlerService),e.setLazyMethods(["sync"]),e.setLazyOverrides(["getFiles","invalidateContent","isDownloadable","prefetch"]),e}},70084:(e,n,r)=>{"use strict";r.d(n,{G:()=>AddonModWorkshopSyncCronHandlerService,c:()=>getCronHandlerInstance});var o=r(10467),i=r(89312),s=r(81552);class AddonModWorkshopSyncCronHandlerService{constructor(){this.name=s.rv}}function getCronHandlerInstance(){const e=(0,i.A)((0,o.A)((function*(){const{AddonModWorkshopSyncCronHandler:e}=yield Promise.all([r.e(26327),r.e(67193),r.e(36553),r.e(51531)]).then(r.bind(r,51531));return e.instance})));return e.setEagerInstance(new AddonModWorkshopSyncCronHandlerService),e.setLazyMethods(["execute","getInterval"]),e}},15230:(e,n,r)=>{"use strict";r.d(n,{yN:()=>Q,AN:()=>getModWorkshopComponentModules,uK:()=>getModWorkshopServices});var o=r(10467),i=r(54438),s=r(33504),a=r(94247),c=r(97086),u=r(8979),p=r(42858),f=r(26135),g=r(52749),v=r(65964),C=r(78939);let b=(()=>{var e;class AddonModWorkshopAssessmentStrategyAccumulativeModule{}return(e=AddonModWorkshopAssessmentStrategyAccumulativeModule).ɵfac=function AddonModWorkshopAssessmentStrategyAccumulativeModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{v.AddonWorkshopAssessmentStrategyDelegate.registerHandler((0,C.R)())}}]}),AddonModWorkshopAssessmentStrategyAccumulativeModule})();var w=r(20984);let A=(()=>{var e;class AddonModWorkshopAssessmentStrategyCommentsModule{}return(e=AddonModWorkshopAssessmentStrategyCommentsModule).ɵfac=function AddonModWorkshopAssessmentStrategyCommentsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{v.AddonWorkshopAssessmentStrategyDelegate.registerHandler((0,w.R)())}}]}),AddonModWorkshopAssessmentStrategyCommentsModule})();var _=r(58753);let E=(()=>{var e;class AddonModWorkshopAssessmentStrategyNumErrorsModule{}return(e=AddonModWorkshopAssessmentStrategyNumErrorsModule).ɵfac=function AddonModWorkshopAssessmentStrategyNumErrorsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{v.AddonWorkshopAssessmentStrategyDelegate.registerHandler((0,_.R)())}}]}),AddonModWorkshopAssessmentStrategyNumErrorsModule})();var I=r(98457);let T=(()=>{var e;class AddonModWorkshopAssessmentStrategyRubricModule{}return(e=AddonModWorkshopAssessmentStrategyRubricModule).ɵfac=function AddonModWorkshopAssessmentStrategyRubricModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{v.AddonWorkshopAssessmentStrategyDelegate.registerHandler((0,I.R)())}}]}),AddonModWorkshopAssessmentStrategyRubricModule})(),P=(()=>{var e;class AddonModWorkshopAssessmentStrategyModule{}return(e=AddonModWorkshopAssessmentStrategyModule).ɵfac=function AddonModWorkshopAssessmentStrategyModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({imports:[b,A,E,T]}),AddonModWorkshopAssessmentStrategyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(P,{imports:[b,A,E,T]}));var k=r(38641),x=r(30260),F=r(79555),R=r(81552);let N=(()=>{var e;class AddonModWorkshopIndexLinkHandlerService extends x.CoreContentLinksModuleIndexHandler{constructor(){super(R.Ug,R.ar,"w"),this.name="AddonModWorkshopLinkHandler"}}return(e=AddonModWorkshopIndexLinkHandlerService).ɵfac=function AddonModWorkshopIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModWorkshopIndexLinkHandlerService})();const L=(0,F.Qd)(N);var H=r(85720);let U=(()=>{var e;class AddonModWorkshopListLinkHandlerService extends H.S{constructor(){super(R.Ug,R.ar),this.name="AddonModWorkshopListLinkHandler"}}return(e=AddonModWorkshopListLinkHandlerService).ɵfac=function AddonModWorkshopListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModWorkshopListLinkHandlerService})();const B=(0,F.Qd)(U);var j=r(43130);let V=(()=>{var e;class AddonModWorkshopModuleHandlerService extends j.j{constructor(){super(...arguments),this.name="AddonModWorkshop",this.modName=R.ar,this.pageName=R.q3,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!0,backup_moodle2:!0,showdescription:!0,plagiarism:!0,mod_purpose:"assessment"}}getMainComponent(){return(0,o.A)((function*(){const{AddonModWorkshopIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(26327),r.e(67193),r.e(36553),r.e(61919),r.e(48049)]).then(r.bind(r,48049));return e}))()}}return(e=AddonModWorkshopModuleHandlerService).ɵfac=(()=>{let n;return function AddonModWorkshopModuleHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModWorkshopModuleHandlerService})();const G=(0,F.Qd)(V);var z=r(34751),q=r(70084),W=r(6007);function getModWorkshopServices(){return _getModWorkshopServices.apply(this,arguments)}function _getModWorkshopServices(){return(_getModWorkshopServices=(0,o.A)((function*(){const{AddonModWorkshopProvider:e}=yield Promise.all([r.e(26327),r.e(67193)]).then(r.bind(r,67193)),{AddonModWorkshopOfflineProvider:n}=yield r.e(26327).then(r.bind(r,26327)),{AddonModWorkshopSyncProvider:o}=yield Promise.all([r.e(26327),r.e(67193),r.e(36553)]).then(r.bind(r,36553)),{AddonModWorkshopHelperProvider:i}=yield Promise.all([r.e(26327),r.e(67193),r.e(80178)]).then(r.bind(r,80178)),{AddonWorkshopAssessmentStrategyDelegateService:s}=yield Promise.resolve().then(r.bind(r,65964));return[e,n,o,i,s]}))).apply(this,arguments)}function getModWorkshopComponentModules(){return _getModWorkshopComponentModules.apply(this,arguments)}function _getModWorkshopComponentModules(){return(_getModWorkshopComponentModules=(0,o.A)((function*(){const{AddonModWorkshopAssessmentStrategyComponent:e}=yield Promise.all([r.e(41450),r.e(26327),r.e(67193),r.e(45157)]).then(r.bind(r,45157));return[e]}))).apply(this,arguments)}const K=[{path:R.q3,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(26327),r.e(67193),r.e(36553),r.e(61919),r.e(48049),r.e(72076),r.e(88341)]).then(r.bind(r,88341))},{path:":courseId/:cmId/:submissionId",loadComponent:()=>Promise.all([r.e(41450),r.e(26327),r.e(67193),r.e(45157),r.e(61919),r.e(83221)]).then(r.bind(r,83221)),canDeactivate:[W.V]},{path:":courseId/:cmId/:submissionId/edit",loadComponent:()=>Promise.all([r.e(41450),r.e(26327),r.e(67193),r.e(61781)]).then(r.bind(r,61781)),canDeactivate:[W.V]},{path:":courseId/:cmId/:submissionId/:assessmentId",loadComponent:()=>Promise.all([r.e(41450),r.e(26327),r.e(67193),r.e(45157),r.e(81191)]).then(r.bind(r,81191)),canDeactivate:[W.V]}]}];let Q=(()=>{var e;class AddonModWorkshopModule{}return(e=AddonModWorkshopModule).ɵfac=function AddonModWorkshopModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:g.CORE_SITE_SCHEMAS,useValue:[k.YQ],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{u.CoreCourseModulePrefetchDelegate.registerHandler((0,z.j)()),f.CoreCronDelegate.register((0,q.c)()),c.CoreCourseModuleDelegate.registerHandler(G.instance),s.CoreContentLinksDelegate.registerHandler(L.instance),s.CoreContentLinksDelegate.registerHandler(B.instance),a.CoreCourseHelper.registerModuleReminderClick(R.Ug)}}],imports:[p.b.forChild(K),P]}),AddonModWorkshopModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(Q,{imports:[p.b,P]}))},53032:(e,n,r)=>{"use strict";r.d(n,{C:()=>F,q:()=>getNotesServices});var o=r(10467),i=r(54438),s=r(26135),a=r(78765),c=r(5784),u=r(86123),p=r(79555),f=r(90378);let g=(()=>{var e;class AddonNotesCourseOptionHandlerService{constructor(){this.name="AddonNotes",this.priority=200}isEnabled(){return(0,o.A)((function*(){return f.AddonNotes.isPluginEnabled()}))()}isEnabledForCourse(e,n,r){return(0,o.A)((function*(){return(null==n?void 0:n.type)!==u.CoreCourseAccessDataType.ACCESS_GUEST&&(void 0!==(null==r?void 0:r.notes)?r.notes:f.AddonNotes.isPluginViewNotesEnabledForCourse(e))}))()}getDisplayData(){return{title:"addon.notes.notes",class:"addon-notes-course-handler",page:"notes"}}prefetch(e){return(0,o.A)((function*(){yield f.AddonNotes.getNotes(e.id,void 0,!0)}))()}}return(e=AddonNotesCourseOptionHandlerService).ɵfac=function AddonNotesCourseOptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotesCourseOptionHandlerService})();const v=(0,p.Qd)(g);var C=r(43496);let b=(()=>{var e;class AddonNotesSyncCronHandlerService{constructor(){this.name="AddonNotesSyncCronHandler"}execute(e,n){return C.AddonNotesSync.syncAllNotes(e,n)}getInterval(){return 3e5}}return(e=AddonNotesSyncCronHandlerService).ɵfac=function AddonNotesSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotesSyncCronHandlerService})();const w=(0,p.Qd)(b);var A=r(15324),_=r(52749);let E=(()=>{var e;class AddonNotesUserHandlerService{constructor(){this.name="AddonNotes:notes",this.priority=250,this.type=c.CoreUserProfileHandlerType.LIST_ITEM,this.cacheEnabled=!0}isEnabled(){return(0,o.A)((function*(){return f.AddonNotes.isPluginEnabled()}))()}isEnabledForUser(e,n,r){return(0,o.A)((function*(){return!(n!==c.CoreUserDelegateContext.COURSE||!r||e.id==_.CoreSites.getCurrentSiteUserId())&&f.AddonNotes.isPluginViewNotesEnabledForCourse(r)}))()}getDisplayData(){return{icon:"fas-receipt",title:"addon.notes.notes",class:"addon-notes-handler",action:(e,n,r,o)=>{e.preventDefault(),e.stopPropagation(),A.CoreNavigator.navigateToSitePath("/notes",{params:{courseId:o,userId:n.id}})}}}}return(e=AddonNotesUserHandlerService).ɵfac=function AddonNotesUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotesUserHandlerService})();const I=(0,p.Qd)(E);var T=r(60504),P=r(42858),k=r(69342);function getNotesServices(){return _getNotesServices.apply(this,arguments)}function _getNotesServices(){return(_getNotesServices=(0,o.A)((function*(){const{AddonNotesProvider:e}=yield Promise.resolve().then(r.bind(r,90378)),{AddonNotesOfflineProvider:n}=yield Promise.resolve().then(r.bind(r,8044)),{AddonNotesSyncProvider:o}=yield Promise.resolve().then(r.bind(r,43496));return[e,n,o]}))).apply(this,arguments)}const x=[{path:"notes",loadComponent:()=>r.e(87616).then(r.bind(r,87616))}];let F=(()=>{var e;class AddonNotesModule{}return(e=AddonNotesModule).ɵfac=function AddonNotesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:_.CORE_SITE_SCHEMAS,useValue:[T.aB],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{c.CoreUserDelegate.registerHandler(I.instance),a.CoreCourseOptionsDelegate.registerHandler(v.instance),s.CoreCronDelegate.register(w.instance)}}],imports:[P.b.forChild(x),k.l.forChild({children:x})]}),AddonNotesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(F,{imports:[P.b,k.l]}))},22542:(e,n,r)=>{"use strict";r.d(n,{a:()=>o});const o="addon_notes_autom_synced"},60504:(e,n,r)=>{"use strict";r.d(n,{Le:()=>i,XR:()=>o,aB:()=>s});const o="addon_notes_offline_notes",i="addon_notes_deleted_offline_notes",s={name:"AddonNotesOfflineProvider",version:2,tables:[{name:o,columns:[{name:"userid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"publishstate",type:"TEXT"},{name:"content",type:"TEXT"},{name:"format",type:"INTEGER"},{name:"created",type:"INTEGER"},{name:"lastmodified",type:"INTEGER"}],primaryKeys:["userid","content","created"]},{name:i,columns:[{name:"noteid",type:"INTEGER",primaryKey:!0},{name:"deleted",type:"INTEGER"},{name:"courseid",type:"INTEGER"}]}]}},8044:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonNotesOffline:()=>g,AddonNotesOfflineProvider:()=>f});var o=r(10467),i=r(52749),s=r(24742),a=r(79555),c=r(60504),u=r(75383),p=r(54438);let f=(()=>{var e;class AddonNotesOfflineProvider{deleteOfflineNote(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(s);yield o.getDb().deleteRecords(c.XR,{userid:e,content:n,created:r})}))()}getAllDeletedNotes(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).getDb().getRecords(c.Le)}))()}getCourseDeletedNotes(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).getDb().getRecords(c.Le,{courseid:e})}))()}getAllNotes(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).getDb().getRecords(c.XR)}))()}getNote(e,n,r,s){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(s)).getDb().getRecord(c.XR,{userid:e,content:n,created:r})}))()}getNotesForCourseAndUser(e,n,r){var s=this;return(0,o.A)((function*(){if(!n)return s.getNotesForCourse(e,r);return(yield i.CoreSites.getSite(r)).getDb().getRecords(c.XR,{userid:n,courseid:e})}))()}getNotesForCourse(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).getDb().getRecords(c.XR,{courseid:e})}))()}getNotesForUser(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).getDb().getRecords(c.XR,{userid:e})}))()}getNotesWithPublishState(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).getDb().getRecords(c.XR,{publishstate:e})}))()}hasNotesForCourse(e,n){var r=this;return(0,o.A)((function*(){return!!(yield r.getNotesForCourse(e,n)).length}))()}hasNotesForUser(e,n){var r=this;return(0,o.A)((function*(){return!!(yield r.getNotesForUser(e,n)).length}))()}hasNotesWithPublishState(e,n){var r=this;return(0,o.A)((function*(){return!!(yield r.getNotesWithPublishState(e,n)).length}))()}saveNote(e,n,r,a,p){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(p),f=s.j.timestamp(),g={userid:e,courseid:n,publishstate:r,content:a,format:u.C9,created:f,lastmodified:f};yield o.getDb().insertRecord(c.XR,g)}))()}deleteNote(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),a={noteid:e,courseid:n,deleted:s.j.timestamp()};yield o.getDb().insertRecord(c.Le,a)}))()}undoDeleteNote(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n);yield r.getDb().deleteRecords(c.Le,{noteid:e})}))()}}return(e=AddonNotesOfflineProvider).ɵfac=function AddonNotesOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotesOfflineProvider})();const g=(0,a.Qd)(f)},43496:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonNotesSync:()=>P,AddonNotesSyncProvider:()=>T});var o=r(10467),i=r(42008),s=r(49446),a=r(66110),c=r(94455),u=r(52749),p=r(43411),f=r(79555),g=r(49882),v=r(90378),C=r(8044),b=r(24502),w=r(49588),A=r(22542),_=r(55554),E=r(75383),I=r(54438);let T=(()=>{var e;class AddonNotesSyncProvider extends i.l{constructor(){super("AddonNotesSync")}syncAllNotes(e,n){return this.syncOnSites("all notes",(e=>this.syncAllNotesFunc(!!n,e)),e)}syncAllNotesFunc(e,n){var r=this;return(0,o.A)((function*(){const i=yield Promise.all([C.AddonNotesOffline.getAllNotes(n),C.AddonNotesOffline.getAllDeletedNotes(n)]);let s=[];i.forEach((e=>{s=s.concat(e.map((e=>e.courseid)))})),b.R.unique(s);const a=s.map(function(){var i=(0,o.A)((function*(o){const i=yield e?r.syncNotes(o,n):r.syncNotesIfNeeded(o,n);void 0!==i&&g.z.trigger(A.a,{courseId:o,warnings:i.warnings},n)}));return function(e){return i.apply(this,arguments)}}());yield Promise.all(a)}))()}syncNotesIfNeeded(e,n){var r=this;return(0,o.A)((function*(){if(yield r.isSyncNeeded(e,n))return r.syncNotes(e,n)}))()}syncNotes(e,n){n=n||u.CoreSites.getCurrentSiteId();const r=this.getOngoingSync(e,n);if(r)return r;this.logger.debug(`Try to sync notes for course ${e}`);const o=this.performSyncNotes(e,n);return this.addOngoingSync(e,o,n)}performSyncNotes(e,n){return(0,o.A)((function*(){const r={warnings:[]},[i,u]=yield Promise.all([C.AddonNotesOffline.getAllNotes(n),C.AddonNotesOffline.getAllDeletedNotes(n)]);if(!i.length&&!u.length)return r;if(!c.WE.isOnline())throw new s.CoreNetworkError;const g=[],b=[],A=i.map((e=>({userid:e.userid,publishstate:e.publishstate,courseid:e.courseid,text:e.content,format:E.C9})));b.push(v.AddonNotes.addNotesOnline(A,n).then((e=>{e.forEach((e=>{-1===e.noteid&&e.errormessage&&-1==g.indexOf(e.errormessage)&&g.push(e.errormessage)}))})).catch((e=>{if(p.CoreWSError.isWebServiceError(e))return g.push(e),void 0;throw e})).then((0,o.A)((function*(){const e=i.map((e=>C.AddonNotesOffline.deleteOfflineNote(e.userid,e.content,e.created,n)));yield Promise.all(e)}))));const I=u.map((e=>e.noteid));if(b.push(v.AddonNotes.deleteNotesOnline(I,e,n).catch((e=>{if(p.CoreWSError.isWebServiceError(e))return g.push(e),void 0;throw e})).then((0,o.A)((function*(){const e=I.map((e=>C.AddonNotesOffline.undoDeleteNote(e,n)));yield Promise.all(e)})))),yield Promise.all(b),yield _.g.ignoreErrors(v.AddonNotes.invalidateNotes(e,void 0,n)),yield _.g.ignoreErrors(v.AddonNotes.getNotes(e,void 0,!1,!0,n)),g&&g.length){const o=yield _.g.ignoreErrors(a.CoreCourses.getUserCourse(e,!0,n),{});r.warnings=g.map((n=>f.HT.instant("addon.notes.warningnotenotsent",{course:"fullname"in o?o.fullname:e,error:w.CoreErrorHelper.getErrorMessageFromError(n)})))}return r}))()}}return(e=AddonNotesSyncProvider).ɵfac=function AddonNotesSyncProvider_Factory(n){return new(n||e)},e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotesSyncProvider})();const P=(0,f.Qd)(T)},90378:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonNotes:()=>w,AddonNotesProvider:()=>b});var o=r(10467),i=r(43411),s=r(98870),a=r(94455),c=r(52749),u=r(79555),p=r(8044),f=r(74431),g=r(55554),v=r(75383),C=r(54438);let b=(()=>{var e;class AddonNotesProvider{addNote(e,n,r,s,u){var f=this;return(0,o.A)((function*(){u=u||c.CoreSites.getCurrentSiteId();const g=function(){var i=(0,o.A)((function*(){return yield p.AddonNotesOffline.saveNote(e,n,r,s,u),!1}));return function storeOffline(){return i.apply(this,arguments)}}();if(!a.WE.isOnline())return g();try{return yield f.addNoteOnline(e,n,r,s,u),!0}catch(e){if(i.CoreWSError.isWebServiceError(e))throw e;return g()}}))()}addNoteOnline(e,n,r,s,a){var c=this;return(0,o.A)((function*(){const o=[{courseid:n,format:v.C9,publishstate:r,text:s,userid:e}],u=yield c.addNotesOnline(o,a);if(u&&u[0]&&-1===u[0].noteid)throw new i.CoreWSError({message:u[0].errormessage});yield g.g.ignoreErrors(c.invalidateNotes(n,void 0,a))}))()}addNotesOnline(e,n){return(0,o.A)((function*(){if(!e||!e.length)return[];return(yield c.CoreSites.getSite(n)).write("core_notes_create_notes",{notes:e})}))()}deleteNote(e,n,r){var s=this;return(0,o.A)((function*(){if(r=r||c.CoreSites.getCurrentSiteId(),e.offline)return yield p.AddonNotesOffline.deleteOfflineNote(e.userid,e.content,e.created,r),!0;const u=function(){var i=(0,o.A)((function*(){return yield p.AddonNotesOffline.deleteNote(e.id,n,r),!1}));return function storeOffline(){return i.apply(this,arguments)}}();if(!a.WE.isOnline())return u();try{return yield s.deleteNotesOnline([e.id],n,r),!0}catch(e){if(i.CoreWSError.isWebServiceError(e))throw e;return u()}}))()}deleteNotesOnline(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r),s={notes:e};yield o.write("core_notes_delete_notes",s),g.g.ignoreErrors(i.invalidateNotes(n,void 0,r))}))()}isPluginEnabled(e){return(0,o.A)((function*(){return(yield c.CoreSites.getSite(e)).canUseAdvancedFeature("enablenotes")}))()}isPluginAddNoteEnabledForCourse(e,n){return(0,o.A)((function*(){const r=yield c.CoreSites.getSite(n);return g.g.promiseWorks(r.read("core_notes_create_notes",{notes:[{userid:-1,publishstate:"personal",courseid:e,text:"",format:v.C9}]},{updateFrequency:f.CoreCacheUpdateFrequency.RARELY}))}))()}isPluginViewNotesEnabledForCourse(e,n){return g.g.promiseWorks(this.getNotes(e,void 0,!1,!0,n))}getNotesPrefixCacheKey(e){return`${AddonNotesProvider.ROOT_CACHE_KEY}notes:${e}:`}getNotesCacheKey(e,n){return this.getNotesPrefixCacheKey(e)+(n||"")}getNotes(e,n,r=!1,i=!1,s){var a=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(s),u={courseid:e};n&&(u.userid=n);const g={cacheKey:a.getNotesCacheKey(e,n),updateFrequency:f.CoreCacheUpdateFrequency.SOMETIMES};r&&(g.getFromCache=!1,g.emergencyCache=!1);const v=yield o.read("core_notes_get_course_notes",u,g);if(i)return v;return(yield p.AddonNotesOffline.getNotesForCourseAndUser(e,n,s)).forEach((e=>{const n=`${e.publishstate}notes`;v[n]||(v[n]=[]),e.offline=!0,v[n].unshift(e)})),v}))()}setOfflineDeletedNotes(e,n,r){return(0,o.A)((function*(){const o=yield p.AddonNotesOffline.getCourseDeletedNotes(n,r);e.forEach((e=>{e.deleted=o.some((n=>n.noteid==e.id))}))}))()}getNotesUserData(e){return(0,o.A)((function*(){const n=e.map((e=>s.CoreUser.getProfile(e.userid,e.courseid,!0).then((n=>{e.userfullname=n.fullname,e.userprofileimageurl=n.profileimageurl})).catch((()=>{e.userfullname=u.HT.instant("core.user.userwithid",{id:e.userid})}))));return yield Promise.all(n),e}))()}invalidateNotes(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r);if(n)return yield o.invalidateWsCacheForKey(i.getNotesCacheKey(e,n)),void 0;yield o.invalidateWsCacheForKeyStartingWith(i.getNotesPrefixCacheKey(e))}))()}logView(e,n,r){return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(r),i={courseid:e,userid:n||0};yield o.write("core_notes_view_notes",i)}))()}}return(e=AddonNotesProvider).ROOT_CACHE_KEY="mmaNotes:",e.ɵfac=function AddonNotesProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotesProvider})();const w=(0,u.Qd)(b)},30494:(e,n,r)=>{"use strict";r.d(n,{Ah:()=>s,IS:()=>a,Io:()=>o,Km:()=>i,gw:()=>c,uF:()=>u});const o="addon_notifications_read_changed_event",i="addon_notifications_read_cron_event",s="AddonNotificationsPushSimulation",a=20,c="notifications",u="notifications"},55388:(e,n,r)=>{"use strict";r.d(n,{J:()=>ee,T:()=>getNotificationsServices});var o=r(10467),i=r(54438),s=r(26135),a=r(95376),c=r(16844),u=r(42858),p=r(71758),f=r(63196),g=r(52749),v=r(81690),C=r(79555),b=r(49882),w=r(70318),A=r(98320),_=r(36684),E=r(30494);let I=(()=>{var e;class AddonNotificationsMainMenuHandlerService{constructor(){this.name="AddonNotifications",this.priority=600,this.handlerData={icon:"fas-bell",title:"addon.notifications.notifications",page:E.gw,class:"addon-notifications-handler",showBadge:!0,badge:"",badgeA11yText:"addon.notifications.unreadnotification",loading:!0}}initialize(){b.z.on(E.Io,(e=>{this.updateBadge(e.siteId)})),b.z.on(E.Km,(e=>{this.updateBadge(e.siteId)})),b.z.on(b.z.LOGOUT,(()=>{this.handlerData.badge="",this.handlerData.loading=!0})),p.CorePushNotificationsDelegate.on("receive").subscribe((e=>{v.j.isTrueOrOne(e.notif)&&g.CoreSites.isCurrentSite(e.site)&&this.updateBadge(e.site)})),p.CorePushNotificationsDelegate.registerCounterHandler(AddonNotificationsMainMenuHandlerService.name)}isEnabled(){return(0,o.A)((function*(){return!0}))()}getDisplayData(){return this.handlerData.loading&&this.updateBadge(),this.handlerData}updateBadge(e){var n=this;return(0,o.A)((function*(){if(e=e||g.CoreSites.getCurrentSiteId())try{const r=yield A.AddonNotifications.getUnreadNotificationsCount(void 0,e);n.handlerData.badge=r.count>0?r.count+(r.hasMore?"+":""):"",w.CorePushNotifications.updateAddonCounter(AddonNotificationsMainMenuHandlerService.name,r.count,e),b.z.trigger(_.MAIN_MENU_HANDLER_BADGE_UPDATED_EVENT,{handler:AddonNotificationsMainMenuHandlerService.name,value:r.count},e)}catch{n.handlerData.badge=""}finally{n.handlerData.loading=!1}}))()}}return(e=AddonNotificationsMainMenuHandlerService).ɵfac=function AddonNotificationsMainMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsMainMenuHandlerService})();const T=(0,C.Qd)(I);var P=r(18022);let k=(()=>{var e;class AddonNotificationsCronHandlerService{constructor(){this.name="AddonNotificationsCronHandler"}getInterval(){return P.CorePlatform.isMobile()?6e5:24e4}isSync(){return!1}canManualSync(){return!0}execute(e){return(0,o.A)((function*(){const n=g.CoreSites.getCurrentSite();g.CoreSites.isCurrentSite(e)&&n&&!n.isFeatureDisabled("CoreMainMenuDelegate_AddonNotifications")&&b.z.trigger(E.Km,{},g.CoreSites.getCurrentSiteId())}))()}}return(e=AddonNotificationsCronHandlerService).ɵfac=function AddonNotificationsCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsCronHandlerService})();const x=(0,C.Qd)(k);var F=r(15324),R=r(10883),N=r(26005),L=r(69534),H=r(55554),U=r(86552);let B=(()=>{var e;class AddonNotificationsPushClickHandlerService{constructor(){this.name="AddonNotificationsPushClickHandler",this.priority=0,this.featureName="CoreMainMenuDelegate_AddonNotifications"}handles(e){var n=this;return(0,o.A)((function*(){return!e.moodlecomponent||!!v.j.isTrueOrOne(e.notif)&&(n.markAsRead(e),!0)}))()}markAsRead(e){return(0,o.A)((function*(){yield H.g.ignoreErrors(N.AddonNotificationsHelper.markNotificationAsRead(e))}))()}handleClick(e){return(0,o.A)((function*(){var n,r;if(null!==(n=e.customdata)&&void 0!==n&&n.extendedtext)return L.m.viewText(e.title||"",e.customdata.extendedtext,{displayCopyButton:!0,modalOptions:{cssClass:"core-modal-fullscreen"}});if(null!==(r=e.customdata)&&void 0!==r&&r.appurl){const n=e.customdata.appurl;switch(e.customdata.appurlopenin){case"inapp":return U.j.openInApp(n),void 0;case"browser":return U.j.openInBrowser(n);default:if(yield R.CoreContentLinksHelper.handleLink(n,void 0,void 0,!0))return}}if(e.contexturl){if(yield R.CoreContentLinksHelper.handleLink(e.contexturl))return}yield H.g.ignoreErrors(A.AddonNotifications.invalidateNotificationsList(e.site)),yield F.CoreNavigator.navigateToSitePath(`${E.gw}/list`,{siteId:e.site,preferCurrentTab:!1,nextNavigation:{path:"../notification",options:{params:{notification:e}}}})}))()}}return(e=AddonNotificationsPushClickHandlerService).ɵfac=function AddonNotificationsPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsPushClickHandlerService})();const j=(0,C.Qd)(B);let V=(()=>{var e;class AddonNotificationsSettingsHandlerService{constructor(){this.name="AddonNotifications",this.priority=500}isEnabled(){return(0,o.A)((function*(){return!0}))()}getDisplayData(){return{icon:"fas-bell",title:"addon.notifications.notifications",page:E.uF,class:"addon-notifications-settings-handler"}}}return(e=AddonNotificationsSettingsHandlerService).ɵfac=function AddonNotificationsSettingsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsSettingsHandlerService})();const G=(0,C.Qd)(V);var z=r(49450),q=r(33504),W=r(71112);let K=(()=>{var e;class AddonNotificationsPreferencesLinkHandlerService extends W.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonNotificationsPreferencesLinkHandler",this.pattern=/\/message\/notificationpreferences\.php/,this.checkAllUsers=!0,this.featureName="CoreMainMenuDelegate_AddonNotifications"}getActions(){return[{action:(e=(0,o.A)((function*(e){yield F.CoreNavigator.navigateToSitePath(`preferences/${E.uF}`,{siteId:e})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(e,n,r){return(0,o.A)((function*(){if(r.userid){const n=yield g.CoreSites.getSite(e);if(Number(r.userid)!==n.getUserId())return!1}return!0}))()}}return(e=AddonNotificationsPreferencesLinkHandlerService).ɵfac=(()=>{let n;return function AddonNotificationsPreferencesLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsPreferencesLinkHandlerService})();const Q=(0,C.Qd)(K);let X=(()=>{var e;class AddonNotificationsLinkHandlerService extends W.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonNotificationsLinkHandler",this.pattern=/\/message\/output\/popup\/notifications\.php/,this.featureName="CoreMainMenuDelegate_AddonNotifications"}getActions(){return[{action:(e=(0,o.A)((function*(e){yield F.CoreNavigator.navigateToSitePath(E.gw,{preferCurrentTab:!1,siteId:e})})),function action(n){return e.apply(this,arguments)})}];var e}}return(e=AddonNotificationsLinkHandlerService).ɵfac=(()=>{let n;return function AddonNotificationsLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsLinkHandlerService})();const Y=(0,C.Qd)(X);function getNotificationsServices(){return _getNotificationsServices.apply(this,arguments)}function _getNotificationsServices(){return(_getNotificationsServices=(0,o.A)((function*(){const{AddonNotificationsProvider:e}=yield Promise.resolve().then(r.bind(r,98320)),{AddonNotificationsHelperProvider:n}=yield Promise.resolve().then(r.bind(r,26005));return[e,n]}))).apply(this,arguments)}const J=[{path:E.gw,loadChildren:()=>r.e(45414).then(r.bind(r,45414))}],Z=[{path:E.uF,loadComponent:()=>r.e(71891).then(r.bind(r,71891))}];let ee=(()=>{var e;class AddonNotificationsModule{}return(e=AddonNotificationsModule).ɵfac=function AddonNotificationsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{a.CoreMainMenuDelegate.registerHandler(T.instance),s.CoreCronDelegate.register(x.instance),p.CorePushNotificationsDelegate.registerClickHandler(j.instance),f.CoreSettingsDelegate.registerHandler(G.instance),q.CoreContentLinksDelegate.registerHandler(Y.instance),q.CoreContentLinksDelegate.registerHandler(Q.instance),T.initialize()}}],imports:[c.I.forChild({children:J}),u.b.forChild(J),z.h.forChild(Z)]}),AddonNotificationsModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(ee,{imports:[c.I,u.b,z.h]}))},26005:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonNotificationsHelper:()=>b,AddonNotificationsHelperProvider:()=>C});var o=r(10467),i=r(24502),s=r(79555),a=r(2806),c=r(98320),u=r(49882),p=r(24742),f=r(55554),g=r(30494),v=r(54438);let C=(()=>{var e;class AddonNotificationsHelperProvider{formatPreferences(e){const n=e;return n.processors.forEach((e=>{e.supported=a.AddonMessageOutputDelegate.hasHandler(e.name,!0)})),n.components.forEach((e=>{e.notifications.forEach((e=>{e.processorsByName=i.R.toObject(e.processors,"name")}))})),n}getProcessorComponents(e,n){const r=[];return n.forEach((n=>{const o=[];n.notifications.forEach((n=>{var r;(null===(r=n.processorsByName)||void 0===r?void 0:r[e])&&o.push(n)})),o.length&&r.push({displayname:n.displayname,notifications:o})})),r}markNotificationAsRead(e,n){return(0,o.A)((function*(){if("read"in e&&(e.read||e.timeread>0))return!1;const r="savedmessageid"in e&&Number(e.savedmessageid)||e.id;if(!r)return!1;n="site"in e?e.site:n,yield f.g.ignoreErrors(c.AddonNotifications.markNotificationRead(r,n));const o=p.j.timestamp();return"read"in e&&(e.read=!0,e.timeread=o),yield f.g.ignoreErrors(c.AddonNotifications.invalidateNotificationsList()),u.z.trigger(g.Io,{id:r,time:o},n),!0}))()}}return(e=AddonNotificationsHelperProvider).ɵfac=function AddonNotificationsHelperProvider_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsHelperProvider})();const b=(0,s.Qd)(C)},98320:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonNotifications:()=>A,AddonNotificationsGetReadType:()=>_,AddonNotificationsProvider:()=>w});var o=r(10467),i=r(52749),s=r(75383),a=r(24742),c=r(98870),u=r(6787),p=r(79555),f=r(97086),g=r(74431),v=r(30494),C=r(76833),b=r(54438);let w=(()=>{var e;class AddonNotificationsProvider{constructor(){this.logger=u.CoreLogger.getInstance("AddonNotificationsProvider")}convertPushToMessage(e){var n=this;return(0,o.A)((function*(){var r,o,a,c,u,f,g,v;const b=null!==(r=e.message)&&void 0!==r?r:"",w=null===(o=i.CoreSites.getCurrentSite())||void 0===o?void 0:o.getInfo();e.senderImage&&e.customdata&&!e.customdata.notificationiconurl&&(e.customdata.notificationiconurl=e.senderImage);const A={id:Number(e.savedmessageid)||e.id||0,useridfrom:e.userfromid?Number(e.userfromid):C.ER,userfromfullname:null!==(a=e.userfromfullname)&&void 0!==a?a:p.HT.instant("core.noreplyname"),useridto:e.usertoid?Number(e.usertoid):null!==(c=null==w?void 0:w.userid)&&void 0!==c?c:0,usertofullname:null!==(u=null==w?void 0:w.fullname)&&void 0!==u?u:"",subject:null!==(f=e.title)&&void 0!==f?f:"",text:b,fullmessage:b,fullmessageformat:s.C9,fullmessagehtml:b,smallmessage:b,notification:Number(null!==(g=e.notif)&&void 0!==g?g:1),contexturl:e.contexturl||null,contexturlname:null,timecreated:Number(null!==(v=e.date)&&void 0!==v?v:0),timeread:0,component:e.moodlecomponent,customdata:e.customdata?JSON.stringify(e.customdata):void 0};return(yield n.formatNotificationsData([A]))[0]}))()}formatNotificationsData(e){return(0,o.A)((function*(){const n=e.map(function(){var e=(0,o.A)((function*(e){var n;const r=e;if(r.mobiletext=r.fullmessagehtml||r.fullmessage||r.smallmessage||"",r.moodlecomponent=r.component,r.notification=1,r.notif=1,r.read=r.timeread>0,"string"==typeof r.customdata&&(r.customdata=s.Ni.parseJSON(r.customdata,{})),null!==(n=r.customdata)&&void 0!==n&&n.courseid)r.courseid=r.customdata.courseid;else if(!r.courseid){var o;const e=null===(o=r.fullmessagehtml)||void 0===o?void 0:o.match(/course\/view\.php\?id=([^"]*)/);null!=e&&e[1]&&(r.courseid=parseInt(e[1],10))}if(r.iconurl||r.moodlecomponent&&r.moodlecomponent.startsWith("mod_")&&(r.iconurl=yield f.CoreCourseModuleDelegate.getModuleIconSrc(r.moodlecomponent.replace("mod_",""))),r.useridfrom>0)try{const e=yield c.CoreUser.getProfile(r.useridfrom,r.courseid,!0);r.profileimageurlfrom=e.profileimageurl,r.userfromfullname=e.fullname}catch{}else if("newlogin"!==r.eventtype){var i,a;const e=(null===(i=r.customdata)||void 0===i?void 0:i.notificationpictureurl)||(null===(a=r.customdata)||void 0===a?void 0:a.notificationiconurl);r.imgUrl=e?String(e):void 0}return r}));return function(n){return e.apply(this,arguments)}}());return Promise.all(n)}))()}getNotificationPreferencesCacheKey(){return`${AddonNotificationsProvider.ROOT_CACHE_KEY}notificationPreferences`}getNotificationPreferences(e={}){var n=this;return(0,o.A)((function*(){n.logger.debug("Get notification preferences");const r=yield i.CoreSites.getSite(e.siteId),o={cacheKey:n.getNotificationPreferencesCacheKey(),updateFrequency:g.CoreCacheUpdateFrequency.SOMETIMES,...i.CoreSites.getReadingStrategyPreSets(e.readingStrategy)};return(yield r.read("core_message_get_user_notification_preferences",{},o)).preferences}))()}getNotificationsCacheKey(){return`${AddonNotificationsProvider.ROOT_CACHE_KEY}list`}getNotificationsWithStatus(e,n={}){var r=this;return(0,o.A)((function*(){n.offset=n.offset||0,n.limit=n.limit||v.IS;r.logger.debug(`Get ${e===_.READ?"read":e===_.UNREAD?"unread":"read and unread"} notifications from ${n.offset}. Limit: ${n.limit}`);const o=yield i.CoreSites.getSite(n.siteId),s={useridto:o.getUserId(),useridfrom:0,type:"notifications",read:e,newestfirst:!0,limitfrom:n.offset,limitnum:n.limit},a={cacheKey:r.getNotificationsCacheKey(),...i.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},c=yield o.read("core_message_get_messages",s,a);return r.formatNotificationsData(c.messages)}))()}getUnreadNotificationsCount(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);if(o.wsAvailable("core_message_get_unread_notification_count")){const n={useridto:e||o.getUserId()},i={cacheKey:r.getUnreadNotificationsCountCacheKey(n.useridto),getFromCache:!1,typeExpected:"number"};try{return{count:yield o.read("core_message_get_unread_notification_count",n,i),hasMore:!1}}catch{return{count:0,hasMore:!1}}}try{const e=yield r.getNotificationsWithStatus(_.UNREAD,{limit:v.IS+1,siteId:n});return{count:Math.min(e.length,v.IS),hasMore:e.length>v.IS}}catch{return{count:0,hasMore:!1}}}))()}getUnreadNotificationsCountCacheKey(e){return`${AddonNotificationsProvider.ROOT_CACHE_KEY}count:${e}`}markAllNotificationsAsRead(e){return(0,o.A)((function*(){const n=yield i.CoreSites.getSite(e),r={useridto:i.CoreSites.getCurrentSiteUserId()};return n.write("core_message_mark_all_notifications_as_read",r)}))()}markNotificationRead(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n),o={notificationid:e,timeread:a.j.timestamp()};return r.write("core_message_mark_notification_read",o)}))()}invalidateNotificationPreferences(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getNotificationPreferencesCacheKey())}))()}invalidateNotificationsList(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getNotificationsCacheKey())}))()}}return(e=AddonNotificationsProvider).ROOT_CACHE_KEY="mmaNotifications:",e.READ_CHANGED_EVENT=v.Io,e.READ_CRON_EVENT=v.Km,e.PUSH_SIMULATION_COMPONENT=v.Ah,e.LIST_LIMIT=v.IS,e.ɵfac=function AddonNotificationsProvider_Factory(n){return new(n||e)},e.ɵprov=b.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonNotificationsProvider})();const A=(0,p.Qd)(w);var _=function(e){return e[e.UNREAD=0]="UNREAD",e[e.READ=1]="READ",e[e.BOTH=2]="BOTH",e}(_||{})},46050:(e,n,r)=>{"use strict";r.d(n,{x:()=>o});const o="private"},86084:(e,n,r)=>{"use strict";r.d(n,{x:()=>w,z:()=>getPrivateFilesServices});var o=r(10467),i=r(54438),s=r(42858),a=r(5784),c=r(62960),u=r(79555),p=r(15324),f=r(52749),g=r(46050);let v=(()=>{var e;class AddonPrivateFilesUserHandlerService{constructor(){this.name="AddonPrivateFiles",this.priority=400,this.type=a.CoreUserProfileHandlerType.LIST_ITEM,this.cacheEnabled=!0}isEnabled(){return(0,o.A)((function*(){return c.AddonPrivateFiles.isPluginEnabled()}))()}isEnabledForContext(e){return(0,o.A)((function*(){if(e!==a.CoreUserDelegateContext.USER_MENU)return!1;const n=f.CoreSites.getCurrentSite();return!!n&&!n.isFeatureDisabled("CoreMainMenuDelegate_AddonPrivateFiles")}))()}isEnabledForUser(e,n){return(0,o.A)((function*(){return e.id==f.CoreSites.getCurrentSiteUserId()&&n===a.CoreUserDelegateContext.USER_MENU}))()}getDisplayData(){return{icon:"fas-folder",title:"addon.privatefiles.files",class:"addon-privatefiles-handler",action:e=>{e.preventDefault(),e.stopPropagation(),p.CoreNavigator.navigateToSitePath(g.x)}}}}return(e=AddonPrivateFilesUserHandlerService).ɵfac=function AddonPrivateFilesUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonPrivateFilesUserHandlerService})();const C=(0,u.Qd)(v);function getPrivateFilesServices(){return _getPrivateFilesServices.apply(this,arguments)}function _getPrivateFilesServices(){return(_getPrivateFilesServices=(0,o.A)((function*(){const{AddonPrivateFilesProvider:e}=yield Promise.resolve().then(r.bind(r,62960)),{AddonPrivateFilesHelperProvider:n}=yield r.e(72076).then(r.bind(r,91029));return[e,n]}))).apply(this,arguments)}const b=[{path:g.x,loadChildren:()=>[{path:"",redirectTo:"root",pathMatch:"full"},{path:"root",loadComponent:()=>Promise.all([r.e(72076),r.e(44836)]).then(r.bind(r,44836))},{path:":hash",loadComponent:()=>Promise.all([r.e(72076),r.e(44836)]).then(r.bind(r,44836))}]}];let w=(()=>{var e;class AddonPrivateFilesModule{}return(e=AddonPrivateFilesModule).ɵfac=function AddonPrivateFilesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{a.CoreUserDelegate.registerHandler(C.instance)}}],imports:[s.b.forChild(b)]}),AddonPrivateFilesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(w,{imports:[s.b]}))},62960:(e,n,r)=>{"use strict";r.r(n),r.d(n,{AddonPrivateFiles:()=>g,AddonPrivateFilesProvider:()=>f});var o=r(10467),i=r(52749),s=r(12364),a=r(79555),c=r(74431),u=r(16082),p=r(54438);let f=(()=>{var e;class AddonPrivateFilesProvider{canViewPrivateFiles(){const e=i.CoreSites.getCurrentSite();return!!e&&(e.canAccessMyFiles()&&!this.isPrivateFilesDisabledInSite())}canViewSiteFiles(){return!this.isSiteFilesDisabledInSite()}canUploadFiles(){const e=i.CoreSites.getCurrentSite();return!!e&&(e.canAccessMyFiles()&&e.canUploadFiles()&&!this.isUploadDisabledInSite())}getFiles(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),a={cacheKey:r.getFilesListCacheKey(e),updateFrequency:c.CoreCacheUpdateFrequency.SOMETIMES},u=yield o.read("core_files_get_files",e,a);return u.files?u.files.map((e=>(e.fileurl=e.url,e.imgPath=e.isdir?s.A.getFileIconForType("folder",o):s.A.getFileIcon(e.filename,o),e))):[]}))()}getFilesListCacheKey(e){return`${AddonPrivateFilesProvider.ROOT_CACHE_KEY}list:${e.component?"my":"site"}:${e.contextid}:${e.filepath}`}getPrivateFiles(){return this.getFiles(this.getPrivateFilesRootParams())}getPrivateFilesRootParams(){var e;return{contextid:-1,component:"user",filearea:"private",contextlevel:"user",instanceid:null===(e=i.CoreSites.getCurrentSite())||void 0===e?void 0:e.getUserId(),itemid:0,filepath:"",filename:""}}getPrivateFilesInfo(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s={userid:e=e||o.getUserId()},a={cacheKey:r.getPrivateFilesInfoCacheKey(e),updateFrequency:c.CoreCacheUpdateFrequency.SOMETIMES};return o.read("core_user_get_private_files_info",s,a)}))()}getPrivateFilesInfoCacheKey(e){return`${this.getPrivateFilesInfoCommonCacheKey()}:${e}`}getPrivateFilesInfoCommonCacheKey(){return`${AddonPrivateFilesProvider.ROOT_CACHE_KEY}privateInfo`}getSiteFiles(){return this.getFiles(this.getSiteFilesRootParams())}getSiteFilesRootParams(){return{contextid:0,component:"",filearea:"",itemid:0,filepath:"",filename:""}}invalidateDirectory(e,n,r){var s=this;return(0,o.A)((function*(){if(!e)return;n||(n="site"===e?s.getSiteFilesRootParams():s.getPrivateFilesRootParams());const o=yield i.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(s.getFilesListCacheKey(n))}))()}invalidatePrivateFilesInfo(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getPrivateFilesInfoCommonCacheKey())}))()}invalidatePrivateFilesInfoForUser(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getPrivateFilesInfoCacheKey(e||o.getUserId()))}))()}isDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isDisabledInSite(r)}))()}isDisabledInSite(e){return(e=e||i.CoreSites.getCurrentSite()).isFeatureDisabled("CoreMainMenuDelegate_AddonPrivateFiles")}isPluginEnabled(){return this.canViewPrivateFiles()||this.canViewSiteFiles()||this.canUploadFiles()}isPrivateFilesDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isPrivateFilesDisabledInSite(r)}))()}isPrivateFilesDisabledInSite(e){return!!(e=e||i.CoreSites.getCurrentSite())&&e.isFeatureDisabled("AddonPrivateFilesPrivateFiles")}isSiteFilesDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isSiteFilesDisabledInSite(r)}))()}isSiteFilesDisabledInSite(e){return!!(e=e||i.CoreSites.getCurrentSite())&&e.isFeatureDisabled("AddonPrivateFilesSiteFiles")}isUploadDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isUploadDisabledInSite(r)}))()}isUploadDisabledInSite(e){return!!(e=e||i.CoreSites.getCurrentSite())&&e.isFeatureDisabled("AddonPrivateFilesUpload")}moveFromDraftToPrivate(e,n){return(0,o.A)((function*(){const r={draftid:e};return(yield i.CoreSites.getSite(n)).write("core_user_add_user_private_files",r,{responseExpected:!1})}))()}deleteFiles(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n),{draftitemid:o}=yield r.write("core_user_prepare_private_files_for_edition",{});yield u.CoreFileUploader.deleteDraftFiles(o,e.map((e=>({filename:e.filename,filepath:e.filepath})))),yield r.write("core_user_update_private_files",{draftitemid:o})}))()}canDeletePrivateFiles(e){return(0,o.A)((function*(){const n=yield i.CoreSites.getSite(e);return n.wsAvailable("core_user_update_private_files")&&n.canUseAdvancedFeature("privatefiles")}))()}}return(e=AddonPrivateFilesProvider).ROOT_CACHE_KEY="mmaFiles:",e.PRIVATE_FILES_COMPONENT="mmaFilesMy",e.SITE_FILES_COMPONENT="mmaFilesSite",e.ɵfac=function AddonPrivateFilesProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonPrivateFilesProvider})();const g=(0,a.Qd)(f)},26556:(e,n,r)=>{"use strict";r.d(n,{P:()=>o});const o="storage"},94114:(e,n,r)=>{"use strict";r.d(n,{Tu:()=>isEmptyRoute,VI:()=>conditionalRoutes,b1:()=>resolveModuleRoutes,td:()=>buildRegExpUrlMatcher,uH:()=>c});var o=r(54438),i=r(21182);const s=new WeakMap;function buildAppRoutes(e){return e.get(a,[]).flat()}function buildConditionalUrlMatcher(e,n){return(r,o,i)=>{if(!n())return null;if("function"==typeof e)return e(r,o,i);const s=e,a=s.split("/"),c="full"===i.pathMatch,u={};if(""===s)return c&&0!==r.length?null:{consumed:[]};if(a.length>r.length)return null;if(c&&(o.hasChildren()||a.length<r.length))return null;for(let e=0;e<a.length;e++){const n=a[e],o=r[e];if(n.startsWith(":"))u[n.substring(1)]=o;else if(n!==o.path)return null}return{consumed:r.slice(0,a.length),posParams:u}}}function buildRegExpUrlMatcher(e){return n=>{var r;if(0===n.length)return null;const o=n.map((e=>e.path)).join("/"),i=null===(r=e.exec(o))||void 0===r?void 0:r[0];if(!i||!o.startsWith(i))return null;const[s,a]=n.slice(1).reduce((([e,n],r)=>n===i?[e,n]:[e.concat(r),`${n}/${r.path}`]),[[n[0]],n[0].path]);return a!==i?null:{consumed:s}}}function conditionalRoutes(e,n){return e.map((e=>{const{path:r,matcher:o,...i}=e,s=null!=o?o:r;if(void 0===s)throw new Error("Route defined without matcher nor path");return{...i,matcher:buildConditionalUrlMatcher(s,n)}}))}function isEmptyRoute(e){return!("component"in e||"loadComponent"in e||"children"in e||"loadChildren"in e||"redirectTo"in e)}function resolveModuleRoutes(e,n){if(s.has(n))return s.get(n);const r=e.get(n,[]).map((e=>Array.isArray(e)?{children:[],siblings:e}:{children:e.children||[],siblings:e.siblings||[]})),o={children:r.map((e=>e.children)).flat(),siblings:r.map((e=>e.siblings)).flat()};return s.set(n,o),o}const a=new o.nKC("APP_ROUTES");let c=(()=>{var e;class AppRoutingModule{static forChild(e){return{ngModule:AppRoutingModule,providers:[{provide:a,multi:!0,useValue:e}]}}}return(e=AppRoutingModule).ɵfac=function AppRoutingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:i.bw,multi:!0,useFactory:buildAppRoutes,deps:[o.zZn]}],imports:[i.iI.forRoot([])]}),AppRoutingModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(c,{imports:[i.iI]}))},2469:(e,n,r)=>{"use strict";r.d(n,{V:()=>u});var o=r(89417),i=r(73955),s=r(60177),a=r(2910),c=r(54438);let u=(()=>{var e;class CoreBaseModule{}return(e=CoreBaseModule).ɵfac=function CoreBaseModule_Factory(n){return new(n||e)},e.ɵmod=c.$C({type:e}),e.ɵinj=c.G2t({imports:[i.h.forChild(),s.MD,o.YN,a.bv,o.X1,i.h]}),CoreBaseModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&c.Obh(u,{imports:[i.h],exports:[s.MD,o.YN,a.bv,o.X1,i.h]}))},68793:(e,n,r)=>{"use strict";r.d(n,{m:()=>CoreAriaRoleTab});class CoreAriaRoleTab{constructor(e){this.componentInstance=e}keyDown(e,n){" "!==n.key&&"Enter"!==n.key&&"Home"!==n.key&&"End"!==n.key&&(!this.isHorizontal()||"ArrowRight"!==n.key&&"ArrowLeft"!==n.key)&&(this.isHorizontal()||"ArrowUp"!==n.key&&"ArrowDown"!==n.key)||(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())," "!==n.key&&"Enter"!==n.key||(this.selectTabCandidate=e)}keyUp(e,n){if(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation()," "===n.key||"Enter"===n.key)return this.selectTabCandidate===e&&this.selectTab(e,n),this.selectTabCandidate=void 0,void 0;const r=this.getSelectableTabs();let o=r.findIndex((n=>e==n.findIndex));const i=this.isHorizontal()?"ArrowLeft":"ArrowUp",s=this.isHorizontal()?"ArrowRight":"ArrowDown";switch(n.key){case s:o++,o>=r.length&&(o=0);break;case"Home":o=0;break;case i:o--,o<0&&(o=r.length-1);break;case"End":o=r.length-1;break;default:return}const a=document.querySelector(`ion-tab-button[aria-controls=${r[o].id}]`);null==a||a.focus()}selectTab(e,n){}getSelectableTabs(){return[]}isHorizontal(){return!0}}},42008:(e,n,r)=>{"use strict";r.d(n,{D:()=>CoreSyncBlockedError,l:()=>CoreSyncBaseProvider});var o=r(10467),i=r(94455),s=r(52749),a=r(48966),c=r(75383),u=r(24742),p=r(79555),f=r(6787),g=r(75629),v=r(49588);class CoreSyncBlockedError extends g.CoreError{}class CoreSyncBaseProvider{constructor(e){this.component="core",this.componentTranslatableString="generic component",this.syncInterval=3e5,this.syncPromises={},this.logger=f.CoreLogger.getInstance(e),this.component=e}addOfflineDataDeletedWarning(e,n,r){const o=this.getOfflineDataDeletedWarning(n,r);-1==e.indexOf(o)&&e.push(o)}addOngoingSync(e,n,r){var i=this;return(0,o.A)((function*(){if(!(r=r||s.CoreSites.getCurrentSiteId()))throw new g.CoreError("CoreSyncBaseProvider: Site ID not supplied");const o=i.getUniqueSyncId(e);i.syncPromises[r]||(i.syncPromises[r]={}),i.syncPromises[r][o]=n;try{return yield n}finally{delete i.syncPromises[r][o]}}))()}getOfflineDataDeletedWarning(e,n){return p.HT.instant("core.warningofflinedatadeleted",{component:this.componentTranslate,name:e,error:v.CoreErrorHelper.getErrorMessageFromError(n)})}getOngoingSync(e,n){n=n||s.CoreSites.getCurrentSiteId();const r=this.getUniqueSyncId(e);if(this.syncPromises[n]&&void 0!==this.syncPromises[n][r])return this.syncPromises[n][r]}getReadableSyncTime(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getSyncTime(e,n);return r.getReadableTimeFromTimestamp(o)}))()}getReadableTimeFromTimestamp(e){return e?u.j.userDate(e):p.HT.instant("core.never")}getSyncTime(e,n){var r=this;return(0,o.A)((function*(){try{return(yield a.CoreSync.getSyncRecord(r.component,e,n)).time}catch{return 0}}))()}getSyncWarnings(e,n){var r=this;return(0,o.A)((function*(){try{const o=yield a.CoreSync.getSyncRecord(r.component,e,n);return c.Ni.parseJSON(o.warnings,[])}catch{return[]}}))()}getUniqueSyncId(e){return`${this.component}#${e}`}isSyncing(e,n){return!!this.getOngoingSync(e,n)}isSyncNeeded(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getSyncTime(e,n);return Date.now()-r.syncInterval>=o}))()}setSyncTime(e,n,r){var i=this;return(0,o.A)((function*(){r=void 0!==r?r:Date.now(),yield a.CoreSync.insertOrUpdateSyncRecord(i.component,e,{time:r},n)}))()}setSyncWarnings(e,n,r){var i=this;return(0,o.A)((function*(){const o=JSON.stringify(n||[]);yield a.CoreSync.insertOrUpdateSyncRecord(i.component,e,{warnings:o},r)}))()}syncOnSites(e,n,r){var a=this;return(0,o.A)((function*(){if(!i.WE.isOnline()){const n=`Cannot sync '${e}' because device is offline.`;throw a.logger.debug(n),new g.CoreError(n)}let o=[];r?(a.logger.debug(`Try to sync '${e}' in site '${r}'.`),o=[r]):(a.logger.debug(`Try to sync '${e}' in all sites.`),o=yield s.CoreSites.getLoggedInSitesIds()),yield Promise.all(o.map((e=>n(e))))}))()}waitForSync(e,n){var r=this;return(0,o.A)((function*(){const o=r.getOngoingSync(e,n);if(o)try{return yield o}catch{return}}))()}get componentTranslate(){return this.componentTranslateInternal||(this.componentTranslateInternal=p.HT.instant(this.componentTranslatableString)),this.componentTranslateInternal}}},3805:(e,n,r)=>{"use strict";r.d(n,{Y:()=>CoreCache});class CoreCache{constructor(){this.cacheStore={}}clear(){this.cacheStore={}}getEntry(e){return this.cacheStore[e]||(this.cacheStore[e]={}),this.cacheStore[e]}getValue(e,n,r=!1){const o=this.getEntry(e);if(o[n]&&void 0!==o[n].value){const e=Date.now();if(r||o[n].timemodified+3e5>=e)return o[n].value}}invalidate(e){const n=this.getEntry(e);for(const e in n)n[e].timemodified=0}setValue(e,n,r){return this.getEntry(e)[n]={value:r,timemodified:Date.now()},r}}},18725:(e,n,r)=>{"use strict";r.d(n,{f:()=>CoreCancellablePromise});var o=r(42342);class CoreCancellablePromise extends o.L{static resolve(e){return new this((n=>e?n(e):n()),(()=>{}))}constructor(e,n){super(new Promise(e)),this.cancelPromise=n}cancel(){this.cancelPromise()}}},71689:(e,n,r)=>{"use strict";r.d(n,{T:()=>g,D:()=>CoreDatabaseTableProxy});var o=r(10467),i=r(74431),s=r(89312),a=r(85190),c=r(49882),u=r(75629);class CoreDatabaseTable{constructor(e,n,r,o,i){this.listeners=[],this.config=e,this.database=n,this.tableName=r,this.primaryKeyColumns=null!=o?o:["id"],this.rowIdColumn=null===i?null:null!=i?i:"id"}getConfig(){return this.config}getDatabase(){return this.database}getTableName(){return this.tableName}getPrimaryKeyColumns(){return this.primaryKeyColumns.slice(0)}initialize(){return(0,o.A)((function*(){}))()}destroy(){var e=this;return(0,o.A)((function*(){e.listeners.forEach((e=>{var n;return null===(n=e.onDestroy)||void 0===n?void 0:n.call(e)}))}))()}addListener(e){this.listeners.push(e)}matchesConfig(e){return!0}getMany(e,n){if(!e&&!n)return this.database.getAllRecords(this.tableName);const r=(null==n?void 0:n.sorting)&&this.normalizedSorting(n.sorting).map((([e,n])=>`${e.toString()} ${n}`)).join(", ");return this.database.getRecords(this.tableName,e,r,"*",null==n?void 0:n.offset,null==n?void 0:n.limit)}getManyWhere(e){return this.database.getRecordsSelect(this.tableName,e.sql,e.sqlParams)}getOne(e,n){var r=this;return(0,o.A)((function*(){if(!n)return r.database.getRecord(r.tableName,e);const o=yield r.getMany(e,{...n,limit:1});if(0===o.length)throw new u.CoreError("No records found.");return o[0]}))()}getOneByPrimaryKey(e){return this.database.getRecord(this.tableName,e)}reduce(e,n){var r;return this.database.getFieldSql(`SELECT ${e.sql} FROM ${this.tableName} ${null!==(r=null==n?void 0:n.sql)&&void 0!==r?r:""}`,null==n?void 0:n.sqlParams)}isEmpty(){var e=this;return(0,o.A)((function*(){return!(yield e.hasAny())}))()}hasAny(e){var n=this;return(0,o.A)((function*(){try{return yield n.getOne(e),!0}catch{return!1}}))()}hasAnyByPrimaryKey(e){var n=this;return(0,o.A)((function*(){try{return yield n.getOneByPrimaryKey(e),!0}catch(e){return!1}}))()}count(e){return this.database.countRecords(this.tableName,e)}insert(e){var n=this;return(0,o.A)((function*(){return yield n.database.insertRecord(n.tableName,e)}))()}syncInsert(e){this.insert(e)}update(e,n){var r=this;return(0,o.A)((function*(){yield r.database.updateRecords(r.tableName,e,n)}))()}updateWhere(e,n){var r=this;return(0,o.A)((function*(){yield r.database.updateRecordsWhere(r.tableName,e,n.sql,n.sqlParams)}))()}delete(e){var n=this;return(0,o.A)((function*(){e?yield n.database.deleteRecords(n.tableName,e):yield n.database.deleteRecords(n.tableName)}))()}deleteWhere(e){var n=this;return(0,o.A)((function*(){yield n.database.deleteRecordsSelect(n.tableName,e.sql,e.sqlParams)}))()}deleteByPrimaryKey(e){var n=this;return(0,o.A)((function*(){yield n.database.deleteRecords(n.tableName,e)}))()}getPrimaryKeyFromRecord(e){return this.primaryKeyColumns.reduce(((n,r)=>(n[r]=e[r],n)),{})}serializePrimaryKey(e){return Object.values(e).map((e=>String(e))).join("-")}recordMatches(e,n){return!Object.entries(n).some((([n,r])=>e[n]!==r))}sortRecords(e,n){const r=this.normalizedSorting(n);return e.sort(((e,n)=>{for(const[s,a]of r){var o,i;const r=null!==(o=e[s])&&void 0!==o?o:0,c=null!==(i=n[s])&&void 0!==i?i:0;if(r>c)return"desc"===a?-1:1;if(r<c)return"desc"===a?1:-1}return 0})),e}normalizedSorting(e){return(Array.isArray(e)?e:[e]).reduce(((e,n)=>(e.push("object"==typeof n?[Object.keys(n)[0],Object.values(n)[0]]:[n,"asc"]),e)),[])}}var p,f=r(6787);class CoreDebugDatabaseTable extends CoreDatabaseTable{constructor(e){super(e.getConfig(),e.getDatabase(),e.getTableName(),e.getPrimaryKeyColumns()),this.target=e,this.logger=f.CoreLogger.getInstance(`CoreDatabase[${this.tableName}]`)}getTarget(){return this.target}initialize(){var _superprop_getInitialize=()=>super.initialize,e=this;return(0,o.A)((function*(){return yield _superprop_getInitialize().call(e),e.logger.log("initialize",e.target),e.target.initialize()}))()}destroy(){var _superprop_getDestroy=()=>super.destroy,e=this;return(0,o.A)((function*(){return yield _superprop_getDestroy().call(e),e.logger.log("destroy"),e.target.destroy()}))()}getMany(e,n){return this.logger.log("getMany",e,n),this.target.getMany(e,n)}getManyWhere(e){return this.logger.log("getManyWhere",e),this.target.getManyWhere(e)}getOne(e,n){return this.logger.log("getOne",e,n),this.target.getOne(e,n)}getOneByPrimaryKey(e){return this.logger.log("findByPrimaryKey",e),this.target.getOneByPrimaryKey(e)}reduce(e,n){return this.logger.log("reduce",e,n),this.target.reduce(e,n)}hasAny(e){return this.logger.log("hasAny",e),this.target.hasAny(e)}hasAnyByPrimaryKey(e){return this.logger.log("hasAnyByPrimaryKey",e),this.target.hasAnyByPrimaryKey(e)}count(e){return this.logger.log("count",e),this.target.count(e)}insert(e){return this.logger.log("insert",e),this.target.insert(e)}update(e,n){return this.logger.log("update",e,n),this.target.update(e,n)}updateWhere(e,n){return this.logger.log("updateWhere",e,n),this.target.updateWhere(e,n)}delete(e){return this.logger.log("delete",e),this.target.delete(e)}deleteWhere(e){var n=this;return(0,o.A)((function*(){return n.logger.log("deleteWhere",e),n.target.deleteWhere(e)}))()}deleteByPrimaryKey(e){return this.logger.log("deleteByPrimaryKey",e),this.target.deleteByPrimaryKey(e)}}class CoreInMemoryDatabaseTable extends CoreDatabaseTable{initialize(){var _superprop_getInitialize=()=>super.initialize,e=this;return(0,o.A)((function*(){var n;yield _superprop_getInitialize().call(e);const r=null!==(n=CoreInMemoryDatabaseTable.ACTIVE_TABLES.get(e.database))&&void 0!==n?n:new Set;if(r.has(e.tableName)){const n=`Trying to create multiple instances of an in-memory table for '${e.tableName}', use singletons instead.`;if(!i.CoreConstants.BUILD.isProduction)throw new Error(n);CoreInMemoryDatabaseTable.LOGGER.warn(n)}r.add(e.tableName),CoreInMemoryDatabaseTable.ACTIVE_TABLES.set(e.database,r)}))()}destroy(){var _superprop_getDestroy=()=>super.destroy,e=this;return(0,o.A)((function*(){yield _superprop_getDestroy().call(e);const n=CoreInMemoryDatabaseTable.ACTIVE_TABLES.get(e.database);null==n||n.delete(e.tableName),0===(null==n?void 0:n.size)&&CoreInMemoryDatabaseTable.ACTIVE_TABLES.delete(e.database)}))()}insertAndRemember(e,n){var _superprop_getInsert=()=>super.insert,r=this;return(0,o.A)((function*(){const o=yield _superprop_getInsert().call(r,e),i=r.rowIdColumn&&!(r.rowIdColumn in e)?Object.assign({[r.rowIdColumn]:o},e):e,s=r.serializePrimaryKey(r.getPrimaryKeyFromRecord(i));return n[s]=i,o}))()}updateMemoryRecord(e,n,r){const o=this.serializePrimaryKey(this.getPrimaryKeyFromRecord(e));Object.assign(e,n);const i=this.serializePrimaryKey(this.getPrimaryKeyFromRecord(e));i!==o&&(delete r[o],r[i]=e)}}(p=CoreInMemoryDatabaseTable).ACTIVE_TABLES=new WeakMap,p.LOGGER=f.CoreLogger.getInstance("CoreInMemoryDatabaseTable");class CoreEagerDatabaseTable extends CoreInMemoryDatabaseTable{constructor(){super(...arguments),this.records={}}initialize(){var _superprop_getInitialize=()=>super.initialize,_superprop_getGetMany=()=>super.getMany,e=this;return(0,o.A)((function*(){yield _superprop_getInitialize().call(e);const n=yield _superprop_getGetMany().call(e);e.records=n.reduce(((n,r)=>(n[e.serializePrimaryKey(e.getPrimaryKeyFromRecord(r))]=r,n)),{})}))()}getMany(e,n){var r=this;return(0,o.A)((function*(){var o;const i=Object.values(r.records),s=e?i.filter((n=>r.recordMatches(n,e))):i;return null!=n&&n.sorting&&r.sortRecords(s,n.sorting),s.slice(null!==(o=null==n?void 0:n.offset)&&void 0!==o?o:0,null==n?void 0:n.limit)}))()}getManyWhere(e){var n=this;return(0,o.A)((function*(){return Object.values(n.records).filter((n=>e.js(n)))}))()}getOne(e,n){var r=this;return(0,o.A)((function*(){let o;if(o=null!=n&&n.sorting?r.getMany(e,{...n,limit:1})[0]:e?Object.values(r.records).find((n=>r.recordMatches(n,e))):Object.values(r.records)[0],!o)throw new u.CoreError("No records found.");return o}))()}getOneByPrimaryKey(e){var n=this;return(0,o.A)((function*(){var r;const o=null!==(r=n.records[n.serializePrimaryKey(e)])&&void 0!==r?r:null;if(null===o)throw new u.CoreError("No records found.");return o}))()}reduce(e,n){var r=this;return(0,o.A)((function*(){return Object.values(r.records).reduce(((r,o)=>!n||n.js(o)?e.js(r,o):r),e.jsInitialValue)}))()}hasAny(e){var n=this;return(0,o.A)((function*(){return e?Object.values(n.records).some((r=>n.recordMatches(r,e))):Object.values(n.records).length>0}))()}hasAnyByPrimaryKey(e){var n=this;return(0,o.A)((function*(){return n.serializePrimaryKey(e)in n.records}))()}count(e){var n=this;return(0,o.A)((function*(){return e?Object.values(n.records).filter((r=>n.recordMatches(r,e))).length:Object.values(n.records).length}))()}insert(e){var n=this;return(0,o.A)((function*(){return yield n.insertAndRemember(e,n.records)}))()}update(e,n){var _superprop_getUpdate=()=>super.update,r=this;return(0,o.A)((function*(){yield _superprop_getUpdate().call(r,e,n);for(const o of Object.values(r.records))n&&!r.recordMatches(o,n)||r.updateMemoryRecord(o,e,r.records)}))()}updateWhere(e,n){var _superprop_getUpdateWhere=()=>super.updateWhere,r=this;return(0,o.A)((function*(){yield _superprop_getUpdateWhere().call(r,e,n);for(const o of Object.values(r.records))n.js(o)&&r.updateMemoryRecord(o,e,r.records)}))()}delete(e){var _superprop_getDelete=()=>super.delete,n=this;return(0,o.A)((function*(){if(yield _superprop_getDelete().call(n,e),!e)return n.records={},void 0;Object.entries(n.records).forEach((([r,o])=>{n.recordMatches(o,e)&&delete n.records[r]}))}))()}deleteWhere(e){var _superprop_getDeleteWhere=()=>super.deleteWhere,n=this;return(0,o.A)((function*(){yield _superprop_getDeleteWhere().call(n,e),Object.entries(n.records).forEach((([n,r])=>{e.js(r)&&delete r[n]}))}))()}deleteByPrimaryKey(e){var _superprop_getDeleteByPrimaryKey=()=>super.deleteByPrimaryKey,n=this;return(0,o.A)((function*(){yield _superprop_getDeleteByPrimaryKey().call(n,e),delete n.records[n.serializePrimaryKey(e)]}))()}}class CoreLazyDatabaseTable extends CoreInMemoryDatabaseTable{constructor(){super(...arguments),this.DEFAULT_CACHE_LIFETIME=6e4,this.records={}}initialize(){var _superprop_getInitialize=()=>super.initialize,e=this;return(0,o.A)((function*(){var n;yield _superprop_getInitialize().call(e),e.interval=window.setInterval((()=>e.records={}),null!==(n=e.config.lazyCacheLifetime)&&void 0!==n?n:e.DEFAULT_CACHE_LIFETIME)}))()}destroy(){var _superprop_getDestroy=()=>super.destroy,e=this;return(0,o.A)((function*(){yield _superprop_getDestroy().call(e),e.interval&&window.clearInterval(e.interval)}))()}matchesConfig(e){var n,r;const o=null!==(n=this.config.lazyCacheLifetime)&&void 0!==n?n:this.DEFAULT_CACHE_LIFETIME,i=null!==(r=e.lazyCacheLifetime)&&void 0!==r?r:this.DEFAULT_CACHE_LIFETIME;return super.matchesConfig(e)&&o===i}getOne(e,n){var _superprop_getGetOne=()=>super.getOne,r=this;return(0,o.A)((function*(){const o=yield _superprop_getGetOne().call(r,e,n);return r.records[r.serializePrimaryKey(r.getPrimaryKeyFromRecord(o))]=o,o}))()}getOneByPrimaryKey(e){var _superprop_getGetOneByPrimaryKey=()=>super.getOneByPrimaryKey,n=this;return(0,o.A)((function*(){const r=n.serializePrimaryKey(e);if(!(r in n.records))try{const o=yield _superprop_getGetOneByPrimaryKey().call(n,e);return n.records[r]=o,o}catch(e){throw n.records[r]=null,e}const o=n.records[r];if(!o)throw new u.CoreError("No records found.");return o}))()}hasAny(e){var _superprop_getHasAny=()=>super.hasAny,n=this;return(0,o.A)((function*(){return!!Object.values(n.records).some((r=>null!==r&&(!e||n.recordMatches(r,e))))||_superprop_getHasAny().call(n,e)}))()}hasAnyByPrimaryKey(e){var n=this;return(0,o.A)((function*(){var r;return null!==(null!==(r=n.records[n.serializePrimaryKey(e)])&&void 0!==r?r:null)}))()}insert(e){var n=this;return(0,o.A)((function*(){return yield n.insertAndRemember(e,n.records)}))()}update(e,n){var _superprop_getUpdate=()=>super.update,r=this;return(0,o.A)((function*(){yield _superprop_getUpdate().call(r,e,n);for(const o of Object.values(r.records))!o||n&&!r.recordMatches(o,n)||r.updateMemoryRecord(o,e,r.records)}))()}updateWhere(e,n){var _superprop_getUpdateWhere=()=>super.updateWhere,r=this;return(0,o.A)((function*(){yield _superprop_getUpdateWhere().call(r,e,n);for(const o of Object.values(r.records))o&&n.js(o)&&r.updateMemoryRecord(o,e,r.records)}))()}delete(e){var _superprop_getDelete=()=>super.delete,n=this;return(0,o.A)((function*(){yield _superprop_getDelete().call(n,e);for(const[r,o]of Object.entries(n.records))!o||e&&!n.recordMatches(o,e)||(n.records[r]=null)}))()}deleteWhere(e){var _superprop_getDeleteWhere=()=>super.deleteWhere,n=this;return(0,o.A)((function*(){yield _superprop_getDeleteWhere().call(n,e),Object.entries(n.records).forEach((([r,o])=>{o&&e.js(o)&&(n.records[r]=null)}))}))()}deleteByPrimaryKey(e){var _superprop_getDeleteByPrimaryKey=()=>super.deleteByPrimaryKey,n=this;return(0,o.A)((function*(){yield _superprop_getDeleteByPrimaryKey().call(n,e),n.records[n.serializePrimaryKey(e)]=null}))()}}class CoreDatabaseTableProxy extends CoreDatabaseTable{constructor(){super(...arguments),this.DEFAULT_CACHING_STRATEGY=g.None,this.target=(0,s.A)(),this.targetConstructors={[g.Eager]:CoreEagerDatabaseTable,[g.Lazy]:CoreLazyDatabaseTable,[g.None]:CoreDatabaseTable}}initialize(){var _superprop_getInitialize=()=>super.initialize,e=this;return(0,o.A)((function*(){yield _superprop_getInitialize().call(e),e.environmentObserver=c.z.on(a.CoreConfigProvider.ENVIRONMENT_UPDATED,(0,o.A)((function*(){(yield e.shouldUpdateTarget())&&e.updateTarget()}))),yield e.updateTarget()}))()}destroy(){var _superprop_getDestroy=()=>super.destroy,e=this;return(0,o.A)((function*(){var n;yield _superprop_getDestroy().call(e),null===(n=e.environmentObserver)||void 0===n||n.off()}))()}matchesConfig(e){var n,r,o,i;const s=null!==(n=this.config.debug)&&void 0!==n&&n,a=null!==(r=this.config.cachingStrategy)&&void 0!==r?r:this.DEFAULT_CACHING_STRATEGY,c=null!==(o=e.debug)&&void 0!==o&&o,u=null!==(i=e.cachingStrategy)&&void 0!==i?i:this.DEFAULT_CACHING_STRATEGY;return super.matchesConfig(e)&&s===c&&a===u}getMany(e,n){var r=this;return(0,o.A)((function*(){return r.target.getMany(e,n)}))()}getManyWhere(e){return this.target.getManyWhere(e)}getOne(e,n){var r=this;return(0,o.A)((function*(){return r.target.getOne(e,n)}))()}getOneByPrimaryKey(e){var n=this;return(0,o.A)((function*(){return n.target.getOneByPrimaryKey(e)}))()}reduce(e,n){var r=this;return(0,o.A)((function*(){return r.target.reduce(e,n)}))()}hasAny(e){return this.target.hasAny(e)}hasAnyByPrimaryKey(e){return this.target.hasAnyByPrimaryKey(e)}count(e){return this.target.count(e)}insert(e){var n=this;return(0,o.A)((function*(){return n.target.insert(e)}))()}syncInsert(e){this.target.syncInsert(e)}update(e,n){var r=this;return(0,o.A)((function*(){return r.target.update(e,n)}))()}updateWhere(e,n){var r=this;return(0,o.A)((function*(){return r.target.updateWhere(e,n)}))()}delete(e){var n=this;return(0,o.A)((function*(){return n.target.delete(e)}))()}deleteWhere(e){var n=this;return(0,o.A)((function*(){return n.target.deleteWhere(e)}))()}deleteByPrimaryKey(e){var n=this;return(0,o.A)((function*(){return n.target.deleteByPrimaryKey(e)}))()}getRuntimeConfig(){var e=this;return(0,o.A)((function*(){var n;return yield a.CoreConfig.ready(),{...e.config,...i.CoreConstants.CONFIG.databaseOptimizations,...null===(n=i.CoreConstants.CONFIG.databaseTableOptimizations)||void 0===n?void 0:n[e.tableName]}}))()}updateTarget(){var e=this;return(0,o.A)((function*(){const n=e.target.instance,r=yield e.createTarget();n&&(yield n.destroy(),e.target.resetInstance()),yield r.initialize(),e.target.setInstance(r)}))()}shouldUpdateTarget(){var e=this;return(0,o.A)((function*(){var n;const r=yield e.getRuntimeConfig(),o=yield e.target.getInstance(),i=o instanceof CoreDebugDatabaseTable?o.getTarget():o;return r.debug&&o===i||(null==i?void 0:i.constructor)!==e.targetConstructors[null!==(n=r.cachingStrategy)&&void 0!==n?n:e.DEFAULT_CACHING_STRATEGY]||!i.matchesConfig(r)}))()}createTarget(){var e=this;return(0,o.A)((function*(){const n=yield e.getRuntimeConfig(),r=e.createTable(n);return n.debug?new CoreDebugDatabaseTable(r):r}))()}createTable(e){var n;return new(0,this.targetConstructors[null!==(n=e.cachingStrategy)&&void 0!==n?n:this.DEFAULT_CACHING_STRATEGY])(e,this.database,this.tableName,this.primaryKeyColumns)}}var g=function(e){return e.Eager="eager",e.Lazy="lazy",e.None="none",e}(g||{})},61648:(e,n,r)=>{"use strict";r.d(n,{E:()=>CoreSortedDelegate});var o=r(10467),i=r(84412),s=r(49882),a=r(59296),c=r(52749);class CoreSortedDelegate extends a.B{constructor(e){super(e),this.sortedHandlersRxJs=new i.t([]),this.sortedHandlers=[],s.z.on(s.z.LOGOUT,(()=>this.clearSortedHandlers())),s.z.on(s.z.SITE_POLICY_AGREED,(e=>{e.siteId===c.CoreSites.getCurrentSiteId()&&this.clearSortedHandlers()})),s.z.on(s.z.LOGIN,(()=>this.clearSortedHandlers()))}areHandlersLoaded(){return this.handlersLoaded}clearSortedHandlers(){this.handlersLoaded=!1,this.sortedHandlersRxJs.next([]),this.sortedHandlers=[]}getHandlers(){return this.sortedHandlers}hasHandlers(e=!1){return e?!!this.sortedHandlers.length:!!Object.keys(this.handlers).length}getHandlersObservable(){return this.sortedHandlersRxJs}getHandlersWhenLoaded(){var e=this;return(0,o.A)((function*(){return yield e.waitForReady(),e.sortedHandlers}))()}updateData(){const e=[];for(const o in this.enabledHandlers){var n,r;const i=this.enabledHandlers[o],s=i.getDisplayData();s.priority=null!==(n=null!==(r=s.priority)&&void 0!==r?r:i.priority)&&void 0!==n?n:0,s.name=i.name,e.push(s)}e.sort(((e,n)=>{var r,o;return(null!==(r=n.priority)&&void 0!==r?r:0)-(null!==(o=e.priority)&&void 0!==o?o:0)})),this.handlersLoaded=!0,this.sortedHandlersRxJs.next(e),this.sortedHandlers=e}}},59296:(e,n,r)=>{"use strict";r.d(n,{B:()=>CoreDelegate});var o=r(10467),i=r(52749),s=r(49882),a=r(6787),c=r(84412),u=r(25124);class CoreDelegate{constructor(e){this.handlers={},this.enabledHandlers={},this.lastUpdateHandlersStart=0,this.handlerNameProperty="name",this.updatePromises={},this.handlersUpdated=new c.t(void 0),this.handlersLoaded=!1,this.logger=a.CoreLogger.getInstance(e),s.z.on(s.z.LOGIN,(()=>this.updateHandlers())),s.z.on(s.z.SITE_UPDATED,(()=>this.updateHandlers())),s.z.on(s.z.SITE_PLUGINS_LOADED,(()=>this.updateHandlers())),s.z.on(s.z.SITE_POLICY_AGREED,(e=>{e.siteId===i.CoreSites.getCurrentSiteId()&&this.updateHandlers()})),s.z.on(s.z.COMPLETE_REQUIRED_PROFILE_DATA_FINISHED,(e=>{e.siteId===i.CoreSites.getCurrentSiteId()&&this.updateHandlers()}))}isEnabled(){return(0,o.A)((function*(){return!0}))()}executeFunctionOnEnabled(e,n,r){return this.execute(this.enabledHandlers[e],n,r)}executeFunction(e,n,r){return this.execute(this.handlers[e],n,r)}execute(e,n,r){return e&&e[n]?e[n].apply(e,r):this.defaultHandler&&this.defaultHandler[n]?this.defaultHandler[n].apply(this.defaultHandler,r):void 0}getHandler(e,n=!1){return n?this.enabledHandlers[e]:this.handlers[e]}getHandlerName(e){const n=this.getHandler(e,!0);return n?n.name:""}hasFunction(e,n,r=!0){const o=this.getHandler(e,r);return o&&"function"==typeof o[n]}hasHandler(e,n=!1){return void 0!==this.getHandler(e,n)}hasHandlers(e=!1){return e?!!Object.keys(this.enabledHandlers).length:!!Object.keys(this.handlers).length}isLastUpdateCall(e){return!this.lastUpdateHandlersStart||e==this.lastUpdateHandlersStart}registerHandler(e){const n=e[this.handlerNameProperty]||e.name;return void 0!==this.handlers[n]?(this.logger.log(`Handler '${n}' already registered`),!1):(this.logger.log(`Registered handler '${n}'`),this.handlers[n]=e,!0)}updateHandler(e){const n=i.CoreSites.getCurrentSiteId(),r=i.CoreSites.getCurrentSite();let o;return this.updatePromises[n]&&void 0!==this.updatePromises[n][e.name]||(this.updatePromises[n]||(this.updatePromises[n]={}),o=!r||this.isFeatureDisabled(e,r)?Promise.resolve(!1):Promise.resolve(e.isEnabled()).catch((()=>!1)),this.updatePromises[n][e.name]=o.then((r=>{if(i.CoreSites.getCurrentSiteId()!==n)return;const o=e[this.handlerNameProperty]||e.name;r?this.enabledHandlers[o]=e:delete this.enabledHandlers[o]})).finally((()=>{delete this.updatePromises[n][e.name]}))),this.updatePromises[n][e.name]}isFeatureDisabled(e,n){return void 0!==this.featurePrefix&&n.isFeatureDisabled(this.featurePrefix+e.name)}updateHandlers(){var e=this;return(0,o.A)((function*(){e.handlersLoaded=!1;if(!(yield e.isEnabled()))return e.logger.debug("Delegate not enabled."),e.handlersLoaded=!0,e.handlersUpdated.next(),void 0;const n=[],r=Date.now();e.logger.debug("Updating handlers for current site."),e.lastUpdateHandlersStart=r;for(const r in e.handlers)n.push(e.updateHandler(e.handlers[r]));try{yield Promise.all(n)}catch{}e.isLastUpdateCall(r)&&(e.updateData(),e.handlersLoaded=!0,e.handlersUpdated.next())}))()}updateData(){}waitForReady(){var e=this;return(0,o.A)((function*(){if(e.handlersLoaded)return;const n=new u._,r=e.handlersUpdated.subscribe((()=>{e.handlersLoaded&&(n.resolve(),null==r||r.unsubscribe())}));return n}))()}}},82855:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreAjaxError:()=>CoreAjaxError});var o=r(51092);class CoreAjaxError extends o.CoreSiteError{constructor(e,n,r){super("string"==typeof e?{message:e}:e),this.status=r}}},4573:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreAjaxWSError:()=>CoreAjaxWSError});var o=r(51092);class CoreAjaxWSError extends o.CoreSiteError{constructor(e,n){super(function getErrorOptions(e){const n={message:e.message||e.error};"debug"in e&&(n.debug=e.debug);"errorcode"in e&&(n.debug={code:e.errorcode,details:e.message||e.error});return n}(e)),this.exception=e.exception,this.warningcode=e.warningcode,this.link=e.link,this.moreinfourl=e.moreinfourl,this.debuginfo=e.debuginfo,this.backtrace=e.backtrace,this.available=null!=n?n:this.debug?"invalidrecord"==this.debug.code?-1:1:0}}},63508:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCanceledError:()=>CoreCanceledError});var o=r(29306);class CoreCanceledError extends o.CoreSilentError{}},19751:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CAPTURE_ERROR_NO_MEDIA_FILES:()=>i,CoreCaptureError:()=>CoreCaptureError});var o=r(75629);const i=3;class CoreCaptureError extends o.CoreError{constructor(e,n){super(n),this.code=e}}},75629:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreError:()=>CoreError});class CoreError extends Error{constructor(e,n={}){super(e),this.name=new.target.name,Object.setPrototypeOf(this,new.target.prototype),this.title=n.title,this.debug=n.debug}}},2243:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreErrorWithOptions:()=>CoreErrorWithOptions});var o=r(75629);class CoreErrorWithOptions extends o.CoreError{constructor(e,n,r){super(e),this.title=n,this.buttons=r}}},95445:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreHttpError:()=>CoreHttpError});var o=r(75629);class CoreHttpError extends o.CoreError{constructor(e,n){super(e),this.status=null!=n?n:0}}},99622:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreLoginError:()=>CoreLoginError});var o=r(51092);class CoreLoginError extends o.CoreSiteError{constructor(e){super(e),this.title=e.title,this.critical=e.critical,this.loggedOut=e.loggedOut}}},49446:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreNetworkError:()=>CoreNetworkError});var o=r(79555);class CoreNetworkError extends Error{constructor(e){super(e||o.HT.instant("core.networkerrormsg"))}}},29306:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSilentError:()=>CoreSilentError});var o=r(75629);class CoreSilentError extends o.CoreError{}},51092:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSiteError:()=>CoreSiteError});var o=r(75629);class CoreSiteError extends o.CoreError{constructor(e){super(e.message,{title:e.title,debug:e.debug}),this.supportConfig=e.supportConfig}get errorcode(){var e;return null===(e=this.debug)||void 0===e?void 0:e.code}}},43411:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreWSError:()=>CoreWSError});var o=r(75629);class CoreWSError extends o.CoreError{constructor(e){super(e.message),this.exception=e.exception,this.errorcode=e.errorcode,this.warningcode=e.warningcode,this.link=e.link,this.moreinfourl=e.moreinfourl,this.debuginfo=e.debuginfo,this.backtrace=e.backtrace}static isWebServiceError(e){return!!e&&(void 0!==e.warningcode||void 0!==e.errorcode&&"userdeleted"!=e.errorcode&&"upgraderunning"!=e.errorcode&&"forcepasswordchangenotice"!=e.errorcode&&"usernotfullysetup"!=e.errorcode&&"sitepolicynotagreed"!=e.errorcode&&"sitemaintenance"!=e.errorcode&&"wsaccessusersuspended"!=e.errorcode&&"wsaccessuserdeleted"!=e.errorcode&&!this.isExpiredTokenError(e)||!!e.status&&e.status>=400)}static isExpiredTokenError(e){return"invalidtoken"===e.errorcode||"accessexception"===e.errorcode&&e.message.includes("Invalid token - token expired")}}},54024:(e,n,r)=>{"use strict";r.d(n,{z:()=>i});var o=r(54438);let i=(()=>{var e;class CoreInterceptor{static serialize(e,n){let r="";for(const o in e){const i=e[o];if(i instanceof Array)for(let e=0;e<i.length;++e){const n={};n[`${o}[${e}]`]=i[e],r+=`${this.serialize(n)}&`}else if(i instanceof Object)for(const e in i){const n={};n[`${o}[${e}]`]=i[e],r+=`${this.serialize(n)}&`}else(n||null!=i)&&(r+=`${encodeURIComponent(o)}=${encodeURIComponent(i)}&`)}return r.length?r.substring(0,r.length-1):r}intercept(e,n){const r=e.clone({headers:e.headers.set("Content-Type","application/x-www-form-urlencoded"),body:"object"==typeof e.body&&"[object File]"!=String(e.body)?CoreInterceptor.serialize(e.body):e.body});return n.handle(r)}}return(e=CoreInterceptor).ɵfac=function CoreInterceptor_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),CoreInterceptor})()},42342:(e,n,r)=>{"use strict";r.d(n,{L:()=>CorePromise});class CorePromise{constructor(e){this.nativePromise=e}then(e,n){return this.nativePromise.then(e,n)}catch(e){return this.nativePromise.catch(e)}finally(e){return this.nativePromise.finally(e)}}Symbol.toStringTag},25124:(e,n,r)=>{"use strict";r.d(n,{_:()=>CorePromisedValue});var o=r(42342);class CorePromisedValue extends o.L{static from(e){const n=new CorePromisedValue;return e.then((e=>n.resolve(e))).catch((e=>n.reject(e))),n}constructor(){let e,n;super(new Promise(((r,o)=>{e=r,n=o}))),this.resolvePromise=e,this.rejectPromise=n}get value(){var e;return null!==(e=this.resolvedValue)&&void 0!==e?e:null}isResolved(){return"resolvedValue"in this}isRejected(){return"rejectedReason"in this}isSettled(){return this.isResolved()||this.isRejected()}resolve(e){this.isSettled()&&(delete this.rejectedReason,this.resetNativePromise()),this.resolvedValue=e,this.resolvePromise(e)}reject(e){this.isSettled()&&(delete this.resolvedValue,this.resetNativePromise()),this.rejectedReason=e,this.rejectPromise(e)}reset(){this.isSettled()&&(delete this.resolvedValue,delete this.rejectedReason,this.resetNativePromise())}resetNativePromise(){this.nativePromise=new Promise(((e,n)=>{this.resolvePromise=e,this.rejectPromise=n}))}}},47423:(e,n,r)=>{"use strict";r.d(n,{r:()=>CoreQueueRunner});var o=r(10467),i=r(25124);class CoreQueueRunner{constructor(e=1,n=!1){this.maxParallel=e,this.usePriority=n,this.queue={},this.orderedQueue=[],this.numberRunning=0}getUniqueId(e){let n=e,r=1;do{n=`${e}-${r}`,r++}while(n in this.queue);return n}processNextItem(){var e=this;return(0,o.A)((function*(){if(!e.orderedQueue.length||e.numberRunning>=e.maxParallel)return;const n=e.orderedQueue.shift();if(n){e.numberRunning++;try{const e=yield n.fn();n.deferred.resolve(e)}catch(e){n.deferred.reject(e)}finally{delete e.queue[n.id],e.numberRunning--,e.processNextItem()}}}))()}run(e,n,r={}){var o;let s="string"==typeof e?e:this.getUniqueId("anonymous");const a="function"==typeof e?e:n;if(r="object"==typeof n?n:r,s in this.queue){if(!r.allowRepeated)return this.queue[s].deferred;s=this.getUniqueId(s)}const c={id:s,fn:a,deferred:new i._,priority:null!==(o=r.priority)&&void 0!==o?o:0};return this.queue[s]=c,this.orderedQueue.push(c),this.usePriority&&this.orderedQueue.sort(((e,n)=>n.priority-e.priority)),this.processNextItem(),c.deferred}}},68467:(e,n,r)=>{"use strict";r.d(n,{A:()=>CoreAuthenticatedSite,E:()=>chainRequests});var o,i=r(10467),s=r(97064),a=r(94455),c=r(49882),u=r(99121),p=r(47551),f=r(75383),g=r(81690),v=r(74431),C=r(75629),b=r(43411),w=r(6787),A=r(79555),_=r(72881),E=r(52749),I=r(29306),T=r(25124),P=r(54843),k=r(21413),x=r(71985),F=r(96354),R=r(70980),N=r(31397),L=r(51092),H=r(90121),U=r(50552),B=r(91768),j=r(1453),V=r(53794),G=r(55554),z=r(58364),q=r(24502);class CoreAuthenticatedSite extends U.lz{constructor(e,n,r={}){super(e,r.publicConfig),this.cleanUnicode=!1,this.offlineDisabled=!1,this.memoryCache={},this.ongoingRequests={},this.requestQueue=[],this.requestQueueTimeout=null,this.logger=w.CoreLogger.getInstance("CoreAuthenticaedSite"),this.token=n,this.privateToken=r.privateToken}getToken(){return this.token}getInfo(){return this.infos}getPrivateToken(){return this.privateToken}getUserId(){if(!this.infos)throw new C.CoreError("Site info could not be fetched.");return this.infos.userid}getSiteHomeId(){var e;return(null===(e=this.infos)||void 0===e?void 0:e.siteid)||1}setToken(e){this.token=e}setPrivateToken(e){this.privateToken=e}isLoggedOut(){return!1}setInfo(e){this.infos=e,null!=e&&e.functions&&(e.functionsByName=q.R.toObject(e.functions,"name"))}isAdmin(){var e,n;return null!==(e=null===(n=this.getInfo())||void 0===n?void 0:n.userissiteadmin)&&void 0!==e&&e}canAccessMyFiles(){const e=this.getInfo();return!(!e||void 0!==e.usercanmanageownfiles&&!e.usercanmanageownfiles)}canDownloadFiles(){const e=this.getInfo();return!(null==e||!e.downloadfiles)&&(null==e?void 0:e.downloadfiles)>0}canUseAdvancedFeature(e,n=!0){const r=this.getInfo();if(void 0===(null==r?void 0:r.advancedfeatures))return n;const o=r.advancedfeatures.find((n=>n.name===e));return o?0!==o.value:n}canUploadFiles(){const e=this.getInfo();return!(null==e||!e.uploadfiles)&&(null==e?void 0:e.uploadfiles)>0}fetchSiteInfo(){return this.cleanUnicode=!1,this.read("core_webservice_get_site_info",{},{getFromCache:!1,saveToCache:!1,skipQueue:!0})}read(e,n,r){var o=this;return(0,i.A)((function*(){return yield(0,P._)(o.readObservable(e,n,r))}))()}readObservable(e,n,r){var o,i,s;return(r=r||{}).getFromCache=null===(o=r.getFromCache)||void 0===o||o,r.saveToCache=null===(i=r.saveToCache)||void 0===i||i,r.reusePending=null===(s=r.reusePending)||void 0===s||s,this.requestObservable(e,n,r)}write(e,n,r){var o=this;return(0,i.A)((function*(){return yield(0,P._)(o.writeObservable(e,n,r))}))()}writeObservable(e,n,r){var o,i,s;return(r=r||{}).getFromCache=null!==(o=r.getFromCache)&&void 0!==o&&o,r.saveToCache=null!==(i=r.saveToCache)&&void 0!==i&&i,r.emergencyCache=null!==(s=r.emergencyCache)&&void 0!==s&&s,this.requestObservable(e,n,r)}request(e,n,r){var o=this;return(0,i.A)((function*(){return yield(0,P._)(o.requestObservable(e,n,r))}))()}requestObservable(e,n,r){if(this.isLoggedOut()&&!CoreAuthenticatedSite.ALLOWED_LOGGEDOUT_WS.includes(e))throw this.triggerSiteEvent(c.z.SESSION_EXPIRED,{}),new I.CoreSilentError(A.HT.instant("core.lostconnection"));if(n=n||{},!a.WE.isOnline()&&this.offlineDisabled)throw new C.CoreError(A.HT.instant("core.errorofflinedisabled"));if(this.getInfo()&&!this.wsAvailable(e))throw this.logger.error(`WS function '${e}' is not available.`),new C.CoreError(A.HT.instant("core.wsfunctionnotavailable"));const o={wsToken:this.token||"",siteUrl:this.siteUrl,cleanUnicode:this.cleanUnicode,typeExpected:r.typeExpected,responseExpected:r.responseExpected,splitRequest:r.splitRequest};if(o.cleanUnicode&&f.Ni.hasUnicodeData(n)?p.CoreToasts.show({message:"core.unicodenotsupported",translateMessage:!0,duration:p.ToastDuration.LONG}):o.cleanUnicode=!1,this.offlineDisabled&&(r.getFromCache=!1,r.saveToCache=!1,r.emergencyCache=!1),n.moodlewssettingfilter=!1!==r.filter,n.moodlewssettingfileurl=!1!==r.rewriteurls,null==(n=u.CoreWS.convertValuesToString(n,o.cleanUnicode)))throw new C.CoreError(A.HT.instant("core.unicodenotsupportedcleanerror"));const i=this.getCacheId(e,n),s=this.getOngoingRequest(i,r);if(s)return s;const v=this.performRequest(e,n,r,o).pipe((0,F.T)((e=>g.j.clone(e))));return this.setOngoingRequest(i,r,v),v.pipe((0,R.j)((()=>{this.clearOngoingRequest(i,r,v)})))}getOngoingRequest(e,n){var r,o;return n.updateInBackground?null===(r=this.ongoingRequests[e])||void 0===r?void 0:r[W.UPDATE_IN_BACKGROUND]:n.getFromCache?null===(o=this.ongoingRequests[e])||void 0===o?void 0:o[W.STANDARD]:void 0}setOngoingRequest(e,n,r){var o;this.ongoingRequests[e]=null!==(o=this.ongoingRequests[e])&&void 0!==o?o:{},n.updateInBackground?this.ongoingRequests[e][W.UPDATE_IN_BACKGROUND]=r:this.ongoingRequests[e][W.STANDARD]=r}clearOngoingRequest(e,n,r){var o;this.ongoingRequests[e]=null!==(o=this.ongoingRequests[e])&&void 0!==o?o:{},n.updateInBackground?this.ongoingRequests[e][W.UPDATE_IN_BACKGROUND]===r&&delete this.ongoingRequests[e][W.UPDATE_IN_BACKGROUND]:this.ongoingRequests[e][W.STANDARD]===r&&delete this.ongoingRequests[e][W.STANDARD]}performRequest(e,n,r,o){var s=this;const a=new k.B,c=function(){var c=(0,i.A)((function*(){try{let c,u;try{u=yield s.getFromCache(e,n,r,!1),c=u.response}catch{c=yield s.getFromWS(e,n,r,o)}"object"==typeof c&&null!==c&&("exception"in c&&void 0!==c.exception||"errorcode"in c&&void 0!==c.errorcode)?a.error(new b.CoreWSError(c)):a.next(c),r.updateInBackground&&!v.CoreConstants.CONFIG.disableCallWSInBackground&&u&&!u.expirationIgnored&&void 0!==u.expirationTime&&Date.now()>u.expirationTime?setTimeout((0,i.A)((function*(){try{r={...r,emergencyCache:!1};const i=yield s.getFromWS(e,n,r,o);a.next(i)}catch(e){s.logger.error("Error updating WS data in background",e)}finally{a.complete()}}))):a.complete()}catch(e){a.error(e)}}));return function run(){return c.apply(this,arguments)}}();return c(),a}getFromWS(e,n,r,o){var s=this;return(0,i.A)((function*(){if(r.forceOffline)throw new C.CoreError(A.HT.instant("core.cannotconnect"));const a=function(){var a=(0,i.A)((function*(i){("function"==typeof r.fetchOriginalToo?yield r.fetchOriginalToo(i):r.fetchOriginalToo)&&(yield G.g.ignoreErrors(s.getFromWS(e,{...n,moodlewssettingfilter:"false",moodlewssettingfileurl:"false"},{...r,filter:!1,rewriteurls:!1},o)))}));return function fetchOriginalIfNeeded(e){return a.apply(this,arguments)}}();try{const i=yield s.callOrEnqueueWS(e,n,r,o);return!1!==r.filter&&r.saveToCache&&a(i),r.saveToCache&&s.saveToCache(e,n,i,r),i}catch(o){let i=!1;if(b.CoreWSError.isExpiredTokenError(o))s.triggerSiteEvent(c.z.SESSION_EXPIRED,{}),o.message=A.HT.instant("core.lostconnection"),i=!0;else{if("userdeleted"===o.errorcode||"wsaccessuserdeleted"===o.errorcode)throw s.triggerSiteEvent(c.z.USER_DELETED,{params:n}),o.message=A.HT.instant("core.userdeleted"),new b.CoreWSError(o);if("wsaccessusersuspended"===o.errorcode)throw s.triggerSiteEvent(c.z.USER_SUSPENDED,{params:n}),o.message=A.HT.instant("core.usersuspended"),new b.CoreWSError(o);if("wsaccessusernologin"===o.errorcode)throw s.triggerSiteEvent(c.z.USER_NO_LOGIN,{params:n}),o.message=A.HT.instant("core.usernologin"),new b.CoreWSError(o);if("forcepasswordchangenotice"===o.errorcode)s.triggerSiteEvent(c.z.PASSWORD_CHANGE_FORCED,{}),o.message=A.HT.instant("core.forcepasswordchangenotice"),i=!0;else if("usernotfullysetup"===o.errorcode)s.triggerSiteEvent(c.z.USER_NOT_FULLY_SETUP,{}),o.message=A.HT.instant("core.usernotfullysetup"),i=!0;else{if("sitepolicynotagreed"===o.errorcode)throw s.triggerSiteEvent(c.z.SITE_POLICY_NOT_AGREED,{}),o.message=A.HT.instant("core.policy.sitepolicynotagreederror"),new I.CoreSilentError(o);if("dmlwriteexception"===o.errorcode&&f.Ni.hasUnicodeData(n)){if(!s.cleanUnicode)return s.cleanUnicode=!0,s.request(e,n,r);throw o.message=A.HT.instant("core.unicodenotsupported"),new b.CoreWSError(o)}if("required_capability_exception"===o.exception||"nopermission"===o.errorcode||"notingroup"===o.errorcode)throw"error/nopermission"===o.message?o.message=A.HT.instant("core.nopermissionerror"):"error/notingroup"===o.message&&(o.message=A.HT.instant("core.notingroup")),r.saveToCache&&s.saveToCache(e,n,o,r),new b.CoreWSError(o);if(r.cacheErrors&&-1!=r.cacheErrors.indexOf(o.errorcode))throw s.saveToCache(e,n,o,r),new b.CoreWSError(o);if(!1===r.emergencyCache)throw s.logger.debug(`WS call '${e}' failed. Emergency cache is forbidden, rejecting.`),new b.CoreWSError(o)}}if(r.deleteCacheIfWSError&&b.CoreWSError.isWebServiceError(o))throw G.g.ignoreErrors(s.deleteFromCache(e,n,r)),new b.CoreWSError(o);s.logger.debug(`WS call '${e}' failed. Trying to use the emergency cache.`),r={...r,omitExpires:!0,getFromCache:!0};try{const o=yield s.getFromCache(e,n,r,!0);if("object"==typeof o.response&&null!==o.response&&("exception"in o.response&&void 0!==o.response.exception||"errorcode"in o.response&&void 0!==o.response.errorcode))throw new b.CoreWSError(o.response);return o.response}catch{if(i)throw new I.CoreSilentError(o.message);throw new b.CoreWSError(o)}}}))()}callOrEnqueueWS(e,n,r,o){var a=this;return(0,i.A)((function*(){var i,c;const u=null!==(i=a.token)&&void 0!==i?i:"";n={...n,moodlewssettinglang:_.CoreLang.formatLanguage(null!==(c=r.lang)&&void 0!==c?c:yield _.CoreLang.getCurrentLanguage(),"lms")};try{return yield a.callOrEnqueueRequest(e,n,r,o)}catch(i){if(b.CoreWSError.isExpiredTokenError(i)){var p;if(u!==a.token)return o.wsToken=null!==(p=a.token)&&void 0!==p?p:"",yield a.callOrEnqueueRequest(e,n,r,o);if(s.h.isSSOAuthenticationOngoing())return yield s.h.waitForSSOAuthentication(),yield a.callOrEnqueueRequest(e,n,r,o)}if("invalidparameter"===(null==i?void 0:i.errorcode)&&"core_webservice_get_site_info"===e)return delete n.moodlewssettinglang,yield a.callOrEnqueueRequest(e,n,r,o);throw i}}))()}callOrEnqueueRequest(e,n,r,o){if(r.skipQueue||!this.wsAvailable("tool_mobile_call_external_functions"))return u.CoreWS.call(e,n,o);const i=this.getCacheId(e,n);if(r.reusePending){const e=this.requestQueue.find((e=>e.cacheId==i));if(e)return e.deferred}const s={cacheId:i,method:e,data:n,preSets:r,wsPreSets:o,deferred:new T._};return this.enqueueRequest(s)}enqueueRequest(e){return this.requestQueue.push(e),this.requestQueue.length>=v.CoreConstants.CONFIG.wsrequestqueuelimit?this.processRequestQueue():this.requestQueueTimeout||(this.requestQueueTimeout=window.setTimeout((()=>this.processRequestQueue()),v.CoreConstants.CONFIG.wsrequestqueuedelay)),e.deferred}processRequestQueue(){var e=this;return(0,i.A)((function*(){e.logger.debug(`Processing request queue (${e.requestQueue.length} requests)`),e.requestQueueTimeout&&(clearTimeout(e.requestQueueTimeout),e.requestQueueTimeout=null);const n=e.requestQueue;if(e.requestQueue=[],1==n.length&&!CoreAuthenticatedSite.REQUEST_QUEUE_FORCE_WS){try{const e=yield u.CoreWS.call(n[0].method,n[0].data,n[0].wsPreSets);n[0].deferred.resolve(e)}catch(e){n[0].deferred.reject(e)}return}let r;const o={requests:n.map((e=>{const n={},o={};return Object.keys(e.data).forEach((i=>{let s=e.data[i];const a=/^moodlews(setting.*)$/.exec(i);if(a){if("settingfilter"==a[1]||"settingfileurl"==a[1])s="true"==s?"1":"0";else if("settinglang"==a[1])return r=s,void 0;o[a[1]]=s}else n[i]=s})),{function:e.method,arguments:JSON.stringify(n),...o}}))};o.moodlewssettinglang=r;const i={siteUrl:e.siteUrl,wsToken:e.token||""};try{const r=yield u.CoreWS.call("tool_mobile_call_external_functions",o,i);if(!r||!r.responses)throw new L.CoreSiteError({supportConfig:new H.z(e),message:A.HT.instant("core.siteunavailablehelp",{site:e.siteUrl}),debug:{code:"invalidresponse",details:A.HT.instant("core.errorinvalidresponse",{method:"tool_mobile_call_external_functions"})}});n.forEach(((n,o)=>{const s=r.responses[o];if(s)if(s.error){var a;const e=f.Ni.parseJSON(s.exception||"");n.deferred.reject(e),j.F.addErrorLog({method:n.method,type:"CoreSiteError",message:null!==(a=s.exception)&&void 0!==a?a:"",time:(new Date).getTime(),data:n.data})}else{let e=s.data?f.Ni.parseJSON(s.data):{};void 0===i.responseExpected||i.responseExpected||null!=e&&""!==e||(e={}),n.deferred.resolve(e)}else e.enqueueRequest(n)}))}catch(e){n.forEach((n=>{var r;j.F.addErrorLog({method:n.method,type:"CoreSiteError",message:null!==(r=String(e))&&void 0!==r?r:"",time:(new Date).getTime(),data:n.data}),n.deferred.reject(e)}))}}))()}wsAvailable(e){var n;return!(null===(n=this.infos)||void 0===n||null===(n=n.functionsByName)||void 0===n||!n[e])}getCacheId(e,n){return B.VV.hashAsciiStr(`${e}:${z.T.sortAndStringify(n)}`)}getFromCache(e,n,r,o){var s=this;return(0,i.A)((function*(){if(!r.getFromCache)throw new C.CoreError("Get from cache is disabled.");const i=s.getCacheId(e,n);let c;if(r.getCacheUsingCacheKey||o&&r.getEmergencyCacheUsingCacheKey){var u;const e=yield s.getCacheEntriesByKey(null!==(u=r.cacheKey)&&void 0!==u?u:"");e.length?(e.length>1&&(c=e.find((e=>e.id===i))),c||(c=e[0])):c=yield s.getCacheEntryById(i)}else c=yield s.getCacheEntryById(i);if(void 0===c)throw new C.CoreError("Cache entry not valid.");const p=Date.now();let g;const b=r.omitExpires||r.forceOffline||!a.WE.isOnline();if(!b)if(g=c.expirationTime+s.getExpirationDelay(r.updateFrequency),r.updateInBackground&&!v.CoreConstants.CONFIG.disableCallWSInBackground){var w;if(p>c.expirationTime+(null!==(w=v.CoreConstants.CONFIG.callWSInBackgroundExpirationTime)&&void 0!==w?w:1e3*v.CoreConstants.SECONDS_WEEK))throw s.logger.debug("Cached element found, but it is expired even for call WS in background."),new C.CoreError("Cache entry is expired.")}else if(p>g)throw s.logger.debug("Cached element found, but it is expired"),new C.CoreError("Cache entry is expired.");if(void 0!==c.data){if(g){s.logger.info(`Cached element found, id: ${i}. Expires in expires in ${(g-p)/1e3} seconds`)}else s.logger.info(`Cached element found, id: ${i}. Expiration time ignored.`);return{response:f.Ni.parseJSON(c.data,{}),expirationIgnored:b,expirationTime:g}}throw new C.CoreError("Cache entry not valid.")}))()}getCacheEntryById(e){var n=this;return(0,i.A)((function*(){if(!n.memoryCache[e])throw new C.CoreError("Cache entry not found.");return n.memoryCache[e]}))()}getCacheEntriesByKey(e){var n=this;return(0,i.A)((function*(){return Object.values(n.memoryCache).filter((n=>n.key===e))}))()}saveToCache(e,n,r,o){var s=this;return(0,i.A)((function*(){o.uniqueCacheKey&&(yield G.g.ignoreErrors(s.deleteFromCache(e,n,o,!0)));const i={id:s.getCacheId(e,n),data:JSON.stringify(r),expirationTime:Date.now()};o.cacheKey&&(i.key=o.cacheKey),o.component&&(i.component=o.component,o.componentId&&(i.componentId=o.componentId)),yield s.storeCacheEntry(i)}))()}storeCacheEntry(e){var n=this;return(0,i.A)((function*(){n.memoryCache[e.id]=e}))()}deleteFromCache(e,n,r,o){var s=this;return(0,i.A)((function*(){if(o){var i;(yield s.getCacheEntriesByKey(null!==(i=r.cacheKey)&&void 0!==i?i:"")).forEach((e=>{delete s.memoryCache[e.id]}))}else delete s.memoryCache[s.getCacheId(e,n)]}))()}invalidateWsCache(){var e=this;return(0,i.A)((function*(){try{for(const n in e.memoryCache)e.memoryCache[n].expirationTime=0}finally{e.triggerSiteEvent(c.z.WS_CACHE_INVALIDATED,{})}}))()}invalidateWsCacheForKey(e){var n=this;return(0,i.A)((function*(){if(!e)return;n.logger.debug(`Invalidate cache for key: ${e}`);(yield n.getCacheEntriesByKey(e)).forEach((e=>{e.expirationTime=0}))}))()}invalidateMultipleWsCacheForKey(e){var n=this;return(0,i.A)((function*(){e&&e.length&&(n.logger.debug("Invalidating multiple cache keys"),yield Promise.all(e.map((e=>n.invalidateWsCacheForKey(e)))))}))()}invalidateWsCacheForKeyStartingWith(e){var n=this;return(0,i.A)((function*(){e&&(n.logger.debug(`Invalidate cache for key starting with: ${e}`),Object.values(n.memoryCache).filter((n=>{var r;return null===(r=n.key)||void 0===r?void 0:r.startsWith(e)})).forEach((e=>{e.expirationTime=0})))}))()}getDocsUrl(e){var n=this;return(0,i.A)((function*(){var r;const o=null!==(r=n.infos)&&void 0!==r&&r.release?n.infos.release:void 0;let i=`https://docs.moodle.org/en/${e}`;if(void 0!==o){const e=E.CoreSites.getMajorReleaseNumber(o).replace(".","");Number(e)>=24&&(i=i.replace("https://docs.moodle.org/",`https://docs.moodle.org/${e}/`))}try{let e=_.CoreLang.getCurrentLanguageSync("lms");return e=_.CoreLang.getParentLanguage()||e,i.replace("/en/",`/${e}/`)}catch{return i}}))()}getPublicConfig(e={}){var n=this;return(0,i.A)((function*(){if(!(2===e.readingStrategy||3===e.readingStrategy)&&n.publicConfig)return n.publicConfig;const r="tool_mobile_get_public_config",o=n.getCacheId(r,{}),s={getFromCache:!0,saveToCache:!0,emergencyCache:!0,cacheKey:n.getPublicConfigCacheKey(),...E.CoreSites.getReadingStrategyPreSets(e.readingStrategy)};n.offlineDisabled&&(s.getFromCache=!1,s.saveToCache=!1,s.emergencyCache=!1);const a=n.getOngoingRequest(o,s);if(a)return yield(0,P._)(a);const c=new k.B,u=c.pipe((0,F.T)((e=>g.j.clone(e))),(0,R.j)((()=>{n.clearOngoingRequest(o,s,u)})));return n.setOngoingRequest(o,s,u),n.getFromCache(r,{},s,!1).then((e=>e.response)).catch((0,i.A)((function*(){if(s.forceOffline)throw new C.CoreError(A.HT.instant("core.cannotconnect"));try{const e=yield n.requestPublicConfig();return s.saveToCache&&n.saveToCache(r,{},e,s),e}catch(e){if(!1===s.emergencyCache)throw e;s.omitExpires=!0,s.getFromCache=!0;try{return(yield n.getFromCache(r,{},s,!0)).response}catch{throw e}}}))).then((e=>{e,n.setPublicConfig(e),c.next(e),c.complete()})).catch((e=>{c.error(e)})),yield(0,P._)(u)}))()}getPublicConfigCacheKey(){return"tool_mobile_get_public_config"}isAjaxGetSupported(){return!!this.getInfo()&&this.isVersionGreaterEqualThan("3.8")}isVersionGreaterEqualThan(e){const n=this.getInfo();if(!n||!n.version)return!1;const r=Number(n.version);if(Array.isArray(e)){if(!e.length)return!1;for(let n=0;n<e.length;n++){const o=this.getVersionNumber(e[n]);if(n==e.length-1)return r>=o;if(r>=o&&r<this.getNextMajorVersionNumber(e[n]))return!0}}else if("string"==typeof e)return r>=this.getVersionNumber(e);return!1}getVersionNumber(e){const n=this.getMajorAndMinor(e);if(!n)return 0;if(void 0===v.MOODLE_RELEASES[n.major]){const e=Object.keys(v.MOODLE_RELEASES).pop();if(!e)return 0;n.major=e}return v.MOODLE_RELEASES[n.major]+n.minor}getMajorAndMinor(e){const n=e.match(/^(\d+)(\.(\d+)(\.\d+)?)?/);return!(!n||!n[1])&&{major:`${n[1]}.${n[3]||"0"}`,minor:parseInt(n[5],10)||0}}getNextMajorVersionNumber(e){const n=this.getMajorAndMinor(e),r=Object.keys(v.MOODLE_RELEASES);if(!n)return 0;const o=r.indexOf(n.major);return-1==o||o==r.length-1?v.MOODLE_RELEASES[r[o]]:v.MOODLE_RELEASES[r[o+1]]}getExpirationDelay(e){let n=CoreAuthenticatedSite.UPDATE_FREQUENCIES[e=null!=e?e:v.CoreCacheUpdateFrequency.USUALLY]||CoreAuthenticatedSite.UPDATE_FREQUENCIES[v.CoreCacheUpdateFrequency.USUALLY];return a.WE.isNetworkAccessLimited()&&(n*=1.5),n}triggerSiteEvent(e,n){c.z.trigger(e,n)}}function chainRequests(e,n){return r=>new x.c((n=>{let o=!0,s=!1;return r.subscribe({next:(c=(0,i.A)((function*(r){return 4!==e?(n.next({data:r,readingStrategy:e}),void 0):o?(o=!1,yield V.H.nextTick(),n.next(s?{data:r,readingStrategy:e}:{data:r,readingStrategy:1}),void 0):(n.next({data:r}),void 0)})),function next(e){return c.apply(this,arguments)}),error:e=>n.error(e),complete:(a=(0,i.A)((function*(){s=!0,yield V.H.nextTick(),n.complete()})),function complete(){return a.apply(this,arguments)})});var a,c})).pipe((0,N.Z)((({data:e,readingStrategy:r})=>n(e,r))))}(o=CoreAuthenticatedSite).REQUEST_QUEUE_FORCE_WS=!1,o.FREQUENCY_USUALLY=v.CoreCacheUpdateFrequency.USUALLY,o.FREQUENCY_OFTEN=v.CoreCacheUpdateFrequency.OFTEN,o.FREQUENCY_SOMETIMES=v.CoreCacheUpdateFrequency.SOMETIMES,o.FREQUENCY_RARELY=v.CoreCacheUpdateFrequency.RARELY,o.MINIMUM_MOODLE_VERSION=v.MINIMUM_MOODLE_VERSION,o.MOODLE_RELEASES=v.MOODLE_RELEASES,o.UPDATE_FREQUENCIES=[v.CoreConstants.CONFIG.cache_update_frequency_usually||42e4,v.CoreConstants.CONFIG.cache_update_frequency_often||12e5,v.CoreConstants.CONFIG.cache_update_frequency_sometimes||36e5,v.CoreConstants.CONFIG.cache_update_frequency_rarely||432e5],o.ALLOWED_LOGGEDOUT_WS=["core_user_remove_user_device"];var W=function(e){return e[e.STANDARD=0]="STANDARD",e[e.UPDATE_IN_BACKGROUND=1]="UPDATE_IN_BACKGROUND",e}(W||{})},2661:(e,n,r)=>{"use strict";r.d(n,{D:()=>CoreSite});var o=r(10467),i=r(94455),s=r(30159),a=r(49882),c=r(45507),u=r(99121),p=r(24742),f=r(8014),g=r(86552),v=r(74431),C=r(75629),b=r(6787),w=r(79555),A=r(52749),_=r(89312),E=r(71689),I=r(16439),T=r(96354),P=r(88793),k=r(68467),x=r(54843),F=r(18022),R=r(33014),N=r(55554),L=r(25572);class CoreSite extends k.A{constructor(e,n,r,o={}){super(n,r,o),this.lastAutoLogin=0,this.id=e,this.config=o.config,this.loggedOut=o.loggedOut,this.logger=b.CoreLogger.getInstance("CoreSite"),this.cacheTable=(0,_.A)((()=>A.CoreSites.getSiteTable(I.$T,{siteId:this.getId(),database:this.getDb(),config:{cachingStrategy:E.T.None}}))),this.configTable=(0,_.A)((()=>A.CoreSites.getSiteTable(I.gf,{siteId:this.getId(),database:this.getDb(),config:{cachingStrategy:E.T.Eager},primaryKeyColumns:["name"],rowIdColumn:null}))),this.lastViewedTable=(0,_.A)((()=>A.CoreSites.getSiteTable(I.LL,{siteId:this.getId(),database:this.getDb(),config:{cachingStrategy:E.T.Eager},primaryKeyColumns:[...I.Y$]}))),this.setInfo(o.info),this.calculateOfflineDisabled(),this.db=s.CoreDB.getDB(`Site-${this.id}`)}getId(){return this.id}getDb(){return this.db}isLoggedOut(){return!!this.loggedOut}getOAuthId(){return this.oauthId}setConfig(e){e&&(e.tool_mobile_disabledfeatures=this.treatDisabledFeatures(e.tool_mobile_disabledfeatures)),this.config=e,this.calculateOfflineDisabled()}setLoggedOut(e){this.loggedOut=!!e}setOAuthId(e){this.oauthId=e}isOAuth(){return null!=this.oauthId&&void 0!==this.oauthId}getCacheEntryById(e){var n=this;return(0,o.A)((function*(){return n.cacheTable.getOneByPrimaryKey({id:e})}))()}getCacheEntriesByKey(e){var n=this;return(0,o.A)((function*(){return n.cacheTable.getMany({key:e})}))()}storeCacheEntry(e){var n=this;return(0,o.A)((function*(){yield n.cacheTable.insert(e)}))()}deleteFromCache(e,n,r,i){var s=this;return(0,o.A)((function*(){i?yield s.cacheTable.delete({key:r.cacheKey}):yield s.cacheTable.deleteByPrimaryKey({id:s.getCacheId(e,n)})}))()}getComponentCacheSize(e,n){var r=this;return(0,o.A)((function*(){const o=[e];let i="";return null!=n&&(o.push(n),i=" AND componentId = ?"),r.cacheTable.reduce({sql:"SUM(length(data))",js:(e,n)=>e+n.data.length,jsInitialValue:0},{sql:`WHERE component = ?${i}`,sqlParams:o,js:r=>r.component===e&&(1===o.length||r.componentId===n)})}))()}deleteComponentFromCache(e,n){var r=this;return(0,o.A)((function*(){if(!e)return;const o={component:e};n&&(o.componentId=n),yield r.cacheTable.delete(o)}))()}uploadFile(e,n,r){return n.fileArea||(n.fileArea="draft"),u.CoreWS.uploadFile(e,n,{siteUrl:this.siteUrl,wsToken:this.token||""},r)}invalidateCaches(){var e=this;return(0,o.A)((function*(){yield Promise.all([P.CoreFilepool.invalidateAllFiles(e.getId()),e.invalidateWsCache()])}))()}invalidateWsCache(){var e=this;return(0,o.A)((function*(){e.logger.debug(`Invalidate all the cache for site: ${e.id}`);try{yield e.cacheTable.update({expirationTime:0})}finally{a.z.trigger(a.z.WS_CACHE_INVALIDATED,{},e.getId())}}))()}invalidateWsCacheForKey(e){var n=this;return(0,o.A)((function*(){e&&(n.logger.debug(`Invalidate cache for key: ${e}`),yield n.cacheTable.update({expirationTime:0},{key:e}))}))()}invalidateWsCacheForKeyStartingWith(e){var n=this;return(0,o.A)((function*(){e&&(n.logger.debug(`Invalidate cache for key starting with: ${e}`),yield n.cacheTable.updateWhere({expirationTime:0},{sql:"key LIKE ?",sqlParams:[`${e}%`],js:n=>{var r;return!(null===(r=n.key)||void 0===r||!r.startsWith(e))}}))}))()}checkAndFixPluginfileURL(e){var n=this;return(0,o.A)((function*(){return yield n.checkTokenPluginFile(e),n.fixPluginfileURL(e)}))()}fixPluginfileURL(e){const n=this.tokenPluginFileWorks||void 0===this.tokenPluginFileWorks?this.getFilesAccessKey():void 0;return f.F.fixPluginfileURL(e,this.token||"",this.siteUrl,n)}deleteDB(){var e=this;return(0,o.A)((function*(){yield s.CoreDB.deleteDB(`Site-${e.id}`)}))()}deleteFolder(){var e=this;return(0,o.A)((function*(){if(!e.id)return;const n=c.CoreFile.getSiteFolder(e.id);yield N.g.ignoreErrors(c.CoreFile.removeDir(n))}))()}getSpaceUsage(){var e=this;return(0,o.A)((function*(){if(e.id){const n=c.CoreFile.getSiteFolder(e.id);return c.CoreFile.getDirectorySize(n).catch((()=>0))}return 0}))()}getCacheUsage(){var e=this;return(0,o.A)((function*(){return e.cacheTable.reduce({sql:"SUM(length(data))",js:(e,n)=>e+n.data.length,jsInitialValue:0})}))()}getTotalUsage(){var e=this;return(0,o.A)((function*(){return(yield e.getSpaceUsage())+(yield e.getCacheUsage())}))()}isAjaxGetSupported(){return!!this.getInfo()&&this.isVersionGreaterEqualThan("3.8")}openInBrowserWithAutoLogin(e,n,r={}){var i=this;return(0,o.A)((function*(){yield i.openWithAutoLogin(!1,e,r,n)}))()}openInAppWithAutoLogin(e,n,r){var i=this;return(0,o.A)((function*(){return yield i.openWithAutoLogin(!0,e,n,r)}))()}openWithAutoLogin(e,n,r={},i){var s=this;return(0,o.A)((function*(){const o=yield s.getAutoLoginUrl(n);if(i){const e=yield L.CoreAlerts.show({header:w.HT.instant("core.notice"),message:i,autoCloseTime:3e3});yield e.onDidDismiss(),r.showBrowserWarning=!1}return r.originalUrl=n,e?(void 0===r.clearsessioncache&&o!==n&&("all"===v.CoreConstants.CONFIG.clearIABSessionWhenAutoLogin||"android"===v.CoreConstants.CONFIG.clearIABSessionWhenAutoLogin&&F.CorePlatform.isAndroid()||"ios"===v.CoreConstants.CONFIG.clearIABSessionWhenAutoLogin&&F.CorePlatform.isIOS())&&(r.clearsessioncache="yes"),g.j.openInApp(o,r)):g.j.openInBrowser(o,r)}))()}getConfig(e,n){var r=this;return(0,o.A)((function*(){return yield(0,x._)(r.getConfigObservable(e,n?2:void 0))}))()}getConfigObservable(e,n){const r={cacheKey:this.getConfigCacheKey(),...A.CoreSites.getReadingStrategyPreSets(n)};return this.readObservable("tool_mobile_get_config",{},r).pipe((0,T.T)((n=>{if(e){for(const r in n.settings)if(n.settings[r].name==e)return String(n.settings[r].value);throw new C.CoreError(`Site config not found: ${e}`)}{const e={};return n.settings.forEach((n=>{e[n.name]=String(n.value)})),e}})))}invalidateConfig(){var e=this;return(0,o.A)((function*(){yield e.invalidateWsCacheForKey(e.getConfigCacheKey())}))()}getConfigCacheKey(){return"tool_mobile_get_config"}getStoredConfig(e){if(this.config)return e?this.config[e]:this.config}getSiteDisabledFeatures(){return this.config?this.getStoredConfig("tool_mobile_disabledfeatures"):super.getSiteDisabledFeatures()}triggerSiteEvent(e,n){a.z.trigger(e,n,this.id)}calculateOfflineDisabled(){this.offlineDisabled=this.isFeatureDisabled("NoDelegate_CoreOffline")}isOfflineDisabled(){return this.offlineDisabled}getAutoLoginUrl(e,n=!0){var r=this;return(0,o.A)((function*(){if(!r.privateToken)return e;if(!r.containsUrl(e))return e;if(r.lastAutoLogin>0){const n=yield r.getAutoLoginMinTimeBetweenRequests();if(p.j.timestamp()-r.lastAutoLogin<n)return e}const o=r.getUserId(),i={privatetoken:r.privateToken};let s;n&&(s=yield R.CoreLoadings.show());try{const n=yield r.write("tool_mobile_get_autologin_key",i);return n.autologinurl&&n.key?(r.lastAutoLogin=p.j.timestamp(),n.autologinurl+"?userid="+o+"&key="+n.key+"&urltogo="+encodeURIComponent(e)):e}catch(n){return e}finally{var a;null===(a=s)||void 0===a||a.dismiss()}}))()}deleteSiteConfig(e){var n=this;return(0,o.A)((function*(){yield n.configTable.deleteByPrimaryKey({name:e})}))()}getLocalSiteConfig(e,n){var r=this;return(0,o.A)((function*(){try{return(yield r.configTable.getOneByPrimaryKey({name:e})).value}catch(e){if(void 0!==n)return n;throw e}}))()}setLocalSiteConfig(e,n){var r=this;return(0,o.A)((function*(){yield r.configTable.insert({name:e,value:n})}))()}checkTokenPluginFile(e){return f.F.canUseTokenPluginFile(e,this.siteUrl,this.getFilesAccessKey())?void 0!==this.tokenPluginFileWorks?Promise.resolve(this.tokenPluginFileWorks):this.tokenPluginFileWorksPromise?this.tokenPluginFileWorksPromise:i.WE.isOnline()?(e=this.fixPluginfileURL(e),this.tokenPluginFileWorksPromise=u.CoreWS.urlWorks(e).then((e=>(this.tokenPluginFileWorks=e,e))),this.tokenPluginFileWorksPromise):Promise.resolve(!0):Promise.resolve(!1)}deleteLastViewed(e){var n=this;return(0,o.A)((function*(){yield n.lastViewedTable.delete(e)}))()}getLastViewed(e,n){var r=this;return(0,o.A)((function*(){try{return yield r.lastViewedTable.getOneByPrimaryKey({component:e,id:n})}catch{}}))()}getComponentLastViewed(e,n=[]){var r=this;return(0,o.A)((function*(){try{return n.length?yield r.lastViewedTable.getManyWhere({sql:`id IN (${n.map((()=>"?")).join(", ")}) AND component = ?`,sqlParams:[...n,e],js:r=>r.component===e&&n.includes(r.id)}):yield r.lastViewedTable.getMany({component:e})}catch{}}))()}storeLastViewed(e,n,r,i={}){var s=this;return(0,o.A)((function*(){var o;yield s.lastViewedTable.insert({component:e,id:n,value:String(r),data:i.data,timeaccess:null!==(o=i.timeaccess)&&void 0!==o?o:Date.now()})}))()}getFilesAccessKey(){var e;return null===(e=this.infos)||void 0===e?void 0:e.userprivateaccesskey}getAutoLoginMinTimeBetweenRequests(){var e=this;return(0,o.A)((function*(){const n=yield N.g.ignoreErrors(e.getConfig("tool_mobile_autologinmintimebetweenreq"),6*v.CoreConstants.SECONDS_MINUTE);return Number(n)}))()}getLastAutoLoginTime(){return this.lastAutoLogin}}},50552:(e,n,r)=>{"use strict";r.d(n,{YG:()=>v,ZU:()=>b,lz:()=>g,n0:()=>C});var o=r(10467),i=r(74431),s=r(75629),a=r(82461),c=r(75383),u=r(8014),p=r(99121),f=r(8756);let g=(()=>{class CoreUnauthenticatedSite{constructor(e,n){this.siteUrl=u.F.removeUrlParts(e,["query","fragment"]),n&&this.setPublicConfig(n)}getURL(){return this.siteUrl}setURL(e){this.siteUrl=e}getInfo(){}hasInfo(e){var n,r;const o=null!==(n=null===(r=this.getInfo())||void 0===r?void 0:r[e])&&void 0!==n?n:null;return!1===o||0===o||!!o}getSiteName(){var e=this;return(0,o.A)((function*(){var n,r;if(e.isDemoModeSite())return i.CoreConstants.CONFIG.appname;const o=(null===(n=e.getInfo())||void 0===n?void 0:n.sitename)||(null===(r=e.publicConfig)||void 0===r?void 0:r.sitename);if(o)return o;if(yield a.CoreLoginHelper.isSingleFixedSite()){return(yield a.CoreLoginHelper.getAvailableSites())[0].name}return""}))()}forcesLocalLogo(){return i.CoreConstants.CONFIG.forceLoginLogo||this.isDemoModeSite()}getLogoUrl(e){if((e=null!=e?e:this.publicConfig)&&!this.forcesLocalLogo())return e.logourl||e.compactlogourl||void 0}getShowTopLogo(){return this.isDemoModeSite()?"hidden":i.CoreConstants.CONFIG.showTopLogo}getTopLogoUrl(e){if((e=null!=e?e:this.publicConfig)&&"online"===this.getShowTopLogo())return e.logourl||e.compactlogourl||void 0}createSiteUrl(e,n,r){return u.F.addParamsToUrl(f.$.concatenatePaths(this.siteUrl,e),n,{anchor:r})}containsUrl(e){if(!e)return!1;const n=c.Ni.addEndingSlash(u.F.removeUrlParts(this.siteUrl,["protocol","www"]));return 0==(e=c.Ni.addEndingSlash(u.F.removeUrlParts(e,["protocol","www"]))).indexOf(n)}getPublicConfig(e={}){var n=this;return(0,o.A)((function*(){if(!(2===e.readingStrategy||3===e.readingStrategy)&&n.publicConfig)return n.publicConfig;if(0===e.readingStrategy)throw new s.CoreError("Cache not available to read public config");try{const e=yield n.requestPublicConfig();return n.setPublicConfig(e),e}catch(r){if(2===e.readingStrategy||!n.publicConfig)throw r;return n.publicConfig}}))()}setPublicConfig(e){var n;e.tool_mobile_disabledfeatures=this.treatDisabledFeatures(null!==(n=e.tool_mobile_disabledfeatures)&&void 0!==n?n:""),this.publicConfig=e}requestPublicConfig(){var e=this;return(0,o.A)((function*(){const n={siteUrl:e.siteUrl};let r;try{r=yield p.CoreWS.callAjax("tool_mobile_get_public_config",{},n)}catch(o){if(!o||"codingerror"!==o.errorcode||e.getInfo()&&!e.isAjaxGetSupported())throw o;n.noLogin=!0,n.useGet=!0;try{r=yield p.CoreWS.callAjax("tool_mobile_get_public_config",{},n)}catch(n){throw e.isAjaxGetSupported()?n:o}}return r.httpswwwroot&&(e.siteUrl=u.F.removeUrlParts(r.httpswwwroot,["query","fragment"])),r}))()}isAjaxGetSupported(){return!1}isSitePluginFileUrl(e){return!(!u.F.isPluginFileUrl(e)&&!u.F.isTokenPluginFileUrl(e))&&this.containsUrl(e)}isSiteThemeImageUrl(e){return!!u.F.isThemeImageUrl(e)&&this.containsUrl(e)}isDemoModeSite(){const e=a.CoreLoginHelper.getDemoModeSiteInfo();return this.containsUrl(null==e?void 0:e.url)}shouldDisplayInformativeLinks(){return!i.CoreConstants.CONFIG.hideInformativeLinks&&!this.isDemoModeSite()}isFeatureDisabled(e){const n=this.getDisabledFeatures();if(!n)return!1;const r=new RegExp(`(,|^)${c.Ni.escapeForRegex(e)}(,|$)`,"g");return!!n.match(r)}getDisabledFeatures(){const e=this.getSiteDisabledFeatures()||void 0,n=i.CoreConstants.CONFIG.disabledFeatures;return[...(null==e?void 0:e.split(","))||[],...(null==n?void 0:n.split(","))||[]].join(",")}getSiteDisabledFeatures(){var e;return null===(e=this.publicConfig)||void 0===e?void 0:e.tool_mobile_disabledfeatures}treatDisabledFeatures(e){if(!e)return"";for(let n=0;n<CoreUnauthenticatedSite.DISABLED_FEATURES_COMPAT_REGEXPS.length;n++){const r=CoreUnauthenticatedSite.DISABLED_FEATURES_COMPAT_REGEXPS[n];e=e.replace(r.old,r.new)}return e}}return CoreUnauthenticatedSite.DISABLED_FEATURES_COMPAT_REGEXPS=[{old:/\$mmLoginEmailSignup/g,new:"CoreLoginEmailSignup"},{old:/\$mmSideMenuDelegate/g,new:"CoreMainMenuDelegate"},{old:/\$mmCoursesDelegate/g,new:"CoreCourseOptionsDelegate"},{old:/\$mmUserDelegate/g,new:"CoreUserDelegate"},{old:/\$mmCourseDelegate/g,new:"CoreCourseModuleDelegate"},{old:/_mmCourses/g,new:"_CoreCourses"},{old:/_mmaFrontpage/g,new:"_CoreSiteHome"},{old:/_mmaGrades/g,new:"_CoreGrades"},{old:/_mmaCompetency/g,new:"_AddonCompetency"},{old:/_mmaNotifications/g,new:"_AddonNotifications"},{old:/_mmaMessages/g,new:"_AddonMessages"},{old:/_mmaCalendar/g,new:"_AddonCalendar"},{old:/_mmaFiles/g,new:"_AddonPrivateFiles"},{old:/_mmaParticipants/g,new:"_CoreUserParticipants"},{old:/_mmaCourseCompletion/g,new:"_AddonCourseCompletion"},{old:/_mmaNotes/g,new:"_AddonNotes"},{old:/_mmaBadges/g,new:"_AddonBadges"},{old:/files_privatefiles/g,new:"AddonPrivateFilesPrivateFiles"},{old:/files_sitefiles/g,new:"AddonPrivateFilesSiteFiles"},{old:/files_upload/g,new:"AddonPrivateFilesUpload"},{old:/_mmaModAssign/g,new:"_AddonModAssign"},{old:/_mmaModBigbluebuttonbn/g,new:"_AddonModBBB"},{old:/_mmaModBook/g,new:"_AddonModBook"},{old:/_mmaModChat/g,new:"_AddonModChat"},{old:/_mmaModChoice/g,new:"_AddonModChoice"},{old:/_mmaModData/g,new:"_AddonModData"},{old:/_mmaModFeedback/g,new:"_AddonModFeedback"},{old:/_mmaModFolder/g,new:"_AddonModFolder"},{old:/_mmaModForum/g,new:"_AddonModForum"},{old:/_mmaModGlossary/g,new:"_AddonModGlossary"},{old:/_mmaModH5pactivity/g,new:"_AddonModH5PActivity"},{old:/_mmaModImscp/g,new:"_AddonModImscp"},{old:/_mmaModLabel/g,new:"_AddonModLabel"},{old:/_mmaModLesson/g,new:"_AddonModLesson"},{old:/_mmaModLti/g,new:"_AddonModLti"},{old:/_mmaModPage/g,new:"_AddonModPage"},{old:/_mmaModQuiz/g,new:"_AddonModQuiz"},{old:/_mmaModResource/g,new:"_AddonModResource"},{old:/_mmaModScorm/g,new:"_AddonModScorm"},{old:/_mmaModSurvey/g,new:"_AddonModSurvey"},{old:/_mmaModUrl/g,new:"_AddonModUrl"},{old:/_mmaModWiki/g,new:"_AddonModWiki"},{old:/_mmaModWorkshop/g,new:"_AddonModWorkshop"},{old:/remoteAddOn_/g,new:"sitePlugin_"},{old:/AddonNotes:addNote/g,new:"AddonNotes:notes"}],CoreUnauthenticatedSite})();var v=function(e){return e[e.HOMEPAGE_SITE=0]="HOMEPAGE_SITE",e[e.HOMEPAGE_MY=1]="HOMEPAGE_MY",e[e.HOMEPAGE_MYCOURSES=3]="HOMEPAGE_MYCOURSES",e[e.HOMEPAGE_URL=4]="HOMEPAGE_URL",e}(v||{}),C=function(e){return e[e.QR_CODE_DISABLED=0]="QR_CODE_DISABLED",e[e.QR_CODE_URL=1]="QR_CODE_URL",e[e.QR_CODE_LOGIN=2]="QR_CODE_LOGIN",e}(C||{}),b=function(e){return e[e.APP=1]="APP",e[e.BROWSER=2]="BROWSER",e[e.EMBEDDED=3]="EMBEDDED",e}(b||{})},58483:(e,n,r)=>{"use strict";r.d(n,{O:()=>w});var o=r(10467),i=r(54438),s=r(87455),a=r(68793),c=r(82907),u=r(53794),p=r(75629),f=r(25124),g=r(62393),v=r(14678),C=r(91416);const b=["swiperRef"];let w=(()=>{var e;class CoreTabsBaseComponent{set swiperRef(e){setTimeout((()=>{const n=v.O.initSwiperIfAvailable(this.swiper,e,this.swiperOpts);n&&(this.swiper=n,this.swiper.on("slideChangeTransitionEnd",(()=>{this.slideChanged()})),this.init())}))}constructor(e){this.selectedIndex=0,this.hideUntil=!1,this.ionChange=new i.bkB,this.tabs=[],this.hideTabs=!1,this.showPrevButton=!1,this.showNextButton=!1,this.maxSlides=3,this.numTabsShown=0,this.description="",this.swiperOpts={slidesPerView:3,centerInsufficientSlides:!0,threshold:10},this.isDestroyed=!1,this.isCurrentView=!0,this.shouldSlideToInitial=!1,this.hasSliddenToInitial=!1,this.selectHistory=[],this.isInTransition=!1,this.subscriptions=[],this.onReadyPromise=new f._,this.backButtonFunction=e=>this.backButtonClicked(e),this.tabAction=new CoreTabsRoleTab(this),g.D.register(e.nativeElement,this)}ngAfterViewInit(){this.isDestroyed||(this.init(),this.resizeListener=c.y.onWindowResize((()=>{this.calculateSlides()})))}ngOnChanges(e){this.init()}ionViewDidEnter(){this.isCurrentView=!0,this.calculateSlides(),document.addEventListener("ionBackButton",this.backButtonFunction)}backButtonClicked(e){e.detail.register(40,(e=>{if(this.selectHistory.length>1){const e=this.selectHistory[this.selectHistory.length-2];return this.selectHistory=this.selectHistory.filter((n=>this.selected!=n&&e!=n)),this.selectTab(e),void 0}if(this.firstSelectedTab&&this.selected!=this.firstSelectedTab)return this.selectHistory=[],this.selectTab(this.firstSelectedTab),void 0;e()}))}ionViewDidLeave(){document.removeEventListener("ionBackButton",this.backButtonFunction),this.isCurrentView=!1}calculateSlides(){var e=this;return(0,o.A)((function*(){if(e.isCurrentView&&e.swiper){if(e.numTabsShown=e.tabs.reduce(((e,n)=>n.enabled?e+1:e),0),e.numTabsShown<=1)return e.hideTabs=!0,void 0;if(e.hideTabs=!1,yield e.calculateMaxSlides(),e.swiperOpts.slidesPerView=Math.min(e.maxSlides,e.numTabsShown),e.slideChanged(),e.swiper.update(),yield u.H.nextTick(),!e.hasSliddenToInitial&&e.selectedIndex>=e.swiper.slidesPerViewDynamic())return e.hasSliddenToInitial=!0,e.shouldSlideToInitial=!0,setTimeout((()=>{var n;e.shouldSlideToInitial&&(null===(n=e.swiper)||void 0===n||n.slideTo(e.selectedIndex,0),e.shouldSlideToInitial=!1)}),400),void 0;e.hasSliddenToInitial=!0,setTimeout((()=>{e.slideChanged()}),400)}}))()}getTabIndex(e){return e?this.tabs.findIndex((n=>e===n.id)):-1}getSelected(){const e=this.getTabIndex(this.selected);return e>=0?this.tabs[e]:void 0}init(){var e=this;return(0,o.A)((function*(){if(e.hideUntil&&e.swiper)try{if(!e.firstSelectedTab){const n=e.calculateInitialTab();if(!n)throw new p.CoreError("No enabled tabs.");e.firstSelectedTab=n.id,void 0!==e.firstSelectedTab&&e.selectTab(e.firstSelectedTab)}e.calculateSlides()}catch{}}))()}calculateInitialTab(){const e=this.tabs[this.selectedIndex]||void 0;return null!=e&&e.enabled?e:this.tabs.find((e=>e.enabled))}slideChanged(){if(!this.swiper||this.swiper.destroyed)return;this.isInTransition=!1;(this.swiper.slides.length||0)>0?(this.showPrevButton=!this.swiper.isBeginning,this.showNextButton=!this.swiper.isEnd):(this.showPrevButton=!1,this.showNextButton=!1);this.shouldSlideToInitial&&this.swiper.activeIndex!=this.selectedIndex&&(this.shouldSlideToInitial=!1)}calculateMaxSlides(){var e=this;return(0,o.A)((function*(){if(!e.swiper||e.swiper.destroyed)return;if(e.maxSlides=3,yield u.H.nextTick(),!e.swiper.width)return;const n=yield s.CoreSettingsHelper.getZoom();e.maxSlides=Math.floor(e.swiper.width/(n/100*CoreTabsBaseComponent.MIN_TAB_WIDTH))}))()}slideNext(){if(this.showNextButton&&!this.isInTransition&&this.swiper)if(this.swiper.isBeginning)this.swiper.slideTo(this.maxSlides);else{const e=this.swiper.activeIndex;if(void 0!==e){const n=e+this.maxSlides;this.isInTransition=!0,this.swiper.slideTo(n<this.numTabsShown?n:this.numTabsShown-1)}}}slidePrev(){if(this.showPrevButton&&!this.isInTransition&&this.swiper)if(this.swiper.isEnd)this.swiper.slideTo(this.numTabsShown-2*this.maxSlides);else{const e=this.swiper.activeIndex;if(void 0!==e){const n=e-this.maxSlides;this.isInTransition=!0,this.swiper.slideTo(n>=0?n:0)}}}selectTab(e,n){var r=this;return(0,o.A)((function*(){const o=r.tabs.findIndex((n=>e==n.id));if(!(o<0))return r.selectByIndex(o,n)}))()}selectByIndex(e,n){var r=this;return(0,o.A)((function*(){if(null==n||n.preventDefault(),null==n||n.stopPropagation(),e<0||e>=r.tabs.length){if(r.selected)return;e=0}const o=r.tabs[e];if(!o||!o.enabled)return;if(r.selected&&r.swiper&&!r.swiper.destroyed){const n=r.swiper.activeIndex,o=n+r.swiper.slidesPerViewDynamic()-1;(e<n||e>o)&&r.swiper.slideTo(e,0,!0)}if(o.id===r.selected)return;!1!==(yield r.loadTab(o))&&r.tabSelected(o,e),r.onReadyPromise.resolve()}))()}tabSelected(e,n){var r,o;this.selectHistory.push(null!==(r=e.id)&&void 0!==r?r:""),this.selected=e.id,this.selectedIndex=n,null===(o=this.swiper)||void 0===o||o.slideTo(this.selectedIndex,0),this.ionChange.emit(e)}loadTab(e){return(0,o.A)((function*(){return!0}))()}ready(){var e=this;return(0,o.A)((function*(){return e.onReadyPromise}))()}ngOnDestroy(){var e;this.isDestroyed=!0,null===(e=this.resizeListener)||void 0===e||e.off(),this.subscriptions.forEach((e=>e.unsubscribe()))}}return(e=CoreTabsBaseComponent).MIN_TAB_WIDTH=107,e.ɵfac=function CoreTabsBaseComponent_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵcmp=i.VBU({type:e,selectors:[["ng-component"]],viewQuery:function CoreTabsBaseComponent_Query(e,n){if(1&e&&i.GBs(b,5),2&e){let e;i.mGM(e=i.lsd())&&(n.swiperRef=e.first)}},inputs:{selectedIndex:"selectedIndex",hideUntil:[i.Mj6.HasDecoratorInputTransform,"hideUntil","hideUntil",C.G]},outputs:{ionChange:"ionChange"},features:[i.GFd,i.OA$],decls:0,vars:0,template:function CoreTabsBaseComponent_Template(e,n){},encapsulation:2}),CoreTabsBaseComponent})();class CoreTabsRoleTab extends a.m{selectTab(e,n){this.componentInstance.selectTab(e,n)}getSelectableTabs(){return this.componentInstance.tabs.filter((e=>e.enabled)).map((e=>({id:e.id||"",findIndex:e.id||""})))}}},89818:(e,n,r)=>{"use strict";r.d(n,{d:()=>CoreAnimations});var o,i=r(49969);class CoreAnimations{}(o=CoreAnimations).SHOW_HIDE=(0,i.hZ)("coreShowHideAnimation",[(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)("500ms ease-in-out",(0,i.iF)({opacity:1}))]),(0,i.kY)(":leave",[(0,i.iF)({opacity:1}),(0,i.i0)("500ms ease-in-out",(0,i.iF)({opacity:0}))])]),o.SLIDE_IN_OUT=(0,i.hZ)("coreSlideInOut",[(0,i.kY)("void => fromLeft",[(0,i.i0)(300,(0,i.i7)([(0,i.iF)({opacity:0,transform:"translateX(-100%)",offset:0}),(0,i.iF)({opacity:1,transform:"translateX(5%)",offset:.7}),(0,i.iF)({opacity:1,transform:"translateX(0)",offset:1})]))]),(0,i.kY)("fromLeft => void",[(0,i.i0)(300,(0,i.i7)([(0,i.iF)({opacity:1,transform:"translateX(0)",offset:0}),(0,i.iF)({opacity:1,transform:"translateX(5%)",offset:.3}),(0,i.iF)({opacity:0,transform:"translateX(-100%)",offset:1})]))]),(0,i.kY)("void => fromRight",[(0,i.i0)(300,(0,i.i7)([(0,i.iF)({opacity:0,transform:"translateX(100%)",offset:0}),(0,i.iF)({opacity:1,transform:"translateX(-5%)",offset:.7}),(0,i.iF)({opacity:1,transform:"translateX(0)",offset:1})]))]),(0,i.kY)("fromRight => void",[(0,i.i0)(300,(0,i.i7)([(0,i.iF)({opacity:1,transform:"translateX(0)",offset:0}),(0,i.iF)({opacity:1,transform:"translateX(-5%)",offset:.3}),(0,i.iF)({opacity:0,transform:"translateX(100%)",offset:1})]))])])},95638:(e,n,r)=>{"use strict";r.d(n,{V:()=>N});var o=r(10467),i=r(16082),s=r(52749),a=r(75383),c=r(79555),u=r(94455),p=r(64847),f=r(66110),g=r(55554),v=r(91416),C=r(25572),b=r(47551),w=r(2469),A=r(64422),_=r(50016),E=r(6128),I=r(17778),T=r(86198),P=r(43570),k=r(54438),x=r(60177),F=r(2910),R=r(73955);const _forTrack0=(e,n)=>n.name,_c0=(e,n)=>({size:e,attachments:n}),_c1=e=>({$a:e});function CoreAttachmentsComponent_Conditional_8_Template(e,n){if(1&e&&(k.EFF(0),k.nI1(1,"translate")),2&e){const e=k.XpG();k.SpI(" ",k.i5U(1,1,"core.maxsizeandattachments",k.eq3(7,_c1,k.l_i(4,_c0,e.maxSizeReadable,e.maxSubmissionsReadable)))," ")}}function CoreAttachmentsComponent_Conditional_9_Template(e,n){if(1&e&&(k.EFF(0),k.nI1(1,"translate")),2&e){const e=k.XpG();k.SpI(" ",k.i5U(1,1,"core.maxfilesize",k.eq3(4,_c1,e.maxSizeReadable))," ")}}function CoreAttachmentsComponent_Conditional_10_Template(e,n){if(1&e){const e=k.RV6();k.j41(0,"ion-button",6),k.nI1(1,"translate"),k.bIt("click",(function CoreAttachmentsComponent_Conditional_10_Template_ion_button_click_0_listener(){k.eBV(e);const n=k.XpG();return k.Njj(n.add())})),k.nrm(2,"ion-icon",7),k.k0s()}2&e&&k.Y8G("ariaLabel",k.bMT(1,1,"core.fileuploader.addfiletext"))}function CoreAttachmentsComponent_Conditional_11_For_10_Conditional_1_Template(e,n){if(1&e&&(k.j41(0,"strong"),k.EFF(1),k.k0s()),2&e){const e=k.XpG().$implicit;k.R7$(),k.SpI("",e.name," ")}}function CoreAttachmentsComponent_Conditional_11_For_10_Template(e,n){if(1&e&&(k.j41(0,"li"),k.DNE(1,CoreAttachmentsComponent_Conditional_11_For_10_Conditional_1_Template,2,1,"strong"),k.EFF(2),k.k0s()),2&e){const e=n.$implicit;k.R7$(),k.vxM(1,e.name?1:-1),k.R7$(),k.SpI(" ",e.extlist," ")}}function CoreAttachmentsComponent_Conditional_11_Template(e,n){if(1&e&&(k.j41(0,"ion-accordion-group")(1,"ion-accordion",8)(2,"ion-item",9)(3,"ion-label")(4,"p",2),k.EFF(5),k.nI1(6,"translate"),k.k0s()(),k.nrm(7,"ion-icon",10),k.k0s(),k.j41(8,"ul",11),k.Z7z(9,CoreAttachmentsComponent_Conditional_11_For_10_Template,3,2,"li",null,_forTrack0),k.k0s()()()),2&e){const e=k.XpG();k.R7$(5),k.JRh(k.bMT(6,1,"core.fileuploader.filesofthesetypes")),k.R7$(4),k.Dyx(e.fileTypes.info)}}function CoreAttachmentsComponent_ng_container_12_Conditional_1_Template(e,n){if(1&e){const e=k.RV6();k.j41(0,"core-local-file",13),k.bIt("onDelete",(function CoreAttachmentsComponent_ng_container_12_Conditional_1_Template_core_local_file_onDelete_0_listener(){k.eBV(e);const n=k.XpG().index,r=k.XpG();return k.Njj(r.delete(n,!1))}))("onRename",(function CoreAttachmentsComponent_ng_container_12_Conditional_1_Template_core_local_file_onRename_0_listener(n){k.eBV(e);const r=k.XpG().index,o=k.XpG();return k.Njj(o.renamed(r,n))})),k.k0s()}if(2&e){const e=k.XpG().$implicit;k.Y8G("file",e)("manage",!0)}}function CoreAttachmentsComponent_ng_container_12_Conditional_2_Template(e,n){if(1&e){const e=k.RV6();k.j41(0,"core-file",14),k.bIt("onDelete",(function CoreAttachmentsComponent_ng_container_12_Conditional_2_Template_core_file_onDelete_0_listener(){k.eBV(e);const n=k.XpG().index,r=k.XpG();return k.Njj(r.delete(n,!0))})),k.k0s()}if(2&e){const e=k.XpG().$implicit,n=k.XpG();k.Y8G("file",e)("component",n.component)("componentId",n.componentId)("canDelete",!0)("canDownload",!e.offline)}}function CoreAttachmentsComponent_ng_container_12_Template(e,n){if(1&e&&(k.qex(0),k.DNE(1,CoreAttachmentsComponent_ng_container_12_Conditional_1_Template,1,2,"core-local-file",12)(2,CoreAttachmentsComponent_ng_container_12_Conditional_2_Template,1,5),k.bVm()),2&e){const e=n.$implicit;k.R7$(),k.vxM(1,e.name?1:2)}}function CoreAttachmentsComponent_Conditional_13_Template(e,n){1&e&&(k.j41(0,"ion-item",1)(1,"ion-label")(2,"p"),k.EFF(3),k.nI1(4,"translate"),k.k0s()()()),2&e&&(k.R7$(3),k.JRh(k.bMT(4,1,"core.fileuploader.nofilesattached")))}let N=(()=>{var e;class CoreAttachmentsComponent{constructor(){this.files=[],this.allowOffline=!1,this.required=!1,this.title=c.HT.instant("core.fileuploader.attachedfiles"),this.loaded=!1}ngOnInit(){var e=this;return(0,o.A)((function*(){var n;e.files=e.files||[],e.maxSize=null!==e.maxSize?Number(e.maxSize):NaN,0===e.maxSize?yield e.getMaxSizeOfArea():e.maxSizeReadable=e.maxSize>0?a.Ni.bytesToSize(e.maxSize,2):c.HT.instant(-1===e.maxSize?"core.unlimited":"core.unknown"),void 0===e.maxSubmissions||e.maxSubmissions<0?(e.maxSubmissionsReadable=void 0===e.maxSubmissions?c.HT.instant("core.unknown"):void 0,e.unlimitedFiles=!0):e.maxSubmissionsReadable=String(e.maxSubmissions),e.acceptedTypes=null===(n=e.acceptedTypes)||void 0===n?void 0:n.trim(),e.acceptedTypes&&"*"!=e.acceptedTypes&&(e.fileTypes=i.CoreFileUploader.prepareFiletypeList(e.acceptedTypes)),e.loaded=!0}))()}getMaxSizeOfArea(){var e=this;return(0,o.A)((function*(){if(e.courseId){const n=yield g.g.ignoreErrors(f.CoreCourses.getCourseByField("id",e.courseId));if(null!=n&&n.maxbytes)return e.maxSize=n.maxbytes,e.maxSizeReadable=a.Ni.bytesToSize(e.maxSize,2),void 0}const n=s.CoreSites.getCurrentSite(),r=null==n?void 0:n.getInfo();null!=r&&r.usermaxuploadfilesize?(e.maxSize=r.usermaxuploadfilesize,e.maxSizeReadable=a.Ni.bytesToSize(e.maxSize,2)):e.maxSizeReadable=c.HT.instant("core.unknown")}))()}add(){var e=this;return(0,o.A)((function*(){if(!e.allowOffline&&!u.WE.isOnline())return C.CoreAlerts.showError(c.HT.instant("core.fileuploader.errormustbeonlinetoupload")),void 0;const n=e.fileTypes&&e.fileTypes.mimetypes;try{var r;const o=yield p.CoreFileUploaderHelper.selectFile(e.maxSize,e.allowOffline,void 0,n);null===(r=e.files)||void 0===r||r.push(o)}catch(e){C.CoreAlerts.showError(e,{default:"Error selecting file."})}}))()}delete(e,n){var r=this;return(0,o.A)((function*(){var o;if(n)try{yield C.CoreAlerts.confirmDelete(c.HT.instant("core.confirmdeletefile"))}catch{return}const i=r.files[e];if(i){var s;const e=null!==(s=i.filename)&&void 0!==s?s:i.name;e&&b.CoreToasts.show({cssClass:"sr-only",message:c.HT.instant("core.filedeletedsuccessfully",{filename:e})})}null===(o=r.files)||void 0===o||o.splice(e,1)}))()}renamed(e,n){this.files[e]=n.file}}return(e=CoreAttachmentsComponent).ɵfac=function CoreAttachmentsComponent_Factory(n){return new(n||e)},e.ɵcmp=k.VBU({type:e,selectors:[["core-attachments"]],inputs:{files:"files",maxSize:"maxSize",maxSubmissions:"maxSubmissions",component:"component",componentId:"componentId",allowOffline:[k.Mj6.HasDecoratorInputTransform,"allowOffline","allowOffline",v.G],acceptedTypes:"acceptedTypes",required:[k.Mj6.HasDecoratorInputTransform,"required","required",v.G],courseId:"courseId",title:"title"},standalone:!0,features:[k.GFd,k.aNF],decls:14,vars:9,consts:[[3,"hideUntil","fullscreen"],[1,"ion-text-wrap"],[1,"item-heading"],[1,"core-mark-required",3,"core-mark-required"],["slot","end",3,"ariaLabel"],[4,"ngFor","ngForOf"],["slot","end",3,"click","ariaLabel"],["name","fas-plus","slot","icon-only","aria-hidden","true"],["toggleIconSlot","start"],["slot","header",1,"core-attachments-header","ion-text-wrap"],["name","fas-circle-info","aria-hidden","true","slot","end","color","dark"],["slot","content",1,"core-attachments"],[3,"file","manage"],[3,"onDelete","onRename","file","manage"],[3,"onDelete","file","component","componentId","canDelete","canDownload"]],template:function CoreAttachmentsComponent_Template(e,n){1&e&&(k.j41(0,"core-loading",0)(1,"ion-card")(2,"ion-item",1)(3,"ion-label")(4,"p",2),k.EFF(5),k.nrm(6,"span",3),k.k0s(),k.j41(7,"span"),k.DNE(8,CoreAttachmentsComponent_Conditional_8_Template,2,9)(9,CoreAttachmentsComponent_Conditional_9_Template,2,6),k.k0s()(),k.DNE(10,CoreAttachmentsComponent_Conditional_10_Template,3,3,"ion-button",4),k.k0s(),k.DNE(11,CoreAttachmentsComponent_Conditional_11_Template,11,3,"ion-accordion-group")(12,CoreAttachmentsComponent_ng_container_12_Template,3,1,"ng-container",5)(13,CoreAttachmentsComponent_Conditional_13_Template,5,3,"ion-item",1),k.k0s()()),2&e&&(k.Y8G("hideUntil",n.loaded)("fullscreen",!1),k.R7$(5),k.SpI("",n.title," "),k.R7$(),k.Y8G("core-mark-required",n.required),k.R7$(2),k.vxM(8,n.maxSubmissionsReadable?8:9),k.R7$(2),k.vxM(10,n.unlimitedFiles||void 0!==n.maxSubmissions&&n.maxSubmissions>=0&&n.files&&n.files.length<n.maxSubmissions?10:-1),k.R7$(),k.vxM(11,n.fileTypes&&n.fileTypes.mimetypes&&n.fileTypes.mimetypes.length?11:-1),k.R7$(),k.Y8G("ngForOf",n.files),k.R7$(),k.vxM(13,n.files&&n.files.length?-1:13))},dependencies:[w.V,x.Sq,F.xk,F.YH,F.Jm,F.b_,F.iq,F.uz,F.he,R.D9,T.t,P.T,A.R,_.a,E.t,I.j],styles:["[_nghost-%COMP%]   core-loading[_ngcontent-%COMP%]{--loading-inline-min-height: 60px}[_nghost-%COMP%]   .core-attachments[_ngcontent-%COMP%]{margin-inline-end:var(--mdl-spacing-3)}[_nghost-%COMP%]   .core-attachments-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:var(--mdl-spacing-3);font-size:var(--mdl-typography-icon-fontSize-sm)}"]}),CoreAttachmentsComponent})()},6838:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreBSTooltipComponent:()=>u});var o=r(2469),i=r(91416),s=r(58197),a=r(54438),c=r(2910);function CoreBSTooltipComponent_Conditional_2_Conditional_0_Template(e,n){if(1&e&&(a.j41(0,"p",1),a.nrm(1,"core-format-text",2),a.k0s()),2&e){const e=a.XpG(2);a.R7$(),a.Y8G("text",e.title)("siteId",null==e.formatTextOptions?null:e.formatTextOptions.siteId)("component",null==e.formatTextOptions?null:e.formatTextOptions.component)("componentId",null==e.formatTextOptions?null:e.formatTextOptions.componentId)("contextLevel",null==e.formatTextOptions?null:e.formatTextOptions.contextLevel)("contextInstanceId",null==e.formatTextOptions?null:e.formatTextOptions.contextInstanceId)("courseId",null==e.formatTextOptions?null:e.formatTextOptions.courseId)}}function CoreBSTooltipComponent_Conditional_2_Template(e,n){if(1&e&&(a.DNE(0,CoreBSTooltipComponent_Conditional_2_Conditional_0_Template,2,7,"p",1),a.j41(1,"p"),a.nrm(2,"core-format-text",2),a.k0s()),2&e){const e=a.XpG();a.vxM(0,e.title?0:-1),a.R7$(2),a.Y8G("text",e.content)("siteId",null==e.formatTextOptions?null:e.formatTextOptions.siteId)("component",null==e.formatTextOptions?null:e.formatTextOptions.component)("componentId",null==e.formatTextOptions?null:e.formatTextOptions.componentId)("contextLevel",null==e.formatTextOptions?null:e.formatTextOptions.contextLevel)("contextInstanceId",null==e.formatTextOptions?null:e.formatTextOptions.contextInstanceId)("courseId",null==e.formatTextOptions?null:e.formatTextOptions.courseId)}}function CoreBSTooltipComponent_Conditional_3_Conditional_0_Template(e,n){if(1&e&&(a.j41(0,"p",1),a.EFF(1),a.k0s()),2&e){const e=a.XpG(2);a.R7$(),a.JRh(e.title)}}function CoreBSTooltipComponent_Conditional_3_Template(e,n){if(1&e&&(a.DNE(0,CoreBSTooltipComponent_Conditional_3_Conditional_0_Template,2,1,"p",1),a.j41(1,"p"),a.EFF(2),a.k0s()),2&e){const e=a.XpG();a.vxM(0,e.title?0:-1),a.R7$(2),a.JRh(e.content)}}let u=(()=>{var e;class CoreBSTooltipComponent{constructor(){this.content="",this.html=!1}}return(e=CoreBSTooltipComponent).ɵfac=function CoreBSTooltipComponent_Factory(n){return new(n||e)},e.ɵcmp=a.VBU({type:e,selectors:[["core-bs-tooltip"]],inputs:{title:"title",content:"content",formatTextOptions:"formatTextOptions",html:[a.Mj6.HasDecoratorInputTransform,"html","html",i.G]},standalone:!0,features:[a.GFd,a.aNF],decls:4,vars:1,consts:[[1,"ion-text-wrap"],[1,"item-heading"],[3,"text","siteId","component","componentId","contextLevel","contextInstanceId","courseId"]],template:function CoreBSTooltipComponent_Template(e,n){1&e&&(a.j41(0,"ion-item",0)(1,"ion-label"),a.DNE(2,CoreBSTooltipComponent_Conditional_2_Template,3,8,"p")(3,CoreBSTooltipComponent_Conditional_3_Template,3,2),a.k0s()()),2&e&&(a.R7$(2),a.vxM(2,n.html?2:3))},dependencies:[o.V,c.uz,c.he,s.B],encapsulation:2}),CoreBSTooltipComponent})()},76954:(e,n,r)=>{"use strict";r.d(n,{q:()=>f});var o=r(91416),i=r(89818),s=r(2469),a=r(54438),c=r(2910),u=r(73955);const p=["*"];function CoreButtonWithSpinnerComponent_Conditional_0_Template(e,n){if(1&e&&(a.nrm(0,"ion-spinner"),a.nI1(1,"translate")),2&e){const e=a.XpG();a.Y8G("@coreShowHideAnimation",void 0),a.BMQ("aria-label",a.bMT(1,2,e.loadingLabel))}}function CoreButtonWithSpinnerComponent_Conditional_1_Template(e,n){1&e&&(a.j41(0,"div"),a.SdG(1),a.k0s()),2&e&&a.Y8G("@coreShowHideAnimation",void 0)}let f=(()=>{var e;class CoreButtonWithSpinnerComponent{constructor(){this.loading=!0,this.loadingLabel="core.loading"}}return(e=CoreButtonWithSpinnerComponent).ɵfac=function CoreButtonWithSpinnerComponent_Factory(n){return new(n||e)},e.ɵcmp=a.VBU({type:e,selectors:[["core-button-with-spinner"]],inputs:{loading:[a.Mj6.HasDecoratorInputTransform,"loading","loading",o.G],loadingLabel:"loadingLabel"},standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:p,decls:2,vars:1,template:function CoreButtonWithSpinnerComponent_Template(e,n){1&e&&(a.NAR(),a.DNE(0,CoreButtonWithSpinnerComponent_Conditional_0_Template,2,4,"ion-spinner")(1,CoreButtonWithSpinnerComponent_Conditional_1_Template,2,1)),2&e&&a.vxM(0,n.loading?0:1)},dependencies:[s.V,c.w2,u.D9],styles:["[_nghost-%COMP%]{font-size:1.4rem;display:flex;flex-flow:row;align-items:center;justify-content:space-around;align-content:center;min-height:var(--a11y-sizing-minTargetSize);min-width:var(--a11y-sizing-minTargetSize);position:relative}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}"],data:{animation:[i.d.SHOW_HIDE]}}),CoreButtonWithSpinnerComponent})()},47222:(e,n,r)=>{"use strict";r.d(n,{B:()=>v});var o=r(10467),i=r(91416),s=r(7310),a=r(40867),c=r(2469),u=r(86198),p=r(54438),f=r(2910);const g=["canvas"],_forTrack0=(e,n)=>n.text;function CoreChartComponent_Conditional_2_For_2_Template(e,n){if(1&e&&(p.j41(0,"ion-item"),p.nrm(1,"ion-icon",1),p.j41(2,"ion-label"),p.EFF(3),p.k0s()()),2&e){const e=n.$implicit;p.R7$(),p.xc7("color",e.fillStyle),p.R7$(2),p.JRh(e.text)}}function CoreChartComponent_Conditional_2_Template(e,n){if(1&e&&(p.j41(0,"ion-list"),p.Z7z(1,CoreChartComponent_Conditional_2_For_2_Template,4,3,"ion-item",null,_forTrack0),p.k0s()),2&e){const e=p.XpG();p.R7$(),p.Dyx(e.legendItems)}}let v=(()=>{var e;class CoreChartComponent{constructor(){this.data=[],this.labels=[],this.height=300,this.wsNotFiltered=!1,this.legendItems=[]}ngOnInit(){var e=this;return(0,o.A)((function*(){var n;const o=void 0===e.legend?{display:!1,labels:{generateLabels:e=>{var n;const r=e.data;if(null!==(n=r.labels)&&void 0!==n&&n.length){var o;const e=null===(o=r.datasets)||void 0===o?void 0:o[0];return r.labels.map(((n,r)=>{var o,i;return{text:`${n}: ${null==e||null===(o=e.data)||void 0===o?void 0:o[r]}`,fillStyle:null==e||null===(i=e.backgroundColor)||void 0===i?void 0:i[r]}}))}return[]}}}:Object.assign({},e.legend),i="bar"===e.type?e.data.length<5?"x":"y":void 0;yield e.formatLabels();const s=null===(n=e.canvas)||void 0===n?void 0:n.nativeElement.getContext("2d");if(!s)return;const{Chart:a,registerables:c}=yield r.e(87786).then(r.bind(r,87786));a.register(...c),e.chart=new a(s,{type:e.type,data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.getRandomColors(e.data.length)}]},options:{indexAxis:i,plugins:{legend:o}}}),e.updateLegendItems()}))()}ngOnChanges(e){var n=this;return(0,o.A)((function*(){n.chart&&e.labels&&e.data&&(e.labels&&(yield n.formatLabels()),n.chart.data.datasets||(n.chart.data.datasets=[]),n.chart.data.datasets[0]={data:n.data,backgroundColor:n.getRandomColors(n.data.length)},n.chart.data.labels=n.labels,n.chart.update(),n.updateLegendItems())}))()}formatLabels(){var e=this;return(0,o.A)((function*(){if(!e.contextLevel||!e.contextInstanceId||!1===e.filter)return;const n={clean:!0,singleLine:!0,courseId:e.courseId,wsNotFiltered:e.wsNotFiltered},r=yield a.CoreFilterHelper.getFilters(e.contextLevel,e.contextInstanceId,n);yield Promise.all(e.labels.map(function(){var i=(0,o.A)((function*(o,i){e.labels[i]=yield s.CoreFilter.formatText(o,n,r)}));return function(e,n){return i.apply(this,arguments)}}()))}))()}getRandomColors(e){for(;CoreChartComponent.backgroundColors.length<e;){const e=Math.floor(255*Math.random()),n=Math.floor(255*Math.random()),r=Math.floor(255*Math.random());CoreChartComponent.backgroundColors.push(`rgba(${e}, ${n}, ${r}, 0.6)`)}return CoreChartComponent.backgroundColors.slice(0,e)}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0)}updateLegendItems(){var e,n;this.legendItems=(null!==(e=null===(n=this.chart)||void 0===n||null===(n=n.legend)||void 0===n?void 0:n.legendItems)&&void 0!==e?e:[]).filter((e=>!!e))}}return(e=CoreChartComponent).backgroundColors=["rgba(0,100,210, 0.6)","rgba(203,61,77, 0.6)","rgba(0,121,130, 0.6)","rgba(249,128,18, 0.6)","rgba(94,129,0, 0.6)","rgba(251,173,26, 0.6)"],e.ɵfac=function CoreChartComponent_Factory(n){return new(n||e)},e.ɵcmp=p.VBU({type:e,selectors:[["core-chart"]],viewQuery:function CoreChartComponent_Query(e,n){if(1&e&&p.GBs(g,5),2&e){let e;p.mGM(e=p.lsd())&&(n.canvas=e.first)}},inputs:{data:"data",labels:"labels",type:"type",legend:"legend",height:"height",filter:[p.Mj6.HasDecoratorInputTransform,"filter","filter",i.G],contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId",wsNotFiltered:[p.Mj6.HasDecoratorInputTransform,"wsNotFiltered","wsNotFiltered",i.G]},standalone:!0,features:[p.GFd,p.OA$,p.aNF],decls:3,vars:2,consts:[["canvas",""],["name","fas-square","slot","start","aria-hidden","true"]],template:function CoreChartComponent_Template(e,n){1&e&&(p.nrm(0,"canvas",null,0),p.DNE(2,CoreChartComponent_Conditional_2_Template,3,0,"ion-list")),2&e&&(p.BMQ("height",n.height),p.R7$(2),p.vxM(2,n.chart?2:-1))},dependencies:[c.V,f.iq,f.uz,f.he,f.nf,u.t],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;min-width:300px;min-height:300px}"]}),CoreChartComponent})()},32458:(e,n,r)=>{"use strict";r.d(n,{e:()=>c});var o=r(91416),i=r(54438),s=r(2469),a=r(56228);let c=(()=>{var e;class CoreChronoComponent{constructor(e){this.changeDetectorRef=e,this.running=!1,this.startTime=0,this.reset=!1,this.hours=!0,this.time=0,this.onEnd=new i.bkB}ngOnInit(){this.time=this.startTime||0}ngOnChanges(e){e&&e.running&&(e.running.currentValue?this.start():this.stop()),e&&e.reset&&e.reset.currentValue&&this.resetChrono()}resetChrono(){this.stop(),this.time=this.startTime||0}start(){if(this.interval)return;let e=Date.now();this.interval=window.setInterval((()=>{this.time+=Date.now()-e,e=Date.now(),void 0!==this.endTime&&this.time>this.endTime&&(this.stop(),this.onEnd.emit()),this.changeDetectorRef.detectChanges()}),200)}stop(){clearInterval(this.interval),delete this.interval}ngOnDestroy(){this.stop()}}return(e=CoreChronoComponent).ɵfac=function CoreChronoComponent_Factory(n){return new(n||e)(i.rXU(i.gRc))},e.ɵcmp=i.VBU({type:e,selectors:[["core-chrono"]],inputs:{running:[i.Mj6.HasDecoratorInputTransform,"running","running",o.G],startTime:"startTime",endTime:"endTime",reset:[i.Mj6.HasDecoratorInputTransform,"reset","reset",o.G],hours:[i.Mj6.HasDecoratorInputTransform,"hours","hours",o.G]},outputs:{onEnd:"onEnd"},standalone:!0,features:[i.GFd,i.OA$,i.aNF],decls:3,vars:4,consts:[["role","timer"]],template:function CoreChronoComponent_Template(e,n){1&e&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"coreSecondsToHMS"),i.k0s()),2&e&&(i.R7$(),i.JRh(i.i5U(2,1,n.time/1e3,n.hours)))},dependencies:[s.V,a.Y],encapsulation:2}),CoreChronoComponent})()},7570:(e,n,r)=>{"use strict";r.d(n,{_:()=>w});var o=r(10467),i=r(54438),s=r(79555),a=r(93589),c=r(89417),u=r(91416),p=r(2469),f=r(86198),g=r(58197),v=r(43570),C=r(2910);const b=["*"],_c1=()=>({alignment:"start",arrow:!1,cssClass:"core-combobox-select"});function CoreComboboxComponent_Conditional_0_Conditional_2_Template(e,n){if(1&e&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&e){const e=i.XpG(2);i.R7$(),i.JRh(e.label)}}function CoreComboboxComponent_Conditional_0_Conditional_3_Template(e,n){if(1&e&&i.nrm(0,"ion-icon",4),2&e){const e=i.XpG(2);i.Y8G("name",e.icon)}}function CoreComboboxComponent_Conditional_0_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-select",1),i.mxI("ngModelChange",(function CoreComboboxComponent_Conditional_0_Template_ion_select_ngModelChange_0_listener(n){i.eBV(e);const r=i.XpG();return i.DH7(r.selection,n)||(r.selection=n),i.Njj(n)})),i.bIt("ngModelChange",(function CoreComboboxComponent_Conditional_0_Template_ion_select_ngModelChange_0_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.onValueChanged(n.selection))})),i.j41(1,"div",2),i.DNE(2,CoreComboboxComponent_Conditional_0_Conditional_2_Template,2,1,"span",3)(3,CoreComboboxComponent_Conditional_0_Conditional_3_Template,1,1,"ion-icon",4),i.k0s(),i.SdG(4),i.k0s()}if(2&e){const e=i.XpG();i.AVh("combobox-icon-only",e.icon),i.R50("ngModel",e.selection),i.Y8G("disabled",e.disabled)("interfaceOptions",i.lJ4(7,_c1)),i.R7$(2),i.vxM(2,e.label?2:-1),i.R7$(),i.vxM(3,e.icon?3:-1)}}function CoreComboboxComponent_Conditional_1_Conditional_1_Template(e,n){if(1&e&&i.nrm(0,"ion-icon",6),2&e){const e=i.XpG(2);i.Y8G("name",e.icon)}}function CoreComboboxComponent_Conditional_1_Conditional_2_Template(e,n){if(1&e&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&e){const e=i.XpG(2);i.R7$(),i.SpI("",e.label,",")}}function CoreComboboxComponent_Conditional_1_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",5),i.bIt("click",(function CoreComboboxComponent_Conditional_1_Template_ion_button_click_0_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.openModal())})),i.DNE(1,CoreComboboxComponent_Conditional_1_Conditional_1_Template,1,1,"ion-icon",6)(2,CoreComboboxComponent_Conditional_1_Conditional_2_Template,2,1,"span",3),i.j41(3,"div",7)(4,"slot",8),i.nrm(5,"core-format-text",9),i.k0s()(),i.j41(6,"div",10),i.nrm(7,"div",11),i.k0s()()}if(2&e){const e=i.XpG();i.Y8G("disabled",e.disabled),i.BMQ("aria-controls",e.listboxId)("aria-owns",e.listboxId)("aria-expanded",e.expanded),i.R7$(),i.vxM(1,e.icon?1:-1),i.R7$(),i.vxM(2,e.label?2:-1),i.R7$(3),i.Y8G("text",e.selection)}}let w=(()=>{var e;class CoreComboboxComponent{constructor(){this.interface="popover",this.label=s.HT.instant("core.show"),this.disabled=!1,this.selection="",this.onChange=new i.bkB,this.listboxId="",this.expanded=!1,this.touched=!1}writeValue(e){this.selection=e}registerOnChange(e){this.formOnChange=e}registerOnTouched(e){this.formOnTouched=e}setDisabledState(e){this.disabled=e}onValueChanged(e){var n;this.touch(),this.onChange.emit(e),null===(n=this.formOnChange)||void 0===n||n.call(this,e)}openModal(){var e=this;return(0,o.A)((function*(){if(e.touch(),e.expanded||!e.modalOptions)return;e.expanded=!0,e.listboxId&&(e.modalOptions.id=e.listboxId);const n=yield a.I.openModal(e.modalOptions);e.expanded=!1,n&&e.onValueChanged(n)}))()}touch(){var e;this.touched||(this.touched=!0,null===(e=this.formOnTouched)||void 0===e||e.call(this))}}return(e=CoreComboboxComponent).ɵfac=function CoreComboboxComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-combobox"]],inputs:{interface:"interface",label:"label",disabled:[i.Mj6.HasDecoratorInputTransform,"disabled","disabled",u.G],selection:"selection",icon:"icon",modalOptions:"modalOptions",listboxId:"listboxId"},outputs:{onChange:"onChange"},standalone:!0,features:[i.Jv_([{provide:c.kq,multi:!0,useExisting:e}]),i.GFd,i.aNF],ngContentSelectors:b,decls:2,vars:1,consts:[["interface","popover",1,"ion-text-start",3,"ngModel","disabled","combobox-icon-only","interfaceOptions"],["interface","popover",1,"ion-text-start",3,"ngModelChange","ngModel","disabled","interfaceOptions"],["slot","label"],[1,"sr-only"],["aria-hidden","true",3,"name"],["aria-haspopup","listbox","expand","block","role","combobox",3,"click","disabled"],["slot","start","aria-hidden","true",3,"name"],[1,"select-text"],["name","text"],[3,"text"],["role","presentation","aria-hidden","true","slot","end",1,"select-icon"],[1,"select-icon-inner"]],template:function CoreComboboxComponent_Template(e,n){1&e&&(i.NAR(),i.DNE(0,CoreComboboxComponent_Conditional_0_Template,5,8,"ion-select",0)(1,CoreComboboxComponent_Conditional_1_Template,8,7)),2&e&&i.vxM(0,"modal"!==n.interface?0:1)},dependencies:[p.V,c.BC,c.vS,C.Jm,C.iq,C.Nm,C.Je,f.t,v.T,g.B],styles:["[_nghost-%COMP%]{max-width:100%;display:block;margin-inline-start:var(--ion-safe-area-left);margin-inline-end:var(--ion-safe-area-right)}.no-border[_nghost-%COMP%]{--core-combobox-border-width: 0px}.no-border[_nghost-%COMP%]   ion-select.combobox-icon-only[_ngcontent-%COMP%]{--padding-start: 8px}.no-border[_nghost-%COMP%]   ion-select.combobox-icon-only[_ngcontent-%COMP%]::part(icon){display:none}.no-border[_nghost-%COMP%]   ion-select.combobox-icon-only[_ngcontent-%COMP%]::part(container){margin:0}.no-border[_nghost-%COMP%]   ion-select.combobox-icon-only[_ngcontent-%COMP%]::part(label){position:static}.no-border[_nghost-%COMP%]   ion-select.combobox-icon-only[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:var(--icon-margin);font-size:var(--mdl-typography-icon-fontSize-md)}[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{--icon-margin: 0 4px;--background: var(--core-combobox-background);--background-hover: var(--ion-text-color);--background-activated: var(--ion-text-color);--background-focused: var(--ion-text-color);--background-hover-opacity: .04;--border-color: var(--core-combobox-border-color);--border-style: solid;--border-width: var(--core-combobox-border-width);--border-radius: var(--core-combobox-radius);--box-shadow: var(--core-combobox-box-shadow);--padding-start: 16px;--padding-end: 8px;--padding-top: 8px;--padding-bottom: 8px;background:var(--background);--color: var(--core-combobox-color);color:var(--color);min-height:var(--a11y-sizing-minTargetSize);box-shadow:var(--box-shadow);--highlight-color: transparent !important}[_nghost-%COMP%]   ion-select.md[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-button.md[_ngcontent-%COMP%]{--background-activated-opacity: 0;--background-focused-opacity: .12}[_nghost-%COMP%]   ion-select.ios[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-button.ios[_ngcontent-%COMP%]{--background-activated-opacity: .12;--background-focused-opacity: .15}[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]{border-color:var(--border-color);border-style:var(--border-style);border-width:var(--border-width);border-radius:var(--core-combobox-radius);margin:8px;width:auto}[_nghost-%COMP%]   ion-select.combobox-icon-only[_ngcontent-%COMP%]::part(text){display:none}[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]::part(label){position:absolute;margin-inline:0px}[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]::part(container){white-space:normal;margin-inline-end:24px;font:var(--mdl-typography-label-font-lg)}[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){margin:var(--icon-margin);position:absolute;--highlight-color: currentColor}@supports (inset-inline-start: 0){[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){inset-inline-end:8px}}@supports not (inset-inline-start: 0){[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){right:8px}[dir=rtl][_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon), [dir=rtl]   [_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){left:unset;right:unset;left:8px}@supports selector(:dir(rtl)){[_nghost-%COMP%]:dir(rtl)   ion-select[_ngcontent-%COMP%]::part(icon){left:unset;right:unset;left:8px}}}[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]:hover{--background: rgba(var(--ion-text-color-rgb), var(--background-hover-opacity))}[_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]:focus:not(.ion-focused), [_nghost-%COMP%]   ion-select[_ngcontent-%COMP%]:focus-visible:not(.ion-focused){--background: rgba(var(--ion-text-color-rgb), var(--background-focused-opacity))}[_nghost-%COMP%]   ion-select.ion-focused[_ngcontent-%COMP%]{border-color:var(--ion-background-color);box-shadow:inset 0 0 0 calc(2px - var(--core-combobox-border-widthh, 0px)) var(--ion-background-color);outline:var(--a11y-shadow-focus-outline);z-index:1}[_nghost-%COMP%]   ion-select.ion-activated[_ngcontent-%COMP%]{--background: rgba(var(--ion-text-color-rgb), var(--background-activated-opacity))}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{--color-activated: var(--core-combobox-color);--color-focused: currentcolor;--color-hover: currentcolor;--border-radius: var(--core-combobox-radius)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]   .select-text[_ngcontent-%COMP%]{margin-inline-end:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:var(--mdl-typography-label-font-lg)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}[_nghost-%COMP%]   ion-button.ion-activated[_ngcontent-%COMP%]{--color: var(--color-activated)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin:var(--icon-margin)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{color:var(--ion-text-color-step-500, gray)}"]}),CoreComboboxComponent})()},7199:(e,n,r)=>{"use strict";r.d(n,{O:()=>re,f:()=>getCoreDeprecatedComponents});var o=r(10467),i=r(95638),s=r(6838),a=r(47222),c=r(32458),u=r(69502),p=r(17388),f=r(15060),g=r(68162),v=r(16986),C=r(6128),b=r(31498),w=r(7476),A=r(66198),_=r(25880),E=r(64422),I=r(50016),T=r(17778),P=r(32572),k=r(13988),x=r(46036),F=r(49234),R=r(62398),N=r(85122),L=r(7038),H=r(29492),U=r(72597),B=r(73564),j=r(47142),V=r(34198),G=r(16658),z=r(7570),q=r(4060),W=r(29210),K=r(76954),Q=r(55306),X=r(17046),Y=r(28042),J=r(97818),Z=r(29850),ee=r(14714),te=r(69418),ne=r(54438);function getCoreDeprecatedComponents(){return _getCoreDeprecatedComponents.apply(this,arguments)}function _getCoreDeprecatedComponents(){return(_getCoreDeprecatedComponents=(0,o.A)((function*(){const{CoreStyleComponent:e}=yield r.e(60078).then(r.bind(r,60078)),{CoreShowPasswordComponent:n}=yield r.e(43898).then(r.bind(r,43898));return[e,n]}))).apply(this,arguments)}let re=(()=>{var e;class CoreComponentsModule{}return(e=CoreComponentsModule).ɵfac=function CoreComponentsModule_Factory(n){return new(n||e)},e.ɵmod=ne.$C({type:e}),e.ɵinj=ne.G2t({imports:[i.V,s.CoreBSTooltipComponent,K.q,a.B,c.e,u.B,ee.H,f.Y,v.h,C.t,b.Y,J.F,w.l,A.b,_.q,E.R,I.a,T.j,Y.A,P.I,x.o,F.z,R.i,N.u,L.C,H.M,Q.N,U.K,B.h,j.k,V.G,G.T,z._,W.c,X.p,Z.D,te.L]}),CoreComponentsModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&ne.Obh(re,{imports:[i.V,s.CoreBSTooltipComponent,K.q,a.B,c.e,u.B,p.Q,ee.H,f.Y,g.m,v.h,C.t,b.Y,J.F,w.l,A.b,_.q,E.R,I.a,T.j,Y.A,P.I,k.c,x.o,F.z,R.i,N.u,L.C,H.M,Q.N,U.K,B.h,j.k,V.G,G.T,z._,q.f,W.c,X.p,Z.D,te.L],exports:[i.V,s.CoreBSTooltipComponent,K.q,a.B,c.e,u.B,p.Q,ee.H,f.Y,g.m,v.h,C.t,b.Y,J.F,w.l,A.b,_.q,E.R,I.a,T.j,Y.A,P.I,k.c,x.o,F.z,R.i,N.u,L.C,H.M,Q.N,U.K,B.h,j.k,V.G,G.T,z._,q.f,W.c,X.p,Z.D,te.L]}))},17388:(e,n,r)=>{"use strict";r.d(n,{Q:()=>c});var o=r(54438),i=r(91416),s=r(81690),a=r(69502);let c=(()=>{var e;class CoreContextMenuItemComponent{constructor(e){this.ctxtMenu=e,this.iconSlash=!1,this.captureLink=!1,this.autoLogin=!0,this.closeOnClick=!0,this.hidden=!1,this.showBrowserWarning=!0,this.toggle=!1,this.toggleChange=new o.bkB,this.uniqueId=s.j.getUniqueId("CoreContextMenuItem"),this.hasAction=!1,this.destroyed=!1,this.action=new o.bkB,this.onClosed=new o.bkB}ngOnInit(){this.priority=this.priority||1,this.hasAction=!!this.action&&this.action.observed,this.ariaAction=this.ariaAction||this.content,this.hasAction&&(this.href=""),this.captureLink=!(!this.href||!this.captureLink)&&this.captureLink,this.destroyed||this.ctxtMenu.addItem(this)}toggleChanged(e){e.preventDefault(),e.stopPropagation(),this.toggleChange.emit(this.toggle)}ngOnDestroy(){this.destroyed=!0,this.ctxtMenu.removeItem(this)}ngOnChanges(e){e.hidden&&!e.hidden.firstChange&&this.ctxtMenu.itemsChanged()}}return(e=CoreContextMenuItemComponent).ɵfac=function CoreContextMenuItemComponent_Factory(n){return new(n||e)(o.rXU(a.B))},e.ɵcmp=o.VBU({type:e,selectors:[["core-context-menu-item"]],inputs:{content:"content",iconAction:"iconAction",iconSlash:[o.Mj6.HasDecoratorInputTransform,"iconSlash","iconSlash",i.G],ariaAction:"ariaAction",href:"href",captureLink:[o.Mj6.HasDecoratorInputTransform,"captureLink","captureLink",i.G],autoLogin:[o.Mj6.HasDecoratorInputTransform,"autoLogin","autoLogin",i.G],closeOnClick:[o.Mj6.HasDecoratorInputTransform,"closeOnClick","closeOnClick",i.G],priority:"priority",badge:"badge",badgeClass:"badgeClass",badgeA11yText:"badgeA11yText",hidden:[o.Mj6.HasDecoratorInputTransform,"hidden","hidden",i.G],showBrowserWarning:[o.Mj6.HasDecoratorInputTransform,"showBrowserWarning","showBrowserWarning",i.G],toggle:[o.Mj6.HasDecoratorInputTransform,"toggle","toggle",i.G]},outputs:{action:"action",onClosed:"onClosed",toggleChange:"toggleChange"},standalone:!0,features:[o.GFd,o.OA$,o.aNF],decls:0,vars:0,template:function CoreContextMenuItemComponent_Template(e,n){},encapsulation:2}),CoreContextMenuItemComponent})()},69502:(e,n,r)=>{"use strict";r.d(n,{B:()=>k});var o=r(10467),i=r(21413),s=r(88839),a=r(39974),c=r(58750),u=r(54360);var p=r(71985),f=r(79470),g=r(28211);function auditTime(e,n=s.E){return function audit(e){return(0,a.N)(((n,r)=>{let o=!1,i=null,s=null,a=!1;const endDuration=()=>{if(null==s?void 0:s.unsubscribe(),s=null,o){o=!1;const e=i;i=null,r.next(e)}a&&r.complete()},cleanupDuration=()=>{s=null,a&&r.complete()};n.subscribe((0,u._)(r,(n=>{o=!0,i=n,s||(0,c.Tg)(e(n)).subscribe(s=(0,u._)(r,endDuration,cleanupDuration))}),(()=>{a=!0,(!o||!s||s.closed)&&r.complete()})))}))}((()=>function timer(e=0,n,r=s.b){let o=-1;return null!=n&&((0,f.m)(n)?r=n:o=n),new p.c((n=>{let i=(0,g.v)(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule((function(){n.closed||(n.next(s++),0<=o?this.schedule(void 0,o):n.complete())}),i)}))}(e,n)))}var v=r(24813),C=r(81690),b=r(79555),w=r(62393),A=r(2469),_=r(86198),E=r(43570),I=r(54438),T=r(2910);const P=["*"];let k=(()=>{var e;class CoreContextMenuComponent{constructor(e,n){this.icon="ellipsis-vertical",this.hideMenu=!0,this.items=[],this.itemsMovedToParent=[],this.expanded=!1,this.itemsChangedStream=new i.B,this.itemsSubscription=this.itemsChangedStream.pipe(auditTime(250)).subscribe((()=>{this.hideMenu=!this.items.some((e=>!e.hidden)),this.items.sort(((e,n)=>(e.priority||0)<=(n.priority||0)?1:-1)),n.detectChanges()})),this.uniqueId=`core-context-menu-${C.j.getUniqueId("CoreContextMenuComponent")}`,w.D.register(e.nativeElement,this)}ngOnInit(){this.ariaLabel=this.ariaLabel||b.HT.instant("core.displayoptions")}addItem(e){this.parentContextMenu?(this.parentContextMenu.addItem(e),-1===this.itemsMovedToParent.indexOf(e)&&this.itemsMovedToParent.push(e)):-1==this.items.indexOf(e)&&(this.items.push(e),this.itemsChanged())}itemsChanged(){this.parentContextMenu?this.parentContextMenu.itemsChanged():this.itemsChangedStream.next()}mergeContextMenus(e){this.parentContextMenu=e;for(let n=0;n<this.items.length;n++){const r=this.items[n];e.addItem(r),this.itemsMovedToParent.push(r)}this.items=[],this.itemsChangedStream.next()}removeItem(e){if(this.parentContextMenu){this.parentContextMenu.removeItem(e);const n=this.itemsMovedToParent.indexOf(e);n>=0&&this.itemsMovedToParent.splice(n,1)}else{const n=this.items.indexOf(e);n>=0&&this.items.splice(n,1),this.itemsChanged()}}removeMergedItems(){if(this.parentContextMenu)for(let e=0;e<this.itemsMovedToParent.length;e++)this.parentContextMenu.removeItem(this.itemsMovedToParent[e])}restoreMergedItems(){if(this.parentContextMenu)for(let e=0;e<this.itemsMovedToParent.length;e++)this.parentContextMenu.addItem(this.itemsMovedToParent[e])}showContextMenu(e){var n=this;return(0,o.A)((function*(){if(!n.expanded){n.expanded=!0;const{CoreContextMenuPopoverComponent:i}=yield r.e(75686).then(r.bind(r,75686)),s=yield v.CorePopovers.open({event:e,component:i,componentProps:{items:n.items},id:n.uniqueId});var o;if(n.expanded=!1,s)null===(o=s.onClosed)||void 0===o||o.emit()}}))()}ngOnDestroy(){this.removeMergedItems(),this.itemsSubscription.unsubscribe()}}return(e=CoreContextMenuComponent).ɵfac=function CoreContextMenuComponent_Factory(n){return new(n||e)(I.rXU(I.aKT),I.rXU(I.gRc))},e.ɵcmp=I.VBU({type:e,selectors:[["core-context-menu"]],inputs:{icon:"icon",ariaLabel:[I.Mj6.None,"aria-label","ariaLabel"],title:"title"},standalone:!0,features:[I.aNF],ngContentSelectors:P,decls:3,vars:5,consts:[["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["slot","icon-only","aria-hidden","true",3,"name"]],template:function CoreContextMenuComponent_Template(e,n){1&e&&(I.NAR(),I.j41(0,"ion-button",0),I.bIt("click",(function CoreContextMenuComponent_Template_ion_button_click_0_listener(e){return n.showContextMenu(e)})),I.nrm(1,"ion-icon",1),I.k0s(),I.SdG(2)),2&e&&(I.AVh("hidden",n.hideMenu),I.Y8G("ariaLabel",n.ariaLabel),I.BMQ("aria-controls",n.uniqueId),I.R7$(),I.Y8G("name",n.icon))},dependencies:[A.V,T.Jm,T.iq,E.T,_.t],encapsulation:2}),CoreContextMenuComponent})()},14714:(e,n,r)=>{"use strict";r.d(n,{H:()=>v});var o=r(10467),i=r(91416),s=r(54438),a=r(83219),c=r(55351),u=r(2469),p=r(10892),f=r(86198),g=r(2910);function CoreCourseImageComponent_Conditional_0_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-avatar",0)(1,"img",1),s.bIt("error",(function CoreCourseImageComponent_Conditional_0_Template_img_error_1_listener(){s.eBV(e);const n=s.XpG();return s.Njj(n.loadFallbackCourseIcon())})),s.k0s()()}if(2&e){const e=s.XpG();s.R7$(),s.Y8G("url",e.course().courseimage)}}function CoreCourseImageComponent_Conditional_1_Template(e,n){1&e&&s.nrm(0,"ion-icon",2)}let v=(()=>{var e;class CoreCourseImageComponent{constructor(e){this.course=s.hFB.required(),this.fill=(0,s.hFB)(!1,{transform:i.G}),this.element=e.nativeElement,(0,s.QZP)((()=>{this.setCourseColor()}))}get fillContainer(){return this.fill()}loadFallbackCourseIcon(){this.course().courseimage=void 0,this.setCourseColor()}setCourseColor(){var e=this;return(0,o.A)((function*(){const n=e.course();if(yield a.CoreCoursesHelper.loadCourseColorAndImage(n),n.color){e.element.style.setProperty("--course-color",n.color);const r=c.a.lighter(n.color,50);e.element.style.setProperty("--course-color-tint",r)}else void 0!==n.colorNumber&&e.element.classList.add(`course-color-${n.colorNumber}`)}))()}}return(e=CoreCourseImageComponent).ɵfac=function CoreCourseImageComponent_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵcmp=s.VBU({type:e,selectors:[["core-course-image"]],hostVars:2,hostBindings:function CoreCourseImageComponent_HostBindings(e,n){2&e&&s.AVh("fill-container",n.fillContainer)},inputs:{course:[s.Mj6.SignalBased,"course"],fill:[s.Mj6.SignalBased,"fill"]},standalone:!0,features:[s.aNF],decls:2,vars:1,consts:[["slot","start"],["core-external-content","","alt","",3,"error","url"],["name","fas-graduation-cap","slot","start","aria-hidden","true"]],template:function CoreCourseImageComponent_Template(e,n){1&e&&s.DNE(0,CoreCourseImageComponent_Conditional_0_Template,2,1,"ion-avatar",0)(1,CoreCourseImageComponent_Conditional_1_Template,1,0),2&e&&s.vxM(0,n.course().courseimage?0:1)},dependencies:[u.V,g.mC,g.iq,f.t,p.l],styles:['[_nghost-%COMP%]{--core-image-radius: var(--core-courseimage-radius);--core-image-size: 60px;display:flex;justify-content:center;align-items:center;background:var(--course-color, white);border-radius:var(--core-image-radius)}.course-color-0[_nghost-%COMP%]{--course-color: var(--core-course-color-0);--course-color-tint: var(--core-course-color-0-tint)}.course-color-1[_nghost-%COMP%]{--course-color: var(--core-course-color-1);--course-color-tint: var(--core-course-color-1-tint)}.course-color-2[_nghost-%COMP%]{--course-color: var(--core-course-color-2);--course-color-tint: var(--core-course-color-2-tint)}.course-color-3[_nghost-%COMP%]{--course-color: var(--core-course-color-3);--course-color-tint: var(--core-course-color-3-tint)}.course-color-4[_nghost-%COMP%]{--course-color: var(--core-course-color-4);--course-color-tint: var(--core-course-color-4-tint)}.course-color-5[_nghost-%COMP%]{--course-color: var(--core-course-color-5);--course-color-tint: var(--core-course-color-5-tint)}.course-color-6[_nghost-%COMP%]{--course-color: var(--core-course-color-6);--course-color-tint: var(--core-course-color-6-tint)}.course-color-7[_nghost-%COMP%]{--course-color: var(--core-course-color-7);--course-color-tint: var(--core-course-color-7-tint)}.course-color-8[_nghost-%COMP%]{--course-color: var(--core-course-color-8);--course-color-tint: var(--core-course-color-8-tint)}.course-color-9[_nghost-%COMP%]{--course-color: var(--core-course-color-9);--course-color-tint: var(--core-course-color-9-tint)}[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{--padding: 12px;padding:var(--padding);font-size:calc(var(--core-image-size) - var(--padding) * 2);color:var(--course-color-tint)}[_nghost-%COMP%]   ion-avatar[_ngcontent-%COMP%]{--border-radius: var(--core-image-radius);width:var(--core-image-size);height:var(--core-image-size)}[_nghost-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:transparent}[_nghost-%COMP%]   img[src$=".svg"][_ngcontent-%COMP%]{min-width:100%}.fill-container[_nghost-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;--core-image-radius: 0px;--core-image-size: 100%}.fill-container[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{opacity:.5;width:80px;height:80px}ion-item[_nghost-%COMP%], ion-item   [_nghost-%COMP%]{margin-inline-start:0px;margin-inline-end:8px;margin-top:6px;margin-bottom:6px}']}),CoreCourseImageComponent})()},15060:(e,n,r)=>{"use strict";r.d(n,{Y:()=>v});var o=r(54438),i=r(74431),s=r(89818),a=r(91416),c=r(2469),u=r(86198),p=r(43570),f=r(2910),g=r(73955);const _c0=e=>({name:e});function CoreDownloadRefreshComponent_Conditional_0_Conditional_0_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-button",2),o.nI1(1,"translate"),o.bIt("click",(function CoreDownloadRefreshComponent_Conditional_0_Conditional_0_Template_ion_button_click_0_listener(n){o.eBV(e);const r=o.XpG(2);return o.Njj(r.download(n,!1))})),o.nrm(2,"ion-icon",3),o.k0s()}if(2&e){const e=o.XpG(2);o.Y8G("@coreShowHideAnimation",void 0)("ariaLabel",o.i5U(1,2,e.statusTranslatable||e.translates.notdownloaded,o.eq3(5,_c0,e.statusSubject)))}}function CoreDownloadRefreshComponent_Conditional_0_Conditional_1_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-button",2),o.nI1(1,"translate"),o.bIt("click",(function CoreDownloadRefreshComponent_Conditional_0_Conditional_1_Template_ion_button_click_0_listener(n){o.eBV(e);const r=o.XpG(2);return o.Njj(r.download(n,!0))})),o.nrm(2,"ion-icon",4),o.k0s()}if(2&e){const e=o.XpG(2);o.Y8G("@coreShowHideAnimation",void 0)("ariaLabel",o.i5U(1,2,e.statusTranslatable||e.translates.outdated,o.eq3(5,_c0,e.statusSubject)))}}function CoreDownloadRefreshComponent_Conditional_0_Conditional_2_Template(e,n){if(1&e&&(o.nrm(0,"ion-icon",1),o.nI1(1,"translate")),2&e){const e=o.XpG(2);o.BMQ("aria-label",o.i5U(1,1,e.statusTranslatable||e.translates.downloaded,o.eq3(4,_c0,e.statusSubject)))}}function CoreDownloadRefreshComponent_Conditional_0_Conditional_3_Template(e,n){if(1&e&&(o.nrm(0,"ion-spinner"),o.nI1(1,"translate")),2&e){const e=o.XpG(2);o.Y8G("@coreShowHideAnimation",void 0),o.BMQ("aria-label",o.i5U(1,2,e.statusTranslatable||e.translates.downloading,o.eq3(5,_c0,e.statusSubject)))}}function CoreDownloadRefreshComponent_Conditional_0_Template(e,n){if(1&e&&o.DNE(0,CoreDownloadRefreshComponent_Conditional_0_Conditional_0_Template,3,7,"ion-button",0)(1,CoreDownloadRefreshComponent_Conditional_0_Conditional_1_Template,3,7,"ion-button",0)(2,CoreDownloadRefreshComponent_Conditional_0_Conditional_2_Template,2,6,"ion-icon",1)(3,CoreDownloadRefreshComponent_Conditional_0_Conditional_3_Template,2,7),2&e){const e=o.XpG();o.vxM(0,e.status===e.statusNotDownloaded?0:-1),o.R7$(),o.vxM(1,e.status===e.statusOutdated||e.status===e.statusDownloaded&&!e.canTrustDownload?1:-1),o.R7$(),o.vxM(2,e.status===e.statusDownloaded&&e.canTrustDownload?2:e.status===e.statusDownloading?3:-1)}}function CoreDownloadRefreshComponent_Conditional_1_Template(e,n){if(1&e&&(o.nrm(0,"ion-spinner"),o.nI1(1,"translate")),2&e){const e=o.XpG();o.Y8G("@coreShowHideAnimation",void 0),o.BMQ("aria-label",o.i5U(1,2,e.translates.loading,o.eq3(5,_c0,e.statusSubject)))}}let v=(()=>{var e;class CoreDownloadRefreshComponent{constructor(){this.statusSubject="",this.enabled=!1,this.loading=!0,this.canTrustDownload=!1,this.statusDownloaded=i.DownloadStatus.DOWNLOADED,this.statusNotDownloaded=i.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,this.statusOutdated=i.DownloadStatus.OUTDATED,this.statusDownloading=i.DownloadStatus.DOWNLOADING,this.translates={downloaded:"core.downloaded",notdownloaded:"core.download",outdated:"core.refresh",downloading:"core.downloading",loading:"core.loading"},this.action=new o.bkB}ngOnInit(){this.translates=Object.assign(this.translates,this.statusesTranslatable||{})}download(e,n){e.preventDefault(),e.stopPropagation(),this.action.emit(n)}}return(e=CoreDownloadRefreshComponent).ɵfac=function CoreDownloadRefreshComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["core-download-refresh"]],inputs:{status:"status",statusesTranslatable:"statusesTranslatable",statusSubject:"statusSubject",enabled:[o.Mj6.HasDecoratorInputTransform,"enabled","enabled",a.G],loading:[o.Mj6.HasDecoratorInputTransform,"loading","loading",a.G],canTrustDownload:[o.Mj6.HasDecoratorInputTransform,"canTrustDownload","canTrustDownload",a.G],statusTranslatable:"statusTranslatable"},outputs:{action:"action"},standalone:!0,features:[o.GFd,o.aNF],decls:2,vars:2,consts:[["fill","clear",3,"ariaLabel"],["color","success","name","fam-cloud-done","role","status",1,"core-icon-downloaded","ion-padding-horizontal"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-cloud-arrow-down","aria-hidden","true"],["slot","icon-only","name","fam-cloud-refresh","aria-hidden","true"]],template:function CoreDownloadRefreshComponent_Template(e,n){1&e&&o.DNE(0,CoreDownloadRefreshComponent_Conditional_0_Template,4,3)(1,CoreDownloadRefreshComponent_Conditional_1_Template,2,7,"ion-spinner"),2&e&&(o.vxM(0,n.enabled&&!n.loading?0:-1),o.R7$(),o.vxM(1,n.loading?1:-1))},dependencies:[c.V,f.Jm,f.iq,f.w2,g.D9,p.T,u.t],styles:["[_nghost-%COMP%]{font-size:1.4rem;display:flex;flex-flow:row;align-items:center;justify-content:space-around;align-content:center;min-height:var(--a11y-sizing-minTargetSize);min-width:var(--a11y-sizing-minTargetSize);position:relative}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}"],data:{animation:[s.d.SHOW_HIDE]}}),CoreDownloadRefreshComponent})()},68162:(e,n,r)=>{"use strict";r.d(n,{m:()=>f});var o=r(10467),i=r(54438),s=r(25124),a=r(93013),c=r(6787);const u=["dynamicComponent"],p=["*"];function CoreDynamicComponent_Conditional_0_Template(e,n){1&e&&i.SdG(0)}let f=(()=>{var e;class CoreDynamicComponent{set dynamicComponent(e){this.container=e,setTimeout((()=>this.createComponent()))}get instance(){return this.promisedInstance.value}constructor(e,n,r){this.cdr=n,this.element=r,this.promisedInstance=new s._,this.logger=c.CoreLogger.getInstance("CoreDynamicComponent"),this.differ=e.find([]).create()}ngOnChanges(e){var n;e.component&&!this.component?(this.lastComponent=void 0,this.promisedInstance.reset(),null===(n=this.container)||void 0===n||n.clear()):!e.component||this.instance&&this.component==this.lastComponent||this.createComponent()}ngDoCheck(){if(!this.instance)return;const e=this.differ.diff(this.data||{});e&&(this.setInputData(),this.instance.ngOnChanges&&this.instance.ngOnChanges(a.G.createChangesFromKeyValueDiff(e)))}ready(){var e=this;return(0,o.A)((function*(){const n=yield e.promisedInstance;n&&"function"==typeof n.ready&&(yield n.ready())}))()}callComponentMethod(e,...n){const r=this.instance;if("function"==typeof(null==r?void 0:r[e]))return r[e].apply(r,n)}createComponent(){if(this.lastComponent=this.component,!this.component||!this.container)return!1;if(this.promisedInstance.isSettled())return!0;if(this.component instanceof i.rjb)this.container.insert(this.component.hostView),this.component.instance.ChangeDetectorRef=this.cdr,this.component.instance.componentContainer=this.element.nativeElement,this.promisedInstance.resolve(this.component.instance);else try{const e=this.container.createComponent(this.component);this.promisedInstance.resolve(e.instance)}catch(e){return this.logger.error("Error creating component",e),!1}return this.setInputData(),!0}setInputData(){if(this.instance)for(const e in this.data)this.instance[e]=this.data[e]}}return(e=CoreDynamicComponent).ɵfac=function CoreDynamicComponent_Factory(n){return new(n||e)(i.rXU(i.MKu),i.rXU(i.gRc),i.rXU(i.aKT))},e.ɵcmp=i.VBU({type:e,selectors:[["core-dynamic-component"]],viewQuery:function CoreDynamicComponent_Query(e,n){if(1&e&&i.GBs(u,5,i.c1b),2&e){let e;i.mGM(e=i.lsd())&&(n.dynamicComponent=e.first)}},inputs:{component:"component",data:"data"},standalone:!0,features:[i.OA$,i.aNF],ngContentSelectors:p,decls:3,vars:1,consts:[["dynamicComponent",""]],template:function CoreDynamicComponent_Template(e,n){1&e&&(i.NAR(),i.DNE(0,CoreDynamicComponent_Conditional_0_Template,1,0),i.eu8(1,null,0)),2&e&&i.vxM(0,n.instance?-1:0)},styles:["[_nghost-%COMP%]{display:contents}"]}),CoreDynamicComponent})()},16986:(e,n,r)=>{"use strict";r.d(n,{h:()=>p});var o=r(91416),i=r(2469),s=r(86198),a=r(54438),c=r(2910);const u=["*"];function CoreEmptyBoxComponent_Conditional_0_Template(e,n){if(1&e&&a.nrm(0,"ion-icon",0),2&e){const e=a.XpG();a.Y8G("name",e.icon)}}function CoreEmptyBoxComponent_Conditional_1_Template(e,n){if(1&e&&a.nrm(0,"img",1),2&e){const e=a.XpG();a.Y8G("src",e.image,a.B4B)}}function CoreEmptyBoxComponent_Conditional_2_Template(e,n){if(1&e&&(a.j41(0,"p"),a.EFF(1),a.k0s()),2&e){const e=a.XpG();a.R7$(),a.JRh(e.message)}}let p=(()=>{var e;class CoreEmptyBoxComponent{constructor(){this.message="",this.dimmed=!1,this.flipIconRtl=!1}get isDimmed(){return this.dimmed}}return(e=CoreEmptyBoxComponent).ɵfac=function CoreEmptyBoxComponent_Factory(n){return new(n||e)},e.ɵcmp=a.VBU({type:e,selectors:[["core-empty-box"]],hostVars:2,hostBindings:function CoreEmptyBoxComponent_HostBindings(e,n){2&e&&a.AVh("dimmed",n.isDimmed)},inputs:{message:"message",dimmed:[a.Mj6.HasDecoratorInputTransform,"dimmed","dimmed",o.G],icon:"icon",image:"image",flipIconRtl:[a.Mj6.HasDecoratorInputTransform,"flipIconRtl","flipIconRtl",o.G]},standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:u,decls:4,vars:2,consts:[["aria-hidden","true",3,"name"],["role","presentation","alt","",3,"src"]],template:function CoreEmptyBoxComponent_Template(e,n){1&e&&(a.NAR(),a.DNE(0,CoreEmptyBoxComponent_Conditional_0_Template,1,1,"ion-icon",0)(1,CoreEmptyBoxComponent_Conditional_1_Template,1,1)(2,CoreEmptyBoxComponent_Conditional_2_Template,2,1,"p"),a.SdG(3)),2&e&&(a.vxM(0,n.icon?0:n.image?1:-1),a.R7$(2),a.vxM(2,n.message?2:-1))},dependencies:[i.V,c.iq,s.t],styles:["[_nghost-%COMP%]{--image-size: 80px;--icon-color: var(--core-empty-box-icon-color);display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;color:var(--text-color);margin:0 auto;text-align:center;padding:16px;height:100%}.core-empty-box-clickable[_nghost-%COMP%]{z-index:0}.dimmed[_nghost-%COMP%]{--text-color: var(--gray-700)}[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--image-size);color:var(--icon-color)}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{height:var(--image-size)}[_nghost-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]     p{font-size:var(--mdl-typography-heading6-fontSize);color:var(--text-color)}:root.dark.dimmed[_nghost-%COMP%], :root.dark   .dimmed[_nghost-%COMP%]{--text-color: var(--gray-300)}"]}),CoreEmptyBoxComponent})()},6128:(e,n,r)=>{"use strict";r.d(n,{t:()=>U});var o=r(10467),i=r(54438),s=r(94455),a=r(88793),c=r(88436),u=r(11361),p=r(52749),f=r(12364),g=r(8014),v=r(75383),C=r(74431),b=r(49882),w=r(18022),A=r(91416),_=r(55554),E=r(86552),I=r(25572),T=r(79555),P=r(2469),k=r(59528),x=r(15060),F=r(8199),R=r(86198),N=r(43570),L=r(2910),H=r(73955);function CoreFileComponent_Conditional_1_Conditional_7_Conditional_1_Template(e,n){if(1&e&&i.EFF(0),2&e){const e=i.XpG(3);i.SpI(" ",e.fileSizeReadable," ")}}function CoreFileComponent_Conditional_1_Conditional_7_Conditional_2_Template(e,n){1&e&&i.EFF(0," · ")}function CoreFileComponent_Conditional_1_Conditional_7_Conditional_3_Template(e,n){if(1&e&&(i.EFF(0),i.nI1(1,"coreFormatDate")),2&e){const e=i.XpG(3);i.SpI(" ",i.bMT(1,1,1e3*e.timemodified)," ")}}function CoreFileComponent_Conditional_1_Conditional_7_Template(e,n){if(1&e&&(i.j41(0,"p"),i.DNE(1,CoreFileComponent_Conditional_1_Conditional_7_Conditional_1_Template,1,1)(2,CoreFileComponent_Conditional_1_Conditional_7_Conditional_2_Template,1,0)(3,CoreFileComponent_Conditional_1_Conditional_7_Conditional_3_Template,2,3),i.k0s()),2&e){const e=i.XpG(2);i.R7$(),i.vxM(1,e.fileSizeReadable?1:-1),i.R7$(),i.vxM(2,e.fileSizeReadable&&e.showTime?2:-1),i.R7$(),i.vxM(3,e.showTime?3:-1)}}function CoreFileComponent_Conditional_1_Conditional_10_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",10),i.nI1(1,"translate"),i.bIt("click",(function CoreFileComponent_Conditional_1_Conditional_10_Template_ion_button_click_0_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.openFile(n,!0))})),i.nrm(2,"ion-icon",11),i.k0s()}if(2&e){const e=i.XpG(2);i.Y8G("title",i.bMT(1,2,e.openButtonLabel)),i.R7$(2),i.Y8G("name",e.openButtonIcon)}}function CoreFileComponent_Conditional_1_Conditional_11_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",12),i.nI1(1,"translate"),i.bIt("click",(function CoreFileComponent_Conditional_1_Conditional_11_Template_ion_button_click_0_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.delete(n))})),i.nrm(2,"ion-icon",13),i.k0s()}2&e&&i.Y8G("ariaLabel",i.bMT(1,1,"core.delete"))}function CoreFileComponent_Conditional_1_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-item",2),i.bIt("click",(function CoreFileComponent_Conditional_1_Template_ion_item_click_0_listener(n){i.eBV(e);const r=i.XpG();return i.Njj(r.download(n,!0))})),i.j41(1,"ion-thumbnail",3),i.nrm(2,"img",4),i.k0s(),i.j41(3,"ion-label")(4,"p",5)(5,"span",6),i.bIt("ariaButtonClick",(function CoreFileComponent_Conditional_1_Template_span_ariaButtonClick_5_listener(n){i.eBV(e);const r=i.XpG();return i.Njj(r.download(n,!0))})),i.EFF(6),i.k0s()(),i.DNE(7,CoreFileComponent_Conditional_1_Conditional_7_Template,4,3,"p"),i.k0s(),i.j41(8,"div",7)(9,"core-download-refresh",8),i.bIt("action",(function CoreFileComponent_Conditional_1_Template_core_download_refresh_action_9_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.download())})),i.k0s(),i.DNE(10,CoreFileComponent_Conditional_1_Conditional_10_Template,3,4,"ion-button",9)(11,CoreFileComponent_Conditional_1_Conditional_11_Template,3,3),i.k0s()()}if(2&e){const e=i.XpG();i.Y8G("detail",!1),i.R7$(2),i.Y8G("src",e.fileIcon,i.B4B),i.R7$(4),i.JRh(e.fileName),i.R7$(),i.vxM(7,e.fileSizeReadable||e.showTime?7:-1),i.R7$(2),i.Y8G("status",e.state)("enabled",e.canDownload)("loading",e.isDownloading)("canTrustDownload",!e.alwaysDownload),i.R7$(),i.vxM(10,e.isDownloaded&&e.isIOS?10:!e.isDownloading&&e.canDelete?11:-1)}}let U=(()=>{var e;class CoreFileComponent{constructor(){this.canDelete=!1,this.alwaysDownload=!1,this.canDownload=!0,this.showSize=!0,this.showTime=!0,this.isIOS=!1,this.openButtonIcon="",this.openButtonLabel="",this.defaultIsOpenWithPicker=!1,this.onDelete=new i.bkB}ngOnInit(){var e=this;return(0,o.A)((function*(){if(!e.file)return;e.fileUrl=c.CoreFileHelper.getFileUrl(e.file),e.timemodified=e.file.timemodified||0,e.siteId=p.CoreSites.getCurrentSiteId(),e.fileSize=e.file.filesize,e.fileName=e.file.filename||"",e.isIOS=w.CorePlatform.isIOS(),e.defaultIsOpenWithPicker=c.CoreFileHelper.defaultIsOpenWithPicker(),e.openButtonIcon=e.defaultIsOpenWithPicker?"fas-file":"fas-share-from-square",e.openButtonLabel=e.defaultIsOpenWithPicker?"core.openfile":"core.share",e.showSize&&e.fileSize&&e.fileSize>=0&&(e.fileSizeReadable=v.Ni.bytesToSize(e.fileSize,2)),e.showTime=e.showTime&&e.timemodified>0,"isexternalfile"in e.file&&e.file.isexternalfile&&(e.alwaysDownload=!0);const n=p.CoreSites.getCurrentSite();if(e.fileIcon="mimetype"in e.file&&e.file.mimetype?f.A.getMimetypeIcon(e.file.mimetype,n):f.A.getFileIcon(e.fileName,n),e.canDownload){e.calculateState();try{const n=yield a.CoreFilepool.getFileEventNameByUrl(e.siteId,e.fileUrl);e.observer=b.z.on(n,(()=>{e.calculateState()}))}catch{}}}))()}calculateState(){var e=this;return(0,o.A)((function*(){if(!e.siteId)return;const n=yield a.CoreFilepool.getFileStateByUrl(e.siteId,e.fileUrl,e.timemodified),r=yield p.CoreSites.getSite(e.siteId);e.canDownload=r.canDownloadFiles(),e.state=n,e.isDownloading=e.canDownload&&n===C.DownloadStatus.DOWNLOADING,e.isDownloaded=e.canDownload&&c.CoreFileHelper.isStateDownloaded(n)}))()}openFile(e,n=!1){var r=this;return(0,o.A)((function*(){if(null==e||e.preventDefault(),null==e||e.stopPropagation(),!r.file)return;const o={};n&&(o.iOSOpenFileAction=r.defaultIsOpenWithPicker?E.n.OPEN:E.n.OPEN_WITH);try{return yield c.CoreFileHelper.downloadAndOpenFile(r.file,r.component,r.componentId,r.state,(e=>{e&&"calculating"in e&&e.calculating&&(r.isDownloading=!0)}),void 0,o)}catch(e){I.CoreAlerts.showError(e,{default:T.HT.instant("core.errordownloading")})}}))()}download(e,n=!1){var r=this;return(0,o.A)((function*(){if(e&&e.preventDefault(),e&&e.stopPropagation(),r.file&&r.siteId&&(!r.isDownloading||n)){if(!r.canDownload||!r.state||r.state===C.DownloadStatus.NOT_DOWNLOADABLE)return g.F.isLocalFileUrl(r.fileUrl)?E.j.openFile(r.fileUrl):E.j.openOnlineFile(g.F.unfixPluginfileURL(r.fileUrl)),void 0;if(!s.WE.isOnline()&&(!n||n&&!c.CoreFileHelper.isStateDownloaded(r.state)))return I.CoreAlerts.showError(T.HT.instant("core.networkerrormsg")),void 0;if(n)try{yield r.openFile()}catch(e){I.CoreAlerts.showError(e,{default:T.HT.instant("core.errordownloading")})}else try{const e=yield u.CorePluginFileDelegate.getFileSize(r.file,r.siteId);e&&(yield I.CoreAlerts.confirmDownloadSize({size:e,total:!0})),yield _.g.ignoreErrors(a.CoreFilepool.invalidateFileByUrl(r.siteId,r.fileUrl)),r.isDownloading=!0;try{yield a.CoreFilepool.addToQueueByUrl(r.siteId,r.fileUrl,r.component,r.componentId,r.timemodified,void 0,void 0,0,r.file)}catch(e){I.CoreAlerts.showError(e,{default:T.HT.instant("core.errordownloading")}),r.calculateState()}}catch(e){I.CoreAlerts.showError(e,{default:T.HT.instant("core.errordownloading")})}}}))()}delete(e){e.preventDefault(),e.stopPropagation(),this.canDelete&&this.onDelete.emit()}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.off()}}return(e=CoreFileComponent).ɵfac=function CoreFileComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-file"]],inputs:{file:"file",component:"component",componentId:"componentId",canDelete:[i.Mj6.HasDecoratorInputTransform,"canDelete","canDelete",A.G],alwaysDownload:[i.Mj6.HasDecoratorInputTransform,"alwaysDownload","alwaysDownload",A.G],canDownload:[i.Mj6.HasDecoratorInputTransform,"canDownload","canDownload",A.G],showSize:[i.Mj6.HasDecoratorInputTransform,"showSize","showSize",A.G],showTime:[i.Mj6.HasDecoratorInputTransform,"showTime","showTime",A.G]},outputs:{onDelete:"onDelete"},standalone:!0,features:[i.GFd,i.aNF],decls:3,vars:1,consts:[[1,"card-file","ion-activatable"],["tappable","",1,"ion-text-wrap","item-file",3,"detail"],["tappable","",1,"ion-text-wrap","item-file",3,"click","detail"],["slot","start"],["alt","","role","presentation",3,"src"],[1,"item-heading"],[3,"ariaButtonClick"],["slot","end",1,"flex-row"],[3,"action","status","enabled","loading","canTrustDownload"],["fill","clear",3,"title"],["fill","clear",3,"click","title"],["slot","icon-only","aria-hidden","true",3,"name"],["fill","clear","color","danger",3,"click","ariaLabel"],["slot","icon-only","name","fas-trash","aria-hidden","true"]],template:function CoreFileComponent_Template(e,n){1&e&&(i.j41(0,"ion-card",0),i.DNE(1,CoreFileComponent_Conditional_1_Template,12,9,"ion-item",1),i.nrm(2,"ion-ripple-effect"),i.k0s()),2&e&&(i.R7$(),i.vxM(1,n.file?1:-1))},dependencies:[P.V,L.Jm,L.b_,L.iq,L.uz,L.he,L.S7,L.Zx,H.D9,F.a,x.Y,N.T,R.t,k.f],styles:["[_nghost-%COMP%]   ion-ripple-effect[_ngcontent-%COMP%]{z-index:1}"]}),CoreFileComponent})()},31498:(e,n,r)=>{"use strict";r.d(n,{Y:()=>v});var o=r(91416),i=r(12364),s=r(2469),a=r(6128),c=r(50016),u=r(58197),p=r(54438),f=r(60177),g=r(2910);function CoreFilesComponent_Conditional_0_Template(e,n){if(1&e&&p.nrm(0,"core-format-text",0),2&e){const e=p.XpG();p.Y8G("text",e.contentText)("filter",!1)}}function CoreFilesComponent_ng_container_1_Conditional_1_Conditional_0_Template(e,n){if(1&e&&p.nrm(0,"core-file",3),2&e){const e=p.XpG(2).$implicit,n=p.XpG();p.Y8G("file",e)("component",n.component)("componentId",n.componentId)("alwaysDownload",n.alwaysDownload)("canDownload",n.canDownload)("showSize",n.showSize)("showTime",n.showTime)}}function CoreFilesComponent_ng_container_1_Conditional_1_Conditional_1_Template(e,n){if(1&e&&p.nrm(0,"core-local-file",4),2&e){const e=p.XpG(2).$implicit;p.Y8G("file",e)}}function CoreFilesComponent_ng_container_1_Conditional_1_Template(e,n){if(1&e&&p.DNE(0,CoreFilesComponent_ng_container_1_Conditional_1_Conditional_0_Template,1,7,"core-file",3)(1,CoreFilesComponent_ng_container_1_Conditional_1_Conditional_1_Template,1,1),2&e){const e=p.XpG().$implicit;p.vxM(0,e.name?1:0)}}function CoreFilesComponent_ng_container_1_Conditional_2_Template(e,n){if(1&e&&(p.j41(0,"ion-item",2)(1,"ion-label"),p.nrm(2,"core-format-text",5),p.k0s()()),2&e){const e=p.XpG().index,n=p.XpG();p.R7$(2),p.Y8G("component",n.component)("componentId",n.componentId)("text",n.extraHtml[e])}}function CoreFilesComponent_ng_container_1_Template(e,n){if(1&e&&(p.qex(0),p.DNE(1,CoreFilesComponent_ng_container_1_Conditional_1_Template,2,1)(2,CoreFilesComponent_ng_container_1_Conditional_2_Template,3,3,"ion-item",2),p.bVm()),2&e){const e=n.$implicit,r=n.index,o=p.XpG();p.R7$(),p.vxM(1,e.embedType?-1:1),p.R7$(),p.vxM(2,o.extraHtml&&o.extraHtml[r]?2:-1)}}let v=(()=>{var e;class CoreFilesComponent{constructor(e){this.files=[],this.alwaysDownload=!1,this.canDownload=!0,this.showSize=!0,this.showTime=!0,this.showInline=!1,this.differ=e.find([]).create()}ngOnInit(){this.showInline&&this.files&&this.renderInlineFiles()}ngDoCheck(){if(this.showInline&&this.files){this.differ.diff(this.files)&&this.renderInlineFiles()}}renderInlineFiles(){this.contentText=this.files.reduce(((e,n)=>{const r=i.A.getEmbeddedHtml(n);return r?`${e}<br>${r}`:e}),"")}}return(e=CoreFilesComponent).ɵfac=function CoreFilesComponent_Factory(n){return new(n||e)(p.rXU(p.MKu))},e.ɵcmp=p.VBU({type:e,selectors:[["core-files"]],inputs:{files:"files",component:"component",componentId:"componentId",alwaysDownload:[p.Mj6.HasDecoratorInputTransform,"alwaysDownload","alwaysDownload",o.G],canDownload:[p.Mj6.HasDecoratorInputTransform,"canDownload","canDownload",o.G],showSize:[p.Mj6.HasDecoratorInputTransform,"showSize","showSize",o.G],showTime:[p.Mj6.HasDecoratorInputTransform,"showTime","showTime",o.G],showInline:[p.Mj6.HasDecoratorInputTransform,"showInline","showInline",o.G],extraHtml:"extraHtml"},standalone:!0,features:[p.GFd,p.aNF],decls:2,vars:2,consts:[[3,"text","filter"],[4,"ngFor","ngForOf"],[1,"ion-text-wrap"],[3,"file","component","componentId","alwaysDownload","canDownload","showSize","showTime"],[3,"file"],[3,"component","componentId","text"]],template:function CoreFilesComponent_Template(e,n){1&e&&p.DNE(0,CoreFilesComponent_Conditional_0_Template,1,2,"core-format-text",0)(1,CoreFilesComponent_ng_container_1_Template,3,2,"ng-container",1),2&e&&(p.vxM(0,n.showInline&&n.contentText?0:-1),p.R7$(),p.Y8G("ngForOf",n.files))},dependencies:[s.V,f.Sq,g.uz,g.he,a.t,c.a,u.B],encapsulation:2}),CoreFilesComponent})()},97818:(e,n,r)=>{"use strict";r.d(n,{F:()=>f});var o=r(54438),i=r(2469),s=r(86198),a=r(58197),c=r(89417),u=r(2910),p=r(73955);const _forTrack0=(e,n)=>n.id,_c0=e=>({header:e});function CoreGroupSelectorComponent_Conditional_0_Conditional_0_Template(e,n){if(1&e&&(o.j41(0,"ion-card",1)(1,"ion-item",6),o.nrm(2,"ion-icon",7),o.j41(3,"ion-label")(4,"p",8),o.EFF(5),o.k0s()()()()),2&e){const e=o.XpG(2);o.R7$(5),o.JRh(e.multipleGroupsMessage)}}function CoreGroupSelectorComponent_Conditional_0_For_10_Template(e,n){if(1&e&&(o.j41(0,"ion-select-option",5),o.nrm(1,"core-format-text",9),o.k0s()),2&e){const e=n.$implicit,r=o.XpG(2);o.Y8G("value",e.id),o.R7$(),o.Y8G("text",e.name)("contextInstanceId",r.courseId)("wsNotFiltered",!0)}}function CoreGroupSelectorComponent_Conditional_0_Template(e,n){if(1&e){const e=o.RV6();o.DNE(0,CoreGroupSelectorComponent_Conditional_0_Conditional_0_Template,6,1,"ion-card",1),o.j41(1,"ion-item",0),o.nrm(2,"ion-icon",2),o.j41(3,"ion-select",3),o.nI1(4,"translate"),o.nI1(5,"translate"),o.mxI("ngModelChange",(function CoreGroupSelectorComponent_Conditional_0_Template_ion_select_ngModelChange_3_listener(n){o.eBV(e);const r=o.XpG();return o.DH7(r.selected,n)||(r.selected=n),o.Njj(n)})),o.bIt("ionChange",(function CoreGroupSelectorComponent_Conditional_0_Template_ion_select_ionChange_3_listener(){o.eBV(e);const n=o.XpG();return o.Njj(n.selectedChange.emit(n.selected))})),o.j41(6,"p",4),o.EFF(7),o.nI1(8,"translate"),o.k0s(),o.Z7z(9,CoreGroupSelectorComponent_Conditional_0_For_10_Template,2,4,"ion-select-option",5,_forTrack0),o.k0s()()}if(2&e){const e=o.XpG();o.vxM(0,e.multipleGroupsMessage&&e.groupInfo.groups&&e.groupInfo.groups.length>1?0:-1),o.R7$(3),o.R50("ngModel",e.selected),o.Y8G("cancelText",o.bMT(4,5,"core.cancel"))("interfaceOptions",o.eq3(11,_c0,o.bMT(5,7,"core.group"))),o.R7$(4),o.SpI("",o.bMT(8,9,e.groupInfo.separateGroups?"core.groupsseparate":"core.groupsvisible")," "),o.R7$(2),o.Dyx(e.groupInfo.groups)}}let f=(()=>{var e;class CoreGroupSelectorComponent{constructor(){this.selectedChange=new o.bkB}}return(e=CoreGroupSelectorComponent).ɵfac=function CoreGroupSelectorComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["core-group-selector"]],inputs:{groupInfo:"groupInfo",multipleGroupsMessage:"multipleGroupsMessage",selected:"selected",courseId:"courseId"},outputs:{selectedChange:"selectedChange"},standalone:!0,features:[o.aNF],decls:1,vars:1,consts:[["lines","full",1,"ion-text-wrap","core-group-selector"],[1,"core-info-card"],["name","fas-user-group","slot","start","aria-hidden","true"],["interface","action-sheet",3,"ngModelChange","ionChange","ngModel","cancelText","interfaceOptions"],["slot","label",1,"item-heading"],[3,"value"],[1,"ion-text-wrap"],["name","fas-circle-question","slot","start","aria-hidden","true"],[1,"item-label"],["contextLevel","course",3,"text","contextInstanceId","wsNotFiltered"]],template:function CoreGroupSelectorComponent_Template(e,n){1&e&&o.DNE(0,CoreGroupSelectorComponent_Conditional_0_Template,11,13,"ion-item",0),2&e&&o.vxM(0,n.groupInfo&&n.groupInfo.groups.length>0&&(n.groupInfo.separateGroups||n.groupInfo.visibleGroups)?0:-1)},dependencies:[i.V,c.BC,c.vS,u.b_,u.iq,u.uz,u.he,u.Nm,u.Ip,u.Je,p.D9,s.t,a.B],styles:[".core-group-selector[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--webkit-margin-end: 16px;margin-inline-end:16px}"],changeDetection:0}),CoreGroupSelectorComponent})()},29210:(e,n,r)=>{"use strict";r.d(n,{c:()=>f});var o=r(18022),i=r(2469),s=r(86198),a=r(43570),c=r(54438),u=r(2910),p=r(73955);let f=(()=>{var e;class CoreHorizontalScrollControlsComponent{constructor(){this.scrollPosition="hidden"}get target(){return this.targetId&&document.getElementById(this.targetId)||null}scroll(e,n){if(!this.target)return;e.stopPropagation(),e.preventDefault();const r="forward"===n?this.target.clientWidth:-this.target.clientWidth,o=Math.max(Math.min(this.target.scrollLeft+r,this.target.scrollWidth-this.target.clientWidth),0);this.target.scrollBy({left:r,behavior:"smooth"}),this.updateScrollPosition(o)}updateScrollPosition(e){this.scrollPosition=this.getScrollPosition(e)}getScrollPosition(e){var n,r;return e=null!==(n=null!=e?e:null===(r=this.target)||void 0===r?void 0:r.scrollLeft)&&void 0!==n?n:0,!this.target||this.target.scrollWidth<=this.target.clientWidth?"hidden":0===e?o.CorePlatform.isRTL?"end":"start":o.CorePlatform.isRTL||this.target.scrollWidth-e!==this.target.clientWidth?o.CorePlatform.isRTL&&this.target.scrollWidth+e===this.target.clientWidth?"start":"middle":"end"}}return(e=CoreHorizontalScrollControlsComponent).ɵfac=function CoreHorizontalScrollControlsComponent_Factory(n){return new(n||e)},e.ɵcmp=c.VBU({type:e,selectors:[["core-horizontal-scroll-controls"]],inputs:{targetId:[c.Mj6.None,"aria-controls","targetId"]},standalone:!0,features:[c.aNF],decls:6,vars:12,consts:[["fill","clear",3,"click","hidden","disabled","ariaLabel"],["name","fas-chevron-left","slot","icon-only","aria-hidden","true","flip-rtl","false"],["name","fas-chevron-right","slot","icon-only","aria-hidden","true","flip-rtl","false"]],template:function CoreHorizontalScrollControlsComponent_Template(e,n){1&e&&(c.j41(0,"ion-button",0),c.nI1(1,"translate"),c.bIt("click",(function CoreHorizontalScrollControlsComponent_Template_ion_button_click_0_listener(e){return n.scroll(e,"backward")})),c.nrm(2,"ion-icon",1),c.k0s(),c.j41(3,"ion-button",0),c.nI1(4,"translate"),c.bIt("click",(function CoreHorizontalScrollControlsComponent_Template_ion_button_click_3_listener(e){return n.scroll(e,"forward")})),c.nrm(5,"ion-icon",2),c.k0s()),2&e&&(c.Y8G("hidden","hidden"===n.scrollPosition)("disabled","start"===n.scrollPosition)("ariaLabel",c.bMT(1,8,"core.scrollbackward")),c.BMQ("aria-controls",n.targetId),c.R7$(3),c.Y8G("hidden","hidden"===n.scrollPosition)("disabled","end"===n.scrollPosition)("ariaLabel",c.bMT(4,10,"core.scrollforward")),c.BMQ("aria-controls",n.targetId))},dependencies:[i.V,u.Jm,u.iq,p.D9,a.T,s.t],styles:["[_nghost-%COMP%]{--flex-row-direction: row;display:flex;flex-direction:var(--flex-row-direction)}[dir=rtl][_nghost-%COMP%], [dir=rtl]   [_nghost-%COMP%]{--flex-row-direction: row-reverse}"]}),CoreHorizontalScrollControlsComponent})()},7476:(e,n,r)=>{"use strict";r.d(n,{l:()=>L});var o=r(10467),i=r(54438),s=r(45507),a=r(8014),c=r(5287),u=r(79555),p=r(49882),f=r(93417),g=r(5964),v=r(21182),C=r(52749),b=r(91416),w=r(82907),A=r(25572),_=r(72881),E=r(2469),I=r(64422),T=r(13988),P=r(86198),k=r(43570),x=r(60177),F=r(2910),R=r(73955);const N=["iframe"],_c1=(e,n)=>({"min-width":e,"min-height":n}),_c2=(e,n)=>({width:e,height:n});function CoreIframeComponent_Conditional_1_Conditional_1_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"core-navbar-buttons",4)(1,"ion-button",7),i.nI1(2,"translate"),i.bIt("click",(function CoreIframeComponent_Conditional_1_Conditional_1_Template_ion_button_click_1_listener(){i.eBV(e);const n=i.XpG(2);return i.Njj(n.toggleFullscreen())})),i.nrm(3,"ion-icon",8),i.k0s()()}if(2&e){const e=i.XpG(2);i.R7$(),i.Y8G("ariaLabel",i.bMT(2,2,e.fullscreen?"core.disablefullscreen":"core.fullscreen")),i.R7$(2),i.Y8G("name",e.fullscreen?"fas-compress":"fas-expand")}}function CoreIframeComponent_Conditional_1_Conditional_2_Template(e,n){if(1&e&&i.nrm(0,"iframe",9,0),2&e){const e=i.XpG(2);i.AVh("core-iframe-loading",e.loading),i.Y8G("ngStyle",i.l_i(5,_c2,e.iframeWidth,e.iframeHeight))("src",e.safeUrl,i.f$h),i.BMQ("id",e.id)}}function CoreIframeComponent_Conditional_1_Conditional_3_Template(e,n){if(1&e&&i.nrm(0,"iframe",10,0),2&e){const e=i.XpG(2);i.AVh("core-iframe-loading",e.loading),i.Y8G("ngStyle",i.l_i(5,_c2,e.iframeWidth,e.iframeHeight))("src",e.safeUrl,i.f$h),i.BMQ("id",e.id)}}function CoreIframeComponent_Conditional_1_Conditional_4_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",11),i.bIt("click",(function CoreIframeComponent_Conditional_1_Conditional_4_Template_ion_button_click_0_listener(){i.eBV(e);const n=i.XpG(2);return i.Njj(n.openIframeHelpModal())})),i.EFF(1),i.nI1(2,"translate"),i.k0s()}2&e&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.iframehelp")," "))}function CoreIframeComponent_Conditional_1_Template(e,n){if(1&e&&(i.j41(0,"div",2),i.DNE(1,CoreIframeComponent_Conditional_1_Conditional_1_Template,4,4,"core-navbar-buttons",4)(2,CoreIframeComponent_Conditional_1_Conditional_2_Template,2,8,"iframe",5)(3,CoreIframeComponent_Conditional_1_Conditional_3_Template,2,8)(4,CoreIframeComponent_Conditional_1_Conditional_4_Template,3,3,"ion-button",6),i.k0s()),2&e){const e=i.XpG();i.Y8G("ngStyle",i.l_i(4,_c1,"min("+e.iframeWidth+", 100%)","min("+e.iframeHeight+", 100%)")),i.R7$(),i.vxM(1,e.initialized&&e.showFullscreenOnToolbar&&!e.loading?1:-1),i.R7$(),i.vxM(2,e.allowFullscreen?2:3),i.R7$(2),i.vxM(4,!e.loading&&e.displayHelp?4:-1)}}function CoreIframeComponent_Conditional_2_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",12),i.bIt("click",(function CoreIframeComponent_Conditional_2_Template_ion_button_click_0_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.launchExternal())})),i.EFF(1),i.k0s()}if(2&e){const e=i.XpG();i.R7$(),i.SpI(" ",e.launchExternalLabel," ")}}let L=(()=>{var e;class CoreIframeComponent{set iframeElement(e){this.iframe=null==e?void 0:e.nativeElement,this.initIframeElement()}constructor(e){this.elementRef=e,this.id=null,this.iframeWidth="100%",this.iframeHeight="100%",this.allowFullscreen=!1,this.showFullscreenOnToolbar=!1,this.autoFullscreenOnRotate=!1,this.allowAutoLogin=!0,this.loaded=new i.bkB,this.displayHelp=!1,this.fullscreen=!1,this.initialized=!1,this.fullScreenInitialized=!1,this.loaded=new i.bkB,window.addEventListener("message",this.messageListenerFunction=e=>this.onIframeMessage(e))}init(){this.initialized||(this.initialized=!0,this.loading=!this.src||!a.F.isLocalFileUrl(this.src),this.loading&&setTimeout((()=>{this.loading=!1}),CoreIframeComponent.loadingTimeout))}configureFullScreen(){var e,n,r,i,s=this;if(!this.showFullscreenOnToolbar&&!this.autoFullscreenOnRotate)return null===(e=this.navSubscription)||void 0===e||e.unsubscribe(),null===(n=this.orientationObs)||void 0===n||n.off(),null===(r=this.style)||void 0===r||r.remove(),this.backButtonListener&&document.removeEventListener("ionBackButton",this.backButtonListener),this.navSubscription=void 0,this.orientationObs=void 0,this.style=void 0,this.backButtonListener=void 0,this.fullScreenInitialized=!0,void 0;if(this.navSubscription||(this.navSubscription=u.Ix.events.pipe((0,g.p)((e=>e instanceof v.Z))).subscribe((0,o.A)((function*(){s.fullscreen&&s.toggleFullscreen(!1)})))),this.backButtonListener||document.addEventListener("ionBackButton",this.backButtonListener=({detail:e})=>e.register(150,(e=>{this.fullscreen?this.toggleFullscreen(!1):e()}))),!this.style){var a;const e=null===(a=this.elementRef.nativeElement.closest(".ion-page"))||void 0===a||null===(a=a.querySelector("ion-header ion-toolbar"))||void 0===a?void 0:a.shadowRoot;e&&(this.style=document.createElement("style"),e.appendChild(this.style))}return this.autoFullscreenOnRotate?this.orientationObs?(this.fullScreenInitialized=!0,void 0):(this.fullScreenInitialized||this.toggleFullscreen(f.CoreScreen.isLandscape),this.orientationObs=p.z.on(p.z.ORIENTATION_CHANGE,(e=>{this.isInHiddenPage()||this.toggleFullscreen(e.orientation==f.CoreScreenOrientation.LANDSCAPE)})),this.fullScreenInitialized=!0,void 0):(null===(i=this.orientationObs)||void 0===i||i.off(),this.orientationObs=void 0,this.fullScreenInitialized=!0,void 0)}initIframeElement(){this.iframe&&(c.c.treatFrame(this.iframe,!1),this.iframe.addEventListener("load",(()=>{this.loading=!1,this.loaded.emit(this.iframe)})),this.iframe.addEventListener("error",(()=>{this.loading=!1,A.CoreAlerts.showError(u.HT.instant("core.errorloadingcontent"))})))}isInHiddenPage(){return!this.elementRef.nativeElement.closest(".ion-page")||!!this.elementRef.nativeElement.closest(".ion-page-hidden")}ngOnChanges(e){var n=this;return(0,o.A)((function*(){if(e.iframeWidth&&(n.iframeWidth=n.iframeWidth&&w.y.formatSizeUnits(n.iframeWidth)||"100%"),e.iframeHeight&&(n.iframeHeight=n.iframeHeight&&w.y.formatSizeUnits(n.iframeHeight)||"100%"),!e.src)return(e.showFullscreenOnToolbar||e.autoFullscreenOnRotate)&&n.configureFullScreen(),void 0;let r=n.src;if(r){const{launchExternal:e,label:o}=c.c.frameShouldLaunchExternal(r);if(e)return n.launchExternalLabel=o,n.loading=!1,void 0}if(n.launchExternalLabel=void 0,r&&!a.F.isLocalFileUrl(r)){r=a.F.getYoutubeEmbedUrl(r)||r,n.displayHelp=c.c.shouldDisplayHelpForUrl(r);const e=C.CoreSites.getCurrentSite();if(null!=e&&e.containsUrl(r)){const o=n.allowAutoLogin?yield e.getAutoLoginUrl(r,!1):r,i=yield _.CoreLang.getCurrentLanguage("lms");r=a.F.addParamsToUrl(o,{lang:i},{checkAutoLoginUrl:o!==r})}var o;if(null!=e&&e.isVersionGreaterEqualThan("3.7")&&a.F.isVimeoVideoUrl(r))r=null!==(o=a.F.getVimeoPlayerUrl(r,e))&&void 0!==o?o:r;yield c.c.fixIframeCookies(r)}n.safeUrl=r?u.up.bypassSecurityTrustResourceUrl(s.CoreFile.convertFileSrc(r)):void 0,setTimeout((()=>{n.init(),(e.showFullscreenOnToolbar||e.autoFullscreenOnRotate)&&n.configureFullScreen()}))}))()}openIframeHelpModal(){c.c.openIframeHelpModal()}ngOnDestroy(){var e,n;null===(e=this.orientationObs)||void 0===e||e.off(),null===(n=this.navSubscription)||void 0===n||n.unsubscribe(),window.removeEventListener("message",this.messageListenerFunction),this.fullscreen&&this.toggleFullscreen(!1)}toggleFullscreen(e,n=!0){var r;(this.fullscreen=void 0!==e?e:!this.fullscreen,this.fullscreen?u.eA.hide():u.eA.show(),this.style&&(this.style.textContent=this.fullscreen?"@media screen and (orientation: landscape) {                    .core-iframe-fullscreen .toolbar-container { flex-direction: column-reverse !important; height: 100%; } }":""),document.body.classList.toggle("core-iframe-fullscreen",this.fullscreen),n&&this.iframe)&&(null===(r=this.iframe.contentWindow)||void 0===r||r.postMessage(this.fullscreen?"enterFullScreen":"exitFullScreen","*"))}onIframeMessage(e){var n=this;return(0,o.A)((function*(){"enterFullScreen"==e.data&&n.showFullscreenOnToolbar&&!n.fullscreen?n.toggleFullscreen(!0,!1):"exitFullScreen"==e.data&&n.fullscreen&&n.toggleFullscreen(!1,!1)}))()}launchExternal(){this.src&&c.c.frameLaunchExternal(this.src,{site:C.CoreSites.getCurrentSite()})}}return(e=CoreIframeComponent).loadingTimeout=15e3,e.ɵfac=function CoreIframeComponent_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵcmp=i.VBU({type:e,selectors:[["core-iframe"]],viewQuery:function CoreIframeComponent_Query(e,n){if(1&e&&i.GBs(N,5),2&e){let e;i.mGM(e=i.lsd())&&(n.iframeElement=e.first)}},inputs:{src:"src",id:"id",iframeWidth:"iframeWidth",iframeHeight:"iframeHeight",allowFullscreen:[i.Mj6.HasDecoratorInputTransform,"allowFullscreen","allowFullscreen",b.G],showFullscreenOnToolbar:[i.Mj6.HasDecoratorInputTransform,"showFullscreenOnToolbar","showFullscreenOnToolbar",b.G],autoFullscreenOnRotate:[i.Mj6.HasDecoratorInputTransform,"autoFullscreenOnRotate","autoFullscreenOnRotate",b.G],allowAutoLogin:[i.Mj6.HasDecoratorInputTransform,"allowAutoLogin","allowAutoLogin",b.G]},outputs:{loaded:"loaded"},standalone:!0,features:[i.GFd,i.OA$,i.aNF],decls:3,vars:3,consts:[["iframe",""],[3,"hideUntil"],[1,"core-iframe-container",3,"ngStyle"],["expand","block",1,"ion-text-wrap","ion-margin"],["slot","end","prepend",""],["allowfullscreen","true",1,"core-iframe",3,"ngStyle","src","core-iframe-loading"],["expand","block","fill","clear","aria-haspopup","dialog",1,"core-button-as-link","core-iframe-help"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","aria-hidden","true",3,"name"],["allowfullscreen","true",1,"core-iframe",3,"ngStyle","src"],[1,"core-iframe",3,"ngStyle","src"],["expand","block","fill","clear","aria-haspopup","dialog",1,"core-button-as-link","core-iframe-help",3,"click"],["expand","block",1,"ion-text-wrap","ion-margin",3,"click"]],template:function CoreIframeComponent_Template(e,n){1&e&&(i.nrm(0,"core-loading",1),i.DNE(1,CoreIframeComponent_Conditional_1_Template,5,7,"div",2)(2,CoreIframeComponent_Conditional_2_Template,2,1,"ion-button",3)),2&e&&(i.Y8G("hideUntil",!(n.loading||!n.safeUrl&&!n.launchExternalLabel)),i.R7$(),i.vxM(1,n.safeUrl&&!n.launchExternalLabel?1:-1),i.R7$(),i.vxM(2,n.launchExternalLabel?2:-1))},dependencies:[E.V,x.B3,F.Jm,F.iq,R.D9,I.R,T.c,k.T,P.t],styles:["[_nghost-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .core-iframe-loading[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .core-iframe-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:100%;max-height:100%;flex-grow:1}.core-iframe-fullscreen[_nghost-%COMP%], .core-iframe-fullscreen   [_nghost-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;z-index:9999}.core-iframe-fullscreen[_nghost-%COMP%]   .core-iframe-help[_ngcontent-%COMP%], .core-iframe-fullscreen   [_nghost-%COMP%]   .core-iframe-help[_ngcontent-%COMP%]{display:none}.limited-width    > :not([slot])[_nghost-%COMP%], .limited-width    > :not([slot])   [_nghost-%COMP%]{display:flex;flex-direction:column}"]}),CoreIframeComponent})()},66198:(e,n,r)=>{"use strict";r.d(n,{b:()=>g});var o=r(10467),i=r(91416),s=r(54438),a=r(2910),c=r(53794),u=r(2469),p=r(43570),f=r(73955);function CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Conditional_1_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-button",3),s.bIt("click",(function CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Conditional_1_Template_ion_button_click_0_listener(){s.eBV(e);const n=s.XpG(3);return s.Njj(n.loadMore(!0))})),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&e&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"core.tryagain")," "))}function CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Conditional_2_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-button",3),s.bIt("click",(function CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Conditional_2_Template_ion_button_click_0_listener(){s.eBV(e);const n=s.XpG(3);return s.Njj(n.loadMore(!0))})),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&e&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"core.loadmore")," "))}function CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Template(e,n){if(1&e&&(s.j41(0,"div",1),s.DNE(1,CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Conditional_1_Template,3,3,"ion-button",2)(2,CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Conditional_2_Template,3,3),s.k0s()),2&e){const e=s.XpG(2);s.R7$(),s.vxM(1,e.error?1:2)}}function CoreInfiniteLoadingComponent_Conditional_0_Template(e,n){if(1&e&&s.DNE(0,CoreInfiniteLoadingComponent_Conditional_0_Conditional_0_Template,3,1,"div",1),2&e){const e=s.XpG();s.vxM(0,e.enabled||e.error?0:-1)}}function CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Conditional_1_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-button",3),s.bIt("click",(function CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Conditional_1_Template_ion_button_click_0_listener(){s.eBV(e);const n=s.XpG(3);return s.Njj(n.loadMore(!0))})),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&e&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"core.tryagain")," "))}function CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Conditional_2_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-button",3),s.bIt("click",(function CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Conditional_2_Template_ion_button_click_0_listener(){s.eBV(e);const n=s.XpG(3);return s.Njj(n.loadMore(!0))})),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&e&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"core.loadmore")," "))}function CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Template(e,n){if(1&e&&(s.j41(0,"div",1),s.DNE(1,CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Conditional_1_Template,3,3,"ion-button",2)(2,CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Conditional_2_Template,3,3),s.k0s()),2&e){const e=s.XpG(2);s.R7$(),s.vxM(1,e.error?1:2)}}function CoreInfiniteLoadingComponent_Conditional_3_Template(e,n){if(1&e&&s.DNE(0,CoreInfiniteLoadingComponent_Conditional_3_Conditional_0_Template,3,1,"div",1),2&e){const e=s.XpG();s.vxM(0,e.enabled||e.error?0:-1)}}function CoreInfiniteLoadingComponent_Conditional_4_Template(e,n){1&e&&(s.j41(0,"div",4),s.nrm(1,"ion-spinner"),s.nI1(2,"translate"),s.k0s()),2&e&&(s.R7$(),s.BMQ("aria-label",s.bMT(2,1,"core.loading")))}let g=(()=>{var e;class CoreInfiniteLoadingComponent{constructor(e){this.enabled=!1,this.error=!1,this.position="bottom",this.loadingMore=!1,this.loadingForced=!1,this.action=new s.bkB,this.hostElement=e.nativeElement}ngOnChanges(e){e.enabled&&this.enabled&&"bottom"==this.position&&this.checkScrollDistance()}checkScrollDistance(){var e=this;return(0,o.A)((function*(){var n;if(!e.enabled||e.error||e.loadingMore)return;const r=yield null===(n=e.hostElement.closest("ion-content"))||void 0===n?void 0:n.getScrollElement();if(!r)return;yield c.H.nextTick(),yield c.H.waitFor((()=>r.scrollHeight>r.clientHeight),{timeout:1e3});const o=e.hostElement.getBoundingClientRect().height,i=r.scrollTop,s=r.offsetHeight,a=.15*s;("bottom"===e.position?r.scrollHeight-o-i-a-s:i-o-a)<0&&!e.loadingMore&&e.enabled&&e.loadMore()}))()}loadMore(e=!1){this.loadingMore||(this.loadingMore=!0,this.loadingForced=e,this.action.emit((()=>this.complete())))}fireInfiniteScrollIfNeeded(){var e=this;return(0,o.A)((function*(){e.checkScrollDistance()}))()}complete(){var e=this;return(0,o.A)((function*(){yield c.H.wait(400),yield e.completeLoadMore()}))()}completeLoadMore(){var e=this;return(0,o.A)((function*(){var n;e.loadingMore=!1,e.loadingForced=!1,yield null===(n=e.infiniteScroll)||void 0===n?void 0:n.complete(),e.checkScrollDistance()}))()}get infiniteScrollElement(){return this.hostElement.querySelector("ion-infinite-scroll")}}return(e=CoreInfiniteLoadingComponent).ɵfac=function CoreInfiniteLoadingComponent_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵcmp=s.VBU({type:e,selectors:[["core-infinite-loading"]],viewQuery:function CoreInfiniteLoadingComponent_Query(e,n){if(1&e&&s.GBs(a.Ax,5),2&e){let e;s.mGM(e=s.lsd())&&(n.infiniteScroll=e.first)}},inputs:{enabled:[s.Mj6.HasDecoratorInputTransform,"enabled","enabled",i.G],error:[s.Mj6.HasDecoratorInputTransform,"error","error",i.G],position:"position"},outputs:{action:"action"},standalone:!0,features:[s.GFd,s.OA$,s.aNF],decls:5,vars:4,consts:[[3,"ionInfinite","disabled","position"],[1,"ion-padding-horizontal"],["expand","block","fill","outline"],["expand","block","fill","outline",3,"click"],[1,"ion-padding","ion-text-center"]],template:function CoreInfiniteLoadingComponent_Template(e,n){1&e&&(s.DNE(0,CoreInfiniteLoadingComponent_Conditional_0_Template,1,1),s.j41(1,"ion-infinite-scroll",0),s.bIt("ionInfinite",(function CoreInfiniteLoadingComponent_Template_ion_infinite_scroll_ionInfinite_1_listener(){return n.loadMore()})),s.nrm(2,"ion-infinite-scroll-content"),s.k0s(),s.DNE(3,CoreInfiniteLoadingComponent_Conditional_3_Template,1,1)(4,CoreInfiniteLoadingComponent_Conditional_4_Template,3,3)),2&e&&(s.vxM(0,n.loadingMore||"top"===n.position?-1:0),s.R7$(),s.Y8G("disabled",n.loadingMore&&n.loadingForced||!n.loadingMore&&(!n.enabled||n.error))("position",n.position),s.R7$(2),s.vxM(3,n.loadingMore||"top"!==n.position?n.loadingMore&&n.loadingForced?4:-1:3))},dependencies:[u.V,a.Jm,a.Ax,a.Hp,a.w2,f.D9,p.T],encapsulation:2}),CoreInfiniteLoadingComponent})()},25880:(e,n,r)=>{"use strict";r.d(n,{q:()=>p});var o=r(2469),i=r(86198),s=r(54438),a=r(60177),c=r(2910),u=r(73955);const _c0=e=>({$a:e});function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_0_Conditional_1_Template(e,n){1&e&&s.nrm(0,"ion-icon",2)}function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_0_Template(e,n){if(1&e&&(s.j41(0,"span"),s.DNE(1,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_0_Conditional_1_Template,1,0,"ion-icon",2),s.EFF(2),s.nI1(3,"translate"),s.k0s()),2&e){const e=s.XpG(3).$implicit,n=s.XpG(2);s.R7$(),s.vxM(1,"required"===e?1:-1),s.R7$(),s.SpI(" ",s.bMT(3,2,n.errorMessages[e])," ")}}function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_1_Template(e,n){if(1&e&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&e){const e=s.XpG(5);s.R7$(),s.SpI(" ",s.i5U(2,1,"core.login.invalidvaluemax",s.eq3(4,_c0,e.control.errors.max.max))," ")}}function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_2_Template(e,n){if(1&e&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&e){const e=s.XpG(5);s.R7$(),s.SpI(" ",s.i5U(2,1,"core.login.invalidvaluemin",s.eq3(4,_c0,e.control.errors.min.min))," ")}}function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Template(e,n){if(1&e&&s.DNE(0,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_0_Template,4,4,"span")(1,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_1_Template,3,6)(2,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Conditional_2_Template,3,6),2&e){const e=s.XpG(2).$implicit,n=s.XpG(2);s.vxM(0,n.errorMessages&&n.errorMessages[e]?0:n.errorMessages&&n.errorMessages[e]||"max"!==e||null==n.control.errors||!n.control.errors.max?n.errorMessages&&n.errorMessages[e]||"min"!==e||null==n.control.errors||!n.control.errors.min?-1:2:1)}}function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_2_ng_container_0_Template(e,n){if(1&e&&(s.qex(0),s.j41(1,"span"),s.EFF(2),s.nI1(3,"translate"),s.k0s(),s.bVm()),2&e){const e=n.ngIf;s.R7$(2),s.JRh(s.bMT(3,1,e))}}function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_2_Template(e,n){if(1&e&&s.DNE(0,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_2_ng_container_0_Template,4,3,"ng-container",3),2&e){const e=s.XpG(4);s.Y8G("ngIf",e.getPatternErrorMessage())}}function CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Template(e,n){if(1&e&&(s.j41(0,"div",1),s.DNE(1,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_1_Template,3,1)(2,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Conditional_2_Template,1,1),s.k0s()),2&e){const e=s.XpG().$implicit;s.R7$(),s.vxM(1,"pattern"!==e?1:2)}}function CoreInputErrorsComponent_Conditional_0_For_1_Template(e,n){if(1&e&&s.DNE(0,CoreInputErrorsComponent_Conditional_0_For_1_Conditional_0_Template,3,1,"div",1),2&e){const e=n.$implicit,r=s.XpG(2);s.vxM(0,r.control.hasError(e)?0:-1)}}function CoreInputErrorsComponent_Conditional_0_Template(e,n){if(1&e&&s.Z7z(0,CoreInputErrorsComponent_Conditional_0_For_1_Template,1,1,null,null,s.fX1),2&e){const e=s.XpG();s.Dyx(e.errorKeys)}}function CoreInputErrorsComponent_Conditional_1_Template(e,n){if(1&e&&(s.j41(0,"div",0),s.EFF(1),s.k0s()),2&e){const e=s.XpG();s.R7$(),s.JRh(e.errorText)}}let p=(()=>{var e;class CoreInputErrorsComponent{get hasErrors(){return this.control&&this.control.dirty&&!this.control.valid||!!this.errorText}constructor(e){this.errorMessages={},this.errorText="",this.errorKeys=[],this.role="alert",this.hostElement=e.nativeElement}initErrorMessages(){this.errorMessages={required:"core.required",email:"core.login.invalidemail",date:"core.login.invaliddate",datetime:"core.login.invaliddate",datetimelocal:"core.login.invaliddate",time:"core.login.invalidtime",url:"core.login.invalidurl",max:"",min:"",...this.errorMessages},this.errorMessages.requiredTrue=this.errorMessages.required,this.errorKeys=Object.keys(this.errorMessages)}ngOnInit(){var e;const n=this.hostElement.parentElement;let r=null;if("ION-ITEM"===(null==n?void 0:n.tagName)){r=n;const e=document.createElement("div");e.classList.add("core-input-errors-wrapper"),Array.from(n.children).forEach((n=>{n.slot||e.appendChild(n)})),n.appendChild(e)}else r=this.hostElement.closest("ion-item");null===(e=r)||void 0===e||e.classList.add("has-core-input-errors")}ngOnChanges(e){(e.control||e.errorMessages)&&this.control&&this.initErrorMessages()}getPatternErrorMessage(){var e,n;const r=null===(e=this.control)||void 0===e||null===(e=e.errors)||void 0===e?void 0:e.pattern;if(null!==(n=this.errorMessages)&&void 0!==n&&n.pattern&&r)return"string"==typeof this.errorMessages.pattern?this.errorMessages.pattern:this.errorMessages.pattern[r.requiredPattern]}}return(e=CoreInputErrorsComponent).ɵfac=function CoreInputErrorsComponent_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵcmp=s.VBU({type:e,selectors:[["core-input-errors"]],hostVars:3,hostBindings:function CoreInputErrorsComponent_HostBindings(e,n){2&e&&(s.Mr5("role",n.role),s.AVh("has-errors",n.hasErrors))},inputs:{control:"control",errorMessages:"errorMessages",errorText:"errorText"},standalone:!0,features:[s.OA$,s.aNF],decls:2,vars:2,consts:[["aria-live","assertive",1,"core-input-error"],[1,"core-input-error"],["name","fas-circle-exclamation","aria-hidden","true"],[4,"ngIf"]],template:function CoreInputErrorsComponent_Template(e,n){1&e&&s.DNE(0,CoreInputErrorsComponent_Conditional_0_Template,2,0)(1,CoreInputErrorsComponent_Conditional_1_Template,2,1,"div",0),2&e&&(s.vxM(0,n.control&&n.control.dirty&&!n.control.valid?0:-1),s.R7$(),s.vxM(1,n.errorText?1:-1))},dependencies:[o.V,a.bT,c.iq,u.D9,i.t],styles:["[_nghost-%COMP%]{display:contents}.has-errors[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .core-input-error[_ngcontent-%COMP%]{padding:4px;color:var(--danger);font:var(--mdl-typography-body-font-sm);display:none}[_nghost-%COMP%]   .core-input-error[_ngcontent-%COMP%]:first-child{display:block}"]}),CoreInputErrorsComponent})()},64422:(e,n,r)=>{"use strict";r.d(n,{R:()=>I});var o=r(10467),i=r(81690),s=r(89818),a=r(79555),c=r(62393),u=r(25124),p=r(18022),f=r(53794),g=r(91416),v=r(2469),C=r(14028),b=r(54438),w=r(60177),A=r(2910);const _=[[["","loading-placeholder",""]],"*"],E=["[loading-placeholder]","*"],_c2=(e,n)=>({width:e,height:n});function CoreLoadingComponent_Conditional_0_Conditional_1_Conditional_1_Template(e,n){if(1&e&&(b.j41(0,"p",2),b.EFF(1),b.k0s()),2&e){const e=b.XpG(3);b.R7$(),b.JRh(e.message)}}function CoreLoadingComponent_Conditional_0_Conditional_1_Template(e,n){if(1&e&&(b.nrm(0,"ion-spinner",1),b.DNE(1,CoreLoadingComponent_Conditional_0_Conditional_1_Conditional_1_Template,2,1,"p",2)),2&e){const e=b.XpG(2);b.R7$(),b.vxM(1,e.message?1:-1)}}function CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_1_Template(e,n){1&e&&b.SdG(0)}function CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_2_For_1_Template(e,n){1&e&&(b.j41(0,"ion-item")(1,"ion-avatar",3),b.nrm(2,"ion-skeleton-text",4),b.k0s(),b.j41(3,"ion-label")(4,"h3"),b.nrm(5,"ion-skeleton-text",5),b.k0s(),b.j41(6,"p"),b.nrm(7,"ion-skeleton-text",6),b.k0s()()()),2&e&&(b.R7$(2),b.Y8G("animated",!0),b.R7$(3),b.Y8G("animated",!0),b.R7$(2),b.Y8G("animated",!0))}function CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_2_Template(e,n){if(1&e&&(b.Z7z(0,CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_2_For_1_Template,8,3,"ion-item",null,b.fX1),b.nI1(2,"coreTimes")),2&e){const e=b.XpG(3);b.Dyx(b.bMT(2,0,e.placeholderLimit))}}function CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_3_For_2_Template(e,n){if(1&e&&b.nrm(0,"ion-skeleton-text",8),2&e){const e=b.XpG(4);b.Y8G("animated",!0)("ngStyle",b.l_i(2,_c2,e.placeholderWidth,e.placeholderHeight))}}function CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_3_Template(e,n){if(1&e&&(b.nrm(0,"ion-skeleton-text",7),b.Z7z(1,CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_3_For_2_Template,1,5,"ion-skeleton-text",8,b.fX1),b.nI1(3,"coreTimes")),2&e){const e=b.XpG(3);b.Y8G("animated",!0),b.R7$(),b.Dyx(b.bMT(3,1,e.placeholderLimit))}}function CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_4_For_1_Template(e,n){if(1&e&&b.nrm(0,"ion-skeleton-text",8),2&e){const e=b.XpG(4);b.Y8G("animated",!0)("ngStyle",b.l_i(2,_c2,e.placeholderWidth,e.placeholderHeight))}}function CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_4_Template(e,n){if(1&e&&(b.Z7z(0,CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_4_For_1_Template,1,5,"ion-skeleton-text",8,b.fX1),b.nI1(2,"coreTimes")),2&e){const e=b.XpG(3);b.Dyx(b.bMT(2,0,e.placeholderLimit))}}function CoreLoadingComponent_Conditional_0_Conditional_2_Template(e,n){if(1&e&&(b.j41(0,"div"),b.DNE(1,CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_1_Template,1,0)(2,CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_2_Template,3,2)(3,CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_3_Template,4,3)(4,CoreLoadingComponent_Conditional_0_Conditional_2_Conditional_4_Template,3,2),b.k0s()),2&e){const e=b.XpG(2);b.ZvI("",e.placeholderType," placeholder"),b.AVh("list-item-limited-width","free"!==e.placeholderType),b.R7$(),b.vxM(1,"free"===e.placeholderType?1:"listwithicon"===e.placeholderType||"listwithavatar"===e.placeholderType?2:"imageandboxes"===e.placeholderType?3:4)}}function CoreLoadingComponent_Conditional_0_Template(e,n){if(1&e&&(b.j41(0,"div",0),b.DNE(1,CoreLoadingComponent_Conditional_0_Conditional_1_Template,2,1)(2,CoreLoadingComponent_Conditional_0_Conditional_2_Template,5,6),b.k0s()),2&e){const e=b.XpG();b.Y8G("@coreShowHideAnimation",void 0),b.BMQ("aria-label",e.message),b.R7$(),b.vxM(1,e.placeholderType?2:1)}}function CoreLoadingComponent_Conditional_1_Template(e,n){1&e&&b.SdG(0,1,["@coreShowHideAnimation",""])}let I=(()=>{var e;class CoreLoadingComponent{get inlineClass(){return!this.fullscreen}get ariaBusy(){return this.loaded?"false":"true"}get minHeight(){return this.placeholderHeight}get loadedClass(){return this.loaded}constructor(e){var n=this;this.hideUntil=!1,this.fullscreen=!0,this.placeholderLimit=20,this.loaded=!1,this.lastScrollPosition=Promise.resolve(void 0),this.onReadyPromise=new u._,this.element=e.nativeElement,c.D.register(this.element,this),this.uniqueId=`core-loading-content-${i.j.getUniqueId("CoreLoadingComponent")}`,this.element.setAttribute("id",this.uniqueId);const r=i.j.throttle((0,o.A)((function*(){yield f.H.nextTick(),n.loaded&&(n.element.style.display="inline",yield f.H.nextTick(),n.element.style.removeProperty("display"))})),20);this.mutationObserver=new MutationObserver(function(){var e=(0,o.A)((function*(e){e.reduce(((e,n)=>e+n.addedNodes.length),0)>0&&r()}));return function(n){return e.apply(this,arguments)}}())}ngOnInit(){this.message||(this.message=a.HT.instant("core.loading"))}ngAfterViewInit(){this.changeState(this.hideUntil)}ngOnChanges(e){e.hideUntil&&this.changeState(this.hideUntil)}ngOnDestroy(){this.mutationObserver.disconnect()}changeState(e){var n=this;return(0,o.A)((function*(){n.loaded!==e&&(n.loaded=e,e?(n.onReadyPromise.resolve(),n.restoreScrollPosition(),p.CorePlatform.isIOS()&&n.mutationObserver.observe(n.element,{childList:!0})):(n.lastScrollPosition=n.getScrollPosition(),n.mutationObserver.disconnect()))}))()}getScrollPosition(){var e=this;return(0,o.A)((function*(){const n=e.element.closest("ion-content"),r=yield null==n?void 0:n.getScrollElement();return null==r?void 0:r.scrollTop}))()}restoreScrollPosition(){var e=this;return(0,o.A)((function*(){const n=yield e.lastScrollPosition;if(void 0===n)return;const r=e.element.closest("ion-content"),o=yield null==r?void 0:r.getScrollElement();null==o||o.scrollTo({top:n})}))()}ready(){var e=this;return(0,o.A)((function*(){yield e.onReadyPromise}))()}}return(e=CoreLoadingComponent).ɵfac=function CoreLoadingComponent_Factory(n){return new(n||e)(b.rXU(b.aKT))},e.ɵcmp=b.VBU({type:e,selectors:[["core-loading"]],hostVars:7,hostBindings:function CoreLoadingComponent_HostBindings(e,n){2&e&&(b.BMQ("aria-busy",n.ariaBusy),b.xc7("--loading-inline-min-height",n.minHeight),b.AVh("core-loading-inline",n.inlineClass)("core-loading-loaded",n.loadedClass))},inputs:{hideUntil:[b.Mj6.HasDecoratorInputTransform,"hideUntil","hideUntil",g.G],message:"message",fullscreen:[b.Mj6.HasDecoratorInputTransform,"fullscreen","fullscreen",g.G],placeholderType:"placeholderType",placeholderWidth:"placeholderWidth",placeholderHeight:"placeholderHeight",placeholderLimit:"placeholderLimit"},standalone:!0,features:[b.GFd,b.OA$,b.aNF],ngContentSelectors:E,decls:2,vars:2,consts:[["role","status",1,"core-loading-container"],["aria-hidden","true"],["role","status",1,"core-loading-message"],["slot","start"],[3,"animated"],[2,"width","80%",3,"animated"],[2,"width","60%",3,"animated"],[1,"large-avatar","ion-text-center","round",3,"animated"],[1,"placeholder-element",3,"animated","ngStyle"]],template:function CoreLoadingComponent_Template(e,n){1&e&&(b.NAR(_),b.DNE(0,CoreLoadingComponent_Conditional_0_Template,3,3,"div",0)(1,CoreLoadingComponent_Conditional_1_Template,1,0)),2&e&&(b.vxM(0,n.hideUntil?-1:0),b.R7$(),b.vxM(1,n.loaded?1:-1))},dependencies:[v.V,w.B3,A.mC,A.uz,A.he,A.ds,A.w2,C.O],styles:["[_nghost-%COMP%]{--loading-background: var(--ion-background-color);--loading-background-inline: var(--ion-background-color-rgb);--loading-spinner: var(--core-loading-spinner);--loading-text-color: var(--ion-text-color);--loading-inline-margin: 0px;--loading-inline-min-height: 28px;--internal-loading-inline-min-height: var(--loading-inline-min-height);--loading-display: flex;--loading-display-message: block;--contents-display: block;--loading-placeholder-direction: column;--loading-placeholder-justify: flex-start;--loading-placeholder-align-items: center;--loading-placeholder-align-content: center;--loading-placeholder-wrap: nowrap;--loading-placeholder-gap: 16px;--loading-placeholder-padding: 16px;--loading-placeholder-margin: 0px;--loading-placeholder-max-height: none;--loading-placeholder-element-radius: var(--mdl-shape-borderRadius-md);--loading-placeholder-element-width: 100px;--loading-placeholder-element-height: 100px;--loading-placeholder-element-column-width: 100%;--placeholder-color: var(--gray-500);--placeholder-highlight: var(--loading-background);transition:all .2s ease-in-out;display:var(--contents-display)}.core-loading-loaded[_nghost-%COMP%]{position:static;--contents-display: contents;--internal-loading-inline-min-height: 0px}.core-loading-loaded.has-spacer[_nghost-%COMP%]{--contents-display: flex;min-height:100%;flex-direction:column}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;pointer-events:all;position:absolute;left:0;right:0;top:0;bottom:0;height:100%;width:100%;z-index:100;margin:0;padding:0;color:var(--loading-text-color);background-color:var(--loading-background);transition:all .2s ease-in-out;display:var(--loading-display);justify-content:center;align-items:center;flex-direction:column}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .core-loading-message[_ngcontent-%COMP%]{margin:16px 0 0;display:var(--loading-display-message)}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{--color: var(--loading-spinner);color:var(--color)}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;height:100%;width:100%;overflow:hidden;display:flex;flex-direction:var(--loading-placeholder-direction);flex-wrap:var(--loading-placeholder-wrap);gap:var(--loading-placeholder-gap);padding:var(--loading-placeholder-padding);margin:var(--loading-placeholder-margin);justify-content:var(--loading-placeholder-justify);align-items:var(--loading-placeholder-align-items);align-content:var(--loading-placeholder-align-content);max-height:var(--loading-placeholder-max-height)}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.row[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.rowwrap[_ngcontent-%COMP%]{--loading-placeholder-direction: row}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.column[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.columnwrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.free[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.imageandboxes[_ngcontent-%COMP%]{--loading-placeholder-element-width: var(--loading-placeholder-element-column-width);--loading-placeholder-direction: column}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.rowwrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.columnwrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.free[_ngcontent-%COMP%]{--loading-placeholder-wrap: wrap}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithavatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithicon[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.free[_ngcontent-%COMP%]{--loading-placeholder-gap: 0px;--loading-placeholder-padding: 0px}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithavatar[_ngcontent-%COMP%]     ion-avatar ion-skeleton-text, [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithicon[_ngcontent-%COMP%]     ion-avatar ion-skeleton-text, [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.free[_ngcontent-%COMP%]     ion-avatar ion-skeleton-text{--loading-placeholder-element-radius: 100%}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithavatar[_ngcontent-%COMP%]     ion-skeleton-text, [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithicon[_ngcontent-%COMP%]     ion-skeleton-text, [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.free[_ngcontent-%COMP%]     ion-skeleton-text{border-radius:var(--loading-placeholder-element-radius)}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithavatar[_ngcontent-%COMP%]    >*, [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.listwithicon[_ngcontent-%COMP%]    >*, [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder.free[_ngcontent-%COMP%]    >*{width:var(--loading-placeholder-element-column-width);flex-shrink:0}[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]   ion-skeleton-text.placeholder-element[_ngcontent-%COMP%]{flex-shrink:0;margin:0;width:var(--loading-placeholder-element-width);height:var(--loading-placeholder-element-height);border-radius:var(--loading-placeholder-element-radius)}.core-loading-inline[_nghost-%COMP%]:not(.core-loading-loaded){min-height:calc(var(--internal-loading-inline-min-height) + 32px);width:100%;position:relative}.core-loading-inline[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]{--loading-background: rgba(var(--loading-background-inline), .4);flex-direction:row;height:auto}.core-loading-inline[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .core-loading-message[_ngcontent-%COMP%]{margin-inline-start:16px;margin-inline-end:0px;margin-top:0;margin-bottom:0}ion-item[_nghost-%COMP%]:not(.core-loading-loaded), ion-item   [_nghost-%COMP%]:not(.core-loading-loaded), core-block[_nghost-%COMP%]:not(.core-loading-loaded), core-block   [_nghost-%COMP%]:not(.core-loading-loaded){min-height:calc(var(--internal-loading-inline-min-height) + 32px);width:100%;position:relative}ion-item[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%], ion-item   [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%], core-block[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%], core-block   [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]{--loading-background: rgba(var(--loading-background-inline), .4);flex-direction:row;height:auto}ion-item[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .core-loading-message[_ngcontent-%COMP%], ion-item   [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .core-loading-message[_ngcontent-%COMP%], core-block[_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .core-loading-message[_ngcontent-%COMP%], core-block   [_nghost-%COMP%]   .core-loading-container[_ngcontent-%COMP%]   .core-loading-message[_ngcontent-%COMP%]{margin-inline-start:16px;margin-inline-end:0px;margin-top:0;margin-bottom:0}@keyframes _ngcontent-%COMP%_core-loading{0%{background-position:200% 0}to{background-position:-200% 0}}"],data:{animation:[s.d.SHOW_HIDE]}}),CoreLoadingComponent})()},50016:(e,n,r)=>{"use strict";r.d(n,{a:()=>B});var o=r(10467),i=r(54438),s=r(45507),a=r(88436),c=r(52749),u=r(12364),p=r(75383),f=r(24742),g=r(86552),v=r(63153),C=r(8756),b=r(18022),w=r(91416),A=r(33014),_=r(87809),E=r(79555),I=r(25572),T=r(2469),P=r(8199),k=r(69901),x=r(86198),F=r(98128),R=r(43570),N=r(89417),L=r(2910),H=r(73955);const U=["nameForm"];function CoreLocalFileComponent_Conditional_6_Conditional_4_Conditional_1_Template(e,n){if(1&e&&i.EFF(0),2&e){const e=i.XpG(3);i.SpI(" ",e.size," ")}}function CoreLocalFileComponent_Conditional_6_Conditional_4_Conditional_2_Template(e,n){1&e&&i.EFF(0," · ")}function CoreLocalFileComponent_Conditional_6_Conditional_4_Conditional_3_Template(e,n){if(1&e&&i.EFF(0),2&e){const e=i.XpG(3);i.SpI(" ",e.timemodified," ")}}function CoreLocalFileComponent_Conditional_6_Conditional_4_Template(e,n){if(1&e&&(i.j41(0,"p"),i.DNE(1,CoreLocalFileComponent_Conditional_6_Conditional_4_Conditional_1_Template,1,1)(2,CoreLocalFileComponent_Conditional_6_Conditional_4_Conditional_2_Template,1,0)(3,CoreLocalFileComponent_Conditional_6_Conditional_4_Conditional_3_Template,1,1),i.k0s()),2&e){const e=i.XpG(2);i.R7$(),i.vxM(1,e.size?1:-1),i.R7$(),i.vxM(2,e.size&&e.timemodified?2:-1),i.R7$(),i.vxM(3,e.timemodified?3:-1)}}function CoreLocalFileComponent_Conditional_6_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-label")(1,"p",8)(2,"span",9),i.bIt("ariaButtonClick",(function CoreLocalFileComponent_Conditional_6_Template_span_ariaButtonClick_2_listener(n){i.eBV(e);const r=i.XpG();return i.Njj(r.openFile(n))})),i.EFF(3),i.k0s()(),i.DNE(4,CoreLocalFileComponent_Conditional_6_Conditional_4_Template,4,3,"p"),i.k0s()}if(2&e){const e=i.XpG();i.R7$(3),i.JRh(e.fileName),i.R7$(),i.vxM(4,e.size||e.timemodified?4:-1)}}function CoreLocalFileComponent_Conditional_7_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-input",10),i.nI1(1,"translate"),i.nI1(2,"translate"),i.bIt("click",(function CoreLocalFileComponent_Conditional_7_Template_ion_input_click_0_listener(n){return i.eBV(e),i.Njj(n.stopPropagation())})),i.mxI("ngModelChange",(function CoreLocalFileComponent_Conditional_7_Template_ion_input_ngModelChange_0_listener(n){i.eBV(e);const r=i.XpG();return i.DH7(r.newFileName,n)||(r.newFileName=n),i.Njj(n)})),i.k0s()}if(2&e){const e=i.XpG();i.Y8G("placeholder",i.bMT(1,3,"core.filename")),i.R50("ngModel",e.newFileName),i.Y8G("ariaLabel",i.bMT(2,5,"core.filename"))}}function CoreLocalFileComponent_Conditional_9_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",11),i.nI1(1,"translate"),i.bIt("click",(function CoreLocalFileComponent_Conditional_9_Template_ion_button_click_0_listener(n){i.eBV(e);const r=i.XpG();return i.Njj(r.openFile(n,!0))})),i.nrm(2,"ion-icon",12),i.k0s()}if(2&e){const e=i.XpG();i.Y8G("ariaLabel",i.bMT(1,2,e.openButtonLabel)),i.R7$(2),i.Y8G("name",e.openButtonIcon)}}function CoreLocalFileComponent_Conditional_10_Conditional_0_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",14),i.nI1(1,"translate"),i.bIt("click",(function CoreLocalFileComponent_Conditional_10_Conditional_0_Template_ion_button_click_0_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.changeName(r.newFileName,n))})),i.nrm(2,"ion-icon",15),i.k0s()}2&e&&i.Y8G("ariaLabel",i.bMT(1,1,"core.save"))}function CoreLocalFileComponent_Conditional_10_Conditional_1_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",16),i.nI1(1,"translate"),i.bIt("onClick",(function CoreLocalFileComponent_Conditional_10_Conditional_1_Template_ion_button_onClick_0_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.activateEdit(n))})),i.nrm(2,"ion-icon",17),i.k0s(),i.j41(3,"ion-button",18),i.nI1(4,"translate"),i.bIt("click",(function CoreLocalFileComponent_Conditional_10_Conditional_1_Template_ion_button_click_3_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.deleteFile(n))})),i.nrm(5,"ion-icon",19),i.k0s()}2&e&&(i.Y8G("ariaLabel",i.bMT(1,2,"core.edit")),i.R7$(3),i.Y8G("ariaLabel",i.bMT(4,4,"core.delete")))}function CoreLocalFileComponent_Conditional_10_Template(e,n){if(1&e&&i.DNE(0,CoreLocalFileComponent_Conditional_10_Conditional_0_Template,3,3,"ion-button",13)(1,CoreLocalFileComponent_Conditional_10_Conditional_1_Template,6,6),2&e){const e=i.XpG();i.vxM(0,e.editMode?0:1)}}let B=(()=>{var e;class CoreLocalFileComponent{constructor(){this.manage=!1,this.overrideClick=!1,this.onDelete=new i.bkB,this.onRename=new i.bkB,this.onClick=new i.bkB,this.newFileName="",this.editMode=!1,this.relativePath="",this.isIOS=!1,this.openButtonIcon="",this.openButtonLabel="",this.defaultIsOpenWithPicker=!1}ngOnInit(){var e=this;return(0,o.A)((function*(){if(!e.file)return;e.loadFileBasicData(e.file);const n=yield s.CoreFile.getMetadata(e.file);n.size>=0&&(e.size=p.Ni.bytesToSize(n.size,2)),e.timemodified=f.j.userDate(n.modificationTime.getTime(),"core.strftimedatetimeshort"),e.isIOS=b.CorePlatform.isIOS(),e.defaultIsOpenWithPicker=a.CoreFileHelper.defaultIsOpenWithPicker(),e.openButtonIcon=e.defaultIsOpenWithPicker?"fas-file":"fas-share-from-square",e.openButtonLabel=e.defaultIsOpenWithPicker?"core.openfile":"core.share"}))()}loadFileBasicData(e){this.fileName=e.name,this.fileIcon=u.A.getFileIcon(e.name,c.CoreSites.getCurrentSite()),this.fileExtension=u.A.getFileExtension(e.name),this.relativePath=s.CoreFile.removeBasePath(s.CoreFile.getFileEntryURL(e)),this.relativePath||(this.relativePath=e.fullPath)}openFile(e,n=!1){var r=this;return(0,o.A)((function*(){if(r.editMode||!r.file)return;if(e.preventDefault(),e.stopPropagation(),!n&&r.overrideClick&&r.onClick.observed)return r.onClick.emit(),void 0;if(!a.CoreFileHelper.isOpenableInApp(r.file))try{yield a.CoreFileHelper.showConfirmOpenUnsupportedFile(!1,r.file)}catch(e){return}const o={};n&&(o.iOSOpenFileAction=r.defaultIsOpenWithPicker?g.n.OPEN:g.n.OPEN_WITH),g.j.openFile(s.CoreFile.getFileEntryURL(r.file),o)}))()}activateEdit(e){this.file&&(e.preventDefault(),e.stopPropagation(),this.editMode=!0,this.newFileName=this.file.name)}changeName(e,n){var r=this;return(0,o.A)((function*(){if(!r.file)return;if(n.preventDefault(),n.stopPropagation(),e==r.file.name)return r.editMode=!1,v.R.triggerFormCancelledEvent(r.formElement,c.CoreSites.getCurrentSiteId()),void 0;const o=yield A.CoreLoadings.show(),i=_.H.getFileAndDirectoryFromPath(r.relativePath),a=C.$.concatenatePaths(i.directory,e);try{yield s.CoreFile.getFile(a),I.CoreAlerts.showError(E.HT.instant("core.errorfileexistssamename"))}catch{try{const e=yield s.CoreFile.moveFile(r.relativePath,a);v.R.triggerFormSubmittedEvent(r.formElement,!1,c.CoreSites.getCurrentSiteId()),r.editMode=!1,r.file=e,r.loadFileBasicData(r.file),r.onRename.emit({file:r.file})}catch(e){I.CoreAlerts.showError(e,{default:E.HT.instant("core.errorrenamefile")})}}finally{o.dismiss()}}))()}deleteFile(e){var n=this;return(0,o.A)((function*(){let r;e.preventDefault(),e.stopPropagation();try{yield I.CoreAlerts.confirmDelete(E.HT.instant("core.confirmdeletefile")),r=yield A.CoreLoadings.show("core.deleting",!0),yield s.CoreFile.removeFile(n.relativePath),n.onDelete.emit()}catch(e){I.CoreAlerts.showError(e,{default:E.HT.instant("core.errordeletefile")})}finally{var o;null===(o=r)||void 0===o||o.dismiss()}}))()}}return(e=CoreLocalFileComponent).ɵfac=function CoreLocalFileComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-local-file"]],viewQuery:function CoreLocalFileComponent_Query(e,n){if(1&e&&i.GBs(U,5),2&e){let e;i.mGM(e=i.lsd())&&(n.formElement=e.first)}},inputs:{file:"file",manage:[i.Mj6.HasDecoratorInputTransform,"manage","manage",w.G],overrideClick:[i.Mj6.HasDecoratorInputTransform,"overrideClick","overrideClick",w.G]},outputs:{onDelete:"onDelete",onRename:"onRename",onClick:"onClick"},standalone:!0,features:[i.GFd,i.aNF],decls:12,vars:6,consts:[["nameForm",""],[3,"ngSubmit"],[1,"card-file","ion-activatable"],["tappable","",1,"ion-text-wrap","item-file",3,"click","detail"],["slot","start"],["role","presentation",3,"src","alt"],["slot","end",1,"buttons"],["fill","clear",3,"ariaLabel"],[1,"item-heading"],[3,"ariaButtonClick"],["type","text","name","filename","autocapitalize","none","autocorrect","off","core-auto-focus","",3,"click","ngModelChange","placeholder","ngModel","ariaLabel"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","aria-hidden","true",3,"name"],["fill","clear","color","success",3,"ariaLabel"],["fill","clear","color","success",3,"click","ariaLabel"],["name","fas-check","slot","icon-only","aria-hidden","true"],["fill","clear",3,"onClick","core-suppress-events","ariaLabel"],["name","fas-pen","slot","icon-only","aria-hidden","true"],["fill","clear","color","danger",3,"click","ariaLabel"],["name","fas-trash","slot","icon-only","aria-hidden","true"]],template:function CoreLocalFileComponent_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"form",1,0),i.bIt("ngSubmit",(function CoreLocalFileComponent_Template_form_ngSubmit_0_listener(r){return i.eBV(e),i.Njj(n.changeName(n.newFileName,r))})),i.j41(2,"ion-card",2)(3,"ion-item",3),i.bIt("click",(function CoreLocalFileComponent_Template_ion_item_click_3_listener(r){return i.eBV(e),i.Njj(n.openFile(r))})),i.j41(4,"ion-thumbnail",4),i.nrm(5,"img",5),i.k0s(),i.DNE(6,CoreLocalFileComponent_Conditional_6_Template,5,2,"ion-label")(7,CoreLocalFileComponent_Conditional_7_Template,3,7),i.j41(8,"div",6),i.DNE(9,CoreLocalFileComponent_Conditional_9_Template,3,4,"ion-button",7)(10,CoreLocalFileComponent_Conditional_10_Template,2,1),i.k0s()(),i.nrm(11,"ion-ripple-effect"),i.k0s()()}2&e&&(i.R7$(3),i.Y8G("detail",!1),i.R7$(2),i.Y8G("src",n.fileIcon,i.B4B)("alt",n.fileExtension),i.R7$(),i.vxM(6,n.editMode?7:6),i.R7$(3),i.vxM(9,n.isIOS&&!n.editMode?9:-1),i.R7$(),i.vxM(10,n.manage?10:-1))},dependencies:[T.V,N.qT,N.BC,N.cb,N.vS,N.cV,L.Jm,L.b_,L.iq,L.$w,L.uz,L.he,L.S7,L.Zx,L.Gw,H.D9,P.a,k.i,R.T,x.t,F.t],styles:["[_nghost-%COMP%]   ion-ripple-effect[_ngcontent-%COMP%]{z-index:1}"]}),CoreLocalFileComponent})()},17778:(e,n,r)=>{"use strict";r.d(n,{j:()=>v});var o=r(91416),i=r(75383),s=r(79555),a=r(2469),c=r(86198),u=r(54438),p=r(2910);const f=["core-mark-required",""],g=["*"];function CoreMarkRequiredComponent_Conditional_1_Template(e,n){if(1&e&&u.nrm(0,"ion-icon",0),2&e){const e=u.XpG();u.BMQ("aria-label",e.requiredLabel)}}let v=(()=>{var e;class CoreMarkRequiredComponent{constructor(e){this.coreMarkRequired=!0,this.requiredLabel=s.HT.instant("core.required"),this.hostElement=e.nativeElement}ngAfterViewInit(){if(this.coreMarkRequired){const e=this.hostElement.getAttribute("aria-label")||i.Ni.cleanTags(this.hostElement.innerHTML,{singleLine:!0});e&&this.hostElement.setAttribute("aria-label",`${e}. ${this.requiredLabel}`)}else{const e=this.hostElement.getAttribute("aria-label");e&&this.hostElement.setAttribute("aria-label",e.replace(`. ${this.requiredLabel}`,""))}const e=this.hostElement.closest("ion-input, ion-textarea");null==e||e.setAttribute("required",this.coreMarkRequired?"true":"false")}}return(e=CoreMarkRequiredComponent).ɵfac=function CoreMarkRequiredComponent_Factory(n){return new(n||e)(u.rXU(u.aKT))},e.ɵcmp=u.VBU({type:e,selectors:[["","core-mark-required",""]],inputs:{coreMarkRequired:[u.Mj6.HasDecoratorInputTransform,"core-mark-required","coreMarkRequired",o.G]},standalone:!0,features:[u.GFd,u.aNF],attrs:f,ngContentSelectors:g,decls:2,vars:1,consts:[["name","fas-circle-exclamation","color","danger",1,"core-input-required-asterisk"]],template:function CoreMarkRequiredComponent_Template(e,n){1&e&&(u.NAR(),u.SdG(0),u.DNE(1,CoreMarkRequiredComponent_Conditional_1_Template,1,1,"ion-icon",0)),2&e&&(u.R7$(),u.vxM(1,n.coreMarkRequired?1:-1))},dependencies:[a.V,p.iq,c.t],styles:["[_nghost-%COMP%]   .core-input-required-asterisk[_ngcontent-%COMP%]{vertical-align:top;padding-inline-start:4px}"]}),CoreMarkRequiredComponent})()},28042:(e,n,r)=>{"use strict";r.d(n,{A:()=>E});var o=r(10467),i=r(54438),s=r(89818),a=r(52749),c=r(75383),u=r(16658),p=r(91416),f=r(2469),g=r(86198),v=r(58197),C=r(77199),b=r(43570),w=r(59528),A=r(2910),_=r(73955);function CoreMessageComponent_Conditional_0_Conditional_2_Template(e,n){if(1&e&&(i.j41(0,"div",3),i.nrm(1,"core-user-avatar",10),i.j41(2,"div"),i.EFF(3),i.k0s()()),2&e){const e=i.XpG(2);i.R7$(),i.Y8G("user",e.user)("courseId",e.courseId)("linkProfile",!1),i.R7$(2),i.JRh(e.userFullname)}}function CoreMessageComponent_Conditional_0_Conditional_3_Template(e,n){if(1&e&&(i.j41(0,"div",11),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&e){const e=i.XpG(2);i.R7$(),i.SpI(" ",e.isMine?i.bMT(2,1,"addon.messages.you"):e.userFullname," ")}}function CoreMessageComponent_Conditional_0_Conditional_7_Template(e,n){1&e&&(i.nrm(0,"ion-icon",7),i.nI1(1,"translate")),2&e&&i.BMQ("aria-label",i.bMT(1,1,"core.notsent"))}function CoreMessageComponent_Conditional_0_Conditional_8_Conditional_0_Template(e,n){1&e&&(i.nrm(0,"ion-icon",12),i.j41(1,"span",13),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&e&&(i.R7$(2),i.JRh(i.bMT(3,1,"core.deletedoffline")))}function CoreMessageComponent_Conditional_0_Conditional_8_Conditional_1_Template(e,n){if(1&e&&(i.EFF(0),i.nI1(1,"coreFormatDate")),2&e){const e=i.XpG(3);i.SpI(" ",i.i5U(1,1,e.time,"strftimetime")," ")}}function CoreMessageComponent_Conditional_0_Conditional_8_Template(e,n){if(1&e&&i.DNE(0,CoreMessageComponent_Conditional_0_Conditional_8_Conditional_0_Template,4,3)(1,CoreMessageComponent_Conditional_0_Conditional_8_Conditional_1_Template,2,4),2&e){const e=i.XpG(2);i.vxM(0,e.message.deleted?0:1)}}function CoreMessageComponent_Conditional_0_Conditional_9_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",14),i.nI1(1,"translate"),i.bIt("click",(function CoreMessageComponent_Conditional_0_Conditional_9_Template_ion_button_click_0_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.delete(n))})),i.nrm(2,"ion-icon",15),i.k0s()}2&e&&i.Y8G("@coreSlideInOut","fromRight")("ariaLabel",i.bMT(1,2,"addon.messages.deletemessage"))}function CoreMessageComponent_Conditional_0_Conditional_10_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-button",14),i.nI1(1,"translate"),i.bIt("click",(function CoreMessageComponent_Conditional_0_Conditional_10_Template_ion_button_click_0_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.undoDelete(n))})),i.nrm(2,"ion-icon",16),i.k0s()}2&e&&i.Y8G("@coreSlideInOut","fromRight")("ariaLabel",i.bMT(1,2,"core.restore"))}function CoreMessageComponent_Conditional_0_Conditional_11_Template(e,n){1&e&&i.nrm(0,"div",9)}function CoreMessageComponent_Conditional_0_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"div",1),i.bIt("longPress",(function CoreMessageComponent_Conditional_0_Template_div_longPress_0_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.copyMessage())})),i.j41(1,"div",2),i.DNE(2,CoreMessageComponent_Conditional_0_Conditional_2_Template,4,4,"div",3)(3,CoreMessageComponent_Conditional_0_Conditional_3_Template,3,3),i.j41(4,"core-format-text",4),i.bIt("afterRender",(function CoreMessageComponent_Conditional_0_Template_core_format_text_afterRender_4_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.afterRender.emit())})),i.k0s()(),i.j41(5,"div",5)(6,"div",6),i.DNE(7,CoreMessageComponent_Conditional_0_Conditional_7_Template,2,3,"ion-icon",7)(8,CoreMessageComponent_Conditional_0_Conditional_8_Template,2,1),i.k0s(),i.DNE(9,CoreMessageComponent_Conditional_0_Conditional_9_Template,3,4,"ion-button",8)(10,CoreMessageComponent_Conditional_0_Conditional_10_Template,3,4,"ion-button",8),i.k0s(),i.DNE(11,CoreMessageComponent_Conditional_0_Conditional_11_Template,1,0,"div",9),i.k0s()}if(2&e){const e=i.XpG();i.R7$(2),i.vxM(2,e.message.showUserData?2:3),i.R7$(2),i.Y8G("text",e.text)("contextLevel",e.contextLevel)("contextInstanceId",e.instanceId)("courseId",e.courseId)("sanitize",e.message.pending),i.R7$(3),i.vxM(7,e.message.pending?7:8),i.R7$(2),i.vxM(9,e.showDelete&&!e.message.deleted&&!1!==e.message.delete?9:-1),i.R7$(),i.vxM(10,e.showDelete&&e.message.deleted?10:-1),i.R7$(),i.vxM(11,e.message.showTail?11:-1)}}let E=(()=>{var e;class CoreMessageComponent{constructor(){this.text="",this.time=0,this.instanceId=0,this.contextLevel="system",this.showDelete=!1,this.onDeleteMessage=new i.bkB,this.onUndoDeleteMessage=new i.bkB,this.afterRender=new i.bkB,this.deleted=!1,this.isMine=!1}get animation(){return this.isMine?"":"fromLeft"}get showUser(){var e;return!(null!==(e=this.message)&&void 0!==e&&e.showUserData)}get userId(){return this.user&&(this.user.userid||this.user.id)}get userFullname(){return this.user&&(this.user.fullname||this.user.userfullname)}ngOnInit(){var e=this;return(0,o.A)((function*(){const n=a.CoreSites.getCurrentSiteUserId();e.isMine=e.userId===n}))()}delete(e){e.preventDefault(),e.stopPropagation(),this.onDeleteMessage.emit()}undoDelete(e){e.preventDefault(),e.stopPropagation(),this.onUndoDeleteMessage.emit()}copyMessage(){c.Ni.copyToClipboard(c.Ni.decodeHTMLEntities(this.text))}}return(e=CoreMessageComponent).ɵfac=function CoreMessageComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-message"]],hostVars:5,hostBindings:function CoreMessageComponent_HostBindings(e,n){2&e&&(i.zvX("@coreSlideInOut",n.animation),i.AVh("is-mine",n.isMine)("no-user",n.showUser))},inputs:{message:"message",user:"user",text:"text",time:"time",instanceId:"instanceId",courseId:"courseId",contextLevel:"contextLevel",showDelete:[i.Mj6.HasDecoratorInputTransform,"showDelete","showDelete",p.G]},outputs:{onDeleteMessage:"onDeleteMessage",onUndoDeleteMessage:"onUndoDeleteMessage",afterRender:"afterRender"},standalone:!0,features:[i.GFd,i.aNF],decls:1,vars:1,consts:[[1,"message-box"],[1,"message-box",3,"longPress"],[1,"main"],[1,"message-user"],[1,"message-text",3,"afterRender","text","contextLevel","contextInstanceId","courseId","sanitize"],[1,"extra"],[1,"message-time"],["name","fas-clock","role","status"],["fill","clear","color","danger",1,"delete-button",3,"ariaLabel"],[1,"tail"],["slot","start","aria-hidden","true",3,"user","courseId","linkProfile"],[1,"sr-only"],["name","fas-trash","aria-hidden","true"],[1,"ion-text-wrap"],["fill","clear","color","danger",1,"delete-button",3,"click","ariaLabel"],["name","fas-trash","slot","icon-only","aria-hidden","true"],["name","fas-rotate-left","slot","icon-only","aria-hidden","true"]],template:function CoreMessageComponent_Template(e,n){1&e&&i.DNE(0,CoreMessageComponent_Conditional_0_Template,12,10,"div",0),2&e&&i.vxM(0,n.message?0:-1)},dependencies:[f.V,A.Jm,A.iq,_.D9,C.S,u.T,v.B,g.t,b.T,w.f],styles:['[_nghost-%COMP%]{--message-background: var(--core-messages-message-bg);--message-activated-background: var(--core-messages-message-activated-bg);--message-alignment: flex-start;display:flex;justify-content:var(--message-alignment)}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]{--background: var(--message-background);--min-height: var(--a11y-sizing-minTargetSize);display:flex;flex-direction:row;position:relative;border:0;border-radius:var(--mdl-shape-borderRadius-sm);margin:8px;width:90%;max-width:var(--list-item-max-width);min-height:36px;font-size:var(--text-size);color:var(--ion-text-color);background:var(--message-background);transition:width .5s ease-in-out;overflow:visible}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]:hover{filter:drop-shadow(2px 2px 2px rgba(0,0,0,.3))}[_nghost-%COMP%]   .message-box[tappable][_ngcontent-%COMP%]:active{--message-background: var(--message-activated-background)}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{padding:8px;flex-grow:1;overflow:hidden}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .message-user[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:.5rem;margin-top:0;color:var(--ion-text-color)}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .message-user[_ngcontent-%COMP%]   core-user-avatar[_ngcontent-%COMP%]{display:block;--core-avatar-size: var(--core-messages-avatar-size);margin:0}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .message-user[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-grow:1;padding-left:.5rem;padding-right:.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:var(--mdl-typography-subtitle-font-md)}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]    >p:only-child{display:inline;margin:0}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-direction:row;padding-left:8px;padding-right:8px}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{padding-top:8px;color:var(--core-messages-message-note-text);font-size:var(--core-messages-message-note-font-size)}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{min-height:36px;line-height:initial;margin:0;align-self:flex-end}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]     ion-icon{font-size:1.2em}[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{content:"";width:0;height:0;border:.5rem solid transparent;position:absolute;touch-action:none;bottom:0;border-bottom-color:var(--message-background)}@supports (inset-inline-start: 0){[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{inset-inline-start:-8px}}@supports not (inset-inline-start: 0){[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{left:-8px}[dir=rtl][_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{left:unset;right:unset;right:-8px}@supports selector(:dir(rtl)){[_nghost-%COMP%]:dir(rtl)   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{left:unset;right:unset;right:-8px}}}.no-user[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]{margin-top:0}.is-mine[_nghost-%COMP%]{--message-background: var(--core-messages-message-mine-bg);--message-activated-background: var(--core-messages-message-mine-activated-bg);--message-alignment: flex-end}@supports (inset-inline-start: 0){.is-mine[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{inset-inline-start:unset;inset-inline-end:-8px}}@supports not (inset-inline-start: 0){.is-mine[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{left:unset;right:-8px}[dir=rtl].is-mine[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%], [dir=rtl]   .is-mine[_nghost-%COMP%]   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{left:unset;left:-8px;right:unset}@supports selector(:dir(rtl)){[_nghost-%COMP%]:dir(rtl).is-mine   .message-box[_ngcontent-%COMP%]   .tail[_ngcontent-%COMP%]{left:unset;left:-8px;right:unset}}}'],data:{animation:[s.d.SLIDE_IN_OUT]}}),CoreMessageComponent})()},32572:(e,n,r)=>{"use strict";r.d(n,{I:()=>C});var o=r(10467),i=r(91416),s=r(54438),a=r(95384),c=r(97086),u=r(52749),p=r(75383),f=r(8014),g=r(2469),v=r(10892);function CoreModIconComponent_Conditional_0_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"img",1),s.bIt("error",(function CoreModIconComponent_Conditional_0_Template_img_error_0_listener(){s.eBV(e);const n=s.XpG();return s.Njj(n.loadFallbackIcon())})),s.k0s()}if(2&e){const e=s.XpG();s.Y8G("src",e.iconUrl(),s.B4B)}}function CoreModIconComponent_Conditional_1_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"img",2),s.bIt("error",(function CoreModIconComponent_Conditional_1_Template_img_error_0_listener(){s.eBV(e);const n=s.XpG();return s.Njj(n.loadFallbackIcon())})),s.k0s()}if(2&e){const e=s.XpG();s.Y8G("url",e.iconUrl())("component",e.linkIconWithComponent()?e.modname:null)("componentId",e.linkIconWithComponent()?e.componentId:null)}}let C=(()=>{var e;class CoreModIconComponent{get getRole(){return this.showAlt?"img":"presentation"}get getAriaLabel(){return this.showAlt?this.modNameTranslated():""}constructor(e){this.modname="",this.fallbackTranslation="",this.showAlt=!0,this.purpose="other",this.colorize=!0,this.isBranded=!1,this.iconUrl=(0,s.vPA)(""),this.modNameTranslated=(0,s.vPA)(""),this.isLocalUrl=(0,s.vPA)(!1),this.linkIconWithComponent=(0,s.vPA)(!1),this.iconVersion="version_legacy",this.purposeClass="",this.element=e.nativeElement}ngOnInit(){var e=this;return(0,o.A)((function*(){e.iconVersion=e.getIconVersion(),e.element.classList.add(e.iconVersion),!e.modname&&e.modicon&&(e.modname=e.getComponentNameFromIconUrl(e.modicon)),e.modNameTranslated.set(a.CoreCourseModuleHelper.translateModuleName(e.modname,e.fallbackTranslation)),e.setPurposeClass(),yield e.setIcon()}))()}ngOnChanges(e){var n=this;return(0,o.A)((function*(){e&&e.modicon&&void 0!==e.modicon.previousValue&&(yield n.setIcon())}))()}setBrandedClass(){var e=this;return(0,o.A)((function*(){if(!e.colorize)return e.brandedClass=!1,void 0;if("version_legacy"===e.iconVersion)return e.brandedClass=!1,e.colorize=!1,void 0;if(e.brandedClass=e.isBranded,"version_40"===e.iconVersion&&"bigbluebuttonbn"===e.modname)return e.brandedClass=!0,void 0;var n;if(!e.iconUrl()||e.isLocalUrl())return null!==(n=e.brandedClass)&&void 0!==n?n:e.brandedClass=!1,void 0;if(e.iconUrl.update((e=>p.Ni.decodeHTMLEntities(e))),void 0===e.brandedClass){if(f.F.isThemeImageUrl(e.iconUrl())){var r;if("1"===f.F.getThemeImageUrlParam(e.iconUrl(),"filtericon"))return e.brandedClass=!1,void 0;if(e.modname&&(null===(r=u.CoreSites.getCurrentSite())||void 0===r||!r.isVersionGreaterEqualThan(["4.0.8","4.1.3","4.2"]))&&e.getComponentNameFromIconUrl(e.iconUrl())===e.modname)return e.brandedClass=!1,void 0}e.brandedClass=!0}}))()}setIcon(){var e=this;return(0,o.A)((function*(){if(e.iconUrl.update((n=>e.modicon||n)),!e.iconUrl())return e.loadFallbackIcon(),e.setBrandedClass(),void 0;e.isLocalUrl.set(e.iconUrl().startsWith("assets/img/")),e.linkIconWithComponent.set(!!e.modname&&!!e.componentId&&!e.isLocalUrl()&&e.getComponentNameFromIconUrl(e.iconUrl())!=e.modname),e.setBrandedClass()}))()}loadFallbackIcon(){var e=this;return(0,o.A)((function*(){if(e.isLocalUrl())return;e.isLocalUrl.set(!0),e.linkIconWithComponent.set(!1);const n=e.modname&&a.CoreCourseModuleHelper.isCoreModule(e.modname)?e.modname:"external-tool",r=a.CoreCourseModuleHelper.getModuleIconsPath();e.iconUrl.set(`${r+n}.svg`)}))()}getComponentNameFromIconUrl(e){const n=f.F.getThemeImageUrlParam(e,"component");return"core"===n||"theme"===n?"":n.startsWith("mod_")?n.substring(4):n}setPurposeClass(){"version_legacy"!==this.iconVersion&&(this.purposeClass=c.CoreCourseModuleDelegate.supportsFeature(this.modname||"","mod_purpose",this.purpose),"version_40"===this.iconVersion&&("interactivecontent"===this.purposeClass&&(this.purposeClass="content"),"lti"===this.modname&&(this.purposeClass="content")),this.purposeClass&&this.element.classList.add(this.purposeClass))}getIconVersion(){var e,n;return null!==(e=u.CoreSites.getCurrentSite())&&void 0!==e&&e.isVersionGreaterEqualThan("4.0")?null!==(n=u.CoreSites.getCurrentSite())&&void 0!==n&&n.isVersionGreaterEqualThan("4.4")?"version_current":"version_40":"version_legacy"}}return(e=CoreModIconComponent).ɵfac=function CoreModIconComponent_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵcmp=s.VBU({type:e,selectors:[["core-mod-icon"]],hostVars:6,hostBindings:function CoreModIconComponent_HostBindings(e,n){2&e&&(s.BMQ("role",n.getRole)("aria-label",n.getAriaLabel),s.AVh("colorize",n.colorize)("branded",n.brandedClass))},inputs:{modname:"modname",fallbackTranslation:"fallbackTranslation",componentId:"componentId",modicon:"modicon",showAlt:[s.Mj6.HasDecoratorInputTransform,"showAlt","showAlt",i.G],purpose:"purpose",colorize:[s.Mj6.HasDecoratorInputTransform,"colorize","colorize",i.G],isBranded:[s.Mj6.HasDecoratorInputTransform,"isBranded","isBranded",i.G]},standalone:!0,features:[s.GFd,s.OA$,s.aNF],decls:2,vars:1,consts:[["alt","","aria-hidden","true",3,"src"],["alt","","aria-hidden","true",3,"error","src"],["core-external-content","","alt","","aria-hidden","true",3,"error","url","component","componentId"]],template:function CoreModIconComponent_Template(e,n){1&e&&s.DNE(0,CoreModIconComponent_Conditional_0_Template,1,1,"img",0)(1,CoreModIconComponent_Conditional_1_Template,1,3),2&e&&s.vxM(0,n.isLocalUrl()?0:1)},dependencies:[g.V,v.l],styles:["[_nghost-%COMP%]{display:inline-block;--size: var(--module-icon-size, 32px);--padding-start: var(--module-icon-padding, 4px);--padding-top: var(--module-icon-padding, 4px);--padding-end: var(--module-icon-padding, 4px);--padding-bottom: var(--module-icon-padding, 4px);--icon-radius: var(--module-icon-radius, var(--mdl-shape-borderRadius-xs));--margin-end: 0px;--margin-vertical: 0px;min-width:calc(var(--size) + var(--padding-start) + var(--padding-end));min-height:calc(var(--size) + var(--padding-top) + var(--padding-bottom));margin-top:var(--margin-vertical);margin-bottom:var(--margin-vertical);margin-inline-start:0px;margin-inline-end:var(--margin-end);border-radius:var(--icon-radius);padding-inline-start:var(--padding-start);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);background-color:transparent;line-height:var(--size)}.colorize.version_current.administration[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:var(--activityadministration)}.colorize.version_current.assessment[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:var(--activityassessment)}.colorize.version_current.collaboration[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:var(--activitycollaboration)}.colorize.version_current.communication[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:var(--activitycommunication)}.colorize.version_current.content[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:var(--activitycontent)}.colorize.version_current.interactivecontent[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:var(--activityinteractivecontent)}.colorize.version_40[_nghost-%COMP%]{background-color:var(--gray-100)}.colorize.version_40.administration[_nghost-%COMP%]:not(.branded){background-color:var(--activity-40-administration)}.colorize.version_40.administration[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.colorize.version_40.assessment[_nghost-%COMP%]:not(.branded){background-color:var(--activity-40-assessment)}.colorize.version_40.assessment[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.colorize.version_40.collaboration[_nghost-%COMP%]:not(.branded){background-color:var(--activity-40-collaboration)}.colorize.version_40.collaboration[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.colorize.version_40.communication[_nghost-%COMP%]:not(.branded){background-color:var(--activity-40-communication)}.colorize.version_40.communication[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.colorize.version_40.content[_nghost-%COMP%]:not(.branded){background-color:var(--activity-40-content)}.colorize.version_40.content[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.colorize.version_40.interface[_nghost-%COMP%]:not(.branded){background-color:var(--activity-40-interface)}.colorize.version_40.interface[_nghost-%COMP%]:not(.branded)   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.version_40[_nghost-%COMP%], .version_legacy[_nghost-%COMP%]{--size: var(--module-legacy-icon-size, 24px);--padding-start: var(--module-legacy-icon-padding, 8px);--padding-top: var(--module-legacy-icon-padding, 8px);--padding-end: var(--module-legacy-icon-padding, 8px);--padding-bottom: var(--module-legacy-icon-padding, 8px)}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:var(--size);height:var(--size);max-width:var(--size);max-height:var(--size);min-width:var(--size);min-height:var(--size);vertical-align:top}ion-item[_nghost-%COMP%], ion-item   [_nghost-%COMP%]{--margin-vertical: 12px;--margin-end: 1rem}ion-card   ion-item[_nghost-%COMP%], ion-card   ion-item   [_nghost-%COMP%]{--margin-vertical: 12px;--margin-end: 12px}:root.dark.version_40[_nghost-%COMP%]:not(.colorize), :root.dark   .version_40[_nghost-%COMP%]:not(.colorize), :root.dark.version_current[_nghost-%COMP%], :root.dark   .version_current[_nghost-%COMP%]{background-color:var(--white)}"],changeDetection:0}),CoreModIconComponent})()},13988:(e,n,r)=>{"use strict";r.d(n,{c:()=>g});var o=r(10467),i=r(54438),s=r(6787),a=r(69502),c=r(62393),u=r(82907);const p=["contextMenuContainer"],f=["*"];let g=(()=>{var e;class CoreNavBarButtonsComponent{set hidden(e){"string"==typeof e&&""===e&&(e=!0),this.allButtonsHidden=e,this.showHideAllElements()}constructor(e){this.allButtonsHidden=!1,this.forceHidden=!1,this.element=e.nativeElement,this.logger=s.CoreLogger.getInstance("CoreNavBarButtonsComponent"),c.D.register(this.element,this)}ngOnInit(){var e=this;return(0,o.A)((function*(){try{const o=yield u.y.findIonHeaderFromElement(e.element);if(o){let i="ion-buttons",s=e.element.getAttribute("slot");!s&&e.element.parentElement&&(s=e.element.parentElement.getAttribute("slot")),s&&(i+=`[slot="${s}"]`);const a=o.querySelector(i);if(a){e.mergeContextMenus(a);const o=e.element.hasAttribute("prepend");e.movedChildren=u.y.moveChildren(e.element,a,o),e.showHideAllElements();const i=a.querySelector("core-context-menu"),s=a.querySelector("core-user-menu-button");var n,r;if(s)null==i||null===(n=i.parentElement)||void 0===n||n.insertBefore(i,s);else null==i||null===(r=i.parentElement)||void 0===r||r.appendChild(i)}else e.logger.warn("The header was found, but it didn't have the right ion-buttons.",i)}}catch(n){e.logger.error(n)}}))()}forceHide(e){this.forceHidden=e,this.showHideAllElements()}mergeContextMenus(e){const n=this.element.querySelector("core-context-menu");if(!n)return;const r=e.querySelector("core-context-menu"),o=c.D.resolve(n,a.B);let i;var s;(i=r?c.D.resolve(r,a.B):this.createMainContextMenu(),i&&o)&&(this.mergedContextMenu=o,this.mergedContextMenu.mergeContextMenus(i),null===(s=n.parentElement)||void 0===s||s.removeChild(n))}createMainContextMenu(){const e=this.container.createComponent(a.B);return this.createdMainContextMenuElement=e.location.nativeElement,e.instance}showHideAllElements(){var e;null===(e=this.movedChildren)||void 0===e||e.forEach((e=>{this.showHideElement(e)})),this.mergedContextMenu&&(this.forceHidden||this.allButtonsHidden?this.mergedContextMenu.removeMergedItems():this.mergedContextMenu.restoreMergedItems())}showHideElement(e){e instanceof Element&&e!==this.createdMainContextMenuElement&&e.classList.toggle("core-navbar-button-hidden",!!this.forceHidden||!!this.allButtonsHidden)}ngOnDestroy(){var e,n;null===(e=this.movedChildren)||void 0===e||e.forEach((e=>{e.parentElement&&e!==this.createdMainContextMenuElement&&e.parentElement.removeChild(e)})),null===(n=this.mergedContextMenu)||void 0===n||n.removeMergedItems()}}return(e=CoreNavBarButtonsComponent).ɵfac=function CoreNavBarButtonsComponent_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵcmp=i.VBU({type:e,selectors:[["core-navbar-buttons"]],viewQuery:function CoreNavBarButtonsComponent_Query(e,n){if(1&e&&i.GBs(p,5,i.c1b),2&e){let e;i.mGM(e=i.lsd())&&(n.container=e.first)}},inputs:{hidden:"hidden"},standalone:!0,features:[i.aNF],ngContentSelectors:f,decls:4,vars:0,consts:[["contextMenuContainer",""]],template:function CoreNavBarButtonsComponent_Template(e,n){1&e&&(i.NAR(),i.SdG(0),i.j41(1,"template",null,0),i.EFF(3,"-"),i.k0s())},styles:["[_nghost-%COMP%]{display:none!important}"]}),CoreNavBarButtonsComponent})()},46036:(e,n,r)=>{"use strict";r.d(n,{o:()=>f});var o=r(54438),i=r(79555),s=r(2469),a=r(49234),c=r(86198),u=r(43570),p=r(2910);function CoreNavigationBarComponent_Conditional_0_Conditional_5_Template(e,n){if(1&e&&o.nrm(0,"core-progress-bar",5),2&e){const e=o.XpG(2);o.Y8G("progress",e.progress)("text",e.progressText)}}function CoreNavigationBarComponent_Conditional_0_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-row",0)(1,"ion-col",1)(2,"ion-button",2),o.bIt("click",(function CoreNavigationBarComponent_Conditional_0_Template_ion_button_click_2_listener(){o.eBV(e);const n=o.XpG();return o.Njj(n.navigate(n.previousIndex))})),o.nrm(3,"ion-icon",3),o.k0s()(),o.j41(4,"ion-col",4),o.DNE(5,CoreNavigationBarComponent_Conditional_0_Conditional_5_Template,1,2,"core-progress-bar",5),o.k0s(),o.j41(6,"ion-col",6)(7,"ion-button",2),o.bIt("click",(function CoreNavigationBarComponent_Conditional_0_Template_ion_button_click_7_listener(){o.eBV(e);const n=o.XpG();return o.Njj(n.navigate(n.nextIndex))})),o.nrm(8,"ion-icon",7),o.k0s()()()}if(2&e){const e=o.XpG();o.R7$(2),o.Y8G("disabled",e.previousIndex<0)("ariaLabel",e.previousTitle),o.R7$(3),o.vxM(5,e.currentIndex>=0?5:-1),o.R7$(2),o.Y8G("disabled",e.nextIndex>=e.items.length)("ariaLabel",e.nextTitle)}}let f=(()=>{var e;class CoreNavigationBarComponent{constructor(){this.items=[],this.previousTranslate="core.previous",this.nextTranslate="core.next",this.previousIndex=-1,this.nextIndex=-1,this.currentIndex=0,this.progress=0,this.progressText="",this.action=new o.bkB}ngOnChanges(e){if(e.items&&this.items.length&&(this.currentIndex=this.items.findIndex((e=>e.current)),!(this.currentIndex<0))){for(this.progress=(this.currentIndex+1)/this.items.length*100,this.progressText=`${this.currentIndex+1} / ${this.items.length}`,this.nextIndex=this.currentIndex+1;this.items[this.nextIndex]&&!this.items[this.nextIndex].enabled;)this.nextIndex++;for(this.nextTitle=this.items[this.nextIndex]?i.HT.instant(this.nextTranslate,{$a:this.items[this.nextIndex].title||""}):"",this.previousIndex=this.currentIndex-1;this.items[this.previousIndex]&&!this.items[this.previousIndex].enabled;)this.previousIndex--;this.previousTitle=this.items[this.previousIndex]?i.HT.instant(this.previousTranslate,{$a:this.items[this.previousIndex].title||""}):""}}navigate(e){this.currentIndex!=e&&this.items[e].enabled&&(this.currentIndex=e,this.action.emit(this.items[e].item))}}return(e=CoreNavigationBarComponent).ɵfac=function CoreNavigationBarComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["core-navigation-bar"]],inputs:{items:"items",previousTranslate:"previousTranslate",nextTranslate:"nextTranslate",component:"component",componentId:"componentId",contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId"},outputs:{action:"action"},standalone:!0,features:[o.OA$,o.aNF],decls:1,vars:1,consts:[[1,"ion-justify-content-between","ion-align-items-center","ion-no-padding","ion-wrap"],["size","auto",1,"ion-text-start","ion-no-padding","core-navigation-arrow"],["fill","clear",3,"click","disabled","ariaLabel"],["name","fas-chevron-left","slot","icon-only","aria-hidden","true"],[1,"ion-text-center"],[3,"progress","text"],["size","auto",1,"ion-text-end","ion-no-padding","core-navigation-arrow"],["name","fas-chevron-right","slot","icon-only","aria-hidden","true"]],template:function CoreNavigationBarComponent_Template(e,n){1&e&&o.DNE(0,CoreNavigationBarComponent_Conditional_0_Template,9,5,"ion-row",0),2&e&&o.vxM(0,n.items.length>1?0:-1)},dependencies:[s.V,p.Jm,p.hU,p.iq,p.ln,u.T,c.t,a.z],styles:["[_nghost-%COMP%]{--height: var(--core-navigation-max-height);--background: var(--core-navigation-background);--button-vertical-margin: 2px;height:var(--height);width:100%;background-color:var(--background);display:block;border-top:1px solid var(--stroke)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%], [_nghost-%COMP%]     ion-button{margin-top:var(--button-vertical-margin);margin-bottom:var(--button-vertical-margin)}"]}),CoreNavigationBarComponent})()},49234:(e,n,r)=>{"use strict";r.d(n,{z:()=>u});var o=r(79555),i=r(2469),s=r(54438),a=r(2910),c=r(73955);function CoreProgressBarComponent_Conditional_0_Conditional_2_Template(e,n){if(1&e&&(s.j41(0,"span",2),s.EFF(1),s.nI1(2,"translate"),s.k0s()),2&e){const e=s.XpG(2);s.R7$(),s.JRh(s.bMT(2,1,e.a11yText))}}function CoreProgressBarComponent_Conditional_0_Template(e,n){if(1&e&&(s.nrm(0,"progress",0),s.j41(1,"div",1),s.DNE(2,CoreProgressBarComponent_Conditional_0_Conditional_2_Template,3,3,"span",2),s.EFF(3),s.k0s()),2&e){const e=s.XpG();s.Y8G("value",e.progressNumber),s.BMQ("aria-valuenow",e.progressNumber)("aria-valuetext",e.progressBarValueText)("aria-describedby",e.ariaDescribedBy),s.R7$(2),s.vxM(2,e.a11yText?2:-1),s.R7$(),s.SpI(" ",e.text," ")}}function CoreProgressBarComponent_Conditional_1_Template(e,n){if(1&e&&s.nrm(0,"ion-progress-bar",3),2&e){const e=s.XpG();s.Y8G("color",e.color)}}let u=(()=>{var e;class CoreProgressBarComponent{constructor(e){this.color="",this.progressNumber=0,this.textSupplied=!1,this.element=e.nativeElement}ngOnChanges(e){e.color&&(e.color.previousValue&&this.element.classList.remove("ion-color",`ion-color-${e.color.previousValue}`),e.color.currentValue&&this.element.classList.add("ion-color",`ion-color-${e.color.currentValue}`)),e.text&&void 0!==e.text.currentValue&&(this.textSupplied=!0),e.progress&&this.updateProgress(),(e.text||e.progress||e.a11yText)&&(this.progressBarValueText=(this.a11yText?o.HT.instant(this.a11yText)+" ":"")+this.text)}updateProgress(){if(this.progressNumber=Number(this.progress),this.progressNumber<0||isNaN(this.progressNumber))return this.progressNumber=-1,void 0;this.progressNumber=Math.floor(this.progressNumber),this.textSupplied||(this.text=o.HT.instant("core.percentagenumber",{$a:this.progressNumber})),this.width=o.up.bypassSecurityTrustStyle(`${this.progressNumber}%`)}}return(e=CoreProgressBarComponent).ɵfac=function CoreProgressBarComponent_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵcmp=s.VBU({type:e,selectors:[["core-progress-bar"]],inputs:{progress:"progress",text:"text",a11yText:"a11yText",ariaDescribedBy:"ariaDescribedBy",color:"color"},standalone:!0,features:[s.OA$,s.aNF],decls:2,vars:1,consts:[["max","100","role","progressbar",3,"value"],[1,"core-progress-text"],[1,"sr-only"],["type","indeterminate",3,"color"]],template:function CoreProgressBarComponent_Template(e,n){1&e&&s.DNE(0,CoreProgressBarComponent_Conditional_0_Template,4,6)(1,CoreProgressBarComponent_Conditional_1_Template,1,1),2&e&&s.vxM(0,n.progressNumber>=0?0:1)},dependencies:[i.V,a.FH,c.D9],styles:["[_nghost-%COMP%]{display:flex;width:100%;--line-height: 40px;--bar-margin: 16px 0;--height: var(--core-progressbar-height);--text-color: var(--core-progressbar-text-color);--progressbar-color: var(--core-progressbar-color);--progressbar-background: var(--core-progressbar-background)}.ion-color-primary[_nghost-%COMP%]{--progressbar-color: var(--primary);--progressbar-background: var(--primary-tint)}.ion-color-secondary[_nghost-%COMP%]{--progressbar-color: var(--secondary);--progressbar-background: var(--secondary-tint)}.ion-color-success[_nghost-%COMP%]{--progressbar-color: var(--success);--progressbar-background: var(--success-tint)}.ion-color-warning[_nghost-%COMP%]{--progressbar-color: var(--warning);--progressbar-background: var(--warning-tint)}.ion-color-danger[_nghost-%COMP%]{--progressbar-color: var(--danger);--progressbar-background: var(--danger-tint)}.ion-color-info[_nghost-%COMP%]{--progressbar-color: var(--info);--progressbar-background: var(--info-tint)}.ion-color-light[_nghost-%COMP%]{--progressbar-color: var(--light);--progressbar-background: var(--light-tint)}.ion-color-medium[_nghost-%COMP%]{--progressbar-color: var(--medium);--progressbar-background: var(--medium-tint)}.ion-color-dark[_nghost-%COMP%]{--progressbar-color: var(--dark);--progressbar-background: var(--dark-tint)}[_nghost-%COMP%]   .core-progress-text[_ngcontent-%COMP%]{line-height:var(--line-height);font-size:.9rem;color:var(--text-color);width:55px;text-align:center}[_nghost-%COMP%]   progress[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;height:var(--height);margin:var(--bar-margin);padding:0;display:block;width:100%;flex:1}[_nghost-%COMP%]   progress[value][_ngcontent-%COMP%]::-webkit-progress-bar{background-color:var(--progressbar-background);border-radius:var(--height);border:0;box-shadow:none}[_nghost-%COMP%]   progress[value][_ngcontent-%COMP%]::-webkit-progress-value{background-color:var(--progressbar-color);border-radius:var(--height);-webkit-transition:width .5s ease-in-out;transition:width .5s ease-in-out}[_nghost-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{--progress-background: var(--progressbar-color);--buffer-background: var(--progressbar-background);border-radius:var(--height);height:var(--height);margin-top:calc((var(--line-height) - var(--height)) / 2);margin-bottom:calc((var(--line-height) - var(--height)) / 2)}[_nghost-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]::part(progress){border-radius:var(--height)}"],changeDetection:0}),CoreProgressBarComponent})()},62398:(e,n,r)=>{"use strict";r.d(n,{i:()=>b});var o=r(10467),i=r(91416),s=r(72881),a=r(52749),c=r(86552),u=r(8756),p=r(2469),f=r(43570),g=r(54438),v=r(2910),C=r(73955);function CoreRecaptchaComponent_Conditional_0_Conditional_1_Template(e,n){1&e&&(g.j41(0,"ion-item")(1,"ion-label",1),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&e&&(g.R7$(2),g.JRh(g.bMT(3,1,"core.answered")))}function CoreRecaptchaComponent_Conditional_0_Conditional_2_Template(e,n){if(1&e){const e=g.RV6();g.j41(0,"ion-button",2),g.bIt("click",(function CoreRecaptchaComponent_Conditional_0_Conditional_2_Template_ion_button_click_0_listener(){g.eBV(e);const n=g.XpG(2);return g.Njj(n.answerRecaptcha())})),g.EFF(1),g.nI1(2,"translate"),g.k0s()}2&e&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"core.opensecurityquestion")," "))}function CoreRecaptchaComponent_Conditional_0_Conditional_3_Template(e,n){1&e&&(g.j41(0,"ion-item",0)(1,"ion-label",3),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&e&&(g.R7$(2),g.JRh(g.bMT(3,1,"core.login.recaptchaexpired")))}function CoreRecaptchaComponent_Conditional_0_Conditional_4_Template(e,n){1&e&&(g.j41(0,"ion-item",0)(1,"ion-label",3),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&e&&(g.R7$(2),g.JRh(g.bMT(3,1,"core.required")))}function CoreRecaptchaComponent_Conditional_0_Template(e,n){if(1&e&&(g.j41(0,"div"),g.DNE(1,CoreRecaptchaComponent_Conditional_0_Conditional_1_Template,4,3,"ion-item")(2,CoreRecaptchaComponent_Conditional_0_Conditional_2_Template,3,3)(3,CoreRecaptchaComponent_Conditional_0_Conditional_3_Template,4,3,"ion-item",0)(4,CoreRecaptchaComponent_Conditional_0_Conditional_4_Template,4,3),g.k0s()),2&e){const e=g.XpG();g.R7$(),g.vxM(1,e.model[e.modelValueName]?1:2),g.R7$(2),g.vxM(3,e.expired?3:e.showRequiredError&&!e.model[e.modelValueName]?4:-1)}}let b=(()=>{var e;class CoreRecaptchaComponent{constructor(){this.model={},this.modelValueName="recaptcharesponse",this.siteUrl="",this.showRequiredError=!1,this.expired=!1,this.initLang()}ngOnInit(){this.siteUrl=this.siteUrl||a.CoreSites.getRequiredCurrentSite().getURL()}initLang(){var e=this;return(0,o.A)((function*(){e.lang=yield s.CoreLang.getCurrentLanguage("lms")}))()}answerRecaptcha(){var e=this;return(0,o.A)((function*(){const n=u.$.concatenatePaths(e.siteUrl,`webservice/recaptcha.php?lang=${e.lang}`),r=c.j.openInApp(n);if(!r)return;const o=r.on("loadstop").subscribe((()=>{r.executeScript({code:'window.recaptchacallback = (value) => webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({ action: "callback", value }));window.recaptchaexpiredcallback = () => webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({ action: "expired" }));'})})),i=r.on("message").subscribe((n=>{n.data&&("expired"==n.data.action?e.expireRecaptchaAnswer():"callback"==n.data.action&&(e.expired=!1,e.model[e.modelValueName]=n.data.value,r.close(),i.unsubscribe(),o.unsubscribe()))}))}))()}expireRecaptchaAnswer(){this.expired=!0,this.model[this.modelValueName]=""}}return(e=CoreRecaptchaComponent).ɵfac=function CoreRecaptchaComponent_Factory(n){return new(n||e)},e.ɵcmp=g.VBU({type:e,selectors:[["core-recaptcha"]],inputs:{model:"model",publicKey:"publicKey",modelValueName:"modelValueName",siteUrl:"siteUrl",showRequiredError:[g.Mj6.HasDecoratorInputTransform,"showRequiredError","showRequiredError",i.G]},standalone:!0,features:[g.GFd,g.aNF],decls:1,vars:1,consts:[[1,"ion-text-wrap","core-input-error"],["color","success"],["expand","block","fill","outline",1,"ion-margin",3,"click"],["color","danger"]],template:function CoreRecaptchaComponent_Template(e,n){1&e&&g.DNE(0,CoreRecaptchaComponent_Conditional_0_Template,5,2,"div"),2&e&&g.vxM(0,n.publicKey&&n.siteUrl&&n.model?0:-1)},dependencies:[p.V,v.Jm,v.uz,v.he,C.D9,f.T],encapsulation:2}),CoreRecaptchaComponent})()},85122:(e,n,r)=>{"use strict";r.d(n,{u:()=>x});var o=r(54438),i=r(85190),s=r(49882),a=r(52749),c=r(75383),u=r(74431),p=r(63153),f=r(18022),g=r(91416),v=r(2469),C=r(69901),b=r(43952),w=r(86198),A=r(74235),_=r(98128),E=r(43570),I=r(89417),T=r(2910),P=r(73955);const k=["messageForm"];let x=(()=>{var e;class CoreSendMessageFormComponent{constructor(){this.message="",this.placeholder="",this.showKeyboard=!1,this.sendDisabled=!1,this.sendOnEnter=!1,this.onSubmit=new o.bkB,this.onResize=new o.bkB,i.CoreConfig.get(u.CoreConstants.SETTINGS_SEND_ON_ENTER,!f.CorePlatform.isMobile()).then((e=>{this.sendOnEnter=!!e})).catch((()=>{})),s.z.on(s.z.SEND_ON_ENTER_CHANGED,(e=>{this.sendOnEnter=e.sendOnEnter}),a.CoreSites.getCurrentSiteId())}submitForm(e){e.preventDefault(),e.stopPropagation();let n=this.message.trim();n&&(this.message="",p.R.triggerFormSubmittedEvent(this.formElement,!1,a.CoreSites.getCurrentSiteId()),n=c.Ni.replaceNewLines(n,"<br>"),this.onSubmit.emit(n))}textareaResized(){this.onResize.emit()}enterKeyDown(e,n){this.sendDisabled||(this.sendOnEnter&&!n?(e.preventDefault(),e.stopPropagation()):this.sendOnEnter||f.CorePlatform.isMobile()||"control"!=n||(e.preventDefault(),e.stopPropagation()))}enterKeyUp(e,n){this.sendDisabled||(this.sendOnEnter&&!n?this.submitForm(e):this.sendOnEnter||f.CorePlatform.isMobile()||"control"!=n||this.submitForm(e))}}return(e=CoreSendMessageFormComponent).ɵfac=function CoreSendMessageFormComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["core-send-message-form"]],viewQuery:function CoreSendMessageFormComponent_Query(e,n){if(1&e&&o.GBs(k,5),2&e){let e;o.mGM(e=o.lsd())&&(n.formElement=e.first)}},inputs:{message:"message",placeholder:"placeholder",showKeyboard:[o.Mj6.HasDecoratorInputTransform,"showKeyboard","showKeyboard",g.G],sendDisabled:[o.Mj6.HasDecoratorInputTransform,"sendDisabled","sendDisabled",g.G]},outputs:{onSubmit:"onSubmit",onResize:"onResize"},standalone:!0,features:[o.GFd,o.aNF],decls:7,vars:9,consts:[["messageForm",""],["rows","1","name","message",1,"core-send-message-input",3,"ngModelChange","onResize","keyup.enter","keyup.control.enter","keyup.meta.enter","keydown.enter","keydown.control.enter","keydown.meta.enter","core-auto-focus","placeholder","core-auto-rows","ngModel"],["fill","clear","size","large","type","submit",3,"onClick","disabled","ariaLabel","core-suppress-events"],["name","send","slot","icon-only","aria-hidden","true","flip-rtl",""]],template:function CoreSendMessageFormComponent_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"form",null,0)(2,"textarea",1),o.mxI("ngModelChange",(function CoreSendMessageFormComponent_Template_textarea_ngModelChange_2_listener(r){return o.eBV(e),o.DH7(n.message,r)||(n.message=r),o.Njj(r)})),o.bIt("onResize",(function CoreSendMessageFormComponent_Template_textarea_onResize_2_listener(){return o.eBV(e),o.Njj(n.textareaResized())}))("keyup.enter",(function CoreSendMessageFormComponent_Template_textarea_keyup_enter_2_listener(r){return o.eBV(e),o.Njj(n.enterKeyUp(r))}))("keyup.control.enter",(function CoreSendMessageFormComponent_Template_textarea_keyup_control_enter_2_listener(r){return o.eBV(e),o.Njj(n.enterKeyUp(r,"control"))}))("keyup.meta.enter",(function CoreSendMessageFormComponent_Template_textarea_keyup_meta_enter_2_listener(r){return o.eBV(e),o.Njj(n.enterKeyUp(r,"meta"))}))("keydown.enter",(function CoreSendMessageFormComponent_Template_textarea_keydown_enter_2_listener(r){return o.eBV(e),o.Njj(n.enterKeyDown(r))}))("keydown.control.enter",(function CoreSendMessageFormComponent_Template_textarea_keydown_control_enter_2_listener(r){return o.eBV(e),o.Njj(n.enterKeyDown(r,"control"))}))("keydown.meta.enter",(function CoreSendMessageFormComponent_Template_textarea_keydown_meta_enter_2_listener(r){return o.eBV(e),o.Njj(n.enterKeyDown(r,"meta"))})),o.EFF(3,"    "),o.k0s(),o.j41(4,"ion-button",2),o.nI1(5,"translate"),o.bIt("onClick",(function CoreSendMessageFormComponent_Template_ion_button_onClick_4_listener(r){return o.eBV(e),o.Njj(n.submitForm(r))})),o.nrm(6,"ion-icon",3),o.k0s()()}2&e&&(o.R7$(2),o.Y8G("core-auto-focus",n.showKeyboard)("placeholder",n.placeholder)("core-auto-rows",n.message),o.R50("ngModel",n.message),o.BMQ("aria-label",n.placeholder),o.R7$(2),o.Y8G("disabled",!n.message||n.sendDisabled)("ariaLabel",o.bMT(5,7,"core.send")))},dependencies:[v.V,I.qT,I.me,I.BC,I.cb,I.vS,I.cV,T.Jm,T.iq,P.D9,b.T,C.i,A.C,E.T,_.t,w.t],styles:["[_nghost-%COMP%]{display:contents;--textarea-background: var(--core-input-background);--textarea-color: var(--core-input-text);--textarea-border-width: var(--core-input-border-width);--textarea-border-color: var(--core-input-stroke);--textarea-radius: var(--mdl-shape-borderRadius-xl)}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;background:var(--ion-item-background)}[_nghost-%COMP%]   .core-send-message-input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;display:block;width:100%;font-family:inherit;background:var(--textarea-background);color:var(--textarea-color);border:var(--textarea-border-width) solid var(--textarea-border-color);border-radius:var(--textarea-radius);min-height:var(--a11y-sizing-minTargetSize);line-height:20px;padding:10px;margin-inline-start:8px;margin-inline-end:0px;margin-top:4px;margin-bottom:4px;resize:vertical}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px}[_nghost-%COMP%]   .core-send-message-input[_ngcontent-%COMP%]::placeholder{color:var(--ion-placeholder-color)}"]}),CoreSendMessageFormComponent})()},29850:(e,n,r)=>{"use strict";r.d(n,{D:()=>C});var o=r(10467),i=r(25124),s=r(93589),a=r(53794),c=r(79555),u=r(62393),p=r(2469),f=r(54438),g=r(2910);const v=["wrapper"];let C=(()=>{var e;class CoreSheetModalComponent{constructor({nativeElement:e}){this.wrapperElement=new i._,this.element=e,u.D.register(e,this)}ngAfterViewInit(){if(!this.wrapper)return this.wrapperElement.reject(new Error("CoreSheetModalComponent wasn't mounted properly")),void 0;this.wrapperElement.resolve(this.wrapper.nativeElement)}show(){var e=this;return(0,o.A)((function*(){var n;const r=yield e.wrapperElement;e.content=yield c.yG.attachViewToDom(r,e.component,null!==(n=e.componentProps)&&void 0!==n?n:{}),yield a.H.nextTick(),e.element.classList.add("active"),e.element.style.zIndex=`${2e4+s.I.getTopOverlayIndex()}`,yield a.H.nextTick(),yield a.H.wait(300);const o=u.D.resolve(e.content,e.component);if(!o)throw new Error("Modal not mounted properly");return o}))()}hide(){var e=this;return(0,o.A)((function*(){const n=yield e.wrapperElement;e.element.classList.remove("active"),yield a.H.nextTick(),yield a.H.wait(300),yield c.yG.removeViewFromDom(n,e.content)}))()}}return(e=CoreSheetModalComponent).ɵfac=function CoreSheetModalComponent_Factory(n){return new(n||e)(f.rXU(f.aKT))},e.ɵcmp=f.VBU({type:e,selectors:[["core-sheet-modal"]],viewQuery:function CoreSheetModalComponent_Query(e,n){if(1&e&&f.GBs(v,5),2&e){let e;f.mGM(e=f.lsd())&&(n.wrapper=e.first)}},inputs:{component:"component",componentProps:"componentProps"},standalone:!0,features:[f.aNF],decls:3,vars:0,consts:[["wrapper",""],[1,"sheet-modal--wrapper"]],template:function CoreSheetModalComponent_Template(e,n){1&e&&f.nrm(0,"ion-backdrop")(1,"div",1,0)},dependencies:[p.V,g.ZF],styles:["[_nghost-%COMP%]{--backdrop-opacity: var(--ion-backdrop-opacity, .4);--border-radius: var(--modal-radius);width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;isolation:isolate}[_nghost-%COMP%]   ion-backdrop[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease-in}[_nghost-%COMP%]   .sheet-modal--wrapper[_ngcontent-%COMP%]{border-radius:var(--border-radius) var(--border-radius) 0 0;padding-inline-start:16px;padding-inline-end:16px;padding-top:24px;padding-bottom:24px;background-color:var(--ion-overlay-background-color, var(--ion-background-color, #fff));z-index:3;transform:translateY(100%);transition:transform .3s ease-in;width:100%;max-width:500px}.active[_nghost-%COMP%]   ion-backdrop[_ngcontent-%COMP%]{opacity:var(--backdrop-opacity)}.active[_nghost-%COMP%]   .sheet-modal--wrapper[_ngcontent-%COMP%]{transform:translateY(0)}"]}),CoreSheetModalComponent})()},7038:(e,n,r)=>{"use strict";r.d(n,{C:()=>C});var o=r(10467),i=r(54438),s=r(7310),a=r(52749),c=r(55554),u=r(79555),p=r(2469),f=r(89417),g=r(2910),v=r(73955);const _forTrack0=(e,n)=>n.id,_c0=e=>({header:e});function CoreSitePickerComponent_Conditional_0_For_6_Template(e,n){if(1&e&&(i.j41(0,"ion-select-option",1),i.EFF(1),i.k0s()),2&e){const e=n.$implicit;i.Y8G("value",e.id),i.R7$(),i.JRh(e.fullNameAndSiteName)}}function CoreSitePickerComponent_Conditional_0_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-item")(1,"ion-select",0),i.nI1(2,"translate"),i.nI1(3,"translate"),i.nI1(4,"translate"),i.mxI("ngModelChange",(function CoreSitePickerComponent_Conditional_0_Template_ion_select_ngModelChange_1_listener(n){i.eBV(e);const r=i.XpG();return i.DH7(r.selectedSite,n)||(r.selectedSite=n),i.Njj(n)})),i.bIt("ngModelChange",(function CoreSitePickerComponent_Conditional_0_Template_ion_select_ngModelChange_1_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.siteSelected.emit(n.selectedSite))})),i.Z7z(5,CoreSitePickerComponent_Conditional_0_For_6_Template,2,2,"ion-select-option",1,_forTrack0),i.k0s()()}if(2&e){const e=i.XpG();i.R7$(),i.Y8G("label",i.bMT(2,4,"core.site")),i.R50("ngModel",e.selectedSite),i.Y8G("cancelText",i.bMT(3,6,"core.cancel"))("interfaceOptions",i.eq3(10,_c0,i.bMT(4,8,"core.site"))),i.R7$(4),i.Dyx(e.sites)}}let C=(()=>{var e;class CoreSitePickerComponent{constructor(){this.siteSelected=new i.bkB}ngOnInit(){var e=this;return(0,o.A)((function*(){e.selectedSite=e.initialSite||a.CoreSites.getCurrentSiteId();const n=yield a.CoreSites.getSites();!e.selectedSite&&n.length&&(e.selectedSite=n[0].id,e.siteSelected.emit(e.selectedSite)),yield Promise.all(n.map(function(){var e=(0,o.A)((function*(e){const n=yield c.g.ignoreErrors(s.CoreFilter.formatText(e.siteName||"",{clean:!0,singleLine:!0,filter:!1},[],e.id),e.siteName||"");e.fullNameAndSiteName=u.HT.instant("core.fullnameandsitename",{fullname:e.fullname,sitename:n})}));return function(n){return e.apply(this,arguments)}}())),e.sites=n}))()}}return(e=CoreSitePickerComponent).ɵfac=function CoreSitePickerComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-site-picker"]],inputs:{initialSite:"initialSite"},outputs:{siteSelected:"siteSelected"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[["interface","action-sheet",3,"ngModelChange","label","ngModel","cancelText","interfaceOptions"],[3,"value"]],template:function CoreSitePickerComponent_Template(e,n){1&e&&i.DNE(0,CoreSitePickerComponent_Conditional_0_Template,7,12,"ion-item"),2&e&&i.vxM(0,n.sites&&n.sites.length?0:-1)},dependencies:[p.V,f.BC,f.vS,g.uz,g.Nm,g.Ip,g.Je,v.D9],encapsulation:2}),CoreSitePickerComponent})()},69418:(e,n,r)=>{"use strict";r.d(n,{L:()=>C});var o=r(54438),i=r(30454),s=r(91416),a=r(2469),c=r(58197),u=r(16658),p=r(60177),f=r(2910);const g=["siteItem"],v=["siteLabel"],_forTrack0=(e,n)=>null==n[0]?null:n[0].siteUrl,_forTrack1=(e,n)=>n.id,_c2=e=>({site:e,isCurrentSite:!0}),_c3=e=>({site:e,isCurrentSite:!1}),_c4=(e,n)=>({site:e,isCurrentSite:n});function CoreSitesListComponent_Conditional_0_Conditional_1_ng_container_1_Template(e,n){1&e&&o.eu8(0)}function CoreSitesListComponent_Conditional_0_Conditional_1_ng_container_2_Template(e,n){1&e&&o.eu8(0)}function CoreSitesListComponent_Conditional_0_Conditional_1_For_4_ng_container_0_Template(e,n){1&e&&o.eu8(0)}function CoreSitesListComponent_Conditional_0_Conditional_1_For_4_Template(e,n){if(1&e&&o.DNE(0,CoreSitesListComponent_Conditional_0_Conditional_1_For_4_ng_container_0_Template,1,0,"ng-container",3),2&e){const e=n.$implicit;o.XpG(3);const r=o.sdS(4);o.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",o.eq3(2,_c3,e))}}function CoreSitesListComponent_Conditional_0_Conditional_1_Template(e,n){if(1&e&&(o.j41(0,"ion-card"),o.DNE(1,CoreSitesListComponent_Conditional_0_Conditional_1_ng_container_1_Template,1,0,"ng-container",3)(2,CoreSitesListComponent_Conditional_0_Conditional_1_ng_container_2_Template,1,0,"ng-container",3),o.Z7z(3,CoreSitesListComponent_Conditional_0_Conditional_1_For_4_Template,1,4,"ng-container",null,_forTrack1),o.k0s()),2&e){const e=o.XpG(2),n=o.sdS(2),r=o.sdS(4);o.R7$(),o.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",o.eq3(4,_c2,e.accountsList.currentSite)),o.R7$(),o.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",o.eq3(6,_c2,e.accountsList.currentSite)),o.R7$(),o.Dyx(e.accountsList.sameSite)}}function CoreSitesListComponent_Conditional_0_For_3_ng_container_1_Template(e,n){1&e&&o.eu8(0)}function CoreSitesListComponent_Conditional_0_For_3_For_3_ng_container_0_Template(e,n){1&e&&o.eu8(0)}function CoreSitesListComponent_Conditional_0_For_3_For_3_Template(e,n){if(1&e&&o.DNE(0,CoreSitesListComponent_Conditional_0_For_3_For_3_ng_container_0_Template,1,0,"ng-container",3),2&e){const e=n.$implicit;o.XpG(3);const r=o.sdS(4);o.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",o.eq3(2,_c3,e))}}function CoreSitesListComponent_Conditional_0_For_3_Template(e,n){if(1&e&&(o.j41(0,"ion-card"),o.DNE(1,CoreSitesListComponent_Conditional_0_For_3_ng_container_1_Template,1,0,"ng-container",3),o.Z7z(2,CoreSitesListComponent_Conditional_0_For_3_For_3_Template,1,4,"ng-container",null,_forTrack1),o.k0s()),2&e){const e=n.$implicit;o.XpG(2);const r=o.sdS(2);o.R7$(),o.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",o.eq3(2,_c3,e[0])),o.R7$(),o.Dyx(e)}}function CoreSitesListComponent_Conditional_0_Template(e,n){if(1&e&&(o.j41(0,"ion-list",2),o.DNE(1,CoreSitesListComponent_Conditional_0_Conditional_1_Template,5,8,"ion-card"),o.Z7z(2,CoreSitesListComponent_Conditional_0_For_3_Template,4,4,"ion-card",null,_forTrack0),o.k0s()),2&e){const e=o.XpG();o.R7$(),o.vxM(1,e.accountsList.currentSite?1:-1),o.R7$(),o.Dyx(e.accountsList.otherSites)}}function CoreSitesListComponent_ng_template_1_Conditional_0_Conditional_4_Template(e,n){1&e&&o.nrm(0,"p")}function CoreSitesListComponent_ng_template_1_Conditional_0_Template(e,n){if(1&e&&(o.j41(0,"ion-item-divider",4)(1,"ion-label",5)(2,"h2"),o.nrm(3,"core-format-text",6),o.k0s(),o.DNE(4,CoreSitesListComponent_ng_template_1_Conditional_0_Conditional_4_Template,1,0,"p"),o.k0s()()),2&e){const e=o.XpG().site,n=o.XpG();o.R7$(3),o.Y8G("text",e.siteName)("siteId",e.id),o.R7$(),o.vxM(4,n.displaySiteUrl(e)?4:-1)}}function CoreSitesListComponent_ng_template_1_Template(e,n){if(1&e&&o.DNE(0,CoreSitesListComponent_ng_template_1_Conditional_0_Template,5,3,"ion-item-divider",4),2&e){o.vxM(0,n.site?0:-1)}}function CoreSitesListComponent_ng_template_3_Conditional_5_Template(e,n){if(1&e&&o.eu8(0,10),2&e){const e=o.XpG(),n=e.site,r=e.isCurrentSite,i=o.XpG();o.Y8G("ngTemplateOutlet",i.siteLabelTemplate)("ngTemplateOutletContext",o.l_i(2,_c4,n,r))}}function CoreSitesListComponent_ng_template_3_Conditional_6_Template(e,n){if(1&e&&o.eu8(0,10),2&e){const e=o.XpG(),n=e.site,r=e.isCurrentSite,i=o.XpG();o.Y8G("ngTemplateOutlet",i.siteItemTemplate)("ngTemplateOutletContext",o.l_i(2,_c4,n,r))}}function CoreSitesListComponent_ng_template_3_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"ion-item",7),o.bIt("click",(function CoreSitesListComponent_ng_template_3_Template_ion_item_click_0_listener(n){const r=o.eBV(e),i=r.site,s=r.isCurrentSite,a=o.XpG();return o.Njj(a.siteClicked(n,i,s))})),o.nrm(1,"core-user-avatar",8),o.j41(2,"ion-label",5)(3,"p",9),o.EFF(4),o.k0s(),o.DNE(5,CoreSitesListComponent_ng_template_3_Conditional_5_Template,1,5,"ng-container",10),o.k0s(),o.DNE(6,CoreSitesListComponent_ng_template_3_Conditional_6_Template,1,5,"ng-container",10),o.k0s()}if(2&e){const e=n.site,r=n.isCurrentSite,i=o.XpG();o.AVh("item-current",r),o.BMQ("button",!!i.isSiteClickable(r)||null)("detail",i.isSiteClickable(r)?"true":"false"),o.R7$(),o.Y8G("site",e)("linkProfile",!1)("siteId",e.id),o.R7$(3),o.JRh(e.fullname),o.R7$(),o.vxM(5,i.siteLabelTemplate?5:-1),o.R7$(),o.vxM(6,i.siteItemTemplate?6:-1)}}let C=(()=>{var e;class CoreSitesListComponent{constructor(){this.sitesClickable=!1,this.onSiteClicked=new o.bkB}isSiteClickable(e){var n;return e&&null!==(n=this.currentSiteClickable)&&void 0!==n?n:this.sitesClickable}siteClicked(e,n,r){this.isSiteClickable(r)&&(e.preventDefault(),e.stopPropagation(),this.onSiteClicked.emit(n))}displaySiteUrl(e){return i.a.makeSite(e.id,e.siteUrl,"",{info:e.info}).shouldDisplayInformativeLinks()}}return(e=CoreSitesListComponent).ɵfac=function CoreSitesListComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["core-sites-list"]],contentQueries:function CoreSitesListComponent_ContentQueries(e,n,r){if(1&e&&(o.wni(r,g,5),o.wni(r,v,5)),2&e){let e;o.mGM(e=o.lsd())&&(n.siteItemTemplate=e.first),o.mGM(e=o.lsd())&&(n.siteLabelTemplate=e.first)}},inputs:{accountsList:"accountsList",sitesClickable:[o.Mj6.HasDecoratorInputTransform,"sitesClickable","sitesClickable",s.G],currentSiteClickable:[o.Mj6.HasDecoratorInputTransform,"currentSiteClickable","currentSiteClickable",s.G]},outputs:{onSiteClicked:"onSiteClicked"},standalone:!0,features:[o.GFd,o.aNF],decls:5,vars:1,consts:[["siteCardHeader",""],["siteItem",""],[1,"core-sites-list"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["sticky","true",1,"core-sites-list-sitename","ion-text-nowrap"],[1,"ion-text-nowrap"],["clean","true",3,"text","siteId"],[3,"click"],["slot","start",3,"site","linkProfile","siteId"],[1,"item-heading"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function CoreSitesListComponent_Template(e,n){1&e&&o.DNE(0,CoreSitesListComponent_Conditional_0_Template,4,1,"ion-list",2)(1,CoreSitesListComponent_ng_template_1_Template,1,1,"ng-template",null,0,o.C5r)(3,CoreSitesListComponent_ng_template_3_Template,7,10,"ng-template",null,1,o.C5r),2&e&&o.vxM(0,n.accountsList?0:-1)},dependencies:[a.V,p.T3,f.b_,f.uz,f.Dg,f.he,f.nf,c.B,u.T],styles:["ion-list.core-sites-list[_ngcontent-%COMP%]   .core-sites-list-sitename[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}ion-list.core-sites-list[_ngcontent-%COMP%]   .core-sites-list-sitename[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}"]}),CoreSitesListComponent})()},4060:(e,n,r)=>{"use strict";r.d(n,{f:()=>i});var o=r(54438);let i=(()=>{var e;class CoreSpacerComponent{}return(e=CoreSpacerComponent).ɵfac=function CoreSpacerComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["core-spacer"]],standalone:!0,features:[o.aNF],decls:0,vars:0,template:function CoreSpacerComponent_Template(e,n){},styles:["[_nghost-%COMP%]{display:block;margin:var(--spacer-vertical) var(--spacer-horizontal);border-bottom:1px solid var(--spacer-color)}"]}),CoreSpacerComponent})()},29492:(e,n,r)=>{"use strict";r.d(n,{M:()=>b});var o=r(2910),i=r(93417),s=r(84412),a=r(2469),c=r(16986),u=r(88246),p=r(54438),f=r(73955);const g=["*"];var v=function(e){return e.MENU_ONLY="menu-only",e.CONTENT_ONLY="content-only",e.MENU_AND_CONTENT="menu-and-content",e}(v||{});const C="disable-scroll-y";let b=(()=>{var e;class CoreSplitViewComponent{constructor(e){this.element=e,this.placeholderText="core.emptysplit",this.isNested=!1,this.disabledScrollOuterContents=[],this.outletRouteSubject=new s.t(null)}get outletRoute(){return this.outletRouteSubject.value}get outletActivated(){return this.contentOutlet.isActivated}get outletRouteObservable(){return this.outletRouteSubject.asObservable()}get nativeElement(){return this.element.nativeElement}ngAfterViewInit(){var e;this.isNested=!(null===(e=this.element.nativeElement.parentElement)||void 0===e||!e.closest("core-split-view")),this.disableScrollOnParent(),this.subscriptions=[this.contentOutlet.activateEvents.subscribe((()=>this.updateOutletRoute())),this.contentOutlet.deactivateEvents.subscribe((()=>this.updateOutletRoute())),i.CoreScreen.layoutObservable.subscribe((()=>this.updateClasses()))],this.updateClasses()}ngOnDestroy(){var e;null===(e=this.subscriptions)||void 0===e||e.forEach((e=>e.unsubscribe())),this.enableScrollOnParent()}updateOutletRoute(){const e=this.contentOutlet.isActivated?this.contentOutlet.activatedRoute.snapshot:null;this.updateClasses(),this.outletRouteSubject.next(null!=e?e:null)}updateClasses(){const e=[this.getCurrentMode()];this.contentOutlet.isActivated&&e.push("outlet-activated"),this.isNested&&e.push("nested"),this.element.nativeElement.setAttribute("class",e.join(" "))}getCurrentMode(){return this.mode?this.mode:this.isNested?v.MENU_ONLY:i.CoreScreen.isMobile?this.contentOutlet.isActivated?v.CONTENT_ONLY:v.MENU_ONLY:v.MENU_AND_CONTENT}disableScrollOnParent(){var e;const n=null===(e=this.element.nativeElement.parentElement)||void 0===e?void 0:e.closest("ion-content");n&&("false"==(null==n?void 0:n.getAttribute("scroll-y"))||null!=n&&n.classList.contains(C)||(n.classList.add(C),this.disabledScrollOuterContents.push(n)))}enableScrollOnParent(){this.disabledScrollOuterContents.forEach((e=>{e.classList.remove(C)}))}}return(e=CoreSplitViewComponent).ɵfac=function CoreSplitViewComponent_Factory(n){return new(n||e)(p.rXU(p.aKT))},e.ɵcmp=p.VBU({type:e,selectors:[["core-split-view"]],viewQuery:function CoreSplitViewComponent_Query(e,n){if(1&e&&(p.GBs(o.W9,5),p.GBs(o.Rg,5)),2&e){let e;p.mGM(e=p.lsd())&&(n.menuContent=e.first),p.mGM(e=p.lsd())&&(n.contentOutlet=e.first)}},inputs:{placeholderText:"placeholderText",mode:"mode"},standalone:!0,features:[p.aNF],ngContentSelectors:g,decls:5,vars:3,consts:[[1,"menu"],[1,"content-outlet"],["icon","fas-circle-arrow-left",1,"content-placeholder",3,"message"]],template:function CoreSplitViewComponent_Template(e,n){1&e&&(p.NAR(),p.j41(0,"ion-content",0),p.SdG(1),p.k0s(),p.nrm(2,"ion-router-outlet",1)(3,"core-empty-box",2),p.nI1(4,"translate")),2&e&&(p.R7$(3),p.Y8G("message",p.bMT(4,1,n.placeholderText)))},dependencies:[a.V,o.W9,o.Rg,f.D9,c.h,u.i],styles:["[_nghost-%COMP%]{--menu-min-width: 270px;--menu-max-width: 28%;--menu-box-shadow: var(--drop-shadow-end);--menu-z: 2;--menu-display: flex;--content-display: block;--content-outlet-display: none;--content-placeholder-display: flex;top:0;right:0;bottom:0;left:0;display:flex;position:absolute;flex-direction:row;flex-wrap:nowrap;contain:strict}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%], [_nghost-%COMP%]   .content-outlet[_ngcontent-%COMP%]{top:var(--offset-top);height:calc(100% - var(--offset-top));right:0;bottom:0;left:0;position:relative;box-shadow:none;z-index:0}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{z-index:var(--menu-z);display:var(--menu-display);flex-shrink:0;order:-1;width:100%;min-width:var(--menu-min-width);max-width:var(--menu-max-width)}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]::part(scroll){box-shadow:var(--menu-box-shadow)}[_nghost-%COMP%]   .content-outlet[_ngcontent-%COMP%]{display:var(--content-outlet-display);flex:1}[_nghost-%COMP%]   .content-outlet[_ngcontent-%COMP%]     ion-header{display:none}[_nghost-%COMP%]   .content-placeholder[_ngcontent-%COMP%]{display:var(--content-placeholder-display);flex:1;position:relative;background-color:var(--ion-background)}.menu-only[_nghost-%COMP%]{--menu-min-width: 0px;--menu-max-width: 100%;--content-display: none;--content-placeholder-display: none;--menu-box-shadow: none;--menu-z: 0px;--selected-item-border-width: 0px;--selected-item-color: transparent}.content-only[_nghost-%COMP%]{--menu-display: none}.outlet-activated[_nghost-%COMP%]{--content-placeholder-display: none;--content-outlet-display: var(--content-display)}"]}),CoreSplitViewComponent})()},17046:(e,n,r)=>{"use strict";r.d(n,{p:()=>g});var o=r(10467),i=r(74037),s=r(2469),a=r(86198),c=r(43570),u=r(54438),p=r(2910),f=r(73955);let g=(()=>{var e;class CoreSwipeNavigationTourComponent{dismiss(){return(0,o.A)((function*(){yield i.E.dismiss()}))()}}return(e=CoreSwipeNavigationTourComponent).ɵfac=function CoreSwipeNavigationTourComponent_Factory(n){return new(n||e)},e.ɵcmp=u.VBU({type:e,selectors:[["core-swipe-navigation-tour"]],standalone:!0,features:[u.aNF],decls:7,vars:6,consts:[["name","moodle-swipe-navigation","aria-hidden","true"],["expand","block","fill","outline",3,"click"]],template:function CoreSwipeNavigationTourComponent_Template(e,n){1&e&&(u.nrm(0,"ion-icon",0),u.j41(1,"p"),u.EFF(2),u.nI1(3,"translate"),u.k0s(),u.j41(4,"ion-button",1),u.bIt("click",(function CoreSwipeNavigationTourComponent_Template_ion_button_click_4_listener(){return n.dismiss()})),u.EFF(5),u.nI1(6,"translate"),u.k0s()),2&e&&(u.R7$(2),u.JRh(u.bMT(3,2,"core.swipenavigationtourdescription")),u.R7$(3),u.SpI(" ",u.bMT(6,4,"core.endonesteptour"),"\n"))},dependencies:[s.V,p.Jm,p.iq,f.D9,a.t,c.T],styles:["[_nghost-%COMP%]{max-width:85vw}[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:100%;height:150px;min-width:300px}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-width: 2px;--border-color: white;--background: transparent;--color: white}"]}),CoreSwipeNavigationTourComponent})()},55306:(e,n,r)=>{"use strict";r.d(n,{N:()=>w});var o=r(10467),i=r(54438),s=r(25124),a=r(53794),c=r(79555),u=r(82907),p=r(76125),f=r(14678),g=r(2469),v=r(2910),C=r(60177);const b=["swiperRef"];function _forTrack0(e,n){return null==this.manager?null:this.manager.getSource().getItemId(n)}const _c1=(e,n)=>({item:e,active:n});function CoreSwipeSlidesComponent_Conditional_0_For_3_Conditional_1_Template(e,n){if(1&e&&i.eu8(0,1),2&e){const e=i.XpG(),n=e.$implicit,r=e.$index,o=i.XpG(2);i.Y8G("ngTemplateOutlet",o.template)("ngTemplateOutletContext",i.l_i(2,_c1,n,o.isActive(r)))}}function CoreSwipeSlidesComponent_Conditional_0_For_3_Template(e,n){if(1&e&&(i.j41(0,"swiper-slide"),i.DNE(1,CoreSwipeSlidesComponent_Conditional_0_For_3_Conditional_1_Template,1,5,"ng-container",1),i.k0s()),2&e){const e=n.$index,r=i.XpG(2);i.BMQ("aria-hidden",!r.isActive(e))("tabindex",r.isActive(e)?null:-1),i.R7$(),i.vxM(1,r.template?1:-1)}}function CoreSwipeSlidesComponent_Conditional_0_Template(e,n){if(1&e&&(i.j41(0,"swiper-container",null,0),i.Z7z(2,CoreSwipeSlidesComponent_Conditional_0_For_3_Template,2,3,"swiper-slide",null,_forTrack0,!0),i.k0s()),2&e){const e=i.XpG();i.BMQ("aria-busy",e.activeSlideIndex?"true":null),i.R7$(2),i.Dyx(e.items)}}let w=(()=>{var e;class CoreSwipeSlidesComponent{set swiperRef(e){var n=this;setTimeout((0,o.A)((function*(){const r=f.O.initSwiperIfAvailable(n.swiper,e,n.options);r&&(n.swiper=r,yield n.initialize(),n.options.initialSlide&&n.swiper.slideTo(n.options.initialSlide,0,n.options.runCallbacksOnInit),n.swiper.on("slideChangeTransitionStart",(()=>c.SK.run((()=>n.slideWillChange())))),n.swiper.on("slideChangeTransitionEnd",(()=>c.SK.run((()=>n.slideDidChange())))))})))}constructor(e,n){this.content=n,this.options={},this.onWillChange=new i.bkB,this.onDidChange=new i.bkB,this.onReadyPromise=new s._,this.onUpdatePromise=null,this.hostElement=e.nativeElement,this.resizeListener=u.y.onWindowResize((()=>{this.updateSlidesComponent()}))}ngOnChanges(e){var n=this;return(0,o.A)((function*(){yield n.initialize(),e.options&&n.updateOptions()}))()}get items(){var e;return(null===(e=this.manager)||void 0===e?void 0:e.getSource().getItems())||[]}get loaded(){var e;return!(null===(e=this.manager)||void 0===e||!e.getSource().isLoaded())}isActive(e){return this.activeSlideIndex===e}initialize(){var e=this;return(0,o.A)((function*(){if(e.unsubscribe||!e.swiper||!e.manager)return;if(e.unsubscribe=e.manager.getSource().addListener({onItemsUpdated:()=>e.onItemsUpdated()}),e.options.runCallbacksOnInit=!1,yield e.manager.getSource().waitForLoaded(),void 0===e.options.initialSlide){const n=e.manager.getSource().getInitialItemIndex();e.options.initialSlide=Math.max(n,0)}const n=e.manager.getSource().getItems();if(!n||!n.length)return;const r=p.o.clamp(e.options.initialSlide,0,n.length-1),o={index:r,item:n[r]};e.activeSlideIndex=r,e.manager.setSelectedItem(n[r]),e.onWillChange.emit(o),e.onDidChange.emit(o),e.onReadyPromise.resolve()}))()}slideToIndex(e,n,r){var i=this;return(0,o.A)((function*(){yield i.ready(),yield i.onUpdatePromise,yield i.performSlideToIndex(e,n,r)}))()}performSlideToIndex(e,n=300,r){var i=this;return(0,o.A)((function*(){var o;if(!i.swiper)return;((null===(o=i.swiper.slides)||void 0===o?void 0:o.length)||0)!==i.items.length&&(yield i.updateSlidesComponent()),i.swiper.slides&&(i.swiper.slideTo(e,n,r),yield a.H.wait(n))}))()}slideToItem(e,n,r){var i=this;return(0,o.A)((function*(){var o,s;const a=null!==(o=null===(s=i.manager)||void 0===s?void 0:s.getSource().getItemIndex(e))&&void 0!==o?o:-1;-1!==a&&(yield i.slideToIndex(a,n,r))}))()}slideNext(e,n){var r=this;return(0,o.A)((function*(){var o;yield r.onUpdatePromise,null===(o=r.swiper)||void 0===o||o.slideNext(e,n)}))()}slidePrev(e,n){var r=this;return(0,o.A)((function*(){var o;yield r.onUpdatePromise,null===(o=r.swiper)||void 0===o||o.slidePrev(e,n)}))()}onItemsUpdated(){var e=this;return(0,o.A)((function*(){var n,r,o;e.onUpdatePromise=new s._,yield a.H.nextTick(),yield e.updateSlidesComponent();const i=null===(n=e.manager)||void 0===n?void 0:n.getSelectedItem();if(!i||!e.manager)return;const c=null!==(r=null===(o=e.manager)||void 0===o?void 0:o.getSource().getItemIndex(i))&&void 0!==r?r:-1;-1!==c&&(yield e.performSlideToIndex(c,0,!1)),e.onUpdatePromise.resolve()}))()}updateOptions(){this.swiper&&f.O.updateOptions(this.swiper,this.options)}slideWillChange(){var e=this;return(0,o.A)((function*(){const n=yield e.getCurrentSlideItemData();n&&(e.activeSlideIndex=void 0,e.onWillChange.emit(n),yield e.applyScrollOnChange())}))()}slideDidChange(){var e=this;return(0,o.A)((function*(){var n;const r=yield e.getCurrentSlideItemData();if(!r)return e.activeSlideIndex=void 0,void 0;e.activeSlideIndex=r.index,null===(n=e.manager)||void 0===n||n.setSelectedItem(r.item),e.onDidChange.emit(r),yield e.applyScrollOnChange()}))()}applyScrollOnChange(){var e=this;return(0,o.A)((function*(){var n;if("top"!==e.options.scrollOnChange)return;const r=yield null===(n=e.content)||void 0===n?void 0:n.getScrollElement();r&&!u.y.isElementOutsideOfScreen(r,e.hostElement,u.r.TOP)||e.hostElement.scrollIntoView({behavior:"smooth"})}))()}getCurrentSlideItemData(){var e=this;return(0,o.A)((function*(){if(!e.swiper||!e.manager)return null;const n=e.swiper.activeIndex,r=e.manager.getSource().getItems(),o=r&&r[n];return o?{item:o,index:n}:null}))()}updateSlidesComponent(){var e=this;return(0,o.A)((function*(){yield e.ready(),e.swiper&&(e.swiper.update(),yield a.H.nextTicks(2))}))()}ready(){var e=this;return(0,o.A)((function*(){return e.onReadyPromise}))()}ngOnDestroy(){this.unsubscribe&&this.unsubscribe(),this.resizeListener.off()}}return(e=CoreSwipeSlidesComponent).ɵfac=function CoreSwipeSlidesComponent_Factory(n){return new(n||e)(i.rXU(i.aKT),i.rXU(v.W9))},e.ɵcmp=i.VBU({type:e,selectors:[["core-swipe-slides"]],contentQueries:function CoreSwipeSlidesComponent_ContentQueries(e,n,r){if(1&e&&i.wni(r,i.C4Q,5),2&e){let e;i.mGM(e=i.lsd())&&(n.template=e.first)}},viewQuery:function CoreSwipeSlidesComponent_Query(e,n){if(1&e&&i.GBs(b,5),2&e){let e;i.mGM(e=i.lsd())&&(n.swiperRef=e.first)}},inputs:{manager:"manager",options:"options"},outputs:{onWillChange:"onWillChange",onDidChange:"onDidChange"},standalone:!0,features:[i.OA$,i.aNF],decls:1,vars:1,consts:[["swiperRef",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function CoreSwipeSlidesComponent_Template(e,n){1&e&&i.DNE(0,CoreSwipeSlidesComponent_Conditional_0_Template,4,1,"swiper-container"),2&e&&i.vxM(0,n.loaded?0:-1)},dependencies:[g.V,C.T3],styles:["[_nghost-%COMP%]   swiper-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-grow:1;flex-direction:column}[_nghost-%COMP%]   swiper-container[_ngcontent-%COMP%]::part(container){flex-grow:1;display:flex;flex-direction:column;overflow:visible}[_nghost-%COMP%]   swiper-container[_ngcontent-%COMP%]::part(wrapper){flex-grow:1;display:flex;align-items:stretch}[_nghost-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{display:block;justify-content:start;align-items:start;text-align:start}"]}),CoreSwipeSlidesComponent})()},47142:(e,n,r)=>{"use strict";r.d(n,{k:()=>A});var o=r(10467),i=r(2910),s=r(81690),a=r(13988),c=r(15324),u=r(58483),p=r(62393),f=r(8756),g=r(2469),v=r(86198),C=r(43570),b=r(54438),w=r(73955);const _forTrack0=(e,n)=>n.id,_c0=e=>({$a:e});function CoreTabsOutletComponent_Conditional_2_Template(e,n){1&e&&(b.nrm(0,"ion-spinner"),b.nI1(1,"translate")),2&e&&b.BMQ("aria-label",b.bMT(1,1,"core.loading"))}function CoreTabsOutletComponent_Conditional_3_Conditional_2_Template(e,n){1&e&&b.nrm(0,"ion-icon",4)}function CoreTabsOutletComponent_Conditional_3_For_6_Conditional_2_Template(e,n){if(1&e&&b.nrm(0,"ion-icon",10),2&e){const e=b.XpG().$implicit;b.Y8G("name",e.icon)}}function CoreTabsOutletComponent_Conditional_3_For_6_Conditional_7_Conditional_3_Template(e,n){if(1&e&&(b.j41(0,"span",11),b.EFF(1),b.nI1(2,"translate"),b.k0s()),2&e){const e=b.XpG(2).$implicit;b.R7$(),b.SpI(" ",b.i5U(2,1,e.badgeA11yText,b.eq3(4,_c0,e.badge))," ")}}function CoreTabsOutletComponent_Conditional_3_For_6_Conditional_7_Template(e,n){if(1&e&&(b.j41(0,"ion-badge")(1,"span"),b.EFF(2),b.k0s(),b.DNE(3,CoreTabsOutletComponent_Conditional_3_For_6_Conditional_7_Conditional_3_Template,3,6,"span",11),b.k0s()),2&e){const e=b.XpG().$implicit;b.R7$(),b.BMQ("aria-hidden",!!e.badgeA11yText),b.R7$(),b.JRh(e.badge),b.R7$(),b.vxM(3,e.badgeA11yText?3:-1)}}function CoreTabsOutletComponent_Conditional_3_For_6_Template(e,n){if(1&e){const e=b.RV6();b.j41(0,"swiper-slide",8)(1,"ion-tab-button",9),b.bIt("ionTabButtonClick",(function CoreTabsOutletComponent_Conditional_3_For_6_Template_ion_tab_button_ionTabButtonClick_1_listener(n){const r=b.eBV(e).$implicit,o=b.XpG(2);return b.Njj(o.selectTab(r.id,n))}))("keydown",(function CoreTabsOutletComponent_Conditional_3_For_6_Template_ion_tab_button_keydown_1_listener(n){const r=b.eBV(e).$implicit,o=b.XpG(2);return b.Njj(o.tabAction.keyDown(r.id,n))}))("keyup",(function CoreTabsOutletComponent_Conditional_3_For_6_Template_ion_tab_button_keyup_1_listener(n){const r=b.eBV(e).$implicit,o=b.XpG(2);return b.Njj(o.tabAction.keyUp(r.id,n))})),b.DNE(2,CoreTabsOutletComponent_Conditional_3_For_6_Conditional_2_Template,1,1,"ion-icon",10),b.j41(3,"ion-label")(4,"h2"),b.EFF(5),b.nI1(6,"translate"),b.k0s(),b.DNE(7,CoreTabsOutletComponent_Conditional_3_For_6_Conditional_7_Template,4,3,"ion-badge"),b.k0s()()()}if(2&e){const e=n.$implicit,r=b.XpG(2);b.HbH(e.class),b.AVh("selected",r.selected===e.id)("hidden",!e.enabled),b.Y8G("id",e.id+"-tab"),b.R7$(),b.Y8G("tab",e.page)("layout",r.layout)("tabindex",r.selected===e.id?0:-1),b.BMQ("aria-controls",e.id)("aria-selected",r.selected===e.id),b.R7$(),b.vxM(2,e.icon?2:-1),b.R7$(3),b.JRh(b.bMT(6,16,e.title)),b.R7$(2),b.vxM(7,e.badge?7:-1)}}function CoreTabsOutletComponent_Conditional_3_Conditional_9_Template(e,n){1&e&&b.nrm(0,"ion-icon",7)}function CoreTabsOutletComponent_Conditional_3_Template(e,n){if(1&e){const e=b.RV6();b.j41(0,"ion-button",3),b.nI1(1,"translate"),b.bIt("click",(function CoreTabsOutletComponent_Conditional_3_Template_ion_button_click_0_listener(){b.eBV(e);const n=b.XpG();return b.Njj(n.slidePrev())})),b.DNE(2,CoreTabsOutletComponent_Conditional_3_Conditional_2_Template,1,0,"ion-icon",4),b.k0s(),b.j41(3,"swiper-container",5,0),b.Z7z(5,CoreTabsOutletComponent_Conditional_3_For_6_Template,8,18,"swiper-slide",6,_forTrack0),b.k0s(),b.j41(7,"ion-button",3),b.nI1(8,"translate"),b.bIt("click",(function CoreTabsOutletComponent_Conditional_3_Template_ion_button_click_7_listener(){b.eBV(e);const n=b.XpG();return b.Njj(n.slideNext())})),b.DNE(9,CoreTabsOutletComponent_Conditional_3_Conditional_9_Template,1,0,"ion-icon",7),b.k0s()}if(2&e){const e=b.XpG();b.Y8G("disabled",!e.showPrevButton)("ariaLabel",b.bMT(1,8,"core.previous")),b.R7$(2),b.vxM(2,e.showPrevButton?2:-1),b.R7$(),b.Y8G("slidesPerView",e.swiperOpts.slidesPerView),b.BMQ("aria-label",e.description),b.R7$(2),b.Dyx(e.tabs),b.R7$(2),b.Y8G("disabled",!e.showNextButton)("ariaLabel",b.bMT(8,10,"core.next")),b.R7$(2),b.vxM(9,e.showNextButton?9:-1)}}let A=(()=>{var e;class CoreTabsOutletComponent extends u.O{constructor(){super(...arguments),this.layout="icon-hide",this.tabs=[],this.existsInNavigationStack=!1}static formatTab(e){return e.id=e.id||`core-tab-outlet-${s.j.getUniqueId("CoreTabsOutletComponent")}`,void 0===e.enabled&&(e.enabled=!0),e}ngAfterViewInit(){var _superprop_getNgAfterViewInit=()=>super.ngAfterViewInit,e=this;return(0,o.A)((function*(){_superprop_getNgAfterViewInit().call(e),e.isDestroyed||(e.subscriptions.push(e.ionTabs.outlet.stackDidChange.subscribe(function(){var n=(0,o.A)((function*(n){if(!e.isCurrentView)return;const r=e.tabs.findIndex((e=>e.page==n.enteringView.url)),o=r>=0?e.tabs[r]:void 0;""==n.enteringView.element.id&&(n.enteringView.element.id=(null==o?void 0:o.id)||""),o&&e.selected!==o.id&&e.tabSelected(o,r),e.showHideNavBarButtons()}));return function(e){return n.apply(this,arguments)}}())),e.subscriptions.push(e.ionTabs.outlet.activateEvents.subscribe((()=>{e.lastActiveComponent=e.ionTabs.outlet.component}))))}))()}ngOnChanges(e){e.tabs&&this.calculateSlides(),super.ngOnChanges(e)}ionViewDidEnter(){var e,n;(super.ionViewDidEnter(),this.existsInNavigationStack&&this.ionTabs.outlet.isActivated)&&(null===(e=(n=this.ionTabs.outlet.component).ionViewDidEnter)||void 0===e||e.call(n));this.existsInNavigationStack=!0;const r=this.getSelected(),o=c.CoreNavigator.getCurrentPath();r&&f.$.pathIsAncestor(o,r.page)&&this.loadTab(r)}ionViewDidLeave(){var e,n;super.ionViewDidLeave(),null===(e=this.lastActiveComponent)||void 0===e||null===(n=e.ionViewDidLeave)||void 0===n||n.call(e)}calculateInitialTab(){const e=c.CoreNavigator.getCurrentPath(),n=this.tabs.find((n=>n.page===e));return n&&n.enabled?n:super.calculateInitialTab()}getOutlet(){return this.ionTabs.outlet}loadTab(e){return(0,o.A)((function*(){return c.CoreNavigator.navigate(e.page,{params:e.pageParams,animated:!1})}))()}showHideNavBarButtons(){this.ionTabs.outlet.nativeEl.querySelectorAll("core-navbar-buttons").forEach((e=>{const n=p.D.resolve(e,a.c);if(n){var r;const o=null===(r=e.closest(".ion-page"))||void 0===r?void 0:r.id;n.forceHide(this.selected!==o)}}))}ngOnDestroy(){super.ngOnDestroy(),this.existsInNavigationStack=!1}}return(e=CoreTabsOutletComponent).ɵfac=(()=>{let n;return function CoreTabsOutletComponent_Factory(r){return(n||(n=b.xGo(e)))(r||e)}})(),e.ɵcmp=b.VBU({type:e,selectors:[["core-tabs-outlet"]],viewQuery:function CoreTabsOutletComponent_Query(e,n){if(1&e&&b.GBs(i.p4,5),2&e){let e;b.mGM(e=b.lsd())&&(n.ionTabs=e.first)}},inputs:{layout:"layout",tabs:[b.Mj6.HasDecoratorInputTransform,"tabs","tabs",n=>n?n.map((n=>e.formatTab(n))):[]]},standalone:!0,features:[b.GFd,b.Vt3,b.OA$,b.aNF],decls:4,vars:2,consts:[["swiperRef",""],[1,"hide-header"],["slot","top",1,"core-tabs-bar",3,"hidden"],["fill","clear",1,"arrow-button",3,"click","disabled","ariaLabel"],["name","fas-chevron-left","aria-hidden","true","slot","icon-only"],["role","tablist",3,"slidesPerView"],["role","presentation",3,"id","selected","class","hidden"],["name","fas-chevron-right","aria-hidden","true","slot","icon-only"],["role","presentation",3,"id"],["role","tab",3,"ionTabButtonClick","keydown","keyup","tab","layout","tabindex"],["aria-hidden","true",3,"name"],[1,"sr-only"]],template:function CoreTabsOutletComponent_Template(e,n){1&e&&(b.j41(0,"ion-tabs",1)(1,"ion-tab-bar",2),b.DNE(2,CoreTabsOutletComponent_Conditional_2_Template,2,3,"ion-spinner")(3,CoreTabsOutletComponent_Conditional_3_Template,10,12),b.k0s()()),2&e&&(b.R7$(),b.Y8G("hidden",n.hideUntil&&(!n.tabs||n.numTabsShown<=1)),b.R7$(),b.vxM(2,n.hideUntil?3:2))},dependencies:[g.V,i.In,i.Jm,i.iq,i.he,i.w2,i.Jq,i.qW,i.p4,w.D9,C.T,v.t],styles:["[_nghost-%COMP%]{--tabs-background: var(--core-tabs-background);--tabs-color: var(--core-tab-color);--height: var(--core-tabs-height);height:100%;display:flex;flex-direction:column;--ion-safe-area-top: 0px}[_nghost-%COMP%]   ion-tabs[_ngcontent-%COMP%]{background:transparent;position:relative}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{position:relative;background:var(--tabs-background);padding-inline-end:calc(var(--ion-safe-area-right) + 0px);height:var(--height);color:var(--tabs-color);border-bottom:1px solid var(--stroke);display:flex;flex-direction:row;justify-content:space-between;flex-shrink:0}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-button.arrow-button[_ngcontent-%COMP%]{flex-shrink:1;margin:0;padding:0;--padding-start: 0;--padding-end: 0;min-width:30px;height:var(--height);--border-radius: 0}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-button.arrow-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mdl-typography-icon-fontSize-sm)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]{text-align:center;line-height:1.6rem;flex-grow:1}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{border-bottom:4px solid transparent;min-width:100px;height:var(--height);cursor:pointer;overflow:hidden}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{width:100%;max-width:100%}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;max-width:100%;line-height:1.2em;display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font:var(--mdl-typography-label-font-lg)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-inline-start:4px;margin-inline-end:0px}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[aria-selected=true][_ngcontent-%COMP%], [_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide.selected[_ngcontent-%COMP%]{color:var(--color-active);border-bottom-color:var(--border-color-active)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[aria-selected=true][_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide.selected[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{color:var(--color-active)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[aria-selected=true][_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide.selected[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:var(--font-weight-active)}[_nghost-%COMP%]   ion-tab-bar.tabs-hidden[_ngcontent-%COMP%]{display:none!important;transform:translateY(0)!important}[_nghost-%COMP%]     core-tab, [_nghost-%COMP%]     .core-tab{display:none;height:100%;position:relative;z-index:1}[_nghost-%COMP%]     core-tab.selected, [_nghost-%COMP%]     .core-tab.selected{display:contents}[_nghost-%COMP%]     core-tab ion-header, [_nghost-%COMP%]     .core-tab ion-header{display:none}[_nghost-%COMP%]     core-tab .fixed-content, [_nghost-%COMP%]     core-tab .scroll-content, [_nghost-%COMP%]     .core-tab .fixed-content, [_nghost-%COMP%]     .core-tab .scroll-content{margin-top:0!important;margin-bottom:0!important}[_nghost-%COMP%]   div.core-tabs-content-container[_ngcontent-%COMP%]{flex-grow:1;position:relative}"]}),CoreTabsOutletComponent})()},72597:(e,n,r)=>{"use strict";r.d(n,{K:()=>g});var o=r(10467),i=r(54438),s=r(81690),a=r(62393),c=r(13988),u=r(2469),p=r(73564),f=r(60177);function CoreTabComponent_Conditional_0_Template(e,n){if(1&e&&i.eu8(0,0),2&e){const e=i.XpG();i.Y8G("ngTemplateOutlet",e.template)}}let g=(()=>{var e;class CoreTabComponent{set enabled(e){const n=this.isEnabled!=(e=void 0===e||e);this.isEnabled=e,this.initialized&&n&&this.tabs.tabVisibilityChanged()}get enabled(){return this.isEnabled}constructor(e,n){this.tabs=e,this.id="",this.ionSelect=new i.bkB,this.loaded=!1,this.initialized=!1,this.isEnabled=!0,this.element=n.nativeElement,this.id=this.id||`core-tab-${s.j.getUniqueId("CoreTabComponent")}`,this.element.setAttribute("role","tabpanel"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-hidden","true")}ngOnInit(){this.element.setAttribute("aria-labelledby",`${this.id}-tab`),this.element.setAttribute("id",this.id),this.tabs.addTab(this),this.initialized=!0}ngOnDestroy(){this.tabs.removeTab(this)}selectTab(){var e=this;return(0,o.A)((function*(){var n;e.element.classList.add("selected"),e.tabElement=e.tabElement||document.getElementById(`${e.id}-tab`),null===(n=e.tabElement)||void 0===n||n.setAttribute("aria-selected","true"),e.element.setAttribute("aria-hidden","false"),e.loaded=!0,e.ionSelect.emit(e),e.showHideNavBarButtons(!0)}))()}unselectTab(){var e;null===(e=this.tabElement)||void 0===e||e.setAttribute("aria-selected","false"),this.element.classList.remove("selected"),this.element.setAttribute("aria-hidden","true"),this.showHideNavBarButtons(!1)}showHideNavBarButtons(e){this.element.querySelectorAll("core-navbar-buttons").forEach((n=>{const r=a.D.resolve(n,c.c);r&&r.forceHide(!e)}))}}return(e=CoreTabComponent).ɵfac=function CoreTabComponent_Factory(n){return new(n||e)(i.rXU(p.h),i.rXU(i.aKT))},e.ɵcmp=i.VBU({type:e,selectors:[["core-tab"]],contentQueries:function CoreTabComponent_ContentQueries(e,n,r){if(1&e&&i.wni(r,i.C4Q,5),2&e){let e;i.mGM(e=i.lsd())&&(n.template=e.first)}},inputs:{title:"title",icon:"icon",badge:"badge",badgeStyle:"badgeStyle",badgeA11yText:"badgeA11yText",class:"class",enabled:"enabled",id:"id"},outputs:{ionSelect:"ionSelect"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function CoreTabComponent_Template(e,n){1&e&&i.DNE(0,CoreTabComponent_Conditional_0_Template,1,1,"ng-container",0),2&e&&i.vxM(0,n.loaded&&n.template?0:-1)},dependencies:[u.V,f.T3],encapsulation:2}),CoreTabComponent})()},73564:(e,n,r)=>{"use strict";r.d(n,{h:()=>b});var o=r(10467),i=r(58483),s=r(91416),a=r(2469),c=r(86198),u=r(43570),p=r(54438),f=r(2910),g=r(73955);const v=["originalTabs"],C=["*"],_forTrack0=(e,n)=>n.id,_c2=e=>({$a:e});function CoreTabsComponent_Conditional_1_Template(e,n){1&e&&(p.nrm(0,"ion-spinner"),p.nI1(1,"translate")),2&e&&p.BMQ("aria-label",p.bMT(1,1,"core.loading"))}function CoreTabsComponent_Conditional_2_Conditional_2_Template(e,n){1&e&&p.nrm(0,"ion-icon",5)}function CoreTabsComponent_Conditional_2_For_6_Conditional_0_Conditional_2_Template(e,n){if(1&e&&p.nrm(0,"ion-icon",11),2&e){const e=p.XpG(2).$implicit;p.Y8G("name",e.icon)}}function CoreTabsComponent_Conditional_2_For_6_Conditional_0_Conditional_7_Conditional_3_Template(e,n){if(1&e&&(p.j41(0,"span",12),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&e){const e=p.XpG(3).$implicit;p.R7$(),p.SpI(" ",p.i5U(2,1,e.badgeA11yText,p.eq3(4,_c2,e.badge))," ")}}function CoreTabsComponent_Conditional_2_For_6_Conditional_0_Conditional_7_Template(e,n){if(1&e&&(p.j41(0,"ion-badge")(1,"span"),p.EFF(2),p.k0s(),p.DNE(3,CoreTabsComponent_Conditional_2_For_6_Conditional_0_Conditional_7_Conditional_3_Template,3,6,"span",12),p.k0s()),2&e){const e=p.XpG(2).$implicit;p.R7$(),p.BMQ("aria-hidden",!!e.badgeA11yText),p.R7$(),p.JRh(e.badge),p.R7$(),p.vxM(3,e.badgeA11yText?3:-1)}}function CoreTabsComponent_Conditional_2_For_6_Conditional_0_Template(e,n){if(1&e){const e=p.RV6();p.j41(0,"swiper-slide",9)(1,"ion-tab-button",10),p.bIt("click",(function CoreTabsComponent_Conditional_2_For_6_Conditional_0_Template_ion_tab_button_click_1_listener(n){p.eBV(e);const r=p.XpG().$implicit,o=p.XpG(2);return p.Njj(o.selectTab(r.id,n))}))("keydown",(function CoreTabsComponent_Conditional_2_For_6_Conditional_0_Template_ion_tab_button_keydown_1_listener(n){p.eBV(e);const r=p.XpG().$implicit,o=p.XpG(2);return p.Njj(o.tabAction.keyDown(r.id,n))}))("keyup",(function CoreTabsComponent_Conditional_2_For_6_Conditional_0_Template_ion_tab_button_keyup_1_listener(n){p.eBV(e);const r=p.XpG().$implicit,o=p.XpG(2);return p.Njj(o.tabAction.keyUp(r.id,n))})),p.DNE(2,CoreTabsComponent_Conditional_2_For_6_Conditional_0_Conditional_2_Template,1,1,"ion-icon",11),p.j41(3,"ion-label")(4,"h2"),p.EFF(5),p.nI1(6,"translate"),p.k0s(),p.DNE(7,CoreTabsComponent_Conditional_2_For_6_Conditional_0_Conditional_7_Template,4,3,"ion-badge"),p.k0s()()()}if(2&e){const e=p.XpG().$implicit,n=p.XpG(2);p.HbH(e.class),p.AVh("selected",n.selected===e.id),p.Y8G("id",e.id+"-tab"),p.R7$(),p.Y8G("layout",n.layout)("tabindex",n.selected===e.id?0:-1),p.BMQ("aria-controls",e.id)("aria-selected",n.selected===e.id),p.R7$(),p.vxM(2,e.icon?2:-1),p.R7$(3),p.JRh(p.bMT(6,13,e.title)),p.R7$(2),p.vxM(7,e.badge?7:-1)}}function CoreTabsComponent_Conditional_2_For_6_Template(e,n){if(1&e&&p.DNE(0,CoreTabsComponent_Conditional_2_For_6_Conditional_0_Template,8,15,"swiper-slide",8),2&e){p.vxM(0,n.$implicit.enabled?0:-1)}}function CoreTabsComponent_Conditional_2_Conditional_9_Template(e,n){1&e&&p.nrm(0,"ion-icon",7)}function CoreTabsComponent_Conditional_2_Template(e,n){if(1&e){const e=p.RV6();p.j41(0,"ion-button",4),p.nI1(1,"translate"),p.bIt("click",(function CoreTabsComponent_Conditional_2_Template_ion_button_click_0_listener(){p.eBV(e);const n=p.XpG();return p.Njj(n.slidePrev())})),p.DNE(2,CoreTabsComponent_Conditional_2_Conditional_2_Template,1,0,"ion-icon",5),p.k0s(),p.j41(3,"swiper-container",6,1),p.Z7z(5,CoreTabsComponent_Conditional_2_For_6_Template,1,1,null,null,_forTrack0),p.k0s(),p.j41(7,"ion-button",4),p.nI1(8,"translate"),p.bIt("click",(function CoreTabsComponent_Conditional_2_Template_ion_button_click_7_listener(){p.eBV(e);const n=p.XpG();return p.Njj(n.slideNext())})),p.DNE(9,CoreTabsComponent_Conditional_2_Conditional_9_Template,1,0,"ion-icon",7),p.k0s()}if(2&e){const e=p.XpG();p.Y8G("disabled",!e.showPrevButton)("ariaLabel",p.bMT(1,8,"core.previous")),p.R7$(2),p.vxM(2,e.showPrevButton?2:-1),p.R7$(),p.Y8G("slidesPerView",e.swiperOpts.slidesPerView),p.BMQ("aria-label",e.description),p.R7$(2),p.Dyx(e.tabs),p.R7$(2),p.Y8G("disabled",!e.showNextButton)("ariaLabel",p.bMT(8,10,"core.next")),p.R7$(2),p.vxM(9,e.showNextButton?9:-1)}}let b=(()=>{var e;class CoreTabsComponent extends i.O{constructor(){super(...arguments),this.parentScrollable=!1,this.layout="icon-hide"}set originalTabs(e){setTimeout((()=>{var n;e.nativeElement&&!this.originalTabsContainer&&(this.originalTabsContainer=null===(n=this.originalTabs)||void 0===n?void 0:n.nativeElement)}),0)}ngAfterViewInit(){var _superprop_getNgAfterViewInit=()=>super.ngAfterViewInit,e=this;return(0,o.A)((function*(){_superprop_getNgAfterViewInit().call(e)}))()}addTab(e){-1===this.getTabIndex(e.id)&&(this.tabs.push(e),this.sortTabs(),setTimeout((()=>{this.calculateSlides()})))}removeTab(e){const n=this.getTabIndex(e.id);this.tabs.splice(n,1),this.calculateSlides()}loadTab(e){var n=this;return(0,o.A)((function*(){const r=n.getSelected();return null==r||r.unselectTab(),yield e.selectTab(),!0}))()}sortTabs(){if(!this.originalTabsContainer)return;const e=[];this.tabs.forEach((n=>{var r;const o=Array.prototype.indexOf.call(null===(r=this.originalTabsContainer)||void 0===r?void 0:r.children,n.element);-1!=o&&(e[o]=n)})),this.tabs=e}tabVisibilityChanged(){this.calculateSlides()}}return(e=CoreTabsComponent).ɵfac=(()=>{let n;return function CoreTabsComponent_Factory(r){return(n||(n=p.xGo(e)))(r||e)}})(),e.ɵcmp=p.VBU({type:e,selectors:[["core-tabs"]],viewQuery:function CoreTabsComponent_Query(e,n){if(1&e&&p.GBs(v,5),2&e){let e;p.mGM(e=p.lsd())&&(n.originalTabs=e.first)}},inputs:{parentScrollable:[p.Mj6.HasDecoratorInputTransform,"parentScrollable","parentScrollable",s.G],layout:"layout"},standalone:!0,features:[p.GFd,p.Vt3,p.aNF],ngContentSelectors:C,decls:6,vars:2,consts:[["originalTabs",""],["swiperRef",""],["slot","top",1,"core-tabs-bar",3,"hidden"],[1,"core-tabs-content-container"],["fill","clear",1,"arrow-button",3,"click","disabled","ariaLabel"],["name","fas-chevron-left","aria-hidden","true","slot","icon-only"],["role","tablist",3,"slidesPerView"],["name","fas-chevron-right","aria-hidden","true","slot","icon-only"],["role","presentation",3,"id","selected","class"],["role","presentation",3,"id"],["role","tab",3,"click","keydown","keyup","layout","tabindex"],["aria-hidden","true",3,"name"],[1,"sr-only"]],template:function CoreTabsComponent_Template(e,n){1&e&&(p.NAR(),p.j41(0,"ion-tab-bar",2),p.DNE(1,CoreTabsComponent_Conditional_1_Template,2,3,"ion-spinner")(2,CoreTabsComponent_Conditional_2_Template,10,12),p.k0s(),p.j41(3,"div",3,0),p.SdG(5),p.k0s()),2&e&&(p.Y8G("hidden",n.hideUntil&&(!n.tabs||n.numTabsShown<=1)),p.R7$(),p.vxM(1,n.hideUntil?2:1))},dependencies:[a.V,f.In,f.Jm,f.iq,f.he,f.w2,f.Jq,f.qW,g.D9,u.T,c.t],styles:["[_nghost-%COMP%]{--tabs-background: var(--core-tabs-background);--tabs-color: var(--core-tab-color);--height: var(--core-tabs-height);height:100%;display:flex;flex-direction:column;--ion-safe-area-top: 0px}[_nghost-%COMP%]   ion-tabs[_ngcontent-%COMP%]{background:transparent;position:relative}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{position:relative;background:var(--tabs-background);padding-inline-end:calc(var(--ion-safe-area-right) + 0px);height:var(--height);color:var(--tabs-color);border-bottom:1px solid var(--stroke);display:flex;flex-direction:row;justify-content:space-between;flex-shrink:0}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-button.arrow-button[_ngcontent-%COMP%]{flex-shrink:1;margin:0;padding:0;--padding-start: 0;--padding-end: 0;min-width:30px;height:var(--height);--border-radius: 0}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   ion-button.arrow-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--mdl-typography-icon-fontSize-sm)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]{text-align:center;line-height:1.6rem;flex-grow:1}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]{border-bottom:4px solid transparent;min-width:100px;height:var(--height);cursor:pointer;overflow:hidden}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{width:100%;max-width:100%}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;max-width:100%;line-height:1.2em;display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font:var(--mdl-typography-label-font-lg)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin-inline-start:4px;margin-inline-end:0px}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[aria-selected=true][_ngcontent-%COMP%], [_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide.selected[_ngcontent-%COMP%]{color:var(--color-active);border-bottom-color:var(--border-color-active)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[aria-selected=true][_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide.selected[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]{color:var(--color-active)}[_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide[aria-selected=true][_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]   swiper-container[_ngcontent-%COMP%]   swiper-slide.selected[_ngcontent-%COMP%]   ion-tab-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:var(--font-weight-active)}[_nghost-%COMP%]   ion-tab-bar.tabs-hidden[_ngcontent-%COMP%]{display:none!important;transform:translateY(0)!important}[_nghost-%COMP%]     core-tab, [_nghost-%COMP%]     .core-tab{display:none;height:100%;position:relative;z-index:1}[_nghost-%COMP%]     core-tab.selected, [_nghost-%COMP%]     .core-tab.selected{display:contents}[_nghost-%COMP%]     core-tab ion-header, [_nghost-%COMP%]     .core-tab ion-header{display:none}[_nghost-%COMP%]     core-tab .fixed-content, [_nghost-%COMP%]     core-tab .scroll-content, [_nghost-%COMP%]     .core-tab .fixed-content, [_nghost-%COMP%]     .core-tab .scroll-content{margin-top:0!important;margin-bottom:0!important}[_nghost-%COMP%]   div.core-tabs-content-container[_ngcontent-%COMP%]{flex-grow:1;position:relative}"]}),CoreTabsComponent})()},34198:(e,n,r)=>{"use strict";r.d(n,{G:()=>C});var o=r(10467),i=r(91416),s=r(54438),a=r(98870),c=r(24742),u=r(2469),p=r(56228),f=r(60177),g=r(2910),v=r(73955);function CoreTimerComponent_Conditional_0_Conditional_0_ng_container_2_Template(e,n){1&e&&s.eu8(0)}function CoreTimerComponent_Conditional_0_Conditional_0_Template(e,n){if(1&e&&(s.j41(0,"ion-item",1)(1,"ion-label"),s.DNE(2,CoreTimerComponent_Conditional_0_Conditional_0_ng_container_2_Template,1,0,"ng-container",2),s.k0s()()),2&e){s.XpG();const e=s.sdS(3),n=s.XpG();s.BMQ("aria-label",n.timerText),s.R7$(),s.ZvI("ion-justify-content-",n.align,""),s.R7$(),s.Y8G("ngTemplateOutlet",e)}}function CoreTimerComponent_Conditional_0_Conditional_1_ng_container_1_Template(e,n){1&e&&s.eu8(0)}function CoreTimerComponent_Conditional_0_Conditional_1_Template(e,n){if(1&e&&(s.j41(0,"div",3),s.DNE(1,CoreTimerComponent_Conditional_0_Conditional_1_ng_container_1_Template,1,0,"ng-container",2),s.k0s()),2&e){s.XpG();const e=s.sdS(3),n=s.XpG();s.ZvI("core-timer ion-padding ion-justify-content-",n.align,""),s.BMQ("aria-label",n.timerText),s.R7$(),s.Y8G("ngTemplateOutlet",e)}}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_1_Template(e,n){if(1&e&&(s.j41(0,"span",5),s.EFF(1),s.k0s()),2&e){const e=s.XpG(4);s.R7$(),s.JRh(e.timerText)}}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_2_Template(e,n){if(1&e&&(s.j41(0,"span",6),s.EFF(1),s.nI1(2,"coreSecondsToHMS"),s.k0s()),2&e){const e=s.XpG(4);s.R7$(),s.SpI(" ",s.bMT(2,1,e.timeLeft)," ")}}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Conditional_2_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"button",9),s.bIt("click",(function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Conditional_2_Template_button_click_0_listener(){s.eBV(e);const n=s.XpG(5);return s.Njj(n.toggleTimeLeftVisibility())})),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&e&&(s.R7$(),s.JRh(s.bMT(2,1,"core.hide")))}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Conditional_3_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"button",9),s.bIt("click",(function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Conditional_3_Template_button_click_0_listener(){s.eBV(e);const n=s.XpG(5);return s.Njj(n.toggleTimeLeftVisibility())})),s.EFF(1),s.nI1(2,"translate"),s.k0s()}2&e&&(s.R7$(),s.JRh(s.bMT(2,1,"core.show")))}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Template(e,n){if(1&e&&(s.j41(0,"div",7),s.EFF(1," ( "),s.DNE(2,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Conditional_2_Template,3,3,"button",8)(3,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Conditional_3_Template,3,3),s.EFF(4," ) "),s.k0s()),2&e){const e=s.XpG(4);s.R7$(2),s.vxM(2,e.showTimeLeft?2:3)}}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Template(e,n){if(1&e&&(s.j41(0,"div",4),s.DNE(1,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_1_Template,2,1,"span",5)(2,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_2_Template,3,3,"span",6),s.k0s(),s.DNE(3,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Conditional_3_Template,5,1,"div",7)),2&e){const e=s.XpG(3);s.R7$(),s.vxM(1,e.timerText?1:-1),s.R7$(),s.vxM(2,e.showTimeLeft?2:-1),s.R7$(),s.vxM(3,e.hidable?3:-1)}}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_1_Conditional_1_Template(e,n){if(1&e&&s.EFF(0),2&e){const e=s.XpG(4);s.SpI(" ",e.timeUpText," ")}}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_1_Conditional_2_Template(e,n){1&e&&(s.EFF(0),s.nI1(1,"translate")),2&e&&s.SpI(" ",s.bMT(1,1,"core.timesup")," ")}function CoreTimerComponent_Conditional_0_ng_template_2_Conditional_1_Template(e,n){if(1&e&&(s.j41(0,"div",10),s.DNE(1,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_1_Conditional_1_Template,1,1)(2,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_1_Conditional_2_Template,2,3),s.k0s()),2&e){const e=s.XpG(3);s.R7$(),s.vxM(1,e.timeUpText?1:2)}}function CoreTimerComponent_Conditional_0_ng_template_2_Template(e,n){if(1&e&&s.DNE(0,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_0_Template,4,3)(1,CoreTimerComponent_Conditional_0_ng_template_2_Conditional_1_Template,3,1),2&e){const e=s.XpG(2);s.vxM(0,e.timeLeft>0?0:1)}}function CoreTimerComponent_Conditional_0_Template(e,n){if(1&e&&s.DNE(0,CoreTimerComponent_Conditional_0_Conditional_0_Template,3,5,"ion-item",1)(1,CoreTimerComponent_Conditional_0_Conditional_1_Template,2,5)(2,CoreTimerComponent_Conditional_0_ng_template_2_Template,2,1,"ng-template",null,0,s.C5r),2&e){const e=s.XpG();s.vxM(0,e.mode!==e.modeBasic?0:1)}}let C=(()=>{var e;class CoreTimerComponent{constructor(e){this.elementRef=e,this.endTime=0,this.timeLeftClassThreshold=100,this.align="start",this.hidable=!1,this.mode=b.ITEM,this.underTimeClassThresholds=[],this.finished=new s.bkB,this.hiddable=!1,this.modeBasic=b.BASIC,this.showTimeLeft=!0}ngOnInit(){var e=this;return(0,o.A)((function*(){e.hiddable&&!e.hidable&&(e.hidable=!0);const n=e.timeLeftClass||"core-timer-timeleft-",r=Math.round(e.endTime);if(e.underTimeClassThresholds.sort(((e,n)=>e-n)),"left"===e.align?e.align="start":"right"===e.align&&(e.align="end"),e.hidable&&e.timerHiddenPreferenceName)try{const n=yield a.CoreUser.getUserPreference(e.timerHiddenPreferenceName);e.showTimeLeft="1"!==n}catch{}let o;e.timeInterval=window.setInterval((()=>{if(o=o||e.elementRef.nativeElement,e.timeLeft=Math.max(r-c.j.timestamp(),0),e.timeLeft<=100&&(e.hidable=!1,e.showTimeLeft=!0),o){e.timeLeft<e.timeLeftClassThreshold&&!o.classList.contains(n+e.timeLeft)&&(o.classList.remove(n+(e.timeLeft+1)),o.classList.remove(n+(e.timeLeft+2)),o.classList.add(n+e.timeLeft));for(let n=0;n<e.underTimeClassThresholds.length;n++){const r=e.underTimeClassThresholds[n];if(e.timeLeft<=r){if(!o.classList.contains(`core-timer-under-${e.timeLeft}`)){const i=e.underTimeClassThresholds[n+1];o.classList.add(`core-timer-under-${r}`),i&&o.classList.remove(`core-timer-under-${i}`)}break}}}if(0===e.timeLeft)return clearInterval(e.timeInterval),e.finished.emit(),void 0}),200)}))()}toggleTimeLeftVisibility(){this.showTimeLeft=!this.showTimeLeft,this.hidable&&this.timerHiddenPreferenceName&&a.CoreUser.setUserPreference(this.timerHiddenPreferenceName,this.showTimeLeft?"0":"1")}ngOnDestroy(){clearInterval(this.timeInterval)}}return(e=CoreTimerComponent).ɵfac=function CoreTimerComponent_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵcmp=s.VBU({type:e,selectors:[["core-timer"]],inputs:{endTime:"endTime",timerText:"timerText",timeLeftClass:"timeLeftClass",timeLeftClassThreshold:"timeLeftClassThreshold",align:"align",hidable:[s.Mj6.HasDecoratorInputTransform,"hidable","hidable",i.G],timeUpText:"timeUpText",mode:"mode",underTimeClassThresholds:"underTimeClassThresholds",timerHiddenPreferenceName:"timerHiddenPreferenceName",hiddable:[s.Mj6.HasDecoratorInputTransform,"hiddable","hiddable",i.G]},outputs:{finished:"finished"},standalone:!0,features:[s.GFd,s.aNF],decls:1,vars:1,consts:[["timerTemplate",""],["role","timer",1,"core-timer"],[4,"ngTemplateOutlet"],["role","timer"],[1,"ion-text-wrap"],[1,"core-timer-text"],[1,"core-timer-time-left"],[1,"core-timer-visibility"],[1,"as-link"],[1,"as-link",3,"click"],[1,"core-timesup"]],template:function CoreTimerComponent_Template(e,n){1&e&&s.DNE(0,CoreTimerComponent_Conditional_0_Template,4,1),2&e&&s.vxM(0,void 0!==n.timeLeft?0:-1)},dependencies:[u.V,f.T3,g.uz,g.he,v.D9,p.Y],styles:["[_nghost-%COMP%]{--timer-background: transparent}[_nghost-%COMP%]   .core-timer[_ngcontent-%COMP%]   .core-timer-time-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-timer[_ngcontent-%COMP%]   .core-timesup[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .core-timer[_ngcontent-%COMP%]   .core-timesup[_ngcontent-%COMP%]{flex-grow:1;text-align:center}[_nghost-%COMP%]   ion-item.core-timer[_ngcontent-%COMP%]{--background: var(--timer-background);--color: var(--timer-text-color, var(--text-color))}[_nghost-%COMP%]   div.core-timer[_ngcontent-%COMP%]{background:var(--timer-background);color:var(--timer-text-color, var(--text-color));border-radius:var(--mdl-shape-borderRadius-lg)}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{color:var(--timer-text-color, var(--core-link-color))}[_nghost-%COMP%]   ion-item.core-timer[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   div.core-timer[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   ion-item.core-timer[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .core-timer-visibility[_ngcontent-%COMP%], [_nghost-%COMP%]   div.core-timer[_ngcontent-%COMP%]   .core-timer-visibility[_ngcontent-%COMP%]{flex-grow:1;text-align:end}"]}),CoreTimerComponent})();var b=function(e){return e.ITEM="item",e.BASIC="basic",e}(b||{})},16658:(e,n,r)=>{"use strict";r.d(n,{T:()=>I});var o=r(10467),i=r(52749),s=r(81690),a=r(49882),c=r(15324),u=r(94455),p=r(41131),f=r(8014),g=r(91416),v=r(2469),C=r(10892),b=r(8199),w=r(76833),A=r(54438),_=r(73955);const E=["*"],_c1=e=>({$a:e});function CoreUserAvatarComponent_Conditional_0_Conditional_0_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"img",2),A.bIt("onLoad",(function CoreUserAvatarComponent_Conditional_0_Conditional_0_Template_img_onLoad_0_listener(n){A.eBV(e);const r=A.XpG(2);return A.Njj(r.imageLoaded(n))}))("ariaButtonClick",(function CoreUserAvatarComponent_Conditional_0_Conditional_0_Template_img_ariaButtonClick_0_listener(n){A.eBV(e);const r=A.XpG(2);return A.Njj(r.gotoProfile(n))})),A.k0s()}if(2&e){const e=A.XpG(2);A.Y8G("url",e.avatarUrl)("alt",e.fullname)("siteId",e.siteId)("hidden",e.imageError)}}function CoreUserAvatarComponent_Conditional_0_Conditional_1_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"img",3),A.nI1(1,"translate"),A.bIt("onLoad",(function CoreUserAvatarComponent_Conditional_0_Conditional_1_Template_img_onLoad_0_listener(n){A.eBV(e);const r=A.XpG(2);return A.Njj(r.imageLoaded(n))})),A.k0s()}if(2&e){const e=A.XpG(2);A.Y8G("url",e.avatarUrl)("alt",A.i5U(1,4,"core.pictureof",A.eq3(7,_c1,e.fullname)))("siteId",e.siteId)("hidden",e.imageError)}}function CoreUserAvatarComponent_Conditional_0_Template(e,n){if(1&e&&A.DNE(0,CoreUserAvatarComponent_Conditional_0_Conditional_0_Template,1,4,"img",1)(1,CoreUserAvatarComponent_Conditional_0_Conditional_1_Template,2,9),2&e){const e=A.XpG();A.vxM(0,e.linkProfile?0:1)}}function CoreUserAvatarComponent_Conditional_1_Conditional_0_Conditional_0_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"div",5),A.bIt("ariaButtonClick",(function CoreUserAvatarComponent_Conditional_1_Conditional_0_Conditional_0_Template_div_ariaButtonClick_0_listener(n){A.eBV(e);const r=A.XpG(3);return A.Njj(r.gotoProfile(n))})),A.k0s()}if(2&e){const e=A.XpG(3);A.Y8G("title",e.fullname),A.BMQ("aria-label",e.fullname)("data-initials",e.initials)}}function CoreUserAvatarComponent_Conditional_1_Conditional_0_Conditional_1_Template(e,n){if(1&e&&(A.nrm(0,"div",6),A.nI1(1,"translate"),A.nI1(2,"translate")),2&e){const e=A.XpG(3);A.Y8G("title",A.i5U(1,3,"core.pictureof",A.eq3(9,_c1,e.fullname))),A.BMQ("aria-label",A.i5U(2,6,"core.pictureof",A.eq3(11,_c1,e.fullname)))("data-initials",e.initials)}}function CoreUserAvatarComponent_Conditional_1_Conditional_0_Template(e,n){if(1&e&&A.DNE(0,CoreUserAvatarComponent_Conditional_1_Conditional_0_Conditional_0_Template,1,3,"div",4)(1,CoreUserAvatarComponent_Conditional_1_Conditional_0_Conditional_1_Template,3,13),2&e){const e=A.XpG(2);A.vxM(0,e.linkProfile?0:1)}}function CoreUserAvatarComponent_Conditional_1_Conditional_1_Template(e,n){1&e&&A.nrm(0,"img",7)}function CoreUserAvatarComponent_Conditional_1_Template(e,n){if(1&e&&A.DNE(0,CoreUserAvatarComponent_Conditional_1_Conditional_0_Template,2,1)(1,CoreUserAvatarComponent_Conditional_1_Conditional_1_Template,1,0),2&e){const e=A.XpG();A.vxM(0,e.initials?0:1)}}function CoreUserAvatarComponent_Conditional_2_Template(e,n){1&e&&(A.nrm(0,"span",0),A.nI1(1,"translate")),2&e&&A.BMQ("aria-label",A.bMT(1,1,"core.online"))}let I=(()=>{var e;class CoreUserAvatarComponent{constructor(){this.linkProfile=!0,this.checkOnline=!1,this.initials="",this.imageError=!1,this.timetoshowusers=3e5,this.currentUserId=i.CoreSites.getCurrentSiteUserId(),this.pictureObserver=a.z.on(w.bK,(e=>{e.userId===this.userId&&(this.avatarUrl=e.picture)}),i.CoreSites.getCurrentSiteId())}ngOnInit(){var e=this;return(0,o.A)((function*(){var n,r,o,s,a,c;(e.siteId=null!==(n=e.siteId)&&void 0!==n?n:e.site&&"id"in e.site?e.site.id:i.CoreSites.getCurrentSiteId(),e.site&&!e.user)&&(e.user={id:null!==(r="userid"in e.site?e.site.userid:e.site.userId)&&void 0!==r?r:(yield i.CoreSites.getSite(e.siteId)).getUserId(),fullname:null!==(o=e.site.fullname)&&void 0!==o?o:"",firstname:null!==(s=e.site.firstname)&&void 0!==s?s:"",lastname:null!==(a=e.site.lastname)&&void 0!==a?a:"",profileimageurl:null!==(c=e.site.userpictureurl)&&void 0!==c?c:""});e.setFields()}))()}ngOnChanges(e){e&&this.setFields()}imageLoaded(e){this.imageError=!e}setFields(){var e=this;return(0,o.A)((function*(){var n,r,o,i,s,a,c,u,g,v,C,b;const w=e.profileUrl||(null===(n=e.user)||void 0===n?void 0:n.profileimageurl)||(null===(r=e.user)||void 0===r?void 0:r.userprofileimageurl)||(null===(o=e.user)||void 0===o?void 0:o.userpictureurl)||(null===(i=e.user)||void 0===i?void 0:i.profileimageurlsmall)||(null===(s=e.user)||void 0===s||null===(s=s.urls)||void 0===s?void 0:s.profileimage);"string"==typeof w&&(e.avatarUrl=w),e.fullname=e.fullname||(null===(a=e.user)||void 0===a?void 0:a.fullname)||(null===(c=e.user)||void 0===c?void 0:c.userfullname),e.avatarUrl&&f.F.isThemeImageUrl(e.avatarUrl)&&(e.avatarUrl=void 0),e.userId=e.userId||(null===(u=e.user)||void 0===u?void 0:u.userid)||(null===(g=e.user)||void 0===g?void 0:g.id),e.courseId=e.courseId||(null===(v=e.user)||void 0===v?void 0:v.courseid),e.initials=yield p.CoreUserHelper.getUserInitialsFromParts({firstname:null===(C=e.user)||void 0===C?void 0:C.firstname,lastname:null===(b=e.user)||void 0===b?void 0:b.lastname,fullname:e.fullname,userId:e.userId})}))()}isOnline(){if(!this.user)return!1;if(s.j.isFalseOrZero(this.user.isonline))return!1;if(this.user.lastaccess){const e=Date.now()-this.timetoshowusers;return 1e3*this.user.lastaccess>=e}return!!this.user.isonline&&u.WE.isOnline()}gotoProfile(e){this.linkProfile&&this.userId&&(e.preventDefault(),e.stopPropagation(),c.CoreNavigator.navigateToSitePath("user",{params:{userId:this.userId,courseId:this.courseId}}))}ngOnDestroy(){this.pictureObserver.off()}}return(e=CoreUserAvatarComponent).ɵfac=function CoreUserAvatarComponent_Factory(n){return new(n||e)},e.ɵcmp=A.VBU({type:e,selectors:[["core-user-avatar"]],inputs:{user:"user",site:"site",profileUrl:"profileUrl",linkProfile:[A.Mj6.HasDecoratorInputTransform,"linkProfile","linkProfile",g.G],fullname:"fullname",userId:"userId",courseId:"courseId",checkOnline:[A.Mj6.HasDecoratorInputTransform,"checkOnline","checkOnline",g.G],siteId:"siteId"},standalone:!0,features:[A.GFd,A.OA$,A.aNF],ngContentSelectors:E,decls:4,vars:3,consts:[["role","status",1,"contact-status","online"],["core-external-content","",1,"userpicture",3,"url","alt","siteId","hidden"],["core-external-content","",1,"userpicture",3,"onLoad","ariaButtonClick","url","alt","siteId","hidden"],["core-external-content","","aria-hidden","true",1,"userpicture",3,"onLoad","url","alt","siteId","hidden"],[1,"userinitials",3,"title"],[1,"userinitials",3,"ariaButtonClick","title"],["role","img","aria-hidden","true",1,"userinitials",3,"title"],["src","assets/img/user-avatar.png","role","presentation","aria-hidden","true","alt","",1,"userpicture_loading"]],template:function CoreUserAvatarComponent_Template(e,n){1&e&&(A.NAR(),A.DNE(0,CoreUserAvatarComponent_Conditional_0_Template,2,1)(1,CoreUserAvatarComponent_Conditional_1_Template,2,1)(2,CoreUserAvatarComponent_Conditional_2_Template,2,3,"span",0),A.SdG(3)),2&e&&(A.vxM(0,n.avatarUrl?0:-1),A.R7$(),A.vxM(1,!n.avatarUrl||n.imageError?1:-1),A.R7$(),A.vxM(2,n.checkOnline&&n.isOnline()?2:-1))},dependencies:[v.V,_.D9,C.l,b.a],styles:['[_nghost-%COMP%]{position:relative;width:var(--core-avatar-size);height:var(--core-avatar-size);padding:0;--contact-status-size: 14px;--margin-end-on-item: 8px;--margin-vertical-on-item: 8px;--userpicture-padding: 0px}[_nghost-%COMP%]   img.userpicture[_ngcontent-%COMP%]{border-radius:var(--core-avatar-radius);width:var(--core-avatar-size);height:var(--core-avatar-size);max-width:var(--core-avatar-size);max-height:var(--core-avatar-size);min-width:var(--core-avatar-size);min-height:var(--core-avatar-size);padding:var(--userpicture-padding)}[_nghost-%COMP%]   img.userpicture[alt][_ngcontent-%COMP%]{text-indent:-999999px;white-space:nowrap;overflow:hidden}[_nghost-%COMP%]   img.userpicture[_ngcontent-%COMP%]:not([src]), [_nghost-%COMP%]   img.userpicture[src=""][_ngcontent-%COMP%]{visibility:visible;display:inline-block;position:relative;margin:var(--userpicture-padding);width:calc(var(--core-avatar-size) - var(--userpicture-padding) - var(--userpicture-padding));height:calc(var(--core-avatar-size) - var(--userpicture-padding) - var(--userpicture-padding))}[_nghost-%COMP%]   img.userpicture[_ngcontent-%COMP%]:not([src]):after, [_nghost-%COMP%]   img.userpicture[src=""][_ngcontent-%COMP%]:after{border-radius:var(--core-avatar-radius);display:block;position:absolute;top:0;left:0;right:0;bottom:0;background:url(/assets/img/user-avatar.png);background-size:contain;content:""}.core-bar-button-image[_nghost-%COMP%]{padding:0;width:var(--core-header-toolbar-button-image-size);height:var(--core-header-toolbar-button-image-size);max-width:var(--core-header-toolbar-button-image-size);max-height:var(--core-header-toolbar-button-image-size);border-radius:var(--core-avatar-radius);display:block}[_nghost-%COMP%]   .contact-status[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:var(--contact-status-size);height:var(--contact-status-size);border-radius:50%}[_nghost-%COMP%]   .contact-status.online[_ngcontent-%COMP%]{border:1px solid white;background-color:var(--core-online-color)}[_nghost-%COMP%]   .userinitials[_ngcontent-%COMP%]{background-color:var(--gray-200);vertical-align:middle;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--core-avatar-radius);color:var(--gray-800);font-weight:400;width:calc(var(--core-avatar-size) - var(--userpicture-padding) - var(--userpicture-padding));height:calc(var(--core-avatar-size) - var(--userpicture-padding) - var(--userpicture-padding));min-width:calc(var(--core-avatar-size) - var(--userpicture-padding) - var(--userpicture-padding));min-height:calc(var(--core-avatar-size) - var(--userpicture-padding) - var(--userpicture-padding));font-size:calc(var(--core-avatar-size) * .3);margin:var(--userpicture-padding)}[_nghost-%COMP%]   .userinitials[_ngcontent-%COMP%]:after{content:attr(data-initials)}.large-avatar[_nghost-%COMP%]   .userinitials[_ngcontent-%COMP%]{margin-top:8px}.toolbar[_nghost-%COMP%]   .contact-status[_ngcontent-%COMP%], .toolbar   [_nghost-%COMP%]   .contact-status[_ngcontent-%COMP%]{width:10px;height:10px}[dir=rtl][_nghost-%COMP%]   .contact-status[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .contact-status[_ngcontent-%COMP%]{left:0;right:unset}ion-item[_nghost-%COMP%], ion-item   [_nghost-%COMP%]{margin-inline-start:0px;margin-inline-end:var(--margin-end-on-item);margin-top:var(--margin-vertical-on-item);margin-bottom:var(--margin-vertical-on-item)}']}),CoreUserAvatarComponent})()},74431:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCacheUpdateFrequency:()=>g,CoreConstants:()=>CoreConstants,DownloadStatus:()=>f,DownloadedStatus:()=>u,MINIMUM_MOODLE_VERSION:()=>v,MOODLE_RELEASES:()=>C,NULL_INJECTION_TOKEN:()=>c,NotDownloadedStatus:()=>p});const o=JSON.parse('{"$":{"app_id":"com.lms.edwantage","appname":"Edwantage","versioncode":50001,"versionname":"5.0.0","cache_update_frequency_usually":420000,"cache_update_frequency_often":1200000,"cache_update_frequency_sometimes":3600000,"cache_update_frequency_rarely":43200000,"default_lang":"en","languages":{"af":"Afrikaans","ar":"العربية","az":"Azərbaycanca","bg":"Български","ca":"Català","cs":"Čeština","da":"Dansk","de":"Deutsch","de-du":"Deutsch (du)","el":"Ελληνικά","en":"English","en-us":"English (United States)","es":"Español - Internacional","es-mx":"Español - México","eu":"Euskara","fa":"فارسی","fi":"Suomi","fr":"Français","gl":"Galego","he":"עברית","hi":"हिंदी","hr":"Hrvatski","hsb":"Hornjoserbsce","hu":"magyar","hy":"Հայերեն","id":"Bahasa Indonesia","it":"Italiano","ja":"日本語","km":"ខ្មែរ","kn":"ಕನ್ನಡ","ko":"한국어","lo":"ລາວ","lt":"Lietuvių","lv":"Latviešu","mn":"Монгол","mr":"मराठी","nl":"Nederlands","no":"Norsk","pl":"Polski","ps":"لیسي","pt":"Português - Portugal","pt-br":"Português - Brasil","ro":"Română","ru":"Русский","sl":"Slovenščina","sq":"Shqip","sr-cr":"Српски","sr-lt":"Srpski","sv":"Svenska","szl":"Ślōnski","tg":"Тоҷикӣ","tr":"Türkçe","uk":"Українська","uz":"O\'zbekcha","vi":"Vietnamese","zh-cn":"简体中文","zh-tw":"正體中文"},"wsservice":"moodle_mobile_app","demo_sites":{"student":{"url":"https://school.moodledemo.net","username":"student","password":"moodle25"},"teacher":{"url":"https://school.moodledemo.net","username":"teacher","password":"moodle25"}},"defaultZoomLevel":"none","zoomlevels":{"none":100,"medium":110,"high":120},"customurlscheme":"moodlemobile","sites":[],"multisitesdisplay":"","sitefindersettings":{},"onlyallowlistedsites":false,"forcedefaultlanguage":false,"privacypolicy":"https://moodle.net/moodle-app-privacy/","notificoncolor":"#f98012","enableanalytics":false,"enableonboarding":true,"forceColorScheme":"","forceLoginLogo":false,"showTopLogo":"hidden","ioswebviewscheme":"moodleappfs","appstores":{"android":"com.lms.edwantage","ios":"id633359593"},"wsrequestqueuelimit":10,"wsrequestqueuedelay":100,"calendarreminderdefaultvalue":3600,"toastDurations":{"short":2000,"long":3500,"sticky":0},"disableTokenFile":false,"iconsPrefixes":{"font-awesome":{"brands":["fab"],"regular":["far"],"solid":["fa","fas"]},"moodle":{"font-awesome":["fam"],"moodle":["moodle"]}},"clearIABSessionWhenAutoLogin":"android","collapsibleItemsExpanded":false},"j":{"version":"5.0.0","isProduction":false,"isTesting":false,"isDevelopment":true,"lastCommitHash":"4c076e4693d6c0419c1f2cbab687649f4427ee49","compilationTime":1748201301405}}');var i,s=r(54438),a=r(29395);const c=new s.nKC("null"),u={DOWNLOADED:"downloaded",DOWNLOADING:"downloading",OUTDATED:"outdated"},p={DOWNLOADABLE_NOT_DOWNLOADED:"notdownloaded",NOT_DOWNLOADABLE:"notdownloadable"},f={...u,...p},g={USUALLY:0,OFTEN:1,SOMETIMES:2,RARELY:3},v="3.5",C={3.5:2018051700,3.6:2018120300,3.7:2019052e3,3.8:2019111800,3.9:2020061500,"3.10":2020110900,3.11:2021051700,"4.0":2022041900,4.1:2022112800,4.2:2023042400,4.3:2023100900,4.4:2024042200,4.5:2024100700,"5.0":2025041400};class CoreConstants{static enableDevTools(){return this.BUILD.isDevelopment||this.BUILD.isTesting||a.a.hasDevelopmentSetting("DevTools")}}(i=CoreConstants).SECONDS_YEAR=31536e3,i.SECONDS_MONTH=2592e3,i.SECONDS_WEEK=604800,i.SECONDS_DAY=86400,i.SECONDS_HOUR=3600,i.SECONDS_MINUTE=60,i.MILLISECONDS_YEAR=31536e6,i.MILLISECONDS_MONTH=2592e6,i.MILLISECONDS_WEEK=6048e5,i.MILLISECONDS_DAY=864e5,i.MILLISECONDS_HOUR=36e5,i.MILLISECONDS_MINUTE=6e4,i.MILLISECONDS_SECOND=1e3,i.WIFI_DOWNLOAD_THRESHOLD=104857600,i.DOWNLOAD_THRESHOLD=10485760,i.MINIMUM_FREE_SPACE=10485760,i.IOS_FREE_SPACE_THRESHOLD=524288e3,i.NO_SITE_ID="NoSite",i.SETTINGS_RICH_TEXT_EDITOR="CoreSettingsRichTextEditor",i.SETTINGS_NOTIFICATION_SOUND="CoreSettingsNotificationSound",i.SETTINGS_SYNC_ONLY_ON_WIFI="CoreSettingsSyncOnlyOnWifi",i.SETTINGS_DEBUG_DISPLAY="CoreSettingsDebugDisplay",i.SETTINGS_SEND_ON_ENTER="CoreSettingsSendOnEnter",i.SETTINGS_ZOOM_LEVEL="CoreSettingsZoomLevel",i.SETTINGS_COLOR_SCHEME="CoreSettingsColorScheme",i.SETTINGS_ANALYTICS_ENABLED="CoreSettingsAnalyticsEnabled",i.SETTINGS_DONT_SHOW_EXTERNAL_LINK_WARN="CoreSettingsDontShowExtLinkWarn",i.SETTINGS_PINCH_TO_ZOOM="CoreSettingsPinchToZoom",i.WS_TIMEOUT=3e4,i.WS_TIMEOUT_WIFI=3e4,i.LOGIN_SSO_CODE=2,i.LOGIN_SSO_INAPP_CODE=3,i.LOGIN_LAUNCH_DATA="CoreLoginLaunchData",i.DOWNLOADED=f.DOWNLOADED,i.DOWNLOADING=f.DOWNLOADING,i.NOT_DOWNLOADED=f.DOWNLOADABLE_NOT_DOWNLOADED,i.OUTDATED=f.OUTDATED,i.NOT_DOWNLOADABLE=f.NOT_DOWNLOADABLE,i.ICON_DOWNLOADED="fam-cloud-done",i.ICON_DOWNLOADING="spinner",i.ICON_NOT_DOWNLOADED="fas-cloud-arrow-down",i.ICON_OUTDATED="fam-cloud-refresh",i.ICON_NOT_DOWNLOADABLE="",i.ICON_LOADING="spinner",i.ICON_REFRESH="fas-rotate-right",i.ICON_SYNC="fas-rotate",i.RESOURCELIB_DISPLAY_AUTO=0,i.RESOURCELIB_DISPLAY_EMBED=1,i.RESOURCELIB_DISPLAY_FRAME=2,i.RESOURCELIB_DISPLAY_NEW=3,i.RESOURCELIB_DISPLAY_DOWNLOAD=4,i.RESOURCELIB_DISPLAY_OPEN=5,i.RESOURCELIB_DISPLAY_POPUP=6,i.FEATURE_GRADE_HAS_GRADE="grade_has_grade",i.FEATURE_GRADE_OUTCOMES="outcomes",i.FEATURE_ADVANCED_GRADING="grade_advanced_grading",i.FEATURE_CONTROLS_GRADE_VISIBILITY="controlsgradevisbility",i.FEATURE_PLAGIARISM="plagiarism",i.FEATURE_COMPLETION_TRACKS_VIEWS="completion_tracks_views",i.FEATURE_COMPLETION_HAS_RULES="completion_has_rules",i.FEATURE_NO_VIEW_LINK="viewlink",i.FEATURE_IDNUMBER="idnumber",i.FEATURE_GROUPS="groups",i.FEATURE_GROUPINGS="groupings",i.FEATURE_MOD_ARCHETYPE="mod_archetype",i.FEATURE_MOD_INTRO="mod_intro",i.FEATURE_MODEDIT_DEFAULT_COMPLETION="modedit_default_completion",i.FEATURE_COMMENT="comment",i.FEATURE_MOD_PURPOSE="mod_purpose",i.FEATURE_RATE="rate",i.FEATURE_BACKUP_MOODLE2="backup_moodle2",i.FEATURE_SHOW_DESCRIPTION="showdescription",i.FEATURE_USES_QUESTIONS="usesquestions",i.MOD_ARCHETYPE_OTHER=0,i.MOD_ARCHETYPE_RESOURCE=1,i.MOD_ARCHETYPE_ASSIGNMENT=2,i.MOD_ARCHETYPE_SYSTEM=3,i.CALENDAR_DEFAULT_STARTING_WEEKDAY=1,i.DONT_SHOW_NOTIFICATIONS_PERMISSION_WARNING="CoreDontShowNotificationsPermissionWarning",i.DONT_SHOW_EXACT_ALARMS_WARNING="CoreDontShowScheduleExactWarning",i.EXACT_ALARMS_WARNING_DISPLAYED="CoreScheduleExactWarningModalDisplayed",i.CONFIG={...o.$},i.BUILD=o.j},57200:(e,n,r)=>{"use strict";r.d(n,{Ui:()=>Le,BW:()=>getCoreExportedObjects,G6:()=>getCoreServices});var o=r(10467),i=r(21626),s=r(54438),a=r(79555);let c=(()=>{var e;class CoreApplicationInitStatus extends s.H1s{constructor(e){(0,a.p4)(e),super()}whenDone(e){this.donePromise.then(e)}}return(e=CoreApplicationInitStatus).ɵfac=function CoreApplicationInitStatus_Factory(n){return new(n||e)(s.KVO(s.zZn))},e.ɵprov=s.jDH({token:e,factory:e.ɵfac}),CoreApplicationInitStatus})();var u=r(65863),p=r(16228),f=r(28709),g=r(82811),v=r(41580),C=r(5784),b=r(15324),w=r(8398),A=r(16340);let _=(()=>{var e;class CoreDataPrivacyUserHandlerService{constructor(){this.pageName=A.Z,this.type=C.CoreUserProfileHandlerType.LIST_ACCOUNT_ITEM,this.name="CoreDataPrivacy",this.priority=100}isEnabled(){return(0,o.A)((function*(){return yield w.CP.isEnabled()}))()}getDisplayData(){var e,n=this;return{class:"core-data-privacy",icon:"fas-user-shield",title:"core.dataprivacy.pluginname",action:(e=(0,o.A)((function*(e){e.preventDefault(),e.stopPropagation(),yield b.CoreNavigator.navigateToSitePath(n.pageName)})),function action(n){return e.apply(this,arguments)})}}}return(e=CoreDataPrivacyUserHandlerService).ɵfac=function CoreDataPrivacyUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreDataPrivacyUserHandlerService})();const E=(0,a.Qd)(_);var I=r(42858),T=r(33504),P=r(71112);let k=(()=>{var e;class CoreDataPrivacyDataRequestsLinkHandlerService extends P.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreDataPrivacyDataRequestsLinkHandler",this.pattern=/\/admin\/tool\/dataprivacy\/mydatarequests\.php/,this.featureName=A.Q}getActions(){return[{action:(e=(0,o.A)((function*(e){yield b.CoreNavigator.navigateToSitePath(A.Z,{siteId:e})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(){return(0,o.A)((function*(){return yield w.CP.isEnabled()}))()}}return(e=CoreDataPrivacyDataRequestsLinkHandlerService).ɵfac=(()=>{let n;return function CoreDataPrivacyDataRequestsLinkHandlerService_Factory(r){return(n||(n=s.xGo(e)))(r||e)}})(),e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreDataPrivacyDataRequestsLinkHandlerService})();const x=(0,a.Qd)(k);let F=(()=>{var e;class CoreDataPrivacyCreateDataRequestLinkHandlerService extends P.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreDataPrivacyCreateDataRequestLinkHandler",this.pattern=/\/admin\/tool\/dataprivacy\/createdatarequest\.php.*([?&]type=\d+)/,this.featureName=A.Q}getActions(e,n,r){const i={createType:Number(r.type)};return[{action:(s=(0,o.A)((function*(e){yield b.CoreNavigator.navigateToSitePath(A.Z,{params:i,siteId:e})})),function action(e){return s.apply(this,arguments)})}];var s}isEnabled(){return(0,o.A)((function*(){return yield w.CP.isEnabled()}))()}}return(e=CoreDataPrivacyCreateDataRequestLinkHandlerService).ɵfac=(()=>{let n;return function CoreDataPrivacyCreateDataRequestLinkHandlerService_Factory(r){return(n||(n=s.xGo(e)))(r||e)}})(),e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreDataPrivacyCreateDataRequestLinkHandlerService})();const R=(0,a.Qd)(F),N=[{path:A.Z,pathMatch:"full",loadComponent:()=>r.e(22081).then(r.bind(r,22081))}];let L=(()=>{var e;class CoreDataPrivacyModule{}return(e=CoreDataPrivacyModule).ɵfac=function CoreDataPrivacyModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({providers:[{provide:s.hnV,multi:!0,useValue:()=>{C.CoreUserDelegate.registerHandler(E.instance),T.CoreContentLinksDelegate.registerHandler(x.instance),T.CoreContentLinksDelegate.registerHandler(R.instance)}}],imports:[I.b.forChild(N)]}),CoreDataPrivacyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.Obh(L,{imports:[I.b]}));var H=r(83431);let U=(()=>{var e;class CoreEmulatorModule{}return(e=CoreEmulatorModule).ɵfac=function CoreEmulatorModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({}),CoreEmulatorModule})();var B=r(33099),j=r(28619),V=r(93509),G=r(55724),z=r(14276),q=r(24327),W=r(52045),K=r(49629),Q=r(70729),X=r(88633),Y=r(791),J=r(55183),Z=r(75312),ee=r(42599),te=r(90193),ne=r(48189),re=r(4519),oe=r(34877),ie=r(2761),se=r(71201),ae=r(74037);let le=(()=>{var e,n;class CoreUserToursModule{}return(e=CoreUserToursModule).ɵfac=function CoreUserToursModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({providers:[{provide:s.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){yield ae.E.initializeDatabase()})),function useValue(){return n.apply(this,arguments)})}]}),CoreUserToursModule})();const de=[{path:"viewer",loadChildren:()=>[{path:"iframe",loadComponent:()=>r.e(60371).then(r.bind(r,60371))}]}];let ce=(()=>{var e;class CoreViewerModule{}return(e=CoreViewerModule).ɵfac=function CoreViewerModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({imports:[I.b.forChild(de)]}),CoreViewerModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.Obh(ce,{imports:[I.b]}));var ue=r(57673),pe=r(42176);const fe="reportbuilder";let ge=(()=>{var e;class CoreReportBuilderLinkHandlerService extends P.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreReportBuilderLinkHandler",this.pattern=/\/reportbuilder\/view\.php.*([?&]id=\d+)/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){yield b.CoreNavigator.navigateToSitePath(`${fe}/${r.id||""}`,{siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(){return(0,o.A)((function*(){return yield pe.Zn.isEnabled()}))()}}return(e=CoreReportBuilderLinkHandlerService).ɵfac=(()=>{let n;return function CoreReportBuilderLinkHandlerService_Factory(r){return(n||(n=s.xGo(e)))(r||e)}})(),e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreReportBuilderLinkHandlerService})();const me=(0,a.Qd)(ge);let he=(()=>{var e;class CoreReportBuilderHandlerService{constructor(){this.type=C.CoreUserProfileHandlerType.LIST_ITEM,this.cacheEnabled=!0,this.name="CoreReportBuilderDelegate",this.priority=350}isEnabled(){return(0,o.A)((function*(){return yield pe.Zn.isEnabled()}))()}isEnabledForContext(e){var n=this;return(0,o.A)((function*(){return e===C.CoreUserDelegateContext.USER_MENU&&n.isEnabled()}))()}getDisplayData(){return{class:"core-report-builder",icon:"fas-rectangle-list",title:"core.reportbuilder.reports",action:(e=(0,o.A)((function*(e){e.preventDefault(),e.stopPropagation(),yield b.CoreNavigator.navigateToSitePath(fe)})),function action(n){return e.apply(this,arguments)})};var e}}return(e=CoreReportBuilderHandlerService).ɵfac=function CoreReportBuilderHandlerService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreReportBuilderHandlerService})();const ve=(0,a.Qd)(he),ye=[{path:fe,loadChildren:()=>[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(56054)]).then(r.bind(r,56054))},{path:":id",loadComponent:()=>r.e(35475).then(r.bind(r,35475))}]}];let Ce=(()=>{var e;class CoreReportBuilderModule{}return(e=CoreReportBuilderModule).ɵfac=function CoreReportBuilderModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({providers:[{provide:s.hnV,multi:!0,useValue:()=>{C.CoreUserDelegate.registerHandler(ve.instance),T.CoreContentLinksDelegate.registerHandler(me.instance)}}],imports:[I.b.forChild(ye)]}),CoreReportBuilderModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.Obh(Ce,{imports:[I.b]}));var be=r(94114),we=r(49882),Se=r(78908),Ae=r(52749);let _e=(()=>{var e;class CorePolicyUserHandlerService{constructor(){this.type=C.CoreUserProfileHandlerType.LIST_ACCOUNT_ITEM,this.name="CorePolicy",this.priority=50}isEnabled(){return(0,o.A)((function*(){var e;const{CorePolicy:n}=yield r.e(72076).then(r.bind(r,65614));if(!(yield n.isManageAcceptancesAvailable()))return!1;return"tool_policy"===(yield null===(e=Ae.CoreSites.getCurrentSite())||void 0===e?void 0:e.getConfig("sitepolicyhandler"))}))()}isEnabledForContext(e){return(0,o.A)((function*(){return e===C.CoreUserDelegateContext.USER_MENU}))()}isEnabledForUser(e){return(0,o.A)((function*(){return e.id==Ae.CoreSites.getCurrentSiteUserId()}))()}getDisplayData(){return{icon:"fas-file-shield",title:"core.policy.policiesagreements",class:"core-policy-user-handler",action:e=>{e.preventDefault(),e.stopPropagation(),b.CoreNavigator.navigateToSitePath(`/${Se.Nn}/${Se.XC}`)}}}}return(e=CorePolicyUserHandlerService).ɵfac=function CorePolicyUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePolicyUserHandlerService})();const Ee=(0,a.Qd)(_e);let Ie=(()=>{var e;class CorePolicyAcceptancesLinkHandlerService extends P.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CorePolicyAcceptancesLinkHandler",this.pattern=/\/admin\/tool\/policy\/user\.php/,this.featureName="CoreUserDelegate_CorePolicy"}getActions(){return[{action:(e=(0,o.A)((function*(e){yield b.CoreNavigator.navigateToSitePath(`/${Se.Nn}/${Se.XC}`,{siteId:e})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(e,n,i){return(0,o.A)((function*(){const n=yield Ae.CoreSites.getSite(e),o=Number(i.userid);if(o&&o!==n.getUserId())return!1;const{CorePolicy:s}=yield r.e(72076).then(r.bind(r,65614));return s.isManageAcceptancesAvailable(e)}))()}}return(e=CorePolicyAcceptancesLinkHandlerService).ɵfac=(()=>{let n;return function CorePolicyAcceptancesLinkHandlerService_Factory(r){return(n||(n=s.xGo(e)))(r||e)}})(),e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePolicyAcceptancesLinkHandlerService})();const De=(0,a.Qd)(Ie),Me=[{path:Se.Nn,loadChildren:()=>[{path:Se.TF,loadComponent:()=>Promise.all([r.e(72076),r.e(31289)]).then(r.bind(r,31289))},{path:Se.XC,loadComponent:()=>Promise.all([r.e(72076),r.e(79757)]).then(r.bind(r,79757))}]}];let Te=(()=>{var e,n;class CorePolicyModule{}return(e=CorePolicyModule).ɵfac=function CorePolicyModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({providers:[{provide:s.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){C.CoreUserDelegate.registerHandler(Ee.instance),T.CoreContentLinksDelegate.registerHandler(De.instance),we.z.on(we.z.SITE_POLICY_NOT_AGREED,function(){var e=(0,o.A)((function*(e){const{CorePolicy:n}=yield r.e(72076).then(r.bind(r,65614));n.goToAcceptSitePolicies(e.siteId)}));return function(n){return e.apply(this,arguments)}}())})),function useValue(){return n.apply(this,arguments)})}],imports:[be.uH.forChild(Me),I.b.forChild(Me)]}),CorePolicyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.Obh(Te,{imports:[be.uH,I.b]}));let Pe=(()=>{var e;class CoreFeaturesModule{}return(e=CoreFeaturesModule).ɵfac=function CoreFeaturesModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({imports:[u.nK,p.o,f.kn,g.dN,v.Wu,L,H.fk,B.Y,j.G,V.M,G.y,z.v,q.T,W.SM,K.f,Q._,X.eh,Y.$,J.Ln,Z.W9,ee.J,te.Yi,ne.C,re.fS,oe.i,ie.e,se.Lr,le,ce,ue.E,Ce,Te,U]}),CoreFeaturesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.Obh(Pe,{imports:[u.nK,p.o,f.kn,g.dN,v.Wu,L,H.fk,B.Y,j.G,V.M,G.y,z.v,q.T,W.SM,K.f,Q._,X.eh,Y.$,J.Ln,Z.W9,ee.J,te.Yi,ne.C,re.fS,oe.i,ie.e,se.Lr,le,ce,ue.E,Ce,Te,U]}));var ke=r(54024),xe=r(46635),Fe=r(16439),Oe=r(57880),Re=r(12038);var Ne=r(70028);function getCoreServices(){return _getCoreServices.apply(this,arguments)}function _getCoreServices(){return(_getCoreServices=(0,o.A)((function*(){const{CoreAppProvider:e}=yield Promise.resolve().then(r.bind(r,36358)),{CoreAppDBService:n}=yield Promise.resolve().then(r.bind(r,89632)),{CoreConfigProvider:o}=yield Promise.resolve().then(r.bind(r,85190)),{CoreCronDelegateService:i}=yield Promise.resolve().then(r.bind(r,26135)),{CoreCustomURLSchemesProvider:s}=yield Promise.resolve().then(r.bind(r,85850)),{CoreDbProvider:a}=yield Promise.resolve().then(r.bind(r,30159)),{CoreErrorHelperService:c}=yield Promise.resolve().then(r.bind(r,49588)),{CoreFileHelperProvider:u}=yield Promise.resolve().then(r.bind(r,88436)),{CoreFilepoolProvider:p}=yield Promise.resolve().then(r.bind(r,88793)),{CoreFileProvider:f}=yield Promise.resolve().then(r.bind(r,45507)),{CoreFileSessionProvider:g}=yield Promise.resolve().then(r.bind(r,24942)),{CoreGroupsProvider:v}=yield Promise.resolve().then(r.bind(r,15221)),{CoreLangProvider:C}=yield Promise.resolve().then(r.bind(r,72881)),{CoreLocalNotificationsProvider:b}=yield Promise.resolve().then(r.bind(r,67935)),{CoreNavigatorService:w}=yield Promise.resolve().then(r.bind(r,15324)),{CorePluginFileDelegateService:A}=yield Promise.resolve().then(r.bind(r,11361)),{CoreScreenService:_}=yield Promise.resolve().then(r.bind(r,93417)),{CoreSitesProvider:E}=yield Promise.resolve().then(r.bind(r,52749)),{CoreSyncProvider:I}=yield Promise.resolve().then(r.bind(r,48966)),{CoreUpdateManagerProvider:T}=yield Promise.resolve().then(r.bind(r,86294)),{CoreWSProvider:P}=yield Promise.resolve().then(r.bind(r,99121)),{CorePlatformService:k}=yield Promise.resolve().then(r.bind(r,18022)),{CoreQRScanService:x}=yield Promise.resolve().then(r.bind(r,68831)),{CoreAlertsService:F}=yield Promise.resolve().then(r.bind(r,25572)),{CoreLoadingsService:R}=yield Promise.resolve().then(r.bind(r,33014)),{CorePopoversService:N}=yield Promise.resolve().then(r.bind(r,24813)),{CorePromptsService:L}=yield Promise.resolve().then(r.bind(r,35132)),{CoreToastsService:H}=yield Promise.resolve().then(r.bind(r,47551)),{CoreDomUtilsProvider:U}=yield r.e(89911).then(r.bind(r,89911)),{CoreGeolocationProvider:B}=yield r.e(98347).then(r.bind(r,98347)),{CoreTextUtilsProvider:j}=yield r.e(83568).then(r.bind(r,83568)),{CoreTimeUtilsProvider:V}=yield r.e(16474).then(r.bind(r,16474)),{CoreUrlUtilsProvider:G}=yield r.e(55826).then(r.bind(r,55826)),{CoreUtilsProvider:z}=yield r.e(9062).then(r.bind(r,9062)),{CoreMimetypeUtilsProvider:q}=yield r.e(93915).then(r.bind(r,93915)),{CoreIframeUtilsProvider:W}=yield r.e(44411).then(r.bind(r,44411));return[e,n,o,i,s,a,U,c,u,p,f,g,B,v,W,C,b,q,w,A,k,x,_,E,I,j,V,T,G,z,P,F,R,N,L,H]}))).apply(this,arguments)}function getCoreExportedObjects(){return _getCoreExportedObjects.apply(this,arguments)}function _getCoreExportedObjects(){return(_getCoreExportedObjects=(0,o.A)((function*(){const{CoreConstants:e,CoreCacheUpdateFrequency:n,DownloadStatus:o,MINIMUM_MOODLE_VERSION:i,MOODLE_RELEASES:s}=yield Promise.resolve().then(r.bind(r,74431));return{CoreConstants:e,CoreConfigConstants:e.CONFIG,CoreCacheUpdateFrequency:n,DownloadStatus:o,MINIMUM_MOODLE_VERSION:i,MOODLE_RELEASES:s}}))).apply(this,arguments)}let Le=(()=>{var e;class CoreModule{}return(e=CoreModule).ɵfac=function CoreModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({providers:[{provide:i.a7,useClass:ke.z,multi:!0},{provide:s.H1s,useClass:c,deps:[s.zZn]},{provide:Ae.CORE_SITE_SCHEMAS,useValue:[xe.em,Fe.em,Oe.e,Re.em],multi:!0},...(0,Ne.getInitializerProviders)()],imports:[Pe]}),CoreModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.Obh(Le,{imports:[Pe]}))},8199:(e,n,r)=>{"use strict";r.d(n,{a:()=>a});var o=r(54438),i=r(82907),s=r(91416);let a=(()=>{var e;class CoreAriaButtonClickDirective{constructor(e){this.disabled=!1,this.ariaButtonClick=new o.bkB,this.element=e.nativeElement}ngOnInit(){i.y.initializeClickableElementA11y(this.element,(e=>this.ariaButtonClick.emit(e)))}ngOnChanges(e){e.disabled&&("0"===this.element.getAttribute("tabindex")&&this.disabled&&this.element.setAttribute("tabindex","-1"),"-1"!==this.element.getAttribute("tabindex")||this.disabled||this.element.setAttribute("tabindex","0"))}}return(e=CoreAriaButtonClickDirective).ɵfac=function CoreAriaButtonClickDirective_Factory(n){return new(n||e)(o.rXU(o.aKT))},e.ɵdir=o.FsC({type:e,selectors:[["","ariaButtonClick",""]],inputs:{disabled:[o.Mj6.HasDecoratorInputTransform,"disabled","disabled",s.G]},outputs:{ariaButtonClick:"ariaButtonClick"},standalone:!0,features:[o.GFd,o.OA$]}),CoreAriaButtonClickDirective})()},69901:(e,n,r)=>{"use strict";r.d(n,{i:()=>u});var o=r(10467),i=r(82907),s=r(53794),a=r(91416),c=r(54438);let u=(()=>{var e;class CoreAutoFocusDirective{constructor(e){this.autoFocus=!0,this.element=e.nativeElement}ngAfterViewInit(){var e=this;return(0,o.A)((function*(){e.autoFocus&&(yield i.y.waitToBeInDOM(e.element),yield s.H.wait(540),i.y.focusElement(e.element))}))()}}return(e=CoreAutoFocusDirective).ɵfac=function CoreAutoFocusDirective_Factory(n){return new(n||e)(c.rXU(c.aKT))},e.ɵdir=c.FsC({type:e,selectors:[["","core-auto-focus",""]],inputs:{autoFocus:[c.Mj6.HasDecoratorInputTransform,"core-auto-focus","autoFocus",a.G]},standalone:!0,features:[c.GFd]}),CoreAutoFocusDirective})()},43952:(e,n,r)=>{"use strict";r.d(n,{T:()=>i});var o=r(54438);let i=(()=>{var e;class CoreAutoRowsDirective{constructor(e){this.element=e,this.height=0,this.onResize=new o.bkB}ngAfterViewInit(){setTimeout((()=>{this.resize()}),300)}ngOnChanges(){this.resize(),""===this.value&&setTimeout((()=>this.resize()),300)}resize(){let e=this.element.nativeElement;if("ION-TEXTAREA"==e.tagName){const n=e.querySelector("textarea");if(!n)return;e=n}e.style.height="1px",e.style.height=`${e.scrollHeight}px`,this.height!=e.scrollHeight&&(this.height=e.scrollHeight,this.onResize.emit())}}return(e=CoreAutoRowsDirective).ɵfac=function CoreAutoRowsDirective_Factory(n){return new(n||e)(o.rXU(o.aKT))},e.ɵdir=o.FsC({type:e,selectors:[["textarea","core-auto-rows",""],["ion-textarea","core-auto-rows",""]],inputs:{value:[o.Mj6.None,"core-auto-rows","value"]},outputs:{onResize:"onResize"},standalone:!0,features:[o.OA$]}),CoreAutoRowsDirective})()},66731:(e,n,r)=>{"use strict";r.d(n,{i:()=>b});var o=r(10467),i=r(81690),s=r(76125),a=r(62393),c=r(58197),u=r(64422),p=r(82907),f=r(53794),g=r(91416),v=r(54438),C=r(2910);let b=(()=>{var e;class CoreCollapsibleFooterDirective{constructor(e,n){this.ionContent=n,this.appearOnBottom=!1,this.id="0",this.initialHeight=48,this.finalHeight=0,this.initialPaddingBottom="0px",this.previousTop=0,this.previousHeight=0,this.loadingHeight=!1,this.moduleNav=null,this.element=e.nativeElement}ngOnInit(){var e=this;return(0,o.A)((function*(){var n;e.id=String(i.j.getUniqueId("CoreCollapsibleFooterDirective")),e.slotPromise=p.y.slotOnContent(e.element),yield e.slotPromise,yield e.waitLoadingsDone(),yield e.waitFormatTextsRendered(),e.content=e.element.closest("ion-content"),null===(n=e.content)||void 0===n||n.setAttribute("data-collapsible-footer-id",e.id),yield e.calculateHeight(),p.y.onElementSlot(e.element,(()=>{e.calculateHeight()})),e.listenEvents()}))()}calculateHeight(){var e=this;return(0,o.A)((function*(){var n;e.loadingHeight||(e.loadingHeight=!0,e.viewportPromise=p.y.waitToBeInViewport(e.element),yield e.viewportPromise,e.element.classList.remove("is-active"),yield f.H.nextTick(),e.initialHeight=e.element.getBoundingClientRect().height||e.initialHeight,e.moduleNav="CORE-COURSE-MODULE-NAVIGATION"===e.element.tagName?e.element:e.element.querySelector("core-course-module-navigation"),e.moduleNav&&e.moduleNav!==e.element&&(e.element.classList.add("has-module-nav"),e.finalHeight=e.initialHeight-e.moduleNav.getBoundingClientRect().height),e.previousHeight=e.initialHeight,null===(n=e.content)||void 0===n||n.style.setProperty("--core-collapsible-footer-max-height",`${e.initialHeight}px`),e.element.classList.add("is-active"),e.setBarHeight(e.initialHeight),e.loadingHeight=!1)}))()}listenEvents(){var e=this;return(0,o.A)((function*(){var n,r,o,i;if(!e.content||null!==(n=e.content)&&void 0!==n&&n.classList.contains("has-collapsible-footer"))return;e.content.classList.add("has-collapsible-footer"),"ION-CONTENT"!=(null===(r=e.element.parentElement)||void 0===r?void 0:r.nodeName)&&e.content.appendChild(e.element),e.initialPaddingBottom=e.content.style.getPropertyValue("--padding-bottom")||e.initialPaddingBottom,e.content.style.setProperty("--padding-bottom",`calc(${e.initialPaddingBottom} + var(--core-collapsible-footer-max-height, 0px))`);const s=yield e.content.getScrollElement();e.content.scrollEvents=!0,e.content.classList.toggle("core-footer-shadow",!p.y.scrollIsBottom(s)),e.content.addEventListener("ionScroll",e.contentScrollListener=n=>{e.content&&e.onScroll(n.detail,s)}),e.content.addEventListener("ionScrollEnd",e.endContentScrollListener=()=>{if(!e.content)return;const n=e.previousHeight;if(!(n<=e.finalHeight)&&!(n>=e.initialHeight)){e.setBarHeight(n-e.finalHeight<(e.initialHeight-e.finalHeight)/2?e.finalHeight:e.initialHeight)}}),e.resizeListener=p.y.onWindowResize((()=>{e.calculateHeight()}),50),e.page=e.content.closest(".ion-page")||void 0,null===(o=e.page)||void 0===o||o.addEventListener("ionViewDidEnter",e.pageDidEnterListener=()=>{e.calculateHeight()}),e.content.addEventListener("keyup",e.keyUpListener=n=>{"Tab"===n.key&&document.activeElement&&document.activeElement.getBoundingClientRect().bottom>e.element.getBoundingClientRect().top&&document.activeElement.scrollIntoView({block:"center"})}),null===(i=e.moduleNav)||void 0===i||i.addEventListener("focusin",(()=>{e.setBarHeight(e.initialHeight)}))}))()}waitFormatTextsRendered(){var e=this;return(0,o.A)((function*(){yield a.D.waitDirectivesReady(e.element,"core-format-text",c.B)}))()}onScroll(e,n){var r;const o=n.scrollHeight-n.offsetHeight,i=null===(r=this.moduleNav)||void 0===r?void 0:r.contains(document.activeElement);if(e.scrollTop<=0||this.appearOnBottom&&e.scrollTop>=o||i)this.setBarHeight(this.initialHeight);else{let n=this.previousHeight-(e.scrollTop-this.previousTop);n=s.o.clamp(n,this.finalHeight,this.initialHeight),this.setBarHeight(n)}this.previousTop=e.scrollTop}setBarHeight(e){var n;const r=e>=this.initialHeight;this.element.classList.toggle("footer-collapsed",e<=this.finalHeight),this.element.classList.toggle("footer-expanded",r),null===(n=this.content)||void 0===n||n.style.setProperty("--core-collapsible-footer-height",`${e}px`),this.previousHeight=e}waitLoadingsDone(){var e=this;return(0,o.A)((function*(){const n=yield e.ionContent.getScrollElement();yield Promise.all([yield a.D.waitDirectivesReady(n,"core-loading",u.R),yield a.D.waitDirectivesReady(e.element,"core-loading",u.R)])}))()}ngOnDestroy(){var e=this;return(0,o.A)((function*(){var n,r,o,i;e.content&&(e.content.getAttribute("data-collapsible-footer-id")===e.id&&(e.content.style.setProperty("--padding-bottom",e.initialPaddingBottom),e.content.classList.remove("has-collapsible-footer")),e.contentScrollListener&&e.content.removeEventListener("ionScroll",e.contentScrollListener),e.endContentScrollListener&&e.content.removeEventListener("ionScrollEnd",e.endContentScrollListener),e.keyUpListener&&e.content.removeEventListener("keyup",e.keyUpListener)),e.page&&e.pageDidEnterListener&&e.page.removeEventListener("ionViewDidEnter",e.pageDidEnterListener),null===(n=e.element)||void 0===n||n.remove(),null===(r=e.resizeListener)||void 0===r||r.off(),null===(o=e.slotPromise)||void 0===o||o.cancel(),null===(i=e.viewportPromise)||void 0===i||i.cancel()}))()}}return(e=CoreCollapsibleFooterDirective).ɵfac=function CoreCollapsibleFooterDirective_Factory(n){return new(n||e)(v.rXU(v.aKT),v.rXU(C.W9))},e.ɵdir=v.FsC({type:e,selectors:[["","collapsible-footer",""]],inputs:{appearOnBottom:[v.Mj6.HasDecoratorInputTransform,"appearOnBottom","appearOnBottom",g.G]},standalone:!0,features:[v.GFd]}),CoreCollapsibleFooterDirective})()},68273:(e,n,r)=>{"use strict";r.d(n,{M:()=>E,r:()=>_});var o=r(10467),i=r(25124),s=r(64422),a=r(47142),c=r(73564),u=r(87455),p=r(62393),f=r(82907),g=r(49882),v=r(76125),C=r(58197),b=r(53794),w=r(91416),A=r(54438);const _="collapsible_header_updated";let E=(()=>{var e;class CoreCollapsibleHeaderDirective{constructor(e){this.collapsible=!0,this.subscriptions=[],this.enabled=!0,this.isWithinContent=!1,this.enteredPromise=new i._,this.loadingFloatingTitle=!1,this.onReadyPromise=new i._,this.collapsedHeader=e.nativeElement,p.D.register(this.collapsedHeader,this)}ngOnInit(){f.y.closest(this.collapsedHeader,"core-tabs-outlet")&&(this.collapsible=!1),this.init()}init(){var e=this;return(0,o.A)((function*(){if(!e.collapsible||e.expandedHeader)return e.onReadyPromise.resolve(),void 0;e.initializePage(),yield Promise.all([e.initializeCollapsedHeader(),e.initializeExpandedHeader(),yield e.enteredPromise]),e.listenEvents(),yield e.initializeFloatingTitle(),yield e.initializeContent(),e.onReadyPromise.resolve()}))()}ngOnChanges(e){var n=this;return(0,o.A)((function*(){e.collapsible&&!e.collapsible.firstChange&&(n.enabled=n.collapsible,yield n.init(),setTimeout((()=>{n.setEnabled(n.enabled)}),200))}))()}ngOnDestroy(){var e,n,r;this.subscriptions.forEach((e=>e.unsubscribe())),this.content&&this.contentScrollListener&&this.content.removeEventListener("ionScroll",this.contentScrollListener),this.content&&this.endContentScrollListener&&this.content.removeEventListener("ionScrollEnd",this.endContentScrollListener),this.page&&this.pageDidEnterListener&&this.page.removeEventListener("ionViewDidEnter",this.pageDidEnterListener),null===(e=this.resizeListener)||void 0===e||e.off(),null===(n=this.mutationObserver)||void 0===n||n.disconnect(),null===(r=this.visiblePromise)||void 0===r||r.cancel()}setCollapsed(e){if(!this.page)return;this.page.classList.contains("collapsible-header-page-is-collapsed")!==e&&(this.page.classList.toggle("collapsible-header-page-is-collapsed",e),g.z.trigger(_,{collapsed:e}))}listenEvents(){this.resizeListener=f.y.onWindowResize((()=>{this.initializeFloatingTitle()}),50),this.subscriptions.push(u.CoreSettingsHelper.onDarkModeChange().subscribe((()=>{this.initializeFloatingTitle()}))),this.mutationObserver=new MutationObserver((()=>{if(!this.expandedHeader)return;const e=this.expandedHeader.querySelector("h1.collapsible-header-original-title")||this.expandedHeader.querySelector("h1"),n=e.parentElement,r=n.querySelector(".collapsible-header-floating-title");if(!r||!e)return;const o=e.cloneNode(!0);o.classList.add("collapsible-header-floating-title"),o.classList.remove("collapsible-header-original-title"),n.replaceChild(o,r),this.initializeFloatingTitle()}))}initializePage(){if(!this.collapsedHeader.parentElement)throw new Error("[collapsible-header] Couldn't get page");this.page=this.collapsedHeader.parentElement,this.page.classList.add("collapsible-header-page"),this.page.addEventListener("ionViewDidEnter",this.pageDidEnterListener=()=>{clearTimeout(e),this.enteredPromise.resolve(),this.page&&this.pageDidEnterListener&&this.page.removeEventListener("ionViewDidEnter",this.pageDidEnterListener)});const e=window.setTimeout((()=>{this.enteredPromise.reject(new Error("[collapsible-header] Waiting for ionViewDidEnter timeout reached"))}),5e3)}initializeCollapsedHeader(){var e=this;return(0,o.A)((function*(){e.collapsedHeader.classList.add("collapsible-header-collapsed"),yield e.waitFormatTextsRendered(e.collapsedHeader)}))()}initializeExpandedHeader(){var e=this;return(0,o.A)((function*(){var n,r;if(yield e.waitLoadingsDone(),e.expandedHeader=null!==(n=null===(r=e.page)||void 0===r?void 0:r.querySelector("ion-item[collapsible]"))&&void 0!==n?n:void 0,!e.expandedHeader)throw e.enabled=!1,e.setEnabled(e.enabled),new Error("[collapsible-header] Couldn't initialize expanded header");e.expandedHeader.classList.add("collapsible-header-expanded"),yield e.waitFormatTextsRendered(e.expandedHeader)}))()}initializeContent(){var e=this;return(0,o.A)((function*(){if(!e.page)return;const n=p.D.resolve(e.page.querySelector("core-tabs-outlet"),a.k);if(n){const r=n.getOutlet(),onOutletUpdated=()=>{const n=r.nativeEl.querySelector(".ion-page:not(.ion-page-hidden)");e.updateContent(null==n?void 0:n.querySelector("ion-content:not(.disable-scroll-y)"))};return e.subscriptions.push(r.activateEvents.subscribe(onOutletUpdated)),onOutletUpdated(),void 0}const r=e.page.querySelector("ion-content:not(.disable-scroll-y)");if(!r)throw new Error("[collapsible-header] Couldn't get content");e.trackContentScroll(r)}))()}initializeFloatingTitle(){var e=this;return(0,o.A)((function*(){if(!e.page||!e.expandedHeader)return;if(e.loadingFloatingTitle)return;e.loadingFloatingTitle=!0,e.visiblePromise=f.y.waitToBeVisible(e.expandedHeader),yield e.visiblePromise,e.page.classList.remove("collapsible-header-page-is-active"),yield b.H.nextTick();const n=e.collapsedHeader.querySelector("h1"),r=e.expandedHeader.querySelector("h1.collapsible-header-original-title")||e.expandedHeader.querySelector("h1"),o=r.parentElement;let i=o.querySelector(".collapsible-header-floating-title");var s;i||(i=r.cloneNode(!0),i.classList.add("collapsible-header-floating-title"),o.classList.add("collapsible-header-floating-title-wrapper"),o.insertBefore(i,r),r.classList.add("collapsible-header-original-title"),null===(s=e.mutationObserver)||void 0===s||s.observe(r,{childList:!0,subtree:!0}));const a=i.getBoundingClientRect(),c=n.getBoundingClientRect(),u=getComputedStyle(n),p=e.expandedHeader.clientHeight,g=getComputedStyle(r),v=r.getBoundingClientRect(),C=["overflow","white-space","text-overflow","color"],[w,A]=Array.from(u).filter((e=>e.startsWith("font-")||e.startsWith("letter-")||C.includes(e))).reduce(((e,n)=>(e[0][n]=f.y.getCSSPropertyValue(u,n),e[1][n]=f.y.getCSSPropertyValue(g,n),e)),[{},{}]);Object.entries({"--collapsible-header-collapsed-height":`${e.collapsedHeader.clientHeight}px`,"--collapsible-header-expanded-y-delta":`-${e.collapsedHeader.clientHeight}px`,"--collapsible-header-expanded-height":`${p}px`,"--collapsible-header-floating-title-top":v.top-a.top+"px","--collapsible-header-floating-title-left":v.left-a.left+"px","--collapsible-header-floating-title-width":`${r.clientWidth}px`,"--collapsible-header-floating-title-x-delta":c.left-v.left+"px","--collapsible-header-floating-title-width-delta":n.clientWidth-r.clientWidth+"px"}).forEach((([n,r])=>{var o;return null===(o=e.page)||void 0===o?void 0:o.style.setProperty(n,r)})),Object.entries(A).forEach((([e,n])=>i.style.setProperty(e,n))),e.page.classList.add("collapsible-header-page-is-active"),e.floatingTitle=i,e.scrollingHeight=v.top-c.top,e.collapsedFontStyles=w,e.expandedFontStyles=A,e.expandedHeaderHeight=p,e.loadingFloatingTitle=!1}))()}waitLoadingsDone(){var e=this;return(0,o.A)((function*(){e.page&&(yield b.H.nextTick(),yield p.D.waitMultipleDirectivesReady(e.page,[{selector:"core-loading",class:s.R},{selector:"core-tabs",class:c.h},{selector:"core-tabs-outlet",class:a.k}]))}))()}waitFormatTextsRendered(e){return(0,o.A)((function*(){yield p.D.waitDirectivesReady(e,"core-format-text",C.B)}))()}updateContent(e){var n;e!==(null!==(n=this.content)&&void 0!==n?n:null)&&(this.content&&(this.contentScrollListener&&(this.content.removeEventListener("ionScroll",this.contentScrollListener),delete this.contentScrollListener),this.endContentScrollListener&&(this.content.removeEventListener("ionScrollEnd",this.endContentScrollListener),delete this.endContentScrollListener),delete this.content),e&&this.trackContentScroll(e))}setEnabled(e){var n=this;return(0,o.A)((function*(){if(n.page){if(e&&n.content){if((yield n.content.getScrollElement()).scrollTop>0)return}n.setCollapsed(!e),n.page.style.setProperty("--collapsible-header-progress",e?"0":"1")}}))()}trackContentScroll(e){var n=this;return(0,o.A)((function*(){if(e===n.content)return;n.content=e;const r=n.page,o=n.expandedHeader,i=n.expandedFontStyles,s=n.collapsedFontStyles,a=n.floatingTitle,c=yield n.content.getScrollElement();if(!(r&&o&&i&&s&&a))throw null==r||r.classList.remove("collapsible-header-page-is-active"),new Error("[collapsible-header] Couldn't set up scrolling");n.isWithinContent=e.contains(o),r.classList.toggle("collapsible-header-page-is-within-content",n.isWithinContent),n.setEnabled(n.enabled),Object.entries(i).forEach((([e,n])=>a.style.setProperty(e,n))),n.content.scrollEvents=!0,n.content.addEventListener("ionScroll",n.contentScrollListener=({target:e})=>{if(e!==n.content||!n.enabled||!n.scrollingHeight)return;const o=n.isFrozen(c),u=o?0:v.o.clamp(c.scrollTop/n.scrollingHeight,0,1);n.setCollapsed(1===u),r.style.setProperty("--collapsible-header-progress",`${u}`),r.classList.toggle("collapsible-header-page-is-frozen",o),Object.entries(u>.5?s:i).forEach((([e,n])=>a.style.setProperty(e,n)))}),n.content.addEventListener("ionScrollEnd",n.endContentScrollListener=({target:e})=>{if(e!==n.content||!n.enabled)return;if(r.classList.contains("collapsible-header-page-is-frozen")){const e=n.isFrozen(c);if(e)return;r.classList.toggle("collapsible-header-page-is-frozen",e)}const o=parseFloat(r.style.getPropertyValue("--collapsible-header-progress")),i=c.scrollTop,s=o>.5;var a,u;(n.setCollapsed(s),r.style.setProperty("--collapsible-header-progress",s?"1":"0"),s&&n.scrollingHeight&&n.scrollingHeight>0&&i<n.scrollingHeight)&&(null===(a=n.content)||void 0===a||a.scrollToPoint(null,n.scrollingHeight));!s&&n.scrollingHeight&&n.scrollingHeight>0&&i>0&&(null===(u=n.content)||void 0===u||u.scrollToPoint(null,0))})}))()}isFrozen(e){var n,r,o,i;const s=null!==(n=this.scrollingHeight)&&void 0!==n?n:0,a=null!==(r=null===(o=this.expandedHeader)||void 0===o?void 0:o.clientHeight)&&void 0!==r?r:0,c=null!==(i=this.expandedHeaderHeight)&&void 0!==i?i:0,u=e.scrollHeight-e.clientHeight;let p=!1;if(this.isWithinContent)p=u<=s;else{p=u+(c-a)<=2*c}return p}ready(){var e=this;return(0,o.A)((function*(){return e.onReadyPromise}))()}}return(e=CoreCollapsibleHeaderDirective).ɵfac=function CoreCollapsibleHeaderDirective_Factory(n){return new(n||e)(A.rXU(A.aKT))},e.ɵdir=A.FsC({type:e,selectors:[["ion-header","collapsible",""]],inputs:{collapsible:[A.Mj6.HasDecoratorInputTransform,"collapsible","collapsible",w.G]},standalone:!0,features:[A.GFd,A.OA$]}),CoreCollapsibleHeaderDirective})()},35407:(e,n,r)=>{"use strict";r.d(n,{K:()=>b});var o=r(10467),i=r(64422),s=r(87455),a=r(81690),c=r(79555),u=r(55351),p=r(62393),f=r(82907),g=r(58197),v=r(74431),C=r(54438);let b=(()=>{var e;class CoreCollapsibleItemDirective{constructor(e){this.height=80,this.toggleExpandEnabled=!1,this.expanded=!1,this.maxHeight=80,this.expandedHeight=0,this.loadingHeight=!1,this.element=e.nativeElement,this.element.addEventListener("click",(e=>this.elementClicked(e))),this.uniqueId=`collapsible-item-${a.j.getUniqueId("CoreCollapsibleItemDirective")}`,this.element.id=this.uniqueId}ngOnInit(){var e=this;return(0,o.A)((function*(){var n;null!==e.height&&(e.maxHeight="string"==typeof e.height?""===e.height?80:parseInt(e.height,10):e.height,e.maxHeight=e.maxHeight<56?80:e.maxHeight,e.maxHeight&&(e.element.classList.add("collapsible-item"),e.expanded=v.CoreConstants.CONFIG.collapsibleItemsExpanded,yield e.waitLoadingsDone(),yield e.calculateHeight(),null===(n=e.page)||void 0===n||n.addEventListener("ionViewDidEnter",e.pageDidEnterListener=()=>{e.calculateHeight()}),e.resizeListener=f.y.onWindowResize((()=>{e.calculateHeight()}),50),e.darkModeListener=s.CoreSettingsHelper.onDarkModeChange().subscribe((()=>{e.setGradientColor()}))))}))()}waitLoadingsDone(){var e=this;return(0,o.A)((function*(){e.domPromise=f.y.waitToBeInDOM(e.element),yield e.domPromise,e.page=e.element.closest(".ion-page")||void 0,e.page&&(yield p.D.waitDirectivesReady(e.page,"core-loading",i.R))}))()}waitFormatTextsRendered(){var e=this;return(0,o.A)((function*(){yield p.D.waitDirectivesReady(e.element,"core-format-text",g.B)}))()}calculateHeight(){var e=this;return(0,o.A)((function*(){if(e.loadingHeight)return;e.loadingHeight=!0,e.visiblePromise=f.y.waitToBeVisible(e.element),yield e.visiblePromise,e.element.classList.add("collapsible-loading-height"),yield e.waitFormatTextsRendered(),e.expandedHeight=e.element.getBoundingClientRect().height,e.element.classList.remove("collapsible-loading-height");e.setExpandButtonEnabled(!e.expandedHeight||e.expandedHeight>=e.maxHeight),e.setGradientColor(),e.loadingHeight=!1}))()}setGradientColor(){if(!this.toggleExpandEnabled)return;let e=this.element,n=[0,0,0,0],r="";for(;e&&0===n[3];)r=getComputedStyle(e).backgroundColor,n=u.a.getColorRGBA(r),e=e.parentElement;if(0!==n[3]){delete n[3];const e=n.join(",");this.element.style.setProperty("--background-gradient-rgb",`${e}`)}}setExpandButtonEnabled(e){if(this.toggleExpandEnabled=e,this.element.classList.toggle("collapsible-enabled",e),!e||this.element.querySelector("ion-button.collapsible-toggle"))return this.setHeight(!e||this.expanded?void 0:this.maxHeight),void 0;const n=document.createElement("ion-button");n.classList.add("collapsible-toggle"),n.setAttribute("fill","clear"),n.setAttribute("aria-controls",this.uniqueId);const r=document.createElement("span");r.classList.add("collapsible-toggle-text"),r.classList.add("sr-only"),n.appendChild(r);const o=document.createElement("span");o.classList.add("collapsible-toggle-arrow"),n.appendChild(o),this.element.append(n),this.toggleExpand(this.expanded)}setHeight(e){e?this.element.style.setProperty("--collapsible-height",`${e}px`):this.expandedHeight?this.element.style.setProperty("--collapsible-height",`${this.expandedHeight}px`):this.element.style.removeProperty("--collapsible-height")}toggleExpand(e){void 0===e&&(e=!this.expanded),this.expanded=e,this.element.scrollTo(0,0),this.element.classList.toggle("collapsible-collapsed",!e),this.setHeight(e?void 0:this.maxHeight);const n=this.element.querySelector("ion-button.collapsible-toggle"),r=null==n?void 0:n.querySelector(".collapsible-toggle-text");n&&r&&(r.innerHTML=c.HT.instant(e?"core.showless":"core.showmore"),n.setAttribute("aria-expanded",e?"true":"false"))}elementClicked(e){e.defaultPrevented||this.toggleExpandEnabled&&(e.preventDefault(),e.stopPropagation(),this.toggleExpand())}ngOnDestroy(){var e,n,r,o;null===(e=this.resizeListener)||void 0===e||e.off(),null===(n=this.darkModeListener)||void 0===n||n.unsubscribe(),null===(r=this.domPromise)||void 0===r||r.cancel(),null===(o=this.visiblePromise)||void 0===o||o.cancel(),this.page&&this.pageDidEnterListener&&this.page.removeEventListener("ionViewDidEnter",this.pageDidEnterListener)}}return(e=CoreCollapsibleItemDirective).ɵfac=function CoreCollapsibleItemDirective_Factory(n){return new(n||e)(C.rXU(C.aKT))},e.ɵdir=C.FsC({type:e,selectors:[["","collapsible-item",""]],inputs:{height:[C.Mj6.None,"collapsible-item","height"]},standalone:!0}),CoreCollapsibleItemDirective})()},88246:(e,n,r)=>{"use strict";r.d(n,{i:()=>s});var o=r(10467),i=r(54438);let s=(()=>{var e;class CoreContentDirective{constructor(e){this.element=e.nativeElement}ngOnInit(){var e=this;return(0,o.A)((function*(){e.element.classList.contains("disable-scroll-y")||(e.element.scrollEvents=!0)}))()}}return(e=CoreContentDirective).ɵfac=function CoreContentDirective_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵdir=i.FsC({type:e,selectors:[["ion-content"]],standalone:!0}),CoreContentDirective})()},9970:(e,n,r)=>{"use strict";r.d(n,{E:()=>u});var o=r(10467),i=r(72881),s=r(98870),a=r(54438),c=r(2910);let u=(()=>{var e;class CoreIonDatetimeDirective{constructor(e){this.datetime=e}ngOnInit(){this.setLanguage(),this.setStartingWeekDay()}setLanguage(){var e=this;return(0,o.A)((function*(){if(e.datetime.locale)return;const n=yield i.CoreLang.getCurrentLanguage();e.datetime.locale=n}))()}setStartingWeekDay(){var e=this;return(0,o.A)((function*(){if(e.datetime.firstDayOfWeek||0===e.datetime.firstDayOfWeek)return;const n=yield s.CoreUser.getStartingWeekDay();e.datetime.firstDayOfWeek=n}))()}}return(e=CoreIonDatetimeDirective).ɵfac=function CoreIonDatetimeDirective_Factory(n){return new(n||e)(a.rXU(c.A9))},e.ɵdir=a.FsC({type:e,selectors:[["ion-datetime"]],standalone:!0}),CoreIonDatetimeDirective})()},10892:(e,n,r)=>{"use strict";r.d(n,{l:()=>x});var o=r(10467),i=r(54438),s=r(45507),a=r(88793),c=r(52749),u=r(8014),p=r(55554),f=r(6787),g=r(75629),v=r(49882),C=r(74431),b=r(94455),w=r(79555),A=r(62393),_=r(25124),E=r(18022),I=r(75383),T=r(24502),P=r(12364),k=r(99121);let x=(()=>{var e;class CoreExternalContentDirective{constructor(e){this.onLoad=new i.bkB,this.loaded=!1,this.invalid=!1,this.initialized=!1,this.onReadyPromise=new _._,this.element=e.nativeElement,this.logger=f.CoreLogger.getInstance("CoreExternalContentDirective"),A.D.register(this.element,this)}ngAfterViewInit(){this.checkAndHandleExternalContent(),this.initialized=!0}ngOnChanges(e){e&&this.initialized&&this.checkAndHandleExternalContent()}addSource(e){var n;if("SOURCE"!==this.element.tagName)return;const r=document.createElement("source"),o=this.element.getAttribute("type");r.setAttribute("src",e),o&&(E.CorePlatform.isAndroid()&&"video/quicktime"==o?r.setAttribute("type","video/mp4"):r.setAttribute("type",o)),null===(n=this.element.parentNode)||void 0===n||n.insertBefore(r,this.element)}checkAndHandleExternalContent(){var e=this;return(0,o.A)((function*(){const n=e.element.tagName.toUpperCase();let r,o;var i,s;if(e.handleInlineStyles(e.siteId),"A"===n||"IMAGE"==n)r="href",o=null!==(i=null!==(s=e.url)&&void 0!==s?s:e.href)&&void 0!==i?i:"";else if("IMG"===n){var a,c;r="src",o=null!==(a=null!==(c=e.url)&&void 0!==c?c:e.src)&&void 0!==a?a:""}else{if("AUDIO"!==n&&"VIDEO"!==n&&"SOURCE"!==n&&"TRACK"!==n)return e.invalid=!0,e.onReadyPromise.resolve(),void 0;var u,p,f,g;r="src",o=null!==(u=null!==(p=e.url)&&void 0!==p?p:e.src)&&void 0!==u?u:"","VIDEO"===n&&(e.posterUrl||e.poster)&&e.handleExternalContent("poster",null!==(f=null!==(g=e.posterUrl)&&void 0!==g?g:e.poster)&&void 0!==f?f:"").catch((()=>{}))}try{yield e.handleExternalContent(r,o)}catch(n){e.setElementUrl(r,o)}finally{e.onReadyPromise.resolve()}}))()}handleExternalContent(e,n){var r=this;return(0,o.A)((function*(){const o=r.element.tagName;"VIDEO"==o&&"poster"!=e&&r.handleVideoSubtitles(r.element);const i=yield p.g.ignoreErrors(c.CoreSites.getSite(r.siteId)),s=null==i?void 0:i.isSitePluginFileUrl(n);if(!(n=i&&n?u.F.toAbsoluteURL(i.getURL(),n):n)||!n.match(/^https?:\/\//i)||u.F.isLocalFileUrl(n)||"A"===o&&!(s||null!=i&&i.isSiteThemeImageUrl(n)||u.F.isGravatarUrl(n)))throw r.logger.debug(`Ignoring non-downloadable URL: ${n}`),new g.CoreError("Non-downloadable URL");var a;if(i&&!i.canDownloadFiles()&&s)throw null===(a=r.element.parentElement)||void 0===a||a.removeChild(r.element),new g.CoreError(w.HT.instant("core.cannotdownloadfiles"));const f=yield r.getUrlToUse(e,n,i);r.logger.debug(`Using URL ${f} for ${n}`),r.setElementUrl(e,f),i&&r.setListeners(e,n,i)}))()}setElementUrl(e,n){if(!n)return"IMG"===this.element.tagName&&(this.onLoad.emit(!1),this.loaded=!0),void 0;if("SOURCE"===this.element.tagName)this.addSource(n);else{var r,o,i;this.element.setAttribute(e,n);const s="poster"===e?null!==(r=this.posterUrl)&&void 0!==r?r:this.poster:null!==(o=null!==(i=this.url)&&void 0!==i?i:this.src)&&void 0!==o?o:this.href;s&&s!==n&&this.element.setAttribute(`data-original-${e}`,s)}"IMG"===this.element.tagName&&(n.startsWith("data:")?(this.onLoad.emit(!0),this.loaded=!0):(this.loaded=!1,this.waitForLoad()))}handleInlineStyles(e){var n=this;return(0,o.A)((function*(){var r;if(!e)return;let i=n.element.getAttribute("style")||"";if(!i)return;const s=T.R.unique(Array.from(null!==(r=i.match(/https?:\/\/[^"') ;]*/g))&&void 0!==r?r:[]));if(!s.length)return;const c=s.map(function(){var r=(0,o.A)((function*(r){const o=yield a.CoreFilepool.getSrcByUrl(e,r,n.component,n.componentId,0,!0,!0);n.logger.debug(`Using URL ${o} for ${r} in inline styles`),i=i.replace(new RegExp(I.Ni.escapeForRegex(r),"gi"),o)}));return function(e){return r.apply(this,arguments)}}());try{yield p.g.allPromises(c),n.element.setAttribute("style",i)}catch(e){n.logger.error("Error treating inline styles.",n.element)}}))()}handleVideoSubtitles(e){e.textTracks&&(e.textTracks.onaddtrack=e=>{const n=e.track;n&&(n.oncuechange=()=>{n.cues&&(Array.from(n.cues).forEach((e=>{e.snapToLines=!1,e.line=90,e.size=100})),n.oncuechange=null)})})}getUrlToUse(e,n,r){var i=this;return(0,o.A)((function*(){if(!r)return i.getUrlForNoSite(n);const o=i.element.tagName;let c;const p="IMG"==o||"TRACK"==o||"poster"==e;return"src"===e&&"SOURCE"!==o&&"TRACK"!==o&&"VIDEO"!==o&&"AUDIO"!==o?c=yield a.CoreFilepool.getSrcByUrl(r.getId(),n,i.component,i.componentId,0,!0,p):"TRACK"===o?(c=yield a.CoreFilepool.downloadUrl(r.getId(),n,!1,i.component,i.componentId),c=s.CoreFile.convertFileSrc(c)):(c=yield a.CoreFilepool.getUrlByUrl(r.getId(),n,i.component,i.componentId,0,!0,p),c=s.CoreFile.convertFileSrc(c)),u.F.isLocalFileUrl(c)||c.includes("#")||"A"===o||(c=`${c}#moodlemobile-embedded`),c}))()}getUrlForNoSite(e){return(0,o.A)((function*(){if(!E.CorePlatform.isAndroid())return e;const n=a.CoreFilepool.getFileIdByUrl(e),r=P.A.guessExtensionFromUrl(e),o=`${s.CoreFileProvider.NO_SITE_FOLDER}/${n}${r?`.${r}`:""}`;let i;try{i=yield s.CoreFile.getFile(o)}catch{i=yield k.CoreWS.downloadFile(e,o,!1)}return s.CoreFile.convertFileSrc(s.CoreFile.getFileEntryURL(i))}))()}setListeners(e,n,r){var i=this;return(0,o.A)((function*(){if(i.fileEventObserver)return;const s=i.element.tagName;let c=yield a.CoreFilepool.getFileStateByUrl(r.getId(),n);const u=yield a.CoreFilepool.getFileEventNameByUrl(r.getId(),n);if(i.fileEventObserver=v.z.on(u,function(){var e=(0,o.A)((function*(e){if("download"===e.action&&!e.success)return;if(i.isPlayedMedia())return;const o=yield a.CoreFilepool.getFileStateByUrl(r.getId(),n);o!==c&&(c=o,c!==C.DownloadStatus.DOWNLOADING&&i.checkAndHandleExternalContent())}));return function(n){return e.apply(this,arguments)}}()),"poster"!==e&&("VIDEO"===s||"AUDIO"===s||"A"===s||"SOURCE"===s)){const e="A"==s?"click":"play";let o=i.element;if("SOURCE"==s&&(o=i.element.closest("video,audio")),!o)return;o.addEventListener(e,(()=>{c!==C.DownloadStatus.DOWNLOADED&&c!==C.DownloadStatus.DOWNLOADING&&b.WE.isWifi()&&a.CoreFilepool.getUrlByUrl(r.getId(),n,i.component,i.componentId,0,!1)}))}}))()}isPlayedMedia(){let e=null;return"VIDEO"===this.element.tagName||"AUDIO"===this.element.tagName?e=this.element:"SOURCE"!==this.element.tagName&&"TRACK"!==this.element.tagName||(e=this.element.closest("video,audio")),!!e&&(!e.paused||e.currentTime>.1&&!e.ended)}waitForLoad(){const loadListener=()=>{listener(!0)},errorListener=()=>{listener(!1)},listener=e=>{this.element.removeEventListener("load",loadListener),this.element.removeEventListener("error",errorListener),this.onLoad.emit(e),this.loaded=!0};this.element.addEventListener("load",loadListener),this.element.addEventListener("error",errorListener)}ngOnDestroy(){var e;null===(e=this.fileEventObserver)||void 0===e||e.off()}ready(){var e=this;return(0,o.A)((function*(){return e.onReadyPromise}))()}}return(e=CoreExternalContentDirective).ɵfac=function CoreExternalContentDirective_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵdir=i.FsC({type:e,selectors:[["","core-external-content",""]],inputs:{siteId:"siteId",component:"component",componentId:"componentId",url:"url",posterUrl:"posterUrl",src:"src",href:"href",poster:"poster"},outputs:{onLoad:"onLoad"},standalone:!0,features:[i.OA$]}),CoreExternalContentDirective})()},86198:(e,n,r)=>{"use strict";r.d(n,{t:()=>u});var o=r(10467),i=r(6787),s=r(44460),a=r(74431),c=r(54438);let u=(()=>{var e;class CoreFaIconDirective{constructor(e){this.name="",this.element=e.nativeElement,this.logger=i.CoreLogger.getInstance("CoreFaIconDirective")}validateIcon(){var e=this;return(0,o.A)((function*(){if(a.CoreConstants.BUILD.isDevelopment&&!s.O.isIconNamePrefixed(e.name)&&e.logger.warn(`Not prefixed icon ${e.name} detected, it could be an Ionic icon. Font-awesome is preferred.`),e.name.includes("_")&&(e.logger.warn(`Icon ${e.name} contains '_' character and it's not allowed, replacing it with '-'.`),e.updateName(e.name.replace(/_/g,"-"))),e.name.match(/^fa[brs]?-/)){const n=e.name.substring(e.name.indexOf("-")+1),{fileName:r,newLibrary:o}=yield s.O.getFontAwesomeIconFileName(n);o?e.updateName(s.O.prefixIconName("font-awesome",o,r)):r!==n&&e.updateName(e.name.replace(n,r))}}))()}ngAfterViewInit(){this.element.getAttribute("aria-label")||this.element.getAttribute("aria-labelledby")||"true"===this.element.getAttribute("aria-hidden")||(this.logger.warn(`Aria label not set on icon ${this.name}`,this.element),this.element.setAttribute("aria-hidden","true"))}ngOnChanges(e){e.name&&this.name&&this.validateIcon()}updateName(e){this.name=e,this.element.setAttribute("name",e)}}return(e=CoreFaIconDirective).ɵfac=function CoreFaIconDirective_Factory(n){return new(n||e)(c.rXU(c.aKT))},e.ɵdir=c.FsC({type:e,selectors:[["ion-icon","name",""]],inputs:{name:"name"},standalone:!0,features:[c.OA$]}),CoreFaIconDirective})()},19858:(e,n,r)=>{"use strict";r.d(n,{A:()=>a});var o=r(10467),i=r(82907),s=r(54438);let a=(()=>{var e;class CoreFabDirective{constructor(e){this.initialPaddingBottom=0,this.element=e.nativeElement}ngOnInit(){var e=this;return(0,o.A)((function*(){e.slotPromise=i.y.slotOnContent(e.element),yield e.slotPromise,e.content=e.element.closest("ion-content"),e.content&&(e.initialPaddingBottom=parseFloat(e.content.style.getPropertyValue("--padding-bottom")||"0"),yield e.calculatePlace(),i.y.onElementSlot(e.element,(()=>{e.calculatePlace()})))}))()}calculatePlace(){var e=this;return(0,o.A)((function*(){if(!e.content)return;const n=e.element.getBoundingClientRect().height||56;e.content.style.setProperty("--padding-bottom",`${e.initialPaddingBottom+n}px`)}))()}ngOnDestroy(){var e;this.element.remove(),this.content&&this.content.style.setProperty("--padding-bottom",`${this.initialPaddingBottom}px`),null===(e=this.slotPromise)||void 0===e||e.cancel()}}return(e=CoreFabDirective).ɵfac=function CoreFabDirective_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵdir=s.FsC({type:e,selectors:[["ion-fab","core-fab",""]],standalone:!0}),CoreFabDirective})()},58197:(e,n,r)=>{"use strict";r.d(n,{B:()=>z});var o=r(10467),i=r(54438),s=r(52749),a=r(5287),c=r(75383),u=r(49588),p=r(79555),f=r(10892),g=r(23007),v=r(7310),C=r(31616),b=r(40867),w=r(10025),A=r(62393),_=r(35407),E=r(82907),I=r(49882),T=r(32867),P=r(18022);class ElementController{constructor(e){this.destroyed=!1,this.enabled=e}enable(){this.enabled||(this.enabled=!0,this.onEnabled())}disable(){this.enabled&&(this.enabled=!1,this.onDisabled())}destroy(){this.destroyed||(this.destroyed=!0,this.onDestroy())}onDestroy(){}}var k=r(25124),x=r(89615),F=r(52012);class MediaElementController extends ElementController{constructor(e,n){super(n),this.jsPlayer=new k._,this.shouldEnable=!1,this.shouldDisable=!1,this.media=e,this.autoplay=e.autoplay,e.autoplay=!1,this.initJSPlayer(e),n&&this.onEnabled()}onEnabled(){var e=this;return(0,o.A)((function*(){var n;e.shouldEnable=!0,e.shouldDisable=!1;const r=yield e.jsPlayer;if(!e.shouldEnable||e.destroyed)return;const o=(null!==(n=e.playing)&&void 0!==n?n:e.autoplay)?(null!=r?r:e.media).play():Promise.resolve();try{yield o,e.addPlaybackEventListeners(r)}catch(e){u.CoreErrorHelper.logUnhandledError("Error enabling media element",e)}}))()}onDisabled(){var e=this;return(0,o.A)((function*(){e.shouldDisable=!0,e.shouldEnable=!1;const n=yield e.jsPlayer;e.shouldDisable&&!e.destroyed&&(e.removePlaybackEventListeners(n),(null!=n?n:e.media).pause())}))()}onDestroy(){var e=this;return(0,o.A)((function*(){const n=yield e.jsPlayer;e.removePlaybackEventListeners(n),null==n||n.dispose()}))()}initJSPlayer(e){var n=this;return(0,o.A)((function*(){if(!x.o.mediaUsesJavascriptPlayer(e))return n.jsPlayer.resolve(null),void 0;n.jsPlayerListener=I.z.on(F.jF,(({element:r,player:o})=>{var i;r===e&&(null===(i=n.jsPlayerListener)||void 0===i||i.off(),n.jsPlayer.resolve(o))}));const r=yield n.searchJSPlayer();var o;r&&!n.jsPlayer.isSettled()&&(null===(o=n.jsPlayerListener)||void 0===o||o.off(),n.jsPlayer.resolve(r))}))()}addPlaybackEventListeners(e){e?(e.on("play",this.playListener=()=>this.playing=!0),e.on("pause",this.pauseListener=()=>this.playing=!1)):(this.media.addEventListener("play",this.playListener=()=>this.playing=!0),this.media.addEventListener("pause",this.pauseListener=()=>this.playing=!1))}removePlaybackEventListeners(e){e?(this.playListener&&e.off("play",this.playListener),this.pauseListener&&e.off("pause",this.pauseListener)):(this.playListener&&this.media.removeEventListener("play",this.playListener),this.pauseListener&&this.media.removeEventListener("pause",this.pauseListener)),delete this.playListener,delete this.pauseListener}searchJSPlayer(){var e=this;return(0,o.A)((function*(){var n;return null!==(n=F.wK.findPlayer(e.media.id))&&void 0!==n?n:F.wK.findPlayer(e.media.id.replace("_html5_api",""))}))()}}class FrameElementController extends ElementController{constructor(e,n){super(n),this.frame=e,this.placeholder=document.createComment("disabled frame placeholder"),n||this.onDisabled()}onEnabled(){var e;null===(e=this.placeholder.parentElement)||void 0===e||e.replaceChild(this.frame,this.placeholder)}onDisabled(){var e;null===(e=this.frame.parentElement)||void 0===e||e.replaceChild(this.placeholder,this.frame)}}var R=r(8014),N=r(44460),L=r(53794),H=r(91416),U=r(69534),B=r(55554),j=r(25572),V=r(72881),G=r(73205);let z=(()=>{var e;class CoreFormatTextDirective{constructor(e,n,r){this.viewContainerRef=n,this.refreshContext=r,this.adaptImg=!0,this.clean=!1,this.singleLine=!1,this.sanitize=!1,this.wsNotFiltered=!1,this.captureLinks=!0,this.showBrowserWarningInLinks=!0,this.disabled=!1,this.hideIfEmpty=!1,this.afterRender=new i.bkB,this.filterContentRenderingComplete=new i.bkB,this.onClick=new i.bkB,this.elementControllers=[],this.domPromises=[],this.externalContentInstances=[],A.D.register(e.nativeElement,this),this.element=e.nativeElement,this.element.classList.add("core-loading"),this.element.innerHTML=CoreFormatTextDirective.EMPTY_TEXT,this.element.addEventListener("click",(e=>this.elementClicked(e)))}ngOnChanges(e){if(this.siteId=this.siteId||s.CoreSites.getCurrentSiteId(),e.text||e.filter||e.contextLevel||e.contextInstanceId)return this.formatAndRenderContents(),void 0;if("disabled"in e){const n=e.disabled.currentValue;this.elementControllers.forEach((e=>n?e.disable():e.enable()))}}ngOnDestroy(){var e;null===(e=this.domElementPromise)||void 0===e||e.cancel(),this.domPromises.forEach((e=>{e.cancel()})),this.elementControllers.forEach((e=>e.destroy())),this.externalContentInstances.forEach((e=>e.ngOnDestroy()))}ready(){var e=this;return(0,o.A)((function*(){e.element.classList.contains("core-loading")&&(yield new Promise((n=>{const r=e.afterRender.subscribe((()=>{r.unsubscribe(),n()}))})))}))()}addExternalContent(e,n=!1){var r,o;if(!this.siteId)return;const s=new f.l(new i.aKT(e));s.component=this.component,s.componentId=this.componentId,s.siteId=this.siteId,s.url=null!==(r=null!==(o=e.getAttribute("src"))&&void 0!==o?o:e.getAttribute("href"))&&void 0!==r?r:e.getAttribute("xlink:href"),s.posterUrl=e.getAttribute("poster"),n||(e.removeAttribute("src"),e.removeAttribute("href"),e.removeAttribute("xlink:href"),e.removeAttribute("poster")),s.ngAfterViewInit(),this.externalContentInstances.push(s);return this.viewContainerRef.injector.get(i.gRc).markForCheck(),s}addMediaAdaptClass(e){e.classList.add("core-media-adapt-width")}adaptImage(e){if(e.classList.contains("texrender"))return;const n=document.createElement("span"),r=e.attributes.getNamedItem("width"),o=Number(null==r?void 0:r.value);r&&!isNaN(o)&&(e.style.width=r.value.indexOf("%")<0?`${o}px`:`${o}%`),n.classList.add("core-adapted-img-container"),n.style.cssFloat=e.style.cssFloat,e.classList.contains("atto_image_button_right")?n.classList.add("atto_image_button_right"):e.classList.contains("atto_image_button_left")?n.classList.add("atto_image_button_left"):e.classList.contains("atto_image_button_text-top")?n.classList.add("atto_image_button_text-top"):e.classList.contains("atto_image_button_middle")?n.classList.add("atto_image_button_middle"):e.classList.contains("atto_image_button_text-bottom")&&n.classList.add("atto_image_button_text-bottom"),E.y.wrapElement(e,n)}addImageViewerButton(){var e=this;return(0,o.A)((function*(){const n=Array.from(e.element.querySelectorAll(".core-adapted-img-container > img"));if(!n.length)return;const r=yield e.getElementWidth();n.forEach((n=>{var o;if(n.closest("a"))return;let i=Number(n.getAttribute("width"));if(i||(i=n.naturalWidth),i<=r)return;const s=p.HT.instant("core.openfullimage"),a=document.createElement("button");a.classList.add("core-image-viewer-icon"),a.classList.add("hidden"),a.setAttribute("aria-label",s);const u="up-right-and-down-left-from-center",f=N.O.getIconSrc("font-awesome","solid",u);a.innerHTML=`<ion-icon name="fas-${u}" aria-hidden="true" src="${f}"></ion-icon>`,a.addEventListener("click",(r=>{const o=c.Ni.escapeHTML(n.getAttribute("data-original-src")||n.getAttribute("src"));r.preventDefault(),r.stopPropagation(),U.m.viewImage(o,n.getAttribute("alt"),e.component,e.componentId)})),null===(o=n.parentNode)||void 0===o||o.appendChild(a),n.complete&&n.naturalWidth>0?a.classList.remove("hidden"):n.onload=()=>a.classList.remove("hidden")}))}))()}elementClicked(e){var n;if(!e.defaultPrevented)return this.onClick.observed?(this.onClick.emit(),void 0):(this.text&&(null===(n=this.collapsible)||void 0===n||n.elementClicked(e)),void 0)}finishRender(e=!0){var n=this;return(0,o.A)((function*(){n.element.classList.remove("core-loading"),yield L.H.nextTick(),n.afterRender.emit(),e&&n.filterContentRenderingComplete.emit()}))()}formatAndRenderContents(){var e=this;return(0,o.A)((function*(){if(e.externalContentInstances.forEach((e=>e.ngOnDestroy())),e.externalContentInstances=[],!e.text)return e.element.innerHTML=CoreFormatTextDirective.EMPTY_TEXT,yield e.finishRender(),void 0;e.element.getAttribute("singleLine")||e.element.setAttribute("singleLine",String(e.singleLine)),e.text=e.text?e.text.trim():"";const n=yield e.formatContents();e.element.classList.add("core-disable-media-adapt"),e.element.innerHTML="",E.y.moveChildren(n.div,e.element),e.elementControllers.forEach((e=>e.destroy())),e.elementControllers=n.elementControllers,yield L.H.nextTick(),e.addImageViewerButton(),n.options.filter&&C.CoreFilterDelegate.handleHtml(e.element,n.filters,e.viewContainerRef,n.options,[],e.component,e.componentId,n.siteId).finally((()=>{e.filterContentRenderingComplete.emit()})),e.element.classList.remove("core-disable-media-adapt"),yield e.finishRender(!n.options.filter)}))()}formatContents(){var e=this;return(0,o.A)((function*(){var n;const r=yield B.g.ignoreErrors(s.CoreSites.getSite(e.siteId)),o=null==r?void 0:r.getId();r&&"course"===e.contextLevel&&void 0!==e.contextInstanceId&&e.contextInstanceId<=0&&(e.contextInstanceId=r.getSiteHomeId()),"course"===e.contextLevel&&void 0===e.contextInstanceId&&void 0!==e.courseId&&(e.contextInstanceId=e.courseId);const i=null!==(n=e.filter)&&void 0!==n?n:!(!e.contextLevel||void 0===e.contextInstanceId),a={clean:e.clean,sanitize:e.sanitize,singleLine:e.singleLine,highlight:e.highlight,courseId:e.courseId,wsNotFiltered:e.wsNotFiltered};let c,u=[];if(i&&o){var p;const n=yield b.CoreFilterHelper.getFiltersAndFormatText(e.text||"",e.contextLevel||"system",null!==(p=e.contextInstanceId)&&void 0!==p?p:-1,a,o);u=n.filters,c=n.text}else c=yield v.CoreFilter.formatText(e.text||"",a,[],o);c=e.treatWindowOpen(c);const f=document.createElement("div");f.innerHTML=c;return{div:f,filters:u,options:a,siteId:o,elementControllers:e.treatHTMLElements(f,r)}}))()}treatHTMLElements(e,n){const r=Array.from(e.querySelectorAll("img")),o=Array.from(e.querySelectorAll("a")),s=Array.from(e.querySelectorAll("audio")),c=Array.from(e.querySelectorAll("video")),p=Array.from(e.querySelectorAll("iframe")),f=Array.from(e.querySelectorAll(".button")),v=Array.from(e.querySelectorAll("*[style]")),C=Array.from(e.querySelectorAll("button,input,select,textarea")),b=Array.from(e.querySelectorAll(a.c.FRAME_TAGS.join(",").replace(/iframe,?/,""))),A=Array.from(e.querySelectorAll("image")),_=[];this.treatAppUrlElements(e,n),o.forEach((e=>{var n;if(e.dataset.appUrl)return;const r=new g.j(new i.aKT(e));r.capture=null===(n=this.captureLinks)||void 0===n||n,r.inApp=this.openLinksInApp,r.showBrowserWarning=this.showBrowserWarningInLinks,r.ngOnInit(),this.addExternalContent(e)}));const E=[];r&&r.length>0&&r.forEach((e=>{this.addMediaAdaptClass(e);const n=this.addExternalContent(e);n&&!n.invalid&&E.push(n),this.adaptImg&&!e.classList.contains("icon")&&this.adaptImage(e)}));const I=s.map((e=>(this.treatMedia(e),new MediaElementController(e,!this.disabled)))),T=c.map((e=>(this.treatMedia(e,!0),new MediaElementController(e,!this.disabled)))),P=p.map((e=>{const{launchExternal:r,label:o}=a.c.frameShouldLaunchExternal(e);if(!r||!this.replaceFrameWithButton(e,n,o))return _.push(this.treatIframe(e,n)),new FrameElementController(e,!this.disabled)})).filter((e=>void 0!==e));A.forEach((e=>{this.addExternalContent(e)})),f.forEach((e=>{e.querySelector("a")&&e.classList.add("core-button-with-inner-link")}));Array.from(e.querySelectorAll(".fa,.fas,.far,.fab,.fa-solid,.fa-regular,.fa-brands")).forEach((e=>{N.O.replaceCSSIcon(e)})),v.forEach((e=>{"A"!==e.tagName&&"IMG"!==e.tagName&&"AUDIO"!==e.tagName&&"VIDEO"!==e.tagName&&"SOURCE"!==e.tagName&&"TRACK"!==e.tagName&&"IMAGE"!==e.tagName&&this.addExternalContent(e,!0)})),C.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation()}))}));const k=b.map((e=>{const{launchExternal:r,label:o}=a.c.frameShouldLaunchExternal(e);if(!r||!this.replaceFrameWithButton(e,n,o))return a.c.treatFrame(e,!1),new FrameElementController(e,!this.disabled)})).filter((e=>void 0!==e));if(G.m.handleBootstrapTooltipsAndPopovers(e,{siteId:this.siteId,component:this.component,componentId:this.componentId,contextLevel:this.contextLevel,contextInstanceId:this.contextInstanceId,courseId:this.courseId}),E.length){const e=B.g.allPromises(E.map((e=>e.loaded?Promise.resolve():new Promise((n=>w.O.once(e.onLoad,n))))));_.push(B.g.ignoreErrors(B.g.timeoutPromise(e,5e3)))}return Promise.all(_).catch((e=>u.CoreErrorHelper.logUnhandledError("Error treating format-text elements",e))),[...T,...I,...P,...k]}treatAppUrlElements(e,n){var r=this;Array.from(e.querySelectorAll("*[data-app-url]")).forEach((e=>{let i=e.dataset.appUrl;i&&E.y.initializeClickableElementA11y(e,function(){var a=(0,o.A)((function*(a){if(a.preventDefault(),a.stopPropagation(),!(n=n||s.CoreSites.getCurrentSite())||!i)return;i=R.F.toAbsoluteURL(n.getURL(),i);const c=e.dataset.appUrlConfirm,u="app"===e.dataset.openIn,f="refresh"===e.dataset.appUrlResumeAction;if(c)try{yield j.CoreAlerts.confirm(p.HT.instant(c))}catch{return}u?(n.openInAppWithAutoLogin(i),f&&r.refreshContext&&I.z.once(I.z.IAB_EXIT,(()=>{var e;null===(e=r.refreshContext)||void 0===e||e.refreshContext()}))):(n.openInBrowserWithAutoLogin(i,void 0,{showBrowserWarning:!c}),f&&r.refreshContext&&w.O.once(P.CorePlatform.resume,(()=>{p.SK.run((0,o.A)((function*(){var e;null===(e=r.refreshContext)||void 0===e||e.refreshContext()})))})))}));return function(e){return a.apply(this,arguments)}}())}))}getElementWidth(){var e=this;return(0,o.A)((function*(){e.domElementPromise||(e.domElementPromise=E.y.waitToBeInDOM(e.element)),yield e.domElementPromise;let n=e.element.getBoundingClientRect().width;if(!n){const r=getComputedStyle(e.element).display;e.element.style.display="inline-block",yield L.H.nextTick(),n=e.element.getBoundingClientRect().width,e.element.style.display=r}let r=e.element;for(;!n&&r.parentElement;){r=r.parentElement;const e=getComputedStyle(r),o=E.y.getComputedStyleMeasure(e,"paddingLeft")+E.y.getComputedStyleMeasure(e,"paddingRight");n=r.getBoundingClientRect().width-o}return n>0&&n<window.innerWidth?n:window.innerWidth}))()}treatMedia(e,n=!1){n&&this.fixVideoSrcPlaceholder(e),this.addMediaAdaptClass(e),this.addExternalContent(e);let r=e.getAttribute("controlsList")||"";r.includes("nodownload")||(r=r.trim()?r.split(" ").concat("nodownload").join(" "):"nodownload",e.setAttribute("controlsList",r));const o=Array.from(e.querySelectorAll("source")),i=Array.from(e.querySelectorAll("track"));o.forEach((e=>{this.addExternalContent(e)})),i.forEach((e=>{this.addExternalContent(e)})),e.addEventListener("click",(e=>{e.stopPropagation()}))}fixVideoSrcPlaceholder(e){e.getAttribute("poster")||[e].concat(Array.from(e.querySelectorAll("source"))).forEach((e=>{const n=e.getAttribute("src");n&&!n.match(/#t=\d/)&&e.setAttribute("src",`${n}#t=0.001`)}))}treatIframe(e,n){var r=this;return(0,o.A)((function*(){const o=r.getFrameUrl(e,n),i=s.CoreSites.getCurrentSite();if(r.addMediaAdaptClass(e),a.c.shouldDisplayHelpForUrl(o)&&r.addIframeHelp(e),null!=i&&i.containsUrl(o)){e.src="";let n=yield a.c.getAutoLoginUrlForIframe(e,o);const r=yield V.CoreLang.getCurrentLanguage("lms");return n=R.F.addParamsToUrl(n,{lang:r},{checkAutoLoginUrl:o!==n}),yield a.c.fixIframeCookies(n),e.src=n,a.c.treatFrame(e,!1),void 0}if(yield a.c.fixIframeCookies(o),o!==e.src&&(e.src=o),n&&o){let i=R.F.getVimeoPlayerUrl(o,n);if(i){var c;const o=E.y.waitToBeInDOM(e);let s,u;r.domPromises.push(o),yield o,e.width?s=e.width:(s=e.getBoundingClientRect().width,s||(s=window.innerWidth)),e.height?u=e.height:(u=e.getBoundingClientRect().height,u||(u=s)),n&&!n.isVersionGreaterEqualThan("3.7")&&(i+=`&width=${s}&height=${u}`),yield a.c.fixIframeCookies(i),e.src=i,e.width||(e.width=String(s)),e.height||(e.height=String(u)),null!==(c=e.parentElement)&&void 0!==c&&c.classList.contains("embed-responsive")&&e.addEventListener("load",(()=>{if(e.contentDocument){const n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML="iframe {width: 100%;height: 100%;position:absolute;top:0; left:0;}",e.contentDocument.head.appendChild(n)}}))}}a.c.treatFrame(e,!1)}))()}getFrameUrl(e,n){if(!n)return"src"in e?e.src:e.data;const r=e.getAttribute("src"in e?"src":"data");return r?R.F.toAbsoluteURL(n.getURL(),r):"src"in e?e.src:e.data}replaceFrameWithButton(e,n,r){const o=this.getFrameUrl(e,n);if(!o)return!1;const i=document.createElement("ion-button");return i.setAttribute("expand","block"),i.classList.add("ion-text-wrap"),i.innerHTML=r,i.addEventListener("click",(()=>{a.c.frameLaunchExternal(o,{site:n,component:this.component,componentId:this.componentId})})),e.replaceWith(i),!0}addIframeHelp(e){const n=document.createElement("div");n.classList.add("ion-text-center","ion-text-wrap");const r=document.createElement("ion-button");r.setAttribute("fill","clear"),r.setAttribute("aria-haspopup","dialog"),r.classList.add("core-iframe-help","core-button-as-link"),r.innerHTML=p.HT.instant("core.iframehelp"),r.addEventListener("click",(()=>{a.c.openIframeHelpModal()})),n.appendChild(r),e.after(n)}treatWindowOpen(e){const n=e.match(/<[^>]+window\.open\([^)]*\)[^>]*>/g);return n&&n.forEach((n=>{const r=n.replace(/window\.open\(/g,"window.openWindowSafely(");e=e.replace(n,r)})),e}}return(e=CoreFormatTextDirective).EMPTY_TEXT="&nbsp;",e.ɵfac=function CoreFormatTextDirective_Factory(n){return new(n||e)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(T.g,8))},e.ɵdir=i.FsC({type:e,selectors:[["core-format-text"]],viewQuery:function CoreFormatTextDirective_Query(e,n){if(1&e&&i.GBs(_.K,5),2&e){let e;i.mGM(e=i.lsd())&&(n.collapsible=e.first)}},inputs:{text:"text",siteId:"siteId",component:"component",componentId:"componentId",adaptImg:[i.Mj6.HasDecoratorInputTransform,"adaptImg","adaptImg",H.G],clean:[i.Mj6.HasDecoratorInputTransform,"clean","clean",H.G],singleLine:[i.Mj6.HasDecoratorInputTransform,"singleLine","singleLine",H.G],sanitize:[i.Mj6.HasDecoratorInputTransform,"sanitize","sanitize",H.G],highlight:"highlight",filter:[i.Mj6.HasDecoratorInputTransform,"filter","filter",H.G],contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId",wsNotFiltered:[i.Mj6.HasDecoratorInputTransform,"wsNotFiltered","wsNotFiltered",H.G],captureLinks:[i.Mj6.HasDecoratorInputTransform,"captureLinks","captureLinks",H.G],openLinksInApp:[i.Mj6.HasDecoratorInputTransform,"openLinksInApp","openLinksInApp",H.G],showBrowserWarningInLinks:[i.Mj6.HasDecoratorInputTransform,"showBrowserWarningInLinks","showBrowserWarningInLinks",H.G],disabled:[i.Mj6.HasDecoratorInputTransform,"disabled","disabled",H.G],hideIfEmpty:"hideIfEmpty"},outputs:{afterRender:"afterRender",filterContentRenderingComplete:"filterContentRenderingComplete",onClick:"onClick"},standalone:!0,features:[i.GFd,i.OA$]}),CoreFormatTextDirective})()},23007:(e,n,r)=>{"use strict";r.d(n,{j:()=>E});var o=r(10467),i=r(54438),s=r(88436),a=r(52749),c=r(8014),u=r(86552),p=r(74431),f=r(10883),g=r(85850),v=r(79555),C=r(88793),b=r(82907),w=r(91416),A=r(33014),_=r(25572);let E=(()=>{var e;class CoreLinkDirective{constructor(e){this.capture=!1,this.autoLogin=!0,this.showBrowserWarning=!0,this.element=e.nativeElement}ngOnInit(){var e=this;return(0,o.A)((function*(){let n=!1;var r;"componentOnReady"in e.element&&(yield e.element.componentOnReady(),n=!(null===(r=e.element.shadowRoot)||void 0===r||!r.querySelector(".button-native")));b.y.initializeClickableElementA11y(e.element,(n=>e.performAction(n)),!n)}))()}performAction(e){var n=this;return(0,o.A)((function*(){if(e.defaultPrevented)return;let r=null;if(n.href&&(r="string"==typeof n.href?n.href:v.up.sanitize(i.WPN.URL,n.href)),r=r||n.element.getAttribute("href")||n.element.getAttribute("xlink:href"),!r||"javascript"===c.F.getUrlProtocol(r))return;e.preventDefault(),e.stopPropagation();const o=n.element.getAttribute("data-open-in");if(n.capture){(yield f.CoreContentLinksHelper.handleLink(c.F.decodeURI(r),void 0,!0,!0))||n.navigate(r,o)}else n.navigate(r,o)}))()}navigate(e,n){var r=this;return(0,o.A)((function*(){if(c.F.isLocalFileUrl(e))return r.openLocalFile(e);if("#"===e.charAt(0)){e=e.substring(1);const n=r.element.closest("ion-content");return n&&e.length>0&&b.y.scrollToElement(n,`#${e}, [name='${e}']`),void 0}if(!g.CoreCustomURLSchemes.isCustomURL(e))return r.openExternalLink(e,n);try{yield g.CoreCustomURLSchemes.handleCustomURL(e)}catch(n){g.CoreCustomURLSchemes.treatHandleCustomURLError(n,e,"CoreLinkDirective")}}))()}openLocalFile(e){return(0,o.A)((function*(){const n=e.substring(e.lastIndexOf("/")+1);if(!s.CoreFileHelper.isOpenableInApp({filename:n}))try{yield s.CoreFileHelper.showConfirmOpenUnsupportedFile(!1,{filename:n})}catch(e){return}try{yield u.j.openFile(e)}catch(e){_.CoreAlerts.showError(e)}}))()}openExternalLink(e,n){var r=this;return(0,o.A)((function*(){var o;const i=null!==(o=r.inApp)&&void 0!==o?o:"browser"!==p.CoreConstants.CONFIG.forceOpenLinksIn&&("app"===p.CoreConstants.CONFIG.forceOpenLinksIn||"app"===n);if(!a.CoreSites.isLoggedIn())return i?u.j.openInApp(e):u.j.openInBrowser(e,{showBrowserWarning:r.showBrowserWarning}),void 0;const s=a.CoreSites.getRequiredCurrentSite();if(e=c.F.toAbsoluteURL(s.getURL(),e),s.isSitePluginFileUrl(e)){if(yield C.CoreFilepool.isFileDownloadingByUrl(s.getId(),e)){const n=yield A.CoreLoadings.show();try{const n=yield C.CoreFilepool.downloadUrl(s.getId(),e);return r.openLocalFile(n)}catch{}finally{n.dismiss()}}}r.autoLogin?i?yield s.openInAppWithAutoLogin(e):yield s.openInBrowserWithAutoLogin(e,void 0,{showBrowserWarning:r.showBrowserWarning}):i?u.j.openInApp(e):u.j.openInBrowser(e,{showBrowserWarning:r.showBrowserWarning})}))()}}return(e=CoreLinkDirective).ɵfac=function CoreLinkDirective_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵdir=i.FsC({type:e,selectors:[["","core-link",""]],inputs:{href:"href",capture:[i.Mj6.HasDecoratorInputTransform,"capture","capture",w.G],inApp:[i.Mj6.HasDecoratorInputTransform,"inApp","inApp",w.G],autoLogin:[i.Mj6.HasDecoratorInputTransform,"autoLogin","autoLogin",w.G],showBrowserWarning:[i.Mj6.HasDecoratorInputTransform,"showBrowserWarning","showBrowserWarning",w.G]},standalone:!0,features:[i.GFd]}),CoreLinkDirective})()},77199:(e,n,r)=>{"use strict";r.d(n,{S:()=>s});var o=r(54438),i=r(79555);let s=(()=>{var e;class CoreLongPressDirective{constructor(e){this.longPress=new o.bkB,this.element=e.nativeElement,this.element.setAttribute("tappable","")}ngOnInit(){this.pressGesture=i.wH.create({el:this.element,threshold:0,disableScroll:!0,gestureName:"longpress",onStart:e=>{this.timeout=window.setTimeout((()=>{this.longPress.emit(e),delete this.timeout}),CoreLongPressDirective.HOLD_DURATION)},onMove:()=>this.clearTimeout(),onEnd:()=>this.clearTimeout()},!0),this.pressGesture.enable()}ngOnDestroy(){var e;null===(e=this.pressGesture)||void 0===e||e.destroy(),this.clearTimeout()}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}}return(e=CoreLongPressDirective).HOLD_DURATION=500,e.ɵfac=function CoreLongPressDirective_Factory(n){return new(n||e)(o.rXU(o.aKT))},e.ɵdir=o.FsC({type:e,selectors:[["","longPress",""]],outputs:{longPress:"longPress"},standalone:!0}),CoreLongPressDirective})()},74235:(e,n,r)=>{"use strict";r.d(n,{C:()=>s});var o=r(54438),i=r(81690);let s=(()=>{var e;class CoreOnResizeDirective{constructor(e){this.onResize=new o.bkB,this.element=e.nativeElement}ngOnInit(){"ResizeObserver"in window?this.watchResize():this.watchMutations()}ngOnDestroy(){var e,n;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(n=this.mutationObserver)||void 0===n||n.disconnect()}watchResize(){this.resizeObserver=new ResizeObserver((()=>this.onResize.emit())),this.resizeObserver.observe(this.element)}watchMutations(){let e=this.getElementSize();this.mutationObserver=new MutationObserver(i.j.debounce((()=>{const n=this.getElementSize();n.width===e.width&&n.height===e.height||(e=n,this.onResize.emit())}),20)),this.mutationObserver.observe(this.element,{subtree:!0,childList:!0,characterData:!0})}getElementSize(){return{width:this.element.clientWidth,height:this.element.clientHeight}}}return(e=CoreOnResizeDirective).ɵfac=function CoreOnResizeDirective_Factory(n){return new(n||e)(o.rXU(o.aKT))},e.ɵdir=o.FsC({type:e,selectors:[["","onResize",""]],outputs:{onResize:"onResize"},standalone:!0}),CoreOnResizeDirective})()},61307:(e,n,r)=>{"use strict";r.d(n,{O:()=>b});var o=r(10467),i=r(79555),s=r(44460),a=r(82907),c=r(53794),u=r(93589),p=r(69534),f=r(62393),g=r(68273),v=r(6787),C=r(54438);let b=(()=>{var e;class CoreReadingModeDirective{constructor(e){this.disabledStyles=[],this.hiddenElements=[],this.renamedStyles=[],this.enabled=!1,this.logger=v.CoreLogger.getInstance("CoreReadingModeDirective"),this.element=e.nativeElement,this.viewportPromise=a.y.waitToBeInViewport(this.element)}ngAfterViewInit(){var e=this;return(0,o.A)((function*(){yield e.viewportPromise,yield c.H.nextTick(),yield e.addTextViewerButton(),e.enabled=document.body.classList.contains("core-reading-mode-enabled"),e.enabled&&(yield e.enterReadingMode())}))()}addTextViewerButton(){var e=this;return(0,o.A)((function*(){var n;const r=a.y.closest(e.element,".ion-page"),o=null!==(n=null==r?void 0:r.querySelector("ion-content"))&&void 0!==n?n:void 0,c=yield a.y.findIonHeaderFromElement(e.element),u=null==c?void 0:c.querySelector('ion-toolbar ion-buttons[slot="end"]');if(!u||!o)return e.logger.warn("The header was not found, or it didn't have any ion-buttons on slot end."),void 0;if(o.classList.add("core-reading-mode-content"),u.querySelector(".core-text-viewer-button"))return;const p=f.D.resolve(c,g.M);p&&(e.header=p,yield e.header.ready());const v=i.HT.instant("core.viewer.enterreadingmode"),C=document.createElement("ion-button");C.classList.add("core-text-viewer-button"),C.setAttribute("aria-label",v),C.setAttribute("fill","clear");const b="book-open-reader",w=s.O.getIconSrc("font-awesome","solid",b);C.innerHTML=`<ion-icon name="fas-${b}" aria-hidden="true" src="${w}"></ion-icon>`,u.appendChild(C),C.addEventListener("click",(n=>{e.element.innerHTML&&(n.preventDefault(),n.stopPropagation(),e.enabled?e.showReadingSettings():e.enterReadingMode())}))}))()}enterReadingMode(){var e=this;return(0,o.A)((function*(){var n;e.enabled=!0,yield p.m.loadReadingModeSettings(),yield null===(n=e.header)||void 0===n?void 0:n.setEnabled(!1),document.body.classList.add("core-reading-mode-enabled"),e.disabledStyles=Array.from(e.element.querySelectorAll("style:not(disabled)")),e.disabledStyles.forEach((e=>{e.disabled=!0})),e.renamedStyles=Array.from(e.element.querySelectorAll("*[style]")),e.renamedStyles.forEach((n=>{e.renamedStyles.push(n),n.setAttribute("data-original-style",n.getAttribute("style")||""),n.removeAttribute("style")}));let r=e.element,o=r.parentElement;for(;o&&"ion-content"!==o.tagName.toLowerCase();)Array.from(o.children).forEach((n=>{n!==r&&"swiper-slide"!==n.tagName.toLowerCase()&&(e.hiddenElements.push(n),n.classList.add("hide-on-reading-mode"))})),r=o,o=r.parentElement}))()}disableReadingMode(){var e=this;return(0,o.A)((function*(){var n;yield null===(n=e.header)||void 0===n?void 0:n.setEnabled(!0),e.enabled=!1,document.body.classList.remove("core-reading-mode-enabled"),e.disabledStyles.forEach((e=>{e.disabled=!1})),e.disabledStyles=[],e.renamedStyles.forEach((e=>{e.setAttribute("style",e.getAttribute("data-original-style")||""),e.removeAttribute("data-original-style")})),e.renamedStyles=[],e.hiddenElements.forEach((e=>{e.classList.remove("hide-on-reading-mode")})),e.hiddenElements=[]}))()}showReadingSettings(){var e=this;return(0,o.A)((function*(){const{CoreReadingModeSettingsModalComponent:n}=yield r.e(32937).then(r.bind(r,32937));(yield u.I.openModal({component:n,initialBreakpoint:1,breakpoints:[0,1],cssClass:"core-modal-auto-height"}))&&e.disableReadingMode()}))()}ngOnDestroy(){var e;null===(e=this.viewportPromise)||void 0===e||e.cancel()}}return(e=CoreReadingModeDirective).ɵfac=function CoreReadingModeDirective_Factory(n){return new(n||e)(C.rXU(C.aKT))},e.ɵdir=C.FsC({type:e,selectors:[["","core-reading-mode",""]],standalone:!0}),CoreReadingModeDirective})()},98128:(e,n,r)=>{"use strict";r.d(n,{t:()=>s});var o=r(54438),i=r(6787);let s=(()=>{var e;class CoreSupressEventsDirective{constructor(e){this.onClick=new o.bkB,this.element=e.nativeElement}ngOnInit(){if(!this.onClick.observed)return i.CoreLogger.getInstance("CoreSupressEventsDirective").error("No onClick output was defined causing this directive to fail",this.element),void 0;let e;e="all"==this.suppressEvents||null==this.suppressEvents?["click","mousedown","touchdown","touchmove","touchstart"]:"string"==typeof this.suppressEvents?[this.suppressEvents]:Array.isArray(this.suppressEvents)?this.suppressEvents:[];for(const n of e)this.element.addEventListener(n,(e=>this.stopBubble(e)));this.element.addEventListener("mouseup",(e=>{this.onClick.emit(e)})),this.element.addEventListener("touchend",(e=>{this.stopBubble(e),this.onClick.emit(e)}))}stopBubble(e){e.preventDefault(),e.stopPropagation()}}return(e=CoreSupressEventsDirective).ɵfac=function CoreSupressEventsDirective_Factory(n){return new(n||e)(o.rXU(o.aKT))},e.ɵdir=o.FsC({type:e,selectors:[["","core-suppress-events",""]],inputs:{suppressEvents:[o.Mj6.None,"core-suppress-events","suppressEvents"]},outputs:{onClick:"onClick"},standalone:!0}),CoreSupressEventsDirective})()},28988:(e,n,r)=>{"use strict";r.d(n,{n:()=>f});var o=r(10467),i=r(74431),s=r(17046),a=r(74037),c=r(18022),u=r(79555),p=r(54438);let f=(()=>{var e;class CoreSwipeNavigationDirective{constructor(e){this.element=e.nativeElement,i.CoreConstants.enableDevTools()&&(this.element.swipeNavigation=this,this.element.classList.add("uses-swipe-navigation"))}get enabled(){return!!this.manager}ngAfterViewInit(){var e=this;return(0,o.A)((function*(){var n,r;const o=e.element.style;e.swipeGesture=u.wH.create({el:e.element,gestureName:"swipe",threshold:10,direction:"x",gesturePriority:10,maxAngle:20,canStart:()=>e.enabled,onStart:()=>{o.transition=""},onMove:e=>{o.transform=`translateX(${.6*e.deltaX}px)`},onEnd:n=>{e.onRelease(n)}});const i=null===(n=e.manager)||void 0===n?void 0:n.getSource();if(!i)return;yield i.waitForLoaded();const c=null!==(r=i.getItems())&&void 0!==r?r:[];!e.enabled||c.length<2||(e.swipeGesture.enable(),yield a.E.showIfPending({id:"swipe-navigation",component:s.p,watch:e.element}))}))()}swipeLeft(){var e,n;this.enabled&&(c.CorePlatform.isRTL?null===(e=this.manager)||void 0===e?void 0:e.navigateToPreviousItem():null===(n=this.manager)||void 0===n?void 0:n.navigateToNextItem())}swipeRight(){var e,n;this.enabled&&(c.CorePlatform.isRTL?null===(e=this.manager)||void 0===e?void 0:e.navigateToNextItem():null===(n=this.manager)||void 0===n?void 0:n.navigateToPreviousItem())}hasItemRight(){var e=this;return(0,o.A)((function*(){return!!e.manager&&(c.CorePlatform.isRTL?yield e.manager.hasNextItem():yield e.manager.hasPreviousItem())}))()}hasItemLeft(){var e=this;return(0,o.A)((function*(){return!!e.manager&&(c.CorePlatform.isRTL?yield e.manager.hasPreviousItem():yield e.manager.hasNextItem())}))()}preventClickOnElement(){this.element.addEventListener("click",(e=>(e.preventDefault(),e.stopPropagation(),!1)),!0)}ngOnDestroy(){var e;null===(e=this.swipeGesture)||void 0===e||e.destroy()}onRelease(e){var n=this;return(0,o.A)((function*(){return n.element.style.transition=".5s ease-out",e.deltaX>150&&(yield n.hasItemRight())?(n.preventClickOnElement(),n.swipeRight(),n.element.style.transform="translateX(100%) !important",void 0):e.deltaX<-150&&(yield n.hasItemLeft())?(n.element.style.transform="translateX(-100%) !important",n.preventClickOnElement(),n.swipeLeft(),void 0):(n.element.style.transform="",void 0)}))()}}return(e=CoreSwipeNavigationDirective).ɵfac=function CoreSwipeNavigationDirective_Factory(n){return new(n||e)(p.rXU(p.aKT))},e.ɵdir=p.FsC({type:e,selectors:[["ion-content","core-swipe-navigation",""]],inputs:{manager:[p.Mj6.None,"core-swipe-navigation","manager"]},standalone:!0}),CoreSwipeNavigationDirective})()},43570:(e,n,r)=>{"use strict";r.d(n,{T:()=>s});var o=r(10467),i=r(54438);let s=(()=>{var e;class CoreUpdateNonReactiveAttributesDirective{constructor(e){this.element=e.nativeElement,this.mutationObserver=new MutationObserver((()=>{var e;const n=null===(e=this.element.shadowRoot)||void 0===e?void 0:e.querySelector("button");if(!n)return;const r=this.element.getAttribute("aria-label");r?n.setAttribute("aria-label",r):n.removeAttribute("aria-label")}))}ngOnInit(){var e=this;return(0,o.A)((function*(){"componentOnReady"in e.element&&(yield e.element.componentOnReady()),e.mutationObserver.observe(e.element,{attributes:!0,attributeFilter:["aria-label"]})}))()}ngOnDestroy(){this.mutationObserver.disconnect()}}return(e=CoreUpdateNonReactiveAttributesDirective).ɵfac=function CoreUpdateNonReactiveAttributesDirective_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵdir=i.FsC({type:e,selectors:[["ion-button"]],standalone:!0}),CoreUpdateNonReactiveAttributesDirective})()},37557:(e,n,r)=>{"use strict";r.d(n,{O:()=>s});var o=r(15324),i=r(54438);let s=(()=>{var e;class CoreUserLinkDirective{constructor(e){this.element=e.nativeElement}ngOnInit(){this.element.addEventListener("click",(e=>{!e.defaultPrevented&&this.userId&&(e.preventDefault(),e.stopPropagation(),o.CoreNavigator.navigateToSitePath("user",{params:{userId:this.userId,courseId:this.courseId}}))}))}}return(e=CoreUserLinkDirective).ɵfac=function CoreUserLinkDirective_Factory(n){return new(n||e)(i.rXU(i.aKT))},e.ɵdir=i.FsC({type:e,selectors:[["","core-user-link",""]],inputs:{userId:"userId",courseId:"courseId"},standalone:!0}),CoreUserLinkDirective})()},8759:(e,n,r)=>{"use strict";r.d(n,{g:()=>c});var o=r(10467),i=r(74037),s=r(82907),a=r(54438);let c=(()=>{var e;class CoreUserTourDirective{constructor(e){this.element=e.nativeElement}ngOnInit(){var e=this;return(0,o.A)((function*(){var n;e.visiblePromise=s.y.waitToBeInViewport(e.element),yield e.visiblePromise;const{getFocusedElement:r,...o}=e.userTour;e.tour=yield i.E.showIfPending({...o,focus:null!==(n=null==r?void 0:r(e.element))&&void 0!==n?n:e.element})}))()}ngOnDestroy(){var e,n;null===(e=this.tour)||void 0===e||e.cancel(),null===(n=this.visiblePromise)||void 0===n||n.cancel()}}return(e=CoreUserTourDirective).ɵfac=function CoreUserTourDirective_Factory(n){return new(n||e)(a.rXU(a.aKT))},e.ɵdir=a.FsC({type:e,selectors:[["","userTour",""]],inputs:{userTour:"userTour"},standalone:!0}),CoreUserTourDirective})()},61798:(e,n,r)=>{"use strict";r.d(n,{G9:()=>f,PQ:()=>v,nq:()=>g});var o=r(10467),i=r(18022),s=r(52749),a=r(56364),c=r(79555),u=r(49882),p=r(54438);let f=(()=>{var e;class CoreAutoLogoutService{initialize(){var e=this;u.z.on(u.z.LOGIN,(0,o.A)((function*(){return yield e.refreshListeners()}))),u.z.on(u.z.LOGOUT,function(){var n=(0,o.A)((function*({siteId:n}){e.cancelListeners();const r=yield s.CoreSites.getSite(n);yield a.t.forSite(r).remove(CoreAutoLogoutService.TIMESTAMP_DB_KEY)}));return function(e){return n.apply(this,arguments)}}())}refreshListeners(){var e=this;return(0,o.A)((function*(){if(!s.CoreSites.isLoggedIn())return;const n=s.CoreSites.getCurrentSite();if(!n)return;const r=Number(n.getStoredConfig("tool_mobile_autologout"));e.cancelListeners(),r&&r!==g.NEVER&&(r===g.CUSTOM&&(yield e.setTimestamp(),e.setInterval()),e.platformPauseSubscription=i.CorePlatform.pause.subscribe((0,o.A)((function*(){e.backgroundTimestamp=(new Date).getTime(),e.clearInterval()}))),e.platformResumeSubscription=i.CorePlatform.resume.subscribe((0,o.A)((function*(){if(r!==g.CUSTOM)return yield e.handleAppClosed(n),void 0;const o=Number(n.getStoredConfig("tool_mobile_autologouttime"));(yield e.handleSessionClosed(o,n))||(yield e.setTimestamp(),e.setInterval())}))))}))()}logout(e){return(0,o.A)((function*(){yield s.CoreSites.setSiteLoggedOut(e,!0)}))()}setTimestamp(){return(0,o.A)((function*(){const e=(new Date).getTime(),n=a.t.forCurrentSite();yield n.set(CoreAutoLogoutService.TIMESTAMP_DB_KEY,e)}))()}canShowPreference(){return(0,o.A)((function*(){const e=s.CoreSites.getCurrentSite();if(!e)return!1;return Number(e.getStoredConfig("tool_mobile_autologout"))!==g.NEVER}))()}cancelListeners(){var e,n;this.clearInterval(),null===(e=this.platformResumeSubscription)||void 0===e||e.unsubscribe(),null===(n=this.platformPauseSubscription)||void 0===n||n.unsubscribe(),delete this.platformPauseSubscription,delete this.platformResumeSubscription}setInterval(){var e=this;this.interval=setInterval((0,o.A)((function*(){return yield e.setTimestamp()})),CoreAutoLogoutService.DEFAULT_TIMESTAMP_STORE_TIME)}clearInterval(){this.interval&&(clearInterval(this.interval),delete this.interval)}handleSessionClosed(e,n){var r=this;return(0,o.A)((function*(){if(!n.id)return!1;const o=a.t.forSite(n),i=yield o.get(CoreAutoLogoutService.TIMESTAMP_DB_KEY);if(!i)return!1;const s=i+1e3*(e||0);return yield o.remove(CoreAutoLogoutService.TIMESTAMP_DB_KEY),!((new Date).getTime()<s)&&(yield r.logout(n.id),!0)}))()}handleAppClosed(e){var n=this;return(0,o.A)((function*(){return!!e.id&&(n.backgroundTimestamp&&n.backgroundTimestamp+CoreAutoLogoutService.GRACE_PERIOD>(new Date).getTime()?(delete n.backgroundTimestamp,!1):(yield n.logout(e.id),!0))}))()}getConfig(){const e=s.CoreSites.getRequiredCurrentSite();return{autoLogoutType:Number(e.getStoredConfig("tool_mobile_autologout")),autoLogoutTime:Number(e.getStoredConfig("tool_mobile_autologouttime"))}}}return(e=CoreAutoLogoutService).TIMESTAMP_DB_KEY="CoreAutoLogoutTimestamp",e.DEFAULT_TIMESTAMP_STORE_TIME=1e4,e.GRACE_PERIOD=3e4,e.ɵfac=function CoreAutoLogoutService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreAutoLogoutService})();var g=function(e){return e[e.NEVER=0]="NEVER",e[e.INMEDIATE=1]="INMEDIATE",e[e.CUSTOM=2]="CUSTOM",e}(g||{});const v=(0,c.Qd)(f)},65863:(e,n,r)=>{"use strict";r.d(n,{bb:()=>getBlockExportedDirectives,kL:()=>getBlockServices,nK:()=>s});var o=r(10467),i=r(54438);function getBlockServices(){return _getBlockServices.apply(this,arguments)}function _getBlockServices(){return(_getBlockServices=(0,o.A)((function*(){const{CoreBlockDelegateService:e}=yield Promise.resolve().then(r.bind(r,63114)),{CoreBlockHelperProvider:n}=yield Promise.resolve().then(r.bind(r,63561));return[e,n]}))).apply(this,arguments)}function getBlockExportedDirectives(){return _getBlockExportedDirectives.apply(this,arguments)}function _getBlockExportedDirectives(){return(_getBlockExportedDirectives=(0,o.A)((function*(){const{CoreBlockComponent:e}=yield r.e(72076).then(r.bind(r,44666)),{CoreBlockSideBlocksButtonComponent:n}=yield r.e(67192).then(r.bind(r,67192));return[e,n]}))).apply(this,arguments)}let s=(()=>{var e;class CoreBlockModule{}return(e=CoreBlockModule).ɵfac=function CoreBlockModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({}),CoreBlockModule})()},72575:(e,n,r)=>{"use strict";r.d(n,{_:()=>CoreBlockBaseHandler});var o=r(10467);class CoreBlockBaseHandler{constructor(){this.name="CoreBlockBase",this.blockName="base"}isEnabled(){return(0,o.A)((function*(){return!0}))()}getDisplayData(e,n,r){}}},63114:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreBlockDelegate:()=>v,CoreBlockDelegateService:()=>g});var o=r(10467),i=r(52749),s=r(59296),a=r(21413),c=r(79555),u=r(54438),p=r(72575);let f=(()=>{var e;class CoreBlockDefaultHandler extends p._{constructor(){super(...arguments),this.name="CoreBlockDefault",this.blockName="default"}}return(e=CoreBlockDefaultHandler).ɵfac=(()=>{let n;return function CoreBlockDefaultHandler_Factory(r){return(n||(n=u.xGo(e)))(r||e)}})(),e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreBlockDefaultHandler})(),g=(()=>{var e;class CoreBlockDelegateService extends s.B{constructor(e){super("CoreBlockDelegate"),this.defaultHandler=e,this.handlerNameProperty="blockName",this.featurePrefix="CoreBlockDelegate_",this.blocksUpdateObservable=new a.B}isEnabled(){return(0,o.A)((function*(){return!0}))()}areBlocksDisabledInSite(e){return!!(e=e||i.CoreSites.getCurrentSite())&&e.isFeatureDisabled("NoDelegate_SiteBlocks")}areBlocksDisabledInCourses(e){return!!(e=e||i.CoreSites.getCurrentSite())&&e.isFeatureDisabled("NoDelegate_CourseBlocks")}areBlocksDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.areBlocksDisabledInSite(r)}))()}getBlockDisplayData(e,n,r){var i=this;return(0,o.A)((function*(){return i.executeFunctionOnEnabled(e.name,"getDisplayData",[e,n,r])}))()}hasSupportedBlock(e){return!!(e=e||[]).find((e=>this.isBlockSupported(e.name)))}isBlockSupported(e){return this.hasHandler(e,!0)}isFeatureDisabled(e,n){return this.areBlocksDisabledInSite(n)&&"myoverview"!==e.blockName||super.isFeatureDisabled(e,n)}updateData(){this.blocksUpdateObservable.next()}}return(e=CoreBlockDelegateService).ɵfac=function CoreBlockDelegateService_Factory(n){return new(n||e)(u.KVO(f))},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreBlockDelegateService})();const v=(0,c.Qd)(g)},63561:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreBlockHelper:()=>p,CoreBlockHelperProvider:()=>u});var o=r(10467),i=r(44682),s=r(63114),a=r(79555),c=r(54438);let u=(()=>{var e;class CoreBlockHelperProvider{canGetCourseBlocks(e){return i.CoreCourse.canGetCourseBlocks(e)&&!s.CoreBlockDelegate.areBlocksDisabledInCourses(e)}getCourseBlocks(e){var n=this;return(0,o.A)((function*(){if(!n.canGetCourseBlocks())return[];const r=yield i.CoreCourse.getCourseBlocks(e);return s.CoreBlockDelegate.hasSupportedBlock(r)?r:[]}))()}hasCourseBlocks(e){var n=this;return(0,o.A)((function*(){try{return(yield n.getCourseBlocks(e)).length>0}catch{return!1}}))()}}return(e=CoreBlockHelperProvider).ɵfac=function CoreBlockHelperProvider_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreBlockHelperProvider})();const p=(0,a.Qd)(u)},16228:(e,n,r)=>{"use strict";r.d(n,{o:()=>w,T:()=>getCommentsServices});var o=r(10467),i=r(54438),s=r(42858),a=r(26135),c=r(52749),u=r(54638),p=r(62654),f=r(79555),g=r(63540);let v=(()=>{var e;class CoreCommentsSyncCronHandlerService{constructor(){this.name="CoreCommentsSyncCronHandler"}execute(e,n){return g.CoreCommentsSync.syncAllComments(e,n)}getInterval(){return 3e5}}return(e=CoreCommentsSyncCronHandlerService).ɵfac=function CoreCommentsSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCommentsSyncCronHandlerService})();const C=(0,f.Qd)(v);function getCommentsServices(){return _getCommentsServices.apply(this,arguments)}function _getCommentsServices(){return(_getCommentsServices=(0,o.A)((function*(){const{CoreCommentsOfflineProvider:e}=yield Promise.resolve().then(r.bind(r,62152)),{CoreCommentsSyncProvider:n}=yield Promise.resolve().then(r.bind(r,63540)),{CoreCommentsProvider:o}=yield Promise.resolve().then(r.bind(r,54638));return[e,n,o]}))).apply(this,arguments)}const b=[{path:"comments/:contextLevel/:instanceId/:componentName/:itemId",loadComponent:()=>r.e(68379).then(r.bind(r,68379))}];let w=(()=>{var e;class CoreCommentsModule{}return(e=CoreCommentsModule).ɵfac=function CoreCommentsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:c.CORE_SITE_SCHEMAS,useValue:[p.Vb],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{a.CoreCronDelegate.register(C.instance),u.CoreComments.initialize()}}],imports:[s.b.forChild(b)]}),CoreCommentsModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(w,{imports:[s.b]}))},81879:(e,n,r)=>{"use strict";r.d(n,{L:()=>A});var o=r(10467),i=r(54438),s=r(54638),a=r(49882),c=r(52749),u=r(15324),p=r(55554),f=r(91416),g=r(86654),v=r(60177),C=r(2910),b=r(64422),w=r(73955);const _c0=e=>({$a:e});function CoreCommentsCommentsComponent_ng_container_0_core_loading_1_button_1_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"button",5),i.bIt("click",(function CoreCommentsCommentsComponent_ng_container_0_core_loading_1_button_1_Template_button_click_0_listener(n){i.eBV(e);const r=i.XpG(3);return i.Njj(r.openComments(n))})),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&e){const e=i.XpG(3);i.R7$(),i.SpI(" ",i.i5U(2,1,"core.comments.commentscount",i.eq3(4,_c0,e.commentsCount))," ")}}function CoreCommentsCommentsComponent_ng_container_0_core_loading_1_div_2_Template(e,n){1&e&&(i.j41(0,"div"),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&e&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.comments.commentsnotworking")," "))}function CoreCommentsCommentsComponent_ng_container_0_core_loading_1_Template(e,n){if(1&e&&(i.j41(0,"core-loading",3),i.DNE(1,CoreCommentsCommentsComponent_ng_container_0_core_loading_1_button_1_Template,3,6,"button",4)(2,CoreCommentsCommentsComponent_ng_container_0_core_loading_1_div_2_Template,3,3,"div",0),i.k0s()),2&e){const e=i.XpG(2);i.Y8G("hideUntil",e.commentsLoaded)("fullscreen",!1),i.R7$(),i.Y8G("ngIf",!e.countError),i.R7$(),i.Y8G("ngIf",e.countError)}}function CoreCommentsCommentsComponent_ng_container_0_ion_item_2_p_3_Template(e,n){if(1&e&&(i.j41(0,"p",8),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&e){const e=i.XpG(3);i.R7$(),i.SpI(" ",i.i5U(2,1,"core.comments.commentscount",i.eq3(4,_c0,e.commentsCount))," ")}}function CoreCommentsCommentsComponent_ng_container_0_ion_item_2_p_4_Template(e,n){1&e&&(i.j41(0,"p"),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&e&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.comments.commentsnotworking")," "))}function CoreCommentsCommentsComponent_ng_container_0_ion_item_2_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-item",6),i.bIt("click",(function CoreCommentsCommentsComponent_ng_container_0_ion_item_2_Template_ion_item_click_0_listener(n){i.eBV(e);const r=i.XpG(2);return i.Njj(r.openComments(n))})),i.j41(1,"ion-label")(2,"core-loading",3),i.DNE(3,CoreCommentsCommentsComponent_ng_container_0_ion_item_2_p_3_Template,3,6,"p",7)(4,CoreCommentsCommentsComponent_ng_container_0_ion_item_2_p_4_Template,3,3,"p",0),i.k0s()()()}if(2&e){const e=i.XpG(2);i.Y8G("detail",!e.countError&&e.commentsLoaded)("disabled",e.countError),i.R7$(2),i.Y8G("hideUntil",e.commentsLoaded)("fullscreen",!1),i.R7$(),i.Y8G("ngIf",!e.countError),i.R7$(),i.Y8G("ngIf",e.countError)}}function CoreCommentsCommentsComponent_ng_container_0_Template(e,n){if(1&e&&(i.qex(0),i.DNE(1,CoreCommentsCommentsComponent_ng_container_0_core_loading_1_Template,3,4,"core-loading",1)(2,CoreCommentsCommentsComponent_ng_container_0_ion_item_2_Template,5,6,"ion-item",2),i.bVm()),2&e){const e=i.XpG();i.R7$(),i.Y8G("ngIf",!e.showItem),i.R7$(),i.Y8G("ngIf",e.showItem)}}let A=(()=>{var e;class CoreCommentsCommentsComponent{constructor(){this.area="",this.onLoading=new i.bkB,this.showItem=!1,this.commentsLoaded=!1,this.commentsCount="",this.countError=!1,this.enabled=!1,this.enabled=s.CoreComments.areCommentsEnabledInSite(),this.updateSiteObserver=a.z.on(a.z.SITE_UPDATED,(()=>{const e=this.enabled;this.enabled=s.CoreComments.areCommentsEnabledInSite(),!e&&this.enabled&&this.fetchData()}),c.CoreSites.getCurrentSiteId()),this.refreshCommentsObserver=a.z.on(s.CoreCommentsProvider.REFRESH_COMMENTS_EVENT,(e=>{this.undefinedOrEqual(e,"contextLevel")&&this.undefinedOrEqual(e,"instanceId")&&this.undefinedOrEqual(e,"component")&&this.undefinedOrEqual(e,"itemId")&&this.undefinedOrEqual(e,"area")&&p.g.ignoreErrors(this.doRefresh())}),c.CoreSites.getCurrentSiteId()),this.commentsCountObserver=a.z.on(s.CoreCommentsProvider.COMMENTS_COUNT_CHANGED_EVENT,(e=>{if(!this.commentsCount.endsWith("+")&&this.undefinedOrEqual(e,"contextLevel")&&this.undefinedOrEqual(e,"instanceId")&&this.undefinedOrEqual(e,"component")&&this.undefinedOrEqual(e,"itemId")&&this.undefinedOrEqual(e,"area")&&!this.countError){let n=parseInt(this.commentsCount,10)+e.countChange;n=n>=0?n:0,this.commentsCount=`${n}`}}),c.CoreSites.getCurrentSiteId())}ngOnInit(){this.fetchData()}ngOnChanges(e){e&&this.commentsLoaded&&this.fetchData()}fetchData(){var e=this;return(0,o.A)((function*(){if(!e.enabled)return;e.commentsLoaded=!1,e.onLoading.emit(!0);const n=yield s.CoreComments.getCommentsCount(e.contextLevel,e.instanceId,e.component,e.itemId,e.area);e.commentsCount=n,e.countError=parseInt(e.commentsCount,10)<0,e.commentsLoaded=!0,e.onLoading.emit(!1)}))()}doRefresh(){var e=this;return(0,o.A)((function*(){yield e.invalidateComments(),yield e.fetchData()}))()}invalidateComments(){var e=this;return(0,o.A)((function*(){yield s.CoreComments.invalidateCommentsData(e.contextLevel,e.instanceId,e.component,e.itemId,e.area)}))()}openComments(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),this.enabled&&!this.countError&&u.CoreNavigator.navigateToSitePath(`comments/${this.contextLevel}/${this.instanceId}/${this.component}/${this.itemId}/`,{params:{area:this.area,title:this.title,courseId:this.courseId}})}ngOnDestroy(){var e,n,r;null===(e=this.updateSiteObserver)||void 0===e||e.off(),null===(n=this.refreshCommentsObserver)||void 0===n||n.off(),null===(r=this.commentsCountObserver)||void 0===r||r.off()}undefinedOrEqual(e,n){return void 0===e[n]||e[n]==this[n]}}return(e=CoreCommentsCommentsComponent).ɵfac=function CoreCommentsCommentsComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-comments"]],inputs:{contextLevel:"contextLevel",instanceId:"instanceId",component:"component",itemId:"itemId",area:"area",title:"title",courseId:"courseId",showItem:[i.Mj6.HasDecoratorInputTransform,"showItem","showItem",f.G]},outputs:{onLoading:"onLoading"},standalone:!0,features:[i.GFd,i.OA$,i.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[3,"hideUntil","fullscreen",4,"ngIf"],["button","",3,"detail","disabled","click",4,"ngIf"],[3,"hideUntil","fullscreen"],["class","as-link",3,"click",4,"ngIf"],[1,"as-link",3,"click"],["button","",3,"click","detail","disabled"],["class","item-heading",4,"ngIf"],[1,"item-heading"]],template:function CoreCommentsCommentsComponent_Template(e,n){1&e&&i.DNE(0,CoreCommentsCommentsComponent_ng_container_0_Template,3,2,"ng-container",0),2&e&&i.Y8G("ngIf",n.enabled)},dependencies:[g.n,v.bT,C.uz,C.he,b.R,w.D9],styles:["button.as-link[_ngcontent-%COMP%]{font:var(--mdl-typography-body-font-md)}"]}),CoreCommentsCommentsComponent})()},3716:(e,n,r)=>{"use strict";r.d(n,{G:()=>o});const o="core_comments_autom_synced"},62152:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCommentsOffline:()=>f,CoreCommentsOfflineProvider:()=>p});var o=r(10467),i=r(52749),s=r(24742),a=r(79555),c=r(62654),u=r(54438);let p=(()=>{var e;class CoreCommentsOfflineProvider{getAllComments(e){return(0,o.A)((function*(){const n=yield i.CoreSites.getSite(e);return(yield Promise.all([n.getDb().getRecords(c.iQ),n.getDb().getRecords(c.Ch)])).flat()}))()}getComment(e,n,r,s,a="",u){return(0,o.A)((function*(){try{const o=yield i.CoreSites.getSite(u);return yield o.getDb().getRecord(c.iQ,{contextlevel:e,instanceid:n,component:r,itemid:s,area:a})}catch{return}}))()}getComments(e,n,r,s,a="",c){var u=this;return(0,o.A)((function*(){let o=[];c=c||i.CoreSites.getCurrentSiteId();const p=yield u.getComment(e,n,r,s,a,c);o=p?[p]:[];const f=yield u.getDeletedComments(e,n,r,s,a,c);return o=o.concat(f),o}))()}getAllDeletedComments(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).getDb().getRecords(c.Ch)}))()}getDeletedComments(e,n,r,s,a="",u){return(0,o.A)((function*(){try{const o=yield i.CoreSites.getSite(u);return yield o.getDb().getRecords(c.Ch,{contextlevel:e,instanceid:n,component:r,itemid:s,area:a})}catch{return[]}}))()}removeComment(e,n,r,s,a="",u){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u);yield o.getDb().deleteRecords(c.iQ,{contextlevel:e,instanceid:n,component:r,itemid:s,area:a})}))()}removeDeletedComments(e,n,r,s,a="",u){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u);yield o.getDb().deleteRecords(c.Ch,{contextlevel:e,instanceid:n,component:r,itemid:s,area:a})}))()}saveComment(e,n,r,a,u,p="",f){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(f),g=s.j.timestamp(),v={contextlevel:n,instanceid:r,component:a,itemid:u,area:p,content:e,lastmodified:g};return yield o.getDb().insertRecord(c.iQ,v),v}))()}deleteComment(e,n,r,a,u,p="",f){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(f),g=s.j.timestamp(),v={contextlevel:n,instanceid:r,component:a,itemid:u,area:p,commentid:e,deleted:g};yield o.getDb().insertRecord(c.Ch,v)}))()}undoDeleteComment(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(n);yield r.getDb().deleteRecords(c.Ch,{commentid:e})}))()}}return(e=CoreCommentsOfflineProvider).ɵfac=function CoreCommentsOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCommentsOfflineProvider})();const f=(0,a.Qd)(p)},63540:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCommentsSync:()=>_,CoreCommentsSyncProvider:()=>A});var o=r(10467),i=r(42008),s=r(54638),a=r(49882),c=r(79555),u=r(62152),p=r(52749),f=r(94455),g=r(43411),v=r(49446),C=r(3716),b=r(55554),w=r(54438);let A=(()=>{var e;class CoreCommentsSyncProvider extends i.l{constructor(){super("CoreCommentsSync")}syncAllComments(e,n){return this.syncOnSites("all comments",(e=>this.syncAllCommentsFunc(!!n,e)),e)}syncAllCommentsFunc(e,n){var r=this;return(0,o.A)((function*(){const i=yield u.CoreCommentsOffline.getAllComments(n),s={};i.forEach((e=>{const n=r.getSyncId(e.contextlevel,e.instanceid,e.component,e.itemid,e.area);s[n]=e}));const c=Object.keys(s).map(function(){var i=(0,o.A)((function*(o){const i=s[o],c=yield e?r.syncComments(i.contextlevel,i.instanceid,i.component,i.itemid,i.area,n):r.syncCommentsIfNeeded(i.contextlevel,i.instanceid,i.component,i.itemid,i.area,n);void 0!==c&&a.z.trigger(C.G,{contextLevel:i.contextlevel,instanceId:i.instanceid,componentName:i.component,itemId:i.itemid,area:i.area,warnings:c.warnings},n)}));return function(e){return i.apply(this,arguments)}}());yield Promise.all(c)}))()}syncCommentsIfNeeded(e,n,r,i,s="",a){var c=this;return(0,o.A)((function*(){const o=c.getSyncId(e,n,r,i,s);if(yield c.isSyncNeeded(o,a))return c.syncComments(e,n,r,i,s,a)}))()}syncComments(e,n,r,o,i="",s){s=s||p.CoreSites.getCurrentSiteId();const a=this.getSyncId(e,n,r,o,i),c=this.getOngoingSync(a,s);if(c)return c;this.logger.debug(`Try to sync comments ${a} in site ${s}`);const u=this.performSyncComments(e,n,r,o,i,s);return this.addOngoingSync(a,u,s)}performSyncComments(e,n,r,i,C="",w){return(0,o.A)((function*(){const o={warnings:[],updated:!1},A=yield u.CoreCommentsOffline.getComments(e,n,r,i,C,w);if(!A.length)return o;if(!f.WE.isOnline())throw new v.CoreNetworkError;const _=[],E=[],I=[];let T=0;A.forEach((o=>{"deleted"in o?I.push(o.commentid):E.push(s.CoreComments.addCommentOnline(o.content,e,n,r,i,C,w).then((()=>(T++,u.CoreCommentsOffline.removeComment(e,n,r,i,C,w)))))})),I.length>0&&E.push(s.CoreComments.deleteCommentsOnline(I,e,n,r,i,C,w).then((()=>(T--,u.CoreCommentsOffline.removeDeletedComments(e,n,r,i,C,w)))));try{yield Promise.all(E),o.updated=!0,a.z.trigger(s.CoreCommentsProvider.COMMENTS_COUNT_CHANGED_EVENT,{contextLevel:e,instanceId:n,component:r,itemId:i,area:C,countChange:T},p.CoreSites.getCurrentSiteId()),yield b.g.ignoreErrors(s.CoreComments.invalidateCommentsData(e,n,r,i,C,w)),yield b.g.ignoreErrors(s.CoreComments.getComments(e,n,r,i,C,0,w))}catch(e){if(!g.CoreWSError.isWebServiceError(e))throw e;_.push(e.message)}return _&&_.length&&_.forEach((e=>{o.warnings.push(c.HT.instant("core.comments.warningcommentsnotsent",{error:e}))})),o}))()}getSyncId(e,n,r,o,i=""){return`${e}#${n}#${r}#${o}#${i}`}}return(e=CoreCommentsSyncProvider).ɵfac=function CoreCommentsSyncProvider_Factory(n){return new(n||e)},e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCommentsSyncProvider})();const _=(0,c.Qd)(A)},54638:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreComments:()=>w,CoreCommentsProvider:()=>b});var o=r(10467),i=r(75629),s=r(94455),a=r(52749),c=r(43411),u=r(79555),p=r(49882),f=r(62152),g=r(74431),v=r(55554),C=r(54438);let b=(()=>{var e;class CoreCommentsProvider{initialize(){p.z.on(p.z.LOGIN,(()=>{CoreCommentsProvider.pageSize=1,CoreCommentsProvider.pageSizeOK=!1}))}addComment(e,n,r,i,u,p="",g){var v=this;return(0,o.A)((function*(){g=g||a.CoreSites.getCurrentSiteId();const C=function(){var s=(0,o.A)((function*(){return yield f.CoreCommentsOffline.saveComment(e,n,r,i,u,p,g),!1}));return function storeOffline(){return s.apply(this,arguments)}}();if(!s.WE.isOnline())return C();try{return yield v.addCommentOnline(e,n,r,i,u,p,g)}catch(e){if(c.CoreWSError.isWebServiceError(e))throw e;return C()}}))()}addCommentOnline(e,n,r,i,s,a="",c){var u=this;return(0,o.A)((function*(){const o=[{contextlevel:n,instanceid:r,component:i,itemid:s,area:a,content:e}],p=yield u.addCommentsOnline(o,c);return yield v.g.ignoreErrors(u.invalidateCommentsData(n,r,i,s,a,c)),p[0]}))()}addCommentsOnline(e,n){return(0,o.A)((function*(){if(!e||!e.length)return[];return(yield a.CoreSites.getSite(n)).write("core_comment_add_comments",{comments:e})}))()}areCommentsDisabledInSite(e){return!this.areCommentsEnabledInSite(e)}areCommentsDisabled(e){var n=this;return(0,o.A)((function*(){return!n.areCommentsEnabled(e)}))()}areCommentsEnabledInSite(e){return!!(e=e||a.CoreSites.getCurrentSite())&&(e.canUseAdvancedFeature("usecomments")&&!e.isFeatureDisabled("NoDelegate_CoreComments"))}areCommentsEnabled(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);return n.areCommentsEnabledInSite(r)}))()}deleteComment(e,n){var r=this;return(0,o.A)((function*(){if(n=n||a.CoreSites.getCurrentSiteId(),!e.id)return yield f.CoreCommentsOffline.removeComment(e.contextlevel,e.instanceid,e.component,e.itemid,e.area,n),!1;const i=function(){var r=(0,o.A)((function*(){return!!e.id&&(yield f.CoreCommentsOffline.deleteComment(e.id,e.contextlevel,e.instanceid,e.component,e.itemid,e.area,n),!1)}));return function storeOffline(){return r.apply(this,arguments)}}();if(!s.WE.isOnline())return i();try{return yield r.deleteCommentsOnline([e.id],e.contextlevel,e.instanceid,e.component,e.itemid,e.area,n),!0}catch(e){if(c.CoreWSError.isWebServiceError(e))throw e;return i()}}))()}deleteCommentsOnline(e,n,r,i,s,c="",u){var p=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(u),f={comments:e};yield o.write("core_comment_delete_comments",f),yield v.g.ignoreErrors(p.invalidateCommentsData(n,r,i,s,c,u))}))()}isAddCommentsAvailable(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);return!!n.areCommentsEnabledInSite(r)&&r.wsAvailable("core_comment_add_comments")}))()}getCommentsCacheKey(e,n,r,o,i=""){return`${this.getCommentsPrefixCacheKey(e,n)}:${r}:${o}:${i}`}getCommentsPrefixCacheKey(e,n){return`${CoreCommentsProvider.ROOT_CACHE_KEY}comments:${e}:${n}`}getComments(e,n,r,s,c="",u=0,p){var f=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(p),v={contextlevel:e,instanceid:n,component:r,itemid:s,area:c,page:u},C={cacheKey:f.getCommentsCacheKey(e,n,r,s,c),updateFrequency:g.CoreCacheUpdateFrequency.SOMETIMES},b=yield o.read("core_comment_get_comments",v,C);if(b.comments)return void 0===b.count&&b.comments.length>CoreCommentsProvider.pageSize&&(CoreCommentsProvider.pageSize=b.comments.length),b;throw new i.CoreError("No comments returned")}))()}getCommentsCount(e,n,r,i,s="",c){var u=this;return(0,o.A)((function*(){c=c||a.CoreSites.getCurrentSiteId();let p=!1;const f=function(){var a=(0,o.A)((function*(o){try{const a=yield u.getComments(e,n,r,i,s,o,c);return void 0!==a.count?(p=!0,a.count):a.comments?a.comments.length||0:-1}catch{return-1}}));return function getCommentsPageCount(e){return a.apply(this,arguments)}}(),g=yield f(0);if(p||g<CoreCommentsProvider.pageSize)return`${g}`;if(CoreCommentsProvider.pageSizeOK&&g>=CoreCommentsProvider.pageSize)return CoreCommentsProvider.pageSize-1+"+";return(yield f(1))>0?(CoreCommentsProvider.pageSizeOK=!0,CoreCommentsProvider.pageSize-1+"+"):`${g}`}))()}invalidateCommentsData(e,n,r,i,s="",c){var u=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(c);yield v.g.allPromises([o.invalidateWsCacheForKeyStartingWith(u.getCommentsCacheKey(e,n,r,i,s)+":"),o.invalidateWsCacheForKey(u.getCommentsCacheKey(e,n,r,i,s))])}))()}invalidateCommentsByInstance(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r);yield o.invalidateWsCacheForKeyStartingWith(i.getCommentsPrefixCacheKey(e,n))}))()}}return(e=CoreCommentsProvider).ROOT_CACHE_KEY="mmComments:",e.REFRESH_COMMENTS_EVENT="core_comments_refresh_comments",e.COMMENTS_COUNT_CHANGED_EVENT="core_comments_count_changed",e.pageSize=1,e.pageSizeOK=!1,e.ɵfac=function CoreCommentsProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCommentsProvider})();const w=(0,u.Qd)(b)},62654:(e,n,r)=>{"use strict";r.d(n,{Ch:()=>i,Vb:()=>s,iQ:()=>o});const o="core_comments_offline_comments",i="core_comments_deleted_offline_comments",s={name:"CoreCommentsOfflineProvider",version:1,tables:[{name:o,columns:[{name:"contextlevel",type:"TEXT"},{name:"instanceid",type:"INTEGER"},{name:"component",type:"TEXT"},{name:"itemid",type:"INTEGER"},{name:"area",type:"TEXT"},{name:"content",type:"TEXT"},{name:"lastmodified",type:"INTEGER"}],primaryKeys:["contextlevel","instanceid","component","itemid","area"]},{name:i,columns:[{name:"commentid",type:"INTEGER",primaryKey:!0},{name:"contextlevel",type:"TEXT"},{name:"instanceid",type:"INTEGER"},{name:"component",type:"TEXT"},{name:"itemid",type:"INTEGER"},{name:"area",type:"TEXT"},{name:"deleted",type:"INTEGER"}]}]}},71112:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreContentLinksHandlerBase:()=>CoreContentLinksHandlerBase});var o=r(10467);class CoreContentLinksHandlerBase{constructor(){this.name="CoreContentLinksHandlerBase",this.priority=0,this.checkAllUsers=!1,this.featureName="",this.patternMatchStart=!0}getActions(e,n,r,o,i){return[]}handles(e){let n=this.pattern;if(n&&this.patternMatchStart){let e=n.toString();e=e.substring(1,e.length-1),n=new RegExp(`^${e}`)}return!!n&&e.search(n)>=0}getSiteUrl(e){if(this.pattern){const n=e.search(this.pattern);if(n>-1)return e.substring(0,n)}}isEnabled(e,n,r,i){return(0,o.A)((function*(){return!0}))()}}},80447:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreContentLinksModuleGradeHandler:()=>CoreContentLinksModuleGradeHandler});var o=r(10467),i=r(71112),s=r(52749),a=r(33014),c=r(94247),u=r(86123);class CoreContentLinksModuleGradeHandler extends i.CoreContentLinksHandlerBase{constructor(e,n){super(),this.addon=e,this.modName=n,this.canReview=!1,this.useModNameToGetModule=!1,this.pattern=new RegExp(`/mod/${n}/grade.php.*([&?]id=\\d+)`),this.featureName=u.CORE_COURSE_MODULE_FEATURE_PREFIX+e}getActions(e,n,r,i){var u=this;const p=Number(i||r.courseid||r.cid);return[{action:(f=(0,o.A)((function*(e){const o=yield a.CoreLoadings.show(),i=yield s.CoreSites.getSite(e);r.userid&&Number(r.userid)!=i.getUserId()?u.canReview?yield u.goToReview(n,r,p,e):yield i.openInBrowserWithAutoLogin(n):yield c.CoreCourseHelper.navigateToModule(Number(r.id),{courseId:p,modName:u.useModNameToGetModule?u.modName:void 0,siteId:e}),o.dismiss()})),function action(e){return f.apply(this,arguments)})}];var f}goToReview(e,n,r,i){return(0,o.A)((function*(){}))()}}},30260:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreContentLinksModuleIndexHandler:()=>CoreContentLinksModuleIndexHandler});var o=r(10467),i=r(71112),s=r(94247),a=r(86123);class CoreContentLinksModuleIndexHandler extends i.CoreContentLinksHandlerBase{constructor(e,n,r){super(),this.addon=e,this.modName=n,this.instanceIdParam=r,this.useModNameToGetModule=!1;this.pattern=new RegExp(r?`/mod/${n}/view.php.*([&?](${r}|id)=\\d+)`:`/mod/${n}/view.php.*([&?]id=\\d+)`),this.featureName=a.CORE_COURSE_MODULE_FEATURE_PREFIX+e}getModNavOptions(e,n,r,o){return{}}getActions(e,n,r,i){var a,c,u=this;if(i=Number(i||r.courseid||r.cid),this.instanceIdParam&&void 0!==r[this.instanceIdParam]){const e=parseInt(r[this.instanceIdParam],10);return[{action:(a=(0,o.A)((function*(o){yield s.CoreCourseHelper.navigateToModuleByInstance(e,u.modName,{courseId:i,useModNameToGetModule:u.useModNameToGetModule,modNavOptions:u.getModNavOptions(n,r,o,i),siteId:o})})),function action(e){return a.apply(this,arguments)})}]}return[{action:(c=(0,o.A)((function*(e){yield s.CoreCourseHelper.navigateToModule(parseInt(r.id,10),{courseId:i,modName:u.useModNameToGetModule?u.modName:void 0,modNavOptions:u.getModNavOptions(n,r,e,i),siteId:e})})),function action(e){return c.apply(this,arguments)})}]}}},85720:(e,n,r)=>{"use strict";r.d(n,{S:()=>CoreContentLinksModuleListHandler});var o=r(10467),i=r(71112),s=r(79555),a=r(15324),c=r(86123);class CoreContentLinksModuleListHandler extends i.CoreContentLinksHandlerBase{constructor(e,n){super(),this.addon=e,this.modName=n,this.title="",this.pattern=new RegExp(`/mod/${n}/index.php.*([&?]id=\\d+)`),this.featureName=c.CORE_COURSE_MODULE_FEATURE_PREFIX+e}getActions(e,n,r){var i,c=this;return[{action:(i=(0,o.A)((function*(e){yield a.CoreNavigator.navigateToSitePath(`course/${r.id}/list-mod-type`,{params:{modName:c.modName,title:c.title||s.HT.instant(`addon.mod_${c.modName}.modulenameplural`)},siteId:e})})),function action(e){return i.apply(this,arguments)})}]}}},28709:(e,n,r)=>{"use strict";r.d(n,{GT:()=>getContentLinksExportedObjects,fD:()=>getContentLinksServices,kn:()=>s});var o=r(10467),i=r(54438);function getContentLinksServices(){return _getContentLinksServices.apply(this,arguments)}function _getContentLinksServices(){return(_getContentLinksServices=(0,o.A)((function*(){const{CoreContentLinksDelegateService:e}=yield Promise.resolve().then(r.bind(r,33504)),{CoreContentLinksHelperProvider:n}=yield Promise.resolve().then(r.bind(r,10883));return[e,n]}))).apply(this,arguments)}function getContentLinksExportedObjects(){return _getContentLinksExportedObjects.apply(this,arguments)}function _getContentLinksExportedObjects(){return(_getContentLinksExportedObjects=(0,o.A)((function*(){const{CoreContentLinksHandlerBase:e}=yield Promise.resolve().then(r.bind(r,71112)),{CoreContentLinksModuleGradeHandler:n}=yield Promise.resolve().then(r.bind(r,80447)),{CoreContentLinksModuleIndexHandler:o}=yield Promise.resolve().then(r.bind(r,30260));return{CoreContentLinksHandlerBase:e,CoreContentLinksModuleGradeHandler:n,CoreContentLinksModuleIndexHandler:o}}))).apply(this,arguments)}let s=(()=>{var e;class CoreContentLinksModule{}return(e=CoreContentLinksModule).ɵfac=function CoreContentLinksModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({}),CoreContentLinksModule})()},33504:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreContentLinksDelegate:()=>C,CoreContentLinksDelegateService:()=>v});var o=r(10467),i=r(6787),s=r(52749),a=r(8014),c=r(79555),u=r(75383),p=r(55554),f=r(15324),g=r(54438);let v=(()=>{var e;class CoreContentLinksDelegateService{constructor(){this.handlers={},this.logger=i.CoreLogger.getInstance("CoreContentLinksDelegate")}getActionsFor(e,n,r,i){var c=this;return(0,o.A)((function*(){if(!e)return[];const g=yield s.CoreSites.getSiteIdsFromUrl(e,!0,r);if(!g.length)return[];const v=yield s.CoreSites.getSite(g[0]),C=[],b=[],w=a.F.extractUrlParams(e),A=u.Ni.addStartingSlash(a.F.toRelativeURL(v.getURL(),e));for(const r in c.handlers){const a=c.handlers[r],u=a.checkAllUsers,isEnabledFn=e=>c.isHandlerEnabled(a,A,w,n,e);a.handles(A)&&b.push(s.CoreSites.filterEnabledSites(g,isEnabledFn,u).then(function(){var r=(0,o.A)((function*(r){if(!r.length)return;const c=yield p.g.ignoreErrors(Promise.resolve(a.getActions(r,A,w,n,i)),[]);c&&c.length&&(c.forEach((n=>{n.message=n.message||"core.view",n.icon=n.icon||"fas-eye",n.sites=n.sites||r;const i=n.action;n.action=function(){var n=(0,o.A)((function*(n){if(!s.CoreSites.isLoggedIn()){return(yield s.CoreSites.loadSite(n,{urlToOpen:e}))&&(yield f.CoreNavigator.navigateToSiteHome({params:{urlToOpen:e}})),void 0}if(n!==s.CoreSites.getCurrentSiteId())return yield s.CoreSites.logout({urlToOpen:e,siteId:n}),void 0;i(n)}));return function(e){return n.apply(this,arguments)}}()})),C.push({priority:a.priority||0,actions:c}))}));return function(e){return r.apply(this,arguments)}}()))}try{yield p.g.allPromises(b)}catch{}return c.sortActionsByPriority(C)}))()}getSiteUrl(e){if(e)for(const n in this.handlers){const r=this.handlers[n].getSiteUrl(e);if(r)return r}}isHandlerEnabled(e,n,r,i,a){return(0,o.A)((function*(){let o=!1;return e.featureName&&(o=yield s.CoreSites.isFeatureDisabled(e.featureName,a)),!o&&(!e.isEnabled||e.isEnabled(a,n,r,i))}))()}registerHandler(e){return void 0!==this.handlers[e.name]?(this.logger.log(`Addon '${e.name}' already registered`),!1):(this.logger.log(`Registered addon '${e.name}'`),this.handlers[e.name]=e,!0)}sortActionsByPriority(e){let n=[];return(e=e.sort(((e,n)=>(e.priority||0)<=(n.priority||0)?1:-1))).forEach((e=>{n=n.concat(e.actions)})),n}}return(e=CoreContentLinksDelegateService).ɵfac=function CoreContentLinksDelegateService_Factory(n){return new(n||e)},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreContentLinksDelegateService})();const C=(0,c.Qd)(v)},10883:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreContentLinksHelper:()=>C,CoreContentLinksHelperProvider:()=>v});var o=r(10467),i=r(52749),s=r(33504),a=r(79555),c=r(15324),u=r(85850),p=r(93589),f=r(25572),g=r(54438);let v=(()=>{var e;class CoreContentLinksHelperProvider{canHandleLink(e,n,r,s){var a=this;return(0,o.A)((function*(){try{if(s){if((yield i.CoreSites.isStoredRootURL(e,r)).site)return!0}return!!(yield a.getFirstValidActionFor(e,n,r))}catch{return!1}}))()}getFirstValidActionFor(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreContentLinksDelegate.getActionsFor(e,n,r,i);if(o)return a.getFirstValidAction(o)}))()}getFirstValidAction(e){return e.find((e=>e&&e.sites&&e.sites.length))}goToChooseSite(e){return(0,o.A)((function*(){const{CoreContentLinksChooseSiteModalComponent:n}=yield r.e(26465).then(r.bind(r,26465));yield p.I.openModal({component:n,componentProps:{url:e},cssClass:"core-modal-fullscreen"})}))()}handleLink(e,n,r,s){var c=this;return(0,o.A)((function*(){try{var o;if(u.CoreCustomURLSchemes.isCustomURL(e))return yield u.CoreCustomURLSchemes.handleCustomURL(e),!0;if(r){const r=yield i.CoreSites.isStoredRootURL(e,n);if(r.site)return yield c.handleRootURL(r.site,s),!0}const v=yield c.getFirstValidActionFor(e,void 0,n);if(!v)return!1;var p;if(i.CoreSites.isLoggedIn())if(1===(null===(o=v.sites)||void 0===o?void 0:o.length)&&v.sites[0]===i.CoreSites.getCurrentSiteId())yield v.action(v.sites[0]);else try{var g;yield f.CoreAlerts.confirm(a.HT.instant("core.contentlinks.confirmurlothersite")),1===(null===(g=v.sites)||void 0===g?void 0:g.length)?yield v.action(v.sites[0]):c.goToChooseSite(e)}catch{}else 1==(null===(p=v.sites)||void 0===p?void 0:p.length)?yield v.action(v.sites[0]):c.goToChooseSite(e);return!0}catch{}return!1}))()}handleRootURL(e,n,r){return(0,o.A)((function*(){const o=i.CoreSites.getCurrentSite();if(o&&o.getURL()===e.getURL()&&(!r||o.getToken()===e.getToken()))return n&&(yield e.openInBrowserWithAutoLogin(e.getURL())),void 0;yield c.CoreNavigator.navigateToSiteHome({siteId:e.getId()})}))()}visitLink(e,n={}){var r=this;return(0,o.A)((function*(){if(yield r.handleLink(e,n.username,n.checkRoot,n.openBrowserRoot))return;const o=n.siteId?yield i.CoreSites.getSite(n.siteId):i.CoreSites.getCurrentSite();yield null==o?void 0:o.openInBrowserWithAutoLogin(e)}))()}}return(e=CoreContentLinksHelperProvider).ɵfac=function CoreContentLinksHelperProvider_Factory(n){return new(n||e)},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreContentLinksHelperProvider})();const C=(0,a.Qd)(v)},38911:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseActivityPrefetchHandlerBase:()=>CoreCourseActivityPrefetchHandlerBase});var o=r(10467),i=r(74431),s=r(49446),a=r(40867),c=r(94455),u=r(88793),p=r(52749),f=r(44682),g=r(62704);class CoreCourseActivityPrefetchHandlerBase extends g.T{download(e,n,r){return this.prefetch(e,n,!1,r)}prefetch(e,n,r,i){return(0,o.A)((function*(){}))()}prefetchPackage(e,n,r,i){var a=this;return(0,o.A)((function*(){if(i=i||p.CoreSites.getCurrentSiteId(),!c.WE.isOnline())throw new s.CoreNetworkError;if(a.isDownloading(e.id,i))return a.getOngoingDownload(e.id,i);const o=a.changeStatusAndPrefetch(e,n,r,i);return a.addOngoingDownload(e.id,o,i)}))()}changeStatusAndPrefetch(e,n,r,i){var s=this;return(0,o.A)((function*(){try{yield s.setDownloading(e.id,i),yield Promise.all([f.CoreCourse.getModuleBasicInfo(e.id,{siteId:i}),f.CoreCourse.getModule(e.id,n,void 0,!1,!0,i),a.CoreFilterHelper.getFilters("module",e.id,{courseId:n})]);let o=yield r(i);"string"!=typeof o&&(o=""),yield s.setDownloaded(e.id,i,o)}catch(n){throw yield s.setPreviousStatus(e.id,i),n}}))()}setDownloaded(e,n,r){return n=n||p.CoreSites.getCurrentSiteId(),u.CoreFilepool.storePackageStatus(n,i.DownloadStatus.DOWNLOADED,this.component,e,r)}setDownloading(e,n){return n=n||p.CoreSites.getCurrentSiteId(),u.CoreFilepool.storePackageStatus(n,i.DownloadStatus.DOWNLOADING,this.component,e)}setPreviousStatus(e,n){var r=this;return(0,o.A)((function*(){n=n||p.CoreSites.getCurrentSiteId(),yield u.CoreFilepool.setPackagePreviousStatus(n,r.component,e)}))()}}},37690:(e,n,r)=>{"use strict";r.d(n,{L:()=>CoreCourseActivitySyncBaseProvider});var o=r(10467),i=r(42008),s=r(8979),a=r(95384);class CoreCourseActivitySyncBaseProvider extends i.l{constructor(){super(...arguments),this.componentTranslatableString="activity"}prefetchAfterUpdate(e,n,r,i,a){return(0,o.A)((function*(){if(void 0===e&&(e=s.CoreCourseModulePrefetchDelegate.getPrefetchHandlerFor(n.modname)),!e)return!1;const o=yield s.CoreCourseModulePrefetchDelegate.getModuleUpdates(n,r,!0,a);if(null==o||!o.updates.length)return!1;const c=i||/^.*files$/;return!o.updates.find((e=>e.name.match(c)))&&(yield e.download(n,r),!0)}))()}prefetchModuleAfterUpdate(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.prefetchAfterUpdate(void 0,e,n,r,i)}))()}get componentTranslate(){return this.componentTranslateInternal||(this.componentTranslateInternal=a.CoreCourseModuleHelper.translateModuleName(this.componentTranslatableString)),this.componentTranslateInternal}}},43130:(e,n,r)=>{"use strict";r.d(n,{j:()=>CoreModuleHandlerBase});var o=r(10467),i=r(15324),s=r(95384);class CoreModuleHandlerBase{constructor(){this.pageName=""}isEnabled(){return(0,o.A)((function*(){return!0}))()}getData(e,n,r,i){var s,a=this;return{icon:this.getIconSrc(e,e.modicon),title:e.name,class:`addon-mod_${e.modname}-handler`,showDownloadButton:!0,hasCustomCmListItem:!1,action:(s=(0,o.A)((function*(e,n,r,o){yield a.openActivityPage(n,r,o)})),function action(e,n,r,o){return s.apply(this,arguments)})}}openActivityPage(e,n,r){var a=this;return(0,o.A)((function*(){if(!s.CoreCourseModuleHelper.moduleHasView(e))return;(r=r||{}).params=r.params||{},Object.assign(r.params,{module:e});const o=`/${n}/${e.id}`;yield i.CoreNavigator.navigateToSitePath(a.pageName+o,r)}))()}getIconSrc(e,n){return e?s.CoreCourseModuleHelper.getModuleIconSrc(e.modname,n):n}}},62704:(e,n,r)=>{"use strict";r.d(n,{T:()=>CoreCourseModulePrefetchHandlerBase});var o=r(10467),i=r(88793),s=r(11361),a=r(52749),c=r(44682);class CoreCourseModulePrefetchHandlerBase{constructor(){this.name="CoreCourseModulePrefetchHandler",this.modName="default",this.component="core_module",this.updatesNames=/^.*files$/,this.downloadPromises={}}addOngoingDownload(e,n,r){var i=this;return(0,o.A)((function*(){r=r||a.CoreSites.getCurrentSiteId();const o=i.getUniqueId(e);i.downloadPromises[r]||(i.downloadPromises[r]={}),i.downloadPromises[r][o]=n;try{return yield i.downloadPromises[r][o]}finally{delete i.downloadPromises[r][o]}}))()}download(e,n,r){return(0,o.A)((function*(){}))()}getContentDownloadableFiles(e){var n;return null!==(n=e.contents)&&void 0!==n&&n.length?e.contents.filter((e=>this.isFileDownloadable(e))):[]}getDownloadSize(e,n,r){var i=this;return(0,o.A)((function*(){try{const r=yield i.getFiles(e,n);return yield s.CorePluginFileDelegate.getFilesDownloadSize(r)}catch{return{size:-1,total:!1}}}))()}getDownloadedSize(e,n){var r=this;return(0,o.A)((function*(){const n=a.CoreSites.getCurrentSiteId();return i.CoreFilepool.getFilesSizeByComponent(n,r.component,e.id)}))()}getFiles(e,n,r){return(0,o.A)((function*(){return[]}))()}getIntroFiles(e,n,r){var i=this;return(0,o.A)((function*(){return i.getIntroFilesFromInstance(e)}))()}getIntroFilesFromInstance(e,n){if(n){if(void 0!==n.introfiles)return n.introfiles;if(n.intro)return i.CoreFilepool.extractDownloadableFilesFromHtmlAsFakeFileObjects(n.intro)}return"description"in e&&e.description?i.CoreFilepool.extractDownloadableFilesFromHtmlAsFakeFileObjects(e.description):[]}getOngoingDownload(e,n){var r=this;return(0,o.A)((function*(){if(n=n||a.CoreSites.getCurrentSiteId(),r.isDownloading(e,n))return r.downloadPromises[n][r.getUniqueId(e)]}))()}getUniqueId(e){return`${this.component}#${e}`}invalidateContent(e,n){return(0,o.A)((function*(){}))()}invalidateModule(e,n){return c.CoreCourse.invalidateModule(e.id)}isDownloadable(e,n){return(0,o.A)((function*(){return!0}))()}isDownloading(e,n){return n=n||a.CoreSites.getCurrentSiteId(),!(!this.downloadPromises[n]||!this.downloadPromises[n][this.getUniqueId(e)])}isEnabled(){return(0,o.A)((function*(){return!0}))()}isFileDownloadable(e){return"file"===e.type}loadContents(e,n,r){return(0,o.A)((function*(){}))()}prefetch(e,n,r,i){return(0,o.A)((function*(){}))()}removeFiles(e,n){return i.CoreFilepool.removeFilesByComponent(a.CoreSites.getCurrentSiteId(),this.component,e.id)}}},32868:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseResourcePrefetchHandlerBase:()=>CoreCourseResourcePrefetchHandlerBase});var o=r(10467),i=r(49446),s=r(40867),a=r(94455),c=r(88793),u=r(52749),p=r(44682),f=r(62704);class CoreCourseResourcePrefetchHandlerBase extends f.T{download(e,n,r){return this.downloadOrPrefetch(e,n,!1,r)}downloadOrPrefetch(e,n,r,s){var c=this;return(0,o.A)((function*(){if(!a.WE.isOnline())throw new i.CoreNetworkError;const o=u.CoreSites.getCurrentSiteId();if(c.isDownloading(e.id,o))return c.getOngoingDownload(e.id,o);const p=c.performDownloadOrPrefetch(o,e,n,!!r,s);return c.addOngoingDownload(e.id,p,o)}))()}performDownloadOrPrefetch(e,n,r,i,a){var u=this;return(0,o.A)((function*(){yield p.CoreCourse.getModuleBasicInfo(n.id,{siteId:e}),yield u.loadContents(n,r,!0);const o=yield u.getIntroFiles(n,r,!0),f=u.getContentDownloadableFiles(n),g=[];a?(g.push(c.CoreFilepool.downloadOrPrefetchFiles(e,o,i,!1,u.component,n.id)),g.push(c.CoreFilepool.downloadOrPrefetchPackage(e,f,i,u.component,n.id,void 0,a))):g.push(c.CoreFilepool.downloadOrPrefetchPackage(e,o.concat(f),i,u.component,n.id)),g.push(s.CoreFilterHelper.getFilters("module",n.id,{courseId:r})),yield Promise.all(g)}))()}getFiles(e,n,r){var i=this;return(0,o.A)((function*(){yield i.loadContents(e,n);return(yield i.getIntroFiles(e,n)).concat(i.getContentDownloadableFiles(e))}))()}invalidateContent(e,n){var r=this;return(0,o.A)((function*(){const n=u.CoreSites.getCurrentSiteId();yield Promise.all([p.CoreCourse.invalidateModule(e),c.CoreFilepool.invalidateFilesByComponent(n,r.component,e)])}))()}loadContents(e,n,r){return p.CoreCourse.loadModuleContents(e,n,void 0,!1,r)}prefetch(e,n,r,o){return this.downloadOrPrefetch(e,n,!0,o)}}},39218:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseUnsupportedModuleComponent:()=>g});var o=r(86654),i=r(54438),s=r(60177),a=r(2910),c=r(86198),u=r(23007),p=r(43570),f=r(73955);function CoreCourseUnsupportedModuleComponent_ion_item_9_Template(e,n){if(1&e&&(i.j41(0,"ion-item",5)(1,"ion-label")(2,"ion-button",6),i.EFF(3),i.nI1(4,"translate"),i.nrm(5,"ion-icon",7),i.k0s()()()),2&e){const e=i.XpG();i.R7$(2),i.Y8G("href",null==e.module?null:e.module.url)("showBrowserWarning",!1),i.R7$(),i.SpI(" ",i.bMT(4,3,"core.openinbrowser")," ")}}let g=(()=>{var e;class CoreCourseUnsupportedModuleComponent{}return(e=CoreCourseUnsupportedModuleComponent).ɵfac=function CoreCourseUnsupportedModuleComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-course-unsupported-module"]],inputs:{courseId:"courseId",module:"module"},standalone:!0,features:[i.aNF],decls:10,vars:4,consts:[[1,"has-spacer"],[1,"core-info-card"],["name","fas-circle-info","slot","start","aria-hidden","true"],[1,"spacer"],["lines","none","class","ion-text-wrap",4,"ngIf"],["lines","none",1,"ion-text-wrap"],["expand","block","core-link","",3,"href","showBrowserWarning"],["name","fas-up-right-from-square","slot","end","aria-hidden","true"]],template:function CoreCourseUnsupportedModuleComponent_Template(e,n){1&e&&(i.j41(0,"div",0)(1,"ion-card",1)(2,"ion-item"),i.nrm(3,"ion-icon",2),i.j41(4,"ion-label")(5,"p"),i.EFF(6),i.nI1(7,"translate"),i.k0s()()()(),i.nrm(8,"div",3),i.DNE(9,CoreCourseUnsupportedModuleComponent_ion_item_9_Template,6,5,"ion-item",4),i.k0s()),2&e&&(i.R7$(6),i.JRh(i.bMT(7,2,"core.notavailablecontentinapp")),i.R7$(3),i.Y8G("ngIf",(null==n.module?null:n.module.url)&&(null==n.module?null:n.module.uservisible)))},dependencies:[o.n,s.bT,a.Jm,a.b_,a.iq,a.uz,a.he,c.t,u.j,p.T,f.D9],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreCourseUnsupportedModuleComponent})()},86123:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CORE_COURSE_ALL_COURSES_CLEARED:()=>g,CORE_COURSE_ALL_SECTIONS_ID:()=>p,CORE_COURSE_ALL_SECTIONS_PREFERRED_PREFIX:()=>c,CORE_COURSE_AUTO_SYNCED:()=>C,CORE_COURSE_COMPONENT:()=>w,CORE_COURSE_CONTENTS_PAGE_NAME:()=>s,CORE_COURSE_CONTENTS_PATH:()=>a,CORE_COURSE_CORE_MODULES:()=>A,CORE_COURSE_EXPANDED_SECTIONS_PREFIX:()=>u,CORE_COURSE_INDEX_PATH:()=>o,CORE_COURSE_MODULE_FEATURE_PREFIX:()=>_,CORE_COURSE_PAGE_NAME:()=>i,CORE_COURSE_PROGRESS_UPDATED_EVENT:()=>v,CORE_COURSE_STEALTH_MODULES_SECTION_ID:()=>f,COURSE_STATUS_CHANGED_EVENT:()=>b,CoreCourseAccessDataType:()=>E});const o=":courseId",i="course",s="contents",a=`${i}/${o}/${s}`,c="CoreCourseFormatAllSectionsPreferred-",u="CoreCourseFormatExpandedSections-",p=-2,f=-1,g=-1,v="progress_updated",C="core_course_autom_synced",b="course_status_changed",w="CoreCourse",A=["assign","bigbluebuttonbn","book","chat","choice","data","feedback","folder","forum","glossary","h5pactivity","imscp","label","lesson","lti","page","quiz","resource","scorm","survey","url","wiki","workshop"],_="CoreCourseModuleDelegate_",E={ACCESS_GUEST:"courses_access_guest",ACCESS_DEFAULT:"courses_access_default"}},74117:(e,n,r)=>{"use strict";r.d(n,{J:()=>resolveContentsRoutes,l:()=>a});var o=r(54438),i=r(94114);const s=new o.nKC("COURSE_CONTENTS_ROUTES");function resolveContentsRoutes(e){return(0,i.b1)(e,s)}let a=(()=>{var e;class CoreCourseContentsRoutingModule{static forChild(e){return{ngModule:CoreCourseContentsRoutingModule,providers:[{provide:s,multi:!0,useValue:e}]}}}return(e=CoreCourseContentsRoutingModule).ɵfac=function CoreCourseContentsRoutingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({}),CoreCourseContentsRoutingModule})()},69342:(e,n,r)=>{"use strict";r.d(n,{P:()=>resolveIndexRoutes,l:()=>a});var o=r(54438),i=r(94114);const s=new o.nKC("COURSE_INDEX_ROUTES");function resolveIndexRoutes(e){return(0,i.b1)(e,s)}let a=(()=>{var e;class CoreCourseIndexRoutingModule{static forChild(e){return{ngModule:CoreCourseIndexRoutingModule,providers:[{provide:s,multi:!0,useValue:e}]}}}return(e=CoreCourseIndexRoutingModule).ɵfac=function CoreCourseIndexRoutingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({}),CoreCourseIndexRoutingModule})()},82811:(e,n,r)=>{"use strict";r.d(n,{dN:()=>ie,DG:()=>getCourseExportedDirectives,bM:()=>getCourseExportedObjects,UI:()=>getCourseServices});var o=r(10467),i=r(54438),s=r(42858),a=r(52749),c=r(14001),u=r(97086),p=r(83648),f=r(79555);let g=(()=>{var e;class CoreCourseFormatSingleActivityHandlerService{constructor(){this.name="CoreCourseFormatSingleActivity",this.format="singleactivity"}isEnabled(){return(0,o.A)((function*(){return!0}))()}canViewAllSections(){return!1}displayBlocks(){return!0}getCourseTitle(e,n){var r;return null!=n&&null!==(r=n[0])&&void 0!==r&&null!==(r=r.contents)&&void 0!==r&&r[0]?n[0].contents[0].name:e.fullname||""}displayCourseIndex(){return!1}displayRefresher(e,n){var r;return null==n||null===(r=n[0])||void 0===r||null===(r=r.contents)||void 0===r||!r[0]||!("modname"in n[0].contents[0])||u.CoreCourseModuleDelegate.displayRefresherInSingleActivity(n[0].contents[0].modname)}getCourseFormatComponent(){return(0,o.A)((function*(){return p.CoreCourseFormatSingleActivityComponent}))()}shouldRefreshWhenCompletionChanges(){return(0,o.A)((function*(){return!1}))()}}return(e=CoreCourseFormatSingleActivityHandlerService).ɵfac=function CoreCourseFormatSingleActivityHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseFormatSingleActivityHandlerService})();const v=(0,f.Qd)(g);let C=(()=>{var e;class CoreCourseFormatSingleActivityModule{}return(e=CoreCourseFormatSingleActivityModule).ɵfac=function CoreCourseFormatSingleActivityModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{c.CoreCourseFormatDelegate.registerHandler(v.instance)}}]}),CoreCourseFormatSingleActivityModule})(),b=(()=>{var e;class CoreCourseFormatSocialHandlerService extends g{constructor(){super(...arguments),this.name="CoreCourseFormatSocial",this.format="social"}}return(e=CoreCourseFormatSocialHandlerService).ɵfac=(()=>{let n;return function CoreCourseFormatSocialHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseFormatSocialHandlerService})();const w=(0,f.Qd)(b);let A=(()=>{var e;class CoreCourseFormatSocialModule{}return(e=CoreCourseFormatSocialModule).ɵfac=function CoreCourseFormatSocialModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{c.CoreCourseFormatDelegate.registerHandler(w.instance)}}]}),CoreCourseFormatSocialModule})(),_=(()=>{var e;class CoreCourseFormatTopicsHandlerService{constructor(){this.name="CoreCourseFormatTopics",this.format="topics"}isEnabled(){return(0,o.A)((function*(){return!0}))()}}return(e=CoreCourseFormatTopicsHandlerService).ɵfac=function CoreCourseFormatTopicsHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseFormatTopicsHandlerService})();const E=(0,f.Qd)(_);let I=(()=>{var e;class CoreCourseFormatTopicsModule{}return(e=CoreCourseFormatTopicsModule).ɵfac=function CoreCourseFormatTopicsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{c.CoreCourseFormatDelegate.registerHandler(E.instance)}}]}),CoreCourseFormatTopicsModule})();var T=r(24742),P=r(74431);let k=(()=>{var e;class CoreCourseFormatWeeksHandlerService{constructor(){this.name="CoreCourseFormatWeeks",this.format="weeks"}isEnabled(){return(0,o.A)((function*(){return!0}))()}getCurrentSection(e,n){var r=this;return(0,o.A)((function*(){const o=T.j.timestamp();if(e.startdate&&o<e.startdate||e.enddate&&o>e.enddate)return{section:n[0],forceSelected:!1};for(let i=0;i<n.length;i++){const s=n[i];if(void 0===s.section||s.section<1)continue;const a=r.getSectionDates(s,e.startdate||0);if(o>=a.start&&o<a.end)return{section:s,forceSelected:!1}}return{section:n[0],forceSelected:!1}}))()}getSectionHightlightedName(){return f.HT.instant("core.course.thisweek")}getSectionDates(e,n){const r={start:(n+=7200)+P.CoreConstants.SECONDS_WEEK*((e.section||0)-1),end:0};return r.end=r.start+P.CoreConstants.SECONDS_WEEK,r}}return(e=CoreCourseFormatWeeksHandlerService).ɵfac=function CoreCourseFormatWeeksHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseFormatWeeksHandlerService})();const x=(0,f.Qd)(k);let F=(()=>{var e;class CoreCourseFormatWeeksModule{}return(e=CoreCourseFormatWeeksModule).ɵfac=function CoreCourseFormatWeeksModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{c.CoreCourseFormatDelegate.registerHandler(x.instance)}}]}),CoreCourseFormatWeeksModule})(),R=(()=>{var e;class CoreCourseFormatModule{}return(e=CoreCourseFormatModule).ɵfac=function CoreCourseFormatModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({imports:[C,A,I,F]}),CoreCourseFormatModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(R,{imports:[C,A,I,F]}));var N=r(26488),L=r(86463),H=r(78629),U=r(8979),B=r(26135),j=r(49808),V=r(25044);let G=(()=>{var e;class CoreCourseSyncCronHandlerService{constructor(){this.name="CoreCourseSyncCronHandler"}execute(e,n){return V.CoreCourseSync.syncAllCourses(e,n)}getInterval(){return V.CoreCourseSync.syncInterval}}return(e=CoreCourseSyncCronHandlerService).ɵfac=function CoreCourseSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseSyncCronHandlerService})();const z=(0,f.Qd)(G);var q=r(88452),W=r(35161);let K=(()=>{var e;class CoreCourseTagAreaHandlerService{constructor(){this.name="CoreCourseTagAreaHandler",this.type="core/course"}isEnabled(){return(0,o.A)((function*(){return!0}))()}parseContent(e){const n=[],r=(0,W.B)(e);return Array.from(r.querySelectorAll("div.coursebox")).forEach((e=>{const r=parseInt(e.getAttribute("data-courseid")||"",10),o=e.querySelector(".coursename > a"),i=e.querySelector(".coursecat > a");r>0&&o&&n.push({courseId:r,courseName:o.innerHTML,categoryName:i?i.innerHTML:null})})),n}getComponent(){return(0,o.A)((function*(){const{CoreCourseTagAreaComponent:e}=yield r.e(15378).then(r.bind(r,15378));return e}))()}}return(e=CoreCourseTagAreaHandlerService).ɵfac=function CoreCourseTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseTagAreaHandlerService})();const Q=(0,f.Qd)(K);var X=r(92443);let Y=(()=>{var e;class CoreCourseModulesTagAreaHandlerService{constructor(){this.name="CoreCourseModulesTagAreaHandler",this.type="core/course_modules"}isEnabled(){return(0,o.A)((function*(){return!0}))()}parseContent(e){return X.CoreTagHelper.parseFeedContent(e)}getComponent(){return(0,o.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=CoreCourseModulesTagAreaHandlerService).ɵfac=function CoreCourseModulesTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseModulesTagAreaHandlerService})();const J=(0,f.Qd)(Y);var Z=r(44682),ee=r(94114),te=r(69342),ne=r(86123);function getCourseServices(){return _getCourseServices.apply(this,arguments)}function _getCourseServices(){return(_getCourseServices=(0,o.A)((function*(){const{CoreCourseProvider:e}=yield Promise.resolve().then(r.bind(r,44682)),{CoreCourseHelperProvider:n}=yield Promise.resolve().then(r.bind(r,94247)),{CoreCourseModuleHelperService:o}=yield Promise.resolve().then(r.bind(r,95384)),{CoreCourseDownloadStatusHelperService:i}=yield Promise.resolve().then(r.bind(r,23803)),{CoreCourseLogHelperProvider:s}=yield Promise.resolve().then(r.bind(r,97254)),{CoreCourseFormatDelegateService:a}=yield Promise.resolve().then(r.bind(r,14001)),{CoreCourseModuleDelegateService:c}=yield Promise.resolve().then(r.bind(r,97086)),{CoreCourseModulePrefetchDelegateService:u}=yield Promise.resolve().then(r.bind(r,8979)),{CoreCourseOptionsDelegateService:p}=yield Promise.resolve().then(r.bind(r,78765)),{CoreCourseOfflineProvider:f}=yield Promise.resolve().then(r.bind(r,65324)),{CoreCourseSyncProvider:g}=yield Promise.resolve().then(r.bind(r,25044));return[e,n,o,i,s,a,c,u,p,f,g]}))).apply(this,arguments)}function getCourseExportedObjects(){return _getCourseExportedObjects.apply(this,arguments)}function _getCourseExportedObjects(){return(_getCourseExportedObjects=(0,o.A)((function*(){const{CoreCourseActivityPrefetchHandlerBase:e}=yield Promise.resolve().then(r.bind(r,38911)),{CoreCourseResourcePrefetchHandlerBase:n}=yield Promise.resolve().then(r.bind(r,32868)),{CoreCourseAccessDataType:o,CORE_COURSE_ALL_SECTIONS_ID:i,CORE_COURSE_STEALTH_MODULES_SECTION_ID:s,CORE_COURSE_ALL_COURSES_CLEARED:a,CORE_COURSE_PROGRESS_UPDATED_EVENT:c,CORE_COURSE_COMPONENT:u,CORE_COURSE_CORE_MODULES:p}=yield Promise.resolve().then(r.bind(r,86123)),{CoreCourseUnsupportedModuleComponent:f}=yield Promise.resolve().then(r.bind(r,39218)),{CoreCourseFormatSingleActivityComponent:g}=yield Promise.resolve().then(r.bind(r,83648)),{CoreCourseCourseIndexComponent:v}=yield r.e(23506).then(r.bind(r,23506));return{CoreCourseActivityPrefetchHandlerBase:e,CoreCourseResourcePrefetchHandlerBase:n,CoreCourseUnsupportedModuleComponent:f,CoreCourseFormatSingleActivityComponent:g,CoreCourseCourseIndexComponent:v,CoreCourseAccessDataType:o,CORE_COURSE_ALL_SECTIONS_ID:i,CORE_COURSE_STEALTH_MODULES_SECTION_ID:s,CORE_COURSE_ALL_COURSES_CLEARED:a,CORE_COURSE_PROGRESS_UPDATED_EVENT:c,CORE_COURSE_COMPONENT:u,CORE_COURSE_CORE_MODULES:p}}))).apply(this,arguments)}function getCourseExportedDirectives(){return _getCourseExportedDirectives.apply(this,arguments)}function _getCourseExportedDirectives(){return(_getCourseExportedDirectives=(0,o.A)((function*(){const{CoreCourseFormatComponent:e}=yield Promise.all([r.e(98054),r.e(89752)]).then(r.bind(r,89752)),{CoreCourseSectionComponent:n}=yield Promise.all([r.e(98054),r.e(27232)]).then(r.bind(r,27232)),{CoreCourseModuleComponent:o}=yield r.e(98054).then(r.bind(r,98054)),{CoreCourseModuleCompletionComponent:i}=yield r.e(20644).then(r.bind(r,20644)),{CoreCourseModuleCompletionLegacyComponent:s}=yield r.e(87552).then(r.bind(r,87552)),{CoreCourseModuleInfoComponent:a}=yield r.e(6736).then(r.bind(r,6736)),{CoreCourseModuleNavigationComponent:c}=yield r.e(30864).then(r.bind(r,30864)),{CoreCourseDownloadModuleMainFileDirective:u}=yield r.e(33865).then(r.bind(r,33865)),{CoreCourseModuleDescriptionComponent:p}=yield r.e(91336).then(r.bind(r,91336)),{CoreCourseModuleManualCompletionComponent:f}=yield r.e(9638).then(r.bind(r,9638));return[p,f,e,n,o,i,s,a,c,u]}))).apply(this,arguments)}const re=[{matcher:(0,ee.td)(new RegExp(`^${ne.CORE_COURSE_PAGE_NAME}(/deep)*`)),loadChildren:()=>r.e(81560).then(r.bind(r,81560))}],oe=[{path:ne.CORE_COURSE_CONTENTS_PAGE_NAME,loadChildren:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(50105)]).then(r.bind(r,50105))}];let ie=(()=>{var e;class CoreCourseModule{}return(e=CoreCourseModule).ɵfac=function CoreCourseModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:a.CORE_SITE_SCHEMAS,useValue:[N.AB,N.AZ,L.e,H.e],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{B.CoreCronDelegate.register(z.instance),B.CoreCronDelegate.register(j.b.instance),q.CoreTagAreaDelegate.registerHandler(Q.instance),q.CoreTagAreaDelegate.registerHandler(J.instance),Z.CoreCourse.initialize(),U.CoreCourseModulePrefetchDelegate.initialize()}}],imports:[te.l.forChild({children:oe}),s.b.forChild(re),R]}),CoreCourseModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(ie,{imports:[te.l,s.b,R]}))},83648:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseFormatSingleActivityComponent:()=>f});var o=r(10467),i=r(54438),s=r(97086),a=r(39218),c=r(68162),u=r(44682),p=r(86654);let f=(()=>{var e;class CoreCourseFormatSingleActivityComponent{constructor(){this.completionChanged=new i.bkB,this.data={}}ngOnChanges(e){var n=this;return(0,o.A)((function*(){var r;if(!e.course&&!e.sections)return;if(!n.course||!n.sections||!n.sections.length)return;const o=null===(r=n.sections)||void 0===r||null===(r=r[0].contents)||void 0===r?void 0:r[0];if(n.data.courseId=n.course.id,n.data.module=o,o&&!n.componentClass){const e=yield s.CoreCourseModuleDelegate.getMainComponent(n.course,o);n.componentClass=e||a.CoreCourseUnsupportedModuleComponent}}))()}doRefresh(e,n,r){var i=this;return(0,o.A)((function*(){var n;if(!r&&(yield null===(n=i.dynamicComponent)||void 0===n?void 0:n.callComponentMethod("doRefresh",e),i.course)){const e=i.course.id;yield u.CoreCourse.invalidateCourseBlocks(e)}}))()}ionViewDidEnter(){var e;null===(e=this.dynamicComponent)||void 0===e||e.callComponentMethod("ionViewDidEnter")}ionViewDidLeave(){var e;null===(e=this.dynamicComponent)||void 0===e||e.callComponentMethod("ionViewDidLeave")}}return(e=CoreCourseFormatSingleActivityComponent).ɵfac=function CoreCourseFormatSingleActivityComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-course-format-single-activity"]],viewQuery:function CoreCourseFormatSingleActivityComponent_Query(e,n){if(1&e&&i.GBs(c.m,5),2&e){let e;i.mGM(e=i.lsd())&&(n.dynamicComponent=e.first)}},inputs:{course:"course",sections:"sections",initialSectionId:"initialSectionId",initialSectionNumber:"initialSectionNumber",moduleId:"moduleId"},outputs:{completionChanged:"completionChanged"},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:2,consts:[[1,"list-item-limited-width"],[3,"component","data"]],template:function CoreCourseFormatSingleActivityComponent_Template(e,n){1&e&&(i.j41(0,"div",0),i.nrm(1,"core-dynamic-component",1),i.k0s()),2&e&&(i.R7$(),i.Y8G("component",n.componentClass)("data",n.data))},dependencies:[p.n,c.m],styles:["[_nghost-%COMP%]     ion-item[collapsible]{display:none}"]}),CoreCourseFormatSingleActivityComponent})()},23803:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseDownloadStatusHelper:()=>_,CoreCourseDownloadStatusHelperService:()=>A});var o=r(10467),i=r(52749),s=r(79555),a=r(49833),c=r(89312),u=r(71689),p=r(26488),f=r(6787),g=r(74431),v=r(49882),C=r(24742),b=r(86123),w=r(54438);let A=(()=>{var e;class CoreCourseDownloadStatusHelperService{constructor(){this.logger=f.CoreLogger.getInstance("CoreCourseStatusHelper"),this.tables=(0,a.$)((e=>(0,c.A)((()=>i.CoreSites.getSiteTable(p.I$,{siteId:e,config:{cachingStrategy:u.T.Eager},onDestroy:()=>delete this.tables[e]})))))}clearAllCoursesStatus(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);n.logger.debug(`Clear all download course status for site ${r.id}`),yield n.tables[r.getId()].delete(),n.triggerCourseStatusChanged(b.CORE_COURSE_ALL_COURSES_CLEARED,g.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,r.id)}))()}getCourseStatusData(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),s=yield r.tables[o.getId()].getOneByPrimaryKey({id:e});if(!s)throw Error("No entry found on course download status table");return s}))()}getCourseStatus(e,n){var r=this;return(0,o.A)((function*(){try{return(yield r.getCourseStatusData(e,n)).status||g.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED}catch{return g.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED}}))()}getDownloadedCourseIds(e){var n=this;return(0,o.A)((function*(){const r=[g.DownloadStatus.DOWNLOADED,g.DownloadStatus.DOWNLOADING,g.DownloadStatus.OUTDATED],o=yield i.CoreSites.getSite(e);return(yield n.tables[o.getId()].getManyWhere({sql:"status IN (?,?,?)",sqlParams:r,js:({status:e})=>r.includes(e)})).map((e=>e.id))}))()}setCoursePreviousStatus(e,n){var r=this;return(0,o.A)((function*(){n=n||i.CoreSites.getCurrentSiteId(),r.logger.debug(`Set previous download status for course ${e} in site ${n}`);const o=yield i.CoreSites.getSite(n),s=yield r.getCourseStatusData(e,n);r.logger.debug(`Set previous download status '${s.status}' for course ${e}`);const a={id:e,status:s.previous||g.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,updated:Date.now(),downloadTime:s.status==g.DownloadStatus.DOWNLOADING?s.previousDownloadTime:s.downloadTime};return yield r.tables[o.getId()].update(a,{id:e}),r.triggerCourseStatusChanged(e,a.status,n),a.status}))()}setCourseStatus(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId(),s.logger.debug(`Set download status '${n}' for course ${e} in site ${r}`);const o=yield i.CoreSites.getSite(r);let a,c=0,u=0;n===g.DownloadStatus.DOWNLOADING&&(c=C.j.timestamp());try{const n=yield s.getCourseStatusData(e,r);void 0===c?(c=n.downloadTime,u=n.previousDownloadTime):u=n.downloadTime,a=n.status}catch{}a!==n&&(yield s.tables[o.getId()].insert({id:e,status:n,previous:a,updated:Date.now(),downloadTime:c,previousDownloadTime:u})),s.triggerCourseStatusChanged(e,n,r)}))()}triggerCourseStatusChanged(e,n,r){v.z.trigger(b.COURSE_STATUS_CHANGED_EVENT,{courseId:e,status:n},r)}}return(e=CoreCourseDownloadStatusHelperService).ɵfac=function CoreCourseDownloadStatusHelperService_Factory(n){return new(n||e)},e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseDownloadStatusHelperService})();const _=(0,s.Qd)(A)},94247:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseHelper:()=>Y,CoreCourseHelperProvider:()=>X});var o=r(10467),i=r(94339),s=r(52749),a=r(44682),c=r(74431),u=r(6787),p=r(79555),f=r(88793),g=r(24502),v=r(66110),C=r(65324),b=r(78765),w=r(97086),A=r(75629),_=r(8979),E=r(88436),I=r(94455),T=r(8014),P=r(75383),k=r(24742),x=r(40867),F=r(49446),R=r(70526),N=r(15324),L=r(67935),H=r(4838),U=r(59656),B=r(93589),j=r(33014),V=r(86123),G=r(55554),z=r(86552),q=r(25572),W=r(23803),K=r(39378),Q=r(54438);let X=(()=>{var e;class CoreCourseHelperProvider{constructor(){this.courseDwnPromises={},this.logger=u.CoreLogger.getInstance("CoreCourseHelperProvider")}addHandlerDataForModules(e,n,r,i,s=!1){var c=this;return(0,o.A)((function*(){let i=!1;const u=function(){var e=(0,o.A)((function*(e){const p={...e,hasContent:c.sectionHasContent(e)};return p.hasContent?(i=!0,p.contents=yield Promise.all(p.contents.map(function(){var e=(0,o.A)((function*(e){if(!(0,a.sectionContentIsModule)(e))return yield u(e);if(e.handlerData=yield w.CoreCourseModuleDelegate.getModuleDataFor(e.modname,e,n,p.id,s),!e.completiondata&&r&&void 0!==r[e.id]){const o=r[e.id];e.completiondata={state:o.state,timecompleted:o.timecompleted,overrideby:o.overrideby||0,valueused:o.valueused,tracking:o.tracking,courseId:n,cmid:e.id}}return e.isStealth=Y.isModuleStealth(e,p),e}));return function(n){return e.apply(this,arguments)}}())),p):p}));return function treatSection(n){return e.apply(this,arguments)}}(),p=yield Promise.all(e.map((e=>u(e))));return{hasContent:i,sections:p}}))()}isModuleStealth(e,n){return!(!e.visible||e.visibleoncoursepage&&(!n||n.visible))}canUserViewModule(e,n){return!1!==e.uservisible&&(!n||Y.canUserViewSection(n))}isSectionStealth(e){return 1===e.hiddenbynumsections||e.id===V.CORE_COURSE_STEALTH_MODULES_SECTION_ID}canUserViewSection(e){return!1!==e.uservisible}calculateSectionStatus(e,n,r,i=!0){var s=this;return(0,o.A)((function*(){if(e.id===V.CORE_COURSE_ALL_SECTIONS_ID)throw new A.CoreError("Invalid section");const{modules:a,subsections:u}=s.classifyContents(e.contents),p=yield _.CoreCourseModulePrefetchDelegate.getModulesStatus(a,n,e.id,r,!0,i);yield Promise.all(u.map(function(){var e=(0,o.A)((function*(e){const o=yield s.calculateSectionStatus(e,n,r,i);p.total++,p.status=f.CoreFilepool.determinePackagesStatus(p.status,o.statusData.status)}));return function(n){return e.apply(this,arguments)}}()));const g=s.getSectionDownloadId(e);_.CoreCourseModulePrefetchDelegate.isBeingDownloaded(g)&&(p.status=c.DownloadStatus.DOWNLOADING);const v=e;return v.downloadStatus=p.status,p.status!==c.DownloadStatus.DOWNLOADING?(v.isDownloading=!1,s.resetSectionDownloadCount(e)):(v.isDownloading=!0,_.CoreCourseModulePrefetchDelegate.setOnProgress(g,(e=>{s.setSectionDownloadCount(v,e.count,e.total)}))),{statusData:p,section:v}}))()}confirmAndPrefetchCourse(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=e.icon,u=e.status,p=e.statusTranslatable,f=s.CoreSites.getCurrentSiteId();e.downloadSucceeded=!1,e.icon=c.CoreConstants.ICON_DOWNLOADING,e.status=c.DownloadStatus.DOWNLOADING,e.loading=!0,e.statusTranslatable="core.downloading";try{r.sections||(r.sections=yield a.CoreCourse.getSections(n.id,!1,!0)),yield i.confirmDownloadSizeSection(n.id,r.sections,!0),r.courseHandlers||(r.courseHandlers=yield b.CoreCourseOptionsDelegate.getHandlersToDisplay(n,!1,r.isGuest)),r.menuHandlers||(r.menuHandlers=yield b.CoreCourseOptionsDelegate.getMenuHandlersToDisplay(n,!1,r.isGuest)),yield i.prefetchCourse(n,r.sections,r.courseHandlers,r.menuHandlers,f),e.downloadSucceeded=!0,e.loading=!1}catch(n){throw e.icon=o,e.status=u,e.statusTranslatable=p,e.loading=!1,n}}))()}confirmAndPrefetchCourses(e,n={}){var r=this;return(0,o.A)((function*(){const i=s.CoreSites.getCurrentSiteId();yield q.CoreAlerts.confirm(p.HT.instant("core.areyousure"),{header:p.HT.instant("core.courses.downloadcourses")});const c=e.length;let u=0;const f=e.map(function(){var e=(0,o.A)((function*(e){let o=!0;const[s,p,f]=yield Promise.all([a.CoreCourse.getSections(e.id,!1,!0),b.CoreCourseOptionsDelegate.getHandlersToDisplay(e,!1),b.CoreCourseOptionsDelegate.getMenuHandlersToDisplay(e,!1)]);try{yield r.prefetchCourse(e,s,p,f,i)}catch(e){throw o=!1,e}finally{u++,n.onProgress&&n.onProgress({count:u,total:c,courseId:e.id,success:o})}}));return function(n){return e.apply(this,arguments)}}());return n.onProgress&&n.onProgress({count:0,total:c,success:!0}),G.g.allPromises(f)}))()}confirmDownloadSizeSection(e,n=[],r=!1){var i=this;return(0,o.A)((function*(){let s=!1;const a={size:0,total:!0},c=function(){var n=(0,o.A)((function*(n){if(n.id===V.CORE_COURSE_ALL_SECTIONS_ID)return{size:0,total:!0};const{modules:r,subsections:o}=i.classifyContents(n.contents),[a,u]=yield Promise.all([_.CoreCourseModulePrefetchDelegate.getDownloadSize(r,e),Promise.all(o.map((e=>c(e))))]);return!s&&f.CoreFilepool.extractDownloadableFilesFromHtml(n.summary).length>0&&(s=!0),u.concat(a).reduce(((e,n)=>({size:e.size+n.size,total:e.total&&n.total})),{size:0,total:!0})}));return function getSectionSize(e){return n.apply(this,arguments)}}();yield Promise.all(n.map(function(){var e=(0,o.A)((function*(e){yield c(e)}));return function(n){return e.apply(this,arguments)}}())),s&&(a.total=!1),yield q.CoreAlerts.confirmDownloadSize(a,{alwaysConfirm:r})}))()}getModulesDownloadedSize(e,n){return(0,o.A)((function*(){const r=yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){return yield _.CoreCourseModulePrefetchDelegate.getModuleStoredSize(e,n)}));return function(n){return e.apply(this,arguments)}}()));return r.reduce(((e,n)=>e+n),0)}))()}courseUsesGuestAccessInfo(e,n){return(0,o.A)((function*(){const r={guestAccess:!1};try{try{return yield v.CoreCourses.getUserCourse(e,!1,n),r}catch{}try{return yield v.CoreCourses.getCourse(e,n),r}catch{}const o=yield H.CoreEnrol.getSupportedCourseEnrolmentMethods(e,{action:U.CoreEnrolAction.GUEST,siteId:n});if(!o)return r;return(yield Promise.all(o.map((e=>U.CoreEnrolDelegate.canAccess(e))))).forEach((e=>{var n;(r.guestAccess=r.guestAccess||e.canAccess,!1!==r.requiresUserInput&&e.canAccess)&&(r.requiresUserInput=null!==(n=e.requiresUserInput)&&void 0!==n?n:r.requiresUserInput)})),r.passwordRequired=r.requiresUserInput,r}catch{return r}}))()}createAllSectionsSection(){return{id:V.CORE_COURSE_ALL_SECTIONS_ID,name:p.HT.instant("core.course.allsections"),hasContent:!0,summary:"",summaryformat:P.C9,modules:[],contents:[]}}determineCoursesStatus(e){return(0,o.A)((function*(){const n=[],r=s.CoreSites.getCurrentSiteId();e.forEach((e=>{n.push(W.CoreCourseDownloadStatusHelper.getCourseStatus(e.id,r))}));const o=yield Promise.all(n);let i=o[0];for(let e=1;e<o.length;e++)i=f.CoreFilepool.determinePackagesStatus(i,o[e]);return i}))()}downloadModuleAndOpenFile(e,n,r,i,u,g,v={}){var C=this;return(0,o.A)((function*(){if(g=g||s.CoreSites.getCurrentSiteId(),u&&u.length||(u=yield a.CoreCourse.getModuleContents(e)),!u.length)throw new A.CoreError(p.HT.instant("core.filenotfound"));const o=u[0];E.CoreFileHelper.isOpenableInApp(o)||(yield E.CoreFileHelper.showConfirmOpenUnsupportedFile(!1,o));const b=yield s.CoreSites.getSite(g);if(E.CoreFileHelper.shouldOpenInBrowser(o))return C.openModuleFileInBrowser(o.fileurl,b,e,n,r,i,u,v);const w=yield C.downloadModuleWithMainFileIfNeeded(e,n,r||"",i,u,g,v);if(T.F.isLocalFileUrl(w.path))return z.j.openFile(w.path,v);w.path=`${w.path}#moodlemobile-embedded`;try{yield z.j.openOnlineFile(w.path)}catch{if(w.status===c.DownloadStatus.DOWNLOADING)throw new A.CoreError(p.HT.instant("core.erroropenfiledownloading"));let s;w.status===c.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED?(yield C.downloadModule(e,n,r,i,u,g),s=yield f.CoreFilepool.getInternalUrlByUrl(g,o.fileurl)):s=yield f.CoreFilepool.getInternalUrlByUrl(g,o.fileurl),yield z.j.openFile(s,v)}}))()}openModuleFileInBrowser(e,n,r,i,s,a,c,u={}){var p=this;return(0,o.A)((function*(){if(!I.WE.isOnline()){let r;try{r=yield f.CoreFilepool.getInternalUrlByUrl(n.getId(),e)}catch{throw new F.CoreNetworkError}return z.j.openFile(r,u)}let o=yield n.checkAndFixPluginfileURL(e);o=o.replace("&offline=1",""),o=o.replace(/forcedownload=\d+&/,""),o=o.replace(/[?|&]forcedownload=\d+/,""),z.j.openInBrowser(o),p.downloadModule(r,i,s,a,c,n.getId())}))()}downloadModuleWithMainFileIfNeeded(e,n,r,i,a,u,p={}){var g=this;return(0,o.A)((function*(){if(u=u||s.CoreSites.getCurrentSiteId(),!a||!a.length)throw new A.CoreError("File list not supplied.");const o=a[0],v=yield s.CoreSites.getSite(u),C=yield v.checkAndFixPluginfileURL(o.fileurl),b=yield f.CoreFilepool.getPackageStatus(u,r,i);let w="";if(b===c.DownloadStatus.DOWNLOADING)w=C;else if(b===c.DownloadStatus.DOWNLOADED)try{w=yield f.CoreFilepool.getInternalUrlByUrl(u,o.fileurl)}catch(e){yield f.CoreFilepool.storePackageStatus(u,c.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,r,i)}if(!w)try{w=yield g.downloadModuleWithMainFile(e,n,C,a,b,r,i,u,p)}catch(e){if(b!==c.DownloadStatus.OUTDATED)throw e;try{w=yield f.CoreFilepool.getInternalUrlByUrl(u,o.fileurl)}catch{throw e}}return{path:w,fixedUrl:C,status:b}}))()}downloadModuleWithMainFile(e,n,r,i,a,u,p,g,v={}){var C=this;return(0,o.A)((function*(){g=g||s.CoreSites.getCurrentSiteId();const o=I.WE.isOnline(),b=i[0],w=b.timemodified||0;if(!o&&a===c.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED)throw new F.CoreNetworkError;return(yield f.CoreFilepool.shouldDownloadFileBeforeOpen(r,b.filesize,v))?(yield C.downloadModule(e,n,u,p,i,g),f.CoreFilepool.getInternalUrlByUrl(g,b.fileurl)):(I.WE.isWifi()&&C.downloadModule(e,n,u,p,i,g),!E.CoreFileHelper.isStateDownloaded(a)||o?r:f.CoreFilepool.getUrlByUrl(g,b.fileurl,u,p,w,!1,!1,b))}))()}downloadModule(e,n,r,i,a,c){return(0,o.A)((function*(){c=c||s.CoreSites.getCurrentSiteId();const o=_.CoreCourseModulePrefetchDelegate.getPrefetchHandlerFor(e.modname);if(o)return o.download?o.download(e,n):o.prefetch(e,n,!0);a=a||e.contents||[],yield f.CoreFilepool.downloadOrPrefetchFiles(c,a,!1,!1,r,i)}))()}getCourse(e,n){return(0,o.A)((function*(){n=n||s.CoreSites.getCurrentSiteId();try{return{enrolled:!0,course:yield v.CoreCourses.getUserCourse(e,!1,n)}}catch{}return{enrolled:!1,course:yield v.CoreCourses.getCourseByField("id",e,n)}}))()}getAndOpenCourse(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield j.CoreLoadings.show();let s;try{s=(yield i.getCourse(e,r)).course}catch{s={id:e}}return null==o||o.dismiss(),i.openCourse(s,{params:n,siteId:r})}))()}hasABlockNamed(e,n,r){return(0,o.A)((function*(){try{return(yield a.CoreCourse.getCourseBlocks(e,r)).some((e=>e.name==n))}catch{return!1}}))()}initPrefetchCoursesIcons(e,n){var r=this;return(0,o.A)((function*(){if(!e||e.length<=0)return n.icon="",n;const o=yield r.determineCoursesStatus(e);return(n=r.getCoursesPrefetchStatusInfo(o)).loading&&(n.icon=c.CoreConstants.ICON_NOT_DOWNLOADED),n}))()}loadOfflineCompletion(e,n,r){return(0,o.A)((function*(){const o=yield C.CoreCourseOffline.getCourseManualCompletions(e,r);if(!o||!o.length)return;const i=o.length;let s=0;const c=g.R.toObject(o,"cmid"),loadSectionOfflineCompletion=e=>{if(e.contents&&e.contents.length)for(let n=0;n<e.contents.length&&s<i;n++){const r=e.contents[n];if(!(0,a.sectionContentIsModule)(r)){loadSectionOfflineCompletion(r);continue}const o=c[r.id];o&&void 0!==r.completiondata&&o.timecompleted>=1e3*r.completiondata.timecompleted&&(r.completiondata.state=o.completed,r.completiondata.offline=!0,s++)}};for(let e=0;e<n.length&&s<i;e++)loadSectionOfflineCompletion(n[e])}))()}loadModuleOfflineCompletion(e,n,r){return(0,o.A)((function*(){if(!n.completiondata)return;const o=(yield C.CoreCourseOffline.getCourseManualCompletions(e,r)).find((e=>e.cmid==n.id));o&&o.timecompleted>=1e3*n.completiondata.timecompleted&&(n.completiondata.state=o.completed,n.completiondata.offline=!0)}))()}prefetchCourses(e,n){var r=this;return(0,o.A)((function*(){n.loading=!0,n.icon=c.CoreConstants.ICON_DOWNLOADING,n.badge="";const o={onProgress:e=>{n.badge=`${e.count} / ${e.total}`,n.badgeA11yText=p.HT.instant("core.course.downloadcoursesprogressdescription",e),n.count=e.count,n.total=e.total}};try{yield r.confirmAndPrefetchCourses(e,o),n.icon=c.CoreConstants.ICON_OUTDATED}finally{n.loading=!1,n.badge=""}}))()}getCourseDownloadPromise(e,n){return n=n||s.CoreSites.getCurrentSiteId(),this.courseDwnPromises[n]&&this.courseDwnPromises[n][e]}getCourseStatusIconAndTitle(e,n){var r=this;return(0,o.A)((function*(){const o=yield W.CoreCourseDownloadStatusHelper.getCourseStatus(e,n);return r.getCoursePrefetchStatusInfo(o)}))()}getCoursePrefetchStatusInfo(e){const n={status:e,icon:this.getPrefetchStatusIcon(e,!1),statusTranslatable:"",loading:!1};return e===c.DownloadStatus.DOWNLOADED?n.statusTranslatable="core.course.refreshcourse":e===c.DownloadStatus.DOWNLOADING?(n.statusTranslatable="core.downloading",n.loading=!0):n.statusTranslatable="core.course.downloadcourse",n}getCoursesPrefetchStatusInfo(e){const n={status:e,icon:this.getPrefetchStatusIcon(e,!1),statusTranslatable:"",loading:!1};return e===c.DownloadStatus.DOWNLOADED?n.statusTranslatable="core.courses.refreshcourses":e===c.DownloadStatus.DOWNLOADING?(n.statusTranslatable="core.downloading",n.loading=!0):n.statusTranslatable="core.courses.downloadcourses",n}getPrefetchStatusIcon(e,n=!1){return e===c.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED?c.CoreConstants.ICON_NOT_DOWNLOADED:e===c.DownloadStatus.OUTDATED||e===c.DownloadStatus.DOWNLOADED&&!n?c.CoreConstants.ICON_OUTDATED:e===c.DownloadStatus.DOWNLOADED&&n?c.CoreConstants.ICON_DOWNLOADED:(e===c.DownloadStatus.DOWNLOADING,c.CoreConstants.ICON_DOWNLOADING)}getModulePrefetchInfo(e,n,r=!1,i=""){var s=this;return(0,o.A)((function*(){r&&(_.CoreCourseModulePrefetchDelegate.invalidateModuleStatusCache(e),yield G.g.ignoreErrors(_.CoreCourseModulePrefetchDelegate.invalidateCourseUpdates(n)));const[o,a,u]=yield Promise.all([_.CoreCourseModulePrefetchDelegate.getModuleStoredSize(e,n),_.CoreCourseModulePrefetchDelegate.getModuleStatus(e,n),s.getModulePackageLastDownloaded(e,i)]),p=P.Ni.bytesToSize(o,2);let f;switch(a){case c.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED:f=c.CoreConstants.ICON_NOT_DOWNLOADED;break;case c.DownloadStatus.DOWNLOADING:f=c.CoreConstants.ICON_DOWNLOADING;break;case c.DownloadStatus.OUTDATED:f=c.CoreConstants.ICON_OUTDATED;break;case c.DownloadStatus.DOWNLOADED:break;default:f=""}return{size:o,sizeReadable:p,status:a,statusIcon:f,downloadTime:u.downloadTime,downloadTimeReadable:u.downloadTimeReadable}}))()}getModulePackageLastDownloaded(e,n=""){return(0,o.A)((function*(){const r=s.CoreSites.getCurrentSiteId(),o=yield G.g.ignoreErrors(f.CoreFilepool.getPackageData(r,n,e.id));if(!(o&&o.downloadTime&&o.status&&E.CoreFileHelper.isStateDownloaded(o.status)))return{downloadTime:0,downloadTimeReadable:""};const a=k.j.timestamp(),c=o.downloadTime;let u="";return u=a-c<604800?(0,i.yf)(1e3*c).fromNow():(0,i.yf)(1e3*c).calendar(),{downloadTime:c,downloadTimeReadable:u}}))()}getSectionDownloadId(e){return`Section-${e.id}`}navigateToModuleByInstance(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=yield j.CoreLoadings.show();try{const o=yield a.CoreCourse.getModuleBasicInfoByInstance(e,n,{siteId:r.siteId});i.navigateToModule(o.id,{...r,courseId:o.course,modName:r.useModNameToGetModule?n:void 0})}catch(e){q.CoreAlerts.showError(e,{default:p.HT.instant("core.course.errorgetmodule")})}finally{o.dismiss()}}))()}navigateToModule(e,n={}){var r=this;return(0,o.A)((function*(){const o=n.siteId||s.CoreSites.getCurrentSiteId();let i=n.courseId;const c=yield j.CoreLoadings.show();try{if(!i){i=(yield a.CoreCourse.getModuleBasicInfo(e,{siteId:o,readingStrategy:1})).course}const p=yield s.CoreSites.getSite(o),f=yield a.CoreCourse.getModule(e,i,void 0,!1,!1,o,n.modName);var u;if(s.CoreSites.getCurrentSiteId()===p.getId())if(f.handlerData=yield w.CoreCourseModuleDelegate.getModuleDataFor(f.modname,f,i,f.section,!1),null!==(u=f.handlerData)&&void 0!==u&&u.action)return c.dismiss(),f.handlerData.action(new Event("click"),f,i,n.modNavOptions);const g={course:{id:i},module:f,modNavOptions:n.modNavOptions};if(i==p.getSiteHomeId()){if(yield R.CoreSiteHome.isAvailable())return yield N.CoreNavigator.navigateToSitePath(K.j,{params:g,siteId:o}),void 0}c.dismiss(),g.sectionId=f.section,yield r.getAndOpenCourse(i,g,o)}catch(e){q.CoreAlerts.showError(e,{default:p.HT.instant("core.course.errorgetmodule")})}finally{c.dismiss()}}))()}openModule(e,n,r={}){return(0,o.A)((function*(){var o;return e.handlerData||(e.handlerData=yield w.CoreCourseModuleDelegate.getModuleDataFor(e.modname,e,n,r.sectionId,!1)),!(null===(o=e.handlerData)||void 0===o||!o.action)&&(e.handlerData.action(new Event("click"),e,n,{animated:!1,...r.modNavOptions}),!0)}))()}prefetchCourse(e,n,r,i,u){var p=this;return(0,o.A)((function*(){const f=u||s.CoreSites.getRequiredCurrentSite().getId();return p.courseDwnPromises[f]&&void 0!==p.courseDwnPromises[f][e.id]||(p.courseDwnPromises[f]||(p.courseDwnPromises[f]={}),p.courseDwnPromises[f][e.id]=W.CoreCourseDownloadStatusHelper.setCourseStatus(e.id,c.DownloadStatus.DOWNLOADING,f).then((0,o.A)((function*(){const o=[];o.push(p.prefetchSections(n,e.id,!0)),r.forEach((n=>{n.prefetch&&o.push(n.prefetch(e))})),i.forEach((n=>{n.prefetch&&o.push(n.prefetch(e))})),o.push(v.CoreCourses.getCoursesByField("id",e.id));const s=a.CoreCourse.getSectionsModules(n);return s.length&&void 0!==s[0].completion||o.push(a.CoreCourse.getActivitiesCompletionStatus(e.id)),o.push(x.CoreFilterHelper.getFilters("course",e.id)),yield G.g.allPromises(o),W.CoreCourseDownloadStatusHelper.setCourseStatus(e.id,c.DownloadStatus.DOWNLOADED,f)}))).catch(function(){var n=(0,o.A)((function*(n){throw yield W.CoreCourseDownloadStatusHelper.setCoursePreviousStatus(e.id,f),n}));return function(e){return n.apply(this,arguments)}}()).finally((()=>{delete p.courseDwnPromises[f][e.id]}))),p.courseDwnPromises[f][e.id]}))()}prefetchModule(e,n,r,i,s){return(0,o.A)((function*(){yield q.CoreAlerts.confirmDownloadSize(r),s&&(yield G.g.ignoreErrors(e.invalidateContent(n.id,i))),yield _.CoreCourseModulePrefetchDelegate.prefetchModule(n,i,!0)}))()}prefetchSections(e,n,r=!1){var i=this;return(0,o.A)((function*(){let s,a=c.DownloadStatus.NOT_DOWNLOADABLE;r&&(s=e[0],e[0].id!==V.CORE_COURSE_ALL_SECTIONS_ID&&(s=i.createAllSectionsSection()),s.isDownloading=!0);const u=e.map(function(){var e=(0,o.A)((function*(e){if(e.id!==V.CORE_COURSE_ALL_SECTIONS_ID)try{yield i.prefetchSingleSectionIfNeeded(e,n)}finally{const r=yield i.calculateSectionStatus(e,n,!1,!1);a=f.CoreFilepool.determinePackagesStatus(a,r.statusData.status)}}));return function(n){return e.apply(this,arguments)}}());try{yield G.g.allPromises(u),s&&(s.downloadStatus=a,s.isDownloading=a===c.DownloadStatus.DOWNLOADING)}finally{s&&(s.isDownloading=!1)}}))()}prefetchSingleSectionIfNeeded(e,n){var r=this;return(0,o.A)((function*(){if(e.id===V.CORE_COURSE_ALL_SECTIONS_ID||e.hiddenbynumsections)return;const o=[],i=s.CoreSites.getCurrentSiteId();e.isDownloading=!0,o.push(r.syncModulesAndPrefetchSection(e,n));const a=f.CoreFilepool.extractDownloadableFilesFromHtmlAsFakeFileObjects(e.summary);o.push(G.g.ignoreErrors(f.CoreFilepool.addFilesToQueue(i,a,V.CORE_COURSE_COMPONENT,n)));try{yield Promise.all(o)}finally{e.isDownloading=!1}}))()}syncModulesAndPrefetchSection(e,n){var r=this;return(0,o.A)((function*(){const{modules:i,subsections:s}=r.classifyContents(e.contents),a=function(){var s=(0,o.A)((function*(){yield _.CoreCourseModulePrefetchDelegate.syncModules(i,n);const o=yield _.CoreCourseModulePrefetchDelegate.getModulesStatus(i,n,e.id);o.status!==c.DownloadStatus.DOWNLOADED&&o.status!==c.DownloadStatus.NOT_DOWNLOADABLE&&(yield r.prefetchSingleSection(e,o,n))}));return function syncAndPrefetchModules(){return s.apply(this,arguments)}}();r.setSectionDownloadCount(e,0,s.length,!0),yield Promise.all([a(),Promise.all(s.map(function(){var i=(0,o.A)((function*(o){var i;yield r.prefetchSingleSectionIfNeeded(o,n),r.setSectionDownloadCount(e,(null!==(i=e.subsectionCount)&&void 0!==i?i:0)+1,s.length,!0)}));return function(e){return i.apply(this,arguments)}}()))])}))()}prefetchSingleSection(e,n,r){var i=this;return(0,o.A)((function*(){if(e.id===V.CORE_COURSE_ALL_SECTIONS_ID)return;if(e.moduleTotal&&e.moduleTotal>0)return;const o=n[c.DownloadStatus.OUTDATED].concat(n[c.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED]).concat(n[c.DownloadStatus.DOWNLOADING]),s=i.getSectionDownloadId(e);e.isDownloading=!0,yield _.CoreCourseModulePrefetchDelegate.prefetchModules(s,o,r,(n=>{i.setSectionDownloadCount(e,n.count,n.total)}))}))()}sectionHasContent(e){return!e.hiddenbynumsections&&(void 0!==e.availabilityinfo&&""!==e.availabilityinfo||""!==e.summary||e.contents.filter((e=>!("visibleoncoursepage"in e)||0!==e.visibleoncoursepage)).length>0)}openCourse(e,n){return(0,o.A)((function*(){var r;const o=null===(r=n)||void 0===r?void 0:r.siteId;if(!o||o==s.CoreSites.getCurrentSiteId())return a.CoreCourse.openCourse(e,n);(n=n||{}).params=n.params||{},Object.assign(n.params,{course:e}),yield N.CoreNavigator.navigateToSitePath(`course/${e.id}`,n)}))()}userHasAccessToCourse(e){return(0,o.A)((function*(){return I.WE.isOnline()?G.g.promiseWorks(a.CoreCourse.getSections(e,!0,!0,{getFromCache:!1,emergencyCache:!1},void 0,!1)):G.g.promiseWorks(a.CoreCourse.getSections(e,!0,!0,{getCacheUsingCacheKey:!0},void 0,!1))}))()}deleteCourseFiles(e){var n=this;return(0,o.A)((function*(){const r=s.CoreSites.getCurrentSiteId(),o=yield a.CoreCourse.getSections(e),i=a.CoreCourse.getSectionsModules(o);yield Promise.all([...i.map((r=>n.removeModuleStoredData(r,e))),r&&f.CoreFilepool.removeFilesByComponent(r,V.CORE_COURSE_COMPONENT,e)]),yield W.CoreCourseDownloadStatusHelper.setCourseStatus(e,c.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED)}))()}removeModuleStoredData(e,n){return(0,o.A)((function*(){const r=[];r.push(_.CoreCourseModulePrefetchDelegate.removeModuleFiles(e,n));const o=_.CoreCourseModulePrefetchDelegate.getPrefetchHandlerFor(e.modname),i=s.CoreSites.getCurrentSite();o&&i&&r.push(i.deleteComponentFromCache(o.component,e.id)),yield Promise.all(r)}))()}changeManualCompletion(e){return(0,o.A)((function*(){if(!e)return;if(void 0===e.cmid||1!==e.tracking)return;const n=yield j.CoreLoadings.show();e.state=1===e.state?0:1,e.isoverallcomplete=1===e.state;try{const n=yield a.CoreCourse.markCompletedManually(e.cmid,1===e.state,e.courseId);return n.offline&&(e.offline=!0),n}catch(n){e.state=1===e.state?0:1,e.isoverallcomplete=!e.isoverallcomplete,q.CoreAlerts.showError(n,{default:p.HT.instant("core.errorchangecompletion")})}finally{n.dismiss()}}))()}getCourseSummaryPage(){return r.e(52408).then(r.bind(r,52408))}openCourseSummary(e){var n=this;return(0,o.A)((function*(){const r=yield n.getCourseSummaryPage();B.I.openSideModal({component:r.default,componentProps:{courseId:e.id,course:e}})}))()}registerModuleReminderClick(e){L.CoreLocalNotifications.registerClick(e,function(){var e=(0,o.A)((function*(e){yield p.b0.donePromise,Y.navigateToModule(e.instanceId,{siteId:e.siteId})}));return function(n){return e.apply(this,arguments)}}())}getCourseCommunicationRoom(e){return(0,o.A)((function*(){const n=s.CoreSites.getRequiredCurrentSite();if(n.isVersionGreaterEqualThan("4.4"))return"communicationroomurl"in e||"communicationroomurl"in(e=yield v.CoreCourses.getCourseByField("id",e.id,n.id))?e.communicationroomurl:void 0}))()}guessIsTeacher(e,n){return(0,o.A)((function*(){var r;if(n&&"admOptions"in n&&n.admOptions)return!!n.admOptions.reports;return!(null===(r=(yield v.CoreCourses.getUserAdministrationOptions([e],{readingStrategy:1}))[e])||void 0===r||!r.reports)}))()}getCourseInfo(e){return(0,o.A)((function*(){try{return yield v.CoreCourses.getUserCourse(e,!0)}catch{}try{return yield v.CoreCourses.getCourse(e)}catch{}return yield v.CoreCourses.getCourseByField("id",e)}))()}getCompletionStatus(e){if(void 0!==e&&0!==e.tracking)return!0===e.isoverallcomplete?1:e.state}findSection(e,n){if(void 0===n.id&&void 0===n.num&&void 0===n.moduleId)return{section:void 0,parents:[]};let r;const o=[],findInSection=e=>{if(e.id===n.id||void 0!==e.section&&e.section===n.num)return e;let r;return e.contents.some((i=>(0,a.sectionContentIsModule)(i)?void 0!==n.moduleId&&i.id===n.moduleId&&(r=e,!0):(r=findInSection(i),!!r&&(o.push(e),!0)))),r};return e.some((e=>(r=findInSection(e),!!r))),{section:r,parents:o.reverse()}}flattenSections(e){const n=[],getSubsections=e=>{e.contents.forEach((e=>{(0,a.sectionContentIsModule)(e)||(n.push(e),getSubsections(e))}))};return e.forEach((e=>{getSubsections(e)})),e.concat(n)}resetSectionDownloadCount(e){e.moduleTotal=void 0,e.subsectionTotal=void 0,e.moduleCount=void 0,e.subsectionCount=void 0,e.total=void 0}setSectionDownloadCount(e,n,r,o=!1){o?(e.subsectionCount=n,e.subsectionTotal=r):(e.moduleCount=n,e.moduleTotal=r),e.count=void 0!==e.moduleCount&&void 0!==e.subsectionCount?e.moduleCount+e.subsectionCount:void 0,e.total=void 0!==e.moduleTotal&&void 0!==e.subsectionTotal?e.moduleTotal+e.subsectionTotal:void 0}classifyContents(e){const n=[],r=[];return e.forEach((e=>{(0,a.sectionContentIsModule)(e)?n.push(e):r.push(e)})),{modules:n,subsections:r}}}return(e=CoreCourseHelperProvider).ɵfac=function CoreCourseHelperProvider_Factory(n){return new(n||e)},e.ɵprov=Q.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseHelperProvider})();const Y=(0,p.Qd)(X)},95384:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseModuleHelper:()=>E,CoreCourseModuleHelperService:()=>_});var o=r(10467),i=r(75629),s=r(49588),a=r(49882),c=r(52749),u=r(79555),p=r(26488),f=r(49833),g=r(89312),v=r(71689),C=r(24502),b=r(86123),w=r(97086),A=r(54438);let _=(()=>{var e;class CoreCourseModuleHelperService{constructor(){this.viewedModulesTables=(0,f.$)((e=>(0,g.A)((()=>c.CoreSites.getSiteTable(p.A3,{siteId:e,config:{cachingStrategy:v.T.None},primaryKeyColumns:[...p.dH],rowIdColumn:null,onDestroy:()=>delete this.viewedModulesTables[e]})))))}getActivityByCmId(e=[],n){const r=e.find((e=>e.coursemodule===n));if(!r)throw new i.CoreError(u.HT.instant("core.course.modulenotfound"));return r}getActivityByField(e=[],n,r){const o=e.find((e=>e[n]===r));if(!o)throw new i.CoreError(u.HT.instant("core.course.modulenotfound"));return o}isNotFoundError(e){return s.CoreErrorHelper.getErrorMessageFromError(e)===u.HT.instant("core.course.modulenotfound")}getCertainModulesViewed(e=[],n){var r=this;return(0,o.A)((function*(){if(!e.length)return{};const o=yield c.CoreSites.getSite(n),i=yield r.viewedModulesTables[o.getId()].getManyWhere({sql:`cmId IN (${e.map((()=>"?")).join(", ")})`,sqlParams:e,js:n=>e.includes(n.cmId)});return C.R.toObject(i,"cmId")}))()}getViewedModules(e,n){var r=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(n);return r.viewedModulesTables[o.getId()].getMany({courseId:e},{sorting:[{timeaccess:"desc"}]})}))()}storeModuleViewed(e,n,r={}){var i=this;return(0,o.A)((function*(){var o;const s=yield c.CoreSites.getSite(r.siteId),u=null!==(o=r.timeaccess)&&void 0!==o?o:Date.now();yield i.viewedModulesTables[s.getId()].insert({courseId:e,cmId:n,sectionId:r.sectionId,timeaccess:u}),a.z.trigger(a.z.COURSE_MODULE_VIEWED,{courseId:e,cmId:n,timeaccess:u,sectionId:r.sectionId},s.getId())}))()}getLastModuleViewed(e,n){var r=this;return(0,o.A)((function*(){return(yield r.getViewedModules(e,n))[0]}))()}isCoreModule(e){return b.CORE_COURSE_CORE_MODULES.includes(e)}getModuleIconSrc(e,n,r=""){if(r)return r;if(!this.isCoreModule(e)){if(n)return n;e="external-tool"}return`${this.getModuleIconsPath()+e}.svg`}getModuleIconsPath(){var e,n;return null!==(e=c.CoreSites.getCurrentSite())&&void 0!==e&&e.isVersionGreaterEqualThan("4.0")?null!==(n=c.CoreSites.getCurrentSite())&&void 0!==n&&n.isVersionGreaterEqualThan("4.4")?"assets/img/mod/":"assets/img/mod_40/":"assets/img/mod_legacy/"}moduleHasView(e){return(!("modname"in e)||!e.noviewlink&&!w.CoreCourseModuleDelegate.supportsFeature(e.modname,"viewlink",!1))&&!!e.url}translateModuleName(e,n){const r=`core.mod_${e}`,o=u.HT.instant(r);return o!==r?o:n||e}}return(e=CoreCourseModuleHelperService).ɵfac=function CoreCourseModuleHelperService_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseModuleHelperService})();const E=(0,u.Qd)(_)},65324:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseOffline:()=>p,CoreCourseOfflineProvider:()=>u});var o=r(10467),i=r(79555),s=r(52749),a=r(26488),c=r(54438);let u=(()=>{var e;class CoreCourseOfflineProvider{deleteManualCompletion(e,n){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(n);yield r.getDb().deleteRecords(a.hk,{cmid:e})}))()}getAllManualCompletions(e){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(e)).getDb().getRecords(a.hk)}))()}getCourseManualCompletions(e,n){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(n)).getDb().getRecords(a.hk,{courseid:e})}))()}getManualCompletion(e,n){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(n)).getDb().getRecord(a.hk,{cmid:e})}))()}markCompletedManually(e,n,r,i,c){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(c),i={cmid:e,completed:n?1:0,courseid:r,timecompleted:Date.now()};return yield o.getDb().insertRecord(a.hk,i),{status:!0,offline:!0}}))()}}return(e=CoreCourseOfflineProvider).ɵfac=function CoreCourseOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseOfflineProvider})();const p=(0,i.Qd)(u)},78765:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseOptionsDelegate:()=>A,CoreCourseOptionsDelegateService:()=>w});var o=r(10467),i=r(59296),s=r(49882),a=r(52749),c=r(55554),u=r(66110),p=r(86123),f=r(79555),g=r(84412),v=r(25124),C=r(9538),b=r(54438);let w=(()=>{var e;class CoreCourseOptionsDelegateService extends i.B{constructor(){super("CoreCourseOptionsDelegate"),this.courseHandlersUpdated={},this.courseHandlersLoaded={},this.lastUpdateHandlersForCoursesStart={},this.coursesHandlers={},this.featurePrefix="CoreCourseOptionsDelegate_",s.z.on(s.z.LOGOUT,(()=>{this.clearCoursesHandlers()}))}areHandlersLoaded(e){return!!this.courseHandlersLoaded[e]}clearCoursesHandlers(e){if(e){if(!this.courseHandlersLoaded[e])return;this.courseHandlersLoaded[e]=!1,delete this.coursesHandlers[e]}else for(const e in this.coursesHandlers)this.clearCoursesHandlers(Number(e))}clearAndInvalidateCoursesOptions(e){var n=this;return(0,o.A)((function*(){const r=[];if(s.z.trigger(C.CORE_COURSES_MY_COURSES_REFRESHED_EVENT),e)r.push(u.CoreCourses.invalidateCoursesAdminAndNavOptions([e])),r.push(n.invalidateCourseHandlers(e));else{r.push(u.CoreCourses.invalidateUserNavigationOptions()),r.push(u.CoreCourses.invalidateUserAdministrationOptions());for(const e in n.coursesHandlers)r.push(n.invalidateCourseHandlers(parseInt(e,10)))}n.clearCoursesHandlers(e),yield Promise.all(r)}))()}updateHandlersForAccess(e,n,r,i,s){var a=this;return(0,o.A)((function*(){a.courseHandlersLoaded[e]||(n=!1),!n&&a.coursesHandlers[e]&&a.coursesHandlers[e].access.type===r.type||(a.coursesHandlers[e]?(a.coursesHandlers[e].access=r,a.coursesHandlers[e].navOptions=i,a.coursesHandlers[e].admOptions=s):(a.coursesHandlers[e]={access:r,navOptions:i,admOptions:s,enabledHandlers:[],enabledMenuHandlers:[]},a.courseHandlersUpdated[e]=new g.t(void 0)),a.updateHandlersForCourse(e,r,i,s)),yield a.waitCourseHandlersForReady(e)}))()}getHandlersToDisplay(e,n=!1,r=!1){return this.getHandlersToDisplayInternal(!1,e,n,r)}getMenuHandlersToDisplay(e,n=!1,r=!1){return this.getHandlersToDisplayInternal(!0,e,n,r)}getHandlersToDisplayInternal(e,n,r=!1,i=!1){var s=this;return(0,o.A)((function*(){const a=n,c={type:i?p.CoreCourseAccessDataType.ACCESS_GUEST:p.CoreCourseAccessDataType.ACCESS_DEFAULT},u=[];yield s.loadCourseOptions(a,r),yield s.updateHandlersForAccess(n.id,r,c,a.navOptions,a.admOptions);const f=[];return(e?s.coursesHandlers[n.id].enabledMenuHandlers:s.coursesHandlers[n.id].enabledHandlers).forEach((n=>{const r=e?n.getMenuDisplayData:n.getDisplayData;r&&f.push(Promise.resolve(r.call(n,a)).then((e=>{var r;u.push({data:e,priority:n.priority||0,prefetch:(r=(0,o.A)((function*(e){var r;return yield null===(r=n.prefetch)||void 0===r?void 0:r.call(n,e)})),function prefetch(e){return r.apply(this,arguments)}),name:n.name})})).catch((e=>{s.logger.error(`Error getting data for handler ${n.name}`,e)})))})),yield Promise.all(f),u.sort(((e,n)=>(n.priority||0)-(e.priority||0))),u}))()}hasHandlersForAccess(e,n,r,i,s){var a=this;return(0,o.A)((function*(){yield a.updateHandlersForAccess(e,n,r,i,s);const o=a.coursesHandlers[e].enabledHandlers;return!(!o||!o.length)}))()}hasHandlersForCourse(e,n=!1){var r=this;return(0,o.A)((function*(){return yield r.loadCourseOptions(e,n),r.hasHandlersForDefault(e.id,n,e.navOptions,e.admOptions)}))()}hasHandlersForDefault(e,n=!1,r,i){var s=this;return(0,o.A)((function*(){return yield s.hasHandlersForAccess(e,n,{type:p.CoreCourseAccessDataType.ACCESS_DEFAULT},r,i)}))()}hasHandlersForGuest(e,n=!1,r,i){var s=this;return(0,o.A)((function*(){return yield s.hasHandlersForAccess(e,n,{type:p.CoreCourseAccessDataType.ACCESS_GUEST},r,i)}))()}invalidateCourseHandlers(e){var n=this;return(0,o.A)((function*(){const r=[],o=n.coursesHandlers[e];o&&o.enabledHandlers&&(o.enabledHandlers.forEach((n=>{n.invalidateEnabledForCourse&&r.push(n.invalidateEnabledForCourse(e,o.navOptions,o.admOptions))})),yield c.g.allPromises(r))}))()}isLastUpdateCourseCall(e,n){return!this.lastUpdateHandlersForCoursesStart[e]||n===this.lastUpdateHandlersForCoursesStart[e]}loadCourseOptions(e,n=!1){return(0,o.A)((function*(){if(!n&&void 0!==e.navOptions&&void 0!==e.admOptions)return;const r=yield u.CoreCourses.getCoursesAdminAndNavOptions([e.id]);e.navOptions=r.navOptions[e.id],e.admOptions=r.admOptions[e.id]}))()}updateData(){for(const e in this.coursesHandlers){const n=this.coursesHandlers[e];this.updateHandlersForCourse(parseInt(e,10),n.access,n.navOptions,n.admOptions)}}updateHandlersForCourse(e,n,r,i){var s=this;return(0,o.A)((function*(){s.courseHandlersLoaded[e]=!1;const o=[],c=[],u=[],p=a.CoreSites.getCurrentSiteId(),f=Date.now();s.lastUpdateHandlersForCoursesStart[e]=f;for(const a in s.enabledHandlers){const p=s.enabledHandlers[a];o.push(Promise.resolve(p.isEnabledForCourse(e,n,r,i)).then((e=>{e&&(p.isMenuHandler?u.push(p):c.push(p))})).catch((()=>{})))}try{yield Promise.all(o)}catch{}s.isLastUpdateCourseCall(e,f)&&a.CoreSites.getCurrentSiteId()===p&&(s.coursesHandlers[e].enabledHandlers=c,s.coursesHandlers[e].enabledMenuHandlers=u,s.courseHandlersLoaded[e]=!0,s.courseHandlersUpdated[e].next())}))()}waitCourseHandlersForReady(e){var n=this;return(0,o.A)((function*(){if(n.courseHandlersLoaded[e])return;const r=new v._,o=n.courseHandlersUpdated[e].subscribe((()=>{n.courseHandlersLoaded[e]&&(r.resolve(),null==o||o.unsubscribe())}));return r}))()}}return(e=CoreCourseOptionsDelegateService).ɵfac=function CoreCourseOptionsDelegateService_Factory(n){return new(n||e)},e.ɵprov=b.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseOptionsDelegateService})();const A=(0,f.Qd)(w)},44682:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourse:()=>X,CoreCourseProvider:()=>CoreCourseProvider,sectionContentIsModule:()=>sectionContentIsModule});var o,i=r(10467),s=r(94455),a=r(49882),c=r(6787),u=r(52749),p=r(74431),f=r(79555),g=r(65324),v=r(75629),C=r(66110),b=r(43411),w=r(94247),A=r(14001),_=r(26135),E=r(49808),I=r(15324),T=r(18022),P=r(83749),k=r(54843),x=r(96354),F=r(33014),R=r(24502),N=r(75383),L=r(9538),H=r(86123),U=r(55554),B=r(58364),j=r(25572),V=r(95384),G=r(23803),z=r(36684),q=r(39378),W=r(82907),K=r(97086),Q=r(54438);class CoreCourseProvider{constructor(){this.logger=c.CoreLogger.getInstance("CoreCourseProvider")}initialize(){T.CorePlatform.resume.subscribe((()=>{setTimeout((()=>{U.g.ignoreErrors(_.CoreCronDelegate.forceCronHandlerExecution(E.b.name))}),1e3)})),a.z.on(a.z.LOGIN,(()=>{setTimeout((()=>{U.g.ignoreErrors(_.CoreCronDelegate.forceCronHandlerExecution(E.b.name))}),1e3)}))}canGetCourseBlocks(e){return!!(e=e||u.CoreSites.getCurrentSite())&&e.isVersionGreaterEqualThan("3.7")}canRequestStealthModules(e){return!!(e=e||u.CoreSites.getCurrentSite())&&e.isVersionGreaterEqualThan("3.5.3")}checkModuleCompletion(e,n){n&&this.isIncompleteAutomaticCompletion(n)&&this.invalidateSections(e).finally((()=>{a.z.trigger(a.z.COMPLETION_MODULE_VIEWED,{courseId:e,cmId:n.cmid})}))}isIncompleteAutomaticCompletion(e){return 2===e.tracking&&0===e.state}isCourseIndentationEnabled(e,n){return(0,i.A)((function*(){var r;if(!e.isVersionGreaterEqualThan("4.0"))return!1;const o=yield C.CoreCourses.getCourseByField("id",n,e.id);return"1"===B.T.toKeyValueMap(null!==(r=o.courseformatoptions)&&void 0!==r?r:[],"name","value").indentation}))()}clearAllCoursesStatus(e){return(0,i.A)((function*(){yield G.CoreCourseDownloadStatusHelper.clearAllCoursesStatus(e)}))()}currentViewIsCourse(e){const n=I.CoreNavigator.getCurrentRoute({routeData:{isCourseIndex:!0}});return!!n&&Number(I.CoreNavigator.getRouteParams(n).courseId)==e}getActivitiesCompletionStatus(e,n,r,o=!1,s=!1,a=!0){var c=this;return(0,i.A)((function*(){const i=yield u.CoreSites.getSite(n);r=r||i.getUserId(),c.logger.debug(`Getting completion status for user ${r} in course ${e}`);const p={courseid:e,userid:r},f={cacheKey:c.getActivitiesCompletionCacheKey(e,r)};o?f.omitExpires=!0:s&&(f.getFromCache=!1,f.emergencyCache=!1);const v=yield i.read("core_completion_get_activities_completion_status",p,f);if(!v||!v.statuses)throw Error("WS core_completion_get_activities_completion_status failed");const C=R.R.toObject(v.statuses,"cmid");if(!a)return C;try{return(yield g.CoreCourseOffline.getCourseManualCompletions(e,i.id)).forEach((e=>{if(e&&void 0!==C[e.cmid]){const n=C[e.cmid];1===n.tracking&&(n.state=e.completed,n.offline=!0)}})),C}catch{return C}}))()}getActivitiesCompletionCacheKey(e,n){return`${CoreCourseProvider.ROOT_CACHE_KEY}activitiescompletion:${e}:${n}`}getCertainModulesViewed(e=[],n){return(0,i.A)((function*(){return V.CoreCourseModuleHelper.getCertainModulesViewed(e,n)}))()}getCourseBlocks(e,n){var r=this;return(0,i.A)((function*(){return yield(0,k._)(r.getCourseBlocksObservable(e,{siteId:n}))}))()}getCourseBlocksObservable(e,n={}){var r=this;return(0,P.uV)((0,i.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={courseid:e,returncontents:!0},s={cacheKey:r.getCourseBlocksCacheKey(e),updateFrequency:p.CoreCacheUpdateFrequency.RARELY,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.readObservable("core_block_get_course_blocks",i,s).pipe((0,x.T)((e=>e.blocks)))})))}getCourseBlocksCacheKey(e){return`${CoreCourseProvider.ROOT_CACHE_KEY}courseblocks:${e}`}getCourseStatusData(e,n){return(0,i.A)((function*(){return G.CoreCourseDownloadStatusHelper.getCourseStatusData(e,n)}))()}getCourseStatus(e,n){return(0,i.A)((function*(){return G.CoreCourseDownloadStatusHelper.getCourseStatus(e,n)}))()}getDownloadedCourseIds(e){return(0,i.A)((function*(){return G.CoreCourseDownloadStatusHelper.getDownloadedCourseIds(e)}))()}getLastModuleViewed(e,n){return(0,i.A)((function*(){return V.CoreCourseModuleHelper.getLastModuleViewed(e,n)}))()}getModule(e,n,r,o=!1,a=!1,c,g){var C=this;return(0,i.A)((function*(){c=c||u.CoreSites.getCurrentSiteId();const r=function(){var e=(0,i.A)((function*(e,n,o,i,c,u){const f={courseid:n,options:[]},g={omitExpires:u,updateFrequency:p.CoreCacheUpdateFrequency.RARELY};c&&f.options.push({name:"includestealthmodules",value:!0}),i?(f.options.push({name:"modname",value:i}),g.cacheKey=C.getModuleByModNameCacheKey(i)):(f.options.push({name:"cmid",value:o}),g.cacheKey=C.getModuleCacheKey(o)),!u&&a&&(g.getFromCache=!1,g.emergencyCache=!1);try{return yield e.read("core_course_get_contents",f,g)}catch{if(!a&&!s.WE.isOnline()){if(c)return r(e,n,o,i,!1,!0);if(i)return r(e,n,o,void 0,C.canRequestStealthModules(e),!0)}throw Error("WS core_course_get_contents failed, cache ignored")}}));return function doRequest(n,r,o,i,s,a){return e.apply(this,arguments)}}();if(!n){const r=yield C.getModuleBasicInfo(e,{siteId:c,readingStrategy:1});n=r.course}const b=yield u.CoreSites.getSite(c);let w,A;try{C.logger.debug(`Getting module ${e} in course ${n}`),w=yield r(b,n,e,g,C.canRequestStealthModules(b),o)}catch{const e={omitExpires:o};!o&&a&&(e.getFromCache=!1,e.emergencyCache=!1),w=yield(0,k._)(C.callGetSectionsWS(b,n,{excludeModules:!1,excludeContents:!1,preSets:e}))}const _=w.find((n=>(A=n.modules.find((n=>n.id===e)),!!A)));if(_&&A)return C.addAdditionalModuleData(A,n,_.id);throw new v.CoreError(f.HT.instant("core.course.modulenotfound"))}))()}addAdditionalModuleData(e,n,r){let o;e.completiondata&&e.completion&&(o={...e.completiondata,tracking:e.completion,cmid:e.id,courseId:n});const i=K.CoreCourseModuleDelegate.supportsFeature(e.modname,"candisplay",!0);return{...e,course:n,section:r,completiondata:o,availabilityinfo:this.treatAvailablityInfo(e.availabilityinfo),visible:i?e.visible:0,uservisible:!!i&&e.uservisible,visibleoncoursepage:i?e.visibleoncoursepage:0}}getModuleBasicInfo(e,n={}){var r=this;return(0,i.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId),i={cmid:e},s={cacheKey:r.getModuleCacheKey(e),updateFrequency:p.CoreCacheUpdateFrequency.RARELY,...u.CoreSites.getReadingStrategyPreSets(n.readingStrategy)},a=yield o.read("core_course_get_course_module",i,s);if(a.warnings&&a.warnings.length)throw new b.CoreWSError(a.warnings[0]);return a.cm}))()}getModuleBasicGradeInfo(e,n){var r=this;return(0,i.A)((function*(){const o=yield r.getModuleBasicInfo(e,{siteId:n});if(void 0!==o.grade||void 0!==o.advancedgrading||void 0!==o.outcomes)return{advancedgrading:o.advancedgrading,grade:o.grade,gradecat:o.gradecat,gradepass:o.gradepass,outcomes:o.outcomes,scale:o.scale}}))()}getModuleBasicInfoByInstance(e,n,r={}){var o=this;return(0,i.A)((function*(){var i;const s=yield u.CoreSites.getSite(r.siteId),a={instance:e,module:n},c={cacheKey:o.getModuleBasicInfoByInstanceCacheKey(e,n),updateFrequency:p.CoreCacheUpdateFrequency.RARELY,...u.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},f=yield s.read("core_course_get_course_module_by_instance",a,c);if(null!==(i=f.warnings)&&void 0!==i&&i.length)throw new b.CoreWSError(f.warnings[0]);if(!f.cm)throw Error("WS core_course_get_course_module_by_instance failed");return f.cm}))()}getModuleBasicInfoByInstanceCacheKey(e,n){return`${CoreCourseProvider.ROOT_CACHE_KEY}moduleByInstance:${n}:${e}`}getModuleCacheKey(e){return`${CoreCourseProvider.ROOT_CACHE_KEY}module:${e}`}getModuleByModNameCacheKey(e){return`${CoreCourseProvider.ROOT_CACHE_KEY}module:modName:${e}`}getModuleIconSrc(e,n,r=""){return V.CoreCourseModuleHelper.getModuleIconSrc(e,n,r)}getModuleIconsPath(){return V.CoreCourseModuleHelper.getModuleIconsPath()}getSection(e,n,r,o,s){var a=this;return(0,i.A)((function*(){if(n<0)throw new v.CoreError("Invalid section ID");const i=(yield a.getSections(e,r,o,void 0,s)).find((e=>e.id==n));if(i)return i;throw new v.CoreError("Unknown section")}))()}getSections(e,n=!1,r=!1,o,s,a=!0){var c=this;return(0,i.A)((function*(){return yield(0,k._)(c.getSectionsObservable(e,{excludeModules:n,excludeContents:r,includeStealthModules:a,preSets:o,siteId:s}))}))()}getSectionsObservable(e,n={}){var r=this;return(0,P.uV)((0,i.A)((function*(){const o=yield u.CoreSites.getSite(n.siteId);return r.callGetSectionsWS(o,e,n).pipe((0,x.T)((n=>{const i=o.getSiteHomeId();let s=!0;if(e===i){const e=o.getStoredConfig("numsections");s=void 0!==e&&!!e}void 0!==s&&!s&&n.length>0&&n.pop();const a=n.map((n=>({...n,availabilityinfo:r.treatAvailablityInfo(n.availabilityinfo),modules:n.modules.map((o=>r.addAdditionalModuleData(o,e,n.id))),contents:[]})));return r.addSectionsContents(a).filter((e=>!e.component))})))})))}callGetSectionsWS(e,n,r={}){const o={...r.preSets,cacheKey:this.getSectionsCacheKey(n),updateFrequency:p.CoreCacheUpdateFrequency.RARELY,...u.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},i={courseid:n};var s;(i.options=[{name:"excludemodules",value:!!r.excludeModules},{name:"excludecontents",value:!!r.excludeContents}],this.canRequestStealthModules(e))&&i.options.push({name:"includestealthmodules",value:!(null!==(s=r.includeStealthModules)&&void 0!==s&&!s)});return e.readObservable("core_course_get_contents",i,o)}addSectionsContents(e){const n=e.filter((e=>!!e.component)),r=R.R.unique(n.map((e=>{var n;return(null!==(n=e.component)&&void 0!==n?n:"").replace("mod_","")})));return e.forEach((e=>{e.contents=e.modules.map((e=>{var o;if(!r.includes(e.modname))return e;const i=N.Ni.parseJSON(null!==(o=e.customdata)&&void 0!==o?o:"{}",{});return n.find((e=>e.id===Number(i.sectionid)))})).filter((e=>void 0!==e))})),e}getSectionsCacheKey(e){return`${CoreCourseProvider.ROOT_CACHE_KEY}sections:${e}`}getSectionsModules(e,n={}){let r=[];return e.forEach((e=>{n.ignoreSection&&n.ignoreSection(e)||e.contents.forEach((e=>{if(sectionContentIsModule(e)){if(n.ignoreModule&&n.ignoreModule(e))return;r.push(e)}else r=r.concat(this.getSectionsModules([e],n))}))})),r}getViewedModules(e,n){return(0,i.A)((function*(){return V.CoreCourseModuleHelper.getViewedModules(e,n)}))()}invalidateCourseBlocks(e,n){var r=this;return(0,i.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getCourseBlocksCacheKey(e))}))()}invalidateModule(e,n,r){var o=this;return(0,i.A)((function*(){const i=yield u.CoreSites.getSite(n),s=[];r&&s.push(i.invalidateWsCacheForKey(o.getModuleByModNameCacheKey(r))),s.push(i.invalidateWsCacheForKey(o.getModuleCacheKey(e))),yield Promise.all(s)}))()}invalidateModuleByInstance(e,n,r){var o=this;return(0,i.A)((function*(){const i=yield u.CoreSites.getSite(r);yield i.invalidateWsCacheForKey(o.getModuleBasicInfoByInstanceCacheKey(e,n))}))()}invalidateSections(e,n,r){var o=this;return(0,i.A)((function*(){const i=yield u.CoreSites.getSite(n),s=[];s.push(i.invalidateWsCacheForKey(o.getSectionsCacheKey(e))),e===i.getSiteHomeId()&&s.push(i.invalidateConfig()),r=r||i.getUserId(),s.push(i.invalidateWsCacheForKey(o.getActivitiesCompletionCacheKey(e,r))),yield Promise.all(s)}))()}loadModuleContents(e,n,r,o,s,a,c){var u=this;return(0,i.A)((function*(){if(!s&&e.contents&&e.contents.length)return;const n=yield u.getModule(e.id,e.course,r,o,s,a,c);if(!n.contents)throw new v.CoreError(f.HT.instant("core.course.modulenotfound"));e.contents=n.contents}))()}getModuleContents(e,n,r,o,s,a,c){var u=this;return(0,i.A)((function*(){if(yield u.loadModuleContents(e,e.course,void 0,o,s,a,c),!e.contents)throw new v.CoreError(f.HT.instant("core.course.modulenotfound"));return e.contents}))()}logView(e,n,r){return(0,i.A)((function*(){const o={courseid:e};void 0!==n&&(o.sectionnumber=n);const i=yield u.CoreSites.getSite(r);if(!(yield i.write("core_course_view_course",o)).status)throw Error("WS core_course_view_course failed.");a.z.trigger(L.CORE_COURSES_MY_COURSES_UPDATED_EVENT,{courseId:e,action:L.CoreCoursesMyCoursesUpdatedEventAction.VIEW},i.getId())}))()}markCompletedManually(e,n,r,o,a){var c=this;return(0,i.A)((function*(){a=a||u.CoreSites.getCurrentSiteId();const storeOffline=()=>g.CoreCourseOffline.markCompletedManually(e,n,r,void 0,a);if(!s.WE.isOnline())return storeOffline();try{const r=yield c.markCompletedManuallyOnline(e,n,a);return yield U.g.ignoreErrors(g.CoreCourseOffline.deleteManualCompletion(e,a)),yield c.invalidateModule(e,a),r}catch(e){if(b.CoreWSError.isWebServiceError(e))throw e;return storeOffline()}}))()}markCompletedManuallyOnline(e,n,r){return(0,i.A)((function*(){const o=yield u.CoreSites.getSite(r),i={cmid:e,completed:n},s=yield o.write("core_completion_update_activity_completion_status_manually",i);if(!s.status){if(s.warnings&&s.warnings.length)throw new b.CoreWSError(s.warnings[0]);throw new v.CoreError("Cannot change completion.")}return s}))()}moduleHasView(e){return V.CoreCourseModuleHelper.moduleHasView(e)}isCoreModule(e){return V.CoreCourseModuleHelper.isCoreModule(e)}openCourse(e,n){return(0,i.A)((function*(){var o;if(e.id===(null===(o=u.CoreSites.getCurrentSite())||void 0===o?void 0:o.getSiteHomeId()))return yield I.CoreNavigator.navigate(`/main/${z.MAIN_MENU_HOME_PAGE_NAME}/${q.j}`,n),void 0;const{CoreSitePlugins:i}=yield Promise.resolve().then(r.bind(r,32832)),s=yield F.CoreLoadings.show();if(yield U.g.ignoreErrors(i.waitFetchPlugins()),!("format"in e)||void 0===e.format){const n=yield w.CoreCourseHelper.getCourse(e.id);e=n.course}const c="format"in e&&`format_${e.format}`;if(!c||!i.sitePluginPromiseExists(`format_${c}`))return s.dismiss(),yield A.CoreCourseFormatDelegate.openCourse(e,n),void 0;try{return yield i.sitePluginLoaded(c),i.sitePluginsFinishedLoading?A.CoreCourseFormatDelegate.openCourse(e,n):(yield new Promise(((r,o)=>{const i=a.z.on(a.z.SITE_PLUGINS_LOADED,(()=>{null==i||i.off(),A.CoreCourseFormatDelegate.openCourse(e,n).then(r).catch(o)}))})),void 0)}catch{yield j.CoreAlerts.confirm(f.HT.instant("core.courses.errorloadplugins"),{okText:f.HT.instant("core.courses.reload"),cancelText:f.HT.instant("core.courses.ignore")}),window.location.reload()}finally{s.dismiss()}}))()}selectCourseTab(e,n){(n=n||{}).name=e||"",a.z.trigger(a.z.SELECT_COURSE_TAB,n)}setCoursePreviousStatus(e,n){return(0,i.A)((function*(){return G.CoreCourseDownloadStatusHelper.setCoursePreviousStatus(e,n)}))()}setCourseStatus(e,n,r){return(0,i.A)((function*(){return G.CoreCourseDownloadStatusHelper.setCourseStatus(e,n,r)}))()}storeModuleViewed(e,n,r={}){return(0,i.A)((function*(){yield V.CoreCourseModuleHelper.storeModuleViewed(e,n,r)}))()}translateModuleName(e,n){return V.CoreCourseModuleHelper.translateModuleName(e,n)}treatAvailablityInfo(e){return e?W.y.removeElementFromHtml(e,'li[data-action="showmore"]'):e}}(o=CoreCourseProvider).ACCESS_GUEST=H.CoreCourseAccessDataType.ACCESS_GUEST,o.ACCESS_DEFAULT=H.CoreCourseAccessDataType.ACCESS_DEFAULT,o.ALL_SECTIONS_ID=H.CORE_COURSE_ALL_SECTIONS_ID,o.STEALTH_MODULES_SECTION_ID=H.CORE_COURSE_STEALTH_MODULES_SECTION_ID,o.ALL_COURSES_CLEARED=H.CORE_COURSE_ALL_COURSES_CLEARED,o.PROGRESS_UPDATED=H.CORE_COURSE_PROGRESS_UPDATED_EVENT,o.COMPONENT=H.CORE_COURSE_COMPONENT,o.CORE_MODULES=H.CORE_COURSE_CORE_MODULES,o.ROOT_CACHE_KEY="mmCourse:",o.ɵfac=function CoreCourseProvider_Factory(e){return new(e||o)},o.ɵprov=Q.jDH({token:o,factory:o.ɵfac,providedIn:"root"});const X=(0,f.Qd)(CoreCourseProvider);function sectionContentIsModule(e){return"modname"in e}},26488:(e,n,r)=>{"use strict";r.d(n,{A3:()=>i,AB:()=>a,AZ:()=>u,I$:()=>o,dH:()=>s,hk:()=>c});const o="course_status",i="course_viewed_modules",s=["courseId","cmId"],a={name:"CoreCourseProvider",version:2,tables:[{name:o,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"status",type:"TEXT",notNull:!0},{name:"previous",type:"TEXT"},{name:"updated",type:"INTEGER"},{name:"downloadTime",type:"INTEGER"},{name:"previousDownloadTime",type:"INTEGER"}]},{name:i,columns:[{name:"courseId",type:"INTEGER"},{name:"cmId",type:"INTEGER"},{name:"timeaccess",type:"INTEGER",notNull:!0},{name:"sectionId",type:"INTEGER"}],primaryKeys:[...s]}]},c="course_manual_completion",u={name:"CoreCourseOfflineProvider",version:1,tables:[{name:c,columns:[{name:"cmid",type:"INTEGER",primaryKey:!0},{name:"completed",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"coursename",type:"TEXT"},{name:"timecompleted",type:"INTEGER"}]}]}},86463:(e,n,r)=>{"use strict";r.d(n,{O:()=>o,e:()=>i});const o="course_activity_log",i={name:"CoreCourseLogHelperProvider",version:1,tables:[{name:o,columns:[{name:"component",type:"TEXT"},{name:"componentid",type:"INTEGER"},{name:"ws",type:"TEXT"},{name:"data",type:"TEXT"},{name:"time",type:"INTEGER"}],primaryKeys:["component","componentid","ws","time"]}]}},78629:(e,n,r)=>{"use strict";r.d(n,{O:()=>o,e:()=>i});const o="check_updates_times",i={name:"CoreCourseModulePrefetchDelegate",version:1,tables:[{name:o,columns:[{name:"courseId",type:"INTEGER",primaryKey:!0},{name:"time",type:"INTEGER",notNull:!0}]}]}},14001:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseFormatDelegate:()=>v,CoreCourseFormatDelegateService:()=>g});var o=r(10467),i=r(59296),s=r(79555),a=r(54438),c=r(66110),u=r(15324),p=r(55554);let f=(()=>{var e;class CoreCourseFormatDefaultHandler{constructor(){this.name="CoreCourseFormatDefault",this.format="default"}isEnabled(){return(0,o.A)((function*(){return!0}))()}getCourseTitle(e){return e.fullname||""}canViewAllSections(){return!0}displayBlocks(){return!0}displayCourseIndex(){return!0}displayRefresher(){return!0}getCurrentSection(e,n){return(0,o.A)((function*(){let r;if("marker"in e)r=e.marker;else{const n=yield p.g.ignoreErrors(c.CoreCourses.getCourseByField("id",e.id));r=null==n?void 0:n.marker}if(r&&r>0){const e=n.find((e=>e.section==r));if(e)return{section:e,forceSelected:!0}}return{section:n[0],forceSelected:!1}}))()}getSectionHightlightedName(){return s.HT.instant("core.course.highlighted")}invalidateData(e){return(0,o.A)((function*(){yield c.CoreCourses.invalidateCoursesByField("id",e.id)}))()}openCourse(e,n){return(0,o.A)((function*(){(n=n||{}).params=n.params||{},Object.assign(n.params,{course:e});let r=0;if(!n.replace){const n=u.CoreNavigator.getCurrentMainMenuTab();r=u.CoreNavigator.getRouteDepth(`/main/${n}/course/${e.id}`)}const o="/deep".repeat(r);u.CoreNavigator.navigateToSitePath(`course${o}/${e.id}`,n)}))()}shouldRefreshWhenCompletionChanges(){return(0,o.A)((function*(){return!0}))()}}return(e=CoreCourseFormatDefaultHandler).ɵfac=function CoreCourseFormatDefaultHandler_Factory(n){return new(n||e)},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseFormatDefaultHandler})(),g=(()=>{var e;class CoreCourseFormatDelegateService extends i.B{constructor(e){super("CoreCoursesCourseFormatDelegate"),this.defaultHandler=e,this.featurePrefix="CoreCourseFormatDelegate_",this.handlerNameProperty="format"}canViewAllSections(e){return!!this.executeFunctionOnEnabled(e.format||"","canViewAllSections",[e])}displayBlocks(e){return!!this.executeFunctionOnEnabled(e.format||"","displayBlocks",[e])}displayRefresher(e,n){return!!this.executeFunctionOnEnabled(e.format||"","displayRefresher",[e,n])}displayCourseIndex(e){const n=this.executeFunctionOnEnabled(e.format||"","displayCourseIndex",[e]);return void 0!==n?n:!!this.executeFunctionOnEnabled(e.format||"","displaySectionSelector",[e])}getAllSectionsComponent(e){var n=this;return(0,o.A)((function*(){try{return yield n.executeFunctionOnEnabled(e.format||"","getAllSectionsComponent",[e])}catch(e){n.logger.error("Error getting all sections component",e)}}))()}getCourseFormatComponent(e){var n=this;return(0,o.A)((function*(){try{return yield n.executeFunctionOnEnabled(e.format||"","getCourseFormatComponent",[e])}catch(e){n.logger.error("Error getting course format component",e)}}))()}getCourseTitle(e,n){return this.executeFunctionOnEnabled(e.format||"","getCourseTitle",[e,n])||""}getCurrentSection(e,n){var r=this;return(0,o.A)((function*(){try{const o=yield r.executeFunctionOnEnabled(e.format||"","getCurrentSection",[e,n]);if(o&&"object"==typeof o&&"forceSelected"in o)return o;if(o)return{section:o,forceSelected:!1}}catch{}return{section:n[0],forceSelected:!1}}))()}getSectionHightlightedName(e){return this.executeFunctionOnEnabled(e.format||"","getSectionHightlightedName")}getSingleSectionComponent(e){var n=this;return(0,o.A)((function*(){try{return yield n.executeFunctionOnEnabled(e.format||"","getSingleSectionComponent",[e])}catch(e){n.logger.error("Error getting single section component",e)}}))()}invalidateData(e,n){var r=this;return(0,o.A)((function*(){yield r.executeFunctionOnEnabled(e.format||"","invalidateData",[e,n])}))()}openCourse(e,n){var r=this;return(0,o.A)((function*(){yield r.executeFunctionOnEnabled(e.format||"","openCourse",[e,n])}))()}shouldRefreshWhenCompletionChanges(e){var n=this;return(0,o.A)((function*(){return n.executeFunctionOnEnabled(e.format||"","shouldRefreshWhenCompletionChanges",[e])}))()}}return(e=CoreCourseFormatDelegateService).ɵfac=function CoreCourseFormatDelegateService_Factory(n){return new(n||e)(a.KVO(f))},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseFormatDelegateService})();const v=(0,s.Qd)(g)},49808:(e,n,r)=>{"use strict";r.d(n,{b:()=>p});var o=r(10467),i=r(52749),s=r(44682),a=r(79555),c=r(54438);let u=(()=>{var e;class CoreCourseLogCronHandlerService{constructor(){this.name="CoreCourseLogCronHandler"}execute(e,n){return(0,o.A)((function*(){if(!e&&!i.CoreSites.isLoggedIn())return;const n=yield i.CoreSites.getSite(e);return s.CoreCourse.logView(n.getSiteHomeId(),void 0,n.getId())}))()}isSync(){return!1}getInterval(){return 24e4}}return(e=CoreCourseLogCronHandlerService).ɵfac=function CoreCourseLogCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseLogCronHandlerService})();const p=(0,a.Qd)(u)},97254:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseLogHelper:()=>w,CoreCourseLogHelperProvider:()=>b});var o=r(10467),i=r(94455),s=r(52749),a=r(75383),c=r(24742),u=r(58364),p=r(79555),f=r(86463),g=r(43411),v=r(55554),C=r(54438);let b=(()=>{var e;class CoreCourseLogHelperProvider{deleteLogs(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),i={component:e,componentid:n};yield o.getDb().deleteRecords(f.O,i)}))()}deleteWSLogsByComponent(e,n,r,i){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i),a={component:e,componentid:n,ws:r};yield o.getDb().deleteRecords(f.O,a)}))()}deleteWSLogs(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),i={ws:e,data:u.T.sortAndStringify(n)};yield o.getDb().deleteRecords(f.O,i)}))()}getAllLogs(e){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(e)).getDb().getAllRecords(f.O)}))()}getLogs(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),i={component:e,componentid:n};return o.getDb().getRecords(f.O,i)}))()}log(e,n,r,a,c){var u=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(c);if(!i.WE.isOnline())return u.storeOffline(e,n,r,a,o.getId());try{yield u.logOnline(e,n,o.getId())}catch(i){if(g.CoreWSError.isWebServiceError(i))throw i;return u.storeOffline(e,n,r,a,o.getId())}}))()}logOnline(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),a=Object.assign({},n),c=yield o.write(e,a);if(!c.status){var u;const e=(null===(u=c.warnings)||void 0===u?void 0:u[0])||{warningcode:"errorlog",message:"Error logging data."};throw new g.CoreWSError(e)}yield i.deleteWSLogs(e,n,r)}))()}logSingle(e,n,r,o,i,s,a,c){return this.log(e,n,r,o,c)}logList(e,n,r,o,i,s,a){return this.log(e,n,r,o,a)}storeOffline(e,n,r,i,a){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(a),p={component:r,componentid:i,ws:e,data:u.T.sortAndStringify(n),time:c.j.timestamp()};yield o.getDb().insertRecord(f.O,p)}))()}syncSite(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);e=r.getId();const o=yield n.getAllLogs(e),i=[];return o.forEach((e=>{i.find((n=>e.component==n.component&&e.componentid==n.componentid&&e.ws==n.ws&&e.data==n.data))||i.push(e)})),n.syncLogs(i,e)}))()}syncActivity(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);r=o.getId();const a=yield i.getLogs(e,n,r),c=[];return a.forEach((e=>{c.find((n=>e.ws==n.ws&&e.data==n.data))||c.push(e)})),i.syncLogs(c,r)}))()}syncLogs(e,n){var r=this;return(0,o.A)((function*(){yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){const o=a.Ni.parseJSON(e.data||"{}",{});try{yield r.logOnline(e.ws,o,n)}catch(i){throw g.CoreWSError.isWebServiceError(i)&&(yield v.g.ignoreErrors(r.deleteWSLogs(e.ws,o,n))),i}yield r.deleteWSLogsByComponent(e.component,e.componentid,e.ws,n)}));return function(n){return e.apply(this,arguments)}}()))}))()}}return(e=CoreCourseLogHelperProvider).ɵfac=function CoreCourseLogHelperProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseLogHelperProvider})();const w=(0,p.Qd)(b)},97086:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseModuleDelegate:()=>C,CoreCourseModuleDelegateService:()=>v});var o=r(10467),i=r(59296),s=r(95384),a=r(52749),c=r(79555),u=r(86123),p=r(54438),f=r(15324);let g=(()=>{var e;class CoreCourseModuleDefaultHandler{constructor(){this.name="CoreCourseModuleDefault",this.modName="default",this.pageName=""}isEnabled(){return(0,o.A)((function*(){return!0}))()}getData(e){var n=this;const r={icon:s.CoreCourseModuleHelper.getModuleIconSrc(e.modname,e.modicon),title:e.name,class:`core-course-default-handler core-course-module-${e.modname}-handler`,action:(i=(0,o.A)((function*(e,r,o,i){e.preventDefault(),e.stopPropagation(),yield n.openActivityPage(r,o,i)})),function action(e,n,r,o){return i.apply(this,arguments)})};var i;if("url"in e&&e.url){const n=e.url;r.button={icon:"fas-up-right-from-square",label:"core.openinbrowser",action:e=>{e.preventDefault(),e.stopPropagation(),a.CoreSites.getRequiredCurrentSite().openInBrowserWithAutoLogin(n)}}}return r}getMainComponent(){return(0,o.A)((function*(){const{CoreCourseUnsupportedModuleComponent:e}=yield Promise.resolve().then(r.bind(r,39218));return e}))()}displayRefresherInSingleActivity(){return!0}openActivityPage(e,n,r){return(0,o.A)((function*(){(r=r||{}).params=r.params||{},Object.assign(r.params,{module:e}),yield f.CoreNavigator.navigateToSitePath(`course/${n}/${e.id}/module-preview`,r)}))()}}return(e=CoreCourseModuleDefaultHandler).ɵfac=function CoreCourseModuleDefaultHandler_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseModuleDefaultHandler})(),v=(()=>{var e;class CoreCourseModuleDelegateService extends i.B{constructor(e){super("CoreCourseModuleDelegate"),this.defaultHandler=e,this.featurePrefix=u.CORE_COURSE_MODULE_FEATURE_PREFIX,this.handlerNameProperty="modName"}getMainComponent(e,n){var r=this;return(0,o.A)((function*(){try{return yield r.executeFunctionOnEnabled(n.modname,"getMainComponent",[e,n])}catch(e){r.logger.error("Error getting main component",e)}}))()}getModuleDataFor(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=yield a.executeFunctionOnEnabled(e,"getData",[n,r,i,s]);var c;o&&(o.showDownloadButton=null===(c=o.showDownloadButton)||void 0===c||c);return o}))()}openActivityPage(e,n,r,i){var s=this;return(0,o.A)((function*(){return s.executeFunctionOnEnabled(e,"openActivityPage",[n,r,i])}))()}isModuleDisabled(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);return r.isModuleDisabledInSite(e,o)}))()}isModuleDisabledInSite(e,n){const r=this.getHandler(e,!1);return!!r&&(!(n=n||a.CoreSites.getCurrentSite())||this.isFeatureDisabled(r,n))}displayRefresherInSingleActivity(e){return!!this.executeFunctionOnEnabled(e,"displayRefresherInSingleActivity")}getModuleIconSrc(e,n,r){var i=this;return(0,o.A)((function*(){var o;const a=yield i.executeFunctionOnEnabled(e,"getIconSrc",[r,n]);return null!==(o=null!=a?a:s.CoreCourseModuleHelper.getModuleIconSrc(e,n))&&void 0!==o?o:""}))()}moduleIconIsShape(e,n,r){var i=this;return(0,o.A)((function*(){return yield i.executeFunctionOnEnabled(e,"iconIsShape",[r,n])}))()}supportsFeature(e,n,r){const o=this.enabledHandlers[e];let i;return o&&(o.supportsFeature?i=o.supportsFeature(n):o.supportedFeatures&&(i=o.supportedFeatures[n])),null!=i?i:r}manualCompletionAlwaysShown(e){var n=this;return(0,o.A)((function*(){return!!(yield n.executeFunctionOnEnabled(e.modname,"manualCompletionAlwaysShown",[e]))}))()}}return(e=CoreCourseModuleDelegateService).ɵfac=function CoreCourseModuleDelegateService_Factory(n){return new(n||e)(p.KVO(g))},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseModuleDelegateService})();const C=(0,c.Qd)(v)},8979:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseModulePrefetchDelegate:()=>R,CoreCourseModulePrefetchDelegateService:()=>F});var o=r(10467),i=r(84412),s=r(89377),a=r(45507),c=r(88436),u=r(88793),p=r(52749),f=r(24742),g=r(24502),v=r(44682),C=r(3805),b=r(74431),w=r(59296),A=r(79555),_=r(49882),E=r(75629),I=r(78629),T=r(94247),P=r(55554),k=r(86123),x=r(54438);let F=(()=>{var e;class CoreCourseModulePrefetchDelegateService extends w.B{constructor(){super("CoreCourseModulePrefetchDelegate"),this.statusCache=new C.Y,this.featurePrefix=k.CORE_COURSE_MODULE_FEATURE_PREFIX,this.handlerNameProperty="modName",this.courseUpdatesPromises={},this.prefetchData={}}initialize(){_.z.on(_.z.LOGOUT,(()=>this.clearStatusCache())),_.z.on(_.z.PACKAGE_STATUS_CHANGED,(e=>{this.updateStatusCache(e.status,e.component,e.componentId)}),p.CoreSites.getCurrentSiteId()),_.z.on(_.z.COMPONENT_FILE_ACTION,(e=>{u.CoreFilepool.isFileEventDownloadedOrDeleted(e)&&this.statusCache.invalidate(u.CoreFilepool.getPackageId(e.component,e.componentId))}),p.CoreSites.getCurrentSiteId())}canModuleUseCheckUpdates(e,n){var r=this;return(0,o.A)((function*(){const o=r.getPrefetchHandlerFor(e.modname);return!!o&&(!o.canUseCheckUpdates||o.canUseCheckUpdates(e,n))}))()}clearStatusCache(){this.statusCache.clear()}createToCheckList(e,n){var r=this;return(0,o.A)((function*(){const i={toCheck:[],cannotUse:[]},s=e.map(function(){var e=(0,o.A)((function*(e){try{const o=yield r.getModuleDownloadTime(e);if(!o.downloadTime||o.outdated)return;(yield r.canModuleUseCheckUpdates(e,n))?i.toCheck.push({contextlevel:"module",id:e.id,since:o.downloadTime||0}):i.cannotUse.push(e)}catch{}}));return function(n){return e.apply(this,arguments)}}());return yield Promise.all(s),i.toCheck.sort(((e,n)=>e.id>=n.id?1:-1)),i}))()}determineModuleStatus(e,n){const r=this.getPrefetchHandlerFor(e.modname),o=p.CoreSites.getCurrentSiteId();if(!r)return n;if(n===b.DownloadStatus.DOWNLOADING)u.CoreFilepool.getPackageDownloadPromise(o,r.component,e.id)||r.prefetch(e,e.course);else if(r.determineStatus)return r.determineStatus(e,n,!0);return n}downloadModule(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getPrefetchHandlerFor(e.modname);o&&(yield i.syncModule(e,n),yield o.download(e,n,r))}))()}getCourseUpdates(e,n){var r=this;return(0,o.A)((function*(){const o=s.V.hashAsciiStr(`${n}#${JSON.stringify(e)}`),i=p.CoreSites.getCurrentSiteId();if(r.courseUpdatesPromises[i]&&void 0!==r.courseUpdatesPromises[i][o])return r.courseUpdatesPromises[i][o];r.courseUpdatesPromises[i]||(r.courseUpdatesPromises[i]={}),r.courseUpdatesPromises[i][o]=r.fetchCourseUpdates(e,n,i);try{return yield r.courseUpdatesPromises[i][o]}finally{delete r.courseUpdatesPromises[i][o]}}))()}fetchCourseUpdates(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.createToCheckList(e,n),s={};if(o.cannotUse.forEach((e=>{s[e.id]=!1})),!o.toCheck.length)return s;const a=yield p.CoreSites.getSite(r),c={courseid:n,tocheck:o.toCheck},u={cacheKey:i.getCourseUpdatesCacheKey(n),emergencyCache:!1,uniqueCacheKey:!0,splitRequest:{param:"tocheck",maxLength:10}};try{const e=yield a.read("core_course_check_updates",c,u),r={courseId:n,time:f.j.timestamp()};return P.g.ignoreErrors(a.getDb().insertRecord(I.O,r)),i.treatCheckUpdatesResult(o.toCheck,e,s)}catch(e){let r;try{r=yield a.getDb().getRecord(I.O,{courseId:n})}catch{return s}u.getCacheUsingCacheKey=!0,u.omitExpires=!0;const p=yield a.read("core_course_check_updates",c,u);return i.treatCheckUpdatesResult(o.toCheck,p,s,r.time)}}))()}getCourseUpdatesByCourseId(e){var n=this;return(0,o.A)((function*(){const r=yield v.CoreCourse.getSections(e,!1,!0,{omitExpires:!0});return n.getCourseUpdates(v.CoreCourse.getSectionsModules(r),e)}))()}getCourseUpdatesCacheKey(e){return`${CoreCourseModulePrefetchDelegateService.ROOT_CACHE_KEY}courseUpdates:${e}`}getDownloadSize(e,n){var r=this;return(0,o.A)((function*(){const i=yield r.getModulesStatus(e,n),s=i[b.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED].concat(i[b.DownloadStatus.OUTDATED]),a={size:0,total:!0};return yield Promise.all(s.map(function(){var e=(0,o.A)((function*(e){const o=yield r.getModuleDownloadSize(e,n);a.total=a.total&&o.total,a.size+=o.size}));return function(n){return e.apply(this,arguments)}}())),a}))()}getModuleDownloadSize(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getPrefetchHandlerFor(e.modname);if(!o)return{size:0,total:!1};if(!(yield i.isModuleDownloadable(e,n)))return{size:0,total:!0};const s=u.CoreFilepool.getPackageId(o.component,e.id),a=i.statusCache.getValue(s,"downloadSize");if(void 0!==a)return a;try{const a=yield o.getDownloadSize(e,n,r);return i.statusCache.setValue(s,"downloadSize",a)}catch(e){const n=i.statusCache.getValue(s,"downloadSize",!0);if(n)return n;throw e}}))()}getModuleDownloadedSize(e,n){var r=this;return(0,o.A)((function*(){const i=r.getPrefetchHandlerFor(e.modname);if(!i)return 0;if(!(yield r.isModuleDownloadable(e,n)))return 0;const s=u.CoreFilepool.getPackageId(i.component,e.id),f=r.statusCache.getValue(s,"downloadedSize");if(void 0!==f)return f;try{let f=0;if(i.getDownloadedSize)f=yield i.getDownloadedSize(e,n);else{const i=yield r.getModuleFiles(e,n),s=p.CoreSites.getCurrentSiteId();yield Promise.all(i.map(function(){var e=(0,o.A)((function*(e){const n=yield u.CoreFilepool.getFilePathByUrl(s,c.CoreFileHelper.getFileUrl(e));try{const e=yield a.CoreFile.getFileSize(n);f+=e}catch{(yield u.CoreFilepool.isFileDownloadingByUrl(s,c.CoreFileHelper.getFileUrl(e)))&&(f+=e.filesize||0)}}));return function(n){return e.apply(this,arguments)}}()))}return r.statusCache.setValue(s,"downloadedSize",f)}catch{return r.statusCache.getValue(s,"downloadedSize",!0)||0}}))()}getModuleStoredSize(e,n){var r=this;return(0,o.A)((function*(){try{const o=p.CoreSites.getCurrentSite(),i=r.getPrefetchHandlerFor(e.modname),[s,a]=yield Promise.all([r.getModuleDownloadedSize(e,n),i&&o?o.getComponentCacheSize(i.component,e.id):0]),c=a+s;return isNaN(c)?0:c}catch{return 0}}))()}getModuleFiles(e,n){var r=this;return(0,o.A)((function*(){const o=r.getPrefetchHandlerFor(e.modname);return null!=o&&o.getFiles?o.getFiles(e,n):null!=o&&o.loadContents?(yield o.loadContents(e,n),e.contents||[]):e.contents||[]}))()}getModuleStatus(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=a.getPrefetchHandlerFor(e.modname);if(!o)return b.DownloadStatus.NOT_DOWNLOADABLE;const c=u.CoreFilepool.getPackageId(o.component,e.id),p=a.statusCache.getValue(c,"status");if(!i&&void 0!==p)return a.storeCourseAndSection(c,n,s),a.determineModuleStatus(e,p);const f=yield a.calculateModuleStatus(o,e,n,r,s);return f.updateStatus&&a.updateStatusCache(f.status,o.component,e.id,n,s),a.determineModuleStatus(e,f.status)}))()}getDownloadedModuleStatus(e,n,r,i,s){var a=this;return(0,o.A)((function*(){var o;const c=a.getPrefetchHandlerFor(e.modname);if(!c)return null;const p=u.CoreFilepool.getPackageId(c.component,e.id),f=a.statusCache.getValue(p,"status");if(!i&&void 0!==f)return a.storeCourseAndSection(p,n,s),a.filterDownloadedStatus(a.determineModuleStatus(e,f));const g=yield a.calculateDownloadedModuleStatus(c,e,n,r,s);return g.updateStatus&&g.status&&a.updateStatusCache(g.status,c.component,e.id,n,s),a.filterDownloadedStatus(a.determineModuleStatus(e,null!==(o=g.status)&&void 0!==o?o:b.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED))}))()}calculateModuleStatus(e,n,r,i,s){var a=this;return(0,o.A)((function*(){var o;if(!(yield a.isModuleDownloadable(n,r)))return{status:b.DownloadStatus.NOT_DOWNLOADABLE,updateStatus:!0};const c=yield a.calculateDownloadedModuleStatus(e,n,r,i,s);return{status:null!==(o=c.status)&&void 0!==o?o:b.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,updateStatus:c.updateStatus}}))()}calculateDownloadedModuleStatus(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=p.CoreSites.getCurrentSiteId(),c=yield u.CoreFilepool.getPackageStatus(o,e.component,n.id);let f=e.determineStatus?e.determineStatus(n,c,!0):c;if(f!==b.DownloadStatus.DOWNLOADED||!1===i)return{status:a.filterDownloadedStatus(f),updateStatus:!0};if(void 0===i)try{i=yield a.getCourseUpdatesByCourseId(r)}catch{const o=u.CoreFilepool.getPackageId(e.component,n.id);return a.storeCourseAndSection(o,r,s),{status:a.filterDownloadedStatus(c),updateStatus:!1}}if(!i||!1===i[n.id])return{status:b.DownloadStatus.OUTDATED,updateStatus:!0};try{return(yield a.moduleHasUpdates(n,r,i))?(f=b.DownloadStatus.OUTDATED,yield P.g.ignoreErrors(u.CoreFilepool.storePackageStatus(o,f,e.component,n.id)),{status:f,updateStatus:!0}):{status:f,updateStatus:!0}}catch{const r=u.CoreFilepool.getPackageId(e.component,n.id),o=a.statusCache.getValue(r,"status",!0);return{status:o?a.filterDownloadedStatus(o):null,updateStatus:!0}}}))()}filterDownloadedStatus(e){return e===b.DownloadStatus.NOT_DOWNLOADABLE||e===b.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED?null:e}getModulesStatus(e,n,r,i,s,a=!0){var c=this;return(0,o.A)((function*(){let r=!1;const s={total:0,status:b.DownloadStatus.NOT_DOWNLOADABLE,[b.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED]:[],[b.DownloadStatus.DOWNLOADED]:[],[b.DownloadStatus.DOWNLOADING]:[],[b.DownloadStatus.OUTDATED]:[]};if(a)try{r=yield c.getCourseUpdatesByCourseId(n)}catch{}return yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){const o=c.getPrefetchHandlerFor(e.modname);if(o)try{const o=yield c.getModuleStatus(e,n,r,i);if(!s[o])return;s.status=u.CoreFilepool.determinePackagesStatus(s.status,o),s[o].push(e),s.total++}catch(n){const r=u.CoreFilepool.getPackageId(o.component,e.id),i=c.statusCache.getValue(r,"status",!0);if(void 0===i)throw n;if(!s[i])return;s.status=u.CoreFilepool.determinePackagesStatus(s.status,i),s[i].push(e),s.total++}}));return function(n){return e.apply(this,arguments)}}())),s}))()}getModuleDownloadTime(e){var n=this;return(0,o.A)((function*(){const r=n.getPrefetchHandlerFor(e.modname),o=p.CoreSites.getCurrentSiteId();if(!r)return{};const i=u.CoreFilepool.getPackageId(r.component,e.id),s=n.statusCache.getValue(i,"status");if(void 0!==s&&!c.CoreFileHelper.isStateDownloaded(s))return{};try{const n=yield u.CoreFilepool.getPackageData(o,r.component,e.id);return{downloadTime:n.downloadTime,outdated:n.status===b.DownloadStatus.OUTDATED}}catch{return{}}}))()}getModuleUpdates(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(i),a=yield s.getModuleDownloadTime(e);if(!a.downloadTime)return null;if(!(yield s.canModuleUseCheckUpdates(e,n)))return null;const c={courseid:n,tocheck:[{contextlevel:"module",id:e.id,since:a.downloadTime||0}]},u={cacheKey:s.getModuleUpdatesCacheKey(n,e.id)};r&&(u.getFromCache=!1,u.emergencyCache=!1);const f=yield o.read("core_course_check_updates",c,u);if(!f.instances[0])throw new E.CoreError("Could not get module updates.");return f.instances[0]}))()}getModuleUpdatesCacheKey(e,n){return`${this.getCourseUpdatesCacheKey(e)}:${n}`}getPrefetchHandlerFor(e){return this.getHandler(e,!0)}invalidateCourseUpdates(e){var n=this;return(0,o.A)((function*(){const r=p.CoreSites.getCurrentSite();r&&(yield r.invalidateWsCacheForKey(n.getCourseUpdatesCacheKey(e)))}))()}invalidateModules(e,n){var r=this;return(0,o.A)((function*(){const i=e.map(function(){var e=(0,o.A)((function*(e){const o=r.getPrefetchHandlerFor(e.modname);o&&(o.invalidateModule&&(yield P.g.ignoreErrors(o.invalidateModule(e,n))),r.invalidateModuleStatusCache(e))}));return function(n){return e.apply(this,arguments)}}());i.push(r.invalidateCourseUpdates(n)),yield Promise.all(i)}))()}invalidateModuleStatusCache(e){const n=this.getPrefetchHandlerFor(e.modname);n&&this.statusCache.invalidate(u.CoreFilepool.getPackageId(n.component,e.id))}invalidateModuleUpdates(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield p.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(i.getModuleUpdatesCacheKey(e,n))}))()}isBeingDownloaded(e){var n;const r=p.CoreSites.getCurrentSiteId();return!(null===(n=this.prefetchData[r])||void 0===n||!n[e])}isModuleDownloadable(e,n){var r=this;return(0,o.A)((function*(){if("uservisible"in e&&!T.CoreCourseHelper.canUserViewModule(e))return!1;const o=r.getPrefetchHandlerFor(e.modname);if(!o)return!1;if(!o.isDownloadable)return!0;const i=u.CoreFilepool.getPackageId(o.component,e.id);let s=r.statusCache.getValue(i,"downloadable");if(void 0!==s)return s;try{return s=yield o.isDownloadable(e,n),r.statusCache.setValue(i,"downloadable",s)}catch{return!1}}))()}moduleHasUpdates(e,n,r){var i=this;return(0,o.A)((function*(){var o;const s=i.getPrefetchHandlerFor(e.modname),a=r[e.id];if(null!=s&&s.hasUpdates)return s.hasUpdates(e,n,a);if(!(a&&a.updates&&a.updates.length))return!1;if(null!=s&&null!==(o=s.updatesNames)&&void 0!==o&&o.test){for(let e=0,n=a.updates.length;e<n;e++)if(s.updatesNames.test(a.updates[e].name))return!0;return!1}return!0}))()}prefetchModule(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getPrefetchHandlerFor(e.modname);o&&(yield i.syncModule(e,n),yield o.prefetch(e,n,r))}))()}syncModules(e,n){var r=this;return(0,o.A)((function*(){try{yield Promise.all(e.map((e=>r.syncModule(e,n))))}finally{yield P.g.ignoreErrors(r.invalidateCourseUpdates(n))}}))()}syncModule(e,n){var r=this;return(0,o.A)((function*(){const o=r.getPrefetchHandlerFor(e.modname);if(null==o||!o.sync)return;const i=yield P.g.ignoreErrors(o.sync(e,n));return r.invalidateModuleStatusCache(e),i}))()}prefetchModules(e,n,r,s){var a=this;return(0,o.A)((function*(){var c;const u=p.CoreSites.getCurrentSiteId(),f=null===(c=a.prefetchData[u])||void 0===c?void 0:c[e];if(f)return s&&f.subscriptions.push(f.observable.subscribe(s)),f.promise;let g=0;const v=n.length,C=n.map((e=>e.id)),b={observable:new i.t({count:g,total:v}),promise:Promise.resolve(),subscriptions:[]};s&&b.observable.subscribe(s);const w=n.map(function(){var e=(0,o.A)((function*(e){const n=a.getPrefetchHandlerFor(e.modname);if(!n)return;if(!(yield a.isModuleDownloadable(e,r)))return;yield n.prefetch(e,r);const o=C.indexOf(e.id);o>-1&&(C.splice(o,1),g++,b.observable.next({count:g,total:v}))}));return function(n){return e.apply(this,arguments)}}());b.promise=P.g.allPromises(w),a.prefetchData[u]=a.prefetchData[u]||{},a.prefetchData[u][e]=b;try{yield b.promise}finally{b.subscriptions.forEach((e=>{e.unsubscribe()})),delete a.prefetchData[u][e]}}))()}removeModuleFiles(e,n){var r=this;return(0,o.A)((function*(){const i=r.getPrefetchHandlerFor(e.modname),s=p.CoreSites.getCurrentSiteId();if(null!=i&&i.removeFiles)yield i.removeFiles(e,n);else{const i=yield r.getModuleFiles(e,n);yield Promise.all(i.map(function(){var e=(0,o.A)((function*(e){yield P.g.ignoreErrors(u.CoreFilepool.removeFileByUrl(s,c.CoreFileHelper.getFileUrl(e)))}));return function(n){return e.apply(this,arguments)}}()))}if(!i)return;const a=u.CoreFilepool.getPackageId(i.component,e.id);r.statusCache.setValue(a,"downloadedSize",0);(yield r.isModuleDownloadable(e,n))&&(yield u.CoreFilepool.storePackageStatus(s,b.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,i.component,e.id))}))()}setOnProgress(e,n){var r;const o=null===(r=this.prefetchData[p.CoreSites.getCurrentSiteId()])||void 0===r?void 0:r[e];o&&o.subscriptions.push(o.observable.subscribe(n))}storeCourseAndSection(e,n,r){n&&this.statusCache.setValue(e,"courseId",n),r&&r>0&&this.statusCache.setValue(e,"sectionId",r)}treatCheckUpdatesResult(e,n,r,o){var i;return g.R.toObject(n.instances,"id",r),null===(i=n.warnings)||void 0===i||i.forEach((e=>{"missingcallback"==e.warningcode&&(r[e.itemid||-1]=!1)})),o&&e.forEach((e=>{r[e.id]&&e.since>o&&delete r[e.id]})),r}updateStatusCache(e,n,r,o,i){const s=u.CoreFilepool.getPackageId(n,r),a=this.statusCache.getValue(s,"status",!0);if(this.storeCourseAndSection(s,o,i),void 0===a||a===e)return this.statusCache.setValue(s,"status",e),void 0;if(o=o||this.statusCache.getValue(s,"courseId",!0),i=i||this.statusCache.getValue(s,"sectionId",!0),this.statusCache.invalidate(s),this.statusCache.setValue(s,"status",e),o&&i){_.z.trigger(_.z.SECTION_STATUS_CHANGED,{sectionId:i,courseId:o},p.CoreSites.getCurrentSiteId())}}}return(e=CoreCourseModulePrefetchDelegateService).ROOT_CACHE_KEY="mmCourse:",e.ɵfac=function CoreCourseModulePrefetchDelegateService_Factory(n){return new(n||e)},e.ɵprov=x.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseModulePrefetchDelegateService})();const R=(0,A.Qd)(F)},25044:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourseSync:()=>T,CoreCourseSyncProvider:()=>I});var o=r(10467),i=r(42008),s=r(52749),a=r(94455),c=r(43411),u=r(49588),p=r(65324),f=r(44682),g=r(97254),v=r(49446),C=r(79555),b=r(49882),w=r(66110),A=r(86123),_=r(55554),E=r(54438);let I=(()=>{var e;class CoreCourseSyncProvider extends i.l{constructor(){super("CoreCourseSyncProvider")}syncAllCourses(e,n){return this.syncOnSites("courses",(e=>this.syncAllCoursesFunc(!!n,e)),e)}syncAllCoursesFunc(e,n){var r=this;return(0,o.A)((function*(){yield Promise.all([g.CoreCourseLogHelper.syncSite(n),r.syncCoursesCompletion(n,e)])}))()}syncCoursesCompletion(e,n){var r=this;return(0,o.A)((function*(){const i=yield p.CoreCourseOffline.getAllManualCompletions(e),s={};yield Promise.all(i.map(function(){var i=(0,o.A)((function*(o){if(void 0===s[o.courseid]){const n=yield _.g.ignoreErrors(w.CoreCourses.getUserCourse(o.courseid,!0,e));s[o.courseid]=(null==n?void 0:n.displayname)||(null==n?void 0:n.fullname)}const i=yield n?r.syncCourse(o.courseid,s[o.courseid],e):r.syncCourseIfNeeded(o.courseid,s[o.courseid],e);i&&i.updated&&b.z.trigger(A.CORE_COURSE_AUTO_SYNCED,{courseId:o.courseid,warnings:i.warnings},e)}));return function(e){return i.apply(this,arguments)}}()))}))()}syncCourseIfNeeded(e,n,r){return this.syncCourse(e,n,r)}syncCourse(e,n,r){var i=this;return(0,o.A)((function*(){r=r||s.CoreSites.getCurrentSiteId();const o=i.getOngoingSync(e,r);return o||(i.logger.debug(`Try to sync course '${e}'`),i.addOngoingSync(e,i.syncCourseCompletion(e,n,r),r))}))()}syncCourseCompletion(e,n,r){var i=this;return(0,o.A)((function*(){const g={warnings:[],updated:!1},b=yield _.g.ignoreErrors(p.CoreCourseOffline.getCourseManualCompletions(e,r),[]);if(!b||!b.length)return yield i.setSyncTime(e,r),g;if(!a.WE.isOnline())throw new v.CoreNetworkError;const w=yield f.CoreCourse.getActivitiesCompletionStatus(e,r,void 0,!1,!0,!1);if(yield Promise.all(b.map(function(){var i=(0,o.A)((function*(o){const i=w[o.cmid];if(i&&1e3*i.timecompleted>o.timecompleted)return yield p.CoreCourseOffline.deleteManualCompletion(o.cmid,r),i.state!=o.completed&&g.warnings.push({warningcode:"apperror",message:C.HT.instant("core.course.warningofflinemanualcompletiondeleted",{name:n||e,error:C.HT.instant("core.course.warningmanualcompletionmodified")})}),void 0;try{yield f.CoreCourse.markCompletedManuallyOnline(o.cmid,!!o.completed,r),g.updated=!0,yield p.CoreCourseOffline.deleteManualCompletion(o.cmid,r)}catch(i){if(!c.CoreWSError.isWebServiceError(i))throw i;g.updated=!0,yield p.CoreCourseOffline.deleteManualCompletion(o.cmid,r),g.warnings.push({warningcode:"apperror",message:C.HT.instant("core.course.warningofflinemanualcompletiondeleted",{name:n||e,error:u.CoreErrorHelper.getErrorMessageFromError(i)})})}}));return function(e){return i.apply(this,arguments)}}())),g.updated)try{yield f.CoreCourse.invalidateSections(e,r);const n=s.CoreSites.getCurrentSite();null!=n&&n.isVersionGreaterEqualThan("3.6")?yield f.CoreCourse.getSections(e,!1,!0,void 0,r):yield f.CoreCourse.getActivitiesCompletionStatus(e,r)}catch{}return yield i.setSyncTime(e,r),g}))()}}return(e=CoreCourseSyncProvider).ɵfac=function CoreCourseSyncProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCourseSyncProvider})();const T=(0,C.Qd)(I)},9538:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CORE_COURSES_DASHBOARD_DOWNLOAD_ENABLED_CHANGED_EVENT:()=>p,CORE_COURSES_DASHBOARD_PAGE_NAME:()=>s,CORE_COURSES_DOWNLOAD_FEATURE_NAME:()=>g,CORE_COURSES_ENROL_INVALID_KEY:()=>o,CORE_COURSES_MYCOURSES_MENU_FEATURE_NAME:()=>v,CORE_COURSES_MYCOURSES_PAGE_NAME:()=>a,CORE_COURSES_MY_COURSES_CHANGED_EVENT:()=>i,CORE_COURSES_MY_COURSES_REFRESHED_EVENT:()=>u,CORE_COURSES_MY_COURSES_UPDATED_EVENT:()=>c,CORE_COURSES_SEARCH_FEATURE_NAME:()=>C,CORE_COURSES_STATE_FAVOURITE:()=>A,CORE_COURSES_STATE_HIDDEN:()=>w,CORE_COURSE_DOWNLOAD_FEATURE_NAME:()=>f,CoreCoursesMyCoursesUpdatedEventAction:()=>b});const o="CoreCoursesEnrolInvalidKey",i="courses_my_courses_changed",s="dashboard",a="courses",c="courses_my_courses_updated",u="courses_my_courses_refreshed",p="dashboard_download_enabled_changed",f="NoDelegate_CoreCourseDownload",g="NoDelegate_CoreCoursesDownload",v="CoreMainMenuDelegate_CoreCourses",C="CoreCourseOptionsDelegate_search",b={ENROL:"enrol",STATE_CHANGED:"state_changed",VIEW:"view"},w="hidden",A="favourite"},41580:(e,n,r)=>{"use strict";r.d(n,{Wu:()=>de,M0:()=>getCoursesExportedDirectives,Mn:()=>getCoursesExportedObjects,$u:()=>getCoursesServices});var o=r(10467),i=r(54438),s=r(33504),a=r(94247),c=r(16844),u=r(42858),p=r(69984),f=r(17847),g=r(95376),v=r(71758),C=r(67935),b=r(79555),w=r(52749),A=r(33014),_=r(71112),E=r(66110),I=r(55554),T=r(15324),P=r(44682);class CoreCoursesLinksHandlerBase extends _.CoreContentLinksHandlerBase{getCourseActions(e,n,r={}){var i,s=this;return[{action:(i=(0,o.A)((function*(o){if((o=o||w.CoreSites.getCurrentSiteId())===w.CoreSites.getCurrentSiteId())return P.CoreCourse.currentViewIsCourse(n)?(P.CoreCourse.selectCourseTab("",r),void 0):(yield I.g.ignoreErrors(s.actionOpen(n,e,r)),void 0);yield a.CoreCourseHelper.getAndOpenCourse(n,r,o)})),function action(e){return i.apply(this,arguments)})}]}actionOpen(e,n,r){var i=this;return(0,o.A)((function*(){if(!!n.match(/(\/enrol\/index\.php)|(\/course\/enrol\.php)/))return i.navigateCourseSummary(e,r),void 0;const o=yield A.CoreLoadings.show(),s=yield a.CoreCourseHelper.userHasAccessToCourse(e),c=yield a.CoreCourseHelper.courseUsesGuestAccessInfo(e);if(r.isGuest=c.guestAccess,!s||c.guestAccess||c.requiresUserInput)i.navigateCourseSummary(e,r);else{const n=yield I.g.ignoreErrors(E.CoreCourses.getUserCourse(e),{id:e});a.CoreCourseHelper.openCourse(n,{params:r})}o.dismiss()}))()}navigateCourseSummary(e,n){T.CoreNavigator.navigateToSitePath(`/course/${e}/summary`,{params:n})}}let k=(()=>{var e;class CoreCoursesCourseLinkHandlerService extends CoreCoursesLinksHandlerBase{constructor(){super(...arguments),this.name="CoreCoursesCourseLinkHandler",this.pattern=/((\/enrol\/index\.php)|(\/course\/enrol\.php)|(\/course\/view\.php)).*([?&]id=\d+)/}getActions(e,n,r){const o=parseInt(r.id,10),i=r.sectionid?parseInt(r.sectionid,10):void 0,s={sectionId:i||void 0};let a=void 0!==r.section?parseInt(r.section,10):NaN;if(!i&&!a){const e=n.match(/#section-(\d+)/);e&&e[1]&&(a=parseInt(e[1],10))}if(isNaN(a)){const e=n.match(/#inst(\d+)/);e&&e[1]&&(s.blockInstanceId=parseInt(e[1],10))}else s.sectionNumber=a;return this.getCourseActions(n,o,s)}isEnabled(e,n,r){return(0,o.A)((function*(){const n=parseInt(r.id,10);return!!n&&w.CoreSites.getSiteHomeId(e).then((e=>n!=e))}))()}}return(e=CoreCoursesCourseLinkHandlerService).ɵfac=(()=>{let n;return function CoreCoursesCourseLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesCourseLinkHandlerService})();const x=(0,b.Qd)(k);var F=r(9538);let R=(()=>{var e;class CoreCoursesIndexLinkHandlerService extends _.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreCoursesIndexLinkHandler",this.featureName="CoreMainMenuDelegate_CoreCourses",this.pattern=/\/course\/?(index\.php.*)?$/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){let n=F.CORE_COURSES_MYCOURSES_PAGE_NAME;const o={};r.categoryid?n+=`/categories/${r.categoryid}`:(n+="/list",o.mode="all"),yield T.CoreNavigator.navigateToSitePath(n,{params:o,siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}}return(e=CoreCoursesIndexLinkHandlerService).ɵfac=(()=>{let n;return function CoreCoursesIndexLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesIndexLinkHandlerService})();const N=(0,b.Qd)(R);var L=r(63114),H=r(6787),U=r(50572);let B=(()=>{var e;class CoreDashboardHomeHandlerService{constructor(){this.name="CoreCoursesDashboard",this.priority=1200,this.logger=H.CoreLogger.getInstance("CoreDashboardHomeHandlerService")}isEnabled(){return this.isEnabledForSite()}isEnabledForSite(e){var n=this;return(0,o.A)((function*(){const r=yield w.CoreSites.getSite(e),[o,i,s,a]=yield Promise.all([L.CoreBlockDelegate.areBlocksDisabled(r.getId()),U.CoreCoursesDashboard.isDisabled(r.getId()),U.CoreCoursesDashboard.isAvailable(r.getId()),I.g.ignoreErrors(r.getConfig("enabledashboard"),"1")]),c=!i&&"0"!==a;if(s&&c&&!o)try{const n=yield U.CoreCoursesDashboard.getDashboardBlocks(void 0,e);return L.CoreBlockDelegate.hasSupportedBlock(n.mainBlocks)||L.CoreBlockDelegate.hasSupportedBlock(n.sideBlocks)}catch(e){return n.logger.error("Error getting Dashboard blocks",e),!0}return c&&!o}))()}getDisplayData(){return{title:"core.courses.mymoodle",page:F.CORE_COURSES_DASHBOARD_PAGE_NAME,class:"core-courses-dashboard-handler",icon:"fas-gauge-high"}}}return(e=CoreDashboardHomeHandlerService).ɵfac=function CoreDashboardHomeHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreDashboardHomeHandlerService})();const j=(0,b.Qd)(B);var V=r(36684);let G=(()=>{var e;class CoreCoursesDashboardLinkHandlerService extends _.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreCoursesDashboardLinkHandler",this.pattern=/\/my\/?$/}getActions(){return[{action:(e=(0,o.A)((function*(e){yield T.CoreNavigator.navigateToSitePath(`/${V.MAIN_MENU_HOME_PAGE_NAME}/${F.CORE_COURSES_DASHBOARD_PAGE_NAME}`,{siteId:e,preferCurrentTab:!1})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(e){return(0,o.A)((function*(){return j.isEnabledForSite(e)}))()}}return(e=CoreCoursesDashboardLinkHandlerService).ɵfac=(()=>{let n;return function CoreCoursesDashboardLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesDashboardLinkHandlerService})();const z=(0,b.Qd)(G);var q=r(81690),W=r(25572);let K=(()=>{var e;class CoreCoursesEnrolPushClickHandlerService{constructor(){this.name="CoreCoursesEnrolPushClickHandler",this.priority=200}handles(e){return(0,o.A)((function*(){var n;return q.j.isTrueOrOne(e.notif)&&0===(null===(n=e.moodlecomponent)||void 0===n?void 0:n.indexOf("enrol_"))&&"expiry_notification"==e.name}))()}handleClick(e){return(0,o.A)((function*(){const n=e.courseid,r=yield A.CoreLoadings.show();try{var o;const r=yield a.CoreCourseHelper.getCourse(n,e.site),i={course:r.course};let s=`course/${n}`;-1!=(null===(o=e.contexturl)||void 0===o?void 0:o.indexOf("user/index.php"))?i.selectedTab="participants":r.enrolled||(s+="/summary"),yield T.CoreNavigator.navigateToSitePath(s,{params:i,siteId:e.site})}catch(e){W.CoreAlerts.showError(e,{default:"Error getting course."})}finally{r.dismiss()}}))()}}return(e=CoreCoursesEnrolPushClickHandlerService).ɵfac=function CoreCoursesEnrolPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesEnrolPushClickHandlerService})();const Q=(0,b.Qd)(K);var X=r(50552),Y=r(55468);let J=(()=>{var e;class CoreCoursesMyCoursesMainMenuHandlerService{constructor(){this.name="CoreCoursesMyCourses",this.priority=900}isEnabled(){return(0,o.A)((function*(){const e=w.CoreSites.getRequiredCurrentSite();if(E.CoreCourses.isMyCoursesDisabledInSite(e))return!1;const n=e.getId();if(e.isVersionGreaterEqualThan("4.0")){const e=yield U.CoreCoursesDashboard.getDashboardBlocks(void 0,n,"__courses");return L.CoreBlockDelegate.hasSupportedBlock(e.mainBlocks)||L.CoreBlockDelegate.hasSupportedBlock(e.sideBlocks)}const r=yield j.isEnabledForSite(n),o=yield Y.$.isEnabledForSite(n);return!r&&!o}))()}getDisplayData(){var e;const n=null===(e=w.CoreSites.getCurrentSite())||void 0===e||null===(e=e.getInfo())||void 0===e?void 0:e.userhomepage;return{title:"core.courses.mycourses",page:F.CORE_COURSES_MYCOURSES_PAGE_NAME,class:"core-courses-my-courses-handler",icon:"fas-graduation-cap",priority:n===X.YG.HOMEPAGE_MYCOURSES||n===X.YG.HOMEPAGE_URL?this.priority+200:this.priority}}}return(e=CoreCoursesMyCoursesMainMenuHandlerService).ɵfac=function CoreCoursesMyCoursesMainMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesMyCoursesMainMenuHandlerService})();const Z=(0,b.Qd)(J);var ee=r(8756);let te=(()=>{var e;class CoreCoursesRequestPushClickHandlerService{constructor(){this.name="CoreCoursesRequestPushClickHandler",this.priority=200}handles(e){return(0,o.A)((function*(){return q.j.isTrueOrOne(e.notif)&&"moodle"==e.moodlecomponent&&("courserequested"==e.name||"courserequestapproved"==e.name)}))()}handleClick(e){return(0,o.A)((function*(){const n=e.courseid;if("courserequested"==e.name){const n=yield w.CoreSites.getSite(e.site),r=ee.$.concatenatePaths(n.getURL(),"course/pending.php");return yield n.openInBrowserWithAutoLogin(r),void 0}const r=yield A.CoreLoadings.show();yield I.g.ignoreErrors(E.CoreCourses.invalidateUserCourses(e.site));try{const r=yield a.CoreCourseHelper.getCourse(n,e.site),o={course:r.course};let i=`course/${n}`;r.enrolled||(i+="/summary"),yield T.CoreNavigator.navigateToSitePath(i,{params:o,siteId:e.site})}catch(e){W.CoreAlerts.showError(e,{default:"Error getting course."})}finally{r.dismiss()}}))()}}return(e=CoreCoursesRequestPushClickHandlerService).ɵfac=function CoreCoursesRequestPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesRequestPushClickHandlerService})();const ne=(0,b.Qd)(te);let re=(()=>{var e;class CoreCoursesMyCoursesLinkHandlerService extends _.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreCoursesMyCoursesLinkHandler",this.pattern=/\/my\/courses\.php/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(){yield T.CoreNavigator.navigate("/main/courses/my",{params:{sort:r.sort||void 0,filter:r.filter||void 0,search:r.search||void 0,layout:r.layout||void 0}})})),function action(){return i.apply(this,arguments)})}];var i}}return(e=CoreCoursesMyCoursesLinkHandlerService).ɵfac=(()=>{let n;return function CoreCoursesMyCoursesLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesMyCoursesLinkHandlerService})();const oe=(0,b.Qd)(re);let ie=(()=>{var e;class CoreCoursesSectionLinkHandlerService extends CoreCoursesLinksHandlerBase{constructor(){super(),this.name="CoreCoursesSectionLinkHandler",this.pattern=/\/course\/section\.php.*([?&]id=\d+)/,this.logger=H.CoreLogger.getInstance("CoreCoursesSectionLinkHandler")}getActions(e,n,r){var i=this;return(0,o.A)((function*(){var o;const s=null!==(o=e[0])&&void 0!==o&&o,a=!!r.id&&Number(r.id),c=yield w.CoreSites.getSiteHomeId(s),u=yield i.getSectionCourse(a,s);return a&&u&&u.id!==c?i.getCourseActions(n,u.id,{sectionId:a}):[]}))()}getSectionCourse(e,n){return(0,o.A)((function*(){var r;if(!n||!e)return null;if((yield w.CoreSites.getSite(n)).isVersionGreaterEqualThan("4.5"))try{return E.CoreCourses.getCourseByField("sectionid",e,n)}catch{}const o=null!==(r=yield I.g.ignoreErrors(E.CoreCourses.getUserCourses(!0,n,0)))&&void 0!==r?r:[];for(const n of o){const r=yield I.g.ignoreErrors(P.CoreCourse.getSections(n.id,!0,!0,{...w.CoreSites.getReadingStrategyPreSets(0),getCacheUsingCacheKey:!0}));if(null==r?void 0:r.find((n=>n.id===e)))return n}return null}))()}}return(e=CoreCoursesSectionLinkHandlerService).ɵfac=function CoreCoursesSectionLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesSectionLinkHandlerService})();const se=(0,b.Qd)(ie);function getCoursesServices(){return _getCoursesServices.apply(this,arguments)}function _getCoursesServices(){return(_getCoursesServices=(0,o.A)((function*(){const{CoreCoursesProvider:e}=yield Promise.resolve().then(r.bind(r,66110)),{CoreCoursesDashboardProvider:n}=yield Promise.resolve().then(r.bind(r,50572)),{CoreCoursesHelperProvider:o}=yield Promise.resolve().then(r.bind(r,83219));return[e,n,o]}))).apply(this,arguments)}function getCoursesExportedObjects(){return _getCoursesExportedObjects.apply(this,arguments)}function _getCoursesExportedObjects(){return(_getCoursesExportedObjects=(0,o.A)((function*(){const{CORE_COURSES_ENROL_INVALID_KEY:e,CORE_COURSES_MY_COURSES_CHANGED_EVENT:n,CORE_COURSES_MY_COURSES_UPDATED_EVENT:o,CORE_COURSES_MY_COURSES_REFRESHED_EVENT:i,CORE_COURSES_DASHBOARD_DOWNLOAD_ENABLED_CHANGED_EVENT:s,CoreCoursesMyCoursesUpdatedEventAction:a,CORE_COURSES_STATE_HIDDEN:c,CORE_COURSES_STATE_FAVOURITE:u}=yield Promise.resolve().then(r.bind(r,9538));return{CORE_COURSES_ENROL_INVALID_KEY:e,CORE_COURSES_MY_COURSES_CHANGED_EVENT:n,CORE_COURSES_MY_COURSES_UPDATED_EVENT:o,CORE_COURSES_MY_COURSES_REFRESHED_EVENT:i,CORE_COURSES_DASHBOARD_DOWNLOAD_ENABLED_CHANGED_EVENT:s,CoreCoursesMyCoursesUpdatedEventAction:a,CORE_COURSES_STATE_HIDDEN:c,CORE_COURSES_STATE_FAVOURITE:u}}))).apply(this,arguments)}function getCoursesExportedDirectives(){return _getCoursesExportedDirectives.apply(this,arguments)}function _getCoursesExportedDirectives(){return(_getCoursesExportedDirectives=(0,o.A)((function*(){const{CoreCoursesCourseListItemComponent:e}=yield r.e(16449).then(r.bind(r,16449));return[e]}))).apply(this,arguments)}const ae=[{path:F.CORE_COURSES_DASHBOARD_PAGE_NAME,loadComponent:()=>Promise.all([r.e(72076),r.e(75959)]).then(r.bind(r,75959))}],le=[{path:F.CORE_COURSES_MYCOURSES_PAGE_NAME,loadChildren:()=>r.e(73556).then(r.bind(r,73556))}];let de=(()=>{var e;class CoreCoursesModule{}return(e=CoreCoursesModule).ɵfac=function CoreCoursesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{f.CoreMainMenuHomeDelegate.registerHandler(j.instance),g.CoreMainMenuDelegate.registerHandler(Z.instance),s.CoreContentLinksDelegate.registerHandler(x.instance),s.CoreContentLinksDelegate.registerHandler(N.instance),s.CoreContentLinksDelegate.registerHandler(oe.instance),s.CoreContentLinksDelegate.registerHandler(z.instance),s.CoreContentLinksDelegate.registerHandler(se.instance),v.CorePushNotificationsDelegate.registerClickHandler(Q.instance),v.CorePushNotificationsDelegate.registerClickHandler(ne.instance),C.CoreLocalNotifications.registerClick("course",function(){var e=(0,o.A)((function*(e){yield b.b0.donePromise,a.CoreCourseHelper.getAndOpenCourse(e.instanceId,{},e.siteId)}));return function(n){return e.apply(this,arguments)}}())}}],imports:[p.X.forChild({children:ae}),c.I.forChild({children:le}),u.b.forChild(le)]}),CoreCoursesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(de,{imports:[p.X,c.I,u.b]}))},83219:(e,n,r)=>{"use strict";r.r(n),r.d(n,{ALL_COURSES_ID:()=>E,CoreCoursesHelper:()=>T,CoreCoursesHelperProvider:()=>I});var o=r(10467),i=r(24502),s=r(52749),a=r(66110),c=r(79555),u=r(12808),p=r(94339),f=r(54843),g=r(7673),v=r(83749),C=r(96354),b=r(99437),w=r(68467),A=r(75383),_=r(54438);const E=-1;let I=(()=>{var e;class CoreCoursesHelperProvider{constructor(){this.courseSiteColors={}}getCoursesForPopover(e){return(0,o.A)((function*(){const n=yield a.CoreCourses.getUserCourses(!1);let r;if(n.unshift({id:E,fullname:c.HT.instant("core.fulllistofcourses"),shortname:c.HT.instant("core.fulllistofcourses"),categoryid:-1,summary:"",summaryformat:A.C9}),e){const o=n.find((n=>n.id===e));r=null==o?void 0:o.categoryid}return{courses:n,categoryId:r}}))()}loadCourseExtraInfo(e,n,r=!1){n?(e.displayname=n.displayname,e.categoryname=r?n.categoryname:void 0,e.overviewfiles=e.overviewfiles||n.overviewfiles):delete e.displayname}loadCoursesColorAndImage(e){var n=this;return(0,o.A)((function*(){yield Promise.all(e.map((e=>n.loadCourseColorAndImage(e))))}))()}loadCoursesExtraInfo(e,n=!1){var r=this;return(0,o.A)((function*(){return yield(0,f._)(r.loadCoursesExtraInfoObservable(e,n))}))()}loadCoursesExtraInfoObservable(e,n=!1,r={}){if(!e.length)return(0,g.of)([]);if(!n&&(void 0!==e[0].overviewfiles||void 0!==e[0].displayname))return(0,g.of)(e);const o=e.map((e=>e.id)).join(",");return a.CoreCourses.getCoursesByFieldObservable("ids",o,r).pipe((0,C.T)((r=>{const o=i.R.toObject(r,"id");return e.forEach((e=>{this.loadCourseExtraInfo(e,o[e.id],n)})),e})))}loadCourseSiteColors(){var e=this;return(0,o.A)((function*(){const n=s.CoreSites.getRequiredCurrentSite(),r=n.getId();if(void 0!==e.courseSiteColors[r])return e.courseSiteColors[r];if(!n.isVersionGreaterEqualThan("3.8"))return e.courseSiteColors[r]=[],[];const o=[];try{const i=yield n.getConfig();for(let e=0;e<10;e++)o[e]=i[`core_admin_coursecolor${e+1}`]||void 0;e.courseSiteColors[r]=o}catch{}return o}))()}loadCourseColorAndImage(e){var n=this;return(0,o.A)((function*(){var r;if(null!==(r=e.courseimage)&&void 0!==r&&r.startsWith("data")&&(e.courseimage=void 0),void 0!==e.courseimage)return e.courseImage=e.courseimage,void 0;if(e.overviewfiles&&e.overviewfiles[0])return e.courseimage=e.overviewfiles[0].fileurl,e.courseImage=e.courseimage,void 0;const o=yield n.loadCourseSiteColors();e.colorNumber=e.id%10,e.color=o.length?o[e.colorNumber]:void 0}))()}getUserCoursesWithOptions(e="fullname",n=0,r,i=!1,s={}){var a=this;return(0,o.A)((function*(){return yield(0,f._)(a.getUserCoursesWithOptionsObservable({sort:e,slice:n,filter:r,loadCategoryNames:i,...s}))}))()}getUserCoursesWithOptionsObservable(e={}){return a.CoreCourses.getUserCoursesObservable(e).pipe((0,w.E)(e.readingStrategy,((n,r)=>{if(n.length<=0)return(0,g.of)([]);const o=n.map((e=>e.id)),i={...e,readingStrategy:r};return n=this.filterAndSortCoursesWithOptions(n,e),(0,v.wx)(this.loadCoursesExtraInfoObservable(n,e.loadCategoryNames,i),a.CoreCourses.getCoursesAdminAndNavOptionsObservable(o,i).pipe((0,C.T)((e=>{n.forEach((n=>{n.navOptions=e.navOptions[n.id],n.admOptions=e.admOptions[n.id]}))}))),...n.map((e=>this.loadCourseCompletedStatus(e,i)))).pipe((0,C.T)((()=>n)))})))}filterAndSortCoursesWithOptions(e,n={}){var r,o;const i=null!==(r=n.sort)&&void 0!==r?r:"fullname",s=null!==(o=n.slice)&&void 0!==o?o:-1;if("isfavourite"===n.filter)e=e.filter((e=>!!e.isfavourite));switch(i){case"fullname":e.sort(((e,n)=>{const r=e.fullname.toLowerCase(),o=n.fullname.toLowerCase();return r.localeCompare(o)}));break;case"lastaccess":e.sort(((e,n)=>(n.lastaccess||0)-(e.lastaccess||0)));break;case"timemodified":e.sort(((e,n)=>(n.timemodified||0)-(e.timemodified||0)));break;case"shortname":e.sort(((e,n)=>{const r=e.shortname.toLowerCase(),o=n.shortname.toLowerCase();return r.localeCompare(o)}))}return e=s>0?e.slice(0,s):e}loadCourseCompletedStatus(e,n={}){return void 0!==e.completed?(0,g.of)(e):this.isCompletionEnabledInCourse(e)?u.AddonCourseCompletion.getCompletionObservable(e.id,n).pipe((0,C.T)((n=>(e.completed=n.completed,e))),(0,b.W)((()=>(e.completed=!1,(0,g.of)(e))))):(0,g.of)(e)}isPastCourse(e,n=0){if(e.completed)return!0;if(!e.enddate)return!1;return(0,p.yf)(1e3*e.enddate).add(n,"days").valueOf()<Date.now()}isFutureCourse(e,n=0,r=0){if(this.isPastCourse(e,n)||!e.startdate)return!1;return(0,p.yf)(1e3*e.startdate).subtract(r,"days").valueOf()>Date.now()}getMyPage(){return Promise.all([r.e(56420),r.e(72076),r.e(53861)]).then(r.bind(r,53861))}isCompletionEnabledInCourse(e,n){return u.AddonCourseCompletion.isCompletionEnabledInCourse(e,n)}}return(e=CoreCoursesHelperProvider).ɵfac=function CoreCoursesHelperProvider_Factory(n){return new(n||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesHelperProvider})();const T=(0,c.Qd)(I)},66110:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCourses:()=>w,CoreCoursesProvider:()=>CoreCoursesProvider});var o,i=r(10467),s=r(52749),a=r(79555),c=r(49882),u=r(83749),p=r(54843),f=r(7673),g=r(96354),v=r(74431),C=r(9538),b=r(54438);class CoreCoursesProvider{constructor(){this.downloadOptionsEnabled=!1}getCategories(e,n=!1,r){var o=this;return(0,i.A)((function*(){const i=yield s.CoreSites.getSite(r),a={criteria:[{key:0===e?"parent":"id",value:e}],addsubcategories:n},c={cacheKey:o.getCategoriesCacheKey(e,n),updateFrequency:v.CoreCacheUpdateFrequency.RARELY};return i.read("core_course_get_categories",a,c)}))()}getCategoriesCacheKey(e,n){return`${CoreCoursesProvider.ROOT_CACHE_KEY}categories:${e}:${!!n}`}getCourseIdsForAdminAndNavOptions(e,n){var r=this;return(0,i.A)((function*(){const o=(yield s.CoreSites.getSite(n)).getSiteHomeId();return 1===e.length?r.getCourseIdsIfEnrolled(e[0],n):(e.length>1&&-1==e.indexOf(o)&&e.push(o),e.sort(((e,n)=>n-e)),e)}))()}getCourseIdsIfEnrolled(e,n){var r=this;return(0,i.A)((function*(){const o=(yield s.CoreSites.getSite(n)).getSiteHomeId();try{const i=yield r.getUserCourses(!0,n);let s=!1;if(s=e===o||!!i.find((n=>n.id===e)),s){const e=i.map((e=>e.id));return e.push(o),e.sort(((e,n)=>n-e)),e}}catch{}return[e]}))()}isDownloadCourseDisabled(e){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e);return n.isDownloadCoursesDisabledInSite(r)}))()}isDownloadCourseDisabledInSite(e){return!(e=e||s.CoreSites.getCurrentSite())||e.isOfflineDisabled()||e.isFeatureDisabled(C.CORE_COURSE_DOWNLOAD_FEATURE_NAME)}isDownloadCoursesDisabled(e){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e);return n.isDownloadCoursesDisabledInSite(r)}))()}isDownloadCoursesDisabledInSite(e){return!(e=e||s.CoreSites.getCurrentSite())||e.isOfflineDisabled()||e.isFeatureDisabled(C.CORE_COURSES_DOWNLOAD_FEATURE_NAME)}isMyCoursesDisabled(e){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e);return n.isMyCoursesDisabledInSite(r)}))()}isMyCoursesDisabledInSite(e){return!(e=e||s.CoreSites.getCurrentSite())||e.isFeatureDisabled(C.CORE_COURSES_MYCOURSES_MENU_FEATURE_NAME)}isSearchCoursesDisabled(e){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e);return n.isSearchCoursesDisabledInSite(r)}))()}isSearchCoursesDisabledInSite(e){return!(e=e||s.CoreSites.getCurrentSite())||e.isFeatureDisabled(C.CORE_COURSES_SEARCH_FEATURE_NAME)}getCourse(e,n){var r=this;return(0,i.A)((function*(){const o=yield r.getCourses([e],n);if((null==o?void 0:o.length)>0)return o[0];throw Error("Course not found on core_course_get_courses")}))()}getCourseEnrolmentMethods(e,n){return(0,i.A)((function*(){const{CoreEnrol:o}=yield Promise.resolve().then(r.bind(r,4838));return o.getSupportedCourseEnrolmentMethods(e,{siteId:n})}))()}getCourseGuestEnrolmentInfo(e,n){return(0,i.A)((function*(){const{AddonEnrolGuest:o}=yield Promise.resolve().then(r.bind(r,83793));return o.getGuestEnrolmentInfo(e,n)}))()}getCourses(e,n){var r=this;return(0,i.A)((function*(){if(0===e.length)return[];const o=yield s.CoreSites.getSite(n),i={options:{ids:e}},a={cacheKey:r.getCoursesCacheKey(e),updateFrequency:v.CoreCacheUpdateFrequency.RARELY};return o.read("core_course_get_courses",i,a)}))()}getCoursesCacheKey(e){return`${CoreCoursesProvider.ROOT_CACHE_KEY}course:${JSON.stringify(e)}`}fixCoursesByFieldParams(e="",n="",r){var o=this;return(0,i.A)((function*(){if("id"===e||"ids"===e){let e;return e="string"==typeof n?n.split(",").map((e=>parseInt(e,10))):[n],e=yield o.getCourseIdsForAdminAndNavOptions(e,r),e.length>1?{field:"ids",value:e.join(",")}:{field:"id",value:Number(e[0])}}return{field:e,value:n}}))()}getCourseByField(e,n,r){var o=this;return(0,i.A)((function*(){const i=yield o.getCoursesByField(e,n,r);if((null==i?void 0:i.length)>0)return i[0];throw Error("Course not found on core_course_get_courses_by_field")}))()}getCoursesByField(e="",n="",r){var o=this;return(0,i.A)((function*(){return yield(0,p._)(o.getCoursesByFieldObservable(e,n,{siteId:r}))}))()}getCoursesByFieldObservable(e="",n="",r={}){var o=this;return(0,u.uV)((0,i.A)((function*(){const i=r.siteId||s.CoreSites.getCurrentSiteId(),a=n,c=yield s.CoreSites.getSite(i),u=yield o.fixCoursesByFieldParams(e,n,i),p=u.field!==e||u.value!==n;n=u.value;const f={field:e=u.field,value:e?n:""},C={cacheKey:o.getCoursesByFieldCacheKey(e,n),updateFrequency:v.CoreCacheUpdateFrequency.RARELY,...s.CoreSites.getReadingStrategyPreSets(r.readingStrategy)};return c.readObservable("core_course_get_courses_by_field",f,C).pipe((0,g.T)((n=>{if(!n.courses)throw Error("WS core_course_get_courses_by_field failed");if("ids"===e&&p){const e=String(a).split(",").map((e=>parseInt(e,10)));n.courses=n.courses.filter((n=>e.indexOf(n.id)>=0))}return n.courses.sort(((e,n)=>void 0===e.sortorder&&void 0===n.sortorder?n.id-e.id:void 0===e.sortorder?1:void 0===n.sortorder?-1:e.sortorder-n.sortorder))})))})))}getCoursesByFieldCacheKey(e="",n=""){return`${CoreCoursesProvider.ROOT_CACHE_KEY}coursesbyfield:${e}:${n}`}getEnrolledCoursesByCustomField(e,n,r){var o=this;return(0,i.A)((function*(){return yield(0,p._)(o.getEnrolledCoursesByCustomFieldObservable(e,n,{readingStrategy:3,siteId:r}))}))()}getEnrolledCoursesByCustomFieldObservable(e,n,r){return(0,u.uV)((0,i.A)((function*(){var o;const i=yield s.CoreSites.getSite(r.siteId),a={classification:"customfield",customfieldname:e,customfieldvalue:n},c={...s.CoreSites.getReadingStrategyPreSets(null!==(o=r.readingStrategy)&&void 0!==o?o:3)};return i.readObservable("core_course_get_enrolled_courses_by_timeline_classification",a,c).pipe((0,g.T)((e=>e.courses)))})))}getCoursesAdminAndNavOptions(e,n){var r=this;return(0,i.A)((function*(){return yield(0,p._)(r.getCoursesAdminAndNavOptionsObservable(e,{siteId:n}))}))()}getCoursesAdminAndNavOptionsObservable(e,n={}){var r=this;return(0,u.uV)((0,i.A)((function*(){const o=n.siteId||s.CoreSites.getCurrentSiteId();return e=yield r.getCourseIdsForAdminAndNavOptions(e,o),(0,u.wx)((0,u.yO)(r.getUserNavigationOptionsObservable(e,n),{}),(0,u.yO)(r.getUserAdministrationOptionsObservable(e,n),{})).pipe((0,g.T)((([e,n])=>({navOptions:e,admOptions:n}))))})))}getRecentCoursesCacheKey(e){return`${CoreCoursesProvider.ROOT_CACHE_KEY}:recentcourses:${e}`}getRecentCourses(e={}){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e.siteId),o=e.userId||r.getUserId(),i={userid:o,offset:e.offset||0,limit:e.limit||CoreCoursesProvider.RECENT_PER_PAGE,sort:e.sort},a={cacheKey:n.getRecentCoursesCacheKey(o)};return r.read("core_course_get_recent_courses",i,a)}))()}getUserAdministrationOptionsCommonCacheKey(){return`${CoreCoursesProvider.ROOT_CACHE_KEY}administrationOptions:`}getUserAdministrationOptionsCacheKey(e){return this.getUserAdministrationOptionsCommonCacheKey()+e.join(",")}getUserAdministrationOptions(e,n){var r=this;return(0,i.A)((function*(){return yield(0,p._)(r.getUserAdministrationOptionsObservable(e,n))}))()}getUserAdministrationOptionsObservable(e,n={}){var r=this;return e&&0!=e.length?(0,u.uV)((0,i.A)((function*(){const o=yield s.CoreSites.getSite(n.siteId),i={courseids:e},a={cacheKey:r.getUserAdministrationOptionsCacheKey(e),updateFrequency:v.CoreCacheUpdateFrequency.RARELY,...s.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.readObservable("core_course_get_user_administration_options",i,a).pipe((0,g.T)((e=>r.formatUserAdminOrNavOptions(e.courses))))}))):(0,f.of)({})}getUserNavigationOptionsCommonCacheKey(){return`${CoreCoursesProvider.ROOT_CACHE_KEY}navigationOptions:`}getUserNavigationOptionsCacheKey(e){return this.getUserNavigationOptionsCommonCacheKey()+e.join(",")}getUserNavigationOptions(e,n){var r=this;return(0,i.A)((function*(){return yield(0,p._)(r.getUserNavigationOptionsObservable(e,n))}))()}getUserNavigationOptionsObservable(e,n={}){var r=this;return e&&0!=e.length?(0,u.uV)((0,i.A)((function*(){const o=yield s.CoreSites.getSite(n.siteId),i={courseids:e},a={cacheKey:r.getUserNavigationOptionsCacheKey(e),updateFrequency:v.CoreCacheUpdateFrequency.RARELY,...s.CoreSites.getReadingStrategyPreSets(n.readingStrategy)};return o.readObservable("core_course_get_user_navigation_options",i,a).pipe((0,g.T)((e=>r.formatUserAdminOrNavOptions(e.courses))))}))):(0,f.of)({})}formatUserAdminOrNavOptions(e){const n={};return e.forEach((e=>{const r={};e.options&&e.options.forEach((e=>{r[e.name]=e.available})),n[e.id]=r})),n}getUserCourse(e,n,r){var o=this;return(0,i.A)((function*(){const i=(yield o.getUserCourses(n,r)).find((n=>n.id===e));if(i)return i;throw Error("Course not found on core_enrol_get_users_courses")}))()}getUserCourses(e=!1,n,r){var o=this;return(0,i.A)((function*(){return r=null!=r?r:e?1:void 0,yield(0,p._)(o.getUserCoursesObservable({readingStrategy:r,siteId:n}))}))()}getUserCoursesObservable(e={}){var n=this;return(0,u.uV)((0,i.A)((function*(){const r=yield s.CoreSites.getSite(e.siteId),o={userid:r.getUserId()},i={cacheKey:n.getUserCoursesCacheKey(),getCacheUsingCacheKey:!0,updateFrequency:v.CoreCacheUpdateFrequency.RARELY,...s.CoreSites.getReadingStrategyPreSets(e.readingStrategy)};r.isVersionGreaterEqualThan("3.7")&&(o.returnusercount=!1);return r.readObservable("core_enrol_get_users_courses",o,i).pipe((0,g.T)((e=>{if(n.userCoursesIds){const o=[],i=[],s=n.userCoursesIds,a=new Set;e.forEach((e=>{e.categoryid=e.category,delete e.category,a.add(e.id),s.has(e.id)||o.push(e.id)})),e.length-o.length!==s.size&&s.forEach((e=>{a.has(e)||i.push(Number(e))})),(o.length||i.length)&&c.z.trigger(C.CORE_COURSES_MY_COURSES_CHANGED_EVENT,{added:o,removed:i},r.getId()),n.userCoursesIds=a}else{const r=new Set;e.forEach((e=>{r.add(e.id),e.categoryid=e.category,delete e.category})),n.userCoursesIds=r}return e})))})))}getUserCoursesCacheKey(){return`${CoreCoursesProvider.ROOT_CACHE_KEY}usercourses`}invalidateCategories(e,n,r){var o=this;return(0,i.A)((function*(){const i=yield s.CoreSites.getSite(r);yield i.invalidateWsCacheForKey(o.getCategoriesCacheKey(e,n))}))()}invalidateCourse(e,n){var r=this;return(0,i.A)((function*(){yield r.invalidateCourses([e],n)}))()}invalidateCourseEnrolmentMethods(e,n){return(0,i.A)((function*(){const{CoreEnrol:o}=yield Promise.resolve().then(r.bind(r,4838));yield o.invalidateCourseEnrolmentMethods(e,n)}))()}invalidateCourseGuestEnrolmentInfo(e,n){return(0,i.A)((function*(){const{AddonEnrolGuest:o}=yield Promise.resolve().then(r.bind(r,83793));yield o.invalidateGuestEnrolmentInfo(e,n)}))()}invalidateCoursesAdminAndNavOptions(e,n){var r=this;return(0,i.A)((function*(){n=n||s.CoreSites.getCurrentSiteId();const o=yield r.getCourseIdsForAdminAndNavOptions(e,n),i=[];i.push(r.invalidateUserAdministrationOptionsForCourses(o,n)),i.push(r.invalidateUserNavigationOptionsForCourses(o,n)),yield Promise.all(i)}))()}invalidateCourses(e,n){var r=this;return(0,i.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getCoursesCacheKey(e))}))()}invalidateCoursesByField(e="",n="",r){var o=this;return(0,i.A)((function*(){if("string"==typeof n&&0===n.length)return;r=r||s.CoreSites.getCurrentSiteId();const i=yield o.fixCoursesByFieldParams(e,n,r);e=i.field,n=i.value;const a=yield s.CoreSites.getSite(r);yield a.invalidateWsCacheForKey(o.getCoursesByFieldCacheKey(e,n))}))()}invalidateRecentCourses(e,n){var r=this;return(0,i.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getRecentCoursesCacheKey(e||o.getUserId()))}))()}invalidateUserAdministrationOptions(e){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getUserAdministrationOptionsCommonCacheKey())}))()}invalidateUserAdministrationOptionsForCourses(e,n){var r=this;return(0,i.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getUserAdministrationOptionsCacheKey(e))}))()}invalidateUserCourses(e){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getUserCoursesCacheKey())}))()}invalidateUserNavigationOptions(e){var n=this;return(0,i.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getUserNavigationOptionsCommonCacheKey())}))()}invalidateUserNavigationOptionsForCourses(e,n){var r=this;return(0,i.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getUserNavigationOptionsCacheKey(e))}))()}logView(e){return(0,i.A)((function*(){const n=s.CoreSites.getRequiredCurrentSite();if(!n.wsAvailable("core_my_view_page"))return;const r={page:e};yield n.write("core_my_view_page",r)}))()}search(e,n=0,r=CoreCoursesProvider.SEARCH_PER_PAGE,o=!1,a){return(0,i.A)((function*(){const i=yield s.CoreSites.getSite(a),c={criterianame:"search",criteriavalue:e,page:n,perpage:r,limittoenrolled:o},u=yield i.read("core_course_search_courses",c,{getFromCache:!1});return{total:u.total,courses:u.courses}}))()}selfEnrol(e,n="",o,s){return(0,i.A)((function*(){const{AddonEnrolSelf:i}=yield Promise.resolve().then(r.bind(r,65485));return i.selfEnrol(e,n,o,s)}))()}setFavouriteCourse(e,n,r){return(0,i.A)((function*(){return(yield s.CoreSites.getSite(r)).write("core_course_set_favourite_courses",{courses:[{id:e,favourite:n}]})}))()}getCourseDownloadOptionsEnabled(){return this.downloadOptionsEnabled}setCourseDownloadOptionsEnabled(e){this.downloadOptionsEnabled!==e&&(this.downloadOptionsEnabled=e,c.z.trigger(C.CORE_COURSES_DASHBOARD_DOWNLOAD_ENABLED_CHANGED_EVENT,{enabled:e}))}}(o=CoreCoursesProvider).ROOT_CACHE_KEY="mmCourses:",o.SEARCH_PER_PAGE=20,o.RECENT_PER_PAGE=10,o.ENROL_INVALID_KEY=C.CORE_COURSES_ENROL_INVALID_KEY,o.EVENT_MY_COURSES_CHANGED=C.CORE_COURSES_MY_COURSES_CHANGED_EVENT,o.EVENT_MY_COURSES_UPDATED=C.CORE_COURSES_MY_COURSES_UPDATED_EVENT,o.EVENT_MY_COURSES_REFRESHED=C.CORE_COURSES_MY_COURSES_REFRESHED_EVENT,o.EVENT_DASHBOARD_DOWNLOAD_ENABLED_CHANGED=C.CORE_COURSES_DASHBOARD_DOWNLOAD_ENABLED_CHANGED_EVENT,o.ACTION_ENROL=C.CoreCoursesMyCoursesUpdatedEventAction.ENROL,o.ACTION_STATE_CHANGED=C.CoreCoursesMyCoursesUpdatedEventAction.STATE_CHANGED,o.ACTION_VIEW=C.CoreCoursesMyCoursesUpdatedEventAction.VIEW,o.STATE_HIDDEN=C.CORE_COURSES_STATE_HIDDEN,o.STATE_FAVOURITE=C.CORE_COURSES_STATE_FAVOURITE,o.ɵfac=function CoreCoursesProvider_Factory(e){return new(e||o)},o.ɵprov=b.jDH({token:o,factory:o.ɵfac,providedIn:"root"});const w=(0,a.Qd)(CoreCoursesProvider)},50572:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCoursesDashboard:()=>C,CoreCoursesDashboardProvider:()=>v});var o=r(10467),i=r(52749),s=r(79555),a=r(75629),c=r(96354),u=r(54843),p=r(83749),f=r(74431),g=r(54438);let v=(()=>{var e;class CoreCoursesDashboardProvider{getDashboardBlocksCacheKey(e="__default",n=0){return`${CoreCoursesDashboardProvider.ROOT_CACHE_KEY}blocks:${e}:${n}`}getDashboardBlocksFromWS(e="__default",n,r){var i=this;return(0,o.A)((function*(){return yield(0,u._)(i.getDashboardBlocksFromWSObservable({myPage:e,userId:n,siteId:r}))}))()}getDashboardBlocksFromWSObservable(e={}){var n=this;return(0,p.uV)((0,o.A)((function*(){var r;const o=yield i.CoreSites.getSite(e.siteId),s=null!==(r=e.myPage)&&void 0!==r?r:"__default",u={returncontents:!0};if(i.CoreSites.getRequiredCurrentSite().isVersionGreaterEqualThan("4.0"))u.mypage=s;else if("__default"!==s)throw new a.CoreError("mypage param is not accessible on core_block_get_dashboard_blocks");const p={cacheKey:n.getDashboardBlocksCacheKey(s,e.userId),updateFrequency:f.CoreCacheUpdateFrequency.RARELY,...i.CoreSites.getReadingStrategyPreSets(e.readingStrategy)};e.userId&&(u.userid=e.userId);return o.readObservable("core_block_get_dashboard_blocks",u,p).pipe((0,c.T)((e=>(o.isVersionGreaterEqualThan("4.0")&&(e.blocks=e.blocks.filter((e=>0!=e.instanceid||"myoverview"!=e.name||"forced"!=e.region))),e.blocks||[]))))})))}getDashboardBlocks(e,n,r="__default"){var i=this;return(0,o.A)((function*(){return yield(0,u._)(i.getDashboardBlocksObservable({myPage:r,userId:e,siteId:n}))}))()}getDashboardBlocksObservable(e={}){return this.getDashboardBlocksFromWSObservable(e).pipe((0,c.T)((e=>{let n=[],r=[];return e.forEach((e=>{"content"==e.region||"main"==e.region?n.push(e):r.push(e)})),0==n.length&&(n=[],r=[],e.forEach((e=>{e.region.match("side")?r.push(e):n.push(e)}))),{mainBlocks:n,sideBlocks:r}})))}invalidateDashboardBlocks(e="__default",n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);yield o.invalidateWsCacheForKey(s.getDashboardBlocksCacheKey(e,n))}))()}isAvailable(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).wsAvailable("core_block_get_dashboard_blocks")}))()}isDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isDisabledInSite(r)}))()}isDisabledInSite(e){var n;return!(null===(n=e=e||i.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled("CoreMainMenuDelegate_CoreCoursesDashboard"))}}return(e=CoreCoursesDashboardProvider).ROOT_CACHE_KEY="CoreCoursesDashboard:",e.MY_PAGE_DEFAULT="__default",e.MY_PAGE_COURSES="__courses",e.ɵfac=function CoreCoursesDashboardProvider_Factory(n){return new(n||e)},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCoursesDashboardProvider})();const C=(0,s.Qd)(v)},16340:(e,n,r)=>{"use strict";r.d(n,{Q:()=>i,Z:()=>o});const o="dataprivacy",i="CoreUserDelegate_CoreDataPrivacy"},8398:(e,n,r)=>{"use strict";r.d(n,{CP:()=>p,N7:()=>f});var o=r(10467),i=r(43411),s=r(52749),a=r(79555),c=r(54438);let u=(()=>{var e;class CoreDataPrivacyService{isEnabled(){var e=this;return(0,o.A)((function*(){const n=s.CoreSites.getCurrentSite();if(null==n||!n.wsAvailable("tool_dataprivacy_get_data_requests"))return!1;return(yield e.getAccessInformation()).cancontactdpo}))()}getAccessInformationCacheKey(){return`${CoreDataPrivacyService.ROOT_CACHE_KEY}accessInformation`}getAccessInformation(e={}){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e.siteId),o={cacheKey:n.getAccessInformationCacheKey(),...s.CoreSites.getReadingStrategyPreSets(e.readingStrategy)};return r.read("tool_dataprivacy_get_access_information",void 0,o)}))()}invalidateAccessInformation(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getAccessInformationCacheKey())}))()}contactDPO(e,n){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(n),o={message:e},a=yield r.write("tool_dataprivacy_contact_dpo",o);if(a.warnings&&a.warnings.length)throw new i.CoreWSError(a.warnings[0]);return a.result}))()}getDataRequestsCacheKey(){return`${CoreDataPrivacyService.ROOT_CACHE_KEY}datarequests`}getDataRequests(e={}){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e.siteId),o={cacheKey:n.getDataRequestsCacheKey(),...s.CoreSites.getReadingStrategyPreSets(e.readingStrategy)},i={userid:r.getUserId()};return(yield r.read("tool_dataprivacy_get_data_requests",i,o)).requests}))()}invalidateDataRequests(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getDataRequestsCacheKey())}))()}createDataRequest(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),a={type:e,comments:n},c=yield o.write("tool_dataprivacy_create_data_request",a);if(c.warnings&&c.warnings.length)throw new i.CoreWSError(c.warnings[0]);return c.datarequestid}))()}cancelDataRequest(e,n){return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(n),o={requestid:e},a=yield r.write("tool_dataprivacy_cancel_data_request",o);if(a.warnings&&a.warnings.length)throw new i.CoreWSError(a.warnings[0]);return a.result}))()}invalidateAll(){var e=this;return(0,o.A)((function*(){yield Promise.all([e.invalidateAccessInformation(),e.invalidateDataRequests()])}))()}canCancelRequest(e){return![g.DATAREQUEST_STATUS_COMPLETE,g.DATAREQUEST_STATUS_DOWNLOAD_READY,g.DATAREQUEST_STATUS_DELETED,g.DATAREQUEST_STATUS_EXPIRED,g.DATAREQUEST_STATUS_CANCELLED,g.DATAREQUEST_STATUS_REJECTED].includes(e.status)}}return(e=CoreDataPrivacyService).ROOT_CACHE_KEY="CoreDataPrivacy:",e.ɵfac=function CoreDataPrivacyService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreDataPrivacyService})();const p=(0,a.Qd)(u);var f=function(e){return e[e.DATAREQUEST_TYPE_EXPORT=1]="DATAREQUEST_TYPE_EXPORT",e[e.DATAREQUEST_TYPE_DELETE=2]="DATAREQUEST_TYPE_DELETE",e[e.DATAREQUEST_TYPE_OTHERS=3]="DATAREQUEST_TYPE_OTHERS",e}(f||{}),g=function(e){return e[e.DATAREQUEST_STATUS_PENDING=0]="DATAREQUEST_STATUS_PENDING",e[e.DATAREQUEST_STATUS_PREPROCESSING=1]="DATAREQUEST_STATUS_PREPROCESSING",e[e.DATAREQUEST_STATUS_AWAITING_APPROVAL=2]="DATAREQUEST_STATUS_AWAITING_APPROVAL",e[e.DATAREQUEST_STATUS_APPROVED=3]="DATAREQUEST_STATUS_APPROVED",e[e.DATAREQUEST_STATUS_PROCESSING=4]="DATAREQUEST_STATUS_PROCESSING",e[e.DATAREQUEST_STATUS_COMPLETE=5]="DATAREQUEST_STATUS_COMPLETE",e[e.DATAREQUEST_STATUS_CANCELLED=6]="DATAREQUEST_STATUS_CANCELLED",e[e.DATAREQUEST_STATUS_REJECTED=7]="DATAREQUEST_STATUS_REJECTED",e[e.DATAREQUEST_STATUS_DOWNLOAD_READY=8]="DATAREQUEST_STATUS_DOWNLOAD_READY",e[e.DATAREQUEST_STATUS_EXPIRED=9]="DATAREQUEST_STATUS_EXPIRED",e[e.DATAREQUEST_STATUS_DELETED=10]="DATAREQUEST_STATUS_DELETED",e}(g||{})},83431:(e,n,r)=>{"use strict";r.d(n,{Jl:()=>getEditorExportedDirectives,UU:()=>getEditorServices,fk:()=>c});var o=r(10467),i=r(52749),s=r(63316),a=r(54438);function getEditorServices(){return _getEditorServices.apply(this,arguments)}function _getEditorServices(){return(_getEditorServices=(0,o.A)((function*(){const{CoreEditorOfflineProvider:e}=yield r.e(73312).then(r.bind(r,73312));return[e]}))).apply(this,arguments)}function getEditorExportedDirectives(){return _getEditorExportedDirectives.apply(this,arguments)}function _getEditorExportedDirectives(){return(_getEditorExportedDirectives=(0,o.A)((function*(){const{CoreEditorRichTextEditorComponent:e}=yield r.e(41450).then(r.bind(r,41450));return[e]}))).apply(this,arguments)}let c=(()=>{var e;class CoreEditorModule{}return(e=CoreEditorModule).ɵfac=function CoreEditorModule_Factory(n){return new(n||e)},e.ɵmod=a.$C({type:e}),e.ɵinj=a.G2t({providers:[{provide:i.CORE_SITE_SCHEMAS,useValue:[s.e],multi:!0}]}),CoreEditorModule})()},63316:(e,n,r)=>{"use strict";r.d(n,{T:()=>o,e:()=>i});const o="editor_draft",i={name:"CoreEditorProvider",version:1,tables:[{name:o,columns:[{name:"contextlevel",type:"TEXT"},{name:"contextinstanceid",type:"INTEGER"},{name:"elementid",type:"TEXT"},{name:"extraparams",type:"TEXT"},{name:"drafttext",type:"TEXT",notNull:!0},{name:"pageinstance",type:"TEXT",notNull:!0},{name:"timecreated",type:"INTEGER",notNull:!0},{name:"timemodified",type:"INTEGER",notNull:!0},{name:"originalcontent",type:"TEXT"}],primaryKeys:["contextlevel","contextinstanceid","elementid","extraparams"]}]}},33099:(e,n,r)=>{"use strict";r.d(n,{V:()=>getEnrolServices,Y:()=>s});var o=r(10467),i=r(54438);function getEnrolServices(){return _getEnrolServices.apply(this,arguments)}function _getEnrolServices(){return(_getEnrolServices=(0,o.A)((function*(){const{CoreEnrolDelegateService:e}=yield Promise.resolve().then(r.bind(r,59656)),{CoreEnrolService:n}=yield Promise.resolve().then(r.bind(r,4838)),{CoreEnrolHelperService:o}=yield r.e(33499).then(r.bind(r,33499));return[n,o,e]}))).apply(this,arguments)}let s=(()=>{var e;class CoreEnrolModule{}return(e=CoreEnrolModule).ɵfac=function CoreEnrolModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({}),CoreEnrolModule})()},59656:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreEnrolAction:()=>c,CoreEnrolDelegate:()=>p,CoreEnrolDelegateService:()=>u});var o=r(10467),i=r(59296),s=r(79555),a=r(54438),c=function(e){return e.BROWSER="browser",e.SELF="self",e.GUEST="guest",e.NOT_SUPPORTED="not_supported",e}(c||{});let u=(()=>{var e;class CoreEnrolDelegateService extends i.B{constructor(){super("CoreEnrolDelegate"),this.handlerNameProperty="type",this.featurePrefix="CoreEnrolDelegate_"}isEnrolSupported(e){return this.hasHandler(e,!0)}getEnrolmentAction(e){const n=this.getHandler(e,!1);return n?n.enrolmentAction:c.NOT_SUPPORTED}getInfoIcons(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.executeFunctionOnEnabled(e,"getInfoIcons",[n]);return null==o||o.forEach((n=>{n.className||(n.className=`addon-enrol-${e}`)})),o||[]}))()}enrol(e){var n=this;return(0,o.A)((function*(){return!!(yield n.executeFunctionOnEnabled(e.type,"enrol",[e]))}))()}canAccess(e){var n=this;return(0,o.A)((function*(){const r=yield n.executeFunctionOnEnabled(e.type,"canAccess",[e]);return null!=r?r:{canAccess:!1}}))()}validateAccess(e){var n=this;return(0,o.A)((function*(){return!!(yield n.executeFunctionOnEnabled(e.type,"validateAccess",[e]))}))()}invalidate(e){var n=this;return(0,o.A)((function*(){yield n.executeFunctionOnEnabled(e.type,"invalidate",[e])}))()}}return(e=CoreEnrolDelegateService).ɵfac=function CoreEnrolDelegateService_Factory(n){return new(n||e)},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreEnrolDelegateService})();const p=(0,s.Qd)(u)},4838:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreEnrol:()=>g,CoreEnrolService:()=>f});var o=r(10467),i=r(79555),s=r(52749),a=r(81690),c=r(59656),u=r(74431),p=r(54438);let f=(()=>{var e;class CoreEnrolService{getCourseEnrolmentMethods(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),i={courseid:e},a={cacheKey:r.getCourseEnrolmentMethodsCacheKey(e),updateFrequency:u.CoreCacheUpdateFrequency.RARELY};return o.read("core_enrol_get_course_enrolment_methods",i,a)}))()}getSupportedCourseEnrolmentMethods(e,n={}){return(0,o.A)((function*(){return(yield g.getCourseEnrolmentMethods(e,n.siteId)).filter((e=>(!n.type||e.type===n.type)&&(c.CoreEnrolDelegate.isEnrolSupported(e.type)&&a.j.isTrueOrOne(e.status)&&(!n.action||c.CoreEnrolDelegate.getEnrolmentAction(e.type)===n.action))))}))()}getCourseEnrolmentMethodsCacheKey(e){return`${CoreEnrolService.ROOT_CACHE_KEY}enrolmentmethods:${e}`}invalidateCourseEnrolmentMethods(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);yield Promise.all([o.invalidateWsCacheForKey(r.getCourseEnrolmentMethodsCacheKey(e))])}))()}}return(e=CoreEnrolService).ROOT_CACHE_KEY="CoreEnrol:",e.ɵfac=function CoreEnrolService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreEnrolService})();const g=(0,i.Qd)(f)},28619:(e,n,r)=>{"use strict";r.d(n,{G:()=>x,v:()=>getFileUploadedServices});var o=r(10467),i=r(54438),s=r(71212),a=r(18022),c=r(24502),u=r(79555),p=r(64847);let f=(()=>{var e;class CoreFileUploaderAlbumHandlerService{constructor(){this.name="CoreFileUploaderAlbum",this.priority=2e3}isEnabled(){return(0,o.A)((function*(){return a.CorePlatform.isMobile()}))()}getSupportedMimetypes(e){return c.R.filterByRegexp(e,/^(image|video)\//)}getData(){return{title:"core.fileuploader.photoalbums",class:"core-fileuploader-album-handler",icon:"fas-images",action:(e=(0,o.A)((function*(e,n,r,o){return{treated:!0,result:yield p.CoreFileUploaderHelper.uploadImage(!0,e,n,o)}})),function action(n,r,o,i){return e.apply(this,arguments)})};var e}}return(e=CoreFileUploaderAlbumHandlerService).ɵfac=function CoreFileUploaderAlbumHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderAlbumHandlerService})();const g=(0,u.Qd)(f);var v=r(89615);let C=(()=>{var e;class CoreFileUploaderAudioHandlerService{constructor(){this.name="CoreFileUploaderAudio",this.priority=1600}isEnabled(){return(0,o.A)((function*(){return a.CorePlatform.isMobile()||v.o.canGetUserMedia()&&v.o.canRecordMedia()}))()}getSupportedMimetypes(e){return a.CorePlatform.isIOS()?c.R.filterByRegexp(e,/^audio\/wav$/):a.CorePlatform.isAndroid()?c.R.filterByRegexp(e,/^audio\//):MediaRecorder?e.filter((e=>{const n=e.match(/^audio\//);return n&&n.length&&MediaRecorder.isTypeSupported(e)})):[]}getData(){return{title:"core.fileuploader.audio",class:"core-fileuploader-audio-handler",icon:"fas-microphone",action:(e=(0,o.A)((function*(e,n,r,o){return{treated:!0,result:yield p.CoreFileUploaderHelper.uploadAudioOrVideo(!0,e,n,o)}})),function action(n,r,o,i){return e.apply(this,arguments)})};var e}}return(e=CoreFileUploaderAudioHandlerService).ɵfac=function CoreFileUploaderAudioHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderAudioHandlerService})();const b=(0,u.Qd)(C);let w=(()=>{var e;class CoreFileUploaderCameraHandlerService{constructor(){this.name="CoreFileUploaderCamera",this.priority=1800}isEnabled(){return(0,o.A)((function*(){return a.CorePlatform.isMobile()||v.o.canGetUserMedia()}))()}getSupportedMimetypes(e){return c.R.filterByRegexp(e,/^image\/(jpeg|png)$/)}getData(){return{title:"core.fileuploader.camera",class:"core-fileuploader-camera-handler",icon:"fas-camera",action:(e=(0,o.A)((function*(e,n,r,o){return{treated:!0,result:yield p.CoreFileUploaderHelper.uploadImage(!1,e,n,o)}})),function action(n,r,o,i){return e.apply(this,arguments)})};var e}}return(e=CoreFileUploaderCameraHandlerService).ɵfac=function CoreFileUploaderCameraHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderCameraHandlerService})();const A=(0,u.Qd)(w);var _=r(16082),E=r(25572);let I=(()=>{var e;class CoreFileUploaderFileHandlerService{constructor(){this.name="CoreFileUploaderFile",this.priority=1200}isEnabled(){return(0,o.A)((function*(){return!0}))()}getSupportedMimetypes(e){return e}getData(){const e={title:"core.fileuploader.file",class:"core-fileuploader-file-handler",icon:"fas-file-lines"};return a.CorePlatform.isMobile()?e.action=function(){var e=(0,o.A)((function*(e,n,r,o){return{treated:!0,result:yield p.CoreFileUploaderHelper.chooseAndUploadFile(e,n,r,o)}}));return function(n,r,o,i){return e.apply(this,arguments)}}():e.afterRender=(e,n,r,i)=>{const s=document.querySelector(".core-fileuploader-file-handler");if(!s)return;const c=document.createElement("input");var f;(c.setAttribute("type","file"),c.classList.add("core-fileuploader-file-handler-input"),!i||!i.length||a.CorePlatform.isAndroid()&&1!=i.length||c.setAttribute("accept",i.join(", ")),c.addEventListener("change",(0,o.A)((function*(){var o;const s=null===(o=c.files)||void 0===o?void 0:o[0];if(c.value="",!s)return;const a=_.CoreFileUploader.isInvalidMimetype(i,s.name,s.type);if(a)return E.CoreAlerts.showError(a),void 0;try{const o=yield p.CoreFileUploaderHelper.uploadFileObject(s,e,n,r,s.name);p.CoreFileUploaderHelper.fileUploaded(o)}catch(a){E.CoreAlerts.showError(a,{default:u.HT.instant("core.fileuploader.errorreadingfile")})}}))),a.CorePlatform.isIOS())?(null===(f=s.parentElement)||void 0===f||f.appendChild(c),c.addEventListener("mousedown",(()=>{s.classList.add("activated")})),c.addEventListener("mouseup",(()=>{setTimeout((()=>{s.classList.remove("activated")}),80)}))):s.appendChild(c)},e}}return(e=CoreFileUploaderFileHandlerService).ɵfac=function CoreFileUploaderFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderFileHandlerService})();const T=(0,u.Qd)(I);let P=(()=>{var e;class CoreFileUploaderVideoHandlerService{constructor(){this.name="CoreFileUploaderVideo",this.priority=1400}isEnabled(){return(0,o.A)((function*(){return a.CorePlatform.isMobile()||v.o.canGetUserMedia()&&v.o.canRecordMedia()}))()}getSupportedMimetypes(e){return a.CorePlatform.isIOS()?c.R.filterByRegexp(e,/^video\/quicktime$/):a.CorePlatform.isAndroid()?c.R.filterByRegexp(e,/^video\//):MediaRecorder?e.filter((e=>{const n=e.match(/^video\//);return(null==n?void 0:n.length)&&MediaRecorder.isTypeSupported(e)})):[]}getData(){return{title:"core.fileuploader.video",class:"core-fileuploader-video-handler",icon:"fas-video",action:(e=(0,o.A)((function*(e,n,r,o){return{treated:!0,result:yield p.CoreFileUploaderHelper.uploadAudioOrVideo(!1,e,n,o)}})),function action(n,r,o,i){return e.apply(this,arguments)})};var e}}return(e=CoreFileUploaderVideoHandlerService).ɵfac=function CoreFileUploaderVideoHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderVideoHandlerService})();const k=(0,u.Qd)(P);function getFileUploadedServices(){return _getFileUploadedServices.apply(this,arguments)}function _getFileUploadedServices(){return(_getFileUploadedServices=(0,o.A)((function*(){const{CoreFileUploaderProvider:e}=yield Promise.resolve().then(r.bind(r,16082)),{CoreFileUploaderDelegateService:n}=yield Promise.resolve().then(r.bind(r,71212)),{CoreFileUploaderHelperProvider:o}=yield Promise.resolve().then(r.bind(r,64847));return[e,o,n]}))).apply(this,arguments)}let x=(()=>{var e;class CoreFileUploaderModule{}return(e=CoreFileUploaderModule).ɵfac=function CoreFileUploaderModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{s.CoreFileUploaderDelegate.registerHandler(g.instance),s.CoreFileUploaderDelegate.registerHandler(b.instance),s.CoreFileUploaderDelegate.registerHandler(A.instance),s.CoreFileUploaderDelegate.registerHandler(k.instance),s.CoreFileUploaderDelegate.registerHandler(T.instance)}}]}),CoreFileUploaderModule})()},71212:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFileUploaderDelegate:()=>u,CoreFileUploaderDelegateService:()=>c});var o=r(59296),i=r(49882),s=r(79555),a=r(54438);let c=(()=>{var e;class CoreFileUploaderDelegateService extends o.B{constructor(){super("CoreFileUploaderDelegate"),i.z.on(i.z.LOGOUT,(()=>this.clearSiteHandlers()))}clearSiteHandlers(){this.enabledHandlers={}}getHandlers(e){const n=[];for(const r in this.enabledHandlers){const o=this.enabledHandlers[r];let i;if(e){if(!o.getSupportedMimetypes)continue;if(i=o.getSupportedMimetypes(e),!i.length)continue}const s=o.getData();s.priority=o.priority||0,s.mimetypes=i,n.push(s)}return n.sort(((e,n)=>(e.priority||0)<=(n.priority||0)?1:-1)),n}}return(e=CoreFileUploaderDelegateService).ɵfac=function CoreFileUploaderDelegateService_Factory(n){return new(n||e)},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderDelegateService})();const u=(0,s.Qd)(c)},64847:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFileUploaderHelper:()=>L,CoreFileUploaderHelperProvider:()=>N});var o=r(10467),i=r(94455),s=r(45507),a=r(12364),c=r(75383),u=r(24502),p=r(79555),f=r(6787),g=r(63508),v=r(75629),C=r(16082),b=r(71212),w=r(19751),A=r(52749),_=r(8756),E=r(25124),I=r(18022),T=r(91531),P=r(47551),k=r(33014),x=r(87809),F=r(25572),R=r(54438);let N=(()=>{var e;class CoreFileUploaderHelperProvider{constructor(){this.logger=f.CoreLogger.getInstance("CoreFileUploaderHelperProvider")}chooseAndUploadFile(e,n,r,i){var s=this;return(0,o.A)((function*(){const r=yield k.CoreLoadings.show(),o=yield T.yh.getFileMetadata(i?i.join(","):void 0);if(r.dismiss(),!o)throw new g.CoreCanceledError;"File"==o.name&&(o.name=s.getChosenFileNameFromPath(o)||o.name);const a=C.CoreFileUploader.isInvalidMimetype(i,o.name,o.mediaType);if(a)throw new v.CoreError(a);const c=C.CoreFileUploader.getFileUploadOptions(o.uri,o.name,o.mediaType,!0);return n?s.uploadFile(o.uri,e||-1,!0,c):s.copyToTmpFolder(o.uri,!1,e,void 0,c)}))()}confirmUploadFile(e,n,r,s,a){return(0,o.A)((function*(){if(0!=e){if(!r&&!i.WE.isOnline())throw new v.CoreError(p.HT.instant("core.fileuploader.errormustbeonlinetoupload"));if(s=void 0===s?C.CoreFileUploaderProvider.WIFI_SIZE_WARNING:s,a=void 0===a?C.CoreFileUploaderProvider.LIMITED_SIZE_WARNING:a,e<0)return F.CoreAlerts.confirm(p.HT.instant("core.fileuploader.confirmuploadunknownsize"));if(e>=s||i.WE.isNetworkAccessLimited()&&e>=a){const n=c.Ni.bytesToSize(e,2);return F.CoreAlerts.confirm(p.HT.instant("core.fileuploader.confirmuploadfile",{size:n}))}return n?F.CoreAlerts.confirm(p.HT.instant("core.areyousure")):void 0}}))()}copyAndUploadFile(e,n,r){var i=this;return(0,o.A)((function*(){r=r||e.name;const o=yield k.CoreLoadings.show("core.fileuploader.readingfile",!0);let a;try{const n=yield s.CoreFile.getUniqueNameInFolder(s.CoreFileProvider.TMPFOLDER,r),c=_.$.concatenatePaths(s.CoreFileProvider.TMPFOLDER,n);a=yield s.CoreFile.writeFileDataInFile(e,c,(e=>i.showProgressModal(o,"core.fileuploader.readingfileperc",e)))}catch(e){throw i.logger.error("Error reading file to upload.",e),o.dismiss(),e}return o.dismiss(),n?i.uploadGenericFile(s.CoreFile.getFileEntryURL(a),r,e.type,!0):a}))()}copyToTmpFolder(e,n,r,i,a){var c=this;return(0,o.A)((function*(){const o=(null==a?void 0:a.fileName)||x.H.getFileAndDirectoryFromPath(e).name;if(void 0!==r&&-1!=r){const n=yield s.CoreFile.getExternalFile(e);if((yield s.CoreFile.getFileObjectFromFileEntry(n)).size>r)throw c.createMaxBytesError(r,n.name)}const u=yield s.CoreFile.getUniqueNameInFolder(s.CoreFileProvider.TMPFOLDER,o,i),p=_.$.concatenatePaths(s.CoreFileProvider.TMPFOLDER,u);return n?s.CoreFile.moveExternalFile(e,p):s.CoreFile.copyExternalFile(e,p)}))()}createMaxBytesError(e,n){return new v.CoreError(p.HT.instant("core.fileuploader.maxbytesfile",{$a:{file:n,size:c.Ni.bytesToSize(e,2)}}))}filePickerClosed(){this.filePickerDeferred&&(this.filePickerDeferred.reject(new g.CoreCanceledError),this.filePickerDeferred=void 0)}fileUploaded(e){var n;this.filePickerDeferred&&(this.filePickerDeferred.resolve(e),this.filePickerDeferred=void 0),null===(n=this.actionSheet)||void 0===n||n.dismiss()}getChosenFileNameFromPath(e){const n=x.H.getFileAndDirectoryFromPath(e.uri);if(!n.name)return;let r=a.A.getFileExtension(n.name);return r||(r=a.A.getExtension(e.mediaType),r&&(n.name+=`.${r}`)),decodeURIComponent(n.name)}selectAndUploadFile(e,n,r){var i=this;return(0,o.A)((function*(){return yield i.selectFileWithPicker(e,!1,n,r,!0)}))()}selectFile(e,n,r,i){var s=this;return(0,o.A)((function*(){return yield s.selectFileWithPicker(e,n,r,i,!1)}))()}selectFileWithPicker(e,n,r,a,c){var u=this;return(0,o.A)((function*(){const f=[{text:p.HT.instant("core.cancel"),role:"cancel",handler:()=>{u.filePickerClosed()}}],g=b.CoreFileUploaderDelegate.getHandlers(a);return u.filePickerDeferred=new E._,g.forEach((r=>{var a;f.push({text:p.HT.instant(r.title),icon:r.icon,cssClass:r.class,handler:(a=(0,o.A)((function*(){if(!r.action)return!1;if(!n&&!i.WE.isOnline())return F.CoreAlerts.showError(p.HT.instant("core.fileuploader.errormustbeonlinetoupload")),!1;try{const o=yield r.action(e,c,n,r.mimetypes);let i;if(o.treated)i=o.result;else if(o.fileEntry)i=yield u.uploadFileEntry(o.fileEntry,!!o.delete,e,c,n);else if(o.path){let r;try{r=yield s.CoreFile.getFile(o.path)}catch(e){r=yield s.CoreFile.getExternalFile(o.path)}i=yield u.uploadFileEntry(r,!!o.delete,e,c,n)}if(!i)throw new v.CoreError("No file received");return u.fileUploaded(i),!0}catch(e){return F.CoreAlerts.showError(e,{default:p.HT.instant("core.fileuploader.errorreadingfile")}),!1}})),function handler(){return a.apply(this,arguments)})})})),u.actionSheet=yield p.GD.create({header:r||p.HT.instant("core.fileuploader."+(c?"uploadafile":"selectafile")),buttons:f}),yield u.actionSheet.present(),setTimeout((()=>{g.forEach((r=>{r.afterRender&&r.afterRender(e,c,n,r.mimetypes)}))}),500),u.filePickerDeferred}))()}showConfirmAndUploadInSite(e,n,r){var i=this;return(0,o.A)((function*(){try{const o=yield s.CoreFile.getFileObjectFromFileEntry(e);yield i.confirmUploadFile(o.size),yield i.uploadGenericFile(s.CoreFile.getFileEntryURL(e),o.name,o.type,n,r),P.CoreToasts.show({message:"core.fileuploader.fileuploaded",translateMessage:!0,cssClass:"core-toast-success"})}catch(e){throw F.CoreAlerts.showError(e,{default:p.HT.instant("core.fileuploader.errorreadingfile")}),e}}))()}treatCaptureError(e,n){if(e){if(e.code!==w.CAPTURE_ERROR_NO_MEDIA_FILES){this.logger.error("Error while recording audio/video",e);const r=this.isNoAppError(e)?p.HT.instant("core.fileuploader.errornoapp"):e.message||p.HT.instant(n);throw new v.CoreError(r)}throw new g.CoreCanceledError}throw new v.CoreError("Error capturing media")}isNoAppError(e){return e&&20==e.code}treatImageError(e,n){if(!e||"number"==typeof e)return new v.CoreError(n);if("string"==typeof e)return e.toLowerCase().indexOf("no image selected")>-1?new g.CoreCanceledError:new v.CoreError(e);throw"code"in e&&e.code===w.CAPTURE_ERROR_NO_MEDIA_FILES?new g.CoreCanceledError:e}uploadAudioOrVideo(e,n,r,i){var s=this;return(0,o.A)((function*(){let o;s.logger.debug(`Trying to record a ${e?"audio":"video"} file`);try{o=(e?yield C.CoreFileUploader.captureAudio():yield C.CoreFileUploader.captureVideo({limit:1}))[0]}catch(c){throw s.treatCaptureError(c,e?"core.fileuploader.errorcapturingaudio":"core.fileuploader.errorcapturingvideo")}let a=o.fullPath;const c=C.CoreFileUploader.isInvalidMimetype(i,o.fullPath);if(c)throw new Error(c);I.CorePlatform.isMobile()&&-1==a.indexOf("file://")&&(a=`file://${a}`);const u=C.CoreFileUploader.getMediaUploadOptions(o);return r?s.uploadFile(a,n||-1,!0,u):s.copyToTmpFolder(a,!0,n,void 0,u)}))()}uploadGenericFile(e,n,r,o,i){const s=C.CoreFileUploader.getFileUploadOptions(e,n,r,o);return this.uploadFile(e,-1,!1,s,i)}uploadImage(e,n,r,i){var s=this;return(0,o.A)((function*(){s.logger.debug("Trying to capture an image with camera");const o={quality:50,destinationType:p.i7.DestinationType.FILE_URI,correctOrientation:!0};if(e){const e=!i||u.R.indexOfRegexp(i,/^image\//)>-1,n=!i||u.R.indexOfRegexp(i,/^video\//)>-1;o.sourceType=p.i7.PictureSourceType.PHOTOLIBRARY,o.popoverOptions={x:10,y:10,width:I.CorePlatform.width()-200,height:I.CorePlatform.height()-200,arrowDir:p.i7.PopoverArrowDirection.ARROW_ANY},e&&!n?o.mediaType=p.i7.MediaType.PICTURE:!e&&n?o.mediaType=p.i7.MediaType.VIDEO:I.CorePlatform.isIOS()&&(o.mediaType=p.i7.MediaType.ALLMEDIA)}else i&&(i.indexOf("image/jpeg")>-1?o.encodingType=p.i7.EncodingType.JPEG:i.indexOf("image/png")>-1&&(o.encodingType=p.i7.EncodingType.PNG));let a;try{a=yield C.CoreFileUploader.getPicture(o)}catch(c){throw s.treatImageError(c,p.HT.instant(e?"core.fileuploader.errorgettingimagealbum":"core.fileuploader.errorcapturingimage"))}const c=C.CoreFileUploader.isInvalidMimetype(i,a);if(c)throw new v.CoreError(c);const f=C.CoreFileUploader.getCameraUploadOptions(a,e);return r?s.uploadFile(a,n||-1,!0,f):s.copyToTmpFolder(a,!e,n,"jpg",f)}))()}uploadFileEntry(e,n,r,i,a,c){var u=this;return(0,o.A)((function*(){const o=yield s.CoreFile.getFileObjectFromFileEntry(e),p=yield u.uploadFileObject(o,r,i,a,c);return n&&s.CoreFile.removeFileByFileEntry(e),p}))()}uploadFileObject(e,n,r,i,s){var a=this;return(0,o.A)((function*(){if(0===n){var o;const e=null===(o=A.CoreSites.getCurrentSite())||void 0===o?void 0:o.getInfo();e&&e.usermaxuploadfilesize&&(n=e.usermaxuploadfilesize)}if(void 0!==n&&-1!=n&&e.size>n)throw a.createMaxBytesError(n,e.name);return r&&(yield a.confirmUploadFile(e.size,!1,i)),a.copyAndUploadFile(e,r,s)}))()}uploadFile(e,n,r,a,c){var u=this;return(0,o.A)((function*(){const f=p.HT.instant("core.fileuploader.uploading"),v=function(){var i=(0,o.A)((function*(o){try{yield F.CoreAlerts.confirm(o,{header:p.HT.instant("core.error"),okText:p.HT.instant("core.retry")})}catch(o){throw a.deleteAfterUpload&&s.CoreFile.removeExternalFile(e),new g.CoreCanceledError}return u.uploadFile(e,n,r,a,c)}));return function errorUploading(e){return i.apply(this,arguments)}}();if(!i.WE.isOnline())return v(p.HT.instant("core.fileuploader.errormustbeonlinetoupload"));let b,w=0;if(r)try{const n=yield s.CoreFile.getExternalFile(e);b=yield s.CoreFile.getFileObjectFromFileEntry(n),w=b.size}catch{}if(-1!=n&&w>n&&b)throw u.createMaxBytesError(n,b.name);w>0&&(yield u.confirmUploadFile(w));const A=yield k.CoreLoadings.show(f);try{return yield C.CoreFileUploader.uploadFile(e,a,(e=>{u.showProgressModal(A,"core.fileuploader.uploadingperc",e)}),c)}catch(e){return u.logger.error("Error uploading file.",e),A.dismiss(),v(e)}finally{A.dismiss()}}))()}showProgressModal(e,n,r){if(!r||!r.lengthComputable||void 0===r.loaded||!r.total)return;const o=Math.min(r.loaded/r.total*100,100);isNaN(o)||o<0||e.updateText(p.HT.instant(n,{$a:o.toFixed(1)}))}}return(e=CoreFileUploaderHelperProvider).ɵfac=function CoreFileUploaderHelperProvider_Factory(n){return new(n||e)},e.ɵprov=R.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderHelperProvider})();const L=(0,p.Qd)(N)},16082:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFileUploader:()=>k,CoreFileUploaderProvider:()=>P});var o=r(10467),i=r(21413),s=r(45507),a=r(87809),c=r(88793),u=r(52749),p=r(12364),f=r(24742),g=r(81690),v=(r(99121),r(79555)),C=r(6787),b=r(75629),w=r(88436),A=r(8756),_=r(18022),E=r(93589),I=r(55554),T=r(54438);let P=(()=>{var e;class CoreFileUploaderProvider{constructor(){this.onGetPicture=new i.B,this.onAudioCapture=new i.B,this.onVideoCapture=new i.B,this.logger=C.CoreLogger.getInstance("CoreFileUploaderProvider")}addDot(e){return`.${e}`}areFileListDifferent(e,n){if((e=e||[]).length!=(n=n||[]).length)return!0;for(let r=0;r<e.length;r++)if(s.CoreFile.getFileName(e[r])!=s.CoreFile.getFileName(n[r]))return!0;return!1}canDeleteDraftFiles(e){var n=this;return(0,o.A)((function*(){try{const r=yield u.CoreSites.getSite(e);return n.canDeleteDraftFilesInSite(r)}catch(e){return!1}}))()}canDeleteDraftFilesInSite(e){var n;return!(null===(n=e=e||u.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("core_files_delete_draft_files"))}captureAudio(){var e=this;return(0,o.A)((function*(){e.onAudioCapture.next(!0);try{if(!_.CorePlatform.supportsMediaCapture()||!_.CorePlatform.supportsWebAssembly()){return yield v.Vd.captureAudio({limit:1})}return[yield e.captureAudioInApp()]}finally{e.onAudioCapture.next(!1)}}))()}captureAudioInApp(){return(0,o.A)((function*(){const{CoreFileUploaderAudioRecorderComponent:e}=yield Promise.all([r.e(72076),r.e(55627)]).then(r.bind(r,55627)),n=yield E.I.openSheet(e);if(!n)throw new Error("Recording missing from audio capture");return n}))()}captureVideo(e){var n=this;return(0,o.A)((function*(){n.onVideoCapture.next(!0);try{return yield v.Vd.captureVideo(e)}finally{n.onVideoCapture.next(!1)}}))()}clearTmpFiles(e){e.forEach((e=>{"remove"in e&&s.CoreFile.removeBasePath(s.CoreFile.getFileEntryURL(e)).startsWith(s.CoreFileProvider.TMPFOLDER)&&e.remove((()=>{}))}))}deleteDraftFiles(e,n,r){return(0,o.A)((function*(){return(yield u.CoreSites.getSite(r)).write("core_files_delete_draft_files",{draftitemid:e,files:n})}))()}getCameraUploadOptions(e,n){const r=p.A.guessExtensionFromUrl(e),o=p.A.getMimeType(r),i=_.CorePlatform.isIOS(),c={deleteAfterUpload:!n,mimeType:o},u=a.H.getFileAndDirectoryFromPath(e).name;if(!i||"image/jpeg"!=o&&"image/png"!=o)c.fileName=u;else{const e=u.split(".");e[0]+=`_${f.j.readableTimestamp()}`,c.fileName=e.join(".")}return n&&(c.deleteAfterUpload=s.CoreFile.isFileInAppFolder(e),_.CorePlatform.isAndroid()&&(c.fileName=c.fileName.replace(/(\.[^.]*)\?[^.]*$/,"$1"))),c}getFilesToDelete(e,n){const r=[];return n=n||[],e.forEach((e=>{n.some((n=>w.CoreFileHelper.getFileUrl(n)===w.CoreFileHelper.getFileUrl(e)))||r.push({filepath:e.filepath||"",filename:e.filename||""})})),r}getFileUploadOptions(e,n,r,o,i,s){const a={};return a.fileName=n,a.mimeType=r||p.A.getMimeType(p.A.getFileExtension(a.fileName)),a.deleteAfterUpload=!!o,a.itemId=s||0,a.fileArea=i,a}getMediaUploadOptions(e){const n={};let r=e.name;if(!r.match(/_\d{14}(\..*)?$/)){const e=r.split(".");e[0]+=`_${f.j.readableTimestamp()}`,r=e.join(".")}return n.fileName=r,n.deleteAfterUpload=!0,n.mimeType=e.type?e.type:p.A.getMimeType(p.A.getFileExtension(n.fileName)),n}getPicture(e){return this.onGetPicture.next(!0),v.i7.getPicture(e).finally((()=>{this.onGetPicture.next(!1)}))}getStoredFiles(e){return(0,o.A)((function*(){return yield s.CoreFile.getDirectoryContents(e)}))()}getStoredFilesFromOfflineFilesObject(e,n){var r=this;return(0,o.A)((function*(){let o=[];if(e.online.length>0&&(o=g.j.clone(e.online)),e.offline>0){const e=yield I.g.ignoreErrors(r.getStoredFiles(n));e&&(o=o.concat(e))}return o}))()}isInvalidMimetype(e,n,r){let o;if(e){if(r)o=p.A.getExtension(r),-1==e.indexOf(r)&&(r=p.A.getMimeType(o));else{if(!n)throw new b.CoreError("No mimetype or path supplied.");o=p.A.getFileExtension(n),r=p.A.getMimeType(o)}if(r&&-1==e.indexOf(r))return o=o||v.HT.instant("core.unknown"),v.HT.instant("core.fileuploader.invalidfiletype",{$a:o})}}prepareFiletypeList(e){var n;if(!(e=null===(n=e)||void 0===n?void 0:n.trim())||"*"==e)return;const r=e.split(/[;, ]+/g),o={},i=[];return r.forEach((e=>{if(e=e.trim())if(-1!=e.indexOf("/"))i.push({name:p.A.getMimetypeDescription(e),extlist:p.A.getExtensions(e).map(this.addDot).join(" ")}),o[e]=!0;else if(0===e.indexOf(".")){const n=p.A.getMimeType(e);i.push({name:n&&p.A.getMimetypeDescription(n),extlist:e}),n&&(o[n]=!0)}else{const n=p.A.getGroupMimeInfo(e,"extensions"),r=p.A.getGroupMimeInfo(e,"mimetypes");if(n&&n.length>0)i.push({name:p.A.getTranslatedGroupName(e),extlist:n.map(this.addDot).join(" ")}),null==r||r.forEach((e=>{e&&(o[e]=!0)}));else{e=this.addDot(e);const n=p.A.getMimeType(e);i.push({name:n&&p.A.getMimetypeDescription(n),extlist:e}),n&&(o[n]=!0)}}})),{info:i,mimetypes:Object.keys(o)}}storeFilesToUpload(e,n){return(0,o.A)((function*(){const r={online:[],offline:0};return n&&n.length?(yield s.CoreFile.removeUnusedFiles(e,n),yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){var o;if(a.H.isFileEntry(n))if(-1!=(null===(o=n.fullPath)||void 0===o?void 0:o.indexOf(e)))r.offline++;else{const o=A.$.concatenatePaths(e,n.name);r.offline++,yield s.CoreFile.copyFile(s.CoreFile.getFileEntryURL(n),o)}else r.online.push({filename:n.filename,fileurl:w.CoreFileHelper.getFileUrl(n)})}));return function(e){return n.apply(this,arguments)}}())),r):r}))()}uploadFile(e,n,r,i){return(0,o.A)((function*(){const o=(n=n||{}).deleteAfterUpload,a=g.j.clone(n);delete a.deleteAfterUpload;const c=yield u.CoreSites.getSite(i),p=yield c.uploadFile(e,a,r);return o&&s.CoreFile.removeExternalFile(e),p}))()}uploadFiles(e,n,r){var i=this;return(0,o.A)((function*(){if(r=r||u.CoreSites.getCurrentSiteId(),!n||!n.length)return;const o={},c=[];n.forEach((e=>{a.H.isFileEntry(e)?c.push(e):o[(e.filename||"").toLowerCase()]=e}));for(const n of c){const a=s.CoreFile.calculateUniqueName(o,n.name);o[a]=n;const c=s.CoreFile.getFileEntryURL(n),u=i.getFileUploadOptions(c,a,void 0,!1,"draft",e);yield i.uploadFile(c,u,void 0,r)}}))()}uploadOrReuploadFile(e,n,r,i,f){var g=this;return(0,o.A)((function*(){f=f||u.CoreSites.getCurrentSiteId();let o,v="";const C=!a.H.isFileEntry(e);if(a.H.isFileEntry(e))v=e.name,o=e;else{v=e.filename||"";const n=yield c.CoreFilepool.downloadUrl(f,w.CoreFileHelper.getFileUrl(e),!1,r,i,e.timemodified,void 0,void 0,e);o=yield s.CoreFile.getExternalFile(n)}const b=p.A.getFileExtension(v),A=b?p.A.getMimeType(b):void 0,_=s.CoreFile.getFileEntryURL(o),E=g.getFileUploadOptions(_,v,A,C,"draft",n);return(yield g.uploadFile(_,E,void 0,f)).itemid}))()}uploadOrReuploadFiles(e,n,r,i){var s=this;return(0,o.A)((function*(){if(i=i||u.CoreSites.getCurrentSiteId(),!e||!e.length)return 1;const o=yield s.uploadOrReuploadFile(e[0],0,n,r,i);for(let a=1;a<e.length;a++){const c=e[a];yield s.uploadOrReuploadFile(c,o,n,r,i)}return o}))()}}return(e=CoreFileUploaderProvider).LIMITED_SIZE_WARNING=1048576,e.WIFI_SIZE_WARNING=10485760,e.ɵfac=function CoreFileUploaderProvider_Factory(n){return new(n||e)},e.ɵprov=T.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileUploaderProvider})();const k=(0,v.Qd)(P)},93509:(e,n,r)=>{"use strict";r.d(n,{M:()=>s,T:()=>getFilterServices});var o=r(10467),i=r(54438);function getFilterServices(){return _getFilterServices.apply(this,arguments)}function _getFilterServices(){return(_getFilterServices=(0,o.A)((function*(){const{CoreFilterProvider:e}=yield Promise.resolve().then(r.bind(r,7310)),{CoreFilterDelegateService:n}=yield Promise.resolve().then(r.bind(r,31616)),{CoreFilterHelperProvider:o}=yield Promise.resolve().then(r.bind(r,40867));return[e,n,o]}))).apply(this,arguments)}let s=(()=>{var e;class CoreFilterModule{}return(e=CoreFilterModule).ɵfac=function CoreFilterModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({}),CoreFilterModule})()},31616:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFilterDelegate:()=>g,CoreFilterDelegateService:()=>f});var o=r(10467),i=r(52749),s=r(7310),a=r(59296),c=r(79555),u=r(54438),p=r(2618);let f=(()=>{var e;class CoreFilterDelegateService extends a.B{constructor(e){super("CoreFilterDelegate"),this.defaultHandler=e,this.featurePrefix="CoreFilterDelegate_",this.handlerNameProperty="filterName"}isEnabled(){return(0,o.A)((function*(){return s.CoreFilter.canGetFiltersInSite()}))()}filterText(e,n=[],r={},s,a){var c=this;return(0,o.A)((function*(){if(!n.length)return c.removeNolinkTags(e);yield c.waitForReady();if(!c.hasHandlers(!0))return c.removeNolinkTags(e);const o=yield i.CoreSites.getSite(a);for(let i=0;i<n.length;i++){const u=n[i];if(c.isEnabledAndShouldApply(u,r,o,s))try{const n=yield c.executeFunctionOnEnabled(u.filter,"filter",[e,u,r,a]);e=n||e}catch(e){c.logger.error(`Error applying filter${u.filter}`,e)}}return c.removeNolinkTags(e)}))()}removeNolinkTags(e){return e.replace(/<\/?nolink>/gi,"")}getEnabledFilters(e,n){const r=[];for(const o in this.enabledHandlers){r.push({contextid:-1,contextlevel:e,filter:this.enabledHandlers[o].filterName,inheritedstate:1,instanceid:n,localstate:1})}return r}handleHtml(e,n,r,s,a,c,u,p){var f=this;return(0,o.A)((function*(){yield f.waitForReady();if(!f.hasHandlers(!0))return;const o=yield i.CoreSites.getSite(p);n=n||[],s=s||{};for(let i=0;i<n.length;i++){const g=n[i];if(f.isEnabledAndShouldApply(g,s,o,a))try{yield f.executeFunctionOnEnabled(g.filter,"handleHtml",[e,g,s,r,c,u,p])}catch(e){f.logger.error(`Error handling HTML${g.filter}`,e)}}}))()}isEnabledAndShouldApply(e,n,r,o){return-1!==e.localstate&&(0!==e.localstate||-1!==e.inheritedstate)&&(!!this.shouldFilterBeApplied(e,n,r)&&(!o||-1===o.indexOf(e.filter)))}shouldBeApplied(e,n,r){var i=this;return(0,o.A)((function*(){yield i.waitForReady();return!!i.hasHandlers(!0)&&e.some((e=>i.shouldFilterBeApplied(e,n,r)))}))()}shouldFilterBeApplied(e,n,r){return!!this.hasHandler(e.filter,!0)&&!!this.executeFunctionOnEnabled(e.filter,"shouldBeApplied",[n,r])}}return(e=CoreFilterDelegateService).ɵfac=function CoreFilterDelegateService_Factory(n){return new(n||e)(u.KVO(p.r))},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFilterDelegateService})();const g=(0,c.Qd)(f)},40867:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFilterHelper:()=>I,CoreFilterHelperProvider:()=>E});var o=r(10467),i=r(94455),s=r(52749),a=r(31616),c=r(7310),u=r(44682),p=r(66110),f=r(79555),g=r(49882),v=r(6787),C=r(94247),b=r(54843),w=r(74431),A=r(55554),_=r(54438);let E=(()=>{var e;class CoreFilterHelperProvider{constructor(){this.moduleContextsCache={},this.logger=v.CoreLogger.getInstance("CoreFilterHelperProvider"),g.z.on(g.z.WS_CACHE_INVALIDATED,(e=>{delete this.moduleContextsCache[e.siteId||""]})),g.z.on(g.z.SITE_STORAGE_DELETED,(e=>{delete this.moduleContextsCache[e.siteId||""]}))}getCacheableFilters(e,n,r,i,s){var a=this;return(0,o.A)((function*(){var o,u;const p=a.getFromMemoryCache(null!==(o=i.courseId)&&void 0!==o?o:-1,e,n,s);if(p)return p;const f=s.getId(),g=yield r(),v=yield c.CoreFilter.getAvailableInContexts(g,f);return a.storeInMemoryCache(null!==(u=i.courseId)&&void 0!==u?u:-1,e,v,f),v[e][n]||[]}))()}getCategoryContexts(e,n){return(0,o.A)((function*(){const r=yield A.g.ignoreErrors(p.CoreCourses.getUserCourses(!0,n)),o=(null!=r?r:[]).map((e=>e.categoryid)).filter((e=>void 0!==e));return o.includes(e)?(o.sort(((e,n)=>n-e)),o.map((e=>({contextlevel:"coursecat",instanceid:e})))):[{contextlevel:"coursecat",instanceid:e}]}))()}getCourseContexts(e,n){return(0,o.A)((function*(){const r=yield p.CoreCourses.getCourseIdsIfEnrolled(e,n),o=[];return r.forEach((e=>{o.push({contextlevel:"course",instanceid:e})})),o}))()}getCourseModulesContexts(e,n){return(0,o.A)((function*(){const r=yield(0,b._)(u.CoreCourse.getSectionsObservable(e,{excludeContents:!0,readingStrategy:4,siteId:n})),o=[];return r.forEach((e=>{e.contents.forEach((n=>{(0,u.sectionContentIsModule)(n)&&C.CoreCourseHelper.canUserViewModule(n,e)&&o.push({contextlevel:"module",instanceid:n.id})}))})),o}))()}getFilters(e,n,r={},i){var u=this;return(0,o.A)((function*(){const o=c.CoreFilter.getEffectiveContext(e,n,{courseId:r.courseId});n=o.instanceId,r.contextLevel=e=o.contextLevel,r.instanceId=n,r.filter=!1;try{const o=yield s.CoreSites.getSite(i);i=o.getId();if(!(yield c.CoreFilter.canGetFilters(i)))return r.filter=!0,a.CoreFilterDelegate.getEnabledFilters(e,n);const p=yield u.getFiltersInContextUsingAllStates(e,n,r,o);if(p)return r.filter=!0,p;const f=r.courseId;let g=!0;if("system"===e||"course"===e&&n===o.getSiteHomeId()||(g=yield u.siteHasFiltersToTreat(r,i)),!g)return[];if(r.filter=!0,"module"===e&&f){const getFilters=()=>u.getCourseModulesContexts(f,i);return yield u.getCacheableFilters(e,n,getFilters,r,o)}if("course"===e){const getFilters=()=>u.getCourseContexts(n,i);return yield u.getCacheableFilters(e,n,getFilters,r,o)}if("coursecat"===e){const getFilters=()=>u.getCategoryContexts(n,i);return yield u.getCacheableFilters(e,n,getFilters,r,o)}return yield c.CoreFilter.getAvailableInContext(e,n,i)}catch(r){return u.logger.error("Error getting filters, return an empty array",r,e,n),[]}}))()}getFiltersInContextUsingAllStates(e,n,r={},i){var a=this;return(0,o.A)((function*(){var o,u,p,f;if(i=i||s.CoreSites.getCurrentSite(),!c.CoreFilter.canGetAllStatesInSite(i))return;const g=yield c.CoreFilter.getAllStates({siteId:null===(o=i)||void 0===o?void 0:o.getId()});if("system"!==e&&"coursecat"!==e&&a.hasCategoryOverride(g))return;const v=c.CoreFilter.getContextsTreeList(e,n,{courseId:r.courseId}),C=null===(u=Object.values(null!==(p=null===(f=g[e])||void 0===f?void 0:f[n])&&void 0!==p?p:{})[0])||void 0===u?void 0:u.contextid,b={};return v.reverse().forEach((r=>{var o;const i=r.contextLevel!==e,s=null===(o=g[r.contextLevel])||void 0===o?void 0:o[r.instanceId];if(s)for(const r in s){var a,c;const o=s[r];-9999!==o.localstate&&(b[r]={contextlevel:e,instanceid:n,contextid:C,filter:r,localstate:i?0:o.localstate,inheritedstate:i?o.localstate:null!==(a=null===(c=b[r])||void 0===c?void 0:c.inheritedstate)&&void 0!==a?a:o.localstate})}})),Object.values(b)}))()}hasCategoryOverride(e){if(!e.coursecat)return!1;for(const n in e.coursecat)for(const r in e.coursecat[n])if(e.coursecat[n][r].localstate!==e.system[0][r].localstate)return!0;return!1}getFiltersAndFormatText(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=yield a.getFilters(n,r,i,s);return{text:e=yield c.CoreFilter.formatText(e,i,o,s),filters:o}}))()}getFromMemoryCache(e,n,r,o){var s;const a=o.getId();if(null===(s=this.moduleContextsCache[a])||void 0===s||null===(s=s[e])||void 0===s||!s[n])return;const c=this.moduleContextsCache[a][e][n];return!i.WE.isOnline()||Date.now()<=c.time+o.getExpirationDelay(w.CoreCacheUpdateFrequency.RARELY)?c.contexts[n]&&c.contexts[n][r]:void 0}siteHasFiltersToTreat(e,n){return(0,o.A)((function*(){e=e||{};const r=yield s.CoreSites.getSite(n),o=yield c.CoreFilter.getAvailableInContext("system",0,r.getId());return a.CoreFilterDelegate.shouldBeApplied(o,e,r)}))()}storeInMemoryCache(e,n,r,o){this.moduleContextsCache[o]=this.moduleContextsCache[o]||{},this.moduleContextsCache[o][e]=this.moduleContextsCache[o][e]||{},this.moduleContextsCache[o][e][n]={contexts:r,time:Date.now()}}}return(e=CoreFilterHelperProvider).ɵfac=function CoreFilterHelperProvider_Factory(n){return new(n||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFilterHelperProvider})();const I=(0,f.Qd)(E)},7310:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFilter:()=>b,CoreFilterProvider:()=>C});var o=r(10467),i=r(54438),s=r(94455),a=r(52749),c=r(75383),u=r(31616),p=r(79555),f=r(49882),g=r(6787),v=r(74431);let C=(()=>{var e;class CoreFilterProvider{constructor(){this.contextsCache={},this.logger=g.CoreLogger.getInstance("CoreFilterProvider"),f.z.on(f.z.WS_CACHE_INVALIDATED,(e=>{delete this.contextsCache[e.siteId||""]})),f.z.on(f.z.SITE_STORAGE_DELETED,(e=>{delete this.contextsCache[e.siteId||""]}))}canGetAllStates(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);return n.canGetAllStatesInSite(r)}))()}canGetAllStatesInSite(e){var n;return!(null===(n=e=e||a.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("core_filters_get_all_states"))}canGetFilters(e){var n=this;return(0,o.A)((function*(){return!(yield n.checkFiltersDisabled(e))}))()}canGetFiltersInSite(e){return!this.checkFiltersDisabledInSite(e)}checkFiltersDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);return n.checkFiltersDisabledInSite(r)}))()}checkFiltersDisabledInSite(e){var n;return!(null===(n=e=e||a.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled("CoreFilterDelegate"))}classifyFilters(e,n,r,o,i){const s={};return e.forEach((e=>{s[e.contextlevel]=s[e.contextlevel]||{},s[e.contextlevel][e.instanceid]=[]})),1!=e.length||r?(n.forEach((e=>{r&&"course"===e.contextlevel&&e.instanceid==i.getSiteHomeId()&&(o&&(s[e.contextlevel][e.instanceid].push(e),e=Object.assign({},e)),e.contextlevel="system",e.instanceid=0,e.contextid=void 0,e.localstate=e.inheritedstate),s[e.contextlevel][e.instanceid].push(e)})),s):(s[e[0].contextlevel][e[0].instanceid]=n,s)}getEffectiveContext(e,n,r={}){return"block"===e||"user"===e?r.courseId?{contextLevel:"course",instanceId:r.courseId}:{contextLevel:"system",instanceId:0}:{contextLevel:e,instanceId:n}}formatText(e,n,r,s){return(0,o.A)((function*(){return e&&"string"==typeof e?(void 0===(n=n?Object.assign({},n):{}).clean&&(n.clean=!1),void 0===n.filter&&(n.filter=!0),n.contextLevel||(n.filter=!1),n.filter&&(e=yield u.CoreFilterDelegate.filterText(e,r,n,[],s)),n.clean&&(e=c.Ni.cleanTags(e,{singleLine:n.singleLine})),n.sanitize&&(e=p.up.sanitize(i.WPN.HTML,e)||""),n.shortenLength&&n.shortenLength>0&&(e=c.Ni.shortenText(e,n.shortenLength)),n.highlight&&(e=c.Ni.highlightText(e,n.highlight)),e):""}))()}getAllStatesCacheKey(){return`${CoreFilterProvider.ROOT_CACHE_KEY}allStates`}getAllStates(e={}){var n=this;return(0,o.A)((function*(){var r;const o=yield a.CoreSites.getSite(e.siteId),i={cacheKey:n.getAllStatesCacheKey(),updateFrequency:v.CoreCacheUpdateFrequency.RARELY,...a.CoreSites.getReadingStrategyPreSets(null!==(r=e.readingStrategy)&&void 0!==r?r:4)},s=yield o.read("core_filters_get_all_states",{},i),c={};return s.filters.forEach((e=>{c[e.contextlevel]=c[e.contextlevel]||{},c[e.contextlevel][e.instanceid]=c[e.contextlevel][e.instanceid]||{},c[e.contextlevel][e.instanceid][e.filter]={contextlevel:e.contextlevel,instanceid:e.instanceid,contextid:e.contextid,filter:e.filter,localstate:e.state,inheritedstate:e.state}})),c}))()}getAvailableInContextsCacheKey(e){return this.getAvailableInContextsPrefixCacheKey()+JSON.stringify(e)}getAvailableInContextsPrefixCacheKey(){return`${CoreFilterProvider.ROOT_CACHE_KEY}availableInContexts:`}getAvailableInContexts(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);n=o.getId();const i=r.getFromMemoryCache(e,o);if(i)return i;const s=e.slice(),{hadSystemContext:c,hadSiteHomeContext:u}=r.replaceSystemContext(s,o),p={contexts:s},f={cacheKey:r.getAvailableInContextsCacheKey(s),updateFrequency:v.CoreCacheUpdateFrequency.RARELY,splitRequest:{param:"contexts",maxLength:300},...a.CoreSites.getReadingStrategyPreSets(4)},g=yield o.read("core_filters_get_available_in_context",p,f),C=r.classifyFilters(e,g.filters,c,u,o);return r.storeInMemoryCache(C,n),C}))()}getAvailableInContext(e,n,r){var i=this;return(0,o.A)((function*(){return(yield i.getAvailableInContexts([{contextlevel:e,instanceid:n}],r))[e][n]||[]}))()}getFromMemoryCache(e,n){if(!this.contextsCache[n.getId()])return;const r=this.contextsCache[n.getId()],o=s.WE.isOnline(),i={};let a=!0;for(let s=0;s<e.length;s++){var c;const u=e[s],p=null===(c=r[u.contextlevel])||void 0===c?void 0:c[u.instanceid];if(!p||o&&!(Date.now()<=p.time+n.getExpirationDelay(v.CoreCacheUpdateFrequency.RARELY))){a=!1;break}i[u.contextlevel]=i[u.contextlevel]||{},i[u.contextlevel][u.instanceid]=p.filters}return a?i:void 0}getContextsTreeList(e,n,r={}){const o=b.getEffectiveContext(e,n,r),i=[{contextLevel:e=o.contextLevel,instanceId:n=o.instanceId}];return"module"===e&&r.courseId&&i.push({contextLevel:"course",instanceId:r.courseId}),"module"!==e&&"course"!==e||!r.categoryId||i.push({contextLevel:"coursecat",instanceId:r.categoryId}),"system"!==e&&i.push({contextLevel:"system",instanceId:0}),i}invalidateAllAvailableInContext(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getAvailableInContextsPrefixCacheKey())}))()}invalidateAllStates(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getAllStatesCacheKey())}))()}invalidateAvailableInContexts(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getAvailableInContextsCacheKey(e))}))()}invalidateAvailableInContext(e,n,r){var i=this;return(0,o.A)((function*(){yield i.invalidateAvailableInContexts([{contextlevel:e,instanceid:n}],r)}))()}replaceSystemContext(e,n){const r={hadSystemContext:!1,hadSiteHomeContext:!1};for(let o=0;o<e.length;o++){if("system"===e[o].contextlevel){r.hadSystemContext=!0,r.hadSiteHomeContext=e.some((e=>"course"===e.contextlevel&&e.instanceid==n.getSiteHomeId())),r.hadSiteHomeContext?e.splice(o,1):e[o]={contextlevel:"course",instanceid:n.getSiteHomeId()};break}}return r}storeInMemoryCache(e,n){this.contextsCache[n]=this.contextsCache[n]||{};for(const r in e){this.contextsCache[n][r]=this.contextsCache[n][r]||{};for(const o in e[r])this.contextsCache[n][r][o]={filters:e[r][o],time:Date.now()}}}}return(e=CoreFilterProvider).ROOT_CACHE_KEY="mmFilter:",e.ɵfac=function CoreFilterProvider_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFilterProvider})();const b=(0,p.Qd)(C)},2618:(e,n,r)=>{"use strict";r.d(n,{r:()=>s});var o=r(10467),i=r(54438);let s=(()=>{var e;class CoreFilterDefaultHandler{constructor(){this.name="CoreFilterDefaultHandler",this.filterName="default"}filter(e,n,r,o){return e}handleHtml(e,n,r,o,i,s,a){}isEnabled(){return(0,o.A)((function*(){return!0}))()}shouldBeApplied(e,n){return!0}}return(e=CoreFilterDefaultHandler).ɵfac=function CoreFilterDefaultHandler_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFilterDefaultHandler})()},18150:(e,n,r)=>{"use strict";r.d(n,{H:()=>o,k:()=>i});const o="grades",i="participant-grades"},55724:(e,n,r)=>{"use strict";r.d(n,{y:()=>X,v:()=>getGradesServices});var o=r(10467),i=r(54438),s=r(33504),a=r(69342),c=r(78765),u=r(42858),p=r(5784),f=r(76833),g=r(18150),v=r(66110),C=r(79555),b=r(27338),w=r(97383);let A=(()=>{var e;class CoreGradesCourseOptionHandlerService{constructor(){this.name="CoreGrades",this.priority=400}invalidateEnabledForCourse(e,n){return(0,o.A)((function*(){yield b.CoreGrades.invalidateCourseGradesPermissionsData(e),void 0===(null==n?void 0:n.grades)&&(yield v.CoreCourses.invalidateUserCourses())}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForCourse(e,n,r){return(0,o.A)((function*(){if(!(yield w.CoreGradesHelper.showGradebook(e,n,r)))return!1;return!(yield b.CoreGrades.canViewAllGrades(e))}))()}getDisplayData(){return{title:"core.grades.grades",class:"core-grades-course-handler",page:g.H}}prefetch(e){return(0,o.A)((function*(){try{yield b.CoreGrades.getCourseGradesTable(e.id,void 0,void 0,!0)}catch(e){if("notingroup"===e.errorcode)return;throw e}}))()}}return(e=CoreGradesCourseOptionHandlerService).ɵfac=function CoreGradesCourseOptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesCourseOptionHandlerService})();const _=(0,C.Qd)(A);var E=r(71112),I=r(15324);let T=(()=>{var e;class CoreGradesOverviewLinkHandlerService extends E.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreGradesOverviewLinkHandler",this.pattern=/\/grade\/report\/overview\/index.php/}getActions(){return[{action:(e=(0,o.A)((function*(e){yield I.CoreNavigator.navigateToSitePath(g.H,{siteId:e})})),function action(n){return e.apply(this,arguments)})}];var e}isEnabled(e){return(0,o.A)((function*(){return b.CoreGrades.isCourseGradesEnabled(e)}))()}}return(e=CoreGradesOverviewLinkHandlerService).ɵfac=(()=>{let n;return function CoreGradesOverviewLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesOverviewLinkHandlerService})();const P=(0,C.Qd)(T);var k=r(86123),x=r(52749),F=r(55554);let R=(()=>{var e;class CoreGradesUserHandlerService{constructor(){this.name="CoreGrades",this.priority=500,this.type=p.CoreUserProfileHandlerType.LIST_ITEM,this.cacheEnabled=!0}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForContext(e,n){return(0,o.A)((function*(){const r=x.CoreSites.getCurrentSite();if(!r)return!1;if(e===p.CoreUserDelegateContext.USER_MENU){if(r.isFeatureDisabled("CoreMainMenuDelegate_CoreGrades"))return!1}else if(r.isFeatureDisabled("CoreUserDelegate_CoreGrades:viewGrades"))return!1;return e===p.CoreUserDelegateContext.COURSE?F.g.ignoreErrors(b.CoreGrades.isPluginEnabledForCourse(n),!1):b.CoreGrades.isCourseGradesEnabled()}))()}isEnabledForUser(e,n,r){return(0,o.A)((function*(){return n===p.CoreUserDelegateContext.COURSE?F.g.promiseWorks(b.CoreGrades.getCourseGradesTable(r,e.id)):e.id===x.CoreSites.getCurrentSiteUserId()}))()}getDisplayData(e,n){return n===p.CoreUserDelegateContext.COURSE?{icon:"fas-chart-bar",title:"core.grades.grades",class:"core-grades-user-handler",action:(e,n,r,o)=>{e.preventDefault(),e.stopPropagation(),I.CoreNavigator.navigateToSitePath([k.CORE_COURSE_PAGE_NAME,o,f.Le,n.id,g.H].join("/"))}}:{icon:"fas-chart-bar",title:"core.grades.grades",class:"core-grades-coursesgrades-handler",action:e=>{e.preventDefault(),e.stopPropagation(),I.CoreNavigator.navigateToSitePath(g.H)}}}}return(e=CoreGradesUserHandlerService).ɵfac=function CoreGradesUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesUserHandlerService})();const N=(0,C.Qd)(R);let L=(()=>{var e;class CoreGradesReportLinkHandlerService extends E.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreGradesReportLinkHandler",this.pattern=/\/grade\/report(\/user)?\/index.php/}getActions(e,n,r,i,s){const a=i||Number(r.id);return s=s||{},[{action:(c=(0,o.A)((function*(e){var n;const o=r.userid?parseInt(r.userid,10):void 0,i=(null===(n=s)||void 0===n?void 0:n.cmid)&&parseInt(s.cmid,10)||void 0;yield w.CoreGradesHelper.goToGrades(a,o,i,e)})),function action(e){return c.apply(this,arguments)})}];var c}isEnabled(e,n,r,i){return(0,o.A)((function*(){return!(!i&&!r.id)&&b.CoreGrades.isPluginEnabledForCourse(i||Number(r.id),e)}))()}}return(e=CoreGradesReportLinkHandlerService).ɵfac=(()=>{let n;return function CoreGradesReportLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesReportLinkHandlerService})();const H=(0,C.Qd)(L);let U=(()=>{var e;class CoreGradesUserLinkHandlerService extends E.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreGradesUserLinkHandler",this.pattern=/\/course\/user\.php.*[?&]mode=grade/}getActions(e,n,r,i,s){const a=i||Number(r.id);return s=s||{},[{action:(c=(0,o.A)((function*(e){var n;const o=r.user?parseInt(r.user,10):void 0,i=(null===(n=s)||void 0===n?void 0:n.cmid)&&parseInt(s.cmid,10)||void 0;yield w.CoreGradesHelper.goToGrades(a,o,i,e)})),function action(e){return c.apply(this,arguments)})}];var c}isEnabled(e,n,r,i){return(0,o.A)((function*(){return!(!i&&!r.id)&&b.CoreGrades.isPluginEnabledForCourse(i||Number(r.id),e)}))()}}return(e=CoreGradesUserLinkHandlerService).ɵfac=(()=>{let n;return function CoreGradesUserLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesUserLinkHandlerService})();const B=(0,C.Qd)(U);let j=(()=>{var e;class CoreGradesCourseParticipantsOptionHandlerService{constructor(){this.name="CoreGradesParticipants",this.priority=400}invalidateEnabledForCourse(e,n){return(0,o.A)((function*(){yield b.CoreGrades.invalidateCourseGradesPermissionsData(e),void 0===(null==n?void 0:n.grades)&&(yield v.CoreCourses.invalidateUserCourses())}))()}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForCourse(e,n,r){return(0,o.A)((function*(){if(!(yield w.CoreGradesHelper.showGradebook(e,n,r)))return!1;return yield b.CoreGrades.canViewAllGrades(e)}))()}getDisplayData(){return{title:"core.grades.grades",class:"core-grades-course-participants-handler",page:g.k}}}return(e=CoreGradesCourseParticipantsOptionHandlerService).ɵfac=function CoreGradesCourseParticipantsOptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesCourseParticipantsOptionHandlerService})();const V=(0,C.Qd)(j);var G=r(94114),z=r(93417);function getGradesServices(){return _getGradesServices.apply(this,arguments)}function _getGradesServices(){return(_getGradesServices=(0,o.A)((function*(){const{CoreGradesProvider:e}=yield Promise.resolve().then(r.bind(r,27338)),{CoreGradesHelperProvider:n}=yield Promise.resolve().then(r.bind(r,97383));return[e,n]}))).apply(this,arguments)}const q=[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(73407)]).then(r.bind(r,73407))},{path:":courseId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(36955)]).then(r.bind(r,59336))}],W=[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(73407)]).then(r.bind(r,73407)),loadChildren:()=>[{path:":courseId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(36955)]).then(r.bind(r,59336))}]}],K=[{path:g.H,loadChildren:()=>[...(0,G.VI)(q,(()=>z.CoreScreen.isMobile)),...(0,G.VI)(W,(()=>z.CoreScreen.isTablet))],data:{swipeManagerSource:"courses"}},{path:`${k.CORE_COURSE_PAGE_NAME}/:courseId/${f.Le}/:userId/${g.H}`,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(36955)]).then(r.bind(r,59336))},...(0,G.VI)([{path:`${k.CORE_COURSE_PAGE_NAME}/${k.CORE_COURSE_INDEX_PATH}/${g.k}/:userId`,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(36955)]).then(r.bind(r,59336)),data:{swipeManagerSource:"participants"}}],(()=>z.CoreScreen.isMobile))],Q=[{path:g.H,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(36955)]).then(r.bind(r,59336))},{path:g.k,loadComponent:()=>Promise.all([r.e(33285),r.e(75357),r.e(72076),r.e(40974)]).then(r.bind(r,40974)),loadChildren:()=>(0,G.VI)([{path:":userId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(36955)]).then(r.bind(r,59336)),data:{swipeManagerSource:"participants"}}],(()=>z.CoreScreen.isTablet))}];let X=(()=>{var e;class CoreGradesModule{}return(e=CoreGradesModule).ɵfac=function CoreGradesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{p.CoreUserDelegate.registerHandler(N.instance),s.CoreContentLinksDelegate.registerHandler(H.instance),s.CoreContentLinksDelegate.registerHandler(B.instance),s.CoreContentLinksDelegate.registerHandler(P.instance),c.CoreCourseOptionsDelegate.registerHandler(_.instance),c.CoreCourseOptionsDelegate.registerHandler(V.instance)}}],imports:[u.b.forChild(K),a.l.forChild({children:Q})]}),CoreGradesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(X,{imports:[u.b,a.l]}))},97383:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreGradesHelper:()=>L,CoreGradesHelperProvider:()=>N});var o=r(10467),i=r(6787),s=r(52749),a=r(66110),c=r(44682),u=r(27338),p=r(75383),f=r(8014),g=r(81690),v=r(82907),C=r(15324),b=r(79555),w=r(75629),A=r(94247),_=r(97086),E=r(33014),I=r(35161),T=r(86123),P=r(55554),k=r(24502),x=r(95384),F=r(18150),R=r(54438);let N=(()=>{var e;class CoreGradesHelperProvider{constructor(){this.logger=i.CoreLogger.getInstance("CoreGradesHelperProvider")}formatGradeRowForTable(e,n){var r=this;return(0,o.A)((function*(){const o={};if(!n&&"leader"in e){var i;const n={itemtype:"leader",rowspan:null===(i=e.leader)||void 0===i?void 0:i.rowspan};return r.setRowStyleClasses(n,e.leader.class),n}for(let i in e){const a=e[i];if(null==a.content)continue;let c=String(a.content);if("itemname"===i){var s;const u=a;o.id=parseInt(u.id.split("_")[1],10),o.colspan=u.colspan,o.rowspan=(null===(s=e.leader)||void 0===s?void 0:s.rowspan)||1,yield r.setRowIconAndType(o,c),r.setRowStyleClasses(o,u.class),o.rowclass+=u.class.indexOf("hidden")>=0?" hidden":"",o.rowclass+=u.class.indexOf("dimmed_text")>=0?" dimmed_text":"",n||(c=c.replace(/<span[^>]+>.+?<\/span>/i,"")),c=c.replace(/<\/span>/gi,"\n"),c=p.Ni.cleanTags(c,{trim:!0}),i="gradeitem"}else"grade"===i?(o.gradeClass=a.class.includes("gradepass")?"text-success":a.class.includes("gradefail")?"text-danger":"",c.includes("action-menu")&&(c=p.Ni.processHTML(c,(e=>{var n;null===(n=e.querySelector(".action-menu"))||void 0===n||null===(n=n.parentElement)||void 0===n||n.remove()}))),c.includes("fa-check")?(o.gradeIcon="fas-check",o.gradeIconAlt=b.HT.instant("core.grades.pass"),c=p.Ni.cleanTags(c)):(c.includes("fa-times")||c.includes("fa-xmark"))&&(o.gradeIcon="fas-xmark",o.gradeIconAlt=b.HT.instant("core.grades.fail"),c=p.Ni.cleanTags(c)),o.penalty=L.getPenaltyFromGrade(c)):c=p.Ni.replaceNewLines(c,"<br>");"category"!==o.itemtype&&(o.expandable=!0,o.expanded=!1,o.detailsid=`grade-item-${o.id}-details`,o.ariaLabel=`${o.gradeitem} (${o.grade})`),"&nbsp;"==c&&(c=""),o[i]=c.trim()}return o}))()}formatGradeItem(e){for(const n in e){const r=n.indexOf("formatted");r>0&&(e[n.substring(0,r)]=e[n])}return e}formatGradesTable(e){var n=this;return(0,o.A)((function*(){const r=e.maxdepth,o={columns:[],rows:[]},i={gradeitem:!0,weight:!1,grade:!1,range:!1,percentage:!1,lettergrade:!1,rank:!1,average:!1,feedback:!1,contributiontocoursetotal:!1};o.rows=yield n.formatGradesTableRows(e.tabledata);let s=o.rows.find((e=>"leader"!==e.itemtype&&(void 0!==e.grade||void 0!==e.percentage)));s&&void 0!==s.grade?i.grade=!0:s&&void 0!==s.percentage?i.percentage=!0:(s=o.rows.find((e=>"leader"!==e.itemtype)),i.grade=!0);for(const e in i)s&&void 0!==s[e]&&o.columns.push({name:e,colspan:"gradeitem"===e?r:1,hiddenPhone:!i[e]});return o}))()}formatGradesTableRows(e){var n=this;return(0,o.A)((function*(){const r=!s.CoreSites.getRequiredCurrentSite().isVersionGreaterEqualThan("4.1"),o=yield Promise.all(e.map((e=>n.formatGradeRowForTable(e,r))));if(!r)for(let e=0;e<o.length-1;e++){var i,a;const n=o[e],r=null!==(i=o[e-1])&&void 0!==i?i:null;"leader"===n.itemtype&&(n.colspan=r.colspan,r.rowclass=`${null!==(a=r.rowclass)&&void 0!==a?a:""} ion-no-border`.trim())}return o}))()}getGradesCourseData(e){var n=this;return(0,o.A)((function*(){let r=!1;try{const o=yield a.CoreCourses.getUserCourses(void 0,void 0,0),i=k.R.toObject(o,"id");r=n.addCourseData(e,i)}catch{r=!0}if(r){const r=yield a.CoreCourses.getCoursesByField("ids",e.map((e=>e.courseid)).join(",")),o=k.R.toObject(r,"id");n.addCourseData(e,o)}return e.filter((e=>"courseFullName"in e))}))()}addCourseData(e,n){let r=!1;for(const o of e)o.courseid in n?o.courseFullName=n[o.courseid].fullname:r=!0;return r}getGradeLabelFromValue(e,n){if(n=Number(n),!e||!n||n<=0)return"";const r=e.find((e=>e.value==n));return r?r.label:""}getGradeModuleItems(e,n,r,i,s,a=!1){var c=this;return(0,o.A)((function*(){return(yield u.CoreGrades.getGradeItems(e,r,i,s,a)).filter((e=>e.cmid==n)).map((e=>c.formatGradeItem(e)))}))()}getGradeValueFromLabel(e,n){if(!e||!n)return 0;const r=e.find((e=>e.label==n));return!r||r.value<0?0:r.value}getModuleLink(e){const n=v.y.toDom(e)[0],r=!!n.attributes.href&&n.attributes.href.value;return!(!r||r.indexOf("/mod/")<0)&&r}getModuleGrades(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreGrades.getCourseGradesTable(e);if(!o.tabledata)return[];const i=/href="([^"]*\/mod\/[^"|^/]*\/[^"|^.]*\.php[^"]*)/;return r.formatGradesTableRows(o.tabledata.filter((e=>{if(e.itemname&&e.itemname.content){const r=e.itemname.content.match(i);if(r&&r.length){const e=f.F.extractUrlParams(r[1]);return e&&parseInt(e.id)===n}}return!1})))}))()}getPenaltyFromGrade(e){if(!e)return;const n=document.createElement("template");n.innerHTML=e;const r=n.content.querySelector(".penalty-indicator-icon");return null==r?void 0:r.title}goToGrades(e,n,r,i){return(0,o.A)((function*(){const o=yield E.CoreLoadings.show(),a=yield s.CoreSites.getSite(i);i=a.id;const p=a.getUserId();try{if(!r)throw new w.CoreError("Invalid moduleId");const o=yield u.CoreGrades.getGradeItems(e,n,void 0,i),s=Array.isArray(o)&&o.find((e=>r==e.cmid));if(!s)throw new w.CoreError("Grade item not found.");const a=s.id;yield P.g.ignoreErrors(C.CoreNavigator.navigateToSitePath(`/${F.H}/${e}`,{params:{gradeId:a},siteId:i}))}catch{try{if(n&&n!=p&&(yield P.g.ignoreErrors(C.CoreNavigator.navigateToSitePath(`/${F.H}/${e}`,{siteId:i}))),c.CoreCourse.currentViewIsCourse(e))return c.CoreCourse.selectCourseTab("CoreGrades"),void 0;yield A.CoreCourseHelper.getAndOpenCourse(e,{selectedTab:"CoreGrades"},i)}catch{yield C.CoreNavigator.navigateToSitePath(`/${F.H}/${e}`,{siteId:i})}}finally{o.dismiss()}}))()}invalidateGradeModuleItems(e,n,r,i){return(0,o.A)((function*(){i=i||s.CoreSites.getCurrentSiteId();const o=yield s.CoreSites.getSite(i);return n=n||o.getUserId(),u.CoreGrades.invalidateCourseGradesItemsData(e,n,r,i)}))()}setRowStyleClasses(e,n){var r,o,i;const s=parseInt(null!==(r=null===(o=n.match(/(?:^|\s)level(\d+)(?:$|\s)/))||void 0===o?void 0:o[1])&&void 0!==r?r:"0");e.rowclass=`${null!==(i=e.rowclass)&&void 0!==i?i:""} ${s%2==0?"even":"odd"}`.trim(),n.match(/(^|\s)(category|bagg(b|t))($|\s)/)&&(e.rowclass+=" core-bold")}setRowIconAndType(e,n){return(0,o.A)((function*(){if((n=n.replace("%2F","/").replace("%2f","/")).indexOf("/agg_mean")>-1)e.itemtype="agg_mean",e.icon="moodle-agg-mean",e.iconAlt=b.HT.instant("core.grades.aggregatemean");else if(n.indexOf("/agg_sum")>-1)e.itemtype="agg_sum",e.icon="moodle-agg-sum",e.iconAlt=b.HT.instant("core.grades.aggregatesum");else if(n.indexOf("/outcomes")>-1||n.indexOf("fa-tasks")>-1||n.indexOf("fa-list-check")>-1)e.itemtype="outcome",e.icon="fas-list-check",e.iconAlt=b.HT.instant("core.grades.outcome");else if(n.indexOf("i/folder")>-1||n.indexOf("fa-folder")>-1||n.indexOf("category-content")>-1)e.itemtype="category",e.icon="fas-folder",e.iconAlt=b.HT.instant("core.grades.category");else if(n.indexOf("/manual_item")>-1||n.indexOf("fa-square-o")>-1||n.indexOf("fa-pencil-square-o")>-1||n.indexOf("fa-pen-to-square")>-1)e.itemtype="manual",e.icon="fas-pen-to-square",e.iconAlt=b.HT.instant("core.grades.manualitem");else if(n.indexOf("/calc")>-1||n.indexOf("fa-calculator")>-1)e.itemtype="calc",e.icon="fas-calculator",e.iconAlt=b.HT.instant("core.grades.calculatedgrade");else if(n.indexOf("/mod/")>-1){const i=n.match(/mod\/([^/]*)\//),s=null==i?void 0:i[1];if(void 0!==s){var r,o;const i=null!==(r=null===(o=(0,I.B)(n).querySelector("img"))||void 0===o?void 0:o.getAttribute("src"))&&void 0!==r?r:void 0;e.itemtype="mod",e.itemmodule=s,e.iconAlt=x.CoreCourseModuleHelper.translateModuleName(e.itemmodule)||"",e.image=yield _.CoreCourseModuleDelegate.getModuleIconSrc(s,i)}}else if(e.rowspan&&e.rowspan>1)e.itemtype="category",e.icon="fas-cubes",e.iconAlt=b.HT.instant("core.grades.category");else if(n.indexOf("src=")>-1){e.itemtype="unknown";const r=n.match(/src="([^"]*)"/);e.image=null==r?void 0:r[1],e.iconAlt=b.HT.instant("core.unknown")}else if(n.indexOf("<i ")>-1){e.itemtype="unknown";const r=n.match(/<i class="(?:[^"]*?\s)?(fa-[a-z0-9-]+)/);e.icon=r?r[1]:"",e.iconAlt=b.HT.instant("core.unknown")}}))()}makeGradesMenu(e,n,r="",i="",s){return(0,o.A)((function*(){if(void 0===e)return[];if(e<0){if(s)return g.j.makeMenuFromList(s,r,void 0,i);if(n){const e=yield c.CoreCourse.getModuleBasicGradeInfo(n);if(e&&e.scale)return g.j.makeMenuFromList(e.scale,r,void 0,i)}return[]}if(e>0){const n=[];r&&n.push({label:r,value:i});for(let r=e;r>=0;r--)n.push({label:`${r} / ${e}`,value:r});return n}return[]}))()}isGradeItem(e){return"outcomeid"in e}showGradebook(e,n,r){return(0,o.A)((function*(){return(!n||n.type!==T.CoreCourseAccessDataType.ACCESS_GUEST)&&(void 0!==(null==r?void 0:r.grades)?r.grades:u.CoreGrades.isPluginEnabledForCourse(e))}))()}}return(e=CoreGradesHelperProvider).ɵfac=function CoreGradesHelperProvider_Factory(n){return new(n||e)},e.ɵprov=R.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesHelperProvider})();const L=(0,b.Qd)(N)},27338:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreGrades:()=>g,CoreGradesProvider:()=>f});var o=r(10467),i=r(66110),s=r(52749),a=r(79555),c=r(6787),u=r(75629),p=r(54438);let f=(()=>{var e;class CoreGradesProvider{constructor(){this.logger=c.CoreLogger.getInstance("CoreGradesProvider")}getCourseGradesCacheKey(e,n){return this.getCourseGradesPrefixCacheKey(e)+n}getCourseGradesItemsCacheKey(e,n,r){return r=null!=r?r:0,`${this.getCourseGradesPrefixCacheKey(e)+n}:${r}`}getCourseGradesPrefixCacheKey(e){return`${CoreGradesProvider.ROOT_CACHE_KEY}items:${e}:`}getCourseGradesPermissionsCacheKey(e){return`${this.getCourseGradesPrefixCacheKey(e)}:canviewallgrades`}getCoursesGradesCacheKey(){return`${CoreGradesProvider.ROOT_CACHE_KEY}coursesgrades`}getGradeItems(e,n,r,i,a=!1){var c=this;return(0,o.A)((function*(){i=i||s.CoreSites.getCurrentSiteId();const o=yield s.CoreSites.getSite(i);return n=n||o.getUserId(),c.getCourseGradesItems(e,n,r,i,a)}))()}getCourseGradesItems(e,n,r,i,a=!1){var c=this;return(0,o.A)((function*(){var o;const p=yield s.CoreSites.getSite(i);n=n||p.getUserId(),r=r||0,c.logger.debug(`Get grades for course '${e}' and user '${n}'`);const f={courseid:e,userid:n,groupid:r},g={cacheKey:c.getCourseGradesItemsCacheKey(e,n,r)};a&&(g.getFromCache=!1,g.emergencyCache=!1);const v=yield p.read("gradereport_user_get_grade_items",f,g);if(null==v||null===(o=v.usergrades)||void 0===o||!o[0])throw new u.CoreError("Couldn't get course grades items");return v.usergrades[0].gradeitems}))()}getCourseGradesTable(e,n,r,i=!1){var a=this;return(0,o.A)((function*(){var o;const c=yield s.CoreSites.getSite(r);n=n||c.getUserId(),a.logger.debug(`Get grades for course '${e}' and user '${n}'`);const p={courseid:e,userid:n},f={cacheKey:a.getCourseGradesCacheKey(e,n)};i&&(f.getFromCache=!1,f.emergencyCache=!1);const g=yield c.read("gradereport_user_get_grades_table",p,f);if(null==g||null===(o=g.tables)||void 0===o||!o[0])throw new u.CoreError("Couldn't get course grades table");return g.tables[0]}))()}getCoursesGrades(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);n.logger.debug("Get course grades");const o={cacheKey:n.getCoursesGradesCacheKey()},i=yield r.read("gradereport_overview_get_course_grades",{},o);if(null==i||!i.grades)throw new Error("Couldn't get course grades");return i.grades}))()}invalidateAllCourseGradesData(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getCourseGradesPrefixCacheKey(e))}))()}invalidateCourseGradesData(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);n=n||o.getUserId(),yield o.invalidateWsCacheForKey(i.getCourseGradesCacheKey(e,n))}))()}invalidateCoursesGradesData(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);yield r.invalidateWsCacheForKey(n.getCoursesGradesCacheKey())}))()}invalidateCourseGradesItemsData(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);yield o.invalidateWsCacheForKey(a.getCourseGradesItemsCacheKey(e,n,r))}))()}invalidateCourseGradesPermissionsData(e){var n=this;return(0,o.A)((function*(){const r=s.CoreSites.getRequiredCurrentSite();yield r.invalidateWsCacheForKey(n.getCourseGradesPermissionsCacheKey(e))}))()}isCourseGradesEnabled(e){return(0,o.A)((function*(){return-1!==((yield s.CoreSites.getSite(e)).getStoredConfig("mygradesurl")||"").indexOf("/grade/report/overview/")}))()}isPluginEnabledForCourse(e,n){return(0,o.A)((function*(){if(!e)return!1;const r=yield i.CoreCourses.getUserCourse(e,!0,n);return!(r&&void 0!==r.showgrades&&!r.showgrades)}))()}logCourseGradesView(e,n){return(0,o.A)((function*(){n=n||s.CoreSites.getCurrentSiteUserId();const r=s.CoreSites.getCurrentSite(),o={courseid:e,userid:n};yield null==r?void 0:r.write("gradereport_user_view_grade_report",o)}))()}logCoursesGradesView(e){return(0,o.A)((function*(){e||(e=s.CoreSites.getCurrentSiteHomeId());const n={courseid:e},r=s.CoreSites.getCurrentSite();yield null==r?void 0:r.write("gradereport_overview_view_grade_report",n)}))()}canViewAllGrades(e){var n=this;return(0,o.A)((function*(){const r=s.CoreSites.getRequiredCurrentSite();if(!r.wsAvailable("gradereport_user_get_access_information"))return!1;const o={courseid:e},i={cacheKey:n.getCourseGradesPermissionsCacheKey(e)};return(yield r.read("gradereport_user_get_access_information",o,i)).canviewallgrades}))()}}return(e=CoreGradesProvider).TYPE_NONE=0,e.TYPE_VALUE=1,e.TYPE_SCALE=2,e.TYPE_TEXT=3,e.ROOT_CACHE_KEY="mmGrades:",e.ɵfac=function CoreGradesProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGradesProvider})();const g=(0,a.Qd)(f)},98275:(e,n,r)=>{"use strict";r.d(n,{qY:()=>P,Xh:()=>k});var o=r(10467),i=r(89377),s=r(52749),a=r(75383),c=r(81690),u=r(53867),p=r(45507),f=r(88793),g=r(12364),v=r(55554),C=r(8756),b=r(37570),w=r(87809);let A=(()=>{class CoreH5PFileStorage{cacheAssets(e,n,r,i){var s=this;return(0,o.A)((function*(){const a=s.getCachedAssetsFolderPath(r,i);yield Promise.all(Object.keys(e).map(function(){var r=(0,o.A)((function*(r){const o=e[r];if(!o||!o.length)return;const i=`${n}.${"scripts"==r?"js":"css"}`,c=C.$.concatenatePaths(a,i),u=yield s.concatenateFiles(o,r,a);yield p.CoreFile.writeFile(c,u),e[r]=[{path:C.$.concatenatePaths(CoreH5PFileStorage.CACHED_ASSETS_FOLDER_NAME,i),version:""}]}));return function(e){return r.apply(this,arguments)}}()))}))()}concatenateFiles(e,n,r){return(0,o.A)((function*(){let o="";for(const i in e){const s=e[i];let c=yield p.CoreFile.readFile(s.path);if("scripts"==n){o+=`${c};\n`;continue}const u=c.match(/url\(['"]?([^"')]+)['"]?\)/gi),f=s.path.replace(/(^\/|\/$)/g,""),g={};u&&u.length&&u.forEach((e=>{const n=e.replace(/(url\(['"]?|['"]?\)$)/gi,"");if(g[n]||n.match(/^(data:|([a-z0-9]+:)?\/)/i))return;g[n]=n;const o=w.H.getFileAndDirectoryFromPath(f).directory;c=c.replace(new RegExp(a.Ni.escapeForRegex(e),"g"),`url("${C.$.changeRelativePath(o,n,r)}")`)})),o+=`${c}\n`}return o}))()}deleteCachedAssets(e,n){var r=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(n),i=[];e.forEach((e=>{const n=r.getCachedAssetsFolderPath(e.foldername,o.getId());["js","css"].forEach((r=>{const o=C.$.concatenatePaths(n,`${e.hash}.${r}`);i.push(p.CoreFile.removeFile(o))}))})),yield v.g.allPromisesIgnoringErrors(i)}))()}deleteContentFolder(e,n){var r=this;return(0,o.A)((function*(){yield p.CoreFile.removeDir(r.getContentFolderPath(e,n))}))()}deleteContentIndex(e,n){var r=this;return(0,o.A)((function*(){yield p.CoreFile.removeFile(r.getContentIndexPath(e,n))}))()}deleteContentIndexesForLibrary(e,n){var r=this;return(0,o.A)((function*(){const i=yield s.CoreSites.getSite(n),a=i.getDb(),c=`SELECT DISTINCT hc.foldername FROM ${b.AI} hcl JOIN ${b.n9} hc ON hcl.h5pid = hc.id WHERE hcl.libraryid = ?`,u=[e],p=yield a.execute(c,u);yield Promise.all(Array.from(p.rows).map(function(){var e=(0,o.A)((function*(e){try{yield r.deleteContentIndex(e.foldername,i.getId())}catch{}}));return function(n){return e.apply(this,arguments)}}()))}))()}deleteLibraryFolder(e,n,r){var i=this;return(0,o.A)((function*(){yield p.CoreFile.removeDir(i.getLibraryFolderPath(e,n,r))}))()}getCachedAssets(e){var n=this;return(0,o.A)((function*(){const r=yield Promise.all([n.getCachedAsset(e,".js"),n.getCachedAsset(e,".css")]),o={scripts:r[0],styles:r[1]};return o.scripts||o.styles?o:null}))()}getCachedAsset(e,n){return(0,o.A)((function*(){try{const r=C.$.concatenatePaths(CoreH5PFileStorage.CACHED_ASSETS_FOLDER_NAME,e+n);if((yield p.CoreFile.getFileSize(r))>0)return[{path:r,version:""}]}catch(e){}}))()}getCachedAssetsFolderPath(e,n){return C.$.concatenatePaths(this.getContentFolderPath(e,n),CoreH5PFileStorage.CACHED_ASSETS_FOLDER_NAME)}getContentFolderNameByUrl(e,n){return(0,o.A)((function*(){const r=yield f.CoreFilepool.getFilePathByUrl(n,e),o=w.H.getFileAndDirectoryFromPath(r);return g.A.removeExtension(o.name)}))()}getContentFolderPath(e,n){return C.$.concatenatePaths(this.getExternalH5PFolderPath(n),`packages/${e}/content`)}getContentIndexFileUrl(e,n){var r=this;return(0,o.A)((function*(){n=n||s.CoreSites.getCurrentSiteId();const o=yield r.getContentFolderNameByUrl(e,n),i=yield p.CoreFile.getFile(r.getContentIndexPath(o,n));return p.CoreFile.getFileEntryURL(i)}))()}getContentIndexPath(e,n){return C.$.concatenatePaths(this.getContentFolderPath(e,n),"index.html")}getCoreH5PPath(){return C.$.concatenatePaths(p.CoreFile.getWWWPath(),"/assets/lib/h5p/")}getDependencyPath(e){return`libraries/${P.libraryToFolderName(e)}`}getExternalH5PFolderPath(e){return C.$.concatenatePaths(p.CoreFile.getSiteFolder(e),"h5p")}getLibrariesFolderPath(e){return C.$.concatenatePaths(this.getExternalH5PFolderPath(e),"libraries")}getLibraryFolderPath(e,n,r){return r||(r=P.libraryToFolderName(e)),C.$.concatenatePaths(this.getLibrariesFolderPath(n),r)}saveContent(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getContentFolderPath(n,r);yield v.g.ignoreErrors(p.CoreFile.removeDir(o)),yield p.CoreFile.moveDir(e,o)}))()}saveLibrary(e,n){var r=this;return(0,o.A)((function*(){n=n||s.CoreSites.getCurrentSiteId();const o=r.getLibraryFolderPath(e,n);try{yield p.CoreFile.removeDir(o)}catch{}e.uploadDirectory&&(yield p.CoreFile.moveDir(e.uploadDirectory,o,!0))}))()}checkLibrary(e,n){var r=this;return(0,o.A)((function*(){const i=function(){var e=(0,o.A)((function*(e,n=""){const r=yield p.CoreFile.getDirectoryContents(e+n),o=[];for(const s of r){const r=`${n}/${s.name}`;s.isDirectory?o.push(...yield i(e,r)):o.push(r)}return o}));return function getFileNames(n){return e.apply(this,arguments)}}();if(!e.uploadDirectory)return!0;n=n||s.CoreSites.getCurrentSiteId();const a=r.getLibraryFolderPath(e,n),[c,u]=yield Promise.all([i(e.uploadDirectory),i(a).catch((()=>[])).then((e=>new Set(e)))]);return c.every((e=>u.has(e)))}))()}}return CoreH5PFileStorage.CACHED_ASSETS_FOLDER_NAME="cachedassets",CoreH5PFileStorage})();var _=r(79555),E=r(24502),I=r(58364);const T=["span","p","div","h1","h2","h3","table","col","figure","td","th","li"];class CoreH5PContentValidator{constructor(e){this.siteId=e,this.typeMap={text:"validateText",number:"validateNumber",boolean:"validateBoolean",list:"validateList",group:"validateGroup",file:"validateFile",image:"validateImage",video:"validateVideo",audio:"validateAudio",select:"validateSelect",library:"validateLibrary"},this.nextWeight=1,this.libraries={},this.dependencies={},this.relativePathRegExp=/^((\.\.\/){1,2})(.*content\/)?(\d+|editor)\/(.+)$/,this.allowedHtml={}}addon(e){var n=this;return(0,o.A)((function*(){const r=`preloaded-${e.machineName}`;n.dependencies[r]={library:e,type:"preloaded"},n.nextWeight=yield u.CoreH5P.h5pCore.findLibraryDependencies(n.dependencies,e,n.nextWeight),n.dependencies[r].weight=n.nextWeight++}))()}getDependencies(){return this.dependencies}validateMetadata(e){const n=this.getMetadataSemantics(),r=c.j.clone(e||{});return void 0===r.license&&(r.license="U"),this.validateGroup(r,{type:"group",fields:n},!1)}validateText(e,n){if("string"!=typeof e&&(e=""),n.tags){var r;let o=["div","span","p","br"].concat(n.tags);-1!=o.indexOf("table")&&(o=o.concat(["tr","td","th","colgroup","col","thead","tbody","tfoot","figure","figcaption"])),-1!=o.indexOf("b")&&o.push("strong"),-1!=o.indexOf("i")&&o.push("em"),-1==o.indexOf("ul")&&-1==o.indexOf("ol")||o.push("li"),-1==o.indexOf("del")&&-1==o.indexOf("strike")||o.push("s"),o=E.R.unique(o);const i=[];n.font&&(n.font.size&&i.push(/^font-size: *[0-9.]+(em|px|%) *;?$/i),n.font.family&&i.push(/^font-family: *[-a-z0-9,'&; ]+;?$/i),n.font.color&&i.push(/^color: *(#[a-f0-9]{3}[a-f0-9]{3}?|rgba?\([0-9, ]+\)|hsla?\([0-9,.% ]+\)) *;?$/i),n.font.background&&i.push(/^background-color: *(#[a-f0-9]{3}[a-f0-9]{3}?|rgba?\([0-9, ]+\)|hsla?\([0-9,.% ]+\)) *;?$/i),n.font.spacing&&i.push(/^letter-spacing: *[0-9.]+(em|px|%) *;?$/i),n.font.height&&i.push(/^line-height: *[0-9.]+(em|px|%|) *;?$/i)),-1!=(null===(r=n.tags)||void 0===r?void 0:r.indexOf("table"))&&(i.push(/^border: *[0-9.]+(em|px|%|) *(none|solid|dotted|dashed|double|groove|ridge|inset|outset) *(#[a-f0-9]{3}[a-f0-9]{3}?|rgba?\([0-9, ]+\)|hsla?\([0-9,.% ]+\)) *;?$/i),i.push(/^border-style: *(none|solid|dotted|dashed|double|groove|ridge|inset|outset) *;?$/i),i.push(/^border-width: *[0-9.]+(em|px|%|) *;?$/i),i.push(/^border-color: *(#[a-f0-9]{3}[a-f0-9]{3}?|rgba?\([0-9, ]+\)|hsla?\([0-9,.% ]+\)) *;?$/i),i.push(/^vertical-align: *(middle|top|bottom);?$/i),i.push(/^padding: *[0-9.]+(em|px|%|) *;?$/i),i.push(/^width: *[0-9.]+(em|px|%|) *;?$/i),i.push(/^height: *[0-9.]+(em|px|%|) *;?$/i),i.push(/^float: *(right|left|none) *;?$/i),i.push(/^border-collapse: *collapse *;?$/i),i.push(/^background-color: *(#[a-f0-9]{3}[a-f0-9]{3}?|rgba?\([0-9, ]+\)|hsla?\([0-9,.% ]+\)) *;?$/i)),i.push(/^text-align: *(center|left|right);?$/i),e=this.filterXss(e,o,i)}else e=a.Ni.escapeHTML(e,!1);return void 0!==n.maxLength&&(e=e.substring(0,n.maxLength)),e}validateContentFiles(e,n=!1){return!0}validateNumber(e,n){let r=Number(e);if(isNaN(r)&&(r=0),void 0!==n.min&&r<n.min&&(r=n.min),void 0!==n.max&&r>n.max&&(r=n.max),void 0!==n.step){const e=(r-(void 0!==n.min?n.min:0))%n.step;0!==e&&(r-=e)}return void 0!==n.decimals&&(r=Number(r.toFixed(n.decimals))),r}validateBoolean(e){return!!e}validateSelect(e,n){const r=n.optional,o={};let i=!1;if(n.options&&n.options.length&&(i=!0,n.options.forEach((e=>{var n;"optgroup"==e.type?null===(n=e.options)||void 0===n||n.forEach((e=>{o[e.value||""]=!0})):e.value&&(o[e.value]=!0)}))),n.multiple&&Array.isArray(e))for(const n in e){const s=e[n];!i||r||o[s]?e[n]=a.Ni.escapeHTML(s,!1):delete e[n]}else Array.isArray(e)&&(e=e[0]),!i||r||o[e]||(e=n.options[0].value||""),e=a.Ni.escapeHTML(e,!1);return e}validateList(e,n){var r=this;return(0,o.A)((function*(){const o=n.field,i=r[r.typeMap[o.type||""]].bind(r),s=Array.isArray(e);let a=Object.keys(e);void 0!==n.max&&(a=a.slice(0,n.max));for(const n in a){const r=a[n],c=parseInt(r,10);if(isNaN(c))delete e[r];else{const n=yield i(e[c],o);null===n?s?e.splice(c,1):delete e[r]:e[c]=n}}return s||(e=I.T.toArray(e)),e.length?e:null}))()}validateFilelike(e,n,r=[]){var i=this;return(0,o.A)((function*(){const o=e.path.match(i.relativePathRegExp);o&&o.length&&(e.path=o[5]),"#tmp"===e.path.slice(-4)&&(e.path=e.path.substring(0,e.path.length-4)),e.path=a.Ni.escapeHTML(e.path,!1),e.mime&&(e.mime=a.Ni.escapeHTML(e.mime,!1));let s=["path","mime","copyright"].concat(r);return n.extraAttributes&&(s=s.concat(n.extraAttributes)),s=E.R.unique(s),i.filterParams(e,s),"string"==typeof e.width&&(e.width=parseInt(e.width,10)),"string"==typeof e.height&&(e.height=parseInt(e.height,10)),e.codecs&&(e.codecs=a.Ni.escapeHTML(e.codecs,!1)),"string"==typeof e.bitrate&&(e.bitrate=parseInt(e.bitrate,10)),void 0!==e.quality&&(null===e.quality||void 0===e.quality.level||void 0===e.quality.label?delete e.quality:(i.filterParams(e.quality,["level","label"]),e.quality.level=Number(e.quality.level),e.quality.label=a.Ni.escapeHTML(e.quality.label,!1))),void 0!==e.copyright&&(yield i.validateGroup(e.copyright,i.getCopyrightSemantics())),e}))()}validateFile(e,n){return this.validateFilelike(e,n)}validateImage(e,n){return this.validateFilelike(e,n,["width","height","originalImage"])}validateVideo(e,n){var r=this;return(0,o.A)((function*(){for(const o in e)yield r.validateFilelike(e[o],n,["width","height","codecs","quality","bitrate"]);return e}))()}validateAudio(e,n){var r=this;return(0,o.A)((function*(){for(const o in e)yield r.validateFilelike(e[o],n);return e}))()}validateGroup(e,n,r=!0){var i=this;return(0,o.A)((function*(){if(!n.fields)return e;const o=!0===n.isSubContent;if(1==n.fields.length&&r&&!o){const r=n.fields[0];return i[i.typeMap[r.type||""]].bind(i)(e,r)}{const r=e;for(const e in r){if(o&&"subContentId"==e)continue;const s=n.fields.find((n=>n.name===e));let a=null;if(s){n.optional&&(s.optional=!0);const o=i[i.typeMap[s.type||""]].bind(i);o&&(a=yield o(r[e],s),r[e]=a)}null===a&&delete r[e]}return r}}))()}validateLibrary(e,n){var r=this;return(0,o.A)((function*(){if(!e.library)return;if(!r.libraries[e.library]){const n=P.libraryFromString(e.library);r.libraries[e.library]=yield u.CoreH5P.h5pCore.loadLibrary((null==n?void 0:n.machineName)||"",(null==n?void 0:n.majorVersion)||0,(null==n?void 0:n.minorVersion)||0,r.siteId)}const o=r.libraries[e.library];e.params=yield r.validateGroup(e.params,{type:"group",fields:o.semantics},!1),e.metadata&&(e.metadata=yield r.validateMetadata(e.metadata));let i=["library","params","subContentId","metadata"];n.extraAttributes&&(i=E.R.unique(i.concat(n.extraAttributes))),r.filterParams(e,i),e.subContentId&&!e.subContentId.match(/^\{?[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}\}?$/)&&delete e.subContentId;const s=`preloaded-${o.machineName}`;return r.dependencies[s]||(r.dependencies[s]={library:o,type:"preloaded"},r.nextWeight=yield u.CoreH5P.h5pCore.findLibraryDependencies(r.dependencies,o,r.nextWeight),r.dependencies[s].weight=r.nextWeight++),e}))()}filterParams(e,n){for(const r in e)-1==n.indexOf(r)&&delete e[r]}filterXss(e,n,r){if(!e||"string"!=typeof e)return e;n=n||["a","em","strong","cite","blockquote","code","ul","ol","li","dl","dt","dd"],this.allowedStyles=r,this.filterXssSplit(n,!0);const o=(e=(e=(e=(e=(e=e.replace(/&\s*\{[^}]*(\}\s*;?|$)/g,"")).replace(/&/g,"&amp;")).replace(/&amp;#([0-9]+;)/g,"&#$1")).replace(/&amp;#[Xx]0*((?:[0-9A-Fa-f]{2})+;)/g,"&#x$1")).replace(/&amp;([A-Za-z][A-Za-z0-9]*;)/g,"&$1")).match(/(<(?=[^a-zA-Z!/])|<!--.*?-->|<[^>]*(>|$)|>)/g);return o&&o.length&&o.forEach((n=>{e=e.replace(n,this.filterXssSplit([n]))})),e}filterXssSplit(e,n=!1){if(n)return this.allowedHtml=E.R.toObject(e),"";const r=e[0];if("<"!=r.substring(0,1))return"&gt;";if(1==r.length)return"&lt;";const o=r.match(/^<\s*(\/\s*)?([a-zA-Z0-9-]+)\s*([^>]*)>?|(<!--.*?-->)$/);if(!o)return"";const i=o[1]?o[1].trim():"",s=o[3]||"",a=o[4]||"";let c=o[2]||"";if(a&&(c="!--"),!this.allowedHtml[c.toLowerCase()])return"";if(a)return a;if(""!=i)return`</${c}>`;const u=s.replace(/(\s?)\/\s*$/g,"$1"),p=s!=u?" /":"";let f=this.filterXssAttributes(u,-1!=T.indexOf(c)?this.allowedStyles:void 0).join(" ");return f=f.replace(/[<>]/g,""),f=f.length?` ${f}`:"",`<${c}${f}${p}>`}filterXssAttributes(e,n){const r=[];let o=0,i="",s=!1;for(;0!=e.length;){let a,c=0,u=null;switch(o){case 0:u=e.match(/^([-a-zA-Z]+)/),u&&u.length>1&&(i=u[1].toLowerCase(),s="style"==i||"on"==i.substring(0,2)||"-"==i.substring(0,1)||i.length>96,c=o=1,e=e.replace(/^[-a-zA-Z]+/,""));break;case 1:if(e.match(/^\s*=\s*/)){c=1,o=2,e=e.replace(/^\s*=\s*/,"");break}e.match(/^\s+/)&&(c=1,o=0,s||r.push(i),e=e.replace(/^\s+/,""));break;case 2:if(u=e.match(/^"([^"]*)"(\s+|$)/),u&&u.length>1){if(n&&"style"===i){u[1].includes("font-family")&&(u[1]=u[1].replace(/&quot;/g,"'"));const e=[],o=u[1].split(";");for(const r of n)for(let n of o)if(n=n.trim(),n.match(r)){e.push(n);break}r.push(`style="${e.join(";")};"`);break}a=this.filterXssBadProtocol(u[1]),s||r.push(`${i}="${a}"`),c=1,o=0,e=e.replace(/^"[^"]*"(\s+|$)/,"");break}if(u=e.match(/^'([^']*)'(\s+|$)/),u&&u.length>1){a=this.filterXssBadProtocol(u[1]),s||r.push(`${i}="${a}"`),c=1,o=0,e=e.replace(/^'[^']*'(\s+|$)/,"");break}u=e.match(/^([^\s"']+)(\s+|$)/),u&&u.length>1&&(a=this.filterXssBadProtocol(u[1]),s||r.push(`${i}="${a}"`),c=1,o=0,e=e.replace(/^([^\s"']+)(\s+|$)/,""))}0==c&&(e=e.replace(/^("[^"]*("|$)|'[^']*('|$)||\S)*\s*/,""),o=0)}return 1!=o||s||r.push(i),r}filterXssBadProtocol(e,n=!0){return n&&(e=a.Ni.decodeHTMLEntities(e)),a.Ni.escapeHTML(this.stripDangerousProtocols(e),!1)}stripDangerousProtocols(e){const n={ftp:!0,http:!0,https:!0,mailto:!0};let r;do{r=e;const o=e.indexOf(":");if(o>0){const r=e.substring(0,o);if(r.match(/[/?#]/))break;n[r.toLowerCase()]||(e=e.substring(o+1))}}while(r!=e);return e}getMetadataSemantics(){if(this.metadataSemantics)return this.metadataSemantics;const e=this.getCCVersions();return this.metadataSemantics=[{name:"title",type:"text",label:_.HT.instant("core.h5p.title"),placeholder:"La Gioconda"},{name:"a11yTitle",type:"text",label:_.HT.instant("core.h5p.a11yTitle:label"),optional:!0},{name:"license",type:"select",label:_.HT.instant("core.h5p.license"),default:"U",options:[{value:"U",label:_.HT.instant("core.h5p.undisclosed")},{type:"optgroup",label:_.HT.instant("core.h5p.creativecommons"),options:[{value:"CC BY",label:_.HT.instant("core.h5p.ccattribution"),versions:e},{value:"CC BY-SA",label:_.HT.instant("core.h5p.ccattributionsa"),versions:e},{value:"CC BY-ND",label:_.HT.instant("core.h5p.ccattributionnd"),versions:e},{value:"CC BY-NC",label:_.HT.instant("core.h5p.ccattributionnc"),versions:e},{value:"CC BY-NC-SA",label:_.HT.instant("core.h5p.ccattributionncsa"),versions:e},{value:"CC BY-NC-ND",label:_.HT.instant("core.h5p.ccattributionncnd"),versions:e},{value:"CC0 1.0",label:_.HT.instant("core.h5p.ccpdd")},{value:"CC PDM",label:_.HT.instant("core.h5p.pdm")}]},{value:"GNU GPL",label:_.HT.instant("core.h5p.gpl")},{value:"PD",label:_.HT.instant("core.h5p.pd")},{value:"ODC PDDL",label:_.HT.instant("core.h5p.pddl")},{value:"C",label:_.HT.instant("core.h5p.copyrightstring")}]},{name:"licenseVersion",type:"select",label:_.HT.instant("core.h5p.licenseversion"),options:e,optional:!0},{name:"yearFrom",type:"number",label:_.HT.instant("core.h5p.yearsfrom"),placeholder:"1991",min:-9999,max:9999,optional:!0},{name:"yearTo",type:"number",label:_.HT.instant("core.h5p.yearsto"),placeholder:"1992",min:-9999,max:9999,optional:!0},{name:"source",type:"text",label:_.HT.instant("core.h5p.source"),placeholder:"https://",optional:!0},{name:"authors",type:"list",field:{name:"author",type:"group",fields:[{label:_.HT.instant("core.h5p.authorname"),name:"name",optional:!0,type:"text"},{name:"role",type:"select",label:_.HT.instant("core.h5p.authorrole"),default:"Author",options:[{value:"Author",label:_.HT.instant("core.h5p.author")},{value:"Editor",label:_.HT.instant("core.h5p.editor")},{value:"Licensee",label:_.HT.instant("core.h5p.licensee")},{value:"Originator",label:_.HT.instant("core.h5p.originator")}]}]}},{name:"licenseExtras",type:"text",widget:"textarea",label:_.HT.instant("core.h5p.licenseextras"),optional:!0,description:_.HT.instant("core.h5p.additionallicenseinfo")},{name:"changes",type:"list",field:{name:"change",type:"group",label:_.HT.instant("core.h5p.changelog"),fields:[{name:"date",type:"text",label:_.HT.instant("core.h5p.date"),optional:!0},{name:"author",type:"text",label:_.HT.instant("core.h5p.changedby"),optional:!0},{name:"log",type:"text",widget:"textarea",label:_.HT.instant("core.h5p.changedescription"),placeholder:_.HT.instant("core.h5p.changeplaceholder"),optional:!0}]}},{name:"authorComments",type:"text",widget:"textarea",label:_.HT.instant("core.h5p.authorcomments"),description:_.HT.instant("core.h5p.authorcommentsdescription"),optional:!0},{name:"contentType",type:"text",widget:"none"},{name:"defaultLanguage",type:"text",widget:"none"}],this.metadataSemantics}getCopyrightSemantics(){if(this.copyrightSemantics)return this.copyrightSemantics;const e=this.getCCVersions();return this.copyrightSemantics={name:"copyright",type:"group",label:_.HT.instant("core.h5p.copyrightinfo"),fields:[{name:"title",type:"text",label:_.HT.instant("core.h5p.title"),placeholder:"La Gioconda",optional:!0},{name:"author",type:"text",label:_.HT.instant("core.h5p.author"),placeholder:"Leonardo da Vinci",optional:!0},{name:"year",type:"text",label:_.HT.instant("core.h5p.years"),placeholder:"1503 - 1517",optional:!0},{name:"source",type:"text",label:_.HT.instant("core.h5p.source"),placeholder:"http://en.wikipedia.org/wiki/Mona_Lisa",optional:!0,regexp:{pattern:"^http[s]?://.+",modifiers:"i"}},{name:"license",type:"select",label:_.HT.instant("core.h5p.license"),default:"U",options:[{value:"U",label:_.HT.instant("core.h5p.undisclosed")},{value:"CC BY",label:_.HT.instant("core.h5p.ccattribution"),versions:e},{value:"CC BY-SA",label:_.HT.instant("core.h5p.ccattributionsa"),versions:e},{value:"CC BY-ND",label:_.HT.instant("core.h5p.ccattributionnd"),versions:e},{value:"CC BY-NC",label:_.HT.instant("core.h5p.ccattributionnc"),versions:e},{value:"CC BY-NC-SA",label:_.HT.instant("core.h5p.ccattributionncsa"),versions:e},{value:"CC BY-NC-ND",label:_.HT.instant("core.h5p.ccattributionncnd"),versions:e},{value:"GNU GPL",label:_.HT.instant("core.h5p.licenseGPL"),versions:[{value:"v3",label:_.HT.instant("core.h5p.licenseV3")},{value:"v2",label:_.HT.instant("core.h5p.licenseV2")},{value:"v1",label:_.HT.instant("core.h5p.licenseV1")}]},{value:"PD",label:_.HT.instant("core.h5p.pd"),versions:[{value:"-",label:"-"},{value:"CC0 1.0",label:_.HT.instant("core.h5p.licenseCC010U")},{value:"CC PDM",label:_.HT.instant("core.h5p.pdm")}]},{value:"C",label:_.HT.instant("core.h5p.copyrightstring")}]},{name:"version",type:"select",label:_.HT.instant("core.h5p.licenseversion"),options:[]}]},this.copyrightSemantics}getCCVersions(){return[{value:"4.0",label:_.HT.instant("core.h5p.licenseCC40")},{value:"3.0",label:_.HT.instant("core.h5p.licenseCC30")},{value:"2.5",label:_.HT.instant("core.h5p.licenseCC25")},{value:"2.0",label:_.HT.instant("core.h5p.licenseCC20")},{value:"1.0",label:_.HT.instant("core.h5p.licenseCC10")}]}}let P=(()=>{var e;class CoreH5PCore{constructor(e){this.h5pFramework=e,this.aggregateAssets=!0,this.h5pFS=new A}static determineEmbedType(e,n){let r=-1!=e.toLowerCase().indexOf("div")?"div":"iframe";if(n){const e=n.toLowerCase();-1==e.indexOf(r)&&(r=-1!=e.indexOf("div")?"div":"iframe")}return r}static getDependenciesHash(e){const n=[];for(const r in e){const o=e[r];n.push(`${o.machineName}-${o.majorVersion}.${o.minorVersion}.${o.patchVersion}`)}return n.sort(((e,n)=>e.localeCompare(n))),i.V.hashAsciiStr(n.join(""))}static getScripts(){const e=u.CoreH5P.h5pCore.h5pFS.getCoreH5PPath(),n=[];return CoreH5PCore.SCRIPTS.forEach((r=>{n.push(e+r)})),n.push(C.$.concatenatePaths(e,"moodle/js/h5p_overrides.js")),n}static libraryFromString(e){const n=e.match(/^([\w0-9\-.]{1,255})[- ]([0-9]{1,5})\.([0-9]{1,5})$/i);return n&&n.length>=4?{machineName:n[1],majorVersion:Number(n[2]),minorVersion:Number(n[3])}:null}static libraryToString(e){return`${"machineName"in e?e.machineName:e.name} ${e.majorVersion}.${e.minorVersion}`}static libraryToFolderName(e){return`${"machineName"in e?e.machineName:e.name}-${e.majorVersion}.${e.minorVersion}`}static slugify(e){e=(e=e||"").toLowerCase();let n="";for(let r=0;r<e.length;r++){const o=e[r];n+=CoreH5PCore.SLUGIFY_MAP[o]||o}return n=n.replace(/[^a-z0-9]/g,"-"),n=n.replace(/-{2,}/g,"-"),n=n.replace(/(^-+|-+$)/g,""),n.length>91&&(n=n.substring(0,92)),""===n&&(n="interactive"),n}filterParameters(e,n){var r=this;return(0,o.A)((function*(){if(n=n||s.CoreSites.getCurrentSiteId(),e.filtered)return e.filtered;if(void 0===e.library||void 0===e.params)return null;const o={library:CoreH5PCore.libraryToString(e.library),params:a.Ni.parseJSON(e.params,!1)};if(!o.params)return null;try{const s=new CoreH5PContentValidator(n);yield s.validateLibrary(o,{options:[o.library]});const a=yield r.h5pFramework.loadAddons(n);for(const e in a){var i;const n=a[e];if(null!==(i=n.addTo)&&void 0!==i&&null!==(i=i.content)&&void 0!==i&&null!==(i=i.types)&&void 0!==i&&i.length)for(let e=0;e<n.addTo.content.types.length;e++){var c;const i=n.addTo.content.types[e];let a=null==i||null===(c=i.text)||void 0===c?void 0:c.regex;if(a&&"/"===a[0]&&"/"===a.slice(-1)&&(a=a.substring(1,a.length-1)),a&&r.textAddonMatches(o.params,a)){yield s.addon(n);break}}}e.dependencies=s.getDependencies();const u=JSON.stringify(o.params);if(e.id){try{yield r.h5pFramework.deleteLibraryUsage(e.id,n)}catch{}yield r.h5pFramework.saveLibraryUsage(e.id,e.dependencies,n),e.slug||(e.slug=r.generateContentSlug(e)),yield r.h5pFramework.updateContentFields(e.id,{filtered:u},n)}return u}catch(e){return null}}))()}findLibraryDependencies(e,n,r=1,i=!1,a){var c=this;return(0,o.A)((function*(){a=a||s.CoreSites.getCurrentSiteId();const o=["dynamic","preloaded","editor"];for(const s in o){let u=o[s];const p=`${u}Dependencies`;if(n[p]){"preloaded"===u&&i&&(u="editor");for(const o in n[p]){const i=n[p][o],s=`${u}-${i.machineName}`;if(e[s])continue;const f=yield c.loadLibrary(i.machineName,i.majorVersion,i.minorVersion,a);e[s]={library:f,type:u};const g=yield c.findLibraryDependencies(e,f,r,"editor"===u,a);r=g,e[s].weight=r++}}}return r}))()}fixDisplayOptions(e,n){return(e=e||{})[CoreH5PCore.DISPLAY_OPTION_DOWNLOAD]=!1,e[CoreH5PCore.DISPLAY_OPTION_EMBED]=!1,this.h5pFramework.getOption(CoreH5PCore.DISPLAY_OPTION_FRAME,!0)?0==this.h5pFramework.getOption(CoreH5PCore.DISPLAY_OPTION_COPYRIGHT,!0)&&(e[CoreH5PCore.DISPLAY_OPTION_COPYRIGHT]=!1):e[CoreH5PCore.DISPLAY_OPTION_FRAME]=!1,e[CoreH5PCore.DISPLAY_OPTION_COPY]=this.h5pFramework.hasPermission(x.COPY_H5P,n),e}generateContentSlug(e){let n=CoreH5PCore.slugify(e.title),r=null;for(;!r;){if(!1===r){const e=n.match(/(.+-)([0-9]+)$/);e?n=e[1]+(Number(e[2])+1):n+="-2"}r=this.h5pFramework.isContentSlugAvailable(n)}return n}getAssetsUrls(e,n=""){const r=[];return e.forEach((e=>{let o=e.path;-1==e.path.indexOf("://")&&n&&(o=C.$.concatenatePaths(n,o)),e.version&&(o+=e.version),r.push(o)})),r}getDependenciesFiles(e,n,r="",i){var a=this;return(0,o.A)((function*(){i=i||s.CoreSites.getCurrentSiteId();const o={scripts:[],styles:[]};if(!Object.keys(e).length)return o;let c="";if(a.aggregateAssets){c=CoreH5PCore.getDependenciesHash(e);const n=yield a.h5pFS.getCachedAssets(c);if(n)return Object.assign(o,n)}for(const n in e){const i=e[n];i.path||(i.path=a.h5pFS.getDependencyPath(i),i.preloadedJs=i.preloadedJs.split(","),i.preloadedCss=i.preloadedCss.split(",")),i.version=`?ver=${i.majorVersion}.${i.minorVersion}.${i.patchVersion}`,a.getDependencyAssets(i,"preloadedJs",o.scripts,r),a.getDependencyAssets(i,"preloadedCss",o.styles,r)}return a.aggregateAssets&&(yield a.h5pFS.cacheAssets(o,c,n,i),yield a.h5pFramework.saveCachedAssets(c,e,n,i)),o}))()}getDependencyRoots(e,n){var r=this;return(0,o.A)((function*(){n=n||s.CoreSites.getCurrentSiteId();const o={},i=yield r.h5pFramework.loadContentDependencies(e,void 0,n);for(const e in i){const s=i[e],a=CoreH5PCore.libraryToFolderName(s);o[a]=r.h5pFS.getLibraryFolderPath(s,n,a)}return o}))()}getDependencyAssets(e,n,r,o=""){if(e[n]&&""!==e[n][0]&&("preloadedCss"!==n||!c.j.isTrueOrOne(e.dropCss)))for(const i in e[n]){const s=e[n][i];r.push({path:`${o}/${e.path}/${("string"!=typeof s?s.path:s).trim()}`,version:e.version||""})}}getDisplayOptionsAsObject(e){const n={};return n[CoreH5PCore.DISPLAY_OPTION_FRAME]=!(e&CoreH5PCore.DISABLE_FRAME),n[CoreH5PCore.DISPLAY_OPTION_DOWNLOAD]=!1,n[CoreH5PCore.DISPLAY_OPTION_EMBED]=!1,n[CoreH5PCore.DISPLAY_OPTION_COPYRIGHT]=!(e&CoreH5PCore.DISABLE_COPYRIGHT),n[CoreH5PCore.DISPLAY_OPTION_ABOUT]=!!this.h5pFramework.getOption(CoreH5PCore.DISPLAY_OPTION_ABOUT,!0),n}getDisplayOptionsForView(e,n){return this.fixDisplayOptions(this.getDisplayOptionsAsObject(e),n)}getLocalization(){return{fullscreen:_.HT.instant("core.h5p.fullscreen"),disableFullscreen:_.HT.instant("core.h5p.disablefullscreen"),download:_.HT.instant("core.h5p.download"),copyrights:_.HT.instant("core.h5p.copyright"),embed:_.HT.instant("core.h5p.embed"),size:_.HT.instant("core.h5p.size"),showAdvanced:_.HT.instant("core.h5p.showadvanced"),hideAdvanced:_.HT.instant("core.h5p.hideadvanced"),advancedHelp:_.HT.instant("core.h5p.resizescript"),copyrightInformation:_.HT.instant("core.h5p.copyright"),close:_.HT.instant("core.h5p.close"),title:_.HT.instant("core.h5p.title"),author:_.HT.instant("core.h5p.author"),year:_.HT.instant("core.h5p.year"),source:_.HT.instant("core.h5p.source"),license:_.HT.instant("core.h5p.license"),thumbnail:_.HT.instant("core.h5p.thumbnail"),noCopyrights:_.HT.instant("core.h5p.nocopyright"),reuse:_.HT.instant("core.h5p.reuse"),reuseContent:_.HT.instant("core.h5p.reuseContent"),reuseDescription:_.HT.instant("core.h5p.reuseDescription"),downloadDescription:_.HT.instant("core.h5p.downloadtitle"),copyrightsDescription:_.HT.instant("core.h5p.copyrighttitle"),embedDescription:_.HT.instant("core.h5p.embedtitle"),h5pDescription:_.HT.instant("core.h5p.h5ptitle"),contentChanged:_.HT.instant("core.h5p.contentchanged"),startingOver:_.HT.instant("core.h5p.startingover"),by:_.HT.instant("core.h5p.by"),showMore:_.HT.instant("core.h5p.showmore"),showLess:_.HT.instant("core.h5p.showless"),subLevel:_.HT.instant("core.h5p.sublevel"),confirmDialogHeader:_.HT.instant("core.h5p.confirmdialogheader"),confirmDialogBody:_.HT.instant("core.h5p.confirmdialogbody"),cancelLabel:_.HT.instant("core.h5p.cancellabel"),confirmLabel:_.HT.instant("core.h5p.confirmlabel"),licenseU:_.HT.instant("core.h5p.undisclosed"),licenseCCBY:_.HT.instant("core.h5p.ccattribution"),licenseCCBYSA:_.HT.instant("core.h5p.ccattributionsa"),licenseCCBYND:_.HT.instant("core.h5p.ccattributionnd"),licenseCCBYNC:_.HT.instant("core.h5p.ccattributionnc"),licenseCCBYNCSA:_.HT.instant("core.h5p.ccattributionncsa"),licenseCCBYNCND:_.HT.instant("core.h5p.ccattributionncnd"),licenseCC40:_.HT.instant("core.h5p.licenseCC40"),licenseCC30:_.HT.instant("core.h5p.licenseCC30"),licenseCC25:_.HT.instant("core.h5p.licenseCC25"),licenseCC20:_.HT.instant("core.h5p.licenseCC20"),licenseCC10:_.HT.instant("core.h5p.licenseCC10"),licenseGPL:_.HT.instant("core.h5p.licenseGPL"),licenseV3:_.HT.instant("core.h5p.licenseV3"),licenseV2:_.HT.instant("core.h5p.licenseV2"),licenseV1:_.HT.instant("core.h5p.licenseV1"),licensePD:_.HT.instant("core.h5p.pd"),licenseCC010:_.HT.instant("core.h5p.licenseCC010"),licensePDM:_.HT.instant("core.h5p.pdm"),licenseC:_.HT.instant("core.h5p.copyrightstring"),contentType:_.HT.instant("core.h5p.contenttype"),licenseExtras:_.HT.instant("core.h5p.licenseextras"),changes:_.HT.instant("core.h5p.changelog"),contentCopied:_.HT.instant("core.h5p.contentCopied"),connectionLost:_.HT.instant("core.h5p.connectionLost"),connectionReestablished:_.HT.instant("core.h5p.connectionReestablished"),resubmitScores:_.HT.instant("core.h5p.resubmitScores"),offlineDialogHeader:_.HT.instant("core.h5p.offlineDialogHeader"),offlineDialogBody:_.HT.instant("core.h5p.offlineDialogBody"),offlineDialogRetryMessage:_.HT.instant("core.h5p.offlineDialogRetryMessage"),offlineDialogRetryButtonLabel:_.HT.instant("core.h5p.offlineDialogRetryButtonLabel"),offlineSuccessfulSubmit:_.HT.instant("core.h5p.offlineSuccessfulSubmit"),mainTitle:_.HT.instant("core.h5p.mainTitle"),editInfoTitle:_.HT.instant("core.h5p.editInfoTitle"),cancel:_.HT.instant("core.h5p.cancellabel"),back:_.HT.instant("core.h5p.back"),next:_.HT.instant("core.h5p.next"),reviewInfo:_.HT.instant("core.h5p.reviewInfo"),share:_.HT.instant("core.h5p.share"),saveChanges:_.HT.instant("core.h5p.saveChanges"),requiredInfo:_.HT.instant("core.h5p.requiredInfo"),optionalInfo:_.HT.instant("core.h5p.optionalInfo"),reviewAndShare:_.HT.instant("core.h5p.reviewAndShare"),reviewAndSave:_.HT.instant("core.h5p.reviewAndSave"),shared:_.HT.instant("core.h5p.shared"),currentStep:_.HT.instant("core.h5p.currentStep"),sharingNote:_.HT.instant("core.h5p.sharingNote"),licenseDescription:_.HT.instant("core.h5p.licenseDescription"),licenseVersion:_.HT.instant("core.h5p.licenseversion"),licenseVersionDescription:_.HT.instant("core.h5p.licenseVersionDescription"),disciplineLabel:_.HT.instant("core.h5p.disciplineLabel"),disciplineDescription:_.HT.instant("core.h5p.disciplineDescription"),disciplineLimitReachedMessage:_.HT.instant("core.h5p.disciplineLimitReachedMessage"),discipline:{searchPlaceholder:_.HT.instant("core.h5p.discipline:searchPlaceholder"),in:_.HT.instant("core.h5p.discipline:in"),dropdownButton:_.HT.instant("core.h5p.discipline:dropdownButton")},removeChip:_.HT.instant("core.h5p.removeChip"),keywordsPlaceholder:_.HT.instant("core.h5p.keywordsPlaceholder"),keywords:_.HT.instant("core.h5p.keywords"),keywordsDescription:_.HT.instant("core.h5p.keywordsDescription"),altText:_.HT.instant("core.h5p.altText"),reviewMessage:_.HT.instant("core.h5p.reviewMessage"),subContentWarning:_.HT.instant("core.h5p.subContentWarning"),disciplines:_.HT.instant("core.h5p.disciplines"),shortDescription:_.HT.instant("core.h5p.shortDescription"),longDescription:_.HT.instant("core.h5p.longDescription"),icon:_.HT.instant("core.h5p.icon"),screenshots:_.HT.instant("core.h5p.screenshots"),helpChoosingLicense:_.HT.instant("core.h5p.helpChoosingLicense"),shareFailed:_.HT.instant("core.h5p.shareFailed"),editingFailed:_.HT.instant("core.h5p.editingFailed"),shareTryAgain:_.HT.instant("core.h5p.shareTryAgain"),pleaseWait:_.HT.instant("core.h5p.pleaseWait"),language:_.HT.instant("core.h5p.language"),level:_.HT.instant("core.h5p.level"),shortDescriptionPlaceholder:_.HT.instant("core.h5p.shortDescriptionPlaceholder"),longDescriptionPlaceholder:_.HT.instant("core.h5p.longDescriptionPlaceholder"),description:_.HT.instant("core.h5p.description"),iconDescription:_.HT.instant("core.h5p.iconDescription"),screenshotsDescription:_.HT.instant("core.h5p.screenshotsDescription"),submitted:_.HT.instant("core.h5p.submitted"),contentLicenseTitle:_.HT.instant("core.h5p.contentLicenseTitle"),licenseDialogDescription:_.HT.instant("core.h5p.licenseDialogDescription"),publisherFieldTitle:_.HT.instant("core.h5p.publisherFieldTitle"),publisherFieldDescription:_.HT.instant("core.h5p.publisherFieldDescription"),emailAddress:_.HT.instant("core.h5p.emailAddress"),publisherDescription:_.HT.instant("core.h5p.publisherDescription"),publisherDescriptionText:_.HT.instant("core.h5p.publisherDescriptionText"),contactPerson:_.HT.instant("core.h5p.contactPerson"),phone:_.HT.instant("core.h5p.phone"),address:_.HT.instant("core.h5p.address"),city:_.HT.instant("core.h5p.city"),zip:_.HT.instant("core.h5p.zip"),country:_.HT.instant("core.h5p.country"),logoUploadText:_.HT.instant("core.h5p.logoUploadText"),acceptTerms:_.HT.instant("core.h5p.acceptTerms"),accountDetailsLinkText:_.HT.instant("core.h5p.accountDetailsLinkText"),maxLength:_.HT.instant("core.h5p.maxLength"),keywordExists:_.HT.instant("core.h5p.keywordExists"),licenseDetails:_.HT.instant("core.h5p.licenseDetails"),remove:_.HT.instant("core.h5p.remove"),removeImage:_.HT.instant("core.h5p.removeImage"),cancelPublishConfirmationDialogTitle:_.HT.instant("core.h5p.removeImage"),cancelPublishConfirmationDialogDescription:_.HT.instant("core.h5p.removeImage"),cancelPublishConfirmationDialogCancelButtonText:_.HT.instant("core.h5p.removeImage"),cancelPublishConfirmationDialogConfirmButtonText:_.HT.instant("core.h5p.removeImage"),add:_.HT.instant("core.h5p.add"),age:_.HT.instant("core.h5p.age"),ageDescription:_.HT.instant("core.h5p.ageDescription"),invalidAge:_.HT.instant("core.h5p.invalidAge"),keywordsExits:_.HT.instant("core.h5p.keywordsExits"),someKeywordsExits:_.HT.instant("core.h5p.someKeywordsExits"),width:_.HT.instant("core.h5p.width"),height:_.HT.instant("core.h5p.height"),rotateLeft:_.HT.instant("core.h5p.rotateLeft"),rotateRight:_.HT.instant("core.h5p.rotateRight"),cropImage:_.HT.instant("core.h5p.cropImage"),confirmCrop:_.HT.instant("core.h5p.confirmCrop"),cancelCrop:_.HT.instant("core.h5p.cancelCrop")}}loadContent(e,n,r){var i=this;return(0,o.A)((function*(){r=r||s.CoreSites.getCurrentSiteId();const o=yield i.h5pFramework.loadContent(e,n,r),a=new CoreH5PContentValidator(r);return o.metadata=yield a.validateMetadata(o.metadata),{id:o.id,params:o.params,embedType:o.embedType,disable:o.disable,folderName:o.folderName,title:o.title,slug:o.slug,filtered:o.filtered,libraryMajorVersion:o.libraryMajorVersion,libraryMinorVersion:o.libraryMinorVersion,metadata:o.metadata,library:{id:o.libraryId,name:o.libraryName,majorVersion:o.libraryMajorVersion,minorVersion:o.libraryMinorVersion,embedTypes:o.libraryEmbedTypes,fullscreen:o.libraryFullscreen}}}))()}loadContentDependencies(e,n,r){return this.h5pFramework.loadContentDependencies(e,n,r)}loadLibrary(e,n,r,o){return this.h5pFramework.loadLibrary(e,n,r,o)}mayUpdateLibraries(){return!0}saveContent(e,n,r,i){var s=this;return(0,o.A)((function*(){return e.id=yield s.h5pFramework.updateContent(e,n,r,i),yield s.h5pFramework.resetContentUserData(e.id,i),e.id}))()}setDisplayOptionOverrides(e,n,r,o){const i=this.h5pFramework.getOption(e,k.ALWAYS_SHOW);return i==k.NEVER_SHOW?o=!1:i==k.ALWAYS_SHOW?o=!0:i==k.CONTROLLED_BY_PERMISSIONS&&(o=this.h5pFramework.hasPermission(n,r)),o}textAddonMatches(e,n){if("string"==typeof e){if(e.match(n))return!0}else if("object"==typeof e)for(const r in e){if(this.textAddonMatches(e[r],n))return!0}return!1}}return(e=CoreH5PCore).API_VERSION={majorVersion:1,minorVersion:27},e.STYLES=["styles/h5p.css","styles/h5p-confirmation-dialog.css","styles/h5p-core-button.css","styles/h5p-tooltip.css","styles/h5p-table.css"],e.SCRIPTS=["js/jquery.js","js/h5p.js","js/h5p-event-dispatcher.js","js/h5p-x-api-event.js","js/h5p-x-api.js","js/h5p-content-type.js","js/h5p-confirmation-dialog.js","js/h5p-action-bar.js","js/request-queue.js","js/h5p-tooltip.js"],e.ADMIN_SCRIPTS=["js/jquery.js","js/h5p-utils.js"],e.DISABLE_NONE=0,e.DISABLE_FRAME=1,e.DISABLE_DOWNLOAD=2,e.DISABLE_EMBED=4,e.DISABLE_COPYRIGHT=8,e.DISABLE_ABOUT=16,e.DISPLAY_OPTION_FRAME="frame",e.DISPLAY_OPTION_DOWNLOAD="export",e.DISPLAY_OPTION_EMBED="embed",e.DISPLAY_OPTION_COPYRIGHT="copyright",e.DISPLAY_OPTION_ABOUT="icon",e.DISPLAY_OPTION_COPY="copy",e.SLUGIFY_MAP={æ:"ae",ø:"oe",ö:"o",ó:"o",ô:"o",Ò:"oe",Õ:"o",Ý:"o",ý:"y",ÿ:"y",ā:"y",ă:"a",ą:"a",œ:"a",å:"a",ä:"a",á:"a",à:"a",â:"a",ã:"a",ç:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ú:"u",ñ:"n",ü:"u",ù:"u",û:"u",ß:"es",ď:"d",đ:"d",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",ĥ:"h",ħ:"h",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",ĳ:"ij",ĵ:"j",ķ:"k",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",ń:"n",ņ:"n",ň:"n",ŉ:"n",ō:"o",ŏ:"o",ő:"o",ŕ:"r",ŗ:"r",ř:"r",ś:"s",ŝ:"s",ş:"s",š:"s",ţ:"t",ť:"t",ŧ:"t",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",ŵ:"w",ŷ:"y",ź:"z",ż:"z",ž:"z",ſ:"s",ƒ:"f",ơ:"o",ư:"u",ǎ:"a",ǐ:"i",ǒ:"o",ǔ:"u",ǖ:"u",ǘ:"u",ǚ:"u",ǜ:"u",ǻ:"a",ǽ:"ae",ǿ:"oe"},CoreH5PCore})();var k=function(e){return e[e.NEVER_SHOW=0]="NEVER_SHOW",e[e.CONTROLLED_BY_AUTHOR_DEFAULT_ON=1]="CONTROLLED_BY_AUTHOR_DEFAULT_ON",e[e.CONTROLLED_BY_AUTHOR_DEFAULT_OFF=2]="CONTROLLED_BY_AUTHOR_DEFAULT_OFF",e[e.ALWAYS_SHOW=3]="ALWAYS_SHOW",e[e.CONTROLLED_BY_PERMISSIONS=4]="CONTROLLED_BY_PERMISSIONS",e}(k||{}),x=function(e){return e[e.DOWNLOAD_H5P=0]="DOWNLOAD_H5P",e[e.EMBED_H5P=1]="EMBED_H5P",e[e.CREATE_RESTRICTED=2]="CREATE_RESTRICTED",e[e.UPDATE_LIBRARIES=3]="UPDATE_LIBRARIES",e[e.INSTALL_RECOMMENDED=4]="INSTALL_RECOMMENDED",e[e.COPY_H5P=8]="COPY_H5P",e}(x||{})},33354:(e,n,r)=>{"use strict";r.d(n,{u:()=>CoreH5PMissingDependenciesError});var o=r(75629);class CoreH5PMissingDependenciesError extends o.CoreError{constructor(e,n){super(e),this.missingDependencies=n}}},74691:(e,n,r)=>{"use strict";r.d(n,{P:()=>CoreH5PHelper});var o=r(10467),i=r(45507),s=r(52749),a=r(12364),c=r(53867),u=r(98275),p=r(75629),f=r(8756),g=r(33354),v=r(55554);class CoreH5PHelper{static addResizerScript(){if(null!=document.head.querySelector("#core-h5p-resizer-script"))return;const e=document.createElement("script");e.id="core-h5p-resizer-script",e.type="text/javascript",e.src=c.CoreH5P.h5pPlayer.getResizerScriptUrl(),document.head.appendChild(e)}static decodeDisplayOptions(e){var n,r;const o=c.CoreH5P.h5pCore.getDisplayOptionsAsObject(e),i={export:!1,embed:!1,copyright:null!==(n=o[u.qY.DISPLAY_OPTION_COPYRIGHT])&&void 0!==n&&n,icon:null!==(r=o[u.qY.DISPLAY_OPTION_ABOUT])&&void 0!==r&&r};return i.frame=i.copyright||i.export||i.embed,i}static getCoreAssets(e){return(0,o.A)((function*(){const n=yield CoreH5PHelper.getCoreSettings(e);n.core={styles:[],scripts:[]},n.loadedJs=[],n.loadedCss=[];const r=c.CoreH5P.h5pCore.h5pFS.getCoreH5PPath(),o=[],i=[];return u.qY.STYLES.forEach((e=>{var i;null===(i=n.core)||void 0===i||i.styles.push(r+e),o.push(r+e)})),u.qY.getScripts().forEach((e=>{var r;null===(r=n.core)||void 0===r||r.scripts.push(e),i.push(e)})),{settings:n,cssRequires:o,jsRequires:i}}))()}static getCoreSettings(e){return(0,o.A)((function*(){const n=yield s.CoreSites.getSite(e),r=n.getInfo();if(!r)throw new p.CoreError("Site info could not be fetched.");const o=i.CoreFile.getBasePathInstant();return{baseUrl:i.CoreFile.getWWWPath(),url:i.CoreFile.convertFileSrc(f.$.concatenatePaths(o,c.CoreH5P.h5pCore.h5pFS.getExternalH5PFolderPath(n.getId()))),urlLibraries:i.CoreFile.convertFileSrc(f.$.concatenatePaths(o,c.CoreH5P.h5pCore.h5pFS.getLibrariesFolderPath(n.getId()))),postUserStatistics:!1,ajax:{contentUserData:""},saveFreq:!1,siteUrl:n.getURL(),l10n:{H5P:c.CoreH5P.h5pCore.getLocalization()},user:{name:r.username,id:r.userid},hubIsEnabled:!1,reportingIsEnabled:!1,crossorigin:null,libraryConfig:null,pluginCacheBuster:"",libraryUrl:f.$.concatenatePaths(c.CoreH5P.h5pCore.h5pFS.getCoreH5PPath(),"js")}}))()}static saveH5P(e,n,r={}){return(0,o.A)((function*(){const o=r.siteId||s.CoreSites.getCurrentSiteId();r.onProgress&&r.onProgress({message:"core.unzipping"});const i=`${o}:saveH5P:${e}`;yield c.CoreH5P.queueRunner.run(i,(()=>CoreH5PHelper.performSave(e,n,{...r,siteId:o})))}))()}static performSave(e,n,r={}){return(0,o.A)((function*(){const o=a.A.removeExtension(n.name),s=f.$.concatenatePaths(i.CoreFileProvider.TMPFOLDER,`h5p/${o}`);yield i.CoreFile.unzipFile(i.CoreFile.getFileEntryURL(n),s,r.onProgress);try{r.onProgress&&r.onProgress({message:"core.storingfiles"});const n=yield i.CoreFile.getDirectoryContents(s),a=yield c.CoreH5P.h5pValidator.processH5PFiles(s,n,r.siteId),p=yield c.CoreH5P.h5pStorage.savePackage(a,o,e,!1,r.siteId),f=yield c.CoreH5P.h5pCore.loadContent(p.id,void 0,r.siteId),g=u.qY.determineEmbedType(f.embedType,f.library.embedTypes);yield c.CoreH5P.h5pPlayer.createContentIndex(p.id,e,f,g,r.siteId)}catch(n){throw n instanceof g.u&&(yield v.g.ignoreErrors(c.CoreH5P.h5pFramework.storeMissingDependencies(e,n.missingDependencies,{component:r.component,componentId:r.componentId,fileTimemodified:r.timemodified,siteId:r.siteId}))),n}finally{try{yield i.CoreFile.removeDir(s)}catch{}}}))()}}},88695:(e,n,r)=>{"use strict";r.d(n,{m:()=>F});var o=r(10467),i=r(54438),s=r(21182),a=r(5964),c=r(45507),u=r(88793),p=r(88436),f=r(52749),g=r(8014),v=r(53867),C=r(74431),b=r(6787),w=r(98275),A=r(74691),_=r(22693),E=r(91416),I=r(25572),T=r(86654),P=r(60177),k=r(7476),x=r(64422);function CoreH5PIframeComponent_core_iframe_1_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"core-iframe",2),i.bIt("loaded",(function CoreH5PIframeComponent_core_iframe_1_Template_core_iframe_loaded_0_listener(){i.eBV(e);const n=i.XpG();return i.Njj(n.iframeLoaded())})),i.k0s()}if(2&e){const e=i.XpG();i.Y8G("src",e.iframeSrc)("allowFullscreen",!0)("showFullscreenOnToolbar",e.enableInAppFullscreen)("autoFullscreenOnRotate",e.enableInAppFullscreen)}}let F=(()=>{var e;class CoreH5PIframeComponent{constructor(e,n){this.elementRef=e,this.enableInAppFullscreen=!1,this.onIframeUrlSet=new i.bkB,this.onIframeLoaded=new i.bkB,this.iframeLoadedOnce=!1,this.logger=b.CoreLogger.getInstance("CoreH5PIframeComponent"),this.site=f.CoreSites.getRequiredCurrentSite(),this.siteId=this.site.getId(),this.siteCanDownload=this.site.canDownloadFiles()&&!v.CoreH5P.isOfflineDisabledInSite(),this.currentPageRoute=n.url,this.subscription=n.events.pipe((0,a.p)((e=>e instanceof s.wF))).subscribe((e=>{this.iframeLoadedOnce&&e.urlAfterRedirects===this.currentPageRoute&&window.dispatchEvent(new Event("resize"))}))}ngOnChanges(e){!e.fileUrl&&!e.onlinePlayerUrl||this.iframeSrc||this.play()}play(){var e=this;return(0,o.A)((function*(){let n,r;e.onlinePlayerUrl=e.onlinePlayerUrl||v.CoreH5P.h5pPlayer.calculateOnlinePlayerUrl(e.site.getURL(),e.fileUrl||"",e.displayOptions,e.trackComponent),r=e.fileUrl?yield u.CoreFilepool.getFileStateByUrl(e.siteId,e.fileUrl):C.DownloadStatus.NOT_DOWNLOADABLE,e.siteCanDownload&&p.CoreFileHelper.isStateDownloaded(r)&&(n=yield e.getLocalUrl());try{if(n)e.iframeSrc=n,_.OF.logEvent({type:_.qr.VIEW_ITEM,ws:"core_h5p_get_trusted_h5p_file",name:"H5P content",data:{category:"h5p"},url:e.onlinePlayerUrl});else{const n=e.onlinePlayerUrl.replace(`${w.qY.DISPLAY_OPTION_DOWNLOAD}=1`,`${w.qY.DISPLAY_OPTION_DOWNLOAD}=0`);e.iframeSrc=g.F.addParamsToUrl(n,{preventredirect:!1})}}catch(e){I.CoreAlerts.showError(e,{default:"Error loading H5P package."})}finally{A.P.addResizerScript(),e.onIframeUrlSet.emit({src:e.iframeSrc,online:!!n})}}))()}getLocalUrl(){var e=this;return(0,o.A)((function*(){const n={saveFreq:e.saveFreq,state:e.state};try{return yield v.CoreH5P.h5pPlayer.getContentIndexFileUrl(e.fileUrl,e.displayOptions,e.trackComponent,e.contextId,e.siteId,n)}catch(r){try{const r=yield u.CoreFilepool.getInternalUrlByUrl(e.siteId,e.fileUrl),o=yield c.CoreFile.getFile(r);yield A.P.saveH5P(e.fileUrl,o,{siteId:e.siteId,component:e.component,componentId:e.componentId,timemodified:e.fileTimemodified});return yield v.CoreH5P.h5pPlayer.getContentIndexFileUrl(e.fileUrl,e.displayOptions,e.trackComponent,e.contextId,e.siteId,n)}catch(n){e.logger.error("Error loading downloaded index:",n,e.fileUrl)}}}))()}iframeLoaded(){this.onIframeLoaded.emit(),this.iframeLoadedOnce=!0,window.dispatchEvent(new Event("resize"))}ngOnDestroy(){var e;null===(e=this.subscription)||void 0===e||e.unsubscribe()}}return(e=CoreH5PIframeComponent).ɵfac=function CoreH5PIframeComponent_Factory(n){return new(n||e)(i.rXU(i.aKT),i.rXU(s.Ix))},e.ɵcmp=i.VBU({type:e,selectors:[["core-h5p-iframe"]],inputs:{fileUrl:"fileUrl",displayOptions:"displayOptions",onlinePlayerUrl:"onlinePlayerUrl",trackComponent:"trackComponent",contextId:"contextId",enableInAppFullscreen:[i.Mj6.HasDecoratorInputTransform,"enableInAppFullscreen","enableInAppFullscreen",E.G],saveFreq:"saveFreq",state:"state",component:"component",componentId:"componentId",fileTimemodified:"fileTimemodified"},outputs:{onIframeUrlSet:"onIframeUrlSet",onIframeLoaded:"onIframeLoaded"},standalone:!0,features:[i.GFd,i.OA$,i.aNF],decls:2,vars:3,consts:[[3,"hideUntil","fullscreen"],["iframeHeight","auto",3,"src","allowFullscreen","showFullscreenOnToolbar","autoFullscreenOnRotate","loaded",4,"ngIf"],["iframeHeight","auto",3,"loaded","src","allowFullscreen","showFullscreenOnToolbar","autoFullscreenOnRotate"]],template:function CoreH5PIframeComponent_Template(e,n){1&e&&(i.j41(0,"core-loading",0),i.DNE(1,CoreH5PIframeComponent_core_iframe_1_Template,1,4,"core-iframe",1),i.k0s()),2&e&&(i.Y8G("hideUntil",!!n.iframeSrc)("fullscreen",!1),i.R7$(),i.Y8G("ngIf",n.iframeSrc))},dependencies:[T.n,P.bT,k.l,x.R],encapsulation:2}),CoreH5PIframeComponent})()},14276:(e,n,r)=>{"use strict";r.d(n,{v:()=>_,o:()=>getH5PServices});var o=r(10467),i=r(54438),s=r(11361),a=r(52749),c=r(37570),u=r(12364),p=r(8014),f=r(43411),g=r(53867),v=r(79555),C=r(74691),b=r(88436);let w=(()=>{var e;class CoreH5PPluginFileHandlerService{constructor(){this.name="CoreH5PPluginFileHandler"}fileDeleted(e,n,r){return(0,o.A)((function*(){yield g.CoreH5P.h5pPlayer.deleteContentByUrl(e,r)}))()}getDownloadableFile(e,n){return(0,o.A)((function*(){n=n||a.CoreSites.getCurrentSiteId();const r=b.CoreFileHelper.getFileUrl(e);return(yield g.CoreH5P.isTrustedUrl(r,n))?e:g.CoreH5P.getTrustedH5PFile(r,{},!1,n)}))()}getDownloadableFilesFromHTML(e){const n=Array.from(e.querySelectorAll("iframe.h5p-iframe")),r=[];for(let e=0;e<n.length;e++){const o=p.F.extractUrlParams(n[e].src);o.url&&r.push(o.url)}return r}getFileSize(e,n){var r=this;return(0,o.A)((function*(){try{return(yield r.getDownloadableFile(e,n)).filesize||0}catch(e){if(f.CoreWSError.isWebServiceError(e))return 0;throw e}}))()}isEnabled(){return(0,o.A)((function*(){return g.CoreH5P.canGetTrustedH5PFileInSite()}))()}isFileDownloadable(e,n){return(0,o.A)((function*(){return(yield g.CoreH5P.isOfflineDisabled(n))?{downloadable:!1,reason:v.HT.instant("core.h5p.offlinedisabled")}:{downloadable:!0}}))()}shouldHandleFile(e){return"h5p"==u.A.guessExtensionFromUrl(b.CoreFileHelper.getFileUrl(e))}treatDownloadedFile(e,n,r={}){return C.P.saveH5P(e,n,r)}}return(e=CoreH5PPluginFileHandlerService).ɵfac=function CoreH5PPluginFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreH5PPluginFileHandlerService})();const A=(0,v.Qd)(w);function getH5PServices(){return _getH5PServices.apply(this,arguments)}function _getH5PServices(){return(_getH5PServices=(0,o.A)((function*(){const{CoreH5PProvider:e}=yield Promise.resolve().then(r.bind(r,53867));return[e]}))).apply(this,arguments)}let _=(()=>{var e;class CoreH5PModule{}return(e=CoreH5PModule).ɵfac=function CoreH5PModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:a.CORE_SITE_SCHEMAS,useValue:[c.em],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{s.CorePluginFileDelegate.registerHandler(A.instance)}}]}),CoreH5PModule})()},37570:(e,n,r)=>{"use strict";r.d(n,{AI:()=>c,NS:()=>f,Pi:()=>a,Yx:()=>p,em:()=>g,fJ:()=>u,js:()=>s,n9:()=>i});var o=r(10467);const i="h5p_content",s="h5p_libraries",a="h5p_library_dependencies",c="h5p_contents_libraries",u="h5p_libraries_cachedassets",p="h5p_missing_dependencies",f=["fileid","machinename","majorversion","minorversion"],g={name:"CoreH5PProvider",version:3,canBeCleared:[i,s,a,c,u,p],tables:[{name:i,columns:[{name:"id",type:"INTEGER",primaryKey:!0,autoIncrement:!0},{name:"jsoncontent",type:"TEXT",notNull:!0},{name:"mainlibraryid",type:"INTEGER",notNull:!0},{name:"foldername",type:"TEXT",notNull:!0},{name:"fileurl",type:"TEXT",notNull:!0},{name:"filtered",type:"TEXT"},{name:"timecreated",type:"INTEGER",notNull:!0},{name:"timemodified",type:"INTEGER",notNull:!0}]},{name:s,columns:[{name:"id",type:"INTEGER",primaryKey:!0,autoIncrement:!0},{name:"machinename",type:"TEXT",notNull:!0},{name:"title",type:"TEXT",notNull:!0},{name:"majorversion",type:"INTEGER",notNull:!0},{name:"minorversion",type:"INTEGER",notNull:!0},{name:"patchversion",type:"INTEGER",notNull:!0},{name:"runnable",type:"INTEGER",notNull:!0},{name:"fullscreen",type:"INTEGER",notNull:!0},{name:"embedtypes",type:"TEXT",notNull:!0},{name:"preloadedjs",type:"TEXT"},{name:"preloadedcss",type:"TEXT"},{name:"droplibrarycss",type:"TEXT"},{name:"semantics",type:"TEXT"},{name:"addto",type:"TEXT"},{name:"metadatasettings",type:"TEXT"}]},{name:a,columns:[{name:"id",type:"INTEGER",primaryKey:!0,autoIncrement:!0},{name:"libraryid",type:"INTEGER",notNull:!0},{name:"requiredlibraryid",type:"INTEGER",notNull:!0},{name:"dependencytype",type:"TEXT",notNull:!0}]},{name:c,columns:[{name:"id",type:"INTEGER",primaryKey:!0,autoIncrement:!0},{name:"h5pid",type:"INTEGER",notNull:!0},{name:"libraryid",type:"INTEGER",notNull:!0},{name:"dependencytype",type:"TEXT",notNull:!0},{name:"dropcss",type:"INTEGER",notNull:!0},{name:"weight",type:"INTEGER",notNull:!0}]},{name:u,columns:[{name:"id",type:"INTEGER",primaryKey:!0,autoIncrement:!0},{name:"libraryid",type:"INTEGER",notNull:!0},{name:"hash",type:"TEXT",notNull:!0},{name:"foldername",type:"TEXT",notNull:!0}]},{name:p,columns:[{name:"fileid",type:"TEXT"},{name:"machinename",type:"TEXT"},{name:"majorversion",type:"INTEGER"},{name:"minorversion",type:"INTEGER"},{name:"requiredby",type:"TEXT",notNull:!0},{name:"filetimemodified",type:"INTEGER",notNull:!0},{name:"component",type:"TEXT"},{name:"componentId",type:"TEXT"}],primaryKeys:[...f]}],migrate:(e,n)=>(0,o.A)((function*(){n>=2||(yield e.addColumn(s,"metadatasettings","TEXT"))}))()}},53867:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreH5P:()=>L,CoreH5PProvider:()=>N});var o=r(10467),i=r(52749),s=r(8014),a=r(47423),c=r(98275),u=r(75383),p=r(37570),f=r(75629);class CoreH5PMetadata{static boolifyAndEncodeSettings(e){return"string"==typeof e?e:(void 0!==e.disable&&(e.disable=1===e.disable),void 0!==e.disableExtraTitleField&&(e.disableExtraTitleField=1===e.disableExtraTitleField),JSON.stringify(e))}}var g=r(79555),v=r(89312),C=r(49833),b=r(71689),w=r(33354),A=r(88793),_=r(88436),E=r(55554);class CoreH5PFramework{constructor(){this.contentTables=(0,C.$)((e=>(0,v.A)((()=>i.CoreSites.getSiteTable(p.n9,{siteId:e,config:{cachingStrategy:b.T.None},onDestroy:()=>delete this.contentTables[e]}))))),this.librariesTables=(0,C.$)((e=>(0,v.A)((()=>i.CoreSites.getSiteTable(p.js,{siteId:e,config:{cachingStrategy:b.T.None},onDestroy:()=>delete this.librariesTables[e]}))))),this.libraryDependenciesTables=(0,C.$)((e=>(0,v.A)((()=>i.CoreSites.getSiteTable(p.Pi,{siteId:e,config:{cachingStrategy:b.T.None},onDestroy:()=>delete this.libraryDependenciesTables[e]}))))),this.contentsLibrariesTables=(0,C.$)((e=>(0,v.A)((()=>i.CoreSites.getSiteTable(p.AI,{siteId:e,config:{cachingStrategy:b.T.None},onDestroy:()=>delete this.contentsLibrariesTables[e]}))))),this.librariesCachedAssetsTables=(0,C.$)((e=>(0,v.A)((()=>i.CoreSites.getSiteTable(p.fJ,{siteId:e,config:{cachingStrategy:b.T.None},onDestroy:()=>delete this.librariesCachedAssetsTables[e]}))))),this.missingDependenciesTables=(0,C.$)((e=>(0,v.A)((()=>i.CoreSites.getSiteTable(p.Yx,{siteId:e,config:{cachingStrategy:b.T.None},onDestroy:()=>delete this.missingDependenciesTables[e],primaryKeyColumns:[...p.NS]})))))}buildMissingDependenciesErrorFromDBRecords(e){const n=e.map((e=>({machineName:e.machinename,majorVersion:e.majorversion,minorVersion:e.minorversion,libString:e.requiredby}))),r=g.HT.instant("core.h5p.missingdependency",{$a:{lib:n[0].libString,dep:c.qY.libraryToString(n[0])}});return new w.u(r,n)}clearFilteredParameters(e,n){var r=this;return(0,o.A)((function*(){e&&e.length&&(null!=n?n:n=i.CoreSites.getCurrentSiteId(),yield r.contentTables[n].updateWhere({filtered:null},{sql:`mainlibraryid IN (${e.map((()=>"?")).join(", ")})`,sqlParams:e,js:n=>e.includes(n.mainlibraryid)}))}))()}deleteCachedAssets(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId();const o=yield r.librariesCachedAssetsTables[n].getMany({libraryid:e}),s=o.map((e=>e.hash));return s.length&&(yield r.librariesCachedAssetsTables[n].deleteWhere({sql:1===s.length?"hash = ?":`hash IN (${s.map((()=>"?")).join(", ")})`,sqlParams:s,js:e=>s.includes(e.hash)})),o}))()}deleteContentData(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId(),yield r.resetContentUserData(e,n),yield Promise.all([r.contentTables[n].deleteByPrimaryKey({id:e}),r.deleteLibraryUsage(e,n)])}))()}deleteLibrary(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId(),yield r.librariesTables[n].deleteByPrimaryKey({id:e})}))()}deleteLibraryDependencies(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId(),yield r.libraryDependenciesTables[n].delete({libraryid:e})}))()}deleteLibraryUsage(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId(),yield r.contentsLibrariesTables[n].delete({h5pid:e})}))()}deleteMissingDependenciesForComponent(e,n,r){var s=this;return(0,o.A)((function*(){null!=r?r:r=i.CoreSites.getCurrentSiteId(),yield s.missingDependenciesTables[r].delete({component:e,componentId:n})}))()}deleteMissingDependenciesForLibrary(e,n){var r=this;return(0,o.A)((function*(){yield r.missingDependenciesTables[n].delete({machinename:e.machineName,majorversion:e.majorVersion,minorversion:e.minorVersion})}))()}getAllContentData(e){var n=this;return(0,o.A)((function*(){return null!=e?e:e=i.CoreSites.getCurrentSiteId(),n.contentTables[e].getMany()}))()}getContentData(e,n){var r=this;return(0,o.A)((function*(){return null!=n?n:n=i.CoreSites.getCurrentSiteId(),r.contentTables[n].getOneByPrimaryKey({id:e})}))()}getContentDataByUrl(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId();const o=yield L.h5pCore.h5pFS.getContentFolderNameByUrl(e,n);try{return yield r.contentTables[n].getOne({foldername:o})}catch(o){return yield r.contentTables[n].getOne({fileurl:e})}}))()}getFileIdForMissingDependencies(e,n){return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId();if(!(yield L.isTrustedUrl(e,n))){const r=yield A.CoreFilepool.fixPluginfileURL(n,e);e=_.CoreFileHelper.getFileUrl(r)}const r=s.F.extractUrlParams(e);e=s.F.addParamsToUrl(s.F.removeUrlParts(e,["query"]),{modified:r.modified});const o=s.F.getPluginFileArgs(e);return o?o.join("/"):e}))()}getLatestLibraryVersion(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId();try{const o=yield r.librariesTables[n].getMany({machinename:e},{limit:1,sorting:[{majorversion:"desc"},{minorversion:"desc"},{patchversion:"desc"}]});if(o&&o[0])return r.parseLibDBData(o[0])}catch(e){}throw new f.CoreError(`Missing required library: ${e}`)}))()}getLibrary(e,n,r,s){var a=this;return(0,o.A)((function*(){null!=s?s:s=i.CoreSites.getCurrentSiteId();const o=yield a.librariesTables[s].getMany({machinename:e,majorversion:void 0!==n?Number(n):void 0,minorversion:void 0!==r?Number(r):void 0});if(!o.length)throw new f.CoreError("Libary not found.");return a.parseLibDBData(o[0])}))()}getLibraryByData(e,n){return this.getLibrary(e.machineName,e.majorVersion,e.minorVersion,n)}getLibraryById(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId();const o=yield r.librariesTables[n].getOneByPrimaryKey({id:e});return r.parseLibDBData(o)}))()}getLibraryId(e,n,r,i){var s=this;return(0,o.A)((function*(){try{return(yield s.getLibrary(e,n,r,i)).id||void 0}catch(e){return}}))()}getLibraryIdByData(e,n){return this.getLibraryId(e.machineName,e.majorVersion,e.minorVersion,n)}getMissingDependenciesForComponent(e,n,r){var s=this;return(0,o.A)((function*(){null!=r?r:r=i.CoreSites.getCurrentSiteId();try{return yield s.missingDependenciesTables[r].getMany({component:e,componentId:n})}catch{return[]}}))()}getMissingDependenciesForFile(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId();try{const o=yield r.getFileIdForMissingDependencies(e,n);return yield r.missingDependenciesTables[n].getMany({fileid:o})}catch{return[]}}))()}getOption(e,n){return c.Xh.CONTROLLED_BY_AUTHOR_DEFAULT_OFF}hasPermission(e,n){return!0}isContentSlugAvailable(e){return!0}isPatchedLibrary(e,n){var r=this;return(0,o.A)((function*(){return n||(n=yield r.getLibraryByData(e)),e.patchVersion>n.patchversion}))()}libraryParameterValuesToCsv(e,n,r="path"){if(void 0!==e[n]){const o=[];return e[n].forEach((e=>{for(const n in e)n===r&&o.push(e[n])})),o.join(",")}return""}loadAddons(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSiteDb(e),o=`SELECT l1.id AS libraryId, l1.machinename AS machineName, l1.majorversion AS majorVersion, l1.minorversion AS minorVersion, l1.patchversion AS patchVersion, l1.addto AS addTo, l1.preloadedjs AS preloadedJs, l1.preloadedcss AS preloadedCss FROM ${p.js} l1 LEFT JOIN ${p.js} l2 ON l1.machinename = l2.machinename AND (l1.majorversion < l2.majorversion OR (l1.majorversion = l2.majorversion AND l1.minorversion < l2.minorversion)) WHERE l1.addto IS NOT NULL AND l2.machinename IS NULL`,s=yield r.execute(o),a=[];for(let e=0;e<s.rows.length;e++)a.push(n.parseLibAddonData(s.rows.item(e)));return a}))()}loadContent(e,n,r){var s=this;return(0,o.A)((function*(){let o;if(r=r||i.CoreSites.getCurrentSiteId(),e)o=yield s.getContentData(e,r);else{if(!n)throw new f.CoreError("No id or fileUrl supplied to loadContent.");o=yield s.getContentDataByUrl(n,r)}const a=yield s.getLibraryById(o.mainlibraryid,r),p={id:o.id,params:o.jsoncontent,embedType:"iframe",disable:null,folderName:o.foldername,title:a.title,slug:`${c.qY.slugify(a.title)}-${o.id}`,filtered:o.filtered,libraryId:a.id,libraryName:a.machinename,libraryMajorVersion:a.majorversion,libraryMinorVersion:a.minorversion,libraryEmbedTypes:a.embedtypes,libraryFullscreen:a.fullscreen,metadata:null},g=u.Ni.parseJSON(o.jsoncontent);return g.metadata||(g.metadata={}),"string"!=typeof g.title||g.metadata.title||(g.metadata.title=g.title),p.metadata=g.metadata,p.params=JSON.stringify(void 0!==g.params&&null!=g.params?g.params:g),p}))()}loadContentDependencies(e,n,r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSiteDb(r);let s=`SELECT\n            hl.id AS libraryId,\n            hl.machinename AS machineName,\n            hl.majorversion AS majorVersion,\n            hl.minorversion AS minorVersion,\n            hl.patchversion AS patchVersion,\n            hl.preloadedcss AS preloadedCss,\n            hl.preloadedjs AS preloadedJs,\n            hcl.dropcss AS dropCss,\n            hcl.dependencytype as dependencyType\n        FROM ${p.AI} hcl\n        JOIN ${p.js} hl ON hcl.libraryid = hl.id\n        WHERE hcl.h5pid = ?`;const a=[];a.push(e),n&&(s+=" AND hcl.dependencytype = ?",a.push(n)),s+=" ORDER BY hcl.weight";const c=yield o.execute(s,a),u={};for(let e=0;e<c.rows.length;e++){const n=c.rows.item(e);u[n.machineName]=n}return u}))()}loadLibrary(e,n,r,s){var a=this;return(0,o.A)((function*(){const o=yield a.getLibrary(e,n,r,s),c={libraryId:o.id,title:o.title,machineName:o.machinename,majorVersion:o.majorversion,minorVersion:o.minorversion,patchVersion:o.patchversion,runnable:o.runnable,fullscreen:o.fullscreen,embedTypes:o.embedtypes,preloadedJs:o.preloadedjs||void 0,preloadedCss:o.preloadedcss||void 0,dropLibraryCss:o.droplibrarycss||void 0,semantics:o.semantics||void 0,preloadedDependencies:[],dynamicDependencies:[],editorDependencies:[]},u=`SELECT\n            hl.id,\n            hl.machinename,\n            hl.majorversion,\n            hl.minorversion,\n            hll.dependencytype\n        FROM ${p.Pi} hll\n        JOIN ${p.js} hl ON hll.requiredlibraryid = hl.id\n        WHERE hll.libraryid = ?\n        ORDER BY hl.id ASC`,f=[o.id],g=yield i.CoreSites.getSiteDb(s),v=yield g.execute(u,f);for(let e=0;e<v.rows.length;e++){const n=v.rows.item(e);c[`${n.dependencytype}Dependencies`].push({machineName:n.machinename,majorVersion:n.majorversion,minorVersion:n.minorversion})}return c}))()}parseLibAddonData(e){const n=e;return n.addTo=u.Ni.parseJSON(e.addTo,null),n}parseLibDBData(e){return Object.assign(e,{semantics:e.semantics?u.Ni.parseJSON(e.semantics,null):null,addto:e.addto?u.Ni.parseJSON(e.addto,null):null,metadatasettings:e.metadatasettings?u.Ni.parseJSON(e.metadatasettings,null):null})}resetContentUserData(e,n){return(0,o.A)((function*(){}))()}saveCachedAssets(e,n,r,s){var a=this;return(0,o.A)((function*(){const c=null!=s?s:i.CoreSites.getCurrentSiteId();yield Promise.all(Object.keys(n).map(function(){var i=(0,o.A)((function*(o){yield a.librariesCachedAssetsTables[c].insert({hash:e,libraryid:n[o].libraryId,foldername:r})}));return function(e){return i.apply(this,arguments)}}()))}))()}saveLibraryData(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=i.CoreSites.getCurrentSiteId();const o=r.libraryParameterValuesToCsv(e,"preloadedJs","path"),s=r.libraryParameterValuesToCsv(e,"preloadedCss","path"),a=r.libraryParameterValuesToCsv(e,"dropLibraryCss","machineName");void 0===e.semantics&&(e.semantics=[]),void 0===e.fullscreen&&(e.fullscreen=0);let c="";void 0!==e.embedTypes&&(c=e.embedTypes.join(", "));const u={title:e.title,machinename:e.machineName,majorversion:e.majorVersion,minorversion:e.minorVersion,patchversion:e.patchVersion,runnable:e.runnable,fullscreen:e.fullscreen,embedtypes:c,preloadedjs:o,preloadedcss:s,droplibrarycss:a,semantics:void 0!==e.semantics?JSON.stringify(e.semantics):null,addto:void 0!==e.addTo?JSON.stringify(e.addTo):null,metadatasettings:void 0!==e.metadataSettings?CoreH5PMetadata.boolifyAndEncodeSettings(e.metadataSettings):null};e.libraryId&&(u.id=e.libraryId);const p=yield r.librariesTables[n].insert(u);u.id?yield r.deleteLibraryDependencies(u.id,n):e.libraryId=p,E.g.ignoreErrors(r.deleteMissingDependenciesForLibrary(e,n))}))()}saveLibraryDependencies(e,n,r,s){var a=this;return(0,o.A)((function*(){const u=null!=s?s:i.CoreSites.getCurrentSiteId(),p=c.qY.libraryToString(e);yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){const o=yield a.getLibraryIdByData(n,s);if(!o)throw new w.u(g.HT.instant("core.h5p.missingdependency",{$a:{lib:c.qY.libraryToString(e),dep:c.qY.libraryToString(n)}}),[{...n,libString:p}]);if("number"!=typeof e.libraryId)throw new f.CoreError("Attempted to create dependencies of library without id");yield a.libraryDependenciesTables[u].insert({libraryid:e.libraryId,requiredlibraryid:o,dependencytype:r})}));return function(e){return n.apply(this,arguments)}}()))}))()}saveLibraryUsage(e,n,r){var s=this;return(0,o.A)((function*(){const o=null!=r?r:i.CoreSites.getCurrentSiteId(),a={};for(const e in n){const r=n[e];if("dropLibraryCss"in r.library&&r.library.dropLibraryCss){r.library.dropLibraryCss.split(", ").forEach((e=>{a[e]=e}))}}yield Promise.all(Object.keys(n).map((r=>{var i;const c=n[r];return s.contentsLibrariesTables[o].insert({h5pid:e,libraryid:c.library.libraryId,dependencytype:c.type,dropcss:a[c.library.machineName]?1:0,weight:null!==(i=c.weight)&&void 0!==i?i:0})})))}))()}storeMissingDependencies(e,n,r={}){var s=this;return(0,o.A)((function*(){var o;const a=null!==(o=r.siteId)&&void 0!==o?o:i.CoreSites.getCurrentSiteId(),c=yield s.getFileIdForMissingDependencies(e,a);yield Promise.all(n.map((e=>{var n;return s.missingDependenciesTables[a].insert({fileid:c,machinename:e.machineName,majorversion:e.majorVersion,minorversion:e.minorVersion,requiredby:e.libString,filetimemodified:null!==(n=r.fileTimemodified)&&void 0!==n?n:0,component:r.component,componentId:r.componentId})})))}))()}updateContent(e,n,r,s){var a=this;return(0,o.A)((function*(){var o,c,p;if(null!=s?s:s=i.CoreSites.getCurrentSiteId(),e.library&&void 0===e.library.libraryId){const n=yield a.getLatestLibraryVersion(e.library.machineName,s);e.library.libraryId=n.id}if("string"==typeof e.title){const n=u.Ni.parseJSON(e.params||"{}");n.title=e.title,e.params=JSON.stringify(n)}if("number"!=typeof(null===(o=e.library)||void 0===o?void 0:o.libraryId))throw new f.CoreError("Attempted to create content of library without id");const g={jsoncontent:null!==(c=e.params)&&void 0!==c?c:"{}",mainlibraryid:null===(p=e.library)||void 0===p?void 0:p.libraryId,timemodified:Date.now(),filtered:null,foldername:n,fileurl:r,timecreated:Date.now()};let v;void 0!==e.id&&(g.id=e.id,v=e.id);const C=yield a.contentTables[s].insert(g);return v||(e.id=C,v=e.id),v}))()}updateContentFields(e,n,r){var s=this;return(0,o.A)((function*(){null!=r?r:r=i.CoreSites.getCurrentSiteId(),yield s.contentTables[r].update(n,{id:e})}))()}}var I=r(45507),T=r(81690),P=r(74691),k=r(8756),x=r(51694);class CoreH5PPlayer{constructor(e,n){this.h5pCore=e,this.h5pStorage=n}calculateOnlinePlayerUrl(e,n,r,o){n=L.treatH5PUrl(n,e);const i=this.getUrlParamsFromDisplayOptions(r);return i.url=encodeURIComponent(n),o&&(i.component=o),s.F.addParamsToUrl(k.$.concatenatePaths(e,"/h5p/embed.php"),i)}createContentIndex(e,n,r,s,a){var u=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(a),p=u.getContentId(e),f=I.CoreFile.getBasePathInstant(),g=I.CoreFile.convertFileSrc(k.$.concatenatePaths(f,u.h5pCore.h5pFS.getContentFolderPath(r.folderName,o.getId()))),v={library:c.qY.libraryToString(r.library),fullScreen:r.library.fullscreen,exportUrl:"",embedCode:u.getEmbedCode(o.getURL(),n,!0),resizeCode:u.getResizeCode(),title:r.slug,displayOptions:{},url:"",contentUrl:g,metadata:r.metadata,contentUserData:[{state:"{}"}]},C=yield u.getAssets(e,r,s,o.getId());C.settings.contents[p]=Object.assign(C.settings.contents[p],v);const b=u.h5pCore.h5pFS.getContentIndexPath(r.folderName,o.getId());let w="<html><head><title>"+r.title+'</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8">';C.cssRequires.forEach((e=>{w+='<link rel="stylesheet" type="text/css" href="'+e+'">'})),w+='<script type="text/javascript">var H5PIntegration = '+JSON.stringify(C.settings).replace(/\//g,"\\/")+"<\/script>",w+='<script type="text/javascript" src="'+k.$.concatenatePaths(u.h5pCore.h5pFS.getCoreH5PPath(),"moodle/js/params.js")+'"><\/script>',w+="</head><body>",w+='<script type="text/javascript" src="'+k.$.concatenatePaths(u.h5pCore.h5pFS.getCoreH5PPath(),"moodle/js/embed.js")+'"><\/script>',C.jsRequires.forEach((e=>{w+='<script type="text/javascript" src="'+e+'"><\/script>'})),w+=`<div class="h5p-iframe-wrapper">\n        <iframe id="h5p-iframe-${e}" class="h5p-iframe" data-content-id="${e}"\n            style="height:1px; min-width: 100%" src="about:blank">\n        </iframe></div></body>`;const A=yield I.CoreFile.writeFile(b,w);return I.CoreFile.getFileEntryURL(A)}))()}deleteAllContentIndexes(){var e=this;return(0,o.A)((function*(){const n=yield i.CoreSites.getSitesIds();yield Promise.all(n.map((n=>e.deleteAllContentIndexesForSite(n))))}))()}deleteAllContentIndexesForSite(e){var n=this;return(0,o.A)((function*(){const r=e||i.CoreSites.getCurrentSiteId();if(!r)return;const s=yield n.h5pCore.h5pFramework.getAllContentData(r);yield Promise.all(s.map(function(){var e=(0,o.A)((function*(e){yield E.g.ignoreErrors(n.h5pCore.h5pFS.deleteContentIndex(e.foldername,r))}));return function(n){return e.apply(this,arguments)}}()))}))()}deleteContentByUrl(e,n){var r=this;return(0,o.A)((function*(){n=n||i.CoreSites.getCurrentSiteId();const o=yield r.h5pCore.h5pFramework.getContentDataByUrl(e,n);yield E.g.allPromises([r.h5pCore.h5pFramework.deleteContentData(o.id,n),r.h5pCore.h5pFS.deleteContentFolder(o.foldername,n)])}))()}getAssets(e,n,r,s){var a=this;return(0,o.A)((function*(){s=s||i.CoreSites.getCurrentSiteId();const r=yield P.P.getCoreAssets(s),o=a.getContentId(e),c=r.settings;c.contents=c.contents||{},c.contents[o]=c.contents[o]||{},c.moodleLibraryPaths=yield a.h5pCore.getDependencyRoots(e),c.contents[o].jsonContent=yield a.h5pCore.filterParameters(n,s);const u=yield a.getDependencyFiles(e,n.folderName,s);return c.contents[o].scripts=a.h5pCore.getAssetsUrls(u.scripts),c.contents[o].styles=a.h5pCore.getAssetsUrls(u.styles),{settings:c,cssRequires:r.cssRequires,jsRequires:r.jsRequires}}))()}getContentId(e){return`cid-${e}`}getContentIndexFileUrl(e,n,r,a,c,u={}){var p=this;return(0,o.A)((function*(){c=c||i.CoreSites.getCurrentSiteId();const o=yield p.h5pCore.h5pFS.getContentIndexFileUrl(e,c),f=yield p.h5pCore.h5pFramework.getContentDataByUrl(e,c);n=p.h5pCore.fixDisplayOptions(n||{},f.id);const g={displayOptions:JSON.stringify(n),component:r||""};a&&(g.trackingUrl=yield x.i.generate(a,"activity",c)),void 0!==u.saveFreq&&(g.saveFreq=u.saveFreq),void 0!==u.state&&(g.state=u.state);const v=yield E.g.ignoreErrors(L.getCustomCssSrc(c));return v&&(g.customCssUrl=v),s.F.addParamsToUrl(o,g)}))()}getDependencyFiles(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId();const o=yield L.h5pCore.loadContentDependencies(e,"preloaded",r);return s.h5pCore.getDependenciesFiles(o,n,s.h5pCore.h5pFS.getExternalH5PFolderPath(r),r)}))()}getDisplayOptionsFromUrlParams(e){const n={};return e?(n[c.qY.DISPLAY_OPTION_DOWNLOAD]=!1,n[c.qY.DISPLAY_OPTION_EMBED]=!1,n[c.qY.DISPLAY_OPTION_COPYRIGHT]=T.j.isTrueOrOne(e[c.qY.DISPLAY_OPTION_COPYRIGHT]),n[c.qY.DISPLAY_OPTION_FRAME]=n[c.qY.DISPLAY_OPTION_DOWNLOAD]||n[c.qY.DISPLAY_OPTION_EMBED]||n[c.qY.DISPLAY_OPTION_COPYRIGHT],n[c.qY.DISPLAY_OPTION_ABOUT]=!!this.h5pCore.h5pFramework.getOption(c.qY.DISPLAY_OPTION_ABOUT,!0),n):n}getEmbedCode(e,n,r){return r?`<iframe src="${this.getEmbedUrl(e,n)}" allowfullscreen="allowfullscreen"></iframe>`:""}getEmbedUrl(e,n){return`${k.$.concatenatePaths(e,"/h5p/embed.php")}?url=${n}`}getResizeCode(){return`<script src="${this.getResizerScriptUrl()}"><\/script>`}getResizerScriptUrl(){return k.$.concatenatePaths(this.h5pCore.h5pFS.getCoreH5PPath(),"js/h5p-resizer.js")}getUrlParamsFromDisplayOptions(e){const n={};return e?(n[c.qY.DISPLAY_OPTION_FRAME]=e[c.qY.DISPLAY_OPTION_FRAME]?"1":"0",n[c.qY.DISPLAY_OPTION_DOWNLOAD]=e[c.qY.DISPLAY_OPTION_DOWNLOAD]?"1":"0",n[c.qY.DISPLAY_OPTION_EMBED]=e[c.qY.DISPLAY_OPTION_EMBED]?"1":"0",n[c.qY.DISPLAY_OPTION_COPYRIGHT]=e[c.qY.DISPLAY_OPTION_COPYRIGHT]?"1":"0",n):n}}class CoreH5PStorage{constructor(e,n){this.h5pCore=e,this.h5pFramework=n}saveLibraries(e,n,r){var s=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId(),yield I.CoreFile.createDir(s.h5pCore.h5pFS.getLibrariesFolderPath(r));const n=[];yield Promise.all(Object.keys(e).map(function(){var n=(0,o.A)((function*(n){const o=e[n],i=yield E.g.ignoreErrors(s.h5pFramework.getLibraryByData(o));if(i){o.libraryId=i.id;if(!(i.patchversion<o.patchVersion)&&(yield s.h5pCore.h5pFS.checkLibrary(o,r)))return o.saveDependencies=!1,void 0}if(o.saveDependencies=!0,o.metadataSettings=o.metadataSettings?CoreH5PMetadata.boolifyAndEncodeSettings(o.metadataSettings):void 0,yield s.h5pCore.h5pFS.saveLibrary(o,r),yield s.h5pFramework.saveLibraryData(o,r),void 0!==o.libraryId){const e=[];if(e.push(s.h5pCore.h5pFS.deleteContentIndexesForLibrary(o.libraryId,r)),s.h5pCore.aggregateAssets){const e=yield s.h5pFramework.deleteCachedAssets(o.libraryId,r);yield s.h5pCore.h5pFS.deleteCachedAssets(e,r)}yield E.g.allPromises(e)}}));return function(e){return n.apply(this,arguments)}}())),yield Promise.all(Object.keys(e).map(function(){var i=(0,o.A)((function*(o){const i=e[o];if(!i.saveDependencies||!i.libraryId)return;n.push(i.libraryId),yield s.h5pFramework.deleteLibraryDependencies(i.libraryId,r);const a=[];void 0!==i.preloadedDependencies&&a.push(s.h5pFramework.saveLibraryDependencies(i,i.preloadedDependencies,"preloaded")),void 0!==i.dynamicDependencies&&a.push(s.h5pFramework.saveLibraryDependencies(i,i.dynamicDependencies,"dynamic")),yield Promise.all(a)}));return function(e){return i.apply(this,arguments)}}())),n.length&&(yield s.h5pFramework.clearFilteredParameters(n,r))}))()}savePackage(e,n,r,s,a){var c=this;return(0,o.A)((function*(){a=a||i.CoreSites.getCurrentSiteId(),c.h5pCore.mayUpdateLibraries()&&(yield c.saveLibraries(e.librariesJsonData,n,a));const o={};if("string"==typeof e.mainJsonData.title&&(o.title=e.mainJsonData.title),!s){if(e.mainJsonData.preloadedDependencies){const n=e.mainJsonData.preloadedDependencies.find((n=>n.machineName===e.mainJsonData.mainLibrary));if(n){const e=yield c.h5pFramework.getLibraryIdByData(n);o.library=Object.assign(n,{libraryId:e})}}o.params=JSON.stringify(e.contentJsonData);const i=k.$.concatenatePaths(I.CoreFileProvider.TMPFOLDER,`h5p/${n}`),s=k.$.concatenatePaths(i,"content");yield c.h5pCore.h5pFS.saveContent(s,n,a),yield c.h5pCore.saveContent(o,n,r,a)}return o}))()}}class CoreH5PValidator{constructor(e){this.h5pFramework=e}getAllEditorDependencies(e,n){var r;const o=new Set,addOrRemoveEditorDependency=(e,r=!0)=>{var i,s;const a=c.qY.libraryToString(e);if(r&&o.has(a)||!r&&!o.has(a))return;r?o.add(a):o.delete(a);const u=n[a];(null!==(i=null==u?void 0:u.preloadedDependencies)&&void 0!==i?i:[]).concat(null!==(s=null==u?void 0:u.dynamicDependencies)&&void 0!==s?s:[]).forEach((e=>{r?e.machineName.startsWith("H5PEditor.")&&addOrRemoveEditorDependency(e,r):addOrRemoveEditorDependency(e,r)}))};return Object.values(n).forEach((e=>{var n;null===(n=e.editorDependencies)||void 0===n||n.forEach((e=>{addOrRemoveEditorDependency(e,!0)}))})),null===(r=e.preloadedDependencies)||void 0===r||r.forEach((e=>{addOrRemoveEditorDependency(e,!1)})),Object.keys(n).forEach((e=>{var r,i;if(o.has(e))return;const s=n[e];(null!==(r=null==s?void 0:s.preloadedDependencies)&&void 0!==r?r:[]).concat(null!==(i=null==s?void 0:s.dynamicDependencies)&&void 0!==i?i:[]).forEach((e=>{addOrRemoveEditorDependency(e,!1)}))})),o}getLibraryData(e,n){var r=this;return(0,o.A)((function*(){const e=yield Promise.all([r.readLibraryJsonFile(n),r.readLibrarySemanticsFile(n),r.readLibraryLanguageFiles(n),r.libraryHasIcon(n)]),o=e[0];return o.semantics=e[1],o.language=e[2],o.hasIcon=e[3],o}))()}getMissingLibraries(e){const n={};return Object.values(e).forEach((r=>{void 0!==r.preloadedDependencies&&Object.assign(n,this.getMissingDependencies(r.preloadedDependencies,r,e)),void 0!==r.dynamicDependencies&&Object.assign(n,this.getMissingDependencies(r.dynamicDependencies,r,e))})),n}getMissingDependencies(e,n,r){const o={};return e.forEach((e=>{const i=c.qY.libraryToString(e);r[i]||(o[i]=Object.assign(e,{libString:c.qY.libraryToString(n)}))})),o}getPackageLibrariesData(e,n){var r=this;return(0,o.A)((function*(){const i={};return yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){if("."==n.name[0]||"_"==n.name[0]||"content"==n.name||n.isFile)return;const o=k.$.concatenatePaths(e,n.name),s=yield r.getLibraryData(n,o);s.uploadDirectory=o,i[c.qY.libraryToString(s)]=s}));return function(e){return n.apply(this,arguments)}}())),i}))()}libraryHasIcon(e){return(0,o.A)((function*(){const n=k.$.concatenatePaths(e,"icon.svg");try{return yield I.CoreFile.getFile(n),!0}catch(e){return!1}}))()}processH5PFiles(e,n,r){var i=this;return(0,o.A)((function*(){const[s,a,c]=yield Promise.all([i.readH5PJsonFile(e),i.readH5PContentJsonFile(e),i.getPackageLibrariesData(e,n)]);i.getAllEditorDependencies(s,c).forEach((e=>{delete c[e]}));const u=i.getMissingLibraries(c);if(yield Promise.all(Object.keys(u).map(function(){var e=(0,o.A)((function*(e){const n=u[e];(yield i.h5pFramework.getLibraryIdByData(n,r))&&delete u[e]}));return function(n){return e.apply(this,arguments)}}())),Object.keys(u).length>0){const e=Object.keys(u)[0];throw new w.u(g.HT.instant("core.h5p.missingdependency",{$a:{lib:u[e].libString,dep:e}}),Object.values(u))}return{librariesJsonData:c,mainJsonData:s,contentJsonData:a}}))()}readH5PContentJsonFile(e){const n=k.$.concatenatePaths(e,"content/content.json");return I.CoreFile.readFile(n,4)}readH5PJsonFile(e){const n=k.$.concatenatePaths(e,"h5p.json");return I.CoreFile.readFile(n,4)}readLibraryJsonFile(e){const n=k.$.concatenatePaths(e,"library.json");return I.CoreFile.readFile(n,4)}readLibraryLanguageFiles(e){return(0,o.A)((function*(){try{const n=k.$.concatenatePaths(e,"language"),r={},i=yield I.CoreFile.getDirectoryContents(n);return yield Promise.all(i.map(function(){var e=(0,o.A)((function*(e){const o=k.$.concatenatePaths(n,e.name);try{const n=yield I.CoreFile.readFile(o,4),i=e.name.split(".");r[i[0]]=n}catch{}}));return function(n){return e.apply(this,arguments)}}())),r}catch(e){}}))()}readLibrarySemanticsFile(e){return(0,o.A)((function*(){try{const n=k.$.concatenatePaths(e,"semantics.json");return yield I.CoreFile.readFile(n,4)}catch(e){}}))()}}var F=r(74431),R=r(54438);let N=(()=>{var e;class CoreH5PProvider{constructor(){this.queueRunner=new a.r(1),this.h5pFramework=new CoreH5PFramework,this.h5pValidator=new CoreH5PValidator(this.h5pFramework),this.h5pCore=new c.qY(this.h5pFramework),this.h5pStorage=new CoreH5PStorage(this.h5pCore,this.h5pFramework),this.h5pPlayer=new CoreH5PPlayer(this.h5pCore,this.h5pStorage)}canGetTrustedH5PFile(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.canGetTrustedH5PFileInSite(r)}))()}canGetTrustedH5PFileInSite(e){var n;return!(null===(n=e=e||i.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("core_h5p_get_trusted_h5p_file"))}getCustomCssSrc(e){return(0,o.A)((function*(){const n=yield i.CoreSites.getSite(e),r=yield n.getStoredConfig("h5pcustomcssurl");if(!r)return;const o=yield A.CoreFilepool.getFileStateByUrl(n.getId(),r);return o===F.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED&&(yield E.g.ignoreErrors(A.CoreFilepool.removeFilesByComponent(n.getId(),CoreH5PProvider.CUSTOM_CSS_COMPONENT,1))),o!==F.DownloadStatus.DOWNLOADED&&(yield A.CoreFilepool.downloadUrl(n.getId(),r,!1,CoreH5PProvider.CUSTOM_CSS_COMPONENT,1)),yield A.CoreFilepool.getInternalSrcByUrl(n.getId(),r)}))()}getTrustedH5PFile(e,n,r,s){var a=this;return(0,o.A)((function*(){n=n||{};const o=yield i.CoreSites.getSite(s),c={url:a.treatH5PUrl(e,o.getURL()),frame:n.frame?1:0,export:n.export?1:0,embed:n.embed?1:0,copyright:n.copyright?1:0},u={cacheKey:a.getTrustedH5PFileCacheKey(e),updateFrequency:F.CoreCacheUpdateFrequency.RARELY};r&&(u.getFromCache=!1,u.emergencyCache=!1);const p=yield o.read("core_h5p_get_trusted_h5p_file",c,u);if(p.warnings&&p.warnings.length)throw p.warnings[0];if(p.files&&p.files.length)return p.files[0];throw new f.CoreError("File not found")}))()}getTrustedH5PFileCacheKey(e){return this.getTrustedH5PFilePrefixCacheKey()+e}getTrustedH5PFilePrefixCacheKey(){return`${CoreH5PProvider.ROOT_CACHE_KEY}trustedH5PFile:`}invalidateAllGetTrustedH5PFile(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);yield r.invalidateWsCacheForKeyStartingWith(n.getTrustedH5PFilePrefixCacheKey())}))()}invalidateGetTrustedH5PFile(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getTrustedH5PFileCacheKey(e))}))()}isOfflineDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isOfflineDisabledInSite(r)}))()}isOfflineDisabledInSite(e){var n,r;return!!(null!==(n=e=e||i.CoreSites.getCurrentSite())&&void 0!==n&&n.isOfflineDisabled()||null!==(r=e)&&void 0!==r&&r.isFeatureDisabled("NoDelegate_H5POffline"))}isTrustedUrl(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).containsUrl(e)&&!!e.match(/pluginfile\.php\/([^/]+\/)?[^/]+\/core_h5p\/export\//i)}))()}treatH5PUrl(e,n){return 0===e.indexOf(k.$.concatenatePaths(n,"/webservice/pluginfile.php"))&&(e=e.replace("/webservice/pluginfile","/pluginfile")),s.F.removeUrlParts(e,["query","fragment"])}}return(e=CoreH5PProvider).ROOT_CACHE_KEY="CoreH5P:",e.CUSTOM_CSS_COMPONENT="CoreH5PCustomCSS",e.ɵfac=function CoreH5PProvider_Factory(n){return new(n||e)},e.ɵprov=R.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreH5PProvider})();const L=(0,g.Qd)(N)},84129:(e,n,r)=>{"use strict";r.d(n,{Fx:()=>g,M$:()=>c,TT:()=>b,Vu:()=>v,dp:()=>o,dq:()=>a,ey:()=>p,g:()=>C,jm:()=>f,n5:()=>i,ty:()=>u,wd:()=>s});const o="https://edwantage.net/",i="onboarding_done",s="qrcode_info_done",a='<img src="assets/img/login/faq_url.png" role="presentation" alt="">',c='<img src="assets/img/login/faq_qrcode.png" role="presentation" alt="">',u="CoreLoginEmailSignup",p="NoDelegate_ForgottenPassword",f="NoDelegate_IdentityProviders",g="NoDelegate_IdentityProvider_",v="always_show_login_form",C="always_show_login_form_changed",b="app_unsupported_churn"},24327:(e,n,r)=>{"use strict";r.d(n,{T:()=>I,k:()=>getLoginServices});var o=r(10467),i=r(54438),s=r(94114),a=r(82461),c=r(42370),u=r(52749),p=r(79555),f=r(74431);const g=function(){var e=(0,o.A)((function*(){var e;const n=c.p.consumeMemoryRedirect();if(!n)return!0;if(n.siteId&&n.siteId!==f.CoreConstants.NO_SITE_ID){const e={urlToOpen:n.urlToOpen};"main"!==n.redirectPath&&(e.redirectPath=n.redirectPath,e.redirectOptions=n.redirectOptions);const r=yield u.CoreSites.loadSite(n.siteId,e),o=p.Ix.parseUrl("/main");return o.queryParams=e,!r||o}if(!n.redirectPath)return!0;const r=p.Ix.parseUrl(n.redirectPath);return r.queryParams=(null===(e=n.redirectOptions)||void 0===e?void 0:e.params)||{},r}));return function redirectGuard(){return e.apply(this,arguments)}}();var v=r(55554);let C=(()=>{var e;class CoreLoginCronHandlerService{constructor(){this.name="CoreLoginCronHandler"}execute(e){return(0,o.A)((function*(){if(!(e=e||u.CoreSites.getCurrentSiteId()))return;const n=yield u.CoreSites.getSite(e),r=yield v.g.ignoreErrors(n.getPublicConfig({readingStrategy:2}));v.g.ignoreErrors(u.CoreSites.checkApplication(r))}))()}isSync(){return!0}}return(e=CoreLoginCronHandlerService).ɵfac=function CoreLoginCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreLoginCronHandlerService})();const b=(0,p.Qd)(C);var w=r(26135),A=r(49882);const _=function(){var e=(0,o.A)((function*(){if((yield v.g.ignoreErrors(u.CoreSites.getSites(),[])).length>0)return!0;const[e,n]=yield a.CoreLoginHelper.getAddSiteRouteInfo(),r=p.Ix.parseUrl(e);return r.queryParams=n,r}));return function hasSitesGuard(){return e.apply(this,arguments)}}();function getLoginServices(){return _getLoginServices.apply(this,arguments)}function _getLoginServices(){return(_getLoginServices=(0,o.A)((function*(){const{CoreLoginHelperProvider:e}=yield Promise.resolve().then(r.bind(r,82461));return[e]}))).apply(this,arguments)}const E=[{path:"login",loadChildren:()=>[{path:"",pathMatch:"full",redirectTo:"sites"},{path:"site",loadComponent:()=>r.e(3844).then(r.bind(r,3844))},{path:"credentials",loadComponent:()=>a.CoreLoginHelper.getCredentialsPage()},{path:"sites",loadComponent:()=>r.e(27268).then(r.bind(r,27268)),canActivate:[_]},{path:"forgottenpassword",loadComponent:()=>r.e(55166).then(r.bind(r,55166))},{path:"changepassword",loadComponent:()=>r.e(66568).then(r.bind(r,66568))},{path:"emailsignup",loadComponent:()=>Promise.all([r.e(72076),r.e(26980)]).then(r.bind(r,26980))},{path:"reconnect",loadComponent:()=>a.CoreLoginHelper.getReconnectPage()}],canActivate:[g]},{path:"logout",loadComponent:()=>r.e(9978).then(r.bind(r,9978))}];let I=(()=>{var e,n;class CoreLoginModule{}return(e=CoreLoginModule).ɵfac=function CoreLoginModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){w.CoreCronDelegate.register(b.instance),A.z.on(A.z.SESSION_EXPIRED,(e=>{a.CoreLoginHelper.sessionExpired(e)})),A.z.on(A.z.PASSWORD_CHANGE_FORCED,(e=>{a.CoreLoginHelper.passwordChangeForced(e.siteId)})),yield a.CoreLoginHelper.initialize()})),function useValue(){return n.apply(this,arguments)})}],imports:[s.uH.forChild(E)]}),CoreLoginModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(I,{imports:[s.uH]}))},82461:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreLoginHelper:()=>K,CoreLoginHelperProvider:()=>W});var o=r(10467),i=r(54438),s=r(89377),a=r(36358),c=r(85190),u=r(49882),p=r(52749),f=r(99121),g=r(75383),v=r(58364),C=r(74431),b=r(75629),w=r(43411),A=r(79555),_=r(6787),E=r(8014),I=r(15324),T=r(63508),P=r(70318),k=r(8756),x=r(25124),F=r(87455),R=r(50552),N=r(84129),L=r(51092),H=r(68831),U=r(33014),B=r(49588),j=r(97064),V=r(55554),G=r(86552),z=r(25572),q=r(35132);let W=(()=>{var e;class CoreLoginHelperProvider{constructor(){this.sessionExpiredCheckingSite={},this.isOpenEditAlertShown=!1,this.logger=_.CoreLogger.getInstance("CoreLoginHelper")}initialize(){var e=this;return(0,o.A)((function*(){e.cleanUpPasswordResets()}))()}acceptSitePolicy(e){return(0,o.A)((function*(){const{CorePolicy:n}=yield r.e(72076).then(r.bind(r,65614));return n.acceptMandatorySitePolicies(e)}))()}canRequestPasswordReset(e){var n=this;return(0,o.A)((function*(){try{return yield n.requestPasswordReset(e),!0}catch(e){return 1==e.available||e.errorcode&&"invalidrecord"!=e.errorcode}}))()}checkLogout(){const e=p.CoreSites.getCurrentSite();!j.h.isSSOAuthenticationOngoing()&&null!=e&&e.isLoggedOut()&&I.CoreNavigator.isCurrent("/login/reconnect")&&p.CoreSites.logout()}confirmAndOpenBrowserForSSOLogin(e,n,r,i,s){var a=this;return(0,o.A)((function*(){a.openBrowserForSSOLogin(e,n,r,i,s)}))()}forgottenPasswordClicked(e,n,r){var i=this;return(0,o.A)((function*(){if(r&&r.forgottenpasswordurl)return G.j.openInApp(r.forgottenpasswordurl),void 0;const o=yield U.CoreLoadings.show();try{(yield i.canRequestPasswordReset(e))?yield I.CoreNavigator.navigate("/login/forgottenpassword",{params:{siteUrl:e,siteConfig:r,username:n}}):i.openForgottenPassword(e)}finally{o.dismiss()}}))()}formatProfileFieldsForSignup(e){if(!e)return[];const n={};return e.forEach((e=>{e.signup&&e.categoryid&&(n[e.categoryid]||(n[e.categoryid]={id:e.categoryid,name:e.categoryname||"",fields:[]}),n[e.categoryid].fields.push(e))})),Object.keys(n).map((e=>n[Number(e)]))}getDisabledFeatures(e){const n=null==e?void 0:e.tool_mobile_disabledfeatures;return n||""}getLogoUrl(e){return!C.CoreConstants.CONFIG.forceLoginLogo&&e?e.logourl||e.compactlogourl:void 0}getLogoutLabel(e){var n;const r=null===(n=e=e||p.CoreSites.getCurrentSite())||void 0===n?void 0:n.getStoredConfig();return"core.mainmenu."+(r&&"1"==r.tool_mobile_forcelogout?"logout":"switchaccount")}getOAuthIdFromParams(e){return e&&void 0!==e.oauthsso?Number(e.oauthsso):void 0}getEmailSignupSettings(e){return(0,o.A)((function*(){return yield f.CoreWS.callAjax("auth_email_get_signup_settings",{},{siteUrl:e})}))()}getSitePolicy(e){return(0,o.A)((function*(){const{CorePolicy:n}=yield r.e(72076).then(r.bind(r,65614));return n.getSitePoliciesURL(e)}))()}getAvailableSites(){return(0,o.A)((function*(){const e=yield F.CoreSettingsHelper.hasEnabledStagingSites();return C.CoreConstants.CONFIG.sites.filter((n=>(!n.staging||e)&&!n.demoMode))}))()}getDemoModeSiteInfo(){return C.CoreConstants.CONFIG.sites.find((e=>e.demoMode))}getValidIdentityProviders(e){if(!e)return[];if(this.isFeatureDisabled(N.jm,e))return[];const n=[],r=k.$.concatenatePaths(e.wwwroot,"auth/oauth2/"),o=k.$.concatenatePaths(e.httpswwwroot,"auth/oauth2/");return e.identityproviders&&e.identityproviders.length&&e.identityproviders.forEach((i=>{const s=E.F.extractUrlParams(i.url);!i.url||-1==i.url.indexOf(o)&&-1==i.url.indexOf(r)||this.isFeatureDisabled(N.Fx+s.id,e)||n.push(i)})),n}getValidIdentityProvidersForSite(e){return(0,o.A)((function*(){const n=yield V.g.ignoreErrors(e.getPublicConfig());if(!n)return[];if(e.isFeatureDisabled(N.jm))return[];const r=[],o=k.$.concatenatePaths(n.wwwroot,"auth/oauth2/"),i=k.$.concatenatePaths(n.httpswwwroot,"auth/oauth2/");return n.identityproviders&&n.identityproviders.length&&n.identityproviders.forEach((n=>{const s=E.F.extractUrlParams(n.url);!n.url||-1===n.url.indexOf(i)&&-1===n.url.indexOf(o)||e.isFeatureDisabled(N.Fx+s.id)||r.push(n)})),r}))()}findIdentityProvider(e,n){if(n)return e.find((e=>Number(E.F.extractUrlParams(e.url).id)===n))}goToAddSite(e=!1,n=!1){var r=this;return(0,o.A)((function*(){if(p.CoreSites.isLoggedIn())return yield p.CoreSites.logout({siteId:C.CoreConstants.NO_SITE_ID,redirectPath:"/login/sites",redirectOptions:{params:{openAddSite:!0,showKeyboard:n}}}),void 0;const[o,i]=yield r.getAddSiteRouteInfo(n);yield I.CoreNavigator.navigate(o,{params:i,reset:e})}))()}getAddSiteRouteInfo(e){var n=this;return(0,o.A)((function*(){if(C.CoreConstants.CONFIG.demoMode){const e=n.getDemoModeSiteInfo();if(e)return["/login/credentials",{siteUrl:e.url}]}const r=yield n.getAvailableSites();return 1===r.length?["/login/credentials",{siteUrl:r[0].url}]:["/login/site",{showKeyboard:e}]}))()}handleSSOLoginAuthentication(e,n,r,o){return p.CoreSites.newSite(e,n,r,!0,o)}isEmailSignupDisabled(e){return this.isFeatureDisabled(N.ty,e)}isFeatureDisabled(e,n){const r=this.getDisabledFeatures(n),o=new RegExp(`(,|^)${e}(,|$)`,"g");return!!r.match(o)}isSingleFixedSite(){var e=this;return(0,o.A)((function*(){return 1===(yield e.getAvailableSites()).length}))()}isForgottenPasswordDisabled(e){return this.isFeatureDisabled(N.ey,e)}isSiteLoggedOut(e){const n=p.CoreSites.getCurrentSite();return!!n&&(!!n.isLoggedOut()&&(u.z.trigger(u.z.SESSION_EXPIRED,e||{},n.getId()),!0))}isSiteUrlAllowed(e,n=!0){var r=this;return(0,o.A)((function*(){const o=yield r.getAvailableSites();if(o.length){const n=r.getDemoModeSiteInfo();return o.some((n=>E.F.sameDomainAndPath(e,n.url)))||!!n&&E.F.sameDomainAndPath(e,n.url)}if("sitefinder"==C.CoreConstants.CONFIG.multisitesdisplay&&C.CoreConstants.CONFIG.onlyallowlistedsites&&n){const n=yield p.CoreSites.findSites(e.replace(/^https?:\/\/|\.\w{2,3}\/?$/g,""));return n&&n.some((n=>E.F.sameDomainAndPath(e,n.url)))}return!0}))()}isSSOEmbeddedBrowser(e){return e==R.ZU.EMBEDDED}isSSOLoginNeeded(e){return e==R.ZU.BROWSER||e==R.ZU.EMBEDDED}openBrowserForOAuthLogin(e,n,r,i){var s=this;return(0,o.A)((function*(){if(s.logger.debug("openBrowserForOAuthLogin launchUrl:",r=r||`${e}/admin/tool/mobile/launch.php`),!n||!n.url)return!1;const o=E.F.extractUrlParams(n.url);if(!o.id)return!1;const c=yield U.CoreLoadings.show();try{const n=yield s.prepareForSSOLogin(e,void 0,r,i,{oauthsso:o.id});return G.j.openInBrowser(n,{showBrowserWarning:!1}),a.CoreApp.closeApp(),!0}catch(e){z.CoreAlerts.showError(e,{default:"Error opening browser"})}finally{c.dismiss()}return!1}))()}openBrowserForSSOLogin(e,n,r,i,s){var c=this;return(0,o.A)((function*(){const o=yield U.CoreLoadings.show();try{const o=yield c.prepareForSSOLogin(e,r,i,s);c.logger.debug("openBrowserForSSOLogin loginUrl:",o),c.isSSOEmbeddedBrowser(n)?G.j.openInApp(o,{clearsessioncache:"yes",closebuttoncaption:A.HT.instant("core.login.cancel")}):(G.j.openInBrowser(o,{showBrowserWarning:!1}),a.CoreApp.closeApp())}catch(e){z.CoreAlerts.showError(e,{default:"Error opening browser"})}finally{o.dismiss()}}))()}openChangePassword(e,n){return(0,o.A)((function*(){const r=yield z.CoreAlerts.show({header:A.HT.instant("core.notice"),message:n,autoCloseTime:3e3});yield r.onDidDismiss(),G.j.openInApp(`${e}/login/change_password.php`)}))()}openForgottenPassword(e){G.j.openInApp(`${e}/login/forgot_password.php`)}openInAppForEdit(e,n,r,i){var s=this;return(0,o.A)((function*(){if(!e||e!==p.CoreSites.getCurrentSiteId())return;const o=p.CoreSites.getCurrentSite(),a=null==o?void 0:o.getURL();if(o&&a&&!s.isOpenEditAlertShown&&!s.waitingForBrowser){s.isOpenEditAlertShown=!0,i&&o.invalidateWsCache(),r&&(r=`${A.HT.instant(r)}<br>${A.HT.instant("core.redirectingtosite")}`);try{yield o.openInAppWithAutoLogin(a+n,void 0,r)}finally{s.isOpenEditAlertShown=!1}yield s.waitForBrowser(),u.z.trigger(u.z.COMPLETE_REQUIRED_PROFILE_DATA_FINISHED,{path:n},e)}}))()}passwordChangeForced(e){return(0,o.A)((function*(){const n=p.CoreSites.getCurrentSite();e=null!=e?e:null==n?void 0:n.getId(),n&&e===n.getId()&&(I.CoreNavigator.isCurrent("/login/changepassword")||(yield I.CoreNavigator.navigate("/login/changepassword",{params:{siteId:e},reset:!0})))}))()}prepareForSSOLogin(e,n,r,i={},s){return(0,o.A)((function*(){n=n||C.CoreConstants.CONFIG.wsservice,r=r||`${e}/admin/tool/mobile/launch.php`;const o=1e3*Math.random(),a=Object.assign(s||{},{service:n,passport:o,urlscheme:C.CoreConstants.CONFIG.customurlscheme}),u=E.F.addParamsToUrl(r,a);return yield c.CoreConfig.set(C.CoreConstants.LOGIN_LAUNCH_DATA,JSON.stringify({siteUrl:e,passport:o,...i,ssoUrlParams:s||{}})),u}))()}requestPasswordReset(e,n,r){const o={};return n&&(o.username=n.trim()),r&&(o.email=r.trim()),f.CoreWS.callAjax("core_auth_request_password_reset",o,{siteUrl:e})}sessionExpired(e){var n=this;return(0,o.A)((function*(){const r=null==e?void 0:e.siteId,o=p.CoreSites.getCurrentSite();if(!o)return;if(r&&r!==o.getId())return;if(n.sessionExpiredCheckingSite[r||""])return;n.sessionExpiredCheckingSite[r||""]=!0;const i={redirectPath:e.redirectPath,redirectOptions:e.redirectOptions,urlToOpen:e.urlToOpen};try{const e=o.getInfo();if(void 0!==e&&void 0!==e.username){if(I.CoreNavigator.isCurrent("/login/reconnect"))return;yield V.g.ignoreErrors(I.CoreNavigator.navigate("/login/reconnect",{params:{siteId:r,...i},reset:!0}))}}catch(e){o.isLoggedOut()&&(z.CoreAlerts.showError(e,{default:A.HT.instant("core.networkerrormsg")}),p.CoreSites.logout())}finally{n.sessionExpiredCheckingSite[r||""]=!1}}))()}shouldShowLoginForm(e){return(0,o.A)((function*(){return 0!==(null==e?void 0:e.showloginform)||Boolean(yield c.CoreConfig.get(N.Vu,0))}))()}shouldShowSSOConfirm(e){return!this.isSSOEmbeddedBrowser(e)&&!this.shouldSkipCredentialsScreenOnSSO()}shouldSkipCredentialsScreenOnSSO(){return"true"===String(C.CoreConstants.CONFIG.skipssoconfirmation)}isAppUnsupportedError(e){var n,r;return CoreLoginHelperProvider.APP_UNSUPPORTED_ERRORS.includes(null!==(n=null===(r=e.debug)||void 0===r?void 0:r.code)&&void 0!==n?n:"")}showAppUnsupportedModal(e,n,r){var i=this;return(0,o.A)((function*(){var o;const s=null!==(o=yield null==n?void 0:n.getSiteName())&&void 0!==o?o:e;yield z.CoreAlerts.show({header:A.HT.instant("core.login.unsupportedsite"),message:A.HT.instant("core.login.unsupportedsitemessage",{site:s}),buttons:[{text:A.HT.instant("core.cancel"),role:"cancel"},{text:A.HT.instant("core.openinbrowser"),handler:()=>{var o;return i.openInBrowserFallback(null!==(o=null==n?void 0:n.getURL())&&void 0!==o?o:e,r)}}]})}))()}openInBrowserFallback(e,n){return(0,o.A)((function*(){u.z.trigger(N.TT,{siteUrl:e,debug:n}),yield G.j.openInBrowser(e,{showBrowserWarning:!1})}))()}showInvalidLoginModal(e){var n;const r=e instanceof L.CoreSiteError?null===(n=e.debug)||void 0===n?void 0:n.details:null;z.CoreAlerts.showError(null!=r?r:e.message)}showWorkplaceNoticeModal(e){const n=a.CoreApp.getAppStoreUrl({android:"com.moodle.workplace",ios:"id1470929705"});z.CoreAlerts.showDownloadAppNotice(e,n)}showMoodleAppNoticeModal(e){const n=C.CoreConstants.CONFIG.appstores;n.mobile="https://download.moodle.org/mobile/",n.default="https://download.moodle.org/mobile/";const r=a.CoreApp.getAppStoreUrl(n);z.CoreAlerts.showDownloadAppNotice(e,r)}showNotConfirmedModal(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=A.HT.instant("core.login.mustconfirm");let a,c=!1;if(a=n?A.HT.instant("core.login.emailconfirmsent",{$a:n}):A.HT.instant("core.login.emailconfirmsentnoemail"),r&&i&&(c=yield s.canResendEmail(e)),!c)return yield z.CoreAlerts.show({header:o,message:a}),void 0;try{yield z.CoreAlerts.confirm(a,{header:o,okText:A.HT.instant("core.login.resendemail"),cancelText:A.HT.instant("core.close")});const n=yield U.CoreLoadings.show("core.sending",!0),s={username:r,password:i},c={siteUrl:e};try{const e=yield f.CoreWS.callAjax("core_auth_resend_confirmation_email",s,c);if(!e.status){var u;if(null!==(u=e.warnings)&&void 0!==u&&u.length)throw new w.CoreWSError(e.warnings[0]);throw new b.CoreError("Error sending confirmation email")}const n=A.HT.instant("core.login.emailconfirmsentsuccess");z.CoreAlerts.show({header:A.HT.instant("core.success"),message:n})}finally{n.dismiss()}}catch(e){z.CoreAlerts.showError(e)}}))()}canResendEmail(e){return(0,o.A)((function*(){const n=yield U.CoreLoadings.show();try{return yield f.CoreWS.callAjax("core_auth_resend_confirmation_email",{},{siteUrl:e}),!0}catch(e){return"invalidparameter"===(null==e?void 0:e.errorcode)}finally{n.dismiss()}}))()}sitePolicyNotAgreed(e){return(0,o.A)((function*(){const{CorePolicy:n}=yield r.e(72076).then(r.bind(r,65614));return n.goToAcceptSitePolicies(e)}))()}treatUserTokenError(e,n,r,o){var i,s,a;switch("errorcode"in n?n.errorcode:null){case"forcepasswordchangenotice":this.openChangePassword(e,null!==(i=B.CoreErrorHelper.getErrorMessageFromError(n))&&void 0!==i?i:"");break;case"usernotconfirmed":this.showNotConfirmedModal(e,void 0,r,o);break;case"connecttomoodleapp":this.showMoodleAppNoticeModal(null!==(s=B.CoreErrorHelper.getErrorMessageFromError(n))&&void 0!==s?s:"");break;case"connecttoworkplaceapp":this.showWorkplaceNoticeModal(null!==(a=B.CoreErrorHelper.getErrorMessageFromError(n))&&void 0!==a?a:"");break;case"invalidlogin":this.showInvalidLoginModal(n);break;default:z.CoreAlerts.showError(n)}}validateBrowserSSOLogin(e){var n=this;return(0,o.A)((function*(){const r=e.split(":::"),o=yield c.CoreConfig.get(C.CoreConstants.LOGIN_LAUNCH_DATA),i=g.Ni.parseJSON(o,null);if(null===i)throw new b.CoreError("No launch data stored.");const a=i.passport;let u=i.siteUrl;c.CoreConfig.delete(C.CoreConstants.LOGIN_LAUNCH_DATA);let p=s.V.hashAsciiStr(u+a);if(p!=r[0]&&(u=-1!=u.indexOf("https://")?u.replace("https://","http://"):u.replace("http://","https://"),p=s.V.hashAsciiStr(u+a)),p==r[0])return n.logger.debug("Signature validated"),{siteUrl:u,token:r[1],privateToken:r[2],redirectPath:i.redirectPath,redirectOptions:i.redirectOptions,urlToOpen:i.urlToOpen,ssoUrlParams:i.ssoUrlParams};throw n.logger.debug(`Invalid signature in the URL request yours: ${r[0]} mine: ${p} for passport ${a}`),new b.CoreError(A.HT.instant("core.unexpectederror"))}))()}isWaitingForBrowser(){return!!this.waitingForBrowser}waitForBrowser(){var e=this;return(0,o.A)((function*(){e.waitingForBrowser||(e.waitingForBrowser=new x._),yield e.waitingForBrowser}))()}stopWaitingForBrowser(){var e;null===(e=this.waitingForBrowser)||void 0===e||e.resolve(),this.waitingForBrowser=void 0}displayQRInSiteScreen(){return H.CoreQRScan.canScanQR()&&(void 0===C.CoreConstants.CONFIG.displayqronsitescreen||!!C.CoreConstants.CONFIG.displayqronsitescreen)}displayQRInCredentialsScreen(e=R.n0.QR_CODE_LOGIN){var n=this;return(0,o.A)((function*(){if(!H.CoreQRScan.canScanQR())return!1;const r=yield n.isSingleFixedSite();return!!(void 0===C.CoreConstants.CONFIG.displayqroncredentialscreen&&r||void 0!==C.CoreConstants.CONFIG.displayqroncredentialscreen&&C.CoreConstants.CONFIG.displayqroncredentialscreen)&&e===R.n0.QR_CODE_LOGIN}))()}showScanQRInstructions(){return(0,o.A)((function*(){if(yield c.CoreConfig.get(N.wd,0))return;const e=A.HT.instant("core.login.faqwhereisqrcodeanswer",{$image:`<div class="text-center">${N.M$}</div>`}),n=A.HT.instant("core.login.faqwhereisqrcode");try{(yield q.CorePrompts.show(e,"checkbox",{header:n,placeholderOrLabel:A.HT.instant("core.dontshowagain"),buttons:{okText:A.HT.instant("core.next"),cancelText:A.HT.instant("core.cancel")}}))&&c.CoreConfig.set(N.wd,1)}catch{throw new T.CoreCanceledError("")}}))()}scanQR(){return(0,o.A)((function*(){const e=yield H.CoreQRScan.scanQRWithUrlHandling();if(!e)return;const n=E.F.getUrlProtocol(e);z.CoreAlerts.showError(n&&"http"!=n&&"https"!=n?A.HT.instant("core.errorurlschemeinvalidscheme",{$a:e}):A.HT.instant("core.login.errorqrnoscheme"))}))()}getAccountsList(){return(0,o.A)((function*(){const e=yield V.g.ignoreErrors(p.CoreSites.getSortedSites(),[]),n={sameSite:[],otherSites:[],count:e.length},r=p.CoreSites.getCurrentSiteId();let i="";var s,a;r&&(i=null!==(s=null===(a=e.find((e=>e.id==r)))||void 0===a?void 0:a.siteUrlWithoutProtocol)&&void 0!==s?s:"");const c={};return yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){e.badge=(yield V.g.ignoreErrors(P.CorePushNotifications.getSiteCounter(e.id)))||0,e.id===r?n.currentSite=e:e.siteUrlWithoutProtocol==i?n.sameSite.push(e):(c[e.siteUrlWithoutProtocol]||(c[e.siteUrlWithoutProtocol]=[]),c[e.siteUrlWithoutProtocol].push(e))}));return function(n){return e.apply(this,arguments)}}())),n.otherSites=v.T.toArray(c),n}))()}deleteAccountFromList(e,n){return(0,o.A)((function*(){yield p.CoreSites.deleteSite(n.id);const r=n.siteUrlWithoutProtocol;let o=0;if(e.sameSite.length>0&&e.sameSite[0].siteUrlWithoutProtocol==r)return o=e.sameSite.findIndex((e=>e.id==n.id)),o>=0&&(e.sameSite.splice(o,1),e.count--),void 0;const i=e.otherSites.findIndex((e=>e.length>0&&e[0].siteUrlWithoutProtocol==r));i<0||(o=e.otherSites[i].findIndex((e=>e.id==n.id)),o>=0&&(e.otherSites[i].splice(o,1),e.count--),0==e.otherSites[i].length&&e.otherSites.splice(i,1))}))()}getReconnectPage(){return Promise.all([r.e(79290),r.e(72852)]).then(r.bind(r,72852))}getCredentialsPage(){return Promise.all([r.e(79290),r.e(73900)]).then(r.bind(r,73900))}getLoginMethods(){return(0,o.A)((function*(){return[]}))()}getDefaultLoginMethod(){return(0,o.A)((function*(){return null}))()}passwordResetRequested(e){var n=this;return(0,o.A)((function*(){const r=yield n.getPasswordResets();r[e]=Date.now(),yield c.CoreConfig.set(CoreLoginHelperProvider.PASSWORD_RESETS_CONFIG_KEY,JSON.stringify(r))}))()}wasPasswordResetRequestedRecently(e){var n=this;return(0,o.A)((function*(){const r=yield n.getPasswordResets();return e in r&&r[e]>Date.now()-C.CoreConstants.MILLISECONDS_HOUR}))()}cleanUpPasswordResets(){var e=this;return(0,o.A)((function*(){const n=yield e.getPasswordResets(),r=Object.keys(n);for(const e of r)n[e]>Date.now()-C.CoreConstants.MILLISECONDS_HOUR||delete n[e];0===Object.values(n).length?yield c.CoreConfig.delete(CoreLoginHelperProvider.PASSWORD_RESETS_CONFIG_KEY):yield c.CoreConfig.set(CoreLoginHelperProvider.PASSWORD_RESETS_CONFIG_KEY,JSON.stringify(n))}))()}buildExceededAttemptsHTML(e,n){const safeHTML=e=>{var n;return null!==(n=A.up.sanitize(i.WPN.HTML,e))&&void 0!==n?n:""},recoverPasswordHTML=e=>{const n="%%RECOVER_PASSWORD%%",r=safeHTML(A.HT.instant(e,{recoverPassword:n})),o=safeHTML(A.HT.instant("core.login.exceededloginattemptsrecoverpassword"));return A.up.bypassSecurityTrustHtml(r.replace(n,`<a href="#" role="button" style="color:inherit">${o}</a>`))};return e&&n?recoverPasswordHTML("core.login.exceededloginattempts"):e?A.HT.instant("core.login.exceededloginattemptswithoutpassword"):n?recoverPasswordHTML("core.login.exceededloginattemptswithoutsupport"):null}getPasswordResets(){return(0,o.A)((function*(){const e=yield c.CoreConfig.get(CoreLoginHelperProvider.PASSWORD_RESETS_CONFIG_KEY,"{}");return g.Ni.parseJSON(e,{})}))()}}return(e=CoreLoginHelperProvider).PASSWORD_RESETS_CONFIG_KEY="password-resets",e.APP_UNSUPPORTED_ERRORS=["loginfailed","logintokenempty","logintokenerror","mobileservicesnotenabled","sitehasredirect","webservicesnotenabled"],e.ɵfac=function CoreLoginHelperProvider_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreLoginHelperProvider})();const K=(0,A.Qd)(W)},36684:(e,n,r)=>{"use strict";r.r(n),r.d(n,{MAIN_MENU_HANDLER_BADGE_UPDATED_EVENT:()=>c,MAIN_MENU_HOME_PAGE_NAME:()=>s,MAIN_MENU_ITEM_MIN_WIDTH:()=>i,MAIN_MENU_MORE_PAGE_NAME:()=>a,MAIN_MENU_NUM_MAIN_HANDLERS:()=>o,MAIN_MENU_VISIBILITY_UPDATED_EVENT:()=>u});const o=4,i=72,s="home",a="more",c="main_menu_handler_badge_updated",u="main_menu_visbility_updated"},69984:(e,n,r)=>{"use strict";r.d(n,{X:()=>a,c:()=>resolveHomeRoutes});var o=r(54438),i=r(94114);const s=new o.nKC("MAIN_MENU_HOME_ROUTES");function resolveHomeRoutes(e){return(0,i.b1)(e,s)}let a=(()=>{var e;class CoreMainMenuHomeRoutingModule{static forChild(e){return{ngModule:CoreMainMenuHomeRoutingModule,providers:[{provide:s,multi:!0,useValue:e}]}}}return(e=CoreMainMenuHomeRoutingModule).ɵfac=function CoreMainMenuHomeRoutingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({}),CoreMainMenuHomeRoutingModule})()},16844:(e,n,r)=>{"use strict";r.d(n,{H:()=>resolveMainMenuRoutes,I:()=>a});var o=r(54438),i=r(94114);const s=new o.nKC("MAIN_MENU_ROUTES");function resolveMainMenuRoutes(e){return(0,i.b1)(e,s)}let a=(()=>{var e;class CoreMainMenuRoutingModule{static forChild(e){return{ngModule:CoreMainMenuRoutingModule,providers:[{provide:s,multi:!0,useValue:e}]}}}return(e=CoreMainMenuRoutingModule).ɵfac=function CoreMainMenuRoutingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({}),CoreMainMenuRoutingModule})()},42858:(e,n,r)=>{"use strict";r.d(n,{B:()=>buildTabMainRoutes,b:()=>a});var o=r(54438),i=r(94114);const s=new o.nKC("MAIN_MENU_TAB_ROUTES");function buildTabMainRoutes(e,n){var r;const o=null!==(r=n.path)&&void 0!==r?r:"",a=(0,i.b1)(e,s);if(n.path=o,"redirectTo"in n){if((0,i.Tu)(n))return[]}else n.children=n.children||[],n.children=n.children.concat(a.children);return[n,...a.siblings]}let a=(()=>{var e;class CoreMainMenuTabRoutingModule{static forChild(e){return{ngModule:CoreMainMenuTabRoutingModule,providers:[{provide:s,multi:!0,useValue:e}]}}}return(e=CoreMainMenuTabRoutingModule).ɵfac=function CoreMainMenuTabRoutingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({}),CoreMainMenuTabRoutingModule})()},52045:(e,n,r)=>{"use strict";r.d(n,{SM:()=>_,II:()=>getMainMenuExportedObjects,T5:()=>getMainMenuServices});var o=r(10467),i=r(54438),s=r(82461),a=r(42370),c=r(52749),u=r(79555);const p=function(){var e=(0,o.A)((function*(){if(!c.CoreSites.isLoggedIn())return u.Ix.parseUrl("/login");if(s.CoreLoginHelper.isSiteLoggedOut()){var e;const n=u.Ix.parseUrl("/login/reconnect"),r=c.CoreSites.getCurrentSiteId();let o=a.p.consumeMemoryRedirect();return(null===(e=o)||void 0===e?void 0:e.siteId)!==r&&(o=null),n.queryParams={siteId:r,...o},n}return!0}));return function authGuard(){return e.apply(this,arguments)}}();var f=r(94114),g=r(95376),v=r(17847),C=r(36684);let b=(()=>{var e;class CoreMainMenuHomeHandlerService{constructor(){this.name="CoreHome",this.priority=1e3}isEnabled(){return(0,o.A)((function*(){return yield v.CoreMainMenuHomeDelegate.waitForReady(),v.CoreMainMenuHomeDelegate.hasHandlers(!0)}))()}getDisplayData(){return{icon:"fas-gauge-high",title:"core.mainmenu.home",page:C.MAIN_MENU_HOME_PAGE_NAME,class:"core-home-handler"}}}return(e=CoreMainMenuHomeHandlerService).ɵfac=function CoreMainMenuHomeHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreMainMenuHomeHandlerService})();const w=(0,u.Qd)(b);function getMainMenuServices(){return _getMainMenuServices.apply(this,arguments)}function _getMainMenuServices(){return(_getMainMenuServices=(0,o.A)((function*(){const{CoreMainMenuHomeDelegateService:e}=yield Promise.resolve().then(r.bind(r,17847)),{CoreMainMenuDelegateService:n}=yield Promise.resolve().then(r.bind(r,95376)),{CoreMainMenuProvider:o}=yield Promise.resolve().then(r.bind(r,42366));return[e,n,o]}))).apply(this,arguments)}function getMainMenuExportedObjects(){return _getMainMenuExportedObjects.apply(this,arguments)}function _getMainMenuExportedObjects(){return(_getMainMenuExportedObjects=(0,o.A)((function*(){const{MAIN_MENU_NUM_MAIN_HANDLERS:e,MAIN_MENU_ITEM_MIN_WIDTH:n,MAIN_MENU_MORE_PAGE_NAME:o,MAIN_MENU_HANDLER_BADGE_UPDATED_EVENT:i,MAIN_MENU_VISIBILITY_UPDATED_EVENT:s}=yield Promise.resolve().then(r.bind(r,36684));return{MAIN_MENU_NUM_MAIN_HANDLERS:e,MAIN_MENU_ITEM_MIN_WIDTH:n,MAIN_MENU_MORE_PAGE_NAME:o,MAIN_MENU_HANDLER_BADGE_UPDATED_EVENT:i,MAIN_MENU_VISIBILITY_UPDATED_EVENT:s}}))).apply(this,arguments)}const A=[{path:"",pathMatch:"full",redirectTo:"main"},{path:"main",loadChildren:()=>r.e(41438).then(r.bind(r,41438)),canActivate:[p]},{path:"reload",loadComponent:()=>r.e(43281).then(r.bind(r,43281))}];let _=(()=>{var e;class CoreMainMenuModule{}return(e=CoreMainMenuModule).ɵfac=function CoreMainMenuModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{g.CoreMainMenuDelegate.registerHandler(w.instance)}}],imports:[f.uH.forChild(A)]}),CoreMainMenuModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(_,{imports:[f.uH]}))},17847:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreMainMenuHomeDelegate:()=>c,CoreMainMenuHomeDelegateService:()=>a});r(59296);var o=r(61648),i=r(79555),s=r(54438);let a=(()=>{var e;class CoreMainMenuHomeDelegateService extends o.E{constructor(){super("CoreMainMenuHomeDelegate"),this.featurePrefix="CoreMainMenuHomeDelegate_"}}return(e=CoreMainMenuHomeDelegateService).ɵfac=function CoreMainMenuHomeDelegateService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreMainMenuHomeDelegateService})();const c=(0,i.Qd)(a)},95376:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreMainMenuDelegate:()=>c,CoreMainMenuDelegateService:()=>a});r(59296);var o=r(61648),i=r(79555),s=r(54438);let a=(()=>{var e;class CoreMainMenuDelegateService extends o.E{constructor(){super("CoreMainMenuDelegate"),this.featurePrefix="CoreMainMenuDelegate_"}}return(e=CoreMainMenuDelegateService).ɵfac=function CoreMainMenuDelegateService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreMainMenuDelegateService})();const c=(0,i.Qd)(a)},42366:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreMainMenu:()=>w,CoreMainMenuProvider:()=>b});var o=r(10467),i=r(72881),s=r(52749),a=r(74431),c=r(95376),u=r(79555),p=r(75383),f=r(93417),g=r(18022),v=r(36684),C=r(54438);let b=(()=>{var e;class CoreMainMenuProvider{getCurrentMainMenuHandlers(){var e=this;return(0,o.A)((function*(){return(yield c.CoreMainMenuDelegate.getHandlersWhenLoaded()).filter((e=>!e.onlyInMore)).slice(0,e.getNumItems())}))()}getCustomMenuItems(e){var n=this;return(0,o.A)((function*(){return(yield Promise.all([n.getCustomMenuItemsFromSite(e),n.getCustomItemsFromConfig()])).flat()}))()}getCustomMenuItemsFromSite(e){return(0,o.A)((function*(){const n=(yield s.CoreSites.getSite(e)).getStoredConfig("tool_mobile_custommenuitems"),r={},o=[];let c=0;if(!n||"string"!=typeof n)return o;if(n.split(/(?:\r\n|\r|\n)/).forEach((e=>{const n=e.split("|"),o=n[0]?n[0].trim():n[0],i=n[1]?n[1].trim():n[1],s=n[2]?n[2].trim():n[2],a=(n[3]?n[3].trim():n[3])||"none";let u=n[4]?n[4].trim():n[4];if(!o||!i||!s)return;const p=`${i}#${s}`;u||(u="embedded"==s?"fas-expand":"fas-link"),r[p]||(r[p]={url:i,type:s,position:c,labels:{}},c++),r[p].labels[a.toLowerCase()]={label:o,icon:u}})),!c)return o;const u=yield i.CoreLang.getCurrentLanguage(),p=i.CoreLang.formatLanguage(u,"lms"),f=a.CoreConstants.CONFIG.default_lang||"en";for(const e in r){var g,v,C,b,w;const n=r[e];let i=null!==(g=null!==(v=null!==(C=null!==(b=null!==(w=n.labels[u])&&void 0!==w?w:n.labels[p])&&void 0!==b?b:n.labels[`${u}_only`])&&void 0!==C?C:n.labels[`${p}_only`])&&void 0!==v?v:n.labels.none)&&void 0!==g?g:n.labels[f];if(!i){for(const e in n.labels)if(-1==e.indexOf("_only")){i=n.labels[e];break}if(!i)continue}o[n.position]={url:n.url,type:n.type,label:i.label,icon:i.icon}}return o.filter((e=>void 0!==e))}))()}getCustomItemsFromConfig(){return(0,o.A)((function*(){const e=a.CoreConstants.CONFIG.customMainMenuItems;if(!e)return[];const n=yield i.CoreLang.getCurrentLanguage(),r=a.CoreConstants.CONFIG.default_lang||"en",o={devicetype:"",osversion:u.pF.version};return o.devicetype=g.CorePlatform.isAndroid()?"Android":g.CorePlatform.isIOS()?"iPhone or iPad":"Other",e.filter((e=>"string"==typeof e.label||n in e.label||r in e.label)).map((e=>{var i;return{...e,url:p.Ni.replaceArguments(e.url,o,"uri"),label:"string"==typeof e.label?e.label:null!==(i=e.label[n])&&void 0!==i?i:e.label[r]}}))}))()}getNumItems(){if(!this.isResponsiveMainMenuItemsDisabledInCurrentSite()&&window&&window.innerWidth){let e;return f.CoreScreen.isTablet?e=Math.floor(window.innerHeight/v.MAIN_MENU_ITEM_MIN_WIDTH):(e=Math.floor(window.innerWidth/v.MAIN_MENU_ITEM_MIN_WIDTH),e=e>=5?5:e),e>1?e-1:1}return v.MAIN_MENU_NUM_MAIN_HANDLERS}getTabPlacement(){return f.CoreScreen.isTablet?"side":"bottom"}isMainMenuTab(e){var n=this;return(0,o.A)((function*(){return e==v.MAIN_MENU_MORE_PAGE_NAME||n.isCurrentMainMenuHandler(e)}))()}isCurrentMainMenuHandler(e){var n=this;return(0,o.A)((function*(){return!!(yield n.getCurrentMainMenuHandlers()).find((n=>{var r,o;return(null!==(r=null===(o=/^[^/]+/.exec(n.page))||void 0===o?void 0:o[0])&&void 0!==r?r:n.page)==e}))}))()}isResponsiveMainMenuItemsDisabledInCurrentSite(){const e=s.CoreSites.getCurrentSite();return!(null==e||!e.isFeatureDisabled("NoDelegate_ResponsiveMainMenuItems"))}}return(e=CoreMainMenuProvider).NUM_MAIN_HANDLERS=v.MAIN_MENU_NUM_MAIN_HANDLERS,e.ITEM_MIN_WIDTH=v.MAIN_MENU_ITEM_MIN_WIDTH,e.MORE_PAGE_NAME=v.MAIN_MENU_MORE_PAGE_NAME,e.MAIN_MENU_HANDLER_BADGE_UPDATED=v.MAIN_MENU_HANDLER_BADGE_UPDATED_EVENT,e.MAIN_MENU_VISIBILITY_UPDATED=v.MAIN_MENU_VISIBILITY_UPDATED_EVENT,e.ɵfac=function CoreMainMenuProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreMainMenuProvider})();const w=(0,u.Qd)(b)},49629:(e,n,r)=>{"use strict";r.d(n,{f:()=>U,C:()=>getNativeServices});var o=r(10467),i=r(89517),s=r(14113),a=r(27158),c=r(11076),u=r(78240),p=r(50252),f=r(59684),g=r(91118),v=r(51670),C=r(35511),b=r(81100),w=r(38245),A=r(45861),_=r(16852),E=r(39488),I=r(65162),T=r(79048),P=r(86497),k=r(61402),x=r(74500),F=r(75629),R=r(79555),N=r(8014),L=r(54438);let H=(()=>{var e;class Geolocation{getCurrentPosition(){return(0,o.A)((function*(){throw new F.CoreError(R.HT.instant("core.locationnolongeravailable",{howToObtain:R.HT.instant("core.howtoobtaincoordinates",{url:N.F.buildMapsURL()})}))}))()}watchPosition(){throw new F.CoreError(R.HT.instant("core.locationnolongeravailable",{howToObtain:R.HT.instant("core.howtoobtaincoordinates",{url:N.F.buildMapsURL()})}))}}return(e=Geolocation).ɵfac=function Geolocation_Factory(n){return new(n||e)},e.ɵprov=L.jDH({token:e,factory:e.ɵfac}),Geolocation})();function getNativeServices(){return _getNativeServices.apply(this,arguments)}function _getNativeServices(){return(_getNativeServices=(0,o.A)((function*(){return[i.E,s.i7,a.y,c.B,u.p,p.Z,f.M,H,g.B,v.N,C.s3,b.WM,w.V,A.$,_.E,E.S,I.j,T.e,P.P,k.S,x.q]}))).apply(this,arguments)}let U=(()=>{var e;class CoreNativeModule{}return(e=CoreNativeModule).ɵfac=function CoreNativeModule_Factory(n){return new(n||e)},e.ɵmod=L.$C({type:e}),e.ɵinj=L.G2t({providers:[i.E,s.i7,a.y,c.B,u.p,p.Z,f.M,H,g.B,v.N,C.s3,b.WM,w.V,A.$,_.E,E.S,I.j,T.e,P.P,k.S,x.q]}),CoreNativeModule})()},27158:(e,n,r)=>{"use strict";r.d(n,{y:()=>i});var o=r(54438);let i=(()=>{var e;class Chooser{getFile(e){return window.chooser.getFile(e)}getFileMetadata(e){return window.chooser.getFileMetadata(e)}}return(e=Chooser).ɵfac=function Chooser_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),Chooser})()},91531:(e,n,r)=>{"use strict";r.d(n,{$t:()=>p,ER:()=>g,qQ:()=>f,yh:()=>u});var o=r(79555),i=r(27158),s=r(45861),a=r(74500),c=r(16852);const u=(0,o.Qd)(i.y),p=(0,o.Qd)(s.$),f=(0,o.Qd)(a.q),g=(0,o.Qd)(c.E)},45861:(e,n,r)=>{"use strict";r.d(n,{$:()=>u});var o=r(31635),i=r(77111),s=r(54438),a=function(e){function Push(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(Push,e),Push.prototype.init=function(e){return new c(e)},Push.prototype.hasPermission=function(){return(0,i.bk)(this,"hasPermission",{},arguments)},Push.prototype.createChannel=function(e){return(0,i.bk)(this,"createChannel",{callbackOrder:"reverse"},arguments)},Push.prototype.deleteChannel=function(e){return(0,i.bk)(this,"deleteChannel",{callbackOrder:"reverse"},arguments)},Push.prototype.listChannels=function(){return(0,i.bk)(this,"listChannels",{},arguments)},Push.ɵfac=(()=>{let e;return function Push_Factory(n){return(e||(e=s.xGo(Push)))(n||Push)}})(),Push.ɵprov=s.jDH({token:Push,factory:Push.ɵfac}),Push.pluginName="Push",Push.plugin="phonegap-plugin-push",Push.pluginRef="PushNotification",Push.repo="https://github.com/phonegap/phonegap-plugin-push",Push.install="ionic cordova plugin add phonegap-plugin-push",Push.platforms=["Android","Browser","iOS","Windows"],Push=(0,o.Cg)([],Push)}(i.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0;var c=function(){function PushObject(e){!0===(0,i.q0)("PushNotification","init","PushNotification")&&"undefined"!=typeof window&&(this._objectInstance=window.PushNotification.init(e))}var e;return PushObject.prototype.on=function(e){return(0,i.WE)(this,"on",{observable:!0,clearFunction:"off",clearWithArgs:!0},arguments)},PushObject.prototype.unregister=function(){return(0,i.WE)(this,"unregister",{},arguments)},PushObject.prototype.setApplicationIconBadgeNumber=function(e){return(0,i.WE)(this,"setApplicationIconBadgeNumber",{callbackOrder:"reverse"},arguments)},PushObject.prototype.getApplicationIconBadgeNumber=function(){return(0,i.WE)(this,"getApplicationIconBadgeNumber",{},arguments)},PushObject.prototype.finish=function(e){return(0,i.WE)(this,"finish",{callbackOrder:"reverse"},arguments)},PushObject.prototype.clearAllNotifications=function(){return(0,i.WE)(this,"clearAllNotifications",{},arguments)},PushObject.prototype.subscribe=function(e){return(0,i.WE)(this,"subscribe",{},arguments)},PushObject.prototype.unsubscribe=function(e){return(0,i.WE)(this,"unsubscribe",{},arguments)},PushObject.pluginName="Push",PushObject.plugin="phonegap-plugin-push",PushObject.pluginRef="PushNotification",PushObject=(0,o.Cg)([(0,o.Sn)("design:paramtypes",["function"==typeof(e="undefined"!=typeof PushOptions&&PushOptions)?e:Object])],PushObject)}();let u=(()=>{var e;class Push extends a{getPublicKey(){return new Promise(((e,n)=>PushNotification.getPublicKey(e,n)))}}return(e=Push).ɵfac=(()=>{let n;return function Push_Factory(r){return(n||(n=s.xGo(e)))(r||e)}})(),e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),Push})()},16852:(e,n,r)=>{"use strict";r.d(n,{E:()=>s});var o=r(71985),i=r(54438);let s=(()=>{var e;class QRScanner{destroy(){return new Promise((e=>window.QRScanner.destroy(e)))}prepare(){return new Promise(((e,n)=>{window.QRScanner.prepare(((r,o)=>{r?n(r):e(o)}))}))}show(){return new Promise((e=>window.QRScanner.show((n=>e(n)))))}scan(){return new o.c((e=>(window.QRScanner.scan(((n,r)=>{n?e.error(n):e.next(r)})),()=>{window.QRScanner.cancelScan()})))}hide(){return new Promise((e=>window.QRScanner.hide(e)))}enableLight(){return new Promise(((e,n)=>{window.QRScanner.enableLight(((r,o)=>{r?n(r):e(o)}))}))}disableLight(){return new Promise(((e,n)=>{window.QRScanner.disableLight(((r,o)=>{r?n(r):e(o)}))}))}useFrontCamera(){return new Promise(((e,n)=>{window.QRScanner.useFrontCamera(((r,o)=>{r?n(r):e(o)}))}))}useBackCamera(){return new Promise(((e,n)=>{window.QRScanner.useBackCamera(((r,o)=>{r?n(r):e(o)}))}))}useCamera(e){return new Promise(((n,r)=>{window.QRScanner.useCamera(e,((e,o)=>{e?r(e):n(o)}))}))}pausePreview(){return new Promise((e=>window.QRScanner.pausePreview(e)))}resumePreview(){return new Promise((e=>window.QRScanner.resumePreview(e)))}getStatus(){return new Promise((e=>window.QRScanner.getStatus(e)))}openSettings(){window.QRScanner.openSettings()}}return(e=QRScanner).ɵfac=function QRScanner_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),QRScanner})();var a=function(e){return e[e.FRONT_CAMERA=0]="FRONT_CAMERA",e[e.BACK_CAMERA=1]="BACK_CAMERA",e}(a||{})},74500:(e,n,r)=>{"use strict";r.d(n,{q:()=>i});var o=r(54438);let i=(()=>{var e;class Zip{unzip(e,n,r){return new Promise((o=>window.zip.unzip(e,n,(e=>o(e)),r)))}}return(e=Zip).ɵfac=function Zip_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),Zip})()},246:(e,n,r)=>{"use strict";r.d(n,{b:()=>p});var o=r(10467),i=r(79555),s=r(18022),a=r(89312),c=r(54438);let u=(()=>{var e;class CoreNativeService{constructor(){this.plugins={},this.mocks={}}plugin(e){var n=this;return"installReferrer"!==e||s.CorePlatform.isAndroid()?(e in this.plugins||(this.plugins[e]=(0,a.A)((0,o.A)((function*(){var r;yield s.CorePlatform.ready();const o=s.CorePlatform.isMobile()?null===(r=window.cordova)||void 0===r||null===(r=r.MoodleApp)||void 0===r?void 0:r[e]:n.mocks[e];if(!o)throw new Error(`Plugin ${e} not found.`);return o})))),this.plugins[e]):null}registerBrowserMock(e,n){this.mocks[e]=n}}return(e=CoreNativeService).ɵfac=function CoreNativeService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreNativeService})();const p=(0,i.Qd)(u)},78908:(e,n,r)=>{"use strict";r.d(n,{Nn:()=>o,TF:()=>i,XC:()=>s});const o="policy",i="sitepolicy",s="acceptances"},70729:(e,n,r)=>{"use strict";r.d(n,{_:()=>b,H:()=>getPushNotificationsServices});var o=r(10467),i=r(54438),s=r(26135),a=r(52749),c=r(93886),u=r(79555),p=r(70318);let f=(()=>{var e;class CorePushNotificationsRegisterCronHandlerService{constructor(){this.name="CorePushNotificationsRegisterCronHandler"}canManualSync(){return!0}execute(e){return(0,o.A)((function*(){e&&p.CorePushNotifications.canRegisterOnMoodle()&&(yield p.CorePushNotifications.registerDeviceOnMoodle(e,!0))}))()}getInterval(){return 864e5}isSync(){return!1}}return(e=CorePushNotificationsRegisterCronHandlerService).ɵfac=function CorePushNotificationsRegisterCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePushNotificationsRegisterCronHandlerService})();const g=(0,u.Qd)(f);let v=(()=>{var e;class CorePushNotificationsUnregisterCronHandlerService{constructor(){this.name="CorePushNotificationsUnregisterCronHandler"}execute(e){return(0,o.A)((function*(){yield p.CorePushNotifications.retryUnregisters(e)}))()}getInterval(){return 3e5}}return(e=CorePushNotificationsUnregisterCronHandlerService).ɵfac=function CorePushNotificationsUnregisterCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePushNotificationsUnregisterCronHandlerService})();const C=(0,u.Qd)(v);function getPushNotificationsServices(){return _getPushNotificationsServices.apply(this,arguments)}function _getPushNotificationsServices(){return(_getPushNotificationsServices=(0,o.A)((function*(){const{CorePushNotificationsProvider:e}=yield Promise.resolve().then(r.bind(r,70318)),{CorePushNotificationsDelegateService:n}=yield Promise.resolve().then(r.bind(r,71758));return[e,n]}))).apply(this,arguments)}let b=(()=>{var e,n;class CorePushNotificationsModule{}return(e=CorePushNotificationsModule).ɵfac=function CorePushNotificationsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:a.CORE_SITE_SCHEMAS,useValue:[c.em],multi:!0},{provide:i.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){s.CoreCronDelegate.register(g.instance),s.CoreCronDelegate.register(C.instance),yield p.CorePushNotifications.initialize()})),function useValue(){return n.apply(this,arguments)})}]}),CorePushNotificationsModule})()},93886:(e,n,r)=>{"use strict";r.d(n,{Ig:()=>a,Rn:()=>i,dD:()=>s,em:()=>f,ep:()=>p,sJ:()=>c,wb:()=>u});var o=r(10467);const i="addon_pushnotifications_badge",s=["siteid","addon"],a="addon_pushnotifications_pending_unregister",c="addon_pushnotifications_registered_devices_2",u=["appid","uuid"],p={name:"CorePushNotificationsProvider",version:1,tables:[{name:i,columns:[{name:"siteid",type:"TEXT"},{name:"addon",type:"TEXT"},{name:"number",type:"INTEGER"}],primaryKeys:[...s]},{name:a,columns:[{name:"siteid",type:"TEXT",primaryKey:!0},{name:"siteurl",type:"TEXT"},{name:"token",type:"TEXT"},{name:"info",type:"TEXT"}]}]},f={name:"AddonPushNotificationsProvider",version:2,tables:[{name:c,columns:[{name:"appid",type:"TEXT"},{name:"uuid",type:"TEXT"},{name:"name",type:"TEXT"},{name:"model",type:"TEXT"},{name:"platform",type:"TEXT"},{name:"version",type:"TEXT"},{name:"pushid",type:"TEXT"},{name:"publickey",type:"TEXT"}],primaryKeys:[...u]}],migrate:(e,n)=>(0,o.A)((function*(){n<2&&(yield e.migrateTable("addon_pushnotifications_registered_devices",c))}))()}},71758:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CorePushNotificationsDelegate:()=>g,CorePushNotificationsDelegateService:()=>f});var o=r(10467),i=r(21413),s=r(52749),a=r(55554),c=r(79555),u=r(6787),p=r(54438);let f=(()=>{var e;class CorePushNotificationsDelegateService{constructor(){this.observables={},this.clickHandlers={},this.counterHandlers={},this.logger=u.CoreLogger.getInstance("CorePushNotificationsDelegate"),this.observables.receive=new i.B}clicked(e){var n=this;return(0,o.A)((function*(){var r;if(!e)return;let i=[];const s=Object.values(n.clickHandlers).map(function(){var r=(0,o.A)((function*(r){if(yield n.isFeatureDisabled(r,e.site))return;(yield r.handles(e))&&i.push(r)}));return function(e){return r.apply(this,arguments)}}());yield a.g.allPromisesIgnoringErrors(s),i=i.sort(((e,n)=>(e.priority||0)<=(n.priority||0)?1:-1)),yield null===(r=i[0])||void 0===r?void 0:r.handleClick(e)}))()}isFeatureDisabled(e,n){return(0,o.A)((function*(){return!!n&&(!!e.featureName&&s.CoreSites.isFeatureDisabled(e.featureName,n))}))()}received(e){this.observables.receive.next(e)}on(e){if(void 0===this.observables[e]){const n=Object.keys(this.observables).join(", ");return this.logger.warn(`'${e}' event name is not allowed. Use one of the following: '${n}'.`),new i.B}return this.observables[e]}registerClickHandler(e){return void 0!==this.clickHandlers[e.name]?(this.logger.log(`Addon '${e.name}' already registered`),!1):(this.logger.log(`Registered addon '${e.name}'`),this.clickHandlers[e.name]=e,e.priority=e.priority||0,!0)}registerCounterHandler(e){void 0===this.counterHandlers[e]?(this.logger.debug(`Registered handler '${e}' as badge counter handler.`),this.counterHandlers[e]=e):this.logger.log(`Handler '${e}' as badge counter handler already registered.`)}isCounterHandlerRegistered(e){return void 0!==this.counterHandlers[e]}getCounterHandlers(){return this.counterHandlers}}return(e=CorePushNotificationsDelegateService).ɵfac=function CorePushNotificationsDelegateService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePushNotificationsDelegateService})();const g=(0,c.Qd)(f)},70318:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CorePushNotifications:()=>V,CorePushNotificationsProvider:()=>j});var o=r(10467),i=r(89632),s=r(52749),a=r(71758),c=r(67935),u=r(81690),p=r(75383),f=r(85190),g=r(74431),v=r(79555),C=r(6787),b=r(49882),w=r(93886),A=r(75629),_=r(30454),E=r(89312),I=r(71689),T=r(58364),P=r(49833),k=r(18022),x=r(22693),F=r(91531),R=r(15324),N=r(53794),L=r(36684),H=r(55554),U=r(43411),B=r(54438);let j=(()=>{var e;class CorePushNotificationsProvider{constructor(){this.badgesTable=(0,E.A)(),this.pendingUnregistersTable=(0,E.A)(),this.logger=C.CoreLogger.getInstance("CorePushNotificationsProvider"),this.registeredDevicesTables=(0,P.$)((e=>(0,E.A)((()=>s.CoreSites.getSiteTable(w.sJ,{siteId:e,config:{cachingStrategy:I.T.None},primaryKeyColumns:[...w.wb],rowIdColumn:null,onDestroy:()=>delete this.registeredDevicesTables[e]})))))}initialize(){var e=this;return(0,o.A)((function*(){yield Promise.all([e.initializeDatabase(),e.initializeDefaultChannel()]),e.registerDevice(),b.z.on(b.z.NOTIFICATION_SOUND_CHANGED,(()=>{e.registerDevice()})),b.z.on(b.z.LOGIN,(0,o.A)((function*(){if(e.canRegisterOnMoodle())try{yield e.registerDeviceOnMoodle()}catch(n){e.logger.error("Can't register device",n)}}))),b.z.on(b.z.SITE_DELETED,function(){var n=(0,o.A)((function*(n){try{yield Promise.all([e.unregisterDeviceOnMoodle(n),e.cleanSiteCounters(n.getId())])}catch(n){e.logger.warn("Can't unregister device",n)}}));return function(e){return n.apply(this,arguments)}}()),b.z.on(L.MAIN_MENU_HANDLER_BADGE_UPDATED_EVENT,(n=>{e.updateAddonCounter(n.handler,n.value,n.siteId)})),c.CoreLocalNotifications.registerClick(CorePushNotificationsProvider.COMPONENT,(n=>{x.OF.logEvent({eventName:"moodle_notification_open",type:x.qr.PUSH_NOTIFICATION,data:n}),e.notificationClicked(n)})),c.CoreLocalNotifications.registerObserver("clear",CorePushNotificationsProvider.COMPONENT,(e=>{x.OF.logEvent({eventName:"moodle_notification_dismiss",type:x.qr.PUSH_NOTIFICATION,data:e})}))}))()}initializeDefaultChannel(){var e=this;return(0,o.A)((function*(){yield k.CorePlatform.ready(),e.createDefaultChannel(),v.HT.onLangChange.subscribe((()=>{e.createDefaultChannel()}))}))()}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield i.CoreAppDB.createTablesFromSchema(w.ep);const n=i.CoreAppDB.getDB(),r=new I.D({cachingStrategy:I.T.Eager},n,w.Rn,[...w.dD]),o=new I.D({cachingStrategy:I.T.Eager},n,w.Ig,["siteid"]);yield Promise.all([r.initialize(),o.initialize()]),e.badgesTable.setInstance(r),e.pendingUnregistersTable.setInstance(o)}))()}canRegisterOnMoodle(){return!!this.pushID&&k.CorePlatform.isMobile()}cleanSiteCounters(e){var n=this;return(0,o.A)((function*(){try{yield n.badgesTable.delete({siteid:e})}finally{n.updateAppCounter()}}))()}createDefaultChannel(){var e=this;return(0,o.A)((function*(){if(k.CorePlatform.isAndroid())try{yield F.$t.createChannel({id:"PushPluginChannel",description:v.HT.instant("core.misc"),importance:4})}catch(n){e.logger.error("Error changing push channel name",n)}}))()}enableAnalytics(e){return(0,o.A)((function*(){return x.OF.enableAnalytics(e)}))()}getOptions(){return(0,o.A)((function*(){let e=!0;return c.CoreLocalNotifications.canDisableSound()&&(e=yield f.CoreConfig.get(g.CoreConstants.SETTINGS_NOTIFICATION_SOUND,!0)),{android:{sound:!!e,icon:"smallicon",iconColor:g.CoreConstants.CONFIG.notificoncolor},ios:{alert:"true",badge:!0,sound:!!e},windows:{sound:!!e}}}))()}getPushId(){return this.pushID}getRequiredRegisterData(){if(!this.pushID)throw new A.CoreError("Cannot get register data because pushID is not set.");return{appid:g.CoreConstants.CONFIG.app_id,name:v.pF.manufacturer||"",model:v.pF.model,platform:`${v.pF.platform}-fcm`,version:v.pF.version,pushid:this.pushID,uuid:v.pF.uuid}}getSiteCounter(e){return this.getAddonBadge(e)}logEvent(e,n){return(0,o.A)((function*(){var r;if("view_item"!==e&&"view_item_list"!==e)return x.OF.logEvent({type:x.qr.PUSH_NOTIFICATION,eventName:e,data:n});const o=n.name?String(n.name):"";return delete n.name,x.OF.logEvent({type:"view_item"===e?x.qr.VIEW_ITEM:x.qr.VIEW_ITEM_LIST,ws:null!==(r=n.moodleaction)&&void 0!==r?r:"",name:o,data:n})}))()}logViewEvent(e,n,r,o,i){return(i=i||{}).id=e,i.name=n,i.category=r,i.moodleaction=o,this.logEvent("view_item",i)}logViewListEvent(e,n,r){return(r=r||{}).moodleaction=n,r.category=e,this.logEvent("view_item_list",r)}notificationClicked(e){return(0,o.A)((function*(){if(yield v.b0.donePromise,s.CoreSites.isLoggedIn())return s.CoreSites.runAfterLoginNavigation({priority:600,callback:(n=(0,o.A)((function*(){yield a.CorePushNotificationsDelegate.clicked(e)})),function callback(){return n.apply(this,arguments)})}),void 0;var n;yield N.H.waitFor((()=>{const e=R.CoreNavigator.getCurrentPath();return"/"!==e&&"/login"!==e}),{timeout:400}),yield a.CorePushNotificationsDelegate.clicked(e)}))()}onMessageReceived(e){var n=this;return(0,o.A)((function*(){var r;const o=e?e.additionalData:{},i=Object.assign(o,{title:e.title,message:e.message,customdata:"string"==typeof o.customdata?p.Ni.parseJSON(o.customdata,{}):o.customdata});let a;if(i.site?a=yield s.CoreSites.getSite(i.site):i.siteurl&&(a=yield s.CoreSites.getSiteByUrl(i.siteurl)),i.site=null===(r=a)||void 0===r?void 0:r.getId(),!u.j.isTrueOrOne(i.foreground))return n.notificationClicked(i);const f={id:Number(i.notId)||1,data:i,title:e.title,text:e.message,channel:"PushPluginChannel"},g=k.CorePlatform.isAndroid(),v=u.j.isTrueOrOne(i.extrafeatures);var C;v&&g&&u.j.isFalseOrZero(i.notif)&&(f.text=[{message:e.message,person:null!==(C=i.sender)&&void 0!==C?C:"2"==i.conversationtype?i.userfromfullname:"",personIcon:i.senderImage}]);v&&g&&(f.icon=e.image,f.iconType=i["image-type"],f.summary=i.summaryText,i.picture&&(f.attachments=[i.picture])),c.CoreLocalNotifications.schedule(f,CorePushNotificationsProvider.COMPONENT,i.site||"",!0),yield n.notifyReceived(e,i)}))()}notifyReceived(e,n){return(0,o.A)((function*(){yield v.b0.donePromise,a.CorePushNotificationsDelegate.received(n)}))()}unregisterDeviceOnMoodle(e){var n=this;return(0,o.A)((function*(){if(!e||!k.CorePlatform.isMobile())throw new A.CoreError("Cannot unregister device");n.logger.debug(`Unregister device on Moodle: '${e.getId()}'`);const r={appid:g.CoreConstants.CONFIG.app_id,uuid:v.pF.uuid};let o;try{o=yield e.write("core_user_remove_user_device",r)}catch(r){if(U.CoreWSError.isWebServiceError(r)||U.CoreWSError.isExpiredTokenError(r))throw yield H.g.ignoreErrors(n.pendingUnregistersTable.delete({token:e.getToken(),siteid:e.getId()})),r;return yield n.pendingUnregistersTable.insert({siteid:e.getId(),siteurl:e.getURL(),token:e.getToken(),info:JSON.stringify(e.getInfo())}),void 0}if(!o.removed)throw new A.CoreError("Cannot unregister device");yield H.g.ignoreErrors(Promise.all([n.registeredDevicesTables[e.getId()].delete(n.getRequiredRegisterData()),n.pendingUnregistersTable.deleteByPrimaryKey({siteid:e.getId()})]))}))()}updateAddonCounter(e,n,r){var i=this;return(0,o.A)((function*(){return a.CorePushNotificationsDelegate.isCounterHandlerRegistered(e)?(r=r||s.CoreSites.getCurrentSiteId(),yield i.saveAddonBadge(n,r,e),yield i.updateSiteCounter(r),n):0}))()}updateAppCounter(){var e=this;return(0,o.A)((function*(){const n=yield s.CoreSites.getSitesIds(),r=(yield Promise.all(n.map((n=>e.getAddonBadge(n))))).reduce(((e,n)=>e+n),0);return k.CorePlatform.isMobile()&&(yield v.Ex.set(r)),r}))()}updateSiteCounter(e){var n=this;return(0,o.A)((function*(){const r=a.CorePushNotificationsDelegate.getCounterHandlers(),o=(yield Promise.all(Object.values(r).map((r=>n.getAddonBadge(e,r))))).reduce(((e,n)=>e+n),0);return yield n.saveAddonBadge(o,e),yield n.updateAppCounter(),o}))()}registerDevice(){var e=this;return(0,o.A)((function*(){try{const n=yield e.getOptions(),r=F.$t.init(n);r.on("notification").subscribe((n=>{v.SK.run((()=>{"registrationType"in n||(e.logger.log("Received a notification",n),e.onMessageReceived(n))}))})),r.on("registration").subscribe((n=>{v.SK.run((()=>{e.pushID=n.registrationId,s.CoreSites.isLoggedIn()&&e.canRegisterOnMoodle()&&e.registerDeviceOnMoodle().catch((n=>{e.logger.error("Can't register device",n)}))}))})),r.on("error").subscribe((n=>{v.SK.run((()=>{e.logger.warn("Error with Push plugin",n)}))}))}catch(n){throw e.logger.warn(n),n}}))()}registerDeviceOnMoodle(e,n){var r=this;return(0,o.A)((function*(){if(r.logger.debug("Register device on Moodle."),!r.canRegisterOnMoodle())return Promise.reject(null);const o=yield s.CoreSites.getSite(e);try{const s=r.getRequiredRegisterData();s.publickey=yield r.getPublicKeyForSite(o);const a=yield r.getRegisterDeviceActions(s,o,n);if(a.unregister&&(yield H.g.ignoreErrors(r.unregisterDeviceOnMoodle(o))),a.register){const e=yield o.write("core_user_add_user_device",u.j.clone(s));e[0]&&e[0].find((e=>"existingkeyforthisuser"===e.warningcode))&&s.publickey&&(yield r.updatePublicKeyOnMoodle(o,s)),b.z.trigger(b.z.DEVICE_REGISTERED_IN_MOODLE,{},o.getId()),yield H.g.ignoreErrors(r.registeredDevicesTables[o.getId()].insert(s))}else if(a.updatePublicKey){var i;const n=yield r.updatePublicKeyOnMoodle(o,s);null!=n&&null!==(i=n.warnings)&&void 0!==i&&i.find((e=>"devicedoesnotexist"===e.warningcode))&&(yield r.registeredDevicesTables[o.getId()].delete({appid:s.appid,uuid:s.uuid,name:s.name,model:s.model,platform:s.platform}),yield r.registerDeviceOnMoodle(e,!1))}}finally{yield H.g.ignoreErrors(r.pendingUnregistersTable.deleteByPrimaryKey({siteid:o.getId()}))}}))()}getPublicKeyForSite(e){var n=this;return(0,o.A)((function*(){if(e.wsAvailable("core_user_update_user_device_public_key"))return yield n.getPublicKey()}))()}getPublicKey(){return(0,o.A)((function*(){if(!k.CorePlatform.isMobile())return;const e=yield F.$t.getPublicKey();return null!=e?e:void 0}))()}updatePublicKeyOnMoodle(e,n){var r=this;return(0,o.A)((function*(){if(!n.publickey)return;r.logger.debug("Update public key on Moodle.");const o={uuid:n.uuid,appid:n.appid,publickey:n.publickey};return yield e.write("core_user_update_user_device_public_key",o)}))()}getAddonBadge(e,n="site"){var r=this;return(0,o.A)((function*(){try{const o=yield r.badgesTable.getOne({siteid:e,addon:n});return(null==o?void 0:o.number)||0}catch(e){return 0}}))()}retryUnregisters(e){var n=this;return(0,o.A)((function*(){const r=yield n.pendingUnregistersTable.getMany(T.T.withoutEmpty({siteid:e}));yield Promise.all(r.map(function(){var e=(0,o.A)((function*(e){const r=_.a.makeSite(e.siteid,e.siteurl,e.token,{info:p.Ni.parseJSON(e.info,null)||void 0});yield n.unregisterDeviceOnMoodle(r)}));return function(n){return e.apply(this,arguments)}}()))}))()}saveAddonBadge(e,n,r="site"){var i=this;return(0,o.A)((function*(){return n=n||s.CoreSites.getCurrentSiteId(),yield i.badgesTable.insert({siteid:n,addon:r,number:e}),e}))()}getRegisterDeviceActions(e,n,r){var i=this;return(0,o.A)((function*(){if(r)return{unregister:!0,register:!0,updatePublicKey:!1};const o=yield H.g.ignoreErrors(i.registeredDevicesTables[n.getId()].getMany({appid:e.appid,uuid:e.uuid,name:e.name,model:e.model,platform:e.platform}));let s=!1,a=!1,c=!1;return(o||[]).forEach((n=>{n.version==e.version&&n.pushid==e.pushid?(s=!0,c=!!e.publickey&&n.publickey!==e.publickey):a=!0})),{register:!s,unregister:!s&&!a,updatePublicKey:c}}))()}}return(e=CorePushNotificationsProvider).COMPONENT="CorePushNotificationsProvider",e.ɵfac=function CorePushNotificationsProvider_Factory(n){return new(n||e)},e.ɵprov=B.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePushNotificationsProvider})();const V=(0,v.Qd)(j)},32016:(e,n,r)=>{"use strict";r.d(n,{o:()=>CoreQuestionBehaviourBaseHandler});var o=r(10467),i=r(54090);class CoreQuestionBehaviourBaseHandler{constructor(){this.name="CoreQuestionBehaviourBase",this.type="base"}determineNewState(e,n,r,o,s){return i.CoreQuestion.getState(r.state)}handleQuestion(e){}isEnabled(){return(0,o.A)((function*(){return!0}))()}}},21457:(e,n,r)=>{"use strict";r.d(n,{b:()=>CoreQuestionBaseHandler});var o=r(10467);class CoreQuestionBaseHandler{constructor(){this.name="CoreQuestionBase",this.type="base"}isEnabled(){return(0,o.A)((function*(){return!0}))()}getComponent(e){}getBehaviour(e,n){return n}getPreventSubmitMessage(e){}getValidationError(e,n,r){return r}isCompleteResponse(e,n,r,o){return-1}isGradableResponse(e,n,r,o){return-1}isSameResponse(e,n,r,o,i){return!1}prepareAnswers(e,n,r,o,i,s){}validateSequenceCheck(e,n){return e.sequencecheck==Number(n)}}},88633:(e,n,r)=>{"use strict";r.d(n,{Wv:()=>getQuestionExportedDirectives,X6:()=>getQuestionServices,eh:()=>c});var o=r(10467),i=r(52749),s=r(34442),a=r(54438);function getQuestionServices(){return _getQuestionServices.apply(this,arguments)}function _getQuestionServices(){return(_getQuestionServices=(0,o.A)((function*(){const{CoreQuestionProvider:e}=yield Promise.resolve().then(r.bind(r,54090)),{CoreQuestionDelegateService:n}=yield Promise.resolve().then(r.bind(r,89857)),{CoreQuestionBehaviourDelegateService:o}=yield Promise.resolve().then(r.bind(r,13482)),{CoreQuestionHelperProvider:i}=yield Promise.resolve().then(r.bind(r,69319));return[e,n,o,i]}))).apply(this,arguments)}function getQuestionExportedDirectives(){return _getQuestionExportedDirectives.apply(this,arguments)}function _getQuestionExportedDirectives(){return(_getQuestionExportedDirectives=(0,o.A)((function*(){const{CoreQuestionComponent:e}=yield r.e(58529).then(r.bind(r,58529));return[e]}))).apply(this,arguments)}let c=(()=>{var e;class CoreQuestionModule{}return(e=CoreQuestionModule).ɵfac=function CoreQuestionModule_Factory(n){return new(n||e)},e.ɵmod=a.$C({type:e}),e.ɵinj=a.G2t({providers:[{provide:i.CORE_SITE_SCHEMAS,useValue:[s.nz],multi:!0}]}),CoreQuestionModule})()},13482:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreQuestionBehaviourDelegate:()=>g,CoreQuestionBehaviourDelegateService:()=>f});var o=r(10467),i=r(59296),s=r(79555),a=r(89857),c=r(54438),u=r(32016);let p=(()=>{var e;class CoreQuestionBehaviourDefaultHandler extends u.o{constructor(){super(...arguments),this.name="CoreQuestionBehaviourDefault",this.type="default"}}return(e=CoreQuestionBehaviourDefaultHandler).ɵfac=(()=>{let n;return function CoreQuestionBehaviourDefaultHandler_Factory(r){return(n||(n=c.xGo(e)))(r||e)}})(),e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreQuestionBehaviourDefaultHandler})(),f=(()=>{var e;class CoreQuestionBehaviourDelegateService extends i.B{constructor(e){super("CoreQuestionBehaviourDelegate"),this.defaultHandler=e,this.handlerNameProperty="type"}determineNewState(e,n,r,i,s,c){var u=this;return(0,o.A)((function*(){return e=a.CoreQuestionDelegate.getBehaviourForQuestion(i,e),u.executeFunctionOnEnabled(e,"determineNewState",[n,r,i,s,c])}))()}handleQuestion(e,n){var r=this;return(0,o.A)((function*(){return e=a.CoreQuestionDelegate.getBehaviourForQuestion(n,e),r.executeFunctionOnEnabled(e,"handleQuestion",[n])}))()}isBehaviourSupported(e){return this.hasHandler(e,!0)}}return(e=CoreQuestionBehaviourDelegateService).ɵfac=function CoreQuestionBehaviourDelegateService_Factory(n){return new(n||e)(c.KVO(p))},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreQuestionBehaviourDelegateService})();const g=(0,s.Qd)(f)},34442:(e,n,r)=>{"use strict";r.d(n,{SO:()=>i,ms:()=>s,nz:()=>a});var o=r(10467);const i="questions_2",s="question_answers",a={name:"CoreQuestionProvider",version:2,tables:[{name:i,columns:[{name:"component",type:"TEXT",notNull:!0},{name:"attemptid",type:"INTEGER",notNull:!0},{name:"slot",type:"INTEGER",notNull:!0},{name:"componentid",type:"INTEGER"},{name:"state",type:"TEXT"}],primaryKeys:["component","attemptid","slot"]},{name:s,columns:[{name:"component",type:"TEXT",notNull:!0},{name:"attemptid",type:"INTEGER",notNull:!0},{name:"name",type:"TEXT",notNull:!0},{name:"componentid",type:"INTEGER"},{name:"userid",type:"INTEGER"},{name:"questionslot",type:"INTEGER"},{name:"value",type:"TEXT"},{name:"timemodified",type:"INTEGER"}],primaryKeys:["component","attemptid","name"]}],migrate:(e,n)=>(0,o.A)((function*(){n<2&&(yield e.migrateTable("questions",i,(({component:e,componentid:n,attemptid:r,slot:o,state:i})=>({component:e,componentid:n,attemptid:r,slot:o,state:i}))))}))()}},89857:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreQuestionDelegate:()=>f,CoreQuestionDelegateService:()=>p});var o=r(10467),i=r(59296),s=r(79555),a=r(54438),c=r(21457);let u=(()=>{var e;class CoreQuestionDefaultHandler extends c.b{constructor(){super(...arguments),this.name="CoreQuestionDefault",this.type="default"}}return(e=CoreQuestionDefaultHandler).ɵfac=(()=>{let n;return function CoreQuestionDefaultHandler_Factory(r){return(n||(n=a.xGo(e)))(r||e)}})(),e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreQuestionDefaultHandler})(),p=(()=>{var e;class CoreQuestionDelegateService extends i.B{constructor(e){super("CoreQuestionDelegate"),this.defaultHandler=e,this.handlerNameProperty="type"}getBehaviourForQuestion(e,n){const r=this.getTypeName(e);return this.executeFunctionOnEnabled(r,"getBehaviour",[e,n])||n}getComponentForQuestion(e){var n=this;return(0,o.A)((function*(){const r=n.getTypeName(e);return n.executeFunctionOnEnabled(r,"getComponent",[e])}))()}getPreventSubmitMessage(e){const n=this.getTypeName(e);return this.executeFunctionOnEnabled(n,"getPreventSubmitMessage",[e])}getFullTypeName(e){return`qtype_${e}`}getTypeName(e){return this.getFullTypeName(e.type)}isCompleteResponse(e,n,r,o){const i=this.getTypeName(e),s=this.executeFunctionOnEnabled(i,"isCompleteResponse",[e,n,r,o]);return null!=s?s:-1}isGradableResponse(e,n,r,o){const i=this.getTypeName(e),s=this.executeFunctionOnEnabled(i,"isGradableResponse",[e,n,r,o]);return null!=s?s:-1}isSameResponse(e,n,r,o,i){const s=this.getTypeName(e);return!!this.executeFunctionOnEnabled(s,"isSameResponse",[e,n,r,o,i])}isQuestionSupported(e){return this.hasHandler(this.getFullTypeName(e),!0)}prepareAnswersForQuestion(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){const o=c.getTypeName(e);yield c.executeFunctionOnEnabled(o,"prepareAnswers",[e,n,r,i,s,a])}))()}validateSequenceCheck(e,n){const r=this.getTypeName(e);return!!this.executeFunctionOnEnabled(r,"validateSequenceCheck",[e,n])}getAdditionalDownloadableFiles(e,n){const r=this.getTypeName(e);return this.executeFunctionOnEnabled(r,"getAdditionalDownloadableFiles",[e,n])||[]}clearTmpData(e,n,r){const o=this.getTypeName(e);return this.executeFunctionOnEnabled(o,"clearTmpData",[e,n,r])}deleteOfflineData(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=s.getTypeName(e);yield s.executeFunctionOnEnabled(o,"deleteOfflineData",[e,n,r,i])}))()}prepareSyncData(e,n,r,i,s){var a=this;return(0,o.A)((function*(){const o=a.getTypeName(e);yield a.executeFunctionOnEnabled(o,"prepareSyncData",[e,n,r,i,s])}))()}getValidationError(e,n,r,o,i){const s=this.getTypeName(e);return this.executeFunctionOnEnabled(s,"getValidationError",[e,n,r,o,i])}}return(e=CoreQuestionDelegateService).ɵfac=function CoreQuestionDelegateService_Factory(n){return new(n||e)(a.KVO(u))},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreQuestionDelegateService})();const f=(0,s.Qd)(p)},69319:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreQuestionHelper:()=>x,CoreQuestionHelperProvider:()=>k});var o=r(10467),i=r(45507),s=r(88436),a=r(88793),c=r(52749),u=r(82907),p=r(75383),f=r(81690),g=r(79555),v=r(54090),C=r(89857),b=r(44460),w=r(8014),A=r(55351),_=r(69534),E=r(35161),I=r(55554),T=r(25572),P=r(54438);let k=(()=>{var e;class CoreQuestionHelperProvider{constructor(){this.lastErrorShown=0}addBehaviourButton(e,n){if(n&&e){if(e.behaviourButtons=e.behaviourButtons||[],n instanceof HTMLInputElement)return e.behaviourButtons.push({id:n.id,name:n.name,value:n.value,disabled:n.disabled}),void 0;n instanceof HTMLButtonElement&&e.behaviourButtons.push({id:n.id,name:n.name,value:n.innerHTML,disabled:n.disabled})}}clearTmpData(e,n,r){return(0,o.A)((function*(){e=e||[],yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){yield C.CoreQuestionDelegate.clearTmpData(e,n,r)}));return function(n){return e.apply(this,arguments)}}()))}))()}deleteStoredQuestionFiles(e,n,r,s){return(0,o.A)((function*(){const o=v.CoreQuestion.getQuestionComponentId(e,r),a=v.CoreQuestion.getQuestionFolder(e.type,n,o,s);yield I.g.ignoreErrors(i.CoreFile.removeDir(a))}))()}extractQbehaviourButtons(e,n){if(C.CoreQuestionDelegate.getPreventSubmitMessage(e))return;n=n||'.im-controls [type="submit"]';const r=(0,E.B)(e.html);Array.from(r.querySelectorAll(n)).forEach((n=>{this.addBehaviourButton(e,n)}))}extractQbehaviourCBM(e){const n=(0,E.B)(e.html),r=Array.from(n.querySelectorAll('.im-controls .certaintychoices label[for*="certainty"]'));return e.behaviourCertaintyOptions=[],r.forEach((n=>{const r=n.querySelector('input[type="radio"]');var o;r&&(null===(o=e.behaviourCertaintyOptions)||void 0===o||o.push({id:r.id,name:r.name,value:r.value,text:p.Ni.cleanTags(n.innerHTML),disabled:r.disabled}),r.checked&&(e.behaviourCertaintySelected=r.value))})),e.localAnswers&&void 0!==e.localAnswers["-certainty"]&&(e.behaviourCertaintySelected=e.localAnswers["-certainty"]),r.length>0}extractQbehaviourRedoButton(e){const n='[type="submit"][name*=redoslot], [type="submit"][name*=tryagain]';if(!this.searchBehaviourButton(e,"html",`.outcome ${n}`)){if(e.feedbackHtml&&this.searchBehaviourButton(e,"feedbackHtml",n))return;e.infoHtml&&this.searchBehaviourButton(e,"infoHtml",n)}}extractQbehaviourSeenInput(e){var n;const r=(0,E.B)(e.html),o=r.querySelector('input[type="hidden"][name*=seen]');return!!o&&(e.behaviourSeenInput={name:o.name,value:o.value},null===(n=o.parentElement)||void 0===n||n.removeChild(o),e.html=r.innerHTML,!0)}extractQuestionComment(e){this.extractQuestionLastElementNotInContent(e,".comment","commentHtml")}extractQuestionFeedback(e){this.extractQuestionLastElementNotInContent(e,".outcome","feedbackHtml")}extractQuestionInfoBox(e,n){this.extractQuestionLastElementNotInContent(e,n,"infoHtml")}extractQuestionLastElementNotInContent(e,n,r){const o=(0,E.B)(e.html),i=Array.from(o.querySelectorAll(n));let s=i.pop();for(;s;){var a;if(!s.closest(".formulation"))return e[r]=s.innerHTML,null===(a=s.parentElement)||void 0===a||a.removeChild(s),e.html=o.innerHTML,void 0;s=i.pop()}}extractQuestionScripts(e,n){var r;e.scriptsCode="",e.initObjects=void 0,e.amdArgs=void 0;const o=null===(r=e.html)||void 0===r?void 0:r.match(/<script[^>]*>[\s\S]*?<\/script>/gm);o&&o.forEach((r=>{if(r.match(/<script[^>]+type="math\/tex"/m))return;e.scriptsCode+=r,e.html=e.html.replace(r,"");const o=r.match(new RegExp(`M.qtype_${e.type}.init_question\\(.*?}\\);`,"mg"));if(o){let n=o.pop();n&&(n=n.replace(`M.qtype_${e.type}.init_question(`,""),n=n.substring(0,n.length-2),e.initObjects=p.Ni.parseJSON(n,null))}const i=new RegExp("require\\(\\[[\"']qtype_"+e.type+"/question[\"']\\],[^f]*function\\(amd\\)[^\\{]*\\{[^a]*amd\\.init\\(([\"'](q|question-"+n+"-)"+e.slot+"[\"'].*?)\\);","m"),s=r.match(i);s&&(e.amdArgs=p.Ni.parseJSON("["+s[1]+"]",null))}))}getAllInputNamesFromHtml(e){const n=(0,E.B)(`<form>${e}</form>`),r={};return Array.from(n.children[0].elements).forEach((e=>{const n=e.name||"";n&&!n.match(/_:flagged$/)&&"submit"!=e.type&&"BUTTON"!=e.tagName&&(r[v.CoreQuestion.removeQuestionPrefix(n)]=!0)})),r}getAnswersFromForm(e){if(!e||!e.elements)return{};const n={};return Array.from(e.elements).forEach((e=>{const r=e.name||e.getAttribute("ng-reflect-name")||"";r&&!r.match(/_:flagged$/)&&"submit"!=e.type&&"BUTTON"!=e.tagName&&("checkbox"==e.type?n[r]=!!e.checked:"radio"==e.type?e.checked&&(n[r]=e.value):n[r]=e.value)})),n}getQuestionAttachmentsFromHtml(e){const n=(0,E.B)(e);u.y.removeElement(n,"div[id*=filemanager]");const r=Array.from(n.querySelectorAll("a")),o=[];return r.forEach((e=>{let n=e.innerHTML;e.href&&n&&(n=p.Ni.cleanTags(n,{singleLine:!0,trim:!0}),o.push({filename:n,fileurl:e.href}))})),o}getQuestionSequenceCheckFromHtml(e){if(!e)return;const n=(0,E.B)(e).querySelector("input[name*=sequencecheck]");return n&&void 0!==n.name&&void 0!==n.value?{name:n.name,value:n.value}:void 0}populateQuestionStateClass(e){var n;if(!e.stateclass){const n=v.CoreQuestion.getState(e.state);e.stateclass=n.stateclass}e.stateClass=`core-question-${null!==(n=e.stateclass)&&void 0!==n?n:"unknown"}`}getResponseFileAreaFiles(e,n){if(!e.responsefileareas)return[];const r=e.responsefileareas.find((e=>e.area==n));return(null==r?void 0:r.files)||[]}getStoredQuestionFiles(e,n,r,o){const s=v.CoreQuestion.getQuestionComponentId(e,r),a=v.CoreQuestion.getQuestionFolder(e.type,n,s,o);return i.CoreFile.getDirectoryContents(a)}getValidationErrorFromHtml(e){const n=(0,E.B)(e);return u.y.getContentsOfElement(n,".validationerror")}hasDraftFileUrls(e){var n;let r=null===(n=c.CoreSites.getCurrentSite())||void 0===n?void 0:n.getURL();return!!r&&("/"!=r.slice(-1)&&(r=r+="/"),r+="draftfile.php",-1!=e.indexOf(r))}loadLocalAnswers(e,n,r){return(0,o.A)((function*(){const o=yield I.g.ignoreErrors(v.CoreQuestion.getQuestionAnswers(n,r,e.slot));e.localAnswers=o?v.CoreQuestion.convertAnswersArrayToObject(o,!0):{}}))()}loadLocalAnswersInHtml(e){const n=(0,E.B)(`<form>${e.html}</form>`).children[0];Array.from(n.elements).forEach((n=>{let r=n.name||"";if(r&&!r.match(/_:flagged$/)&&"submit"!=n.type&&"BUTTON"!=n.tagName&&e.localAnswers){if(r=v.CoreQuestion.removeQuestionPrefix(r),void 0===e.localAnswers[r])return Object.keys(e.localAnswers).length&&"radio"==n.type&&n.removeAttribute("checked"),void 0;if("TEXTAREA"==n.tagName)n.innerHTML=e.localAnswers[r];else if("SELECT"==n.tagName){const o=n.querySelector(`option[value="${e.localAnswers[r]}"]`);o&&o.setAttribute("selected","selected")}else"radio"==n.type?n.value==e.localAnswers[r]?n.setAttribute("checked","checked"):n.removeAttribute("checked"):"checkbox"==n.type?f.j.isTrueOrOne(e.localAnswers[r])?n.setAttribute("checked","checked"):n.removeAttribute("checked"):n.setAttribute("value",e.localAnswers[r])}})),e.html=n.innerHTML}prefetchQuestionFiles(e,n,r,i,u){return(0,o.A)((function*(){n||(n=v.CoreQuestionProvider.COMPONENT,r=e.questionnumber);const p=C.CoreQuestionDelegate.getAdditionalDownloadableFiles(e,u)||[];p.push(...a.CoreFilepool.extractDownloadableFilesFromHtmlAsFakeFileObjects(e.html));const f=yield c.CoreSites.getSite(i),g={};yield Promise.all(p.map(function(){var e=(0,o.A)((function*(e){const o=e.timemodified||0,i=s.CoreFileHelper.getFileUrl(e);g[i]||(g[i]=!0,!f.canDownloadFiles()&&f.isSitePluginFileUrl(i)||w.F.isThemeImageUrl(i)&&i.indexOf("flagged")>-1||(yield a.CoreFilepool.addToQueueByUrl(f.getId(),i,n,r,o)))}));return function(n){return e.apply(this,arguments)}}()))}))()}prepareAnswers(e,n,r,i,s,a){return(0,o.A)((function*(){return yield I.g.allPromises(e.map(function(){var e=(0,o.A)((function*(e){yield C.CoreQuestionDelegate.prepareAnswersForQuestion(e,n,r,i,s,a)}));return function(n){return e.apply(this,arguments)}}())),n}))()}replaceCorrectnessClasses(e){u.y.replaceClassesInElement(e,{correct:"core-question-answer-correct",incorrect:"core-question-answer-incorrect",partiallycorrect:"core-question-answer-partiallycorrect"})}replaceFeedbackClasses(e){u.y.replaceClassesInElement(e,{outcome:"core-question-feedback-container core-question-feedback-padding",specificfeedback:"core-question-feedback-container core-question-feedback-inline"})}searchBehaviourButton(e,n,r){var o;const i=(0,E.B)(e[n]),s=i.querySelector(r);return!!s&&(this.addBehaviourButton(e,s),null===(o=s.parentElement)||void 0===o||o.removeChild(s),e[n]=i.innerHTML,!0)}showComponentError(e,n){const r=Date.now();r-this.lastErrorShown>500&&(this.lastErrorShown=r,T.CoreAlerts.showError(n,{default:g.HT.instant("addon.mod_quiz.errorparsequestions")})),null==e||e.emit()}getCorrectIcon(){var e;return null!==(e=c.CoreSites.getCurrentSite())&&void 0!==e&&e.isVersionGreaterEqualThan("4.5")?{font:"font-awesome",name:"circle-check",prefix:"far",library:"regular",fullName:"far-circle-check"}:{font:"font-awesome",name:"check",prefix:"fas",library:"solid",fullName:"fas-check"}}getIncorrectIcon(){var e;return null!==(e=c.CoreSites.getCurrentSite())&&void 0!==e&&e.isVersionGreaterEqualThan("4.5")?{font:"font-awesome",name:"circle-xmark",prefix:"far",library:"regular",fullName:"far-circle-xmark"}:{font:"font-awesome",name:"xmark",prefix:"fas",library:"solid",fullName:"fas-xmark"}}getPartiallyCorrectIcon(){var e,n;return null!==(e=c.CoreSites.getCurrentSite())&&void 0!==e&&e.isVersionGreaterEqualThan("5.0")?{font:"moodle",name:"grade-partiallycorrect",prefix:"moodle",library:"moodle",fullName:"moodle-grade-partiallycorrect"}:null!==(n=c.CoreSites.getCurrentSite())&&void 0!==n&&n.isVersionGreaterEqualThan("4.5")?{font:"font-awesome",name:"circle-half-stroke",prefix:"fas",library:"solid",fullName:"fas-circle-half-stroke"}:{font:"font-awesome",name:"square-check",prefix:"fas",library:"solid",fullName:"fas-square-check"}}treatCorrectnessIcons(e){Array.from(e.querySelectorAll("img.icon, img.questioncorrectnessicon, i.icon")).forEach((e=>{var n;let r,o;const i=this.getCorrectIcon(),s=this.getIncorrectIcon(),a=this.getPartiallyCorrectIcon();if("src"in e?e.src.indexOf("grade_partiallycorrect")>=0?(r=a,o=A.$.WARNING):e.src.indexOf("incorrect")>=0?(r=s,o=A.$.DANGER):e.src.indexOf("correct")>=0&&(r=i,o=A.$.SUCCESS):e.classList.contains(`fa-${a.name}`)?(r=a,o=A.$.WARNING):e.classList.contains(`fa-${i.name}`)?(r=i,o=A.$.SUCCESS):(e.classList.contains(`fa-${s.name}`)||e.classList.contains("fa-remove"))&&(r=s,o=A.$.DANGER),!r)return;const c=document.createElement("ion-icon");c.setAttribute("name",r.fullName),c.setAttribute("src",b.O.getIconSrc(r.font,r.library,r.name)),c.className=`core-correct-icon ion-color ion-color-${o} questioncorrectnessicon`,c.title=e.title,c.setAttribute("aria-label",e.title),null===(n=e.parentNode)||void 0===n||n.replaceChild(c,e)}));Array.from(e.querySelectorAll(".feedbackspan.accesshide")).forEach((e=>{const n=e.previousSibling;n&&(n.classList.contains("icon")||n.classList.contains("questioncorrectnessicon"))&&(n.classList.add("questioncorrectnessicon"),e.innerHTML&&n.setAttribute("tappable",""))}))}treatCorrectnessIconsClicks(e,n,r,o,i,s){const a=Array.from(e.querySelectorAll("ion-icon.questioncorrectnessicon[tappable]"));a.forEach((e=>{const a=(e=>{var n;const r=e.parentElement;return null==r||null===(n=r.querySelector(".feedbackspan.accesshide"))||void 0===n?void 0:n.innerHTML})(e);a&&(e.dataset.disabledA11yClicks="true",e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const c=g.HT.instant("core.question.feedback");_.m.viewText(c,null!=a?a:"",{component:n,componentId:r,filter:!0,contextLevel:o,instanceId:i,courseId:s})})))}))}}return(e=CoreQuestionHelperProvider).ɵfac=function CoreQuestionHelperProvider_Factory(n){return new(n||e)},e.ɵprov=P.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreQuestionHelperProvider})();const x=(0,g.Qd)(k)},54090:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreQuestion:()=>_,CoreQuestionProvider:()=>A});var o=r(10467),i=r(45507),s=r(52749),a=r(75383),c=r(24742),u=r(24502),p=r(79555),f=r(8756),g=r(34442),v=r(58364),C=r(54438);const b=/q\d+:(\d+)_/,w={todo:{name:"todo",status:"notyetanswered",stateclass:"notyetanswered",active:!0,finished:!1},invalid:{name:"invalid",status:"invalidanswer",stateclass:"invalidanswer",active:!0,finished:!1},complete:{name:"complete",status:"answersaved",stateclass:"answersaved",active:!0,finished:!1},needsgrading:{name:"needsgrading",status:"requiresgrading",stateclass:"requiresgrading",active:!1,finished:!0},finished:{name:"finished",status:"complete",stateclass:"complete",active:!1,finished:!0},gaveup:{name:"gaveup",status:"notanswered",stateclass:"notanswered",active:!1,finished:!0},gradedwrong:{name:"gradedwrong",status:"incorrect",stateclass:"incorrect",active:!1,finished:!0},gradedpartial:{name:"gradedpartial",status:"partiallycorrect",stateclass:"partiallycorrect",active:!1,finished:!0},gradedright:{name:"gradedright",status:"correct",stateclass:"correct",active:!1,finished:!0},mangrwrong:{name:"mangrwrong",status:"incorrect",stateclass:"incorrect",active:!1,finished:!0},mangrpartial:{name:"mangrpartial",status:"partiallycorrect",stateclass:"partiallycorrect",active:!1,finished:!0},mangrright:{name:"mangrright",status:"correct",stateclass:"correct",active:!1,finished:!0},cannotdeterminestatus:{name:"cannotdeterminestatus",status:"cannotdeterminestatus",stateclass:void 0,active:!0,finished:!1}};let A=(()=>{var e;class CoreQuestionProvider{compareAllAnswers(e,n){const r=u.R.mergeWithoutDuplicates(Object.keys(e),Object.keys(n));for(const o in r){const i=r[o];if(!this.isExtraAnswer(i[0])&&!v.T.sameAtKeyMissingIsBlank(e,n,i))return!1}return!0}convertAnswersArrayToObject(e,n){const r={};return e.forEach((e=>{if(n){const n=this.removeQuestionPrefix(e.name);r[n]=e.value}else r[e.name]=e.value})),r}getAnswer(e,n,r,i){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(i)).getDb().getRecord(g.ms,{component:e,attemptid:n,name:r})}))()}getAttemptAnswers(e,n,r){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(r)).getDb().getRecords(g.ms,{component:e,attemptid:n})}))()}getAttemptQuestions(e,n,r){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(r)).getDb().getRecords(g.SO,{component:e,attemptid:n})}))()}getBasicAnswers(e){const n={};for(const r in e)this.isExtraAnswer(r)||(n[r]=e[r]);return n}getBasicAnswersFromArray(e){const n=[];return e.forEach((e=>{this.isExtraAnswer(e.name)&&n.push(e)})),n}getQuestion(e,n,r,i){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(i)).getDb().getRecord(g.SO,{component:e,attemptid:n,slot:r})}))()}getQuestionAnswers(e,n,r,i,a){var c=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSiteDb(a),u=yield o.getRecords(g.ms,{component:e,attemptid:n,questionslot:r});return i?c.getBasicAnswersFromArray(u):u}))()}getQuestionComponentId(e,n){return`${n}_${e.questionnumber}`}getQuestionFolder(e,n,r,o){o=o||s.CoreSites.getCurrentSiteId();const a=i.CoreFile.getSiteFolder(o);return f.$.concatenatePaths(a,`offlinequestion/${e}/${n}/${r}`)}getQuestionSlotFromName(e){if(e){const n=e.match(b);if(n&&n[1])return parseInt(n[1],10)}return-1}getState(e){return w[e||"cannotdeterminestatus"]}isExtraAnswer(e){return"-"==(e=this.removeQuestionPrefix(e))[0]||":"==e[0]}parseQuestions(e){const n=e;return n.forEach((e=>{void 0===e.questionnumber&&"number"==typeof e.number&&(e.questionnumber=String(e.number)),e.settings&&(e.parsedSettings=a.Ni.parseJSON(e.settings,null))})),n}removeAttemptAnswers(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);yield o.getDb().deleteRecords(g.ms,{component:e,attemptid:n})}))()}removeAttemptQuestions(e,n,r){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r);yield o.getDb().deleteRecords(g.SO,{component:e,attemptid:n})}))()}removeAnswer(e,n,r,i){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);yield o.getDb().deleteRecords(g.ms,{component:e,attemptid:n,name:r})}))()}removeQuestion(e,n,r,i){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);yield o.getDb().deleteRecords(g.SO,{component:e,attemptid:n,slot:r})}))()}removeQuestionAnswers(e,n,r,i){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i);yield o.getDb().deleteRecords(g.ms,{component:e,attemptid:n,questionslot:r})}))()}removeQuestionPrefix(e){return e?e.replace(b,""):""}saveAnswers(e,n,r,i,a,u,p){var f=this;return(0,o.A)((function*(){u=u||c.j.timestamp();const o=yield s.CoreSites.getSiteDb(p),v=[];for(const s in a){const c={component:e,componentid:n,attemptid:r,userid:i,questionslot:f.getQuestionSlotFromName(s),name:s,value:String(a[s]),timemodified:u};v.push(o.insertRecord(g.ms,c))}yield Promise.all(v)}))()}saveQuestion(e,n,r,i,a,c,u){return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(u),i={component:e,componentid:n,attemptid:r,slot:a.slot,state:c};yield o.getDb().insertRecord(g.SO,i)}))()}}return(e=CoreQuestionProvider).COMPONENT="mmQuestion",e.ɵfac=function CoreQuestionProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreQuestionProvider})();const _=(0,p.Qd)(A)},791:(e,n,r)=>{"use strict";r.d(n,{$:()=>c,G:()=>getRatingServices});var o=r(10467),i=r(52749),s=r(53872),a=r(54438);function getRatingServices(){return _getRatingServices.apply(this,arguments)}function _getRatingServices(){return(_getRatingServices=(0,o.A)((function*(){const{CoreRatingProvider:e}=yield Promise.resolve().then(r.bind(r,87326)),{CoreRatingOfflineProvider:n}=yield Promise.resolve().then(r.bind(r,32440)),{CoreRatingSyncProvider:o}=yield Promise.resolve().then(r.bind(r,82308));return[e,o,n]}))).apply(this,arguments)}let c=(()=>{var e;class CoreRatingModule{}return(e=CoreRatingModule).ɵfac=function CoreRatingModule_Factory(n){return new(n||e)},e.ɵmod=a.$C({type:e}),e.ɵinj=a.G2t({providers:[{provide:i.CORE_SITE_SCHEMAS,useValue:[s.B],multi:!0}]}),CoreRatingModule})()},53872:(e,n,r)=>{"use strict";r.d(n,{B:()=>i,C:()=>o});const o="rating_ratings",i={name:"CoreRatingOfflineProvider",version:1,tables:[{name:o,columns:[{name:"component",type:"TEXT"},{name:"ratingarea",type:"TEXT"},{name:"contextlevel",type:"INTEGER"},{name:"instanceid",type:"INTEGER"},{name:"itemid",type:"INTEGER"},{name:"itemsetid",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"scaleid",type:"INTEGER"},{name:"rating",type:"INTEGER"},{name:"rateduserid",type:"INTEGER"},{name:"aggregation",type:"INTEGER"}],primaryKeys:["component","ratingarea","contextlevel","instanceid","itemid"]}]}},32440:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreRatingOffline:()=>f,CoreRatingOfflineProvider:()=>p});var o=r(10467),i=r(52749),s=r(55554),a=r(79555),c=r(53872),u=r(54438);let p=(()=>{var e;class CoreRatingOfflineProvider{getRating(e,n,r,s,a,u){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),p={contextlevel:e,instanceid:n,component:r,ratingarea:s,itemid:a};return o.getDb().getRecord(c.C,p)}))()}addRating(e,n,r,s,a,u,p,f,g,v,C,b){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(b),w={component:e,ratingarea:n,contextlevel:r,instanceid:s,itemid:a,itemsetid:u,courseid:p,scaleid:f,rating:g,rateduserid:v,aggregation:C};yield o.getDb().insertRecord(c.C,w)}))()}deleteRating(e,n,r,s,a,u){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),p={component:e,ratingarea:n,contextlevel:r,instanceid:s,itemid:a};yield o.getDb().deleteRecords(c.C,p)}))()}getItemSets(e,n,r,s,a,u){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),p={component:e,ratingarea:n};r&&s&&(p.contextlevel=r,p.instanceid=s),a&&(p.itemsetid=a);return(yield o.getDb().getRecords(c.C,p,void 0,"DISTINCT contextlevel, instanceid, itemsetid, courseid")).map((r=>({component:e,ratingArea:n,contextLevel:r.contextlevel,instanceId:r.instanceid,itemSetId:r.itemsetid,courseId:r.courseid})))}))()}getRatings(e,n,r,s,a,u){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(u),p={component:e,ratingarea:n,contextlevel:r,instanceid:s,itemsetid:a};return o.getDb().getRecords(c.C,p)}))()}hasRatings(e,n,r,a,u,p){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(p),f={component:e,ratingarea:n};return r&&a&&(f.contextlevel=r,f.instanceid=a),u&&(f.itemsetid=u),s.g.promiseWorks(o.getDb().recordExists(c.C,f))}))()}}return(e=CoreRatingOfflineProvider).ɵfac=function CoreRatingOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreRatingOfflineProvider})();const f=(0,a.Qd)(p)},82308:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreRatingSync:()=>A,CoreRatingSyncProvider:()=>w});var o=r(10467),i=r(42008),s=r(49446),a=r(94455),c=r(52749),u=r(49588),p=r(43411),f=r(79555),g=r(49882),v=r(87326),C=r(32440),b=r(54438);let w=(()=>{var e;class CoreRatingSyncProvider extends i.l{constructor(){super("CoreRatingSyncProvider")}syncRatings(e,n,r,i,s,a,u){var p=this;return(0,o.A)((function*(){u=u||c.CoreSites.getCurrentSiteId();const f=yield C.CoreRatingOffline.getItemSets(e,n,r,i,s,u),v=[];return yield Promise.all(f.map(function(){var r=(0,o.A)((function*(r){const o=a?yield p.syncItemSet(e,n,r.contextLevel,r.instanceId,r.itemSetId,u):yield p.syncItemSetIfNeeded(e,n,r.contextLevel,r.instanceId,r.itemSetId,u);o&&(o.updated&&g.z.trigger(CoreRatingSyncProvider.SYNCED_EVENT,{...r,warnings:o.warnings},u),v.push({itemSet:r,...o}))}));return function(e){return r.apply(this,arguments)}}())),v}))()}syncItemSetIfNeeded(e,n,r,i,s,a){var u=this;return(0,o.A)((function*(){a=a||c.CoreSites.getCurrentSiteId();const o=u.getItemSetSyncId(e,n,r,i,s);if(yield u.isSyncNeeded(o,a))return u.syncItemSet(e,n,r,i,s,a)}))()}syncItemSet(e,n,r,o,i,s){s=s||c.CoreSites.getCurrentSiteId();const a=this.getItemSetSyncId(e,n,r,o,i),u=this.getOngoingSync(a,s);if(u)return u;this.logger.debug(`Try to sync ratings of component '${e}' rating area '${n}' context level '${r}' instance ${o} item set ${i}`);const p=this.performSyncItemSet(e,n,r,o,i,s);return this.addOngoingSync(a,p,s)}performSyncItemSet(e,n,r,i,c,f){return(0,o.A)((function*(){const g={updated:[],warnings:[]},b=yield C.CoreRatingOffline.getRatings(e,n,r,i,c,f);if(!b.length)return g;if(!a.WE.isOnline())throw new s.CoreNetworkError;const w=b.map(function(){var r=(0,o.A)((function*(r){try{yield v.CoreRating.addRatingOnline(e,n,r.contextlevel,r.instanceid,r.itemid,r.scaleid,r.rating,r.rateduserid,r.aggregation,f)}catch(e){if(!p.CoreWSError.isWebServiceError(e))throw e;const n=u.CoreErrorHelper.getErrorMessageFromError(e);n&&g.warnings.push(n)}g.updated.push(r.itemid);try{return C.CoreRatingOffline.deleteRating(e,n,r.contextlevel,r.instanceid,r.itemid,f)}finally{yield v.CoreRating.invalidateRatingItems(r.contextlevel,r.instanceid,e,n,r.itemid,r.scaleid,void 0,f)}}));return function(e){return r.apply(this,arguments)}}());return yield Promise.all(w),g}))()}getItemSetSyncId(e,n,r,o,i){return`itemSet#${e}#${n}#${r}#${o}#${i}`}}return(e=CoreRatingSyncProvider).SYNCED_EVENT="core_rating_synced",e.ɵfac=function CoreRatingSyncProvider_Factory(n){return new(n||e)},e.ɵprov=b.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreRatingSyncProvider})();const A=(0,f.Qd)(w)},87326:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreRating:()=>w,CoreRatingProvider:()=>b});var o=r(10467),i=r(74431),s=r(98870),a=r(94455),c=r(52749),u=r(79555),p=r(49882),f=r(32440),g=r(43411),v=r(58364),C=r(54438);let b=(()=>{var e;class CoreRatingProvider{addRating(e,n,r,i,s,u,v,C,b,w,A,_){var E=this;return(0,o.A)((function*(){_=_||c.CoreSites.getCurrentSiteId();const I=function(){var a=(0,o.A)((function*(){yield f.CoreRatingOffline.addRating(e,n,r,i,s,u,v,C,b,w,A,_),p.z.trigger(CoreRatingProvider.RATING_SAVED_EVENT,{component:e,ratingArea:n,contextLevel:r,instanceId:i,itemSetId:u,itemId:s},_)}));return function storeOffline(){return a.apply(this,arguments)}}();if(!a.WE.isOnline())return I();try{yield f.CoreRatingOffline.deleteRating(e,n,r,i,s,_);return yield E.addRatingOnline(e,n,r,i,s,C,b,w,A,_)}catch(e){return g.CoreWSError.isWebServiceError(e)?Promise.reject(e):I()}}))()}addRatingOnline(e,n,r,i,s,a,u,f,g,v){var C=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(v),b={contextlevel:r,instanceid:i,component:e,ratingarea:n,itemid:s,scaleid:a,rating:u,rateduserid:f,aggregation:g},w=yield o.write("core_rating_add_rating",b);return yield C.invalidateRatingItems(r,i,e,n,s,a),p.z.trigger(CoreRatingProvider.AGGREGATE_CHANGED_EVENT,{contextLevel:r,instanceId:i,component:e,ratingArea:n,itemId:s,aggregate:w.aggregate,count:w.count}),w}))()}getItemRatings(e,n,r,a,u,p,f="timemodified",g,v,C=!1){var b=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(v),w={contextlevel:e,instanceid:n,component:r,ratingarea:a,itemid:u,scaleid:p,sort:f},A={cacheKey:b.getItemRatingsCacheKey(e,n,r,a,u,p,f),updateFrequency:i.CoreCacheUpdateFrequency.RARELY};C&&(A.getFromCache=!1,A.emergencyCache=!1);const _=yield o.read("core_rating_get_item_ratings",w,A);if(!o.isVersionGreaterEqualThan(["3.6.5","3.7.1","3.8"])){const e=_.ratings.map((e=>s.CoreUser.getProfile(e.userid,g,!0,o.id).then((n=>{e.userpictureurl=n.profileimageurl||""})).catch((()=>{e.userpictureurl=""}))));yield Promise.all(e)}return _.ratings}))()}invalidateRatingItems(e,n,r,i,s,a,u="timemodified",p){var f=this;return(0,o.A)((function*(){const o=yield c.CoreSites.getSite(p),g=f.getItemRatingsCacheKey(e,n,r,i,s,a,u);yield o.invalidateWsCacheForKey(g)}))()}isRatingDisabledInSite(e){var n;return!(null===(n=e=e||c.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled("NoDelegate_CoreRating"))}isRatingDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield c.CoreSites.getSite(e);return n.isRatingDisabledInSite(r)}))()}mergeRatingInfos(e){let n;const r={},o={};return e.forEach((e=>{e&&(n||(n=Object.assign({},e)),(e.scales||[]).forEach((e=>{r[e.id]=e})),(e.ratings||[]).forEach((e=>{o[e.itemid]=e})))})),n&&(n.scales=v.T.toArray(r),n.ratings=v.T.toArray(o)),n}prefetchRatings(e,n,r,i,a,u){var p=this;return(0,o.A)((function*(){if(!a||!a.ratings)return;const o=yield c.CoreSites.getSite(u),f=a.ratings.map((s=>p.getItemRatings(e,n,a.component,a.ratingarea,s.itemid,r,void 0,i,o.id,!0))),g=yield Promise.all(f);if(!o.isVersionGreaterEqualThan(["3.6.5","3.7.1","3.8"])){const e=[].concat.apply([],g).map((e=>e.userid));yield s.CoreUser.prefetchProfiles(e,i,o.id)}}))()}getItemRatingsCacheKey(e,n,r,o,i,s,a){return`${CoreRatingProvider.ROOT_CACHE_KEY}${e}:${n}:${r}:${o}:${i}:${s}:${a}`}}return(e=CoreRatingProvider).ROOT_CACHE_KEY="CoreRating:",e.AGGREGATE_NONE=0,e.AGGREGATE_AVERAGE=1,e.AGGREGATE_COUNT=2,e.AGGREGATE_MAXIMUM=3,e.AGGREGATE_MINIMUM=4,e.AGGREGATE_SUM=5,e.UNSET_RATING=-999,e.AGGREGATE_CHANGED_EVENT="core_rating_aggregate_changed",e.RATING_SAVED_EVENT="core_rating_rating_saved",e.ɵfac=function CoreRatingProvider_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreRatingProvider})();const w=(0,u.Qd)(b)},43959:(e,n,r)=>{"use strict";r.d(n,{AM:()=>s,Nc:()=>c,WK:()=>a,_6:()=>i,dt:()=>u,ny:()=>p});var o=r(74431),i=function(e){return e[e.MINUTE=o.CoreConstants.SECONDS_MINUTE]="MINUTE",e[e.HOUR=o.CoreConstants.SECONDS_HOUR]="HOUR",e[e.DAY=o.CoreConstants.SECONDS_DAY]="DAY",e[e.WEEK=o.CoreConstants.SECONDS_WEEK]="WEEK",e}(i||{});const s={single:{[i.MINUTE]:"core.minute",[i.HOUR]:"core.hour",[i.DAY]:"core.day",[i.WEEK]:"core.week"},multi:{[i.MINUTE]:"core.minutes",[i.HOUR]:"core.hours",[i.DAY]:"core.days",[i.WEEK]:"core.weeks"}},a=-1,c=-1,u="CoreRemindersDefaultNotification",p="CoreRemindersDefaultNotificationChangedEvent"},55183:(e,n,r)=>{"use strict";r.d(n,{Ln:()=>u,hT:()=>getRemindersExportedDirectives,wQ:()=>getRemindersServices});var o=r(10467),i=r(54438),s=r(52749),a=r(14422),c=r(21604);function getRemindersServices(){return _getRemindersServices.apply(this,arguments)}function _getRemindersServices(){return(_getRemindersServices=(0,o.A)((function*(){const{CoreRemindersService:e}=yield Promise.resolve().then(r.bind(r,21604));return[e]}))).apply(this,arguments)}function getRemindersExportedDirectives(){return _getRemindersExportedDirectives.apply(this,arguments)}function _getRemindersExportedDirectives(){return(_getRemindersExportedDirectives=(0,o.A)((function*(){const{CoreRemindersDateComponent:e}=yield r.e(60185).then(r.bind(r,60185));return[e]}))).apply(this,arguments)}let u=(()=>{var e,n;class CoreRemindersModule{}return(e=CoreRemindersModule).ɵfac=function CoreRemindersModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:s.CORE_SITE_SCHEMAS,useValue:[a.W],multi:!0},{provide:i.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){yield c.CoreReminders.initialize()})),function useValue(){return n.apply(this,arguments)})}]}),CoreRemindersModule})()},14422:(e,n,r)=>{"use strict";r.d(n,{$:()=>c,W:()=>u});var o=r(10467),i=r(99234),s=r(55554),a=r(43959);const c="core_reminders",u={name:"CoreRemindersService",version:1,canBeCleared:[],tables:[{name:c,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"component",type:"TEXT",notNull:!0},{name:"instanceId",type:"INTEGER",notNull:!0},{name:"type",type:"TEXT",notNull:!0},{name:"time",type:"INTEGER",notNull:!0},{name:"timebefore",type:"INTEGER",notNull:!0},{name:"title",type:"TEXT",notNull:!0},{name:"url",type:"TEXT"}],uniqueKeys:[["component","instanceId","timebefore"]]}],install:(p=(0,o.A)((function*(e){yield f(e),yield g(e)})),function install(e){return p.apply(this,arguments)})};var p;const f=function(){var e=(0,o.A)((function*(e){const n="addon_calendar_reminders";if(!(yield s.g.promiseWorks(e.tableExists(n))))return;const r=yield e.getAllRecords(n),c={},u={};yield Promise.all(r.map(function(){var n=(0,o.A)((function*(n){if(!c[n.eventid])try{c[n.eventid]=yield e.getRecord(i.Vl,{id:n.eventid})}catch{return}const r=c[n.eventid];let o=n.time;if(o&&-1!==o){if(o>r.timestart)return;o=r.timestart-60*Math.floor(o/60)}else o=a.WK;if(void 0===u[n.eventid])u[n.eventid]=[];else if(u[n.eventid].includes(o))return;yield v(e,r,o)}));return function(e){return n.apply(this,arguments)}}()));try{yield e.dropTable(n)}catch{}}));return function migrateFromCalendarRemindersV1(n){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.A)((function*(e){const n="addon_calendar_reminders_2";if(!(yield s.g.promiseWorks(e.tableExists(n))))return;const r=yield e.getAllRecords(n),c={},u={};yield Promise.all(r.map(function(){var n=(0,o.A)((function*(n){if(!c[n.eventid])try{c[n.eventid]=yield e.getRecord(i.Vl,{id:n.eventid})}catch{return}const r=c[n.eventid],o=n.time||a.WK;if(void 0===u[n.eventid])u[n.eventid]=[];else if(u[n.eventid].includes(o))return;u[n.eventid].push(o),yield v(e,r,o)}));return function(e){return n.apply(this,arguments)}}()));try{yield e.dropTable(n)}catch{}}));return function migrateFromCalendarRemindersV2(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.A)((function*(e,n,r){const o={component:i.QX,instanceId:n.id,type:n.eventtype,timebefore:r,url:n.url,title:n.name,time:n.timestart};yield e.insertRecord(c,o)}));return function createReminder(n,r,o){return e.apply(this,arguments)}}()},21604:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreReminders:()=>I,CoreRemindersService:()=>E});var o=r(10467),i=r(67935),s=r(52749),a=r(24742),c=r(79555),u=r(14422),p=r(18022),f=r(74431),g=r(85190),v=r(49882),C=r(49833),b=r(89312),w=r(71689),A=r(43959),_=r(54438);let E=(()=>{var e;class CoreRemindersService{constructor(){this.remindersTables=(0,C.$)((e=>(0,b.A)((()=>s.CoreSites.getSiteTable(u.$,{siteId:e,config:{cachingStrategy:w.T.None},onDestroy:()=>delete this.remindersTables[e]})))))}initialize(){var e=this;return(0,o.A)((function*(){e.isEnabled()&&(e.scheduleAllNotifications(),v.z.on(A.ny,function(){var n=(0,o.A)((function*(n){const r=(yield s.CoreSites.getSite(n.siteId)).getId();(yield e.getRemindersWithDefaultTime(r)).forEach((n=>e.scheduleNotification(n,r)))}));return function(e){return n.apply(this,arguments)}}()))}))()}isEnabled(){return!0}addReminder(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=s.CoreSites.getCurrentSiteId();const o=yield r.remindersTables[n].insert(e),i=Object.assign(e,{id:o});yield r.scheduleNotification(i,n)}))()}updateReminder(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=s.CoreSites.getCurrentSiteId(),yield r.remindersTables[n].update(e,{id:e.id}),yield r.scheduleNotification(e,n)}))()}updateReminders(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(r),a=yield i.getReminders(n,o.getId());yield Promise.all(a.map((n=>(n=Object.assign(n,e),i.updateReminder(n,o.getId())))))}))()}getAllReminders(e){var n=this;return(0,o.A)((function*(){return null!=e?e:e=s.CoreSites.getCurrentSiteId(),n.remindersTables[e].getMany(void 0,{sorting:[{time:"asc"}]})}))()}getReminders(e,n){var r=this;return(0,o.A)((function*(){return null!=n?n:n=s.CoreSites.getCurrentSiteId(),r.remindersTables[n].getMany(e,{sorting:[{time:"asc"}]})}))()}getRemindersWithDefaultTime(e){var n=this;return(0,o.A)((function*(){return null!=e?e:e=s.CoreSites.getCurrentSiteId(),n.remindersTables[e].getMany({timebefore:A.WK},{sorting:[{time:"asc"}]})}))()}removeReminder(e,n){var r=this;return(0,o.A)((function*(){null!=n?n:n=s.CoreSites.getCurrentSiteId();const o=yield r.remindersTables[n].getOneByPrimaryKey({id:e});r.isEnabled()&&r.cancelReminder(e,o.component,n),yield r.remindersTables[n].deleteByPrimaryKey({id:e})}))()}removeReminders(e,n){var r=this;return(0,o.A)((function*(){if(null!=n?n:n=s.CoreSites.getCurrentSiteId(),r.isEnabled()){(yield r.getReminders(e,n)).forEach((e=>{r.cancelReminder(e.id,e.component,n)}))}yield r.remindersTables[n].delete(e)}))()}cancelReminder(e,n,r){return(0,o.A)((function*(){return r=r||s.CoreSites.getCurrentSiteId(),i.CoreLocalNotifications.cancel(e,n,r)}))()}scheduleNotification(e,n){var r=this;return(0,o.A)((function*(){if(!r.isEnabled())return;n=n||s.CoreSites.getCurrentSiteId();const o=e.timebefore===A.WK?yield r.getDefaultNotificationTime(n):e.timebefore;if(o===A.Nc)return r.cancelReminder(e.id,e.component,n);const c=1e3*(e.time-o);if(c<=Date.now())return r.cancelReminder(e.id,e.component,n);const u={reminderId:e.id,instanceId:e.instanceId,siteId:n},p={id:e.id,title:e.title,text:a.j.userDate(1e3*e.time,"core.strftimedaydatetime",!0),icon:"file://assets/img/icons/calendar.png",trigger:{at:new Date(c)},data:u};return i.CoreLocalNotifications.schedule(p,e.component,n)}))()}scheduleAllNotifications(){var e=this;return(0,o.A)((function*(){if(yield p.CorePlatform.ready(),i.CoreLocalNotifications.isPluginAvailable())return;const n=yield s.CoreSites.getSitesIds();yield Promise.all(n.map((n=>(0,o.A)((function*(){(yield e.getAllReminders(n)).forEach((r=>{e.scheduleNotification(r,n)}))})))))}))()}getUnitValueLabel(e,n,r=!1){if(e===A.Nc)return c.HT.instant("core.settings.disabled");if(0===e)return c.HT.instant("core.reminders.atthetime");const o=c.HT.instant("core.reminders.timebefore",{units:c.HT.instant(1===e?A.AM.single[n]:A.AM.multi[n]),value:e});return r?c.HT.instant("core.defaultvalue",{$a:o}):o}static convertSecondsToValueAndUnit(e){return void 0===e||e<0?{value:A.Nc,unit:A._6.MINUTE}:0===e?{value:0,unit:A._6.MINUTE}:e%A._6.WEEK==0?{value:e/A._6.WEEK,unit:A._6.WEEK}:e%A._6.DAY==0?{value:e/A._6.DAY,unit:A._6.DAY}:e%A._6.HOUR==0?{value:e/A._6.HOUR,unit:A._6.HOUR}:{value:e/A._6.MINUTE,unit:A._6.MINUTE}}getDefaultNotificationTime(e){return(0,o.A)((function*(){e=e||s.CoreSites.getCurrentSiteId();return g.CoreConfig.get(`${A.dt}#${e}`,f.CoreConstants.CONFIG.calendarreminderdefaultvalue||3600)}))()}setDefaultNotificationTime(e,n){return(0,o.A)((function*(){n=n||s.CoreSites.getCurrentSiteId();const r=`${A.dt}#${n}`;yield g.CoreConfig.set(r,e),v.z.trigger(A.ny,{time:e},n)}))()}}return(e=CoreRemindersService).DEFAULT_REMINDER_TIMEBEFORE=A.WK,e.DISABLED=A.Nc,e.DEFAULT_NOTIFICATION_TIME_SETTING=A.dt,e.DEFAULT_NOTIFICATION_TIME_CHANGED=A.ny,e.ɵfac=function CoreRemindersService_Factory(n){return new(n||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreRemindersService})();const I=(0,c.Qd)(E)},42176:(e,n,r)=>{"use strict";r.d(n,{Pd:()=>u,RW:()=>p,Zn:()=>g});var o=r(10467),i=r(75629),s=r(52749),a=r(79555),c=r(54438);const u=20,p=20;let f=(()=>{var e;class CoreReportBuilderService{getReports(e,n){var r=this;return(0,o.A)((function*(){const o=s.CoreSites.getRequiredCurrentSite(),i={cacheKey:r.getReportBuilderCacheKey()};return(yield o.read("core_reportbuilder_list_reports",{page:e,perpage:n},i)).reports}))()}loadReport(e,n,r){var a=this;return(0,o.A)((function*(){var o;const c=s.CoreSites.getRequiredCurrentSite(),u={cacheKey:a.getReportBuilderReportCacheKey()},p=yield c.read("core_reportbuilder_retrieve_report",{reportid:e,page:n,perpage:r},u);if(!p)throw new i.CoreError("An error ocurred.");const f=p.details.settingsdata?JSON.parse(p.details.settingsdata):{},g={cardviewShowFirstTitle:1===f.cardview_showfirsttitle,cardviewVisibleColumns:null!==(o=f.cardview_visiblecolumns)&&void 0!==o?o:1};return{...p,details:{...p.details,settingsdata:g},data:{...p.data,rows:[...p.data.rows.map((e=>{var n;return{columns:e.columns,isExpanded:null!==(n=e.isExpanded)&&void 0!==n&&n}}))]}}}))()}viewReport(e){return(0,o.A)((function*(){const n=s.CoreSites.getRequiredCurrentSite();yield n.write("core_reportbuilder_view_report",{reportid:e})}))()}isEnabled(){return(0,o.A)((function*(){const e=s.CoreSites.getRequiredCurrentSite(),n=e.isVersionGreaterEqualThan("4.1"),r=e.canUseAdvancedFeature("enablecustomreports"),o=e.isFeatureDisabled("CoreReportBuilderDelegate");return n&&r&&!o}))()}invalidateReportsList(){var e=this;return(0,o.A)((function*(){const n=s.CoreSites.getRequiredCurrentSite();yield n.invalidateWsCacheForKey(e.getReportBuilderCacheKey())}))()}invalidateReport(){var e=this;return(0,o.A)((function*(){const n=s.CoreSites.getCurrentSite();n&&(yield n.invalidateWsCacheForKey(e.getReportBuilderReportCacheKey()))}))()}getReportBuilderCacheKey(){return`${CoreReportBuilderService.ROOT_CACHE_KEY}list`}getReportBuilderReportCacheKey(){return`${CoreReportBuilderService.ROOT_CACHE_KEY}report`}isString(e){return"string"==typeof e}}return(e=CoreReportBuilderService).ROOT_CACHE_KEY="mmaReportBuilder:",e.ɵfac=function CoreReportBuilderService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreReportBuilderService})();const g=(0,a.Qd)(f)},75312:(e,n,r)=>{"use strict";r.d(n,{W9:()=>I,KP:()=>getSearchExportedDirectives,hN:()=>getSearchServices});var o=r(10467),i=r(54438),s=r(16844),a=r(42858),c=r(95376),u=r(30432),p=r(52749),f=r(37762),g=r(33504),v=r(71112),C=r(89014),b=r(15324),w=r(79555);let A=(()=>{var e;class CoreSearchGlobalSearchLinkHandlerService extends v.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreSearchSearchLinkHandler",this.pattern=/\/search/}isEnabled(e){return(0,o.A)((function*(){return C.CoreSearchGlobalSearch.isEnabled(e)}))()}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){yield b.CoreNavigator.navigateToSitePath(u.fY,{siteId:e,params:{query:r.q}})})),function action(e){return i.apply(this,arguments)})}];var i}}return(e=CoreSearchGlobalSearchLinkHandlerService).ɵfac=(()=>{let n;return function CoreSearchGlobalSearchLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSearchGlobalSearchLinkHandlerService})();const _=(0,w.Qd)(A);function getSearchServices(){return _getSearchServices.apply(this,arguments)}function _getSearchServices(){return(_getSearchServices=(0,o.A)((function*(){const{CoreSearchHistoryProvider:e}=yield r.e(64254).then(r.bind(r,64254)),{CoreSearchGlobalSearchService:n}=yield Promise.resolve().then(r.bind(r,89014));return[e,n]}))).apply(this,arguments)}function getSearchExportedDirectives(){return _getSearchExportedDirectives.apply(this,arguments)}function _getSearchExportedDirectives(){return(_getSearchExportedDirectives=(0,o.A)((function*(){const{CoreSearchBoxComponent:e}=yield r.e(75357).then(r.bind(r,75357)),{CoreSearchGlobalSearchResultComponent:n}=yield r.e(4193).then(r.bind(r,4193));return[e,n]}))).apply(this,arguments)}const E=[{path:u.fY,loadChildren:()=>r.e(36678).then(r.bind(r,36678))}];let I=(()=>{var e;class CoreSearchModule{}return(e=CoreSearchModule).ɵfac=function CoreSearchModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:p.CORE_SITE_SCHEMAS,useValue:[f.em],multi:!0},{provide:i.hnV,multi:!0,useValue(){c.CoreMainMenuDelegate.registerHandler(u.Un.instance),g.CoreContentLinksDelegate.registerHandler(_.instance)}}],imports:[a.b.forChild(E),s.I.forChild({children:E})]}),CoreSearchModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(I,{imports:[a.b,s.I]}))},89014:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CORE_SEARCH_GLOBAL_SEARCH_FILTERS_UPDATED:()=>g,CORE_SEARCH_GLOBAL_SEARCH_PAGE_LENGTH:()=>f,CoreSearchGlobalSearch:()=>C,CoreSearchGlobalSearchService:()=>v});var o=r(10467),i=r(79555),s=r(52749),a=r(66110),c=r(98870),u=r(74431),p=r(54438);const f=10,g="core-search-global-search-filters-updated";let v=(()=>{var e;class CoreSearchGlobalSearchService{isEnabled(e){return(0,o.A)((function*(){const n=e?yield s.CoreSites.getSite(e):s.CoreSites.getRequiredCurrentSite();return!(null!=n&&n.isFeatureDisabled("NoDelegate_GlobalSearch"))&&(null==n?void 0:n.wsAvailable("core_search_get_results"))&&(null==n?void 0:n.canUseAdvancedFeature("enableglobalsearch"))}))()}getResults(e,n,r){var i=this;return(0,o.A)((function*(){if(i.filtersYieldEmptyResults(n))return{results:[],total:0,canLoadMore:!1};const o=s.CoreSites.getRequiredCurrentSite(),a={query:e,page:r,filters:yield i.prepareAdvancedWSFilters(n)},c=s.CoreSites.getReadingStrategyPreSets(3),{totalcount:u,results:p}=yield o.read("core_search_get_results",a,c);return{results:yield Promise.all((null!=p?p:[]).map((e=>i.formatWSResult(e)))),total:u,canLoadMore:u>(r+1)*f}}))()}getSearchAreas(){return(0,o.A)((function*(){const e=s.CoreSites.getRequiredCurrentSite(),{areas:n}=yield e.read("core_search_get_search_areas_list",{},{updateFrequency:u.CoreCacheUpdateFrequency.RARELY,cacheKey:CoreSearchGlobalSearchService.SEARCH_AREAS_CACHE_KEY});return n.map((e=>({id:e.id,name:e.name,category:{id:e.categoryid,name:e.categoryname}})))}))()}invalidateSearchAreas(){return(0,o.A)((function*(){const e=s.CoreSites.getRequiredCurrentSite();yield e.invalidateWsCacheForKey(CoreSearchGlobalSearchService.SEARCH_AREAS_CACHE_KEY)}))()}logViewResults(e,n){var r=this;return(0,o.A)((function*(){const o=s.CoreSites.getRequiredCurrentSite(),i={query:e,filters:yield r.prepareBasicWSFilters(n)};yield o.write("core_search_view_results",i)}))()}formatWSResult(e){return(0,o.A)((function*(){const n={id:e.itemid,title:e.title,url:e.docurl,content:e.content};if("core_user"===e.componentname){const r=yield c.CoreUser.getProfile(e.itemid);n.user=r}else if("core_course"===e.componentname&&"course"===e.areaname){const r=yield a.CoreCourses.getCourseByField("id",e.itemid);n.course=r}else(e.userfullname||e.coursefullname)&&(n.context={userName:e.userfullname,courseName:e.coursefullname}),e.iconurl&&(e.componentname.startsWith("mod_")?n.module={name:e.componentname.substring(4),iconurl:e.iconurl,area:e.areaname}:n.component={name:e.componentname,iconurl:e.iconurl});return n}))()}filtersYieldEmptyResults(e){var n,r,o,i;return 0===(null===(n=e.courseIds)||void 0===n?void 0:n.length)||0===(null===(r=e.contextIds)||void 0===r?void 0:r.length)||0===(null===(o=e.searchAreaIds)||void 0===o?void 0:o.length)||0===(null===(i=e.searchAreaCategoryIds)||void 0===i?void 0:i.length)}prepareBasicWSFilters(e){var n=this;return(0,o.A)((function*(){const r={};if(e.courseIds&&(r.courseids=e.courseIds),e.searchAreaIds&&(r.areaids=e.searchAreaIds),e.searchAreaCategoryIds){const o=yield n.getSearchAreas();r.areaids=o.filter((({id:n,category:r})=>{var o;return!(e.searchAreaIds&&!e.searchAreaIds.includes(n))&&(null===(o=e.searchAreaCategoryIds)||void 0===o?void 0:o.includes(r.id))})).map((({id:e})=>e))}return r}))()}prepareAdvancedWSFilters(e){var n=this;return(0,o.A)((function*(){const r=yield n.prepareBasicWSFilters(e);return e.contextIds&&(r.contextids=e.contextIds),r}))()}}return(e=CoreSearchGlobalSearchService).SEARCH_AREAS_CACHE_KEY="CoreSearchGlobalSearch:SearchAreas",e.ɵfac=function CoreSearchGlobalSearchService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSearchGlobalSearchService})();const C=(0,i.Qd)(v)},30432:(e,n,r)=>{"use strict";r.d(n,{Un:()=>p,fY:()=>c});var o=r(10467),i=r(79555),s=r(89014),a=r(54438);const c="search";let u=(()=>{var e;class CoreSearchMainMenuHandlerService{constructor(){this.name="CoreSearch",this.priority=575}isEnabled(){return(0,o.A)((function*(){return s.CoreSearchGlobalSearch.isEnabled()}))()}getDisplayData(){return{icon:"fas-magnifying-glass",title:"core.search.globalsearch",page:c,class:"core-search-handler"}}}return(e=CoreSearchMainMenuHandlerService).ɵfac=function CoreSearchMainMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSearchMainMenuHandlerService})();const p=(0,i.Qd)(u)},37762:(e,n,r)=>{"use strict";r.d(n,{Ph:()=>i,em:()=>s,lG:()=>o});const o="seach_history",i=["searcharea","searchedtext"],s={name:"CoreSearchHistoryProvider",version:1,tables:[{name:o,columns:[{name:"searcharea",type:"TEXT",notNull:!0},{name:"lastused",type:"INTEGER",notNull:!0},{name:"times",type:"INTEGER",notNull:!0},{name:"searchedtext",type:"TEXT",notNull:!0}],primaryKeys:[...i]}]}},63196:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSettingsDelegate:()=>c,CoreSettingsDelegateService:()=>a});var o=r(61648),i=r(79555),s=r(54438);let a=(()=>{var e;class CoreSettingsDelegateService extends o.E{constructor(){super("CoreSettingsDelegate")}}return(e=CoreSettingsDelegateService).ɵfac=function CoreSettingsDelegateService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSettingsDelegateService})();const c=(0,i.Qd)(a)},87455:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSettingsHelper:()=>F,CoreSettingsHelperProvider:()=>x});var o=r(10467),i=r(36358),s=r(94455),a=r(26135),c=r(49882),u=r(88793),p=r(52749),f=r(55554),g=r(74431),v=r(85190),C=r(7310),b=r(23803),w=r(79555),A=r(75629),_=r(21413),E=r(49588),I=r(15324),T=r(19483),P=r(25572),k=r(54438);let x=(()=>{var e;class CoreSettingsHelperProvider{constructor(){this.syncPromises={},this.colorSchemes=[],this.currentColorScheme="light",this.darkModeObservable=new _.B}initialize(){var e=this;return(0,o.A)((function*(){if(e.prefersDark=window.matchMedia("(prefers-color-scheme: dark)"),g.CoreConstants.CONFIG.forceColorScheme)e.initColorScheme();else{const applySiteScheme=()=>{e.isColorSchemeDisabledInSite()?e.setColorScheme("light"):e.initColorScheme()};c.z.on(c.z.LOGIN,(()=>applySiteScheme())),c.z.on(c.z.SITE_UPDATED,(()=>applySiteScheme())),c.z.on(c.z.LOGOUT,(()=>{e.initColorScheme()}))}e.prefersDark.addEventListener&&e.prefersDark.addEventListener("change",(()=>{e.setColorScheme(e.currentColorScheme)})),yield e.upgradeZoomLevel(),e.initDomSettings()}))()}deleteSiteStorage(e,n){var r=this;return(0,o.A)((function*(){const i={cacheEntries:0,spaceUsage:0};e=yield C.CoreFilter.formatText(e,{clean:!0,singleLine:!0,filter:!1},[],n);const s=w.HT.instant("addon.storagemanager.confirmdeleteallsitedata");yield P.CoreAlerts.confirmDelete(w.HT.instant("addon.storagemanager.deleteallsitedatainfo",{name:e}),{header:s});const a=yield p.CoreSites.getSite(n),f=p.CoreSites.getSiteTableSchemasToClear(a).map((e=>a.getDb().deleteRecords(e)));return f.push(a.deleteFolder().then((()=>{u.CoreFilepool.clearAllPackagesStatus(n),u.CoreFilepool.clearFilepool(n),b.CoreCourseDownloadStatusHelper.clearAllCoursesStatus(n),i.spaceUsage=0})).catch(function(){var e=(0,o.A)((function*(e){e&&e.code===FileError.NOT_FOUND_ERR?(u.CoreFilepool.clearAllPackagesStatus(n),i.spaceUsage=0):(P.CoreAlerts.showError(w.HT.instant("addon.storagemanager.errordeletedownloadeddata")),i.spaceUsage=yield a.getSpaceUsage())}));return function(n){return e.apply(this,arguments)}}()).then((0,o.A)((function*(){c.z.trigger(c.z.SITE_STORAGE_DELETED,{},n),i.cacheEntries=yield r.calcSiteClearRows(a)})))),yield Promise.all(f),i}))()}getSiteSpaceUsage(e){var n=this;return(0,o.A)((function*(){const r=yield p.CoreSites.getSite(e),o={cacheEntries:0,spaceUsage:0};return o.cacheEntries=yield f.g.ignoreErrors(n.calcSiteClearRows(r),0),o.spaceUsage=yield f.g.ignoreErrors(r.getTotalUsage(),0),o}))()}calcSiteClearRows(e){return(0,o.A)((function*(){const n=p.CoreSites.getSiteTableSchemasToClear(e);let r=0;return yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){return r=(yield e.getDb().countRecords(n))+r}));return function(e){return n.apply(this,arguments)}}())),r}))()}getSiteSyncPromise(e){if(void 0!==this.syncPromises[e])return this.syncPromises[e]}synchronizeSite(e,n){var r=this;return(0,o.A)((function*(){if(void 0!==r.syncPromises[n])return r.syncPromises[n];const o=yield p.CoreSites.getSite(n),i=a.CoreCronDelegate.hasManualSyncHandlers();if(o.isLoggedOut())throw new A.CoreError(w.HT.instant("core.settings.cannotsyncloggedout"));if(i&&!s.WE.isOnline())throw new A.CoreError(w.HT.instant("core.settings.cannotsyncoffline"));if(i&&e&&s.WE.isNetworkAccessLimited())throw new A.CoreError(w.HT.instant("core.settings.cannotsyncwithoutwifi"));const c=Promise.all([f.g.ignoreErrors(u.CoreFilepool.invalidateAllFiles(n)),o.invalidateWsCache(),p.CoreSites.updateSiteInfo(o.getId()),a.CoreCronDelegate.forceSyncExecution(o.getId())]).then((()=>{}));r.syncPromises[n]=c;try{yield c}catch(e){throw E.CoreErrorHelper.addTitleToError(e,w.HT.instant("core.settings.sitesyncfailed"))}finally{delete r.syncPromises[n]}}))()}upgradeZoomLevel(){return(0,o.A)((function*(){try{const e=yield v.CoreConfig.get("CoreSettingsFontSize");if(void 0===e)return;v.CoreConfig.set(g.CoreConstants.SETTINGS_ZOOM_LEVEL,"none"),e<100&&(e>90?v.CoreConfig.set(g.CoreConstants.SETTINGS_ZOOM_LEVEL,"high"):e>70&&v.CoreConfig.set(g.CoreConstants.SETTINGS_ZOOM_LEVEL,"medium")),v.CoreConfig.delete("CoreSettingsFontSize")}catch{return}}))()}getZoomLevel(){return(0,o.A)((function*(){return v.CoreConfig.get(g.CoreConstants.SETTINGS_ZOOM_LEVEL,g.CoreConstants.CONFIG.defaultZoomLevel)}))()}getZoom(){var e=this;return(0,o.A)((function*(){const n=yield e.getZoomLevel();return g.CoreConstants.CONFIG.zoomlevels[n]}))()}getPinchToZoom(){return(0,o.A)((function*(){return Boolean(yield v.CoreConfig.get(g.CoreConstants.SETTINGS_PINCH_TO_ZOOM,0))}))()}initDomSettings(){var e=this;return(0,o.A)((function*(){const n=yield e.getZoomLevel(),r=yield e.getPinchToZoom();e.applyZoomLevel(n),e.applyPinchToZoom(r),e.initColorScheme()}))()}initColorScheme(){var e=this;return(0,o.A)((function*(){if(g.CoreConstants.CONFIG.forceColorScheme)e.setColorScheme(g.CoreConstants.CONFIG.forceColorScheme);else{const n=yield v.CoreConfig.get(g.CoreConstants.SETTINGS_COLOR_SCHEME,"light");e.setColorScheme(n)}}))()}isColorSchemeDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield p.CoreSites.getSite(e);return n.isColorSchemeDisabledInSite(r)}))()}isColorSchemeDisabledInSite(e){return!!(e=e||p.CoreSites.getCurrentSite())&&e.isFeatureDisabled("NoDelegate_DarkMode")}applyZoomLevel(e){document.documentElement.style.setProperty("--zoom-level",`${g.CoreConstants.CONFIG.zoomlevels[e]}%`)}applyPinchToZoom(e){const n=document.head.querySelector("meta[name=viewport]");if(!n)return;const r=n.getAttribute("content");r&&(n.setAttribute("content",r.replace(/maximum-scale=\d\.\d/,"maximum-scale="+(e?"4.0":"1.0"))),document.body.style.width="99.9999%",setTimeout((()=>{document.body.style.width=""})))}getAllowedColorSchemes(){return this.colorSchemes.length>0||(g.CoreConstants.CONFIG.forceColorScheme?this.colorSchemes=[g.CoreConstants.CONFIG.forceColorScheme]:(this.colorSchemes.push("light"),this.colorSchemes.push("dark"),this.canIUsePrefersColorScheme()&&this.colorSchemes.push("system"))),this.colorSchemes}setColorScheme(e){this.currentColorScheme=e,this.toggleDarkMode("system"==e&&this.prefersDark?this.prefersDark.matches:"dark"==e)}canIUsePrefersColorScheme(){return"not all"!==window.matchMedia("(prefers-color-scheme)").media}isDarkModeEnabled(){return T.n.hasModeClass("dark")}toggleDarkMode(e=!1){this.isDarkModeEnabled()!==e&&(T.n.toggleModeClass("dark",e),this.darkModeObservable.next(e),i.CoreApp.setSystemUIColors())}onDarkModeChange(){return this.darkModeObservable}hasEnabledStagingSites(){return(0,o.A)((function*(){return!!(yield v.CoreConfig.get("stagingSites",0))}))()}setEnabledStagingSites(e){return(0,o.A)((function*(){const n=!p.CoreSites.isLoggedIn();n&&(yield P.CoreAlerts.confirm("Are you sure that you want to enable/disable staging sites?")),yield v.CoreConfig.set("stagingSites",e?1:0),n&&(yield I.CoreNavigator.navigate("/"),window.location.reload())}))()}}return(e=CoreSettingsHelperProvider).ɵfac=function CoreSettingsHelperProvider_Factory(n){return new(n||e)},e.ɵprov=k.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSettingsHelperProvider})();const F=(0,w.Qd)(x)},49450:(e,n,r)=>{"use strict";r.d(n,{h:()=>a,o:()=>resolveSiteRoutes});var o=r(54438),i=r(94114);const s=new o.nKC("SITE_PREFERENCES_ROUTES");function resolveSiteRoutes(e){return(0,i.b1)(e,s)}let a=(()=>{var e;class CoreSitePreferencesRoutingModule{static forChild(e){return{ngModule:CoreSitePreferencesRoutingModule,providers:[{provide:s,multi:!0,useValue:e}]}}}return(e=CoreSitePreferencesRoutingModule).ɵfac=function CoreSitePreferencesRoutingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({}),CoreSitePreferencesRoutingModule})()},42599:(e,n,r)=>{"use strict";r.d(n,{J:()=>_,g:()=>getSettingsServices});var o=r(10467),i=r(54438),s=r(94114),a=r(42858),c=r(87455),u=r(33984),p=r(90193),f=r(93417);function getSettingsServices(){return _getSettingsServices.apply(this,arguments)}function _getSettingsServices(){return(_getSettingsServices=(0,o.A)((function*(){const{CoreSettingsDelegateService:e}=yield Promise.resolve().then(r.bind(r,63196)),{CoreSettingsHelperProvider:n}=yield Promise.resolve().then(r.bind(r,87455));return[e,n]}))).apply(this,arguments)}const g=[{path:"general",loadComponent:()=>r.e(1026).then(r.bind(r,1026))},{path:"spaceusage",loadComponent:()=>r.e(83890).then(r.bind(r,83890))},{path:"sync",loadComponent:()=>r.e(30054).then(r.bind(r,30054))},{path:u.p,loadChildren:()=>(0,p.Bf)()}],v=[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(42110)]).then(r.bind(r,42110))},...g],C=[{path:"",loadComponent:()=>Promise.all([r.e(33285),r.e(42110)]).then(r.bind(r,42110)),loadChildren:()=>[{path:"",pathMatch:"full",redirectTo:"general"},...g]}],b=[...(0,s.VI)(v,(()=>f.CoreScreen.isMobile)),...(0,s.VI)(C,(()=>f.CoreScreen.isTablet)),{path:"about/deviceinfo",loadComponent:()=>r.e(4772).then(r.bind(r,4772))},{path:"about/deviceinfo/dev",loadComponent:()=>r.e(95350).then(r.bind(r,95350))},{path:"about/deviceinfo/dev/error-log",loadComponent:()=>r.e(8126).then(r.bind(r,8126))},{path:"about/licenses",loadComponent:()=>r.e(89588).then(r.bind(r,89588))}],w=[{path:"settings",loadChildren:()=>b}],A=[{path:"settings",loadChildren:()=>b},{path:"preferences",loadChildren:()=>r.e(62876).then(r.bind(r,62876))}];let _=(()=>{var e;class CoreSettingsModule{}return(e=CoreSettingsModule).ɵfac=function CoreSettingsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>c.CoreSettingsHelper.initialize()}],imports:[s.uH.forChild(w),a.b.forChild(A)]}),CoreSettingsModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(_,{imports:[s.uH,a.b]}))},33984:(e,n,r)=>{"use strict";r.d(n,{p:()=>o});const o="sharedfiles"},16869:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>_});var o=r(10467),i=r(82461),s=r(45331),a=r(45507),c=r(15324),u=r(87809),p=r(25572),f=r(86654),g=r(54438),v=r(2910),C=r(64422),b=r(69418),w=r(88246),A=r(73955);let _=(()=>{var e;class CoreSharedFilesChooseSitePage{constructor(){this.loaded=!1,this.accountsList={sameSite:[],otherSites:[],count:0},this.isInbox=!1}ngOnInit(){var e=this;return(0,o.A)((function*(){try{e.filePath=c.CoreNavigator.getRequiredRouteParam("filePath"),e.isInbox=!!c.CoreNavigator.getRouteBooleanParam("isInbox")}catch(e){return p.CoreAlerts.showError(e,{default:"Error reading file."}),c.CoreNavigator.back(),void 0}if(e.filePath){const n=u.H.getFileAndDirectoryFromPath(e.filePath);e.fileName=n.name}try{yield Promise.all([e.loadFile(),e.loadSites()])}catch{p.CoreAlerts.showError("Error reading file."),c.CoreNavigator.back()}finally{e.loaded=!0}}))()}loadFile(){var e=this;return(0,o.A)((function*(){e.filePath&&(e.fileEntry=yield a.CoreFile.getExternalFile(e.filePath),e.fileName=e.fileEntry.name)}))()}loadSites(){var e=this;return(0,o.A)((function*(){e.accountsList=yield i.CoreLoginHelper.getAccountsList()}))()}storeInSite(e){var n=this;return(0,o.A)((function*(){if(n.fileEntry){n.loaded=!1;try{yield s.CoreSharedFilesHelper.storeSharedFileInSite(n.fileEntry,e.id,n.isInbox),c.CoreNavigator.back()}finally{n.loaded=!0}}}))()}}return(e=CoreSharedFilesChooseSitePage).ɵfac=function CoreSharedFilesChooseSitePage_Factory(n){return new(n||e)},e.ɵcmp=g.VBU({type:e,selectors:[["page-core-shared-files-choose-site"]],standalone:!0,features:[g.aNF],decls:20,vars:13,consts:[["slot","start"],[3,"text"],["placeholderType","column","placeholderHeight","48px",3,"hideUntil"],[1,"ion-text-wrap"],[3,"onSiteClicked","accountsList","sitesClickable"]],template:function CoreSharedFilesChooseSitePage_Template(e,n){1&e&&(g.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),g.nrm(3,"ion-back-button",1),g.nI1(4,"translate"),g.k0s(),g.j41(5,"ion-title")(6,"h1"),g.EFF(7),g.nI1(8,"translate"),g.k0s()()()(),g.j41(9,"ion-content")(10,"core-loading",2)(11,"ion-list")(12,"ion-item",3)(13,"ion-label")(14,"h2"),g.EFF(15),g.nI1(16,"translate"),g.k0s(),g.j41(17,"p"),g.EFF(18),g.k0s()()(),g.j41(19,"core-sites-list",4),g.bIt("onSiteClicked",(function CoreSharedFilesChooseSitePage_Template_core_sites_list_onSiteClicked_19_listener(e){return n.storeInSite(e)})),g.k0s()()()()),2&e&&(g.R7$(3),g.Y8G("text",g.bMT(4,7,"core.back")),g.R7$(4),g.JRh(g.bMT(8,9,"core.sharedfiles.sharedfiles")),g.R7$(3),g.Y8G("hideUntil",n.loaded),g.R7$(5),g.JRh(g.bMT(16,11,"core.sharedfiles.chooseaccountstorefile")),g.R7$(3),g.JRh(n.fileName),g.R7$(),g.Y8G("accountsList",n.accountsList)("sitesClickable",!0))},dependencies:[f.n,v.QW,v.W9,v.eU,v.uz,v.he,v.nf,v.BC,v.ai,v.el,C.R,b.L,w.i,A.D9],encapsulation:2}),CoreSharedFilesChooseSitePage})()},45331:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSharedFilesHelper:()=>P,CoreSharedFilesHelperProvider:()=>T});var o=r(10467),i=r(63508),s=r(16082),a=r(45507),c=r(15324),u=r(52749),p=r(79555),f=r(49882),g=r(6787),v=r(3031),C=r(33984),b=r(16869),w=r(75629),A=r(18022),_=r(93589),E=r(25572),I=r(54438);let T=(()=>{var e;class CoreSharedFilesHelperProvider{constructor(){this.logger=g.CoreLogger.getInstance("CoreSharedFilesHelperProvider")}initialize(){if(!A.CorePlatform.isIOS())return;let e=Date.now();this.searchIOSNewSharedFiles(),A.CorePlatform.resume.subscribe((()=>{setTimeout((()=>{Date.now()-e<1e3||(e=Date.now(),this.searchIOSNewSharedFiles())}),200)})),f.z.on(f.z.APP_LAUNCHED_URL,(n=>{0===n.url.indexOf("file://")&&(e=Date.now(),this.searchIOSNewSharedFiles(n.url))}))}askRenameReplace(e,n){return(0,o.A)((function*(){const r=yield p.hG.create({header:p.HT.instant("core.sharedfiles.sharedfiles"),message:p.HT.instant("core.sharedfiles.chooseactionrepeatedfile",{$a:n}),buttons:[{text:p.HT.instant("core.sharedfiles.rename"),role:"rename"},{text:p.HT.instant("core.sharedfiles.replace"),role:"replace"}]});yield r.present();const o=yield r.onDidDismiss();if("rename"===o.role)return n;if("replace"===o.role)return e;throw new i.CoreCanceledError}))()}goToChooseSite(e,n){u.CoreSites.isLoggedIn()?c.CoreNavigator.navigateToSitePath(`/${C.p}/choosesite`,{params:{filePath:e,isInbox:n}}):c.CoreNavigator.navigate(`/${C.p}/choosesite`,{params:{filePath:e,isInbox:n}})}isChoosingSite(){return null!==c.CoreNavigator.getCurrentRoute({pageComponent:b.default})}pickSharedFile(e){return(0,o.A)((function*(){const{CoreSharedFilesListModalComponent:n}=yield Promise.all([r.e(72076),r.e(34399)]).then(r.bind(r,34399)),o=yield _.I.openModal({component:n,cssClass:"core-modal-fullscreen",componentProps:{mimetypes:e,pick:!0}});if(!o)throw new i.CoreCanceledError;const a=s.CoreFileUploader.isInvalidMimetype(e,o.fullPath);if(a)throw new w.CoreError(a);return{path:o.fullPath,treated:!1}}))()}removeSharedFile(e,n){return n?v.CoreSharedFiles.deleteInboxFile(e):a.CoreFile.removeFileByFileEntry(e)}searchIOSNewSharedFiles(e){var n=this;return(0,o.A)((function*(){try{if(yield p.b0.donePromise,n.isChoosingSite())return;let r;if(r=e?yield a.CoreFile.getExternalFile(e):yield v.CoreSharedFiles.checkIOSNewFiles(),!r)return;const o=yield u.CoreSites.getSitesIds();if(!o.length)return E.CoreAlerts.showError(p.HT.instant("core.sharedfiles.errorreceivefilenosites")),n.removeSharedFile(r,!e);if(1==o.length)return n.storeSharedFileInSite(r,o[0],!e);n.isChoosingSite()||n.goToChooseSite(a.CoreFile.getFileEntryURL(r),!e)}catch(r){r&&n.logger.error("Error searching iOS new shared files",r,e)}}))()}storeSharedFileInSite(e,n,r){var i=this;return(0,o.A)((function*(){n=n||u.CoreSites.getCurrentSiteId();const o=v.CoreSharedFiles.getSiteSharedFilesDirPath(n);let s=yield a.CoreFile.getUniqueNameInFolder(o,e.name);s.toLowerCase()!=e.name.toLowerCase()&&(s=yield i.askRenameReplace(e.name,s));try{yield v.CoreSharedFiles.storeFileInSite(e,s,n)}catch(e){E.CoreAlerts.showError(e||"Error moving file.")}finally{i.removeSharedFile(e,r),E.CoreAlerts.show({header:p.HT.instant("core.success"),message:p.HT.instant("core.sharedfiles.successstorefile")})}}))()}}return(e=CoreSharedFilesHelperProvider).ɵfac=function CoreSharedFilesHelperProvider_Factory(n){return new(n||e)},e.ɵprov=I.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSharedFilesHelperProvider})();const P=(0,p.Qd)(T)},3031:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSharedFiles:()=>T,CoreSharedFilesProvider:()=>I});var o=r(10467),i=r(89377),s=r(6787),a=r(89632),c=r(45507),u=r(55554),p=r(12364),f=r(52749),g=r(49882),v=r(79555);const C="shared_files",b={name:"CoreSharedFilesProvider",version:1,tables:[{name:C,columns:[{name:"id",type:"TEXT",primaryKey:!0}]}]};var w=r(8756),A=r(89312),_=r(71689),E=r(54438);let I=(()=>{var e;class CoreSharedFilesProvider{constructor(){this.sharedFilesTable=(0,A.A)(),this.logger=s.CoreLogger.getInstance("CoreSharedFilesProvider")}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield a.CoreAppDB.createTablesFromSchema(b);const n=a.CoreAppDB.getDB(),r=new _.D({cachingStrategy:_.T.None},n,C);yield r.initialize(),e.sharedFilesTable.setInstance(r)}))()}checkIOSNewFiles(){var e=this;return(0,o.A)((function*(){e.logger.debug("Search for new files on iOS");const n=yield u.g.ignoreErrors(c.CoreFile.getDirectoryContents("Inbox"));if(!n||!n.length)return;let r;for(let o=0;o<n.length;o++){if(n[o].isDirectory)continue;const i=n[o],s=e.getFileId(i);try{yield e.isFileTreated(s),e.deleteInboxFile(i)}catch{e.logger.debug(`Found new file ${i.name} shared with the app.`),r=i;break}}if(!r)return;const o=e.getFileId(r);return yield e.markAsTreated(o),e.logger.debug(`File marked as "treated": ${r.name}`),r}))()}deleteInboxFile(e){var n=this;return(0,o.A)((function*(){n.logger.debug(`Delete inbox file: ${e.name}`),yield u.g.ignoreErrors(c.CoreFile.removeFileByFileEntry(e));try{yield n.unmarkAsTreated(n.getFileId(e)),n.logger.debug(`"Treated" mark removed from file: ${e.name}`)}catch(r){throw n.logger.debug(`Error deleting "treated" mark from file: ${e.name}`,r),r}}))()}getFileId(e){return i.V.hashAsciiStr(e.name)}getSiteSharedFiles(e,n,r){var i=this;return(0,o.A)((function*(){let o=i.getSiteSharedFilesDirPath(e);n&&(o=w.$.concatenatePaths(o,n));try{let e=yield c.CoreFile.getDirectoryContents(o);return r&&(e=e.filter((e=>{const n=p.A.getFileExtension(e.name),o=p.A.getMimeType(n);return!o||r.indexOf(o)>-1}))),e}catch{return[]}}))()}getSiteSharedFilesDirPath(e){return e=e||f.CoreSites.getCurrentSiteId(),`${c.CoreFile.getSiteFolder(e)}/${CoreSharedFilesProvider.SHARED_FILES_FOLDER}`}isFileTreated(e){var n=this;return(0,o.A)((function*(){return yield n.sharedFilesTable.getOneByPrimaryKey({id:e})}))()}markAsTreated(e){var n=this;return(0,o.A)((function*(){try{yield n.isFileTreated(e)}catch(r){yield n.sharedFilesTable.insert({id:e})}}))()}storeFileInSite(e,n,r){var i=this;return(0,o.A)((function*(){if(r=r||f.CoreSites.getCurrentSiteId(),!e||!r)return;n=n||e.name;const o=i.getSiteSharedFilesDirPath(r),s=w.$.concatenatePaths(o,n);yield c.CoreFile.createDir(o);const a=yield c.CoreFile.moveExternalFile(c.CoreFile.getFileEntryURL(e),s);return g.z.trigger(g.z.FILE_SHARED,{siteId:r,name:n}),a}))()}unmarkAsTreated(e){var n=this;return(0,o.A)((function*(){yield n.sharedFilesTable.deleteByPrimaryKey({id:e})}))()}}return(e=CoreSharedFilesProvider).SHARED_FILES_FOLDER="sharedfiles",e.ɵfac=function CoreSharedFilesProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSharedFilesProvider})();const T=(0,v.Qd)(I)},90193:(e,n,r)=>{"use strict";r.d(n,{Yi:()=>T,Bf:()=>getSharedFilesRoutes,Ri:()=>getSharedFilesServices});var o=r(10467),i=r(94114),s=r(54438),a=r(71212),c=r(42858),u=r(49450),p=r(63196),f=r(33984),g=r(18022),v=r(79555);let C=(()=>{var e;class CoreSharedFilesSettingsHandlerService{constructor(){this.name="CoreSharedFiles",this.priority=200}isEnabled(){return(0,o.A)((function*(){return g.CorePlatform.isIOS()}))()}getDisplayData(){return{icon:"fas-folder",title:"core.sharedfiles.sharedfiles",page:`${f.p}/list/root`,params:{manage:!0,hideSitePicker:!0},class:"core-sharedfiles-settings-handler"}}}return(e=CoreSharedFilesSettingsHandlerService).ɵfac=function CoreSharedFilesSettingsHandlerService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSharedFilesSettingsHandlerService})();const b=(0,v.Qd)(C);var w=r(45331);let A=(()=>{var e;class CoreSharedFilesUploadHandlerService{constructor(){this.name="CoreSharedFilesUpload",this.priority=1300}isEnabled(){return(0,o.A)((function*(){return g.CorePlatform.isIOS()}))()}getSupportedMimetypes(e){return e}getData(){return{title:"core.sharedfiles.sharedfiles",class:"core-sharedfiles-fileuploader-handler",icon:"fas-folder",action:(e,n,r,o)=>w.CoreSharedFilesHelper.pickSharedFile(o)}}}return(e=CoreSharedFilesUploadHandlerService).ɵfac=function CoreSharedFilesUploadHandlerService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSharedFilesUploadHandlerService})();const _=(0,v.Qd)(A);var E=r(3031);function getSharedFilesServices(){return _getSharedFilesServices.apply(this,arguments)}function _getSharedFilesServices(){return(_getSharedFilesServices=(0,o.A)((function*(){const{CoreSharedFilesProvider:e}=yield Promise.resolve().then(r.bind(r,3031)),{CoreSharedFilesHelperProvider:n}=yield Promise.resolve().then(r.bind(r,45331));return[e,n]}))).apply(this,arguments)}function getSharedFilesRoutes(){return[{path:"choosesite",loadComponent:()=>Promise.resolve().then(r.bind(r,16869))},{path:"list/:hash",loadComponent:()=>Promise.all([r.e(72076),r.e(35131)]).then(r.bind(r,35131))}]}const I=[{path:f.p,loadChildren:()=>getSharedFilesRoutes()}];let T=(()=>{var e,n;class CoreSharedFilesModule{}return(e=CoreSharedFilesModule).ɵfac=function CoreSharedFilesModule_Factory(n){return new(n||e)},e.ɵmod=s.$C({type:e}),e.ɵinj=s.G2t({providers:[{provide:s.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){a.CoreFileUploaderDelegate.registerHandler(_.instance),p.CoreSettingsDelegate.registerHandler(b.instance),w.CoreSharedFilesHelper.initialize(),yield E.CoreSharedFiles.initializeDatabase()})),function useValue(){return n.apply(this,arguments)})}],imports:[i.uH.forChild(I),c.b.forChild(I),u.h.forChild(I)]}),CoreSharedFilesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&s.Obh(T,{imports:[i.uH,c.b,u.h]}))},39378:(e,n,r)=>{"use strict";r.d(n,{j:()=>o});const o="site"},55468:(e,n,r)=>{"use strict";r.d(n,{$:()=>g});var o=r(10467),i=r(52749),s=r(70526),a=r(79555),c=r(50552),u=r(39378),p=r(54438);let f=(()=>{var e;class CoreSiteHomeHomeHandlerService{constructor(){this.name="CoreSiteHomeDashboard",this.priority=1100}isEnabled(){return this.isEnabledForSite()}isEnabledForSite(e){return(0,o.A)((function*(){return s.CoreSiteHome.isAvailable(e)}))()}getDisplayData(){var e;const n=i.CoreSites.getCurrentSite(),r=(null==n?void 0:n.getInfo())&&(null==n||null===(e=n.getInfo())||void 0===e?void 0:e.userhomepage)===c.YG.HOMEPAGE_SITE;return{title:"core.sitehome.sitehome",page:u.j,class:"core-sitehome-dashboard-handler",icon:"fas-house",priority:r?this.priority+200:this.priority}}}return(e=CoreSiteHomeHomeHandlerService).ɵfac=function CoreSiteHomeHomeHandlerService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSiteHomeHomeHandlerService})();const g=(0,a.Qd)(f)},70526:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSiteHome:()=>C,CoreSiteHomeProvider:()=>v,FrontPageItemNames:()=>g});var o=r(10467),i=r(52749),s=r(79555),a=r(44682),c=r(66110),u=r(75629),p=r(63561),f=r(54438),g=function(e){return e[e.NEWS_ITEMS=0]="NEWS_ITEMS",e[e.LIST_OF_CATEGORIES=2]="LIST_OF_CATEGORIES",e[e.COMBO_LIST=4]="COMBO_LIST",e[e.ENROLLED_COURSES=5]="ENROLLED_COURSES",e[e.LIST_OF_COURSE=6]="LIST_OF_COURSE",e[e.COURSE_SEARCH_BOX=7]="COURSE_SEARCH_BOX",e}(g||{});let v=(()=>{var e;class CoreSiteHomeProvider{getNewsForum(e){return(0,o.A)((function*(){e||(e=i.CoreSites.getCurrentSiteHomeId());const{AddonModForum:n}=yield Promise.resolve().then(r.bind(r,16179)),o=(yield n.getCourseForums(e)).find((e=>"news"==e.type));if(o)return o;throw new u.CoreError("No news forum found")}))()}invalidateNewsForum(e){return(0,o.A)((function*(){const{AddonModForum:n}=yield Promise.resolve().then(r.bind(r,16179));yield n.invalidateForumData(e)}))()}isAvailable(e){var n=this;return(0,o.A)((function*(){try{const r=yield i.CoreSites.getSite(e);if(n.isDisabledInSite(r))return!1;const o=r.getSiteHomeId(),s={emergencyCache:!1};try{const e=yield a.CoreCourse.getSections(o,!1,!0,s,r.id);if(!e||!e.length)throw Error("No sections found");const n=e.some((e=>e.summary||e.contents.length)),i=yield p.CoreBlockHelper.hasCourseBlocks(o);if(n||i)return!0}catch{}const c=r.getStoredConfig();if(c&&c.frontpageloggedin){return(yield n.getFrontPageItems(c.frontpageloggedin)).length>0}}catch{}return!1}))()}isDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.isDisabledInSite(r)}))()}isDisabledInSite(e){return(e=e||i.CoreSites.getCurrentSite()).isFeatureDisabled("CoreMainMenuDelegate_CoreSiteHome")}getFrontPageItems(e){return(0,o.A)((function*(){var n;if(!e)return[];const r=e.split(","),o=[];for(const e of r){let r=parseInt(e,10),s=!1;switch(r){case g.NEWS_ITEMS:s=!(null===(n=i.CoreSites.getCurrentSite())||void 0===n||!n.getStoredConfig("newsitems"));break;case g.COMBO_LIST:r=g.LIST_OF_CATEGORIES;case g.LIST_OF_CATEGORIES:case g.LIST_OF_COURSE:case g.ENROLLED_COURSES:s=!0;break;case g.COURSE_SEARCH_BOX:s=!c.CoreCourses.isSearchCoursesDisabledInSite()}s&&o.indexOf(g[r])<0&&o.push(g[r])}return o}))()}}return(e=CoreSiteHomeProvider).ɵfac=function CoreSiteHomeProvider_Factory(n){return new(n||e)},e.ɵprov=f.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSiteHomeProvider})();const C=(0,s.Qd)(v)},48189:(e,n,r)=>{"use strict";r.d(n,{C:()=>I,F:()=>getSiteHomeServices});var o=r(10467),i=r(54438),s=r(52749),a=r(71112),c=r(70526),u=r(79555),p=r(15324),f=r(39378),g=r(36684);let v=(()=>{var e;class CoreSiteHomeIndexLinkHandlerService extends a.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreSiteHomeIndexLinkHandler",this.featureName="CoreMainMenuDelegate_CoreSiteHome",this.pattern=/(\/course\/view\.php.*([?&]id=\d+)|\/index\.php(\?redirect=0)?|\/?\?redirect=0)/}getActions(e,n){const r={},i=n.match(/#inst(\d+)/);return i&&i[1]&&(r.blockInstanceId=parseInt(i[1],10)),[{action:(s=(0,o.A)((function*(e){yield p.CoreNavigator.navigateToSitePath(`/${g.MAIN_MENU_HOME_PAGE_NAME}/${f.j}`,{preferCurrentTab:!1,siteId:e,params:r})})),function action(e){return s.apply(this,arguments)})}];var s}isEnabled(e,n,r){return(0,o.A)((function*(){const o=parseInt(r.id,10);if(!o)return n.includes("index.php")||n.includes("?redirect=0");return o==(yield s.CoreSites.getSite(e)).getSiteHomeId()&&c.CoreSiteHome.isAvailable(e).then((()=>!0)).catch((()=>!1))}))()}}return(e=CoreSiteHomeIndexLinkHandlerService).ɵfac=(()=>{let n;return function CoreSiteHomeIndexLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSiteHomeIndexLinkHandlerService})();const C=(0,u.Qd)(v);var b=r(33504),w=r(55468),A=r(17847),_=r(69984);function getSiteHomeServices(){return _getSiteHomeServices.apply(this,arguments)}function _getSiteHomeServices(){return(_getSiteHomeServices=(0,o.A)((function*(){const{CoreSiteHomeProvider:e}=yield Promise.resolve().then(r.bind(r,70526));return[e]}))).apply(this,arguments)}const E=[{path:f.j,loadComponent:()=>Promise.all([r.e(98054),r.e(11383)]).then(r.bind(r,11383))}];let I=(()=>{var e;class CoreSiteHomeModule{}return(e=CoreSiteHomeModule).ɵfac=function CoreSiteHomeModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{b.CoreContentLinksDelegate.registerHandler(C.instance),A.CoreMainMenuHomeDelegate.registerHandler(w.$.instance)}}],imports:[_.X.forChild({children:E})]}),CoreSiteHomeModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(I,{imports:[_.X]}))},57085:(e,n,r)=>{"use strict";r.d(n,{$6:()=>s,$k:()=>i,Vs:()=>o});const o="siteplugins_update_course_content",i="CoreSitePlugins",s="siteplugins"},32832:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSitePlugins:()=>T,CoreSitePluginsProvider:()=>I});var o=r(10467),i=r(74431),s=r(66110),a=r(88793),c=r(72881),u=r(52749),p=r(75383),f=r(81690),g=r(79555),v=r(49882),C=r(6787),b=r(25124),w=r(18022),A=r(57085),_=r(58364),E=r(54438);let I=(()=>{var e;class CoreSitePluginsProvider{constructor(){this.sitePlugins={},this.sitePluginPromises={},this.moduleHandlerInstances={},this.hasSitePluginsLoaded=!1,this.sitePluginsFinishedLoading=!1,this.logger=C.CoreLogger.getInstance("CoreSitePluginsProvider");const e=v.z.on(v.z.SITE_PLUGINS_LOADED,(()=>{this.sitePluginsFinishedLoading=!0,null==e||e.off()}));this.fetchPluginsDeferred=new b._,v.z.on(v.z.LOGOUT,(()=>{this.fetchPluginsDeferred=new b._}))}addDefaultArgs(e,n){return(0,o.A)((function*(){var r,o;e=e||{},n=n||u.CoreSites.getCurrentSite();const s=yield c.CoreLang.getCurrentLanguage("lms"),a={userid:null!==(r=e.userid)&&void 0!==r?r:null===(o=n)||void 0===o?void 0:o.getUserId(),appid:i.CoreConstants.CONFIG.app_id,appversioncode:i.CoreConstants.CONFIG.versioncode,appversionname:i.CoreConstants.CONFIG.versionname,applang:s,appcustomurlscheme:i.CoreConstants.CONFIG.customurlscheme,appisdesktop:!1,appismobile:w.CorePlatform.isMobile(),appiswide:w.CorePlatform.isWide(),appplatform:"browser"};return e.appismobile&&(a.appplatform=w.CorePlatform.isIOS()?"ios":"android"),{...e,...a}}))()}callWS(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(i);return(r=r||{}).cacheKey=r.cacheKey||s.getCallWSCacheKey(e,n),o.read(e,n,r)}))()}createDataForJS(e,n){let r={};return e&&(r=Object.assign(r,e.jsResult||{}),r.INIT_TEMPLATES=_.T.toKeyValueMap(e.templates,"id","html"),r.INIT_OTHERDATA=e.otherdata),n&&(r.CONTENT_TEMPLATES=_.T.toKeyValueMap(n.templates,"id","html"),r.CONTENT_OTHERDATA=n.otherdata),r}getCallWSCacheKey(e,n){return`${this.getCallWSCommonCacheKey(e)}:${_.T.sortAndStringify(n)}`}getCallWSCommonCacheKey(e){return`${CoreSitePluginsProvider.ROOT_CACHE_KEY}ws:${e}`}getContent(e,n,r,s,a){var c=this;return(0,o.A)((function*(){var o;c.logger.debug(`Get content for component '${e}' and method '${n}'`);const f=yield u.CoreSites.getSite(a);r=r||{};const g=yield c.addDefaultArgs(r,f),v={component:e,method:n,args:_.T.toArrayOfObjects(g,"name","value",!0)};(s=s||{}).cacheKey=c.getContentCacheKey(e,n,r),s.updateFrequency=null!==(o=s.updateFrequency)&&void 0!==o?o:i.CoreCacheUpdateFrequency.OFTEN;const C=yield f.read("tool_mobile_get_content",v,s);let b={};if(C.otherdata){b=_.T.toKeyValueMap(C.otherdata,"name","value");for(const e in b){const n=b[e];"string"!=typeof n||"{"!=n[0]&&"["!=n[0]||(b[e]=p.Ni.parseJSON(n))}}return Object.assign(C,{otherdata:b})}))()}getContentCacheKey(e,n,r){return`${CoreSitePluginsProvider.ROOT_CACHE_KEY}content:${e}:${n}:${_.T.sortAndStringify(r)}`}getDownloadParam(e,n,r,o){switch(n){case"courseids":return[r||0];case`${e}id`:return o&&o.instance}}getHandlerUniqueName(e,n){return`${e.addon}_${n}`}getPlugins(e){var n=this;return(0,o.A)((function*(){const r=yield u.CoreSites.getSite(e);return(yield r.read("tool_mobile_get_plugins_supporting_mobile",{},{getFromCache:!1,cacheKey:n.getPluginsCacheKey()})).plugins.filter((e=>n.isSitePluginEnabled(e,r)))}))()}getPluginsCacheKey(){return`${CoreSitePluginsProvider.ROOT_CACHE_KEY}plugins`}getSitePluginHandler(e){return this.sitePlugins[e]}getCurrentSitePluginList(){return _.T.toArray(this.sitePlugins).map((e=>e.plugin))}invalidateAllCallWSForMethod(e,n){var r=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(n);yield o.invalidateWsCacheForKeyStartingWith(r.getCallWSCommonCacheKey(e))}))()}invalidateCallWS(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(i);r=r||{},yield o.invalidateWsCacheForKey(r.cacheKey||s.getCallWSCacheKey(e,n))}))()}invalidateContent(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield u.CoreSites.getSite(i);yield o.invalidateWsCacheForKey(s.getContentCacheKey(e,n,r||{}))}))()}isHandlerEnabledForCourse(e,n,r){return(0,o.A)((function*(){var o;if(-1==(null==r||null===(o=r.courses)||void 0===o?void 0:o.indexOf(e)))return!1;if(n||void 0===n)try{yield s.CoreCourses.getUserCourse(e,!0)}catch{return!1}return!0}))()}isHandlerEnabledForUser(e,n,r){var o,i;return(!n||e==(null===(o=u.CoreSites.getCurrentSite())||void 0===o?void 0:o.getUserId()))&&-1!=(null==r||null===(i=r.users)||void 0===i?void 0:i.indexOf(e))}isSitePluginEnabled(e,n){return!(n.isFeatureDisabled(`sitePlugin_${e.component}_${e.addon}`)||!e.handlers)&&(e.parsedHandlers||(e.parsedHandlers=p.Ni.parseJSON(e.handlers,null,(e=>this.logger.error("Error parsing site plugin handlers",e)))),!(!e.parsedHandlers||!Object.keys(e.parsedHandlers).length))}loadOtherDataInArgs(e,n,r){if(e=e?f.j.clone(e):{},n=n||{},void 0===r)return e;if(Array.isArray(r))for(const o in r){const i=r[o];e[i]="object"==typeof n[i]&&null!==n[i]?JSON.stringify(n[i]):n[i]}else for(const r in n)e[r]="object"==typeof n[r]&&null!==n[r]?JSON.stringify(n[r]):n[r];return e}prefetchFunctions(e,n,r,i,s,c,p,f){var g=this;return(0,o.A)((function*(){if(!(f=f||u.CoreSites.getCurrentSite())||!r.offlinefunctions)return;const v=f,C=r.offlinefunctions;yield Promise.all(Object.keys(r.offlinefunctions).map(function(){var r=(0,o.A)((function*(r){if(v.wsAvailable(r)){const o=C[r],a=g.getCallWSCacheKey(r,n);let c={};if(o.length)for(const r in o){const a=o[r];if(void 0!==n[a])c[a]=n[a];else{const n=g.getDownloadParam(e,a,i,s);void 0!==n&&(c[a]=n)}}else c=n;return yield g.callWS(r,c,{cacheKey:a}),void 0}const o={component:e};s&&(o.componentId=s.id);const u=yield g.getContent(e,r,n,o);u.files.length&&(yield a.CoreFilepool.downloadOrPrefetchFiles(v.getId(),u.files,!!c,!1,e,null==s?void 0:s.id,p))}));return function(e){return r.apply(this,arguments)}}()))}))()}setSitePluginHandler(e,n){this.sitePlugins[e]=n}registerSitePluginPromise(e,n){this.sitePluginPromises[e]=n}setPluginsFetched(){this.fetchPluginsDeferred.resolve()}setPluginsLoaded(e){this.hasSitePluginsLoaded=!!e}sitePluginPromiseExists(e){return!!this.sitePluginPromises[e]}sitePluginLoaded(e){return this.sitePluginPromises[e]}waitFetchPlugins(){var e=this;return(0,o.A)((function*(){yield e.fetchPluginsDeferred}))()}getModuleHandlerInstance(e){return this.moduleHandlerInstances[e]}setModuleHandlerInstance(e,n){this.moduleHandlerInstances[e]=n}}return(e=CoreSitePluginsProvider).ROOT_CACHE_KEY="CoreSitePlugins:",e.COMPONENT=A.$k,e.UPDATE_COURSE_CONTENT=A.Vs,e.ɵfac=function CoreSitePluginsProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSitePluginsProvider})();const T=(0,g.Qd)(I)},4519:(e,n,r)=>{"use strict";r.d(n,{LX:()=>getSitePluginsExportedDirectives,Zy:()=>getSitePluginsExportedObjects,fS:()=>w,ik:()=>getSitePluginsServices});var o=r(10467),i=r(54438),s=r(69342),a=r(42858),c=r(69984),u=r(49450),p=r(6007),f=r(57085);function getSitePluginsExportedDirectives(){return _getSitePluginsExportedDirectives.apply(this,arguments)}function _getSitePluginsExportedDirectives(){return(_getSitePluginsExportedDirectives=(0,o.A)((function*(){const{CoreSitePluginsCallWSDirective:e}=yield Promise.all([r.e(74978),r.e(84851),r.e(58506)]).then(r.bind(r,58506)),{CoreSitePluginsCallWSNewContentDirective:n}=yield Promise.all([r.e(74978),r.e(84851),r.e(13229)]).then(r.bind(r,13229)),{CoreSitePluginsCallWSOnLoadDirective:o}=yield Promise.all([r.e(74978),r.e(4331)]).then(r.bind(r,4331)),{CoreSitePluginsNewContentDirective:i}=yield Promise.all([r.e(74978),r.e(86981)]).then(r.bind(r,86981));return[e,n,o,i]}))).apply(this,arguments)}function getSitePluginsServices(){return _getSitePluginsServices.apply(this,arguments)}function _getSitePluginsServices(){return(_getSitePluginsServices=(0,o.A)((function*(){const{CoreSitePluginsProvider:e}=yield Promise.resolve().then(r.bind(r,32832));return[e]}))).apply(this,arguments)}function getSitePluginsExportedObjects(){return _getSitePluginsExportedObjects.apply(this,arguments)}function _getSitePluginsExportedObjects(){return(_getSitePluginsExportedObjects=(0,o.A)((function*(){const{CoreSitePluginsModuleIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(74978),r.e(71930),r.e(46526)]).then(r.bind(r,71930)),{CoreSitePluginsBlockComponent:n}=yield Promise.all([r.e(74978),r.e(72076),r.e(24145)]).then(r.bind(r,26766)),{CoreSitePluginsCourseFormatComponent:o}=yield Promise.all([r.e(74978),r.e(72076),r.e(91288)]).then(r.bind(r,46254)),{CoreSitePluginsQuestionComponent:i}=yield Promise.all([r.e(74978),r.e(72076)]).then(r.bind(r,55792)),{CoreSitePluginsQuestionBehaviourComponent:s}=yield Promise.all([r.e(74978),r.e(72076)]).then(r.bind(r,11684)),{CoreSitePluginsUserProfileFieldComponent:a}=yield Promise.all([r.e(74978),r.e(72076)]).then(r.bind(r,44940)),{CoreSitePluginsQuizAccessRuleComponent:c}=yield Promise.all([r.e(74978),r.e(72076)]).then(r.bind(r,96350)),{CoreSitePluginsAssignFeedbackComponent:u}=yield Promise.all([r.e(74978),r.e(72076)]).then(r.bind(r,88646)),{CoreSitePluginsAssignSubmissionComponent:p}=yield Promise.all([r.e(74978),r.e(72076)]).then(r.bind(r,72918));return{CoreSitePluginsModuleIndexComponent:e,CoreSitePluginsBlockComponent:n,CoreSitePluginsCourseFormatComponent:o,CoreSitePluginsQuestionComponent:i,CoreSitePluginsQuestionBehaviourComponent:s,CoreSitePluginsUserProfileFieldComponent:a,CoreSitePluginsQuizAccessRuleComponent:c,CoreSitePluginsAssignFeedbackComponent:u,CoreSitePluginsAssignSubmissionComponent:p}}))).apply(this,arguments)}const g=[{path:`${f.$6}/content/:component/:method/:hash`,loadComponent:()=>Promise.all([r.e(74978),r.e(19888)]).then(r.bind(r,19888)),canDeactivate:[p.V]}],v=[{path:`${f.$6}/homecontent/:component/:method`,loadComponent:()=>Promise.all([r.e(74978),r.e(19888)]).then(r.bind(r,19888)),canDeactivate:[p.V]}],C=[{path:`${f.$6}/:handlerUniqueName`,loadComponent:()=>Promise.all([r.e(74978),r.e(63876)]).then(r.bind(r,63876)),canDeactivate:[p.V]}],b=[{path:`${f.$6}/module/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(74978),r.e(71930),r.e(50373)]).then(r.bind(r,47812)),canDeactivate:[p.V]}];let w=(()=>{var e,n;class CoreSitePluginsModule{}return(e=CoreSitePluginsModule).ɵfac=function CoreSitePluginsModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){const{CoreSitePluginsInit:e}=yield Promise.all([r.e(74978),r.e(72076),r.e(28488)]).then(r.bind(r,76863));e.init()})),function useValue(){return n.apply(this,arguments)})}],imports:[a.b.forChild(b.concat(g)),s.l.forChild({children:C}),c.X.forChild({children:v}),u.h.forChild(g)]}),CoreSitePluginsModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(w,{imports:[a.b,s.l,c.X,u.h]}))},79118:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreStyles:()=>b,CoreStylesService:()=>C});var o=r(10467),i=r(75629),s=r(36358),a=r(52749),c=r(55554),u=r(79555),p=r(49882),f=r(91768),g=r(6787),v=r(54438);let C=(()=>{var e;class CoreStylesService{constructor(){this.stylesEls={},this.styleHandlers=[],this.logger=g.CoreLogger.getInstance("CoreStyles")}initialize(){var e=this;return(0,o.A)((function*(){e.listenEvents(),yield e.preloadCurrentSite(),yield e.preloadSites()}))()}registerStyleHandler(e){this.styleHandlers.push(e),this.styleHandlers=this.styleHandlers.sort(((e,n)=>e.priority>=n.priority?1:-1))}listenEvents(){var e=this;p.z.on(p.z.SITE_ADDED,function(){var n=(0,o.A)((function*(n){try{yield e.addSite(n.siteId),n.siteId==a.CoreSites.getCurrentSiteId()&&(e.unloadTmpStyles(),e.enableSiteStyles(n.siteId))}catch(n){e.logger.error("Error adding styles for new site",n)}}));return function(e){return n.apply(this,arguments)}}()),p.z.on(p.z.SITE_UPDATED,(e=>{e.siteId===a.CoreSites.getCurrentSiteId()&&this.load(e.siteId).catch((e=>{this.logger.error("Error loading site after site update",e)}))})),p.z.on(p.z.LOGIN,(e=>{this.unloadTmpStyles(),this.enableSiteStyles(e.siteId)})),p.z.on(p.z.LOGOUT,(()=>{this.clear()})),p.z.on(p.z.SITE_DELETED,(e=>{this.removeSite(e.getId())})),p.z.on(p.z.LOGIN_SITE_CHECKED,(e=>{if(e.siteId)return this.enableSiteStyles(e.siteId),void 0;this.loadTmpStyles(e.config).catch((e=>{this.logger.error("Error loading tmp styles",e)}))})),p.z.on(p.z.LOGIN_SITE_UNCHECKED,(({loginSuccessful:e})=>{e||(this.unloadTmpStyles(),this.clear())}))}createStyleElements(e,n){this.stylesEls[e]={},this.styleHandlers.forEach((r=>{const o=this.getStyleId(e,r.name);let i=document.head.querySelector(`style#${o}`);i||(i=document.createElement("style"),i.setAttribute("id",o),this.disableStyleElement(i,n),this.stylesEls[e][r.name]="",document.head.appendChild(i))}))}setStyle(e,n,r){var i=this;return(0,o.A)((function*(){let o="";(yield n.isEnabled(e,r))&&(o=(yield n.getStyle(e,r)).trim());const s=f.VV.hashAsciiStr(o);if(i.stylesEls[e][n.name]===s)return;const a=i.getStyleId(e,n.name),c=document.head.querySelector(`style#${a}`);if(!c)return i.stylesEls[e][n.name]="",void 0;const u=i.isStylElementDisabled(c);c.innerHTML=o,i.stylesEls[e][n.name]=s,i.disableStyleElement(c,u)}))()}addSite(e){var n=this;return(0,o.A)((function*(){if(e&&!n.stylesEls[e]){n.createStyleElements(e,!0);try{yield n.load(e,!0)}catch(e){n.logger.error("Error loading site after site init",e)}}}))()}clear(){let e=[];this.styleHandlers.forEach((n=>{e=e.concat(Array.from(document.querySelectorAll(`style[id*=${n.name}]`)))})),e.forEach((e=>{this.disableStyleElement(e,!0)})),s.CoreApp.setSystemUIColors()}getStyleId(e,n){return`${n}-${e}`}disableStyleElementByName(e,n,r){const o=this.getStyleId(e,n),i=document.head.querySelector(`style#${o}`);i&&this.disableStyleElement(i,r)}disableStyleElement(e,n){e.disabled=!!n,n?e.setAttribute("media","disabled"):e.removeAttribute("media")}isStylElementDisabled(e){var n;return null!==(n=e.disabled)&&void 0!==n?n:"disabled"===e.getAttribute("media")}enableSiteStyles(e){if(e=e||a.CoreSites.getCurrentSiteId(),this.stylesEls[e]){for(const n in this.stylesEls[e])this.disableStyleElementByName(e,n,!1);s.CoreApp.setSystemUIColors()}}load(e,n=!1){var r=this;return(0,o.A)((function*(){const u=e||a.CoreSites.getCurrentSiteId();if(!u||!r.stylesEls[u])throw new i.CoreError("Cannot load styles, site not found: ${siteId}");r.logger.debug("Load site",u,n);for(const e in r.stylesEls[u])r.disableStyleElementByName(u,e,n);yield c.g.allPromises(r.styleHandlers.map(function(){var e=(0,o.A)((function*(e){yield r.setStyle(u,e)}));return function(n){return e.apply(this,arguments)}}())),n||s.CoreApp.setSystemUIColors()}))()}loadTmpStyles(e){var n=this;return(0,o.A)((function*(){n.createStyleElements(CoreStylesService.TMP_SITE_ID,!0),yield c.g.allPromises(n.styleHandlers.map(function(){var r=(0,o.A)((function*(r){yield n.setStyle(CoreStylesService.TMP_SITE_ID,r,e)}));return function(e){return r.apply(this,arguments)}}())),s.CoreApp.setSystemUIColors()}))()}preloadCurrentSite(){var e=this;return(0,o.A)((function*(){const n=yield c.g.ignoreErrors(a.CoreSites.getStoredCurrentSiteId());if(n)return e.addSite(n)}))()}preloadSites(){var e=this;return(0,o.A)((function*(){const n=yield a.CoreSites.getSitesIds();yield c.g.allPromises(n.map((n=>e.addSite(n))))}))()}removeSite(e){if(e&&this.stylesEls[e]){for(const n in this.stylesEls[e]){const r=this.getStyleId(e,n),o=document.head.querySelector(`style#${r}`);o&&document.head.removeChild(o)}delete this.stylesEls[e],s.CoreApp.setSystemUIColors()}}unloadTmpStyles(){this.removeSite(CoreStylesService.TMP_SITE_ID)}}return(e=CoreStylesService).TMP_SITE_ID="tmpsite",e.ɵfac=function CoreStylesService_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreStylesService})();const b=(0,u.Qd)(C)},34877:(e,n,r)=>{"use strict";r.d(n,{i:()=>a,m:()=>getStyleServices});var o=r(10467),i=r(54438),s=r(79118);function getStyleServices(){return _getStyleServices.apply(this,arguments)}function _getStyleServices(){return(_getStyleServices=(0,o.A)((function*(){const{CoreStylesService:e}=yield Promise.resolve().then(r.bind(r,79118));return[e]}))).apply(this,arguments)}let a=(()=>{var e,n;class CoreStylesModule{}return(e=CoreStylesModule).ɵfac=function CoreStylesModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:(n=(0,o.A)((function*(){yield s.CoreStyles.initialize()})),function useValue(){return n.apply(this,arguments)})}]}),CoreStylesModule})()},82800:(e,n,r)=>{"use strict";r.d(n,{P:()=>o});const o="tag"},88452:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreTagAreaDelegate:()=>p,CoreTagAreaDelegateService:()=>u});var o=r(10467),i=r(59296),s=r(79555),a=r(41094),c=r(54438);let u=(()=>{var e;class CoreTagAreaDelegateService extends i.B{constructor(){super("CoreTagAreaDelegate"),this.handlerNameProperty="type"}isEnabled(){return(0,o.A)((function*(){return a.CoreTag.areTagsAvailable()}))()}getDisplayNameKey(e,n){return("core"===e||e.startsWith("core_")?"core.tag":"addon."+e)+".tagarea_"+n}parseContent(e,n,r){var i=this;return(0,o.A)((function*(){return i.executeFunctionOnEnabled(`${e}/${n}`,"parseContent",[r])}))()}getComponent(e,n){var r=this;return(0,o.A)((function*(){return r.executeFunctionOnEnabled(`${e}/${n}`,"getComponent")}))()}}return(e=CoreTagAreaDelegateService).ɵfac=function CoreTagAreaDelegateService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreTagAreaDelegateService})();const p=(0,s.Qd)(u)},92443:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreTagHelper:()=>c,CoreTagHelperProvider:()=>a});var o=r(79555),i=r(35161),s=r(54438);let a=(()=>{var e;class CoreTagHelperProvider{parseFeedContent(e){const n=[],r=(0,i.B)(e);return Array.from(r.querySelectorAll("ul.tag_feed > li")).forEach((e=>{const r={details:[]};Array.from(e.querySelectorAll("div.media-body > div, div.flex-grow-1 > div")).forEach((e=>{if(e.classList.contains("media-heading")||e.classList.contains("item-heading")){r.heading=e.innerText.trim();const n=e.querySelector("a");n&&(r.url=n.getAttribute("href"))}else{const n=[""];Array.from(e.childNodes).forEach((e=>{if(e.nodeType===Node.TEXT_NODE)n[n.length-1]+=e.textContent;else if(e.nodeType===Node.ELEMENT_NODE){const r=e;"BR"===r.tagName?n.push(""):n[n.length-1]+=r.innerText}})),r.details.push(...n.map((e=>e.trim())).filter((e=>""!=e)))}}));const o=e.querySelector("div.itemimage img, div.flex-shrink-0 img");if(o)o.classList.contains("userpicture")?(r.avatarUrl=o.getAttribute("src"),r.fullname=o.getAttribute("title")):r.iconUrl=o.getAttribute("src");else{const n=e.querySelector("div.itemimage .userinitials, div.flex-shrink-0 .userinitials");n&&(r.avatarUrl="error",r.fullname=n.getAttribute("title"))}r.heading&&r.url&&n.push(r)})),n}}return(e=CoreTagHelperProvider).ɵfac=function CoreTagHelperProvider_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreTagHelperProvider})();const c=(0,o.Qd)(a)},41094:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreTag:()=>f,CoreTagProvider:()=>p});var o=r(10467),i=r(52749),s=r(79555),a=r(75629),c=r(74431),u=r(54438);let p=(()=>{var e;class CoreTagProvider{areTagsAvailable(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);return n.areTagsAvailableInSite(r)}))()}areTagsAvailableInSite(e){return!!(e=e||i.CoreSites.getCurrentSite())&&e.canUseAdvancedFeature("usetags")&&e.wsAvailable("core_tag_get_tagindex_per_area")&&e.wsAvailable("core_tag_get_tag_cloud")&&e.wsAvailable("core_tag_get_tag_collections")&&!e.isFeatureDisabled("NoDelegate_CoreTag")}getTagCloud(e=0,n=!1,r="name",s="",a=0,u=0,p=!0,f,g){var v=this;return(0,o.A)((function*(){f=f||CoreTagProvider.SEARCH_LIMIT;const o=yield i.CoreSites.getSite(g),C={tagcollid:e,isstandard:n,limit:f,sort:r,search:s,fromctx:a,ctx:u,rec:p},b={updateFrequency:c.CoreCacheUpdateFrequency.SOMETIMES,cacheKey:v.getTagCloudKey(e,n,r,s,a,u,p),getFromCache:""!=s};return o.read("core_tag_get_tag_cloud",C,b)}))()}getTagCollections(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e),o={updateFrequency:c.CoreCacheUpdateFrequency.RARELY,cacheKey:n.getTagCollectionsKey()},s=yield r.read("core_tag_get_tag_collections",null,o);if(!s||!s.collections)throw new a.CoreError("Cannot fetch tag collections");return s.collections}))()}getTagIndexPerArea(e,n="",r=0,u=0,p=0,f=0,g=!0,v=0,C){var b=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(C),w={tagindex:{id:e,tag:n,tc:r,ta:u,excl:!0,from:p,ctx:f,rec:g,page:v}},A={updateFrequency:c.CoreCacheUpdateFrequency.OFTEN,cacheKey:b.getTagIndexPerAreaKey(e,n,r,u,p,f,g)};let _;try{_=yield o.read("core_tag_get_tagindex_per_area",w,A)}catch(r){throw r&&"notagsfound"==r.errorcode&&(r.message=s.HT.instant("core.tag.notagsfound",{$a:n||e||""})),r}if(!_)throw new a.CoreError("Cannot fetch tag index per area");return _}))()}invalidateTagCloud(e=0,n=!1,r="name",s="",a=0,c=0,u=!0,p){var f=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(p),g=f.getTagCloudKey(e,n,r,s,a,c,u);yield o.invalidateWsCacheForKey(g)}))()}invalidateTagCollections(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e),o=n.getTagCollectionsKey();yield r.invalidateWsCacheForKey(o)}))()}invalidateTagIndexPerArea(e,n="",r=0,s=0,a=0,c=0,u=!0,p){var f=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(p),g=f.getTagIndexPerAreaKey(e,n,r,s,a,c,u);yield o.invalidateWsCacheForKey(g)}))()}getTagCloudKey(e,n,r,o,i,s,a){return CoreTagProvider.ROOT_CACHE_KEY+"cloud:"+e+":"+(n?1:0)+":"+r+":"+o+":"+i+":"+s+":"+(a?1:0)}getTagCollectionsKey(){return`${CoreTagProvider.ROOT_CACHE_KEY}collections`}getTagIndexPerAreaKey(e,n,r,o,i,s,a){return CoreTagProvider.ROOT_CACHE_KEY+"index:"+e+":"+n+":"+r+":"+o+":"+i+":"+s+":"+(a?1:0)}}return(e=CoreTagProvider).ROOT_CACHE_KEY="CoreTag:",e.SEARCH_LIMIT=150,e.ɵfac=function CoreTagProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreTagProvider})();const f=(0,s.Qd)(p)},2761:(e,n,r)=>{"use strict";r.d(n,{e:()=>P,h:()=>getTagServices});var o=r(10467),i=r(54438),s=r(95376),a=r(16844),c=r(33504),u=r(41094),p=r(79555),f=r(82800);let g=(()=>{var e;class CoreTagMainMenuHandlerService{constructor(){this.name="CoreTag",this.priority=400}isEnabled(){return(0,o.A)((function*(){return yield u.CoreTag.areTagsAvailable()}))()}getDisplayData(){return{icon:"fas-tags",title:"core.tag.tags",page:f.P,class:"core-tag-search-handler"}}}return(e=CoreTagMainMenuHandlerService).ɵfac=function CoreTagMainMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreTagMainMenuHandlerService})();const v=(0,p.Qd)(g);var C=r(71112),b=r(15324);let w=(()=>{var e;class CoreTagIndexLinkHandlerService extends C.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreTagIndexLinkHandler",this.pattern=/\/tag\/index\.php/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){const n={tagId:parseInt(r.id,10)||0,tagName:r.tag||"",collectionId:parseInt(r.tc,10)||0,areaId:parseInt(r.ta,10)||0,fromContextId:parseInt(r.from,10)||0,contextId:parseInt(r.ctx,10)||0,recursive:parseInt(r.rec,10)||1};n.tagId||n.tagName&&n.collectionId?n.areaId?yield b.CoreNavigator.navigateToSitePath("/tag/index-area",{params:n,siteId:e}):yield b.CoreNavigator.navigateToSitePath("/tag/index",{params:n,siteId:e}):yield b.CoreNavigator.navigateToSitePath("/tag/search",{siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return(0,o.A)((function*(){return u.CoreTag.areTagsAvailable(e)}))()}}return(e=CoreTagIndexLinkHandlerService).ɵfac=(()=>{let n;return function CoreTagIndexLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreTagIndexLinkHandlerService})();const A=(0,p.Qd)(w);let _=(()=>{var e;class CoreTagSearchLinkHandlerService extends C.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreTagSearchLinkHandler",this.pattern=/\/tag\/search\.php/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){const n={collectionId:parseInt(r.tc,10)||0,query:r.query||""};yield b.CoreNavigator.navigateToSitePath("/tag/search",{params:n,siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return(0,o.A)((function*(){return u.CoreTag.areTagsAvailable(e)}))()}}return(e=CoreTagSearchLinkHandlerService).ɵfac=(()=>{let n;return function CoreTagSearchLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreTagSearchLinkHandlerService})();const E=(0,p.Qd)(_);var I=r(42858);function getTagServices(){return _getTagServices.apply(this,arguments)}function _getTagServices(){return(_getTagServices=(0,o.A)((function*(){const{CoreTagAreaDelegateService:e}=yield Promise.resolve().then(r.bind(r,88452)),{CoreTagHelperProvider:n}=yield Promise.resolve().then(r.bind(r,92443)),{CoreTagProvider:o}=yield Promise.resolve().then(r.bind(r,41094));return[e,n,o]}))).apply(this,arguments)}const T=[{path:f.P,loadChildren:()=>r.e(65428).then(r.bind(r,65428))}];let P=(()=>{var e;class CoreTagModule{}return(e=CoreTagModule).ɵfac=function CoreTagModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:i.hnV,multi:!0,useValue:()=>{s.CoreMainMenuDelegate.registerHandler(v.instance),c.CoreContentLinksDelegate.registerHandler(A.instance),c.CoreContentLinksDelegate.registerHandler(E.instance)}}],imports:[I.b.forChild(T),a.I.forChild({children:T})]}),CoreTagModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(P,{imports:[I.b,a.I]}))},90121:(e,n,r)=>{"use strict";r.d(n,{z:()=>CoreUserAuthenticatedSupportConfig});var o=r(52749),i=r(33215);class CoreUserAuthenticatedSupportConfig extends i.c{static forCurrentSite(){return new CoreUserAuthenticatedSupportConfig(o.CoreSites.getRequiredCurrentSite())}constructor(e){super(),this.site=e}canContactSupport(){if(this.site.isFeatureDisabled("NoDelegate_CoreUserSupport"))return!1;if(this.site.isVersionGreaterEqualThan("4.1")){if(!("config"in this.site)||!this.site.config||!("supportavailability"in this.site.config))return!1;const e=Number(this.site.config.supportavailability);return 1===e||2===e}return!!this.site.isVersionGreaterEqualThan("4.0")}getSupportPageLang(){var e,n;return null!==(e=null===(n=this.site.infos)||void 0===n?void 0:n.lang)&&void 0!==e?e:null}buildSupportPageUrl(){var e,n,r;const o="config"in this.site?this.site.config:void 0;return(null==o||null===(e=o.supportpage)||void 0===e?void 0:e.trim())||`${null!==(n=null!==(r=null==o?void 0:o.httpswwwroot)&&void 0!==r?r:null==o?void 0:o.wwwroot)&&void 0!==n?n:this.site.siteUrl}/user/contactsitesupport.php`}}},83804:(e,n,r)=>{"use strict";r.d(n,{Q:()=>CoreUserGuestSupportConfig});var o=r(10467),i=r(27719),s=r(52749),a=r(55554),c=r(33215),u=r(30454);class CoreUserGuestSupportConfig extends c.c{static forSite(e){return(0,o.A)((function*(){const n=yield a.g.ignoreErrors(s.CoreSites.getPublicSiteConfigByUrl(e));return n?new CoreUserGuestSupportConfig(u.a.makeUnauthenticatedSite(e,n),n):new i.v}))()}constructor(e,n){super(),this.site=e,this.config=n}canContactSupport(){return!this.site.isFeatureDisabled("NoDelegate_CoreUserSupport")&&("supportavailability"in this.config?2===this.config.supportavailability:"supportpage"in this.config)}getSite(){return this.site}getSupportPageLang(){var e;return null!==(e=this.config.lang)&&void 0!==e?e:null}buildSupportPageUrl(){var e;return(null===(e=this.config.supportpage)||void 0===e?void 0:e.trim())||`${this.config.httpswwwroot||this.config.wwwroot}/user/contactsitesupport.php`}}},27719:(e,n,r)=>{"use strict";r.d(n,{v:()=>CoreUserNullSupportConfig});var o=r(33215);class CoreUserNullSupportConfig extends o.c{canContactSupport(){return!1}getSupportPageLang(){return null}buildSupportPageUrl(){throw new Error("Can't build a support page url from a null config")}}},33215:(e,n,r)=>{"use strict";r.d(n,{c:()=>CoreUserSupportConfig});class CoreUserSupportConfig{getSupportPageUrl(){if(!this.canContactSupport())throw new Error("Can't get support page url");return this.buildSupportPageUrl()}}},76833:(e,n,r)=>{"use strict";r.d(n,{ER:()=>c,Le:()=>o,_u:()=>u,bK:()=>s,i1:()=>a,z2:()=>i});const o="participants",i="CoreUserProfileRefreshed",s="CoreUserProfilePictureUpdated",a="99",c=-10,u=50},87604:(e,n,r)=>{"use strict";r.d(n,{Y7:()=>a,b$:()=>i,g6:()=>o,s0:()=>s});const o="users",i={name:"CoreUserProvider",version:1,canBeCleared:[o],tables:[{name:o,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"fullname",type:"TEXT"},{name:"profileimageurl",type:"TEXT"}]}]},s="user_preferences",a={name:"CoreUserOfflineProvider",version:1,tables:[{name:s,columns:[{name:"name",type:"TEXT",unique:!0,notNull:!0},{name:"value",type:"TEXT"},{name:"onlinevalue",type:"TEXT"}]}]}},60378:(e,n,r)=>{"use strict";r.d(n,{I:()=>w});var o=r(10467),i=r(90121),s=r(18022),a=r(52749),c=r(79555),u=r(49882),p=r(10025),f=r(72881),g=r(27719),v=r(25572),C=r(54438);let b=(()=>{var e;class CoreUserSupportService{contact(e={}){var n=this;return(0,o.A)((function*(){var r,o;const s=null!==(r=e.supportConfig)&&void 0!==r?r:i.z.forCurrentSite(),c=s.getSupportPageUrl(),p=yield null===(o=a.CoreSites.getCurrentSite())||void 0===o?void 0:o.openInAppWithAutoLogin(c);p&&c.endsWith("/user/contactsitesupport.php")&&(n.populateSupportForm(p,e.subject,e.message),n.listenSupportFormSubmission(p,s.getSupportPageLang())),yield u.z.waitUntil(u.z.IAB_EXIT)}))()}showHelp(e,n,r){const o=[];if(!r){const e=a.CoreSites.getCurrentSite();r=e?new i.z(e):new g.v}r.canContactSupport()&&o.push({text:c.HT.instant("core.contactsupport"),handler:()=>w.contact({supportConfig:r,subject:n})}),o.push(c.HT.instant("core.close")),v.CoreAlerts.show({header:c.HT.instant("core.help"),message:e,buttons:o})}populateSupportForm(e,n,r){if(!s.CorePlatform.isMobile())return;n&&(n=c.HT.instant("core.user.supportsubject",{subject:n}));const o=p.O.once(e.on("loadstop"),(()=>{e.executeScript({code:`\n                    document.querySelector('#id_subject').value = ${JSON.stringify(null!=n?n:"")};\n                    document.querySelector('#id_message').value = ${JSON.stringify(null!=r?r:"")};\n                `})}));u.z.once(u.z.IAB_EXIT,(()=>o()))}listenSupportFormSubmission(e,n){return(0,o.A)((function*(){if(!s.CorePlatform.isMobile())return;const r=c.HT.instant("core.user.supportmessagesent"),i=n&&(yield f.CoreLang.getMessage("core.user.supportmessagesent",n)),a=e.on("loadstop").subscribe((0,o.A)((function*(){const n=yield e.executeScript({code:`\n                    [...document.querySelectorAll('.alert-success')].some(\n                        div =>\n                            div.textContent?.includes(${JSON.stringify(i)}) ||\n                            div.textContent?.includes(${JSON.stringify(r)})\n                    )\n                `});Array.isArray(n)&&!0===n[0]&&(e.close(),v.CoreAlerts.show({message:r}))})));u.z.once(u.z.IAB_EXIT,(()=>a.unsubscribe()))}))()}}return(e=CoreUserSupportService).ɵfac=function CoreUserSupportService_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserSupportService})();const w=(0,c.Qd)(b)},5784:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreUserDelegate:()=>A,CoreUserDelegateContext:()=>_,CoreUserDelegateService:()=>w,CoreUserProfileHandlerType:()=>C,USER_DELEGATE_UPDATE_HANDLER_EVENT:()=>b});var o=r(10467),i=r(84412),s=r(59296),a=r(55554),c=r(49882),u=r(79555),p=r(66110),f=r(52749),g=r(76833),v=r(54438),C=function(e){return e.LIST_ITEM="listitem",e.LIST_ACCOUNT_ITEM="account_listitem",e.BUTTON="button",e}(C||{});const b="CoreUserDelegate_update_handler_event";let w=(()=>{var e;class CoreUserDelegateService extends s.B{constructor(){super("CoreUserDelegate"),this.enabledForUserCache={},this.featurePrefix="CoreUserDelegate_",this.userHandlers={},c.z.on(b,(e=>{const n=this.getHandlersData(e.userId,e.context,e.contextId),r=n.handlers.find((n=>n.name==e.handler));r&&(Object.assign(r.data,e.data),n.observable.next(n.handlers))})),c.z.on(c.z.LOGOUT,(()=>{this.clearHandlerCache()})),c.z.on(g.z2,(e=>{this.clearHandlerCache(e.userId,e.courseId?_.COURSE:_.SITE,e.courseId)}))}areHandlersLoaded(e,n,r){return this.getHandlersData(e,n,r).loaded}clearUserHandlers(e,n,r){if(e)if(n){const o=this.getHandlersData(e,n,r);o.handlers=[],o.observable.next([]),o.loaded=!1}else delete this.userHandlers[e];else this.userHandlers={}}getProfileHandlersFor(e,n,r){return this.calculateUserHandlers(e,n,r),this.getHandlersData(e.id,n,r).observable}calculateUserHandlers(e,n,r){var i=this;return(0,o.A)((function*(){const s=(yield p.CoreCourses.getUserCourses(!0)).map((e=>e.id)),c=yield p.CoreCourses.getCoursesAdminAndNavOptions(s),u=n===_.COURSE&&r?r:f.CoreSites.getCurrentSiteHomeId(),g=c.navOptions[u],v=c.admOptions[u],b=i.getHandlersData(e.id,n,r);b.handlers=[],yield a.g.allPromises(Object.keys(i.enabledHandlers).map(function(){var r=(0,o.A)((function*(r){const o=i.handlers[r];try{(yield i.getAndCacheEnabledForUserFromHandler(o,e,n,u,g,v))&&b.handlers.push({name:r,data:o.getDisplayData(e,n,u),priority:o.priority||0,type:o.type||C.LIST_ITEM})}catch{}}));return function(e){return r.apply(this,arguments)}}())),b.handlers.sort(((e,n)=>{var r,o;return(null!==(r=n.priority)&&void 0!==r?r:0)-(null!==(o=e.priority)&&void 0!==o?o:0)})),b.loaded=!0,b.observable.next(b.handlers)}))()}getAndCacheEnabledForUserFromHandler(e,n,r,i,s={},a={}){var c=this;return(0,o.A)((function*(){if(e.isEnabledForContext){if(!(yield e.isEnabledForContext(r,i,s,a)))return!1}if(!e.cacheEnabled)return!e.isEnabledForUser||e.isEnabledForUser(n,r,i);void 0===c.enabledForUserCache[e.name]&&(c.enabledForUserCache[e.name]={});const o=c.getCacheKey(n.id,r,i),u=c.enabledForUserCache[e.name][o];if(void 0!==u)return u;let p=!0;return e.isEnabledForUser&&(p=yield e.isEnabledForUser(n,r,i)),c.enabledForUserCache[e.name][o]=p,p}))()}clearHandlerCache(e,n,r){if(e&&n){const o=this.getCacheKey(e,n,r);Object.keys(this.enabledHandlers).forEach((e=>{const n=this.enabledForUserCache[e];n&&delete n[o]}))}else this.enabledForUserCache={}}getCacheKey(e,n,r){return`${e}#${this.getContextKey(n,r)}`}getContextKey(e,n){return`${e}#${null!=n?n:0}`}getHandlersData(e,n,r){const o=this.getContextKey(n,r);return this.userHandlers[e]=this.userHandlers[e]||{},this.userHandlers[e][o]||(this.userHandlers[e][o]={loaded:!1,handlers:[],observable:new i.t([])}),this.userHandlers[e][o]}registerHandler(e){const n=e.type;return n===CoreUserDelegateService.TYPE_COMMUNICATION||n===CoreUserDelegateService.TYPE_ACTION?e.type=C.BUTTON:n===CoreUserDelegateService.TYPE_NEW_PAGE&&(e.type=C.LIST_ITEM),super.registerHandler(e)}}return(e=CoreUserDelegateService).TYPE_COMMUNICATION="communication",e.TYPE_NEW_PAGE="newpage",e.TYPE_ACTION="action",e.ɵfac=function CoreUserDelegateService_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserDelegateService})();const A=(0,u.Qd)(w);var _=function(e){return e.SITE="site",e.COURSE="course",e.USER_MENU="user_menu",e}(_||{})},41131:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreUserHelper:()=>g,CoreUserHelperProvider:()=>f});var o=r(10467),i=r(15324),s=r(52749),a=r(79555),c=r(98870),u=r(24742),p=r(54438);let f=(()=>{var e;class CoreUserHelperProvider{formatAddress(e,n,r){const o=a.HT.instant("core.listsep");let i=[e,n,r];return i=i.filter((e=>e&&e.length>0)),i.join(`${o} `)}formatRoleList(e){if(!e||e.length<=0)return"";const n=a.HT.instant("core.listsep");return e.map((e=>{const n=a.HT.instant(`core.user.${e.shortname}`);return n.indexOf("core.user.")<0?n:e.shortname})).join(`${n} `)}openCompleteProfile(e){return(0,o.A)((function*(){const n=s.CoreSites.getCurrentSite();e=null!=e?e:null==n?void 0:n.getId(),n&&e===n.getId()&&(i.CoreNavigator.isCurrent("/user/completeprofile")||(yield i.CoreNavigator.navigate("/user/completeprofile",{params:{siteId:e},reset:!0})))}))()}getUserInitials(e){var n,r;return e.firstname||e.lastname?((null===(n=e.firstname)||void 0===n?void 0:n.charAt(0))||"")+((null===(r=e.lastname)||void 0===r?void 0:r.charAt(0))||""):""}getUserInitialsFromParts(e){return(0,o.A)((function*(){var n,r;if(!e.firstname&&!e.lastname){if(!e.fullname&&e.userId){const n=yield c.CoreUser.getProfile(e.userId,void 0,!0);e.fullname=n.fullname||""}if(e.fullname){const n=e.fullname.split(" ");e.firstname=n[0],n.length>1&&(e.lastname=n[n.length-1])}}return e.firstname||e.lastname?((null===(n=e.firstname)||void 0===n?void 0:n.charAt(0))||"")+((null===(r=e.lastname)||void 0===r?void 0:r.charAt(0))||""):"UNK"}))()}translateLegacyTimezone(e){return u.j.translateLegacyTimezone(e)}}return(e=CoreUserHelperProvider).ɵfac=function CoreUserHelperProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserHelperProvider})();const g=(0,a.Qd)(f)},88928:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreUserOffline:()=>f,CoreUserOfflineProvider:()=>p});var o=r(10467),i=r(52749),s=r(55554),a=r(79555),c=r(87604),u=r(54438);let p=(()=>{var e;class CoreUserOfflineProvider{getChangedPreferences(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(e)).getDb().getRecordsSelect(c.s0,"value != onlinevalue OR onlinevalue IS NULL")}))()}getPreference(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSite(n)).getDb().getRecord(c.s0,{name:e})}))()}setPreference(e,n,r,a){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(a),u={name:e,value:n,onlinevalue:r};if(void 0===r){const n=yield s.g.ignoreErrors(o.getDb().getRecord(c.s0,{name:e}),null);u.onlinevalue=null==n?void 0:n.onlinevalue}yield o.getDb().insertRecord(c.s0,u)}))()}}return(e=CoreUserOfflineProvider).ɵfac=function CoreUserOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserOfflineProvider})();const f=(0,a.Qd)(p)},999:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreUserProfileFieldDelegate:()=>p,CoreUserProfileFieldDelegateService:()=>u});var o=r(10467),i=r(59296),s=r(75629),a=r(79555),c=r(54438);let u=(()=>{var e;class CoreUserProfileFieldDelegateService extends i.B{constructor(){super("CoreUserProfileFieldDelegate"),this.handlerNameProperty="type"}getType(e){return("type"in e?e.type:e.datatype)||""}getComponent(e,n){var r=this;return(0,o.A)((function*(){const o=r.getType(e);try{return n?yield r.executeFunction(o,"getComponent",[]):yield r.executeFunctionOnEnabled(o,"getComponent",[])}catch(e){r.logger.error("Error getting component for field",o,e)}}))()}getDataForField(e,n,r,i){var a=this;return(0,o.A)((function*(){const o=a.getType(e),c=a.getHandler(o,!n);if(c){const s=`profile_field_${e.shortname}`;if(c.getData)return c.getData(e,n,r,i);if(e.shortname&&void 0!==i[s])return{type:o,name:s,value:i[s]}}throw new s.CoreError("User profile field handler not found.")}))()}getDataForFields(e,n=!1,r="",i){var s=this;return(0,o.A)((function*(){if(!e)return[];const a=[];return yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){try{const o=yield s.getDataForField(e,n,r,i);o&&a.push(o)}catch{}}));return function(n){return e.apply(this,arguments)}}())),a}))()}hasRequiredUnsupportedField(e){return!(!e||!e.length)&&e.some((e=>e.required&&!this.hasHandler(this.getType(e))))}}return(e=CoreUserProfileFieldDelegateService).ɵfac=function CoreUserProfileFieldDelegateService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserProfileFieldDelegateService})();const p=(0,a.Qd)(u)},96828:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreUserSync:()=>b,CoreUserSyncProvider:()=>C});var o=r(10467),i=r(52749),s=r(49588),a=r(43411),c=r(42008),u=r(79555),p=r(88928),f=r(98870),g=r(55554),v=r(54438);let C=(()=>{var e;class CoreUserSyncProvider extends c.l{constructor(){super("CoreUserSync")}syncPreferences(e){return this.syncOnSites("all user preferences",(e=>this.syncSitePreferences(e)),e)}syncSitePreferences(e){var n=this;return(0,o.A)((function*(){e=e||i.CoreSites.getCurrentSiteId();const r="preferences",o=n.getOngoingSync(r,e);if(o)return o;n.logger.debug("Try to sync user preferences");const s=n.performSyncSitePreferences(e);return n.addOngoingSync(r,s,e)}))()}performSyncSitePreferences(e){return(0,o.A)((function*(){const n=[],r=yield p.CoreUserOffline.getChangedPreferences(e);return yield g.g.allPromises(r.map(function(){var r=(0,o.A)((function*(r){const o=yield f.CoreUser.getUserPreferenceOnline(r.name,e);if(null!==o&&r.onlinevalue!=o)return p.CoreUserOffline.setPreference(r.name,o,o,e);try{yield f.CoreUser.setUserPreference(r.name,r.value,e)}catch(e){if(!a.CoreWSError.isWebServiceError(e))throw e;{const r=s.CoreErrorHelper.getErrorMessageFromError(e);r&&n.push(r)}}}));return function(e){return r.apply(this,arguments)}}())),n}))()}}return(e=CoreUserSyncProvider).ɵfac=function CoreUserSyncProvider_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserSyncProvider})();const b=(0,u.Qd)(C)},98870:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreUser:()=>T,CoreUserProvider:()=>I});var o=r(10467),i=r(94455),s=r(88793),a=r(52749),c=r(85505),u=r(88928),p=r(6787),f=r(79555),g=r(49882),v=r(75629),C=r(87604),b=r(8014),w=r(74431),A=r(55554),_=r(76833),E=r(54438);let I=(()=>{var e;class CoreUserProvider{constructor(){this.logger=p.CoreLogger.getInstance("CoreUserProvider"),g.z.on(g.z.USER_DELETED,(e=>this.handleUserKickedOutEvent(e))),g.z.on(g.z.USER_SUSPENDED,(e=>this.handleUserKickedOutEvent(e))),g.z.on(g.z.USER_NO_LOGIN,(e=>this.handleUserKickedOutEvent(e)))}canSearchParticipants(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);return n.canSearchParticipantsInSite(r)}))()}canSearchParticipantsInSite(e){var n;return!(null===(n=e=e||a.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("core_enrol_search_users"))}changeProfilePicture(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r),i={draftitemid:e,delete:!1,userid:n},s=yield o.write("core_user_update_picture",i);return s.success&&s.profileimageurl?s.profileimageurl:Promise.reject(null)}))()}handleUserKickedOutEvent(e){var n=this;return(0,o.A)((function*(){let r=0;e.params.userid?r=e.params.userid:e.params.userids?r=e.params.userids[0]:"id"===e.params.field&&e.params.values&&e.params.values.length?r=e.params.values[0]:e.params.userlist&&e.params.userlist.length&&(r=e.params.userlist[0].userid),r>0&&(yield n.deleteStoredUser(r,e.siteId))}))()}deleteStoredUser(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield Promise.all([r.invalidateUserCache(e,o.getId()),o.getDb().deleteRecords(C.g6,{id:e})])}))()}getParticipants(e,n=0,r=_._u,i,s){var c=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(i);c.logger.debug(`Get participants for course '${e}' starting at '${n}'`);const u={courseid:e,options:[{name:"limitfrom",value:String(n)},{name:"limitnumber",value:String(r)},{name:"sortby",value:"siteorder"}]},p={cacheKey:c.getParticipantsListCacheKey(e),updateFrequency:w.CoreCacheUpdateFrequency.RARELY};s&&(p.getFromCache=!1,p.emergencyCache=!1);const f=yield o.read("core_enrol_get_enrolled_users",u,p),g=f.length>=r;return c.storeUsers(f,i),{participants:f,canLoadMore:g}}))()}getParticipantsListCacheKey(e){return`${CoreUserProvider.ROOT_CACHE_KEY}list:${e}`}getProfile(e,n,r=!1,i){var s=this;return(0,o.A)((function*(){if(i=i||a.CoreSites.getCurrentSiteId(),r)try{return yield s.getUserFromLocalDb(e,i)}catch{return s.getUserFromWS(e,n,i)}try{return yield s.getUserFromWS(e,n,i)}catch(n){try{return yield s.getUserFromLocalDb(e,i)}catch{throw n}}}))()}getStartingWeekDay(){var e=this;return(0,o.A)((function*(){var n,r;const o=yield A.g.ignoreErrors(e.getUserPreference("calendar_startwday"));if(o&&!isNaN(Number(o)))return Number(o);const i=Number(null!==(n=null===(r=a.CoreSites.getCurrentSite())||void 0===r?void 0:r.getStoredConfig("calendar_startwday"))&&void 0!==n?n:f.HT.instant("core.firstdayofweek"));return isNaN(i)?w.CoreConstants.CALENDAR_DEFAULT_STARTING_WEEKDAY:i%7}))()}getUserCacheKey(e){return`${CoreUserProvider.ROOT_CACHE_KEY}data:${e}`}getUserFromLocalDb(e,n){return(0,o.A)((function*(){return(yield a.CoreSites.getSite(n)).getDb().getRecord(C.g6,{id:e})}))()}getUserFullNameWithDefault(e,n,r){return(0,o.A)((function*(){try{return(yield T.getProfile(e,n,!0,r)).fullname}catch{return f.HT.instant("core.user.userwithid",{id:e})}}))()}getUserFromWS(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r),s={cacheKey:i.getUserCacheKey(e),updateFrequency:w.CoreCacheUpdateFrequency.RARELY};let u;if(n&&n!=o.getSiteHomeId()){i.logger.debug(`Get participant with ID '${e}' in course '${n}`);const r={userlist:[{userid:e,courseid:n}]};u=yield o.read("core_user_get_course_user_profiles",r,s)}else{i.logger.debug(`Get user with ID '${e}'`);const n={field:"id",values:[String(e)]};u=yield o.read("core_user_get_users_by_field",n,s)}if(0===u.length)throw new v.CoreError("Cannot retrieve user info.");const p=u[0];return"country"in p&&p.country&&(p.country=c.A.getCountryName(p.country)),i.storeUser(p.id,p.fullname,p.profileimageurl),p}))()}getUserPreference(e,n){var r=this;return(0,o.A)((function*(){n=n||a.CoreSites.getCurrentSiteId();const o=yield A.g.ignoreErrors(u.CoreUserOffline.getPreference(e,n));if(o&&!i.WE.isOnline())return o.value;const s=yield r.getUserPreferenceOnline(e,n);return o&&o.value!=o.onlinevalue&&o.onlinevalue==s?o.value:s?(yield u.CoreUserOffline.setPreference(e,s,s),s):null}))()}getUserPreferenceCacheKey(e){return`${CoreUserProvider.ROOT_CACHE_KEY}preference:${e}`}getUserPreferenceOnline(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n),i={name:e},s={cacheKey:r.getUserPreferenceCacheKey(e),updateFrequency:w.CoreCacheUpdateFrequency.SOMETIMES},c=yield o.read("core_user_get_user_preferences",i,s);return c.preferences[0]?c.preferences[0].value:null}))()}invalidateUserCache(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getUserCacheKey(e))}))()}invalidateParticipantsList(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getParticipantsListCacheKey(e))}))()}invalidateUserPreference(e,n){var r=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getUserPreferenceCacheKey(e))}))()}isParticipantsDisabled(e){var n=this;return(0,o.A)((function*(){const r=yield a.CoreSites.getSite(e);return n.isParticipantsDisabledInSite(r)}))()}isParticipantsDisabledInSite(e){var n;return!(null===(n=e=e||a.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled("CoreCourseOptionsDelegate_CoreUserParticipants"))}isPluginEnabledForCourse(e,n){if(!e)throw new v.CoreError("Invalid course ID.");return A.g.promiseWorks(this.getParticipants(e,0,1,n))}isUpdatePictureDisabledInSite(e){var n;return!(null===(n=e=e||a.CoreSites.getCurrentSite())||void 0===n||!n.isFeatureDisabled("CoreUserDelegate_picture"))}logView(e,n,r){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(r),i={userid:e};return n&&(i.courseid=n),o.write("core_user_view_user_profile",i)}))()}logParticipantsView(e,n){return(0,o.A)((function*(){return(yield a.CoreSites.getSite(n)).write("core_user_view_user_list",{courseid:e})}))()}prefetchProfiles(e,n,r){var i=this;return(0,o.A)((function*(){if(!(r=r||a.CoreSites.getCurrentSiteId()))return;const c={};yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){if(null!==e&&r&&!(c[e]||e<=0)){c[e]=!0;try{const o=yield i.getProfile(e,n,!1,r);o.profileimageurl&&(yield s.CoreFilepool.addToQueueByUrl(r,o.profileimageurl))}catch(n){i.logger.warn(`Ignore error when prefetching user ${e}`,n)}}}));return function(n){return e.apply(this,arguments)}}()))}))()}prefetchUserAvatars(e,n,r){var i=this;return(0,o.A)((function*(){if(!(r=r||a.CoreSites.getCurrentSiteId()))return;const c={},u=e.map(function(){var e=(0,o.A)((function*(e){const o=e[n];if(o&&!c[o]&&r&&(!o||!b.F.isThemeImageUrl(o))){c[o]=!0;try{yield s.CoreFilepool.addToQueueByUrl(r,o)}catch(n){i.logger.warn(`Ignore error when prefetching user avatar ${o}`,e,n)}}}));return function(n){return e.apply(this,arguments)}}());yield Promise.all(u)}))()}searchParticipants(e,n,r=!0,i=0,s=_._u,c){var u=this;return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(c),p={courseid:e,search:n,searchanywhere:!!r,page:i,perpage:s},f=yield o.read("core_enrol_search_users",p,{getFromCache:!1}),g=f.length>=s;return u.storeUsers(f,c),{participants:f,canLoadMore:g}}))()}storeUser(e,n,r,i){return(0,o.A)((function*(){if(!e)return;const o=yield a.CoreSites.getSite(i),s={id:e,fullname:n,profileimageurl:r};yield o.getDb().insertRecord(C.g6,s)}))()}storeUsers(e,n){var r=this;return(0,o.A)((function*(){yield Promise.all(e.map((e=>r.storeUser(Number(e.id),e.fullname,e.profileimageurl,n))))}))()}setUserPreference(e,n,r){var s=this;return(0,o.A)((function*(){if(r=r||a.CoreSites.getCurrentSiteId(),!i.WE.isOnline())return u.CoreUserOffline.setPreference(e,n);try{const o=[{type:e,value:n}];yield s.updateUserPreferences(o,void 0,void 0,r),yield Promise.all([u.CoreUserOffline.setPreference(e,n,n),A.g.ignoreErrors(s.invalidateUserPreference(e))])}catch(r){yield u.CoreUserOffline.setPreference(e,n)}}))()}updateUserPreference(e,n,r,o){return this.updateUserPreferences([{type:e,value:n}],void 0,r,o)}updateUserPreferences(e,n,r,i){return(0,o.A)((function*(){const o=yield a.CoreSites.getSite(i),s={userid:r=r||o.getUserId(),preferences:e};void 0!==n&&(s.emailstop=n?1:0),yield o.write("core_user_update_user_preferences",s,{responseExpected:!1})}))()}}return(e=CoreUserProvider).ROOT_CACHE_KEY="mmUser:",e.PARTICIPANTS_LIST_LIMIT=_._u,e.ɵfac=function CoreUserProvider_Factory(n){return new(n||e)},e.ɵprov=E.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserProvider})();const T=(0,f.Qd)(I)},71201:(e,n,r)=>{"use strict";r.d(n,{Lr:()=>Y,EP:()=>getUsersExportedDirectives,Zk:()=>getUsersServices});var o=r(10467),i=r(54438),s=r(42858),a=r(52749),c=r(87604),u=r(5784),p=r(86552),f=r(79555);let g=(()=>{var e;class CoreUserProfileMailHandlerService{constructor(){this.name="CoreUserProfileMail",this.priority=700,this.type=u.CoreUserProfileHandlerType.BUTTON}isEnabled(){return(0,o.A)((function*(){return!0}))()}isEnabledForUser(e){return(0,o.A)((function*(){return e.id!=a.CoreSites.getCurrentSiteUserId()&&!!e.email}))()}getDisplayData(){return{icon:"fas-envelope",title:"core.user.sendemail",class:"core-user-profile-mail",action:(e,n)=>{e.preventDefault(),e.stopPropagation(),p.j.openInBrowser(`mailto:${n.email}`,{showBrowserWarning:!1})}}}}return(e=CoreUserProfileMailHandlerService).ɵfac=function CoreUserProfileMailHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserProfileMailHandlerService})();const v=(0,f.Qd)(g);var C=r(33504),b=r(71112),w=r(15324);let A=(()=>{var e;class CoreUserProfileLinkHandlerService extends b.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="CoreUserProfileLinkHandler",this.pattern=/(\/user\/view\.php)|(\/user\/profile\.php)/}getActions(e,n,r){return[{action:(i=(0,o.A)((function*(e){let n=r.id?parseInt(r.id,10):0;n||(n=(yield a.CoreSites.getSite(e)).getUserId());const o={courseId:r.course,userId:n};yield w.CoreNavigator.navigateToSitePath("/user",{params:o,siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e,n){return(0,o.A)((function*(){return-1===n.indexOf("/grade/report/")}))()}}return(e=CoreUserProfileLinkHandlerService).ɵfac=(()=>{let n;return function CoreUserProfileLinkHandlerService_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserProfileLinkHandlerService})();const _=(0,f.Qd)(A);var E=r(26135),I=r(96828);let T=(()=>{var e;class CoreUserSyncCronHandlerService{constructor(){this.name="CoreUserSyncCronHandler"}execute(e,n){return I.CoreUserSync.syncPreferences(e)}getInterval(){return 3e5}}return(e=CoreUserSyncCronHandlerService).ɵfac=function CoreUserSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserSyncCronHandlerService})();const P=(0,f.Qd)(T);var k=r(35161);let x=(()=>{var e;class CoreUserTagAreaHandlerService{constructor(){this.name="CoreUserTagAreaHandler",this.type="core/user"}isEnabled(){return(0,o.A)((function*(){return!0}))()}parseContent(e){const n=[],r=(0,k.B)(e);return Array.from(r.querySelectorAll("div.user-box")).forEach((e=>{const r=e.querySelector("a:first-child");if(!r)return;const o=r.getAttribute("href")||"",i=o.match(/.*\/user\/(?:profile|view)\.php\?id=(\d+)/);if(!i)return;const s=r.querySelector("img.userpicture"),a=s?s.getAttribute("src"):"";n.push({avatarUrl:a,heading:e.innerText,details:[],url:o,user:{id:Number(i[1]),profileimageurl:a||"",fullname:e.innerText}})})),n}getComponent(){return(0,o.A)((function*(){const{CoreUserTagAreaComponent:e}=yield r.e(45948).then(r.bind(r,45948));return e}))()}}return(e=CoreUserTagAreaHandlerService).ɵfac=function CoreUserTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserTagAreaHandlerService})();const F=(0,f.Qd)(x);var R=r(88452),N=r(69342),L=r(78765),H=r(86123),U=r(76833),B=r(98870);let j=(()=>{var e;class CoreUserCourseOptionHandlerService{constructor(){this.name="CoreUserParticipants",this.priority=600}invalidateEnabledForCourse(e,n){return void 0!==(null==n?void 0:n.participants)?Promise.resolve():B.CoreUser.invalidateParticipantsList(e)}isEnabled(){return Promise.resolve(!0)}isEnabledForCourse(e,n,r){return(!n||n.type!==H.CoreCourseAccessDataType.ACCESS_GUEST)&&(void 0!==(null==r?void 0:r.participants)?r.participants:B.CoreUser.isPluginEnabledForCourse(e))}getDisplayData(){return{title:"core.user.participants",class:"core-user-participants-handler",page:U.Le}}prefetch(e){return(0,o.A)((function*(){let n=0,r=!0;do{const o=yield B.CoreUser.getParticipants(e.id,n,void 0,void 0,!0);n+=o.participants.length,r=o.canLoadMore}while(r)}))()}}return(e=CoreUserCourseOptionHandlerService).ɵfac=function CoreUserCourseOptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserCourseOptionHandlerService})();const V=(0,f.Qd)(j);var G=r(41131),z=r(94114),q=r(93417),W=r(49882);function getUsersServices(){return _getUsersServices.apply(this,arguments)}function _getUsersServices(){return(_getUsersServices=(0,o.A)((function*(){const{CoreUserProvider:e}=yield Promise.resolve().then(r.bind(r,98870)),{CoreUserHelperProvider:n}=yield Promise.resolve().then(r.bind(r,41131)),{CoreUserDelegateService:o}=yield Promise.resolve().then(r.bind(r,5784)),{CoreUserProfileFieldDelegateService:i}=yield Promise.resolve().then(r.bind(r,999)),{CoreUserOfflineProvider:s}=yield Promise.resolve().then(r.bind(r,88928)),{CoreUserSyncProvider:a}=yield Promise.resolve().then(r.bind(r,96828));return[e,n,o,i,s,a]}))).apply(this,arguments)}function getUsersExportedDirectives(){return _getUsersExportedDirectives.apply(this,arguments)}function _getUsersExportedDirectives(){return(_getUsersExportedDirectives=(0,o.A)((function*(){const{CoreUserProfileFieldComponent:e}=yield r.e(72076).then(r.bind(r,11544));return[e]}))).apply(this,arguments)}const K=[{path:"user/completeprofile",loadComponent:()=>r.e(34628).then(r.bind(r,34628))}],Q=[{path:"user",loadChildren:()=>[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(24800)]).then(r.bind(r,24800))},{path:"about",loadComponent:()=>Promise.all([r.e(72076),r.e(77196)]).then(r.bind(r,77196))}]},...(0,z.VI)([{path:`${H.CORE_COURSE_PAGE_NAME}/${H.CORE_COURSE_INDEX_PATH}/${U.Le}/:userId`,loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(24800)]).then(r.bind(r,24800)),data:{swipeManagerSource:"participants"}}],(()=>q.CoreScreen.isMobile))],X=[{path:U.Le,loadComponent:()=>Promise.all([r.e(33285),r.e(75357),r.e(72076),r.e(40974)]).then(r.bind(r,40974)),loadChildren:()=>(0,z.VI)([{path:":userId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(24800)]).then(r.bind(r,24800)),data:{swipeManagerSource:"participants"}}],(()=>q.CoreScreen.isTablet))}];let Y=(()=>{var e;class CoreUserModule{}return(e=CoreUserModule).ɵfac=function CoreUserModule_Factory(n){return new(n||e)},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({providers:[{provide:a.CORE_SITE_SCHEMAS,useValue:[c.b$,c.Y7],multi:!0},{provide:i.hnV,multi:!0,useValue:()=>{u.CoreUserDelegate.registerHandler(v.instance),C.CoreContentLinksDelegate.registerHandler(_.instance),E.CoreCronDelegate.register(P.instance),R.CoreTagAreaDelegate.registerHandler(F.instance),L.CoreCourseOptionsDelegate.registerHandler(V.instance),W.z.on(W.z.USER_NOT_FULLY_SETUP,(e=>{G.CoreUserHelper.openCompleteProfile(e.siteId)}))}}],imports:[z.uH.forChild(K),s.b.forChild(Q),N.l.forChild({children:X})]}),CoreUserModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&i.Obh(Y,{imports:[z.uH,s.b,N.l]}))},74037:(e,n,r)=>{"use strict";r.d(n,{E:()=>E});var o=r(10467),i=r(74431),s=r(89312),a=r(71689),c=r(89632),u=r(79555),p=r(62393),f=r(82907),g=r(10025);const v="user_tours",C={name:"CoreUserTours",version:1,tables:[{name:v,columns:[{name:"id",type:"TEXT",primaryKey:!0},{name:"acknowledgedTime",type:"INTEGER"}]}]};var b=r(25124),w=r(53794),A=r(54438);let _=(()=>{var e;class CoreUserToursService{constructor(){this.table=(0,s.A)(),this.tours=[],this.toursListeners={}}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield c.CoreAppDB.createTablesFromSchema(C),e.table.setLazyConstructor((0,o.A)((function*(){const e=new a.D({cachingStrategy:a.T.Eager},c.CoreAppDB.getDB(),v);return yield e.initialize(),e})))}))()}isPending(e){var n=this;return(0,o.A)((function*(){if(n.isDisabled(e))return!1;return!(yield n.table.hasAnyByPrimaryKey({id:e}))}))()}acknowledge(e){var n=this;return(0,o.A)((function*(){yield n.table.insert({id:e,acknowledgedTime:Date.now()})}))()}showIfPending(e){var n=this;return(0,o.A)((function*(){return(yield E.isPending(e.id))?n.show(e):null}))()}show(e){var n=this;return(0,o.A)((function*(){var o,i,s;const{CoreUserToursUserTourComponent:a}=yield r.e(13620).then(r.bind(r,13620)),{delay:c,...f}=e;yield w.H.wait(null!=c?c:200),e.after&&(yield n.waitForUserTour(e.after,e.afterTimeout));const g=null!==(o=document.querySelector("ion-app"))&&void 0!==o?o:document.body,v=g.querySelector("ion-router-outlet, ion-nav, #ion-view-container-root"),C=yield u.yG.attachViewToDom(g,a,{...f,container:g}),b=p.D.require(C,a);return null==v||v.setAttribute("aria-hidden","true"),null==v||v.setAttribute("tabindex","-1"),null===(i=n.toursListeners[e.id])||void 0===i||i.forEach((e=>e.resolve())),n.startTour(b,null!==(s=e.watch)&&void 0!==s?s:e.focus)}))()}dismiss(e=!0){var n=this;return(0,o.A)((function*(){var r,o;if(yield null===(r=n.getForegroundTour())||void 0===r?void 0:r.dismiss(e),n.hasVisibleTour())return;const i=(null!==(o=document.querySelector("ion-app"))&&void 0!==o?o:document.body).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");null==i||i.removeAttribute("aria-hidden"),null==i||i.removeAttribute("tabindex")}))()}startTour(e,n){if(!n)return this.activateTour(e),{cancel:()=>e.dismiss(!1)};let r,i=f.y.waitToBeInViewport(n);return i.then((()=>{i=void 0,this.activateTour(e),r=f.y.watchElementInViewport(n,(n=>n?this.activateTour(e):this.deactivateTour(e))),g.O.once(e.beforeDismiss,(()=>{var e;null===(e=r)||void 0===e||e(),i=void 0,r=void 0}))})),{cancel:(s=(0,o.A)((function*(){var n;null===(n=i)||void 0===n||n.cancel(),r&&(r(),yield e.dismiss(!1))})),function cancel(){return s.apply(this,arguments)})};var s}activateTour(e){var n;g.O.once(e.beforeDismiss,(()=>{var n;const r=this.getTourIndex(e);-1!==r&&(this.tours.splice(r,1),null===(n=this.getForegroundTour())||void 0===n||n.show())}));const r=this.getTourIndex(e),o=this.getForegroundTour();(null==o?void 0:o.id)!==e.id&&(-1!==r?this.tours[r].visible=!0:this.tours.push({visible:!0,component:e}),(null===(n=this.getForegroundTour())||void 0===n?void 0:n.id)===e.id&&e.show())}getForegroundTour(){var e;return null===(e=this.tours.find((({visible:e})=>e)))||void 0===e?void 0:e.component}hasVisibleTour(){return this.tours.some((({visible:e})=>e))}getTourIndex(e){return this.tours.findIndex((({component:n})=>n===e))}deactivateTour(e){const n=this.getTourIndex(e);if(-1===n)return;const r=this.getForegroundTour();this.tours[n].visible=!1,(null==r?void 0:r.id)===e.id&&e.hide()}isDisabled(e){var n;return!!i.CoreConstants.CONFIG.disableUserTours||!!e&&!(null===(n=i.CoreConstants.CONFIG.disabledUserTours)||void 0===n||!n.includes(e))}resetTours(){var e=this;return(0,o.A)((function*(){e.isDisabled()||(yield e.table.delete())}))()}waitForUserTour(e,n){var r=this;return(0,o.A)((function*(){var o;const i=new b._,s=r.toursListeners[e]=null!==(o=r.toursListeners[e])&&void 0!==o?o:[],removeListener=()=>{const e=s.indexOf(i);-1!==e&&s.splice(e,1)};s.push(i),i.then(removeListener).catch(removeListener),n&&setTimeout((()=>i.resolve()),n),yield i}))()}}return(e=CoreUserToursService).ɵfac=function CoreUserToursService_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUserToursService})();const E=(0,u.Qd)(_)},66860:(e,n,r)=>{"use strict";r.d(n,{$0:()=>o,X9:()=>s,zv:()=>i});const o="CoreReadingModeSettings",i={AUTO:"auto",LIGHT:"light",DARK:"dark",SEPIA:"sepia",HCM:"hcm"},s={zoom:100,showMultimedia:!1,theme:i.HCM}},69534:(e,n,r)=>{"use strict";r.d(n,{m:()=>g});var o=r(10467),i=r(85190),s=r(93589),a=r(15324),c=r(79555),u=r(66860),p=r(54438);let f=(()=>{var e;class CoreViewerService{viewImage(e,n,i,a){return(0,o.A)((function*(){if(!e)return;const{CoreViewerImageComponent:o}=yield r.e(42257).then(r.bind(r,42257));yield s.I.openModal({component:o,componentProps:{title:n,image:e,component:i,componentId:a},cssClass:"core-modal-transparent"})}))()}viewText(e,n,i){return(0,o.A)((function*(){if(!n.length)return;i=i||{};const{CoreViewerTextComponent:o}=yield r.e(42161).then(r.bind(r,42161)),a=Object.assign(i.modalOptions||{},{component:o});delete i.modalOptions,a.componentProps={title:e,content:n,...i},yield s.I.openModal(a)}))()}openIframeViewer(e,n,r){return(0,o.A)((function*(){yield a.CoreNavigator.navigateToSitePath("viewer/iframe",{params:{title:e,url:n,autoLogin:r}})}))()}getReadingModeSettings(){return(0,o.A)((function*(){return i.CoreConfig.getJSON(u.$0,u.X9)}))()}loadReadingModeSettings(){var e=this;return(0,o.A)((function*(){const n=yield e.getReadingModeSettings();e.applyReadingModeSettings(n)}))()}applyReadingModeSettings(e){document.body.style.setProperty("--reading-mode-zoom",`${e.zoom}%`),document.body.style.setProperty("--reading-mode-width",100/e.zoom*100+"%"),Object.values(u.zv).forEach((e=>{document.body.classList.remove(`core-reading-mode-theme-${e}`)})),document.body.classList.add(`core-reading-mode-theme-${e.theme}`),document.body.classList.toggle("core-reading-mode-multimedia-hidden",!e.showMultimedia)}setReadingModeSettings(e){var n=this;return(0,o.A)((function*(){yield i.CoreConfig.setJSON(u.$0,e),n.applyReadingModeSettings(e)}))()}}return(e=CoreViewerService).ɵfac=function CoreViewerService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreViewerService})();const g=(0,c.Qd)(f)},51694:(e,n,r)=>{"use strict";r.d(n,{i:()=>CoreXAPIIRI});var o=r(10467),i=r(52749),s=r(8756);class CoreXAPIIRI{static generate(e,n="element",r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);return s.$.concatenatePaths(o.getURL(),`xapi/${n}/${e}`)}))()}static extract(e,n="element",r){return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r),a=s.$.concatenatePaths(o.getURL(),`xapi/${n}/`);return e.replace(a,"")}))()}}},74345:(e,n,r)=>{"use strict";r.d(n,{w:()=>CoreXAPIItemAgent});class CoreXAPIItemAgent{constructor(e,n){this.data=e,this.user=n}getUser(){return this.user}getData(){return this.data}static createFromSite(e){var n,r;const o=null!==(n=null===(r=e.getInfo())||void 0===r?void 0:r.username)&&void 0!==n?n:"",i={name:o,objectType:"Agent",account:{name:e.getUserId(),homePage:e.getURL()}};return new CoreXAPIItemAgent(i,{id:e.getUserId(),username:o})}}},73918:(e,n,r)=>{"use strict";r.d(n,{c6:()=>i,ck:()=>o,em:()=>s});const o="core_xapi_statements",i="core_xapi_states",s={name:"CoreXAPIOfflineProvider",version:2,tables:[{name:o,columns:[{name:"id",type:"INTEGER",primaryKey:!0,autoIncrement:!0},{name:"contextid",type:"INTEGER"},{name:"component",type:"TEXT"},{name:"statements",type:"TEXT"},{name:"timecreated",type:"INTEGER"},{name:"courseid",type:"INTEGER"},{name:"extra",type:"TEXT"}]},{name:i,columns:[{name:"id",type:"INTEGER",primaryKey:!0,autoIncrement:!0},{name:"component",type:"TEXT",notNull:!0},{name:"itemid",type:"INTEGER",notNull:!0},{name:"stateid",type:"TEXT",notNull:!0},{name:"statedata",type:"TEXT"},{name:"registration",type:"TEXT"},{name:"timecreated",type:"INTEGER",notNull:!0},{name:"timemodified",type:"INTEGER",notNull:!0},{name:"courseid",type:"INTEGER"},{name:"extra",type:"TEXT"}]}]}},59863:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreXAPIOffline:()=>f,CoreXAPIOfflineProvider:()=>p});var o=r(10467),i=r(52749),s=r(55554),a=r(79555),c=r(73918),u=r(54438);let p=(()=>{var e;class CoreXAPIOfflineProvider{contextHasData(e,n){var r=this;return(0,o.A)((function*(){const[o,i]=yield Promise.all([r.contextHasStatements(e,n),r.itemHasStates(e,n)]);return o||i}))()}contextHasStatements(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getContextStatements(e,n);return o&&o.length>0}))()}deleteStatements(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSiteDb(n);yield r.deleteRecords(c.ck,{id:e})}))()}deleteStatementsForContext(e,n){return(0,o.A)((function*(){const r=yield i.CoreSites.getSiteDb(n);yield r.deleteRecords(c.ck,{contextid:e})}))()}deleteStates(e,n={}){return(0,o.A)((function*(){const r=yield i.CoreSites.getSiteDb(n.siteId),o={component:e};void 0!==n.itemId&&(o.itemid=n.itemId),void 0!==n.stateId&&(o.stateid=n.stateId),void 0!==n.registration&&(o.registration=n.registration),yield r.deleteRecords(c.c6,o)}))()}getAllStatements(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSiteDb(e)).getRecords(c.ck,void 0,"timecreated ASC")}))()}getAllStates(e){return(0,o.A)((function*(){return(yield i.CoreSites.getSiteDb(e)).getRecords(c.c6,void 0,"timemodified ASC")}))()}getContextStatements(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSiteDb(n)).getRecords(c.ck,{contextid:e},"timecreated ASC")}))()}getItemStates(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSiteDb(n)).getRecords(c.c6,{itemid:e},"timecreated ASC")}))()}getStatements(e,n){return(0,o.A)((function*(){return(yield i.CoreSites.getSiteDb(n)).getRecord(c.ck,{id:e})}))()}getState(e,n,r,s={}){return(0,o.A)((function*(){const o=yield i.CoreSites.getSiteDb(null==s?void 0:s.siteId),a={component:e,itemid:n,stateid:r};return s.registration&&(a.registration=s.registration),o.getRecord(c.c6,a)}))()}itemHasStates(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getItemStates(e,n);return o&&o.length>0}))()}saveState(e,n,r,a,u={}){var p=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSiteDb(null==u?void 0:u.siteId);if(yield s.g.ignoreErrors(p.getState(e,n,r,u))){const i={statedata:a,timemodified:Date.now()},s={component:e,itemid:n,stateid:r,registration:null==u?void 0:u.registration};yield o.updateRecords(c.c6,i,s)}else{const i={component:e,itemid:n,stateid:r,statedata:a,timecreated:Date.now(),timemodified:Date.now(),courseid:null==u?void 0:u.courseId,extra:null==u?void 0:u.extra};yield o.insertRecord(c.c6,i)}}))()}saveStatements(e,n,r,s){return(0,o.A)((function*(){const o=yield i.CoreSites.getSiteDb(null==s?void 0:s.siteId),a={contextid:e,component:n,statements:r,timecreated:Date.now(),courseid:null==s?void 0:s.courseId,extra:null==s?void 0:s.extra};yield o.insertRecord(c.ck,a)}))()}}return(e=CoreXAPIOfflineProvider).ɵfac=function CoreXAPIOfflineProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreXAPIOfflineProvider})();const f=(0,a.Qd)(p)},65630:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreXAPI:()=>_,CoreXAPIProvider:()=>A,XAPI_STATE_DELETED:()=>w});var o=r(10467),i=r(94455),s=r(52749),a=r(43411),c=r(59863),u=r(79555),p=r(74345),f=r(51694),g=r(75629),v=r(6787),C=r(55554),b=r(54438);const w="STATE_DELETED";let A=(()=>{var e;class CoreXAPIProvider{constructor(){this.logger=v.CoreLogger.getInstance("CoreXAPIProvider")}canPostStatements(e){var n=this;return(0,o.A)((function*(){const r=yield s.CoreSites.getSite(e);return n.canPostStatementsInSite(r)}))()}canPostStatementsInSite(e){return!(!(e=e||s.CoreSites.getCurrentSite())||!e.wsAvailable("core_xapi_statement_post"))}deleteState(e,n,r,u,p={}){var v=this;return(0,o.A)((function*(){p.siteId=p.siteId||s.CoreSites.getCurrentSiteId();const b=function(){var r=(0,o.A)((function*(){const r=yield f.i.extract(n,"activity",p.siteId),o=Number(r);if(isNaN(o))throw new g.CoreError("Invalid activity ID sent to xAPI delete state.");return yield c.CoreXAPIOffline.saveState(e,o,u,w,p),!1}));return function storeOffline(){return r.apply(this,arguments)}}();if(!i.WE.isOnline()||p.offline)return b();try{yield v.deleteStateOnline(e,n,JSON.stringify(r),u,p);const o=yield f.i.extract(n,"activity",p.siteId),i=Number(o);return isNaN(i)||(yield C.g.ignoreErrors(c.CoreXAPIOffline.deleteStates(e,{itemId:i,stateId:u,registration:p.registration,siteId:p.siteId}))),!0}catch(e){if(a.CoreWSError.isWebServiceError(e))throw e;try{return yield b()}catch(n){throw v.logger.error("Error storing a DELETED xAPI state in offline storage.",n),e}}}))()}deleteStateOnline(e,n,r,i,a={}){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(a.siteId)).write("core_xapi_delete_state",{component:e,activityId:n,agent:r,stateId:i,registration:a.registration},{typeExpected:"boolean"})}))()}getState(e,n,r,i={}){var s=this;return(0,o.A)((function*(){try{var o;const s=yield c.CoreXAPIOffline.getState(e,n,r,i);return s.statedata!==w&&null!==(o=s.statedata)&&void 0!==o?o:null}catch{}return s.getStateFromServer(e,n,r,i)}))()}getStateCacheKey(e,n,r,o,i){return`${CoreXAPIProvider.ROOT_CACHE_KEY}state:${n}:${r}:${o}:${null!=i?i:""}`}getStateFromServer(e,n,r,i={}){var a=this;return(0,o.A)((function*(){const[o,c]=yield Promise.all([s.CoreSites.getSite(i.siteId),f.i.generate(n,"activity")]),u={component:e,activityId:c,agent:JSON.stringify(p.w.createFromSite(o).getData()),stateId:r,registration:i.registration},g={typeExpected:"jsonstring",cacheKey:a.getStateCacheKey(o.getURL(),e,n,r,i.registration),component:i.appComponent,componentId:i.appComponentId,...s.CoreSites.getReadingStrategyPreSets(i.readingStrategy)};return o.read("core_xapi_get_state",u,g)}))()}getStatesSince(e,n,r={}){return(0,o.A)((function*(){const[o,i]=yield Promise.all([s.CoreSites.getSite(r.siteId),f.i.generate(n,"activity")]),a={component:e,activityId:i,agent:JSON.stringify(p.w.createFromSite(o).getData()),registration:r.registration};return r.since&&(a.since=String(Math.floor(r.since/1e3))),o.write("core_xapi_get_states",a)}))()}invalidateState(e,n,r,i={}){var a=this;return(0,o.A)((function*(){const o=yield s.CoreSites.getSite(i.siteId);yield o.invalidateWsCacheForKey(a.getStateCacheKey(o.getURL(),e,n,r,i.registration))}))()}postStatements(e,n,r,u={}){var p=this;return(0,o.A)((function*(){u.siteId=u.siteId||s.CoreSites.getCurrentSiteId();const f=function(){var i=(0,o.A)((function*(){return yield c.CoreXAPIOffline.saveStatements(e,n,r,u),!1}));return function storeOffline(){return i.apply(this,arguments)}}();if(!i.WE.isOnline()||u.offline)return f();try{return yield p.postStatementsOnline(n,r,u.siteId),!0}catch(e){if(a.CoreWSError.isWebServiceError(e))throw e;return f()}}))()}postStatementsOnline(e,n,r){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(r)).write("core_xapi_statement_post",{component:e,requestjson:n})}))()}postState(e,n,r,u,p,v={}){var C=this;return(0,o.A)((function*(){v.siteId=v.siteId||s.CoreSites.getCurrentSiteId();const b=function(){var r=(0,o.A)((function*(){const r=yield f.i.extract(n,"activity",v.siteId),o=Number(r);if(isNaN(o))throw new g.CoreError("Invalid activity ID sent to xAPI post state.");return yield c.CoreXAPIOffline.saveState(e,o,u,p,v),!1}));return function storeOffline(){return r.apply(this,arguments)}}();if(!i.WE.isOnline()||v.offline)return b();try{return yield C.postStateOnline(e,n,JSON.stringify(r),u,p,v),!0}catch(e){if(a.CoreWSError.isWebServiceError(e))throw e;try{return yield b()}catch(n){throw C.logger.error("Error storing xAPI state in offline storage.",n),e}}}))()}postStateOnline(e,n,r,i,a,c={}){return(0,o.A)((function*(){return(yield s.CoreSites.getSite(c.siteId)).write("core_xapi_post_state",{component:e,activityId:n,agent:r,stateId:i,stateData:a,registration:c.registration},{typeExpected:"boolean"})}))()}}return(e=CoreXAPIProvider).ROOT_CACHE_KEY="CoreXAPI:",e.ɵfac=function CoreXAPIProvider_Factory(n){return new(n||e)},e.ɵprov=b.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreXAPIProvider})();const _=(0,u.Qd)(A)},57673:(e,n,r)=>{"use strict";r.d(n,{E:()=>c,d:()=>getXAPIServices});var o=r(10467),i=r(52749),s=r(73918),a=r(54438);function getXAPIServices(){return _getXAPIServices.apply(this,arguments)}function _getXAPIServices(){return(_getXAPIServices=(0,o.A)((function*(){const{CoreXAPIProvider:e}=yield Promise.resolve().then(r.bind(r,65630)),{CoreXAPIOfflineProvider:n}=yield Promise.resolve().then(r.bind(r,59863));return[e,n]}))).apply(this,arguments)}let c=(()=>{var e;class CoreXAPIModule{}return(e=CoreXAPIModule).ɵfac=function CoreXAPIModule_Factory(n){return new(n||e)},e.ɵmod=a.$C({type:e}),e.ɵinj=a.G2t({providers:[{provide:i.CORE_SITE_SCHEMAS,useValue:[s.em],multi:!0}]}),CoreXAPIModule})()},6007:(e,n,r)=>{"use strict";r.d(n,{V:()=>s});var o=r(10467),i=r(55554);const s=function(){var e=(0,o.A)((function*(e){return!(e=>null!==e&&"canLeave"in e)(e)||i.g.ignoreErrors(e.canLeave(),!1)}));return function canLeaveGuard(n){return e.apply(this,arguments)}}()},22419:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(36358),s=r(19483);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){s.n.initialize(),i.CoreApp.initialize()}))).apply(this,arguments)}},74038:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(45507);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){yield i.CoreFile.clearTmpFolder()}))).apply(this,arguments)}},97111:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(42370),s=r(86294);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){yield s.CoreUpdateManager.donePromise,i.p.consumeStorageRedirect()}))).apply(this,arguments)}},70028:(e,n,r)=>{"use strict";r.r(n),r.d(n,{getInitializerProviders:()=>getInitializerProviders});var o=r(54438);function getInitializerProviders(){0;const e=r(75065);return e.keys().reduce(((n,r)=>{const i=(r.match(/^(?:\.\/)?(.+)\.ts$/)||[])[1];return void 0!==i&&"index"!==i&&n.push({provide:o.hnV,useValue:e(r).default,multi:!0}),n}),[])}},18923:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(89632),s=r(85190),a=r(26135),c=r(88793),u=r(67935),p=r(52749),f=r(56364);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){yield Promise.all([i.CoreAppDB.initializeDatabase(),s.CoreConfig.initializeDatabase(),a.CoreCronDelegate.initializeDatabase(),c.CoreFilepool.initializeDatabase(),u.CoreLocalNotifications.initializeDatabase(),p.CoreSites.initializeDatabase(),f.t.initializeDatabase()])}))).apply(this,arguments)}},78103:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(44460);function __WEBPACK_DEFAULT_EXPORT__(){o.O.addIconsToIonicons()}},72185:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(61798),s=r(85190),a=r(88793),c=r(72881),u=r(67935),p=r(94455),f=r(52749),g=r(86294),v=r(24742);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){yield Promise.all([s.CoreConfig.initialize(),a.CoreFilepool.initialize(),f.CoreSites.initialize(),c.CoreLang.initialize(),u.CoreLocalNotifications.initialize(),p.WE.initialize(),g.CoreUpdateManager.initialize(),v.j.initialize(),i.PQ.initialize()])}))).apply(this,arguments)}},68743:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(85850),s=r(79555),a=r(49882);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){const e={};window.handleOpenURL=n=>{s.SK.run((()=>{e[n]&&Date.now()-e[n]<3e3||i.CoreCustomURLSchemes.isCustomURL(n)&&(e[n]=Date.now(),a.z.trigger(a.z.APP_LAUNCHED_URL,{url:n}),i.CoreCustomURLSchemes.handleCustomURL(n).catch((e=>{i.CoreCustomURLSchemes.treatHandleCustomURLError(e,n,"handleOpenURL")})))}))}}))).apply(this,arguments)}},87246:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(18022),s=r(79555);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){i.CorePlatform.isMobile()&&(yield i.CorePlatform.ready(),s.Eu.setHeader("*","User-Agent",navigator.userAgent))}))).apply(this,arguments)}},27134:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(18022),s=r(5287);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){yield i.CorePlatform.ready(),function isWKUserScriptWindow(e){return i.CorePlatform.isIOS()&&"WKUserScript"in e}(window)&&s.c.injectiOSScripts(window)}))).apply(this,arguments)}},75584:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>initializeApp});var o=r(10467),i=r(18022);function initializeApp(){return _initializeApp.apply(this,arguments)}function _initializeApp(){return(_initializeApp=(0,o.A)((function*(){var e;yield i.CorePlatform.ready(),null!==(e=window.cordova)&&void 0!==e&&e.InAppBrowser&&(window.open=window.cordova.InAppBrowser.open)}))).apply(this,arguments)}},35158:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(70318),i=r(85190),s=r(30159),a=r(85850),c=r(29395),u=r(74431),p=r(89632);function __WEBPACK_DEFAULT_EXPORT__(){u.CoreConstants.enableDevTools()&&!function initializeDevelopmentWindow(e){e.browser=c.a,e.appDBService=p.CoreAppDB.instance,e.configProvider=i.CoreConfig.instance,e.dbProvider=s.CoreDB.instance,e.urlSchemes=a.CoreCustomURLSchemes.instance,e.pushNotifications=o.CorePushNotifications.instance}(window)}},67089:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(51092),s=r(82461),a=r(90121),c=r(27719),u=r(52749),p=r(85850),f=r(8014),g=r(86552),v=r(79555),C=r(49882),b=r(25572);let w=null;function __WEBPACK_DEFAULT_EXPORT__(){C.z.on(C.z.IAB_LOAD_START,function(){var e=(0,o.A)((function*(e){const n=f.F.getUrlProtocol(e.url),r=e.url.replace(/^https?:\/\//,""),o=f.F.getUrlProtocol(r),s=o&&"file"!==o&&"cdvfile"!==o;return p.CoreCustomURLSchemes.isCustomURL(r)?(p.CoreCustomURLSchemes.handleCustomURL(r).catch((e=>{p.CoreCustomURLSchemes.treatHandleCustomURLError(e,r,"InAppBrowser")})),g.j.closeInAppBrowser(),void 0):s&&r.includes("://token=")?(g.j.closeInAppBrowser(),b.CoreAlerts.showError(new i.CoreSiteError({supportConfig:u.CoreSites.getCurrentSite()?a.z.forCurrentSite():new c.v,message:v.HT.instant("core.errorurlschemeinvalidscheme",{$a:o})})),void 0):s?(g.j.openInBrowser(r,{showBrowserWarning:!1}),w?g.j.openInApp(w):g.j.closeInAppBrowser(),void 0):(w=n?`${n}://${r}`:r,void 0)}));return function(n){return e.apply(this,arguments)}}()),C.z.on(C.z.IAB_EXIT,(()=>{w=null,s.CoreLoginHelper.isWaitingForBrowser()&&(s.CoreLoginHelper.stopWaitingForBrowser(),s.CoreLoginHelper.checkLogout())}))}},63371:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(52749),s=r(86294);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){yield s.CoreUpdateManager.donePromise,yield i.CoreSites.restoreSession()}))).apply(this,arguments)}},27464:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(44426),i=r(79555);function __WEBPACK_DEFAULT_EXPORT__(){const e=i.SK.instance,n=i.s3.instance;n.onKeyboardShow().subscribe((n=>e.run((()=>o.p.onKeyboardShow(n.keyboardHeight))))),n.onKeyboardHide().subscribe((()=>e.run((()=>o.p.onKeyboardHide())))),n.onKeyboardWillShow().subscribe((()=>e.run((()=>o.p.onKeyboardWillShow())))),n.onKeyboardWillHide().subscribe((()=>e.run((()=>o.p.onKeyboardWillHide()))))}},43819:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(10467),i=r(18022);function __WEBPACK_DEFAULT_EXPORT__(){return _ref.apply(this,arguments)}function _ref(){return(_ref=(0,o.A)((function*(){yield i.CorePlatform.ready()}))).apply(this,arguments)}},25976:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(26135),i=r(79555),s=r(94455);function __WEBPACK_DEFAULT_EXPORT__(){s.WE.onConnectShouldBeStable().subscribe((()=>{i.SK.run((()=>o.CoreCronDelegate.startNetworkHandlers()))}))}},32083:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(93417);function __WEBPACK_DEFAULT_EXPORT__(){o.CoreScreen.watchViewport(),o.CoreScreen.watchOrientation()}},78913:(e,n,r)=>{"use strict";r.d(n,{b:()=>a});var o=r(6787),i=r(75383),s=r(54438);let a=(()=>{var e;class CoreBytesToSizePipe{constructor(){this.logger=o.CoreLogger.getInstance("CoreBytesToSizePipe")}transform(e){if("string"==typeof e){const n=parseInt(e,10);if(isNaN(n))return this.logger.error("Invalid value received",e),e;e=n}return i.Ni.bytesToSize(e)}}return(e=CoreBytesToSizePipe).ɵfac=function CoreBytesToSizePipe_Factory(n){return new(n||e)},e.ɵpipe=s.EJ8({name:"coreBytesToSize",type:e,pure:!0,standalone:!0}),CoreBytesToSizePipe})()},54048:(e,n,r)=>{"use strict";r.d(n,{R:()=>i});var o=r(54438);let i=(()=>{var e;class CoreCreateLinksPipe{transform(e){return e.replace(CoreCreateLinksPipe.replacePattern,'<a href="$1">$1</a>')}}return(e=CoreCreateLinksPipe).replacePattern=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])(?![^<]*>|[^<>]*<\/)/gim,e.ɵfac=function CoreCreateLinksPipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"coreCreateLinks",type:e,pure:!0,standalone:!0}),CoreCreateLinksPipe})()},2423:(e,n,r)=>{"use strict";r.d(n,{Y:()=>u});var o=r(94339),i=r(24742),s=r(79555),a=r(6787),c=r(54438);let u=(()=>{var e;class CoreDateDayOrTimePipe{constructor(){this.logger=a.CoreLogger.getInstance("CoreDateDayOrTimePipe")}transform(e){if("string"==typeof e){const n=parseInt(e,10);if(isNaN(n))return this.logger.error("Invalid value received",e),e;e=n}return(0,o.yf)(1e3*e).calendar(null,{sameDay:i.j.convertPHPToJSDateFormat(s.HT.instant("core.strftimetime")),lastDay:s.HT.instant("core.dflastweekdate"),lastWeek:s.HT.instant("core.dflastweekdate"),sameElse:i.j.convertPHPToJSDateFormat(s.HT.instant("core.strftimedatefullshort"))})}}return(e=CoreDateDayOrTimePipe).ɵfac=function CoreDateDayOrTimePipe_Factory(n){return new(n||e)},e.ɵpipe=c.EJ8({name:"coreDateDayOrTime",type:e,pure:!0,standalone:!0}),CoreDateDayOrTimePipe})()},49780:(e,n,r)=>{"use strict";r.d(n,{S:()=>a});var o=r(6787),i=r(24742),s=r(54438);let a=(()=>{var e;class CoreDurationPipe{constructor(){this.logger=o.CoreLogger.getInstance("CoreBytesToSizePipe")}transform(e){if("string"==typeof e){const n=parseInt(e,10);if(isNaN(n))return this.logger.error("Invalid value received",e),e;e=n}return i.j.formatTime(e)}}return(e=CoreDurationPipe).ɵfac=function CoreDurationPipe_Factory(n){return new(n||e)},e.ɵpipe=s.EJ8({name:"coreDuration",type:e,pure:!0,standalone:!0}),CoreDurationPipe})()},59528:(e,n,r)=>{"use strict";r.d(n,{f:()=>a});var o=r(24742),i=r(6787),s=r(54438);let a=(()=>{var e;class CoreFormatDatePipe{constructor(){this.logger=i.CoreLogger.getInstance("CoreFormatDatePipe")}transform(e,n,r){if(n=n||"strftimedaydatetime","string"==typeof(e=e||Date.now())){const n=parseInt(e,10);if(isNaN(n))return this.logger.error("Invalid value received",e),e;e=n}return 0!==n.indexOf("strf")&&0!==n.indexOf("df")||(n=`core.${n}`),void 0===r&&(r=0!=n.indexOf("core.df")),o.j.userDate(e,n,r)}}return(e=CoreFormatDatePipe).ɵfac=function CoreFormatDatePipe_Factory(n){return new(n||e)},e.ɵpipe=s.EJ8({name:"coreFormatDate",type:e,pure:!0,standalone:!0}),CoreFormatDatePipe})()},32885:(e,n,r)=>{"use strict";r.d(n,{w:()=>i});var o=r(54438);let i=(()=>{var e;class CoreNoPeriodPipe{transform(e){return e?e.trim().replace(/\.$/,""):""}}return(e=CoreNoPeriodPipe).ɵfac=function CoreNoPeriodPipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"coreNoPeriod",type:e,pure:!0,standalone:!0}),CoreNoPeriodPipe})()},56228:(e,n,r)=>{"use strict";r.d(n,{Y:()=>c});var o=r(75383),i=r(6787),s=r(74431),a=r(54438);let c=(()=>{var e;class CoreSecondsToHMSPipe{constructor(){this.logger=i.CoreLogger.getInstance("CoreSecondsToHMSPipe")}transform(e,n=!0){if("string"==typeof e){const n=parseInt(e,10);if(isNaN(n))return this.logger.error("Invalid value received",e),e;e=n}else(!e||e<0)&&(e=0);e=Math.floor(e);const r=Math.floor(e/s.CoreConstants.SECONDS_HOUR);e-=r*s.CoreConstants.SECONDS_HOUR;const i=Math.floor(e/s.CoreConstants.SECONDS_MINUTE);return e-=i*s.CoreConstants.SECONDS_MINUTE,n?`${o.Ni.twoDigits(r)}:${o.Ni.twoDigits(i)}:${o.Ni.twoDigits(e)}`:`${o.Ni.twoDigits(i)}:${o.Ni.twoDigits(e)}`}}return(e=CoreSecondsToHMSPipe).ɵfac=function CoreSecondsToHMSPipe_Factory(n){return new(n||e)},e.ɵpipe=a.EJ8({name:"coreSecondsToHMS",type:e,pure:!0,standalone:!0}),CoreSecondsToHMSPipe})()},93453:(e,n,r)=>{"use strict";r.d(n,{A:()=>c});var o=r(79555),i=r(6787),s=r(94339),a=r(54438);let c=(()=>{var e;class CoreTimeAgoPipe{constructor(){this.logger=i.CoreLogger.getInstance("CoreTimeAgoPipe")}transform(e){if("string"==typeof e){const n=parseInt(e,10);if(isNaN(n))return this.logger.error("Invalid value received",e),e;e=n}return o.HT.instant("core.ago",{$a:(0,s.yf)(1e3*e).fromNow(!0)})}}return(e=CoreTimeAgoPipe).ɵfac=function CoreTimeAgoPipe_Factory(n){return new(n||e)},e.ɵpipe=a.EJ8({name:"coreTimeAgo",type:e,pure:!0,standalone:!0}),CoreTimeAgoPipe})()},14028:(e,n,r)=>{"use strict";r.d(n,{O:()=>i});var o=r(54438);let i=(()=>{var e;class CoreTimesPipe{transform(e){return Array.from({length:e},((e,n)=>n))}}return(e=CoreTimesPipe).ɵfac=function CoreTimesPipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"coreTimes",type:e,pure:!0,standalone:!0}),CoreTimesPipe})()},22693:(e,n,r)=>{"use strict";r.d(n,{OF:()=>b,qr:()=>w});var o=r(10467),i=r(59296),s=r(79555),a=r(49882),c=r(52749),u=r(85190),p=r(74431),f=r(75383),g=r(8014),v=r(54438);let C=(()=>{var e;class CoreAnalyticsService extends i.B{constructor(){super("CoreAnalyticsService"),a.z.on(u.CoreConfigProvider.ENVIRONMENT_UPDATED,(()=>this.updateHandlers())),a.z.on(a.z.LOGOUT,(()=>this.clearSiteHandlers()))}clearSiteHandlers(){this.enabledHandlers={}}enableAnalytics(e){var n=this;return(0,o.A)((function*(){try{yield Promise.all(Object.values(n.handlers).map((n=>{var r;return null===(r=n.enableAnalytics)||void 0===r?void 0:r.call(n,e)})))}catch(r){n.logger.error(`Error ${e?"enabling":"disabling"} analytics`,r)}}))()}isAnalyticsAvailable(){var e=this;return(0,o.A)((function*(){var n;if(Object.keys(e.enabledHandlers).length>0&&(null===(n=c.CoreSites.getCurrentSite())||void 0===n||!n.isDemoModeSite()))return!0;return(yield Promise.all(Object.values(e.handlers).map((e=>!!e.appLevelEnabled&&e.isEnabled())))).includes(!0)}))()}logEvent(e){var n=this;return(0,o.A)((function*(){const r=c.CoreSites.getCurrentSite();if(!r||r.isDemoModeSite())return;if(!(yield u.CoreConfig.get(p.CoreConstants.SETTINGS_ANALYTICS_ENABLED,!0)))return;const o={...e,siteId:r.getId()};if(o.type!==w.VIEW_ITEM&&o.type!==w.VIEW_ITEM_LIST||(o.name=f.Ni.cleanTags(o.name)),"url"in o&&o.url)if(g.F.isAbsoluteURL(o.url)){if(!r.containsUrl(o.url))return}else o.url=r.createSiteUrl(o.url);try{yield Promise.all(Object.values(n.enabledHandlers).map((e=>e.logEvent(o))))}catch(r){n.logger.error("Error logging event",e,r)}}))()}}return(e=CoreAnalyticsService).ɵfac=function CoreAnalyticsService_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreAnalyticsService})();const b=(0,s.Qd)(C);var w=function(e){return e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.PUSH_NOTIFICATION="push_notification",e.DOWNLOAD_FILE="download_file",e.OPEN_LINK="open_link",e}(w||{})},89632:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreAppDB:()=>C,CoreAppDBService:()=>v});var o=r(10467),i=r(30159),s=r(79555),a=r(6787);const c="schema_versions",u={name:c,columns:[{name:"name",type:"TEXT",primaryKey:!0},{name:"version",type:"INTEGER"}]};var p=r(71689),f=r(89312),g=r(54438);let v=(()=>{var e;class CoreAppDBService{constructor(){this.schemaVersionsTable=(0,f.A)(),this.logger=a.CoreLogger.getInstance("CoreAppDB")}initializeDatabase(){var e=this;return(0,o.A)((function*(){const n=e.getDB();yield n.createTableFromSchema(u);const r=new p.D({cachingStrategy:p.T.Eager},n,c,["name"]);yield r.initialize(),e.schemaVersionsTable.setInstance(r)}))()}createTablesFromSchema(e){var n=this;return(0,o.A)((function*(){n.logger.debug(`Apply schema to app DB: ${e.name}`);try{const r=yield n.getInstalledSchemaVersion(e);if(r>=e.version)return;n.logger.debug(`Migrating schema '${e.name}' of app DB from version ${r} to ${e.version}`),e.tables&&(yield n.getDB().createTablesFromSchema(e.tables)),e.install&&0===r&&(yield e.install(n.getDB())),e.migrate&&r>0&&(yield e.migrate(n.getDB(),r)),yield n.schemaVersionsTable.insert({name:e.name,version:e.version})}catch(r){n.logger.error(`Error applying schema to app DB: ${e.name}`,r)}}))()}deleteTableSchema(e){var n=this;return(0,o.A)((function*(){yield n.schemaVersionsTable.deleteByPrimaryKey({name:e})}))()}getDB(){return this.db||(this.db=i.CoreDB.getDB("MoodleMobile")),this.db}getInstalledSchemaVersion(e){var n=this;return(0,o.A)((function*(){try{return(yield n.schemaVersionsTable.getOneByPrimaryKey({name:e.name})).version}catch{return 0}}))()}}return(e=CoreAppDBService).ɵfac=function CoreAppDBService_Factory(n){return new(n||e)},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreAppDBService})();const C=(0,s.Qd)(v)},36358:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreApp:()=>E,CoreAppProvider:()=>_});var o=r(10467),i=r(89632),s=r(49882),a=r(79555),c=r(6787),u=r(55351),p=r(25124),f=r(18022),g=r(44426),v=r(94455),C=r(97064),b=r(42370),w=r(36684),A=r(54438);let _=(()=>{var e;class CoreAppProvider{constructor(){this.logger=c.CoreLogger.getInstance("CoreApp")}initialize(){f.CorePlatform.isAndroid()&&s.z.on(w.MAIN_MENU_VISIBILITY_UPDATED_EVENT,(()=>this.setAndroidNavigationBarColor()))}static isAutomated(){return f.CorePlatform.isAutomated()}static getForcedTimezone(){return f.CorePlatform.isAutomated()?"Australia/Perth":void 0}canGetUserMedia(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}canRecordMedia(){return!!window.MediaRecorder}closeKeyboard(){g.p.close()}getAppStoreUrl(e){return f.CorePlatform.isIOS()&&e.ios?`itms-apps://itunes.apple.com/app/${e.ios}`:f.CorePlatform.isAndroid()&&e.android?`market://details?id=${e.android}`:f.CorePlatform.isMobile()&&e.mobile?e.mobile:e.default}isKeyboardClosing(){return g.p.isKeyboardClosing()}isKeyboardOpening(){return g.p.isKeyboardOpening()}isKeyboardVisible(){return g.p.isKeyboardVisible()}isWide(){return f.CorePlatform.isWide()}isOnline(){return v.WE.isOnline()}openKeyboard(){g.p.open()}onKeyboardShow(e){g.p.onKeyboardShow(e)}onKeyboardHide(){g.p.onKeyboardHide()}onKeyboardWillShow(){g.p.onKeyboardWillShow()}onKeyboardWillHide(){g.p.onKeyboardWillHide()}startSSOAuthentication(){C.h.startSSOAuthentication()}finishSSOAuthentication(){C.h.finishSSOAuthentication()}isSSOAuthenticationOngoing(){return C.h.isSSOAuthenticationOngoing()}waitForSSOAuthentication(){return(0,o.A)((function*(){return C.h.waitForSSOAuthentication()}))()}waitForResume(e=null){return(0,o.A)((function*(){let n=new p._,r=null,o=null;const stopWaiting=()=>{var e;n&&(n.resolve(),null===(e=r)||void 0===e||e.unsubscribe(),o&&clearTimeout(o),n=null)};r=f.CorePlatform.resume.subscribe(stopWaiting),o=e?window.setTimeout(stopWaiting,e):null,yield n}))()}consumeStorageRedirect(){b.p.consumeStorageRedirect()}consumeMemoryRedirect(){return b.p.consumeMemoryRedirect()}closeApp(){var e;null===(e=window.navigator.app)||void 0===e||e.exitApp()}forgetRedirect(){b.p.forgetRedirect()}getRedirect(){return b.p.getRedirect()}storeRedirect(e,n={}){b.p.storeRedirect(e,n)}setSystemUIColors(){this.setStatusBarColor(),this.setAndroidNavigationBarColor()}setStatusBarColor(e){f.CorePlatform.isMobile()&&(e||(e=u.a.getToolbarBackgroundColor()),this.logger.debug(`Set status bar color ${e}`),a.eA.backgroundColorByHexString(e))}setAndroidNavigationBarColor(e){f.CorePlatform.isAndroid()&&(e||(e=u.a.getBottomPageBackgroundColor()),this.logger.debug(`Set navigation bar color ${e}`),window.StatusBar.navigationBackgroundColorByHexString(e))}initializeDatabase(){return(0,o.A)((function*(){yield i.CoreAppDB.initializeDatabase()}))()}createTablesFromSchema(e){return(0,o.A)((function*(){yield i.CoreAppDB.createTablesFromSchema(e)}))()}deleteTableSchema(e){return(0,o.A)((function*(){yield i.CoreAppDB.deleteTableSchema(e)}))()}getDB(){return i.CoreAppDB.getDB()}}return(e=CoreAppProvider).ɵfac=function CoreAppProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreAppProvider})();const E=(0,a.Qd)(_)},22513:(e,n,r)=>{"use strict";r.d(n,{Z:()=>c});var o=r(10467),i=r(79555),s=r(54438);let a=(()=>{var e;class CoreCacheManagerService{constructor(){this.invalidateListeners=[]}registerInvalidateListener(e){this.invalidateListeners.push(e)}invalidate(){var e=this;return(0,o.A)((function*(){yield Promise.all(e.invalidateListeners.map((e=>e())))}))()}}return(e=CoreCacheManagerService).ɵfac=function CoreCacheManagerService_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCacheManagerService})();const c=(0,i.Qd)(a)},85190:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreConfig:()=>_,CoreConfigProvider:()=>A});var o=r(10467),i=r(71689),s=r(89632);const a="core_config",c={name:"CoreConfigProvider",version:1,tables:[{name:a,columns:[{name:"name",type:"TEXT",unique:!0,notNull:!0},{name:"value"}]}]};var u=r(79555),p=r(74431),f=r(49882),g=r(89312),v=r(25124),C=r(29395),b=r(75383),w=r(54438);let A=(()=>{var e;class CoreConfigProvider{constructor(){this.table=(0,g.A)(),this.isReady=new v._}ready(){return this.isReady}initialize(){var e=this;return(0,o.A)((function*(){e.loadDevelopmentConfig(),e.isReady.resolve()}))()}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield s.CoreAppDB.createTablesFromSchema(c);const n=new i.D({cachingStrategy:i.T.Eager},s.CoreAppDB.getDB(),a,["name"]);yield n.initialize(),e.table.setInstance(n)}))()}delete(e){var n=this;return(0,o.A)((function*(){yield n.table.deleteByPrimaryKey({name:e})}))()}get(e,n){var r=this;return(0,o.A)((function*(){try{return(yield r.table.getOneByPrimaryKey({name:e})).value}catch(e){if(void 0!==n)return n;throw e}}))()}getJSON(e,n){return(0,o.A)((function*(){try{const r=yield _.get(e);if(!r)throw new Error("Config not found");return b.Ni.parseJSON(r,n)}catch(e){if(void 0!==n)return n;throw e}}))()}getFromDB(e){return(0,o.A)((function*(){const n=s.CoreAppDB.getDB();return(yield n.getRecord(a,{name:e})).value}))()}has(e){var n=this;return(0,o.A)((function*(){try{return yield n.table.getOneByPrimaryKey({name:e}),!0}catch(e){return!1}}))()}set(e,n){var r=this;return(0,o.A)((function*(){yield r.table.insert({name:e,value:n})}))()}setJSON(e,n){var r=this;return(0,o.A)((function*(){yield r.set(e,JSON.stringify(n))}))()}patchEnvironment(e,n={}){var r;this.defaultEnvironment=null!==(r=this.defaultEnvironment)&&void 0!==r?r:{...p.CoreConstants.CONFIG},n.reset&&this.resetEnvironmentSilently(),n.patchDefault&&Object.assign(this.defaultEnvironment,e),Object.assign(p.CoreConstants.CONFIG,e),f.z.trigger(CoreConfigProvider.ENVIRONMENT_UPDATED,p.CoreConstants.CONFIG)}resetEnvironment(){this.defaultEnvironment&&(this.resetEnvironmentSilently(),f.z.trigger(CoreConfigProvider.ENVIRONMENT_UPDATED,p.CoreConstants.CONFIG))}loadDevelopmentConfig(){var e;p.CoreConstants.enableDevTools()&&C.a.hasDevelopmentSetting("Config")&&this.patchEnvironment(JSON.parse(null!==(e=C.a.getDevelopmentSetting("Config"))&&void 0!==e?e:"{}"),{patchDefault:!0})}resetEnvironmentSilently(){this.defaultEnvironment&&(Object.keys(p.CoreConstants.CONFIG).forEach((e=>delete p.CoreConstants.CONFIG[e])),Object.assign(p.CoreConstants.CONFIG,this.defaultEnvironment))}}return(e=CoreConfigProvider).ENVIRONMENT_UPDATED="environment_updated",e.ɵfac=function CoreConfigProvider_Factory(n){return new(n||e)},e.ɵprov=w.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreConfigProvider})();const _=(0,u.Qd)(A)},26135:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCronDelegate:()=>E,CoreCronDelegateService:()=>_});var o=r(10467),i=r(89632),s=r(94455),a=r(85190),c=r(55554),u=r(74431),p=r(75629),f=r(79555),g=r(6787);const v="cron",C={name:"CoreCronDelegate",version:1,tables:[{name:v,columns:[{name:"id",type:"TEXT",primaryKey:!0},{name:"value",type:"INTEGER"}]}]};var b=r(89312),w=r(71689),A=r(54438);let _=(()=>{var e;class CoreCronDelegateService{constructor(){this.handlers={},this.queuePromise=Promise.resolve(),this.table=(0,b.A)(),this.logger=g.CoreLogger.getInstance("CoreCronDelegate")}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield i.CoreAppDB.createTablesFromSchema(C);const n=new w.D({cachingStrategy:w.T.Eager},i.CoreAppDB.getDB(),v);yield n.initialize(),e.table.setInstance(n)}))()}checkAndExecuteHandler(e,n,r){var i=this;return(0,o.A)((function*(){if(!i.handlers[e]||!i.handlers[e].execute)throw i.logger.debug(`Cannot execute cron job because is invalid: ${e}`),new p.CoreError(`${f.HT.instant("core.errorsomethingwrong")}<br>${f.HT.instant("core.errorsitesupport")}`);const g=i.handlerUsesNetwork(e),v=!n&&i.isHandlerSync(e);if(g&&!s.WE.isOnline())throw i.logger.debug(`Cron job failed because your device is not connected to the internet: ${e}`),i.stopHandler(e),new p.CoreError(f.HT.instant("core.settings.cannotsyncoffline"));if(v){if((yield a.CoreConfig.get(u.CoreConstants.SETTINGS_SYNC_ONLY_ON_WIFI,!1))&&!s.WE.isWifi())throw i.logger.debug(`Cron job failed because your device has a limited internet connection: ${e}`),i.scheduleNextExecution(e,CoreCronDelegateService.MIN_INTERVAL),new p.CoreError(f.HT.instant("core.settings.cannotsyncwithoutwifi"))}return i.queuePromise=c.g.ignoreErrors(i.queuePromise).then((0,o.A)((function*(){try{return yield i.executeHandler(e,n,r),i.logger.debug(`Cron job '${e}' was successfully executed.`),yield c.g.ignoreErrors(i.setHandlerLastExecutionTime(e,Date.now())),i.scheduleNextExecution(e),void 0}catch(n){throw i.logger.error(`Cron job '${e}' failed.`,n),i.scheduleNextExecution(e,CoreCronDelegateService.MIN_INTERVAL),n}}))),i.queuePromise}))()}executeHandler(e,n,r){var i=this;return(0,o.A)((function*(){i.logger.debug(`Executing handler: ${e}`);try{var o,s;const a=Promise.resolve(null===(o=(s=i.handlers[e]).execute)||void 0===o?void 0:o.call(s,r,n));yield c.g.timeoutPromise(a,CoreCronDelegateService.MAX_TIME_PROCESS)}catch(n){if(n.timeout)return i.logger.debug(`Resolving execution of handler '${e}' because it took too long.`),void 0;throw n}}))()}forceSyncExecution(e){var n=this;return(0,o.A)((function*(){const r=[];for(const o in n.handlers)n.isHandlerManualSync(o)&&r.push(n.forceCronHandlerExecution(o,e));yield c.g.allPromises(r)}))()}forceCronHandlerExecution(e,n){const r=this.handlers[e];return r.running=!0,clearTimeout(r.timeout),delete r.timeout,this.checkAndExecuteHandler(e,!0,n)}getHandlerInterval(e){var n=this;return(0,o.A)((function*(){var r,o;if(void 0===n.handlers[e])return CoreCronDelegateService.DEFAULT_INTERVAL;const i=yield null===(r=(o=n.handlers[e]).getInterval)||void 0===r?void 0:r.call(o);if(!i)return CoreCronDelegateService.DEFAULT_INTERVAL;return Math.max(CoreCronDelegateService.MIN_INTERVAL,i)}))()}getHandlerLastExecutionId(e){return`last_execution_${e}`}getHandlerLastExecutionTime(e){var n=this;return(0,o.A)((function*(){const r=n.getHandlerLastExecutionId(e);try{const e=yield n.table.getOneByPrimaryKey({id:r}),o=Number(e.value);return isNaN(o)?0:o}catch{return 0}}))()}handlerUsesNetwork(e){var n,r,o;return null===(n=null===(r=this.handlers[e])||void 0===r||null===(o=r.usesNetwork)||void 0===o?void 0:o.call(r))||void 0===n||n}hasManualSyncHandlers(){for(const e in this.handlers)if(this.isHandlerManualSync(e))return!0;return!1}hasSyncHandlers(){for(const e in this.handlers)if(this.isHandlerSync(e))return!0;return!1}isHandlerManualSync(e){var n,r,o;return null!==(n=null===(r=this.handlers[e])||void 0===r||null===(o=r.canManualSync)||void 0===o?void 0:o.call(r))&&void 0!==n?n:this.isHandlerSync(e)}isHandlerSync(e){var n,r,o;return null===(n=null===(r=this.handlers[e])||void 0===r||null===(o=r.isSync)||void 0===o?void 0:o.call(r))||void 0===n||n}register(e){if(e&&e.name){if(void 0!==this.handlers[e.name])return this.logger.debug(`The cron handler '${e.name}' is already registered.`),void 0;this.logger.debug(`Register handler '${e.name}' in cron.`),e.running=!1,this.handlers[e.name]=e,this.startHandler(e.name)}}scheduleNextExecution(e,n){var r=this;return(0,o.A)((function*(){if(r.handlers[e]&&!r.handlers[e].timeout){if(!n){const o=yield r.getHandlerLastExecutionTime(e),i=yield r.getHandlerInterval(e);n=o+i-Date.now()}r.logger.debug(`Scheduling next execution of handler '${e}' in '${n}' ms`),n<0&&(n=0),r.handlers[e].timeout=window.setTimeout((()=>{delete r.handlers[e].timeout,c.g.ignoreErrors(r.checkAndExecuteHandler(e))}),n)}}))()}setHandlerLastExecutionTime(e,n){var r=this;return(0,o.A)((function*(){const o={id:r.getHandlerLastExecutionId(e),value:n};yield r.table.insert(o)}))()}startHandler(e){return this.handlers[e]?this.handlers[e].running?(this.logger.debug(`Handler '${e}', is already running.`),void 0):(this.handlers[e].running=!0,this.scheduleNextExecution(e),void 0):(this.logger.debug(`Cannot start handler '${e}', is invalid.`),void 0)}startNetworkHandlers(){for(const e in this.handlers)this.handlerUsesNetwork(e)&&this.startHandler(e)}stopHandler(e){return this.handlers[e]?this.handlers[e].running?(this.handlers[e].running=!1,clearTimeout(this.handlers[e].timeout),delete this.handlers[e].timeout,void 0):(this.logger.debug(`Cannot stop handler '${e}', it's not running.`),void 0):(this.logger.debug(`Cannot stop handler '${e}', is invalid.`),void 0)}}return(e=CoreCronDelegateService).DEFAULT_INTERVAL=36e5,e.MIN_INTERVAL=24e4,e.MAX_TIME_PROCESS=12e4,e.ɵfac=function CoreCronDelegateService_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCronDelegateService})();const E=(0,f.Qd)(_)},46635:(e,n,r)=>{"use strict";r.d(n,{FB:()=>s,H:()=>i,HT:()=>c,bz:()=>a,dP:()=>u,em:()=>f,ep:()=>p,xl:()=>o});const o="filepool_files_queue",i=["siteId","fileId"],s="filepool_files",a="filepool_files_links",c=["fileId","component","componentId"],u="filepool_packages",p={name:"CoreFilepoolProvider",version:1,tables:[{name:o,columns:[{name:"siteId",type:"TEXT"},{name:"fileId",type:"TEXT"},{name:"added",type:"INTEGER"},{name:"priority",type:"INTEGER"},{name:"url",type:"TEXT"},{name:"revision",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"isexternalfile",type:"INTEGER"},{name:"repositorytype",type:"TEXT"},{name:"path",type:"TEXT"},{name:"links",type:"TEXT"}],primaryKeys:[...i]}]},f={name:"CoreFilepoolProvider",version:1,tables:[{name:s,columns:[{name:"fileId",type:"TEXT",primaryKey:!0},{name:"url",type:"TEXT",notNull:!0},{name:"revision",type:"INTEGER"},{name:"timemodified",type:"INTEGER"},{name:"stale",type:"INTEGER"},{name:"downloadTime",type:"INTEGER"},{name:"isexternalfile",type:"INTEGER"},{name:"repositorytype",type:"TEXT"},{name:"path",type:"TEXT"},{name:"extension",type:"TEXT"}]},{name:a,columns:[{name:"fileId",type:"TEXT"},{name:"component",type:"TEXT"},{name:"componentId",type:"TEXT"}],primaryKeys:[...c]},{name:u,columns:[{name:"id",type:"TEXT",primaryKey:!0},{name:"component",type:"TEXT"},{name:"componentId",type:"TEXT"},{name:"status",type:"TEXT"},{name:"previous",type:"TEXT"},{name:"updated",type:"INTEGER"},{name:"downloadTime",type:"INTEGER"},{name:"previousDownloadTime",type:"INTEGER"},{name:"extra",type:"TEXT"}]}]}},16439:(e,n,r)=>{"use strict";r.d(n,{$T:()=>a,BO:()=>s,IE:()=>i,LL:()=>u,Y$:()=>p,em:()=>g,ep:()=>f,gf:()=>c,tw:()=>v});var o=r(10467);const i="sites_2",s="schema_versions",a="wscache_2",c="core_site_config",u="core_site_last_viewed",p=["component","id"],f={name:"CoreSitesProvider",version:2,tables:[{name:i,columns:[{name:"id",type:"TEXT",primaryKey:!0},{name:"siteUrl",type:"TEXT",notNull:!0},{name:"token",type:"TEXT"},{name:"info",type:"TEXT"},{name:"privateToken",type:"TEXT"},{name:"config",type:"TEXT"},{name:"loggedOut",type:"INTEGER"},{name:"oauthId",type:"INTEGER"}]}],migrate:(e,n)=>(0,o.A)((function*(){n<2&&(yield e.migrateTable("sites",i))}))()},g={name:"CoreSitesProvider",version:3,canBeCleared:[a],tables:[{name:a,columns:[{name:"id",type:"TEXT",primaryKey:!0},{name:"data",type:"TEXT"},{name:"key",type:"TEXT"},{name:"expirationTime",type:"INTEGER"},{name:"component",type:"TEXT"},{name:"componentId",type:"INTEGER"}]},{name:c,columns:[{name:"name",type:"TEXT",unique:!0,notNull:!0},{name:"value"}]},{name:u,columns:[{name:"component",type:"TEXT"},{name:"id",type:"INTEGER"},{name:"value",type:"TEXT",notNull:!0},{name:"data",type:"TEXT"},{name:"timeaccess",type:"INTEGER"}],primaryKeys:[...p]}]},v={name:s,columns:[{name:"name",type:"TEXT",primaryKey:!0},{name:"version",type:"INTEGER"}]}},12038:(e,n,r)=>{"use strict";r.d(n,{BL:()=>o,em:()=>a,ep:()=>s});const o="core_storage",i={name:o,columns:[{name:"key",type:"TEXT",primaryKey:!0},{name:"value",type:"TEXT",notNull:!0}]},s={name:"CoreStorageService",version:1,tables:[i]},a={name:"CoreStorageService",version:1,tables:[i]}},57880:(e,n,r)=>{"use strict";r.d(n,{e:()=>i,x:()=>o});const o="sync",i={name:"CoreSyncProvider",version:1,tables:[{name:o,columns:[{name:"component",type:"TEXT",notNull:!0},{name:"id",type:"TEXT",notNull:!0},{name:"time",type:"INTEGER"},{name:"warnings",type:"TEXT"}],primaryKeys:["component","id"]}]}},30159:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreDB:()=>v,CoreDbProvider:()=>g});var o=r(10467),i=r(75629);class SQLiteDB{constructor(e,n){this.name=e,this.db=n}addColumn(e,n,r,i){var s=this;return(0,o.A)((function*(){i=i||"";try{yield s.execute(`ALTER TABLE ${e} ADD COLUMN ${n} ${r} ${i}`)}catch(e){if(e&&5==e.code&&-1!=(null==e?void 0:e.message.indexOf("duplicate column name")))return;throw e}}))()}buildCreateTableSql(e,n,r,o,i,s){const a=[];let c="";for(const e in n){const r=n[e];let o=r.name||"";r.type&&(o+=` ${r.type}`),r.primaryKey&&(o+=" PRIMARY KEY",r.autoIncrement&&(o+=" AUTOINCREMENT")),r.notNull&&(o+=" NOT NULL"),r.unique&&(o+=" UNIQUE"),r.check&&(o+=` CHECK (${r.check})`),void 0!==r.default&&(o+=` DEFAULT ${r.default}`),a.push(o)}if(c+=a.join(", "),r&&r.length&&(c+=`, PRIMARY KEY (${r.join(", ")})`),o&&o.length)for(const e in o){const n=o[e];n&&n.length&&(c+=`, UNIQUE (${n.join(", ")})`)}s&&(c+=`, CHECK (${s})`);for(const e in i){const n=i[e];null!=n&&n.columns.length&&(c+=`, FOREIGN KEY (${n.columns.join(", ")}) REFERENCES ${n.table} `,n.foreignColumns&&n.foreignColumns.length&&(c+=`(${n.foreignColumns.join(", ")})`),n.actions&&(c+=` ${n.actions}`))}return`CREATE TABLE IF NOT EXISTS ${e} (${c})`}close(){var e=this;return(0,o.A)((function*(){yield e.db.close()}))()}countRecords(e,n){var r=this;return(0,o.A)((function*(){const o=r.whereClause(n);return r.countRecordsSelect(e,o.sql,o.params)}))()}countRecordsSelect(e,n="",r,i="COUNT('x')"){var s=this;return(0,o.A)((function*(){return n&&(n=`WHERE ${n}`),s.countRecordsSql(`SELECT ${i} FROM ${e} ${n}`,r)}))()}countRecordsSql(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getFieldSql(e,n);return"number"!=typeof o||o<0?0:o}))()}createTable(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){const o=c.buildCreateTableSql(e,n,r,i,s,a);yield c.execute(o)}))()}createTableFromSchema(e){var n=this;return(0,o.A)((function*(){yield n.createTable(e.name,e.columns,e.primaryKeys,e.uniqueKeys,e.foreignKeys,e.tableCheck)}))()}createTablesFromSchema(e){var n=this;return(0,o.A)((function*(){const r=e.map((e=>n.createTableFromSchema(e)));yield Promise.all(r)}))()}deleteRecords(e,n){var r=this;return(0,o.A)((function*(){if(null==n){return(yield r.execute(`DELETE FROM ${e}`)).rowsAffected}const o=r.whereClause(n);return r.deleteRecordsSelect(e,o.sql,o.params)}))()}deleteRecordsList(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.whereClauseList(n,r);return i.deleteRecordsSelect(e,o.sql,o.params)}))()}deleteRecordsSelect(e,n="",r){var i=this;return(0,o.A)((function*(){n&&(n=`WHERE ${n}`);return(yield i.execute(`DELETE FROM ${e} ${n}`,r)).rowsAffected}))()}dropTable(e){var n=this;return(0,o.A)((function*(){yield n.execute(`DROP TABLE IF EXISTS ${e}`)}))()}execute(e,n){var r=this;return(0,o.A)((function*(){return r.db.executeSql(e,n)}))()}executeBatch(e){var n=this;return(0,o.A)((function*(){yield n.db.sqlBatch(e)}))()}formatDataToInsert(e){e&&Object.keys(e).forEach((n=>void 0===e[n]&&delete e[n]))}getAllRecords(e){var n=this;return(0,o.A)((function*(){return n.getRecords(e)}))()}getField(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.whereClause(r);return i.getFieldSelect(e,n,o.sql,o.params)}))()}getFieldSelect(e,n,r="",i){var s=this;return(0,o.A)((function*(){return r&&(r=`WHERE ${r}`),s.getFieldSql(`SELECT ${n} FROM ${e} ${r}`,i)}))()}getFieldSql(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getRecordSql(e,n);if(!o)throw new i.CoreError("No record found.");return o[Object.keys(o)[0]]}))()}getName(){return this.name}getRecord(e,n,r="*"){const o=this.whereClause(n);return this.getRecordSelect(e,o.sql,o.params,r)}getRecordSelect(e,n="",r=[],o="*"){return n&&(n=` WHERE ${n}`),this.getRecordSql(`SELECT ${o} FROM ${e} ${n}`,r)}getRecordSql(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getRecordsSql(e,n,0,1);if(!o||!o.length)throw new i.CoreError("No records found.");return o[0]}))()}getRecords(e,n,r="",o="*",i=0,s=0){const a=this.whereClause(n);return this.getRecordsSelect(e,a.sql,a.params,r,o,i,s)}getRecordsList(e,n,r,o="",i="*",s=0,a=0){const c=this.whereClauseList(n,r);return this.getRecordsSelect(e,c.sql,c.params,o,i,s,a)}getRecordsSelect(e,n="",r=[],o="",i="*",s=0,a=0){n&&(n=` WHERE ${n}`),o&&(o=` ORDER BY ${o}`);return this.getRecordsSql(`SELECT ${i} FROM ${e} ${n} ${o}`,r,s,a)}getRecordsSql(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=s.normaliseLimitFromNum(r,i);(o[0]||o[1])&&(o[1]<1&&(o[1]=Number.MAX_VALUE),e+=` LIMIT ${o[0]}, ${o[1]}`);const a=yield s.execute(e,n),c=[];for(let e=0;e<a.rows.length;e++)c.push(a.rows.item(e));return c}))()}getSqlInsertQuery(e,n,r){this.formatDataToInsert(n);const o=Object.keys(n);return{sql:`${r?"INSERT OR REPLACE":"INSERT"} INTO ${e} (${o.join(",")}) VALUES (${",?".repeat(o.length).substring(1)})`,params:Object.values(n)}}insertRecord(e,n,r=!0){var i=this;return(0,o.A)((function*(){const o=i.getSqlInsertQuery(e,n,r);return(yield i.execute(o.sql,o.params)).insertId}))()}insertRecords(e,n){var r=this;return(0,o.A)((function*(){if(!n.length)return;const o=n.map((n=>{const o=r.getSqlInsertQuery(e,n,!0);return[o.sql,o.params]}));yield r.executeBatch(o)}))()}insertRecordsFrom(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getAllRecords(n);yield Promise.all(o.map((n=>r.insertRecord(e,n,!0))))}))()}migrateTable(e,n,r){var i=this;return(0,o.A)((function*(){try{yield i.tableExists(e)}catch{return}if(r){const o=(yield i.getAllRecords(e)).map((e=>(e=r(e),i.insertRecord(n,e))));yield Promise.all(o)}else yield i.insertRecordsFrom(n,e);try{yield i.dropTable(e)}catch{}}))()}normaliseLimitFromNum(e,n){return[e=e&&-1!==e?Math.max(0,e):0,n=n&&-1!==n?Math.max(0,n):0]}open(){var e=this;return(0,o.A)((function*(){yield e.db.open()}))()}recordExists(e,n){var r=this;return(0,o.A)((function*(){if(!(yield r.getRecord(e,n)))throw new i.CoreError("Record does not exist.")}))()}recordExistsSelect(e,n="",r=[]){var s=this;return(0,o.A)((function*(){if(!(yield s.getRecordSelect(e,n,r)))throw new i.CoreError("Record does not exist.")}))()}recordExistsSql(e,n){var r=this;return(0,o.A)((function*(){if(!(yield r.getRecordSql(e,n)))throw new i.CoreError("Record does not exist.")}))()}tableExists(e){var n=this;return(0,o.A)((function*(){yield n.recordExists("sqlite_master",{type:"table",tbl_name:e})}))()}updateRecords(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.whereClause(r);return i.updateRecordsWhere(e,n,o.sql,o.params)}))()}updateRecordsWhere(e,n,r,i){var s=this;return(0,o.A)((function*(){if(s.formatDataToInsert(n),!n||!Object.keys(n).length)return 0;const o=Object.keys(n).map((e=>`${e} = ?`));let a=`UPDATE ${e} SET ${o.join(", ")}`;r&&(a+=` WHERE ${r}`);let c=Object.values(n);r&&i&&(c=c.concat(i));return(yield s.execute(a,c)).rowsAffected}))()}whereClause(e={}){if(!e||!Object.keys(e).length)return{sql:"1 = 1",params:[]};const n=[];return{sql:Object.keys(e).map((r=>{const o=e[r];return null==o?`${r} IS NULL`:(n.push(o),`${r} = ?`)})).join(" AND "),params:n}}whereClauseList(e,n){if(!n||!n.length)return{sql:"1 = 2",params:[]};const r=[];let o="";if(n.forEach((n=>{null==n?o=`${e} IS NULL`:r.push(n)})),r&&r.length)if(""!==o&&(o+=" OR "),1==r.length)o+=`${e} = ?`;else{const n=",?".repeat(r.length).substring(1);o+=` ${e} IN (${n})`}return{sql:o,params:r}}}var s=r(29395),a=r(79555),c=r(18022),u=r(89312),p=r(54438);const f=new RegExp(["^SELECT.*FROM ([^ ]+)","^INSERT.*INTO ([^ ]+)","^UPDATE ([^ ]+)","^DELETE FROM ([^ ]+)","^CREATE TABLE IF NOT EXISTS ([^ ]+)","^ALTER TABLE ([^ ]+)","^DROP TABLE IF EXISTS ([^ ]+)"].join("|"));let g=(()=>{var e;class CoreDbProvider{constructor(){this.queryLogs=[],this.dbInstances={}}loggingEnabled(){return s.a.hasDevelopmentSetting("DBLoggingEnabled")}printHistory(e=":dbname | :sql | Duration: :duration | Result: :result"){console.log(this.queryLogs.map((({sql:n,params:r,duration:o,error:i,dbName:s})=>{var a;return e.replace(":dbname",s).replace(":sql",Object.values(null!=r?r:[]).reduce(((e,n)=>e.replace("?",n)),n)).replace(":duration",`${Math.round(o).toString().padStart(4,"0")}ms`).replace(":result",null!==(a=null==i?void 0:i.message)&&void 0!==a?a:"Success")})).join("\n"))}getTableNameFromSql(e){const n=e.match(f);return null==n?void 0:n.find(((e,n)=>n>0&&!!e))}valueMatchesFilter(e,n){return"string"==typeof n?e===n:!n||!!e.match(n)}buildStatementsSummary(e={}){const n={};return this.queryLogs.forEach((r=>{var o,i,s;if(!this.valueMatchesFilter(r.dbName,e.dbName))return;const a=r.sql.substring(0,r.sql.indexOf(" "));if(!a)return console.warn(`Statement not found from sql: ${r.sql}`),void 0;const c=this.getTableNameFromSql(r.sql);if(!c)return console.warn(`Table name not found from sql: ${r.sql}`),void 0;this.valueMatchesFilter(c,e.tableName)&&(n[r.dbName]=null!==(o=n[r.dbName])&&void 0!==o?o:{},n[r.dbName][c]=null!==(i=n[r.dbName][c])&&void 0!==i?i:{},n[r.dbName][c][a]=null!==(s=n[r.dbName][c][a])&&void 0!==s?s:{count:0,duration:0,errors:0},n[r.dbName][c][a].count++,n[r.dbName][c][a].duration+=r.duration,r.error&&n[r.dbName][c][a].errors++)})),n}printTablesSummary(e={},n=":dbname, :table, :statement, :count, :duration, :errors"){const r=this.buildStatementsSummary(e);console.log(Object.keys(r).sort().map((e=>Object.keys(r[e]).sort().map((o=>Object.keys(r[e][o]).sort().map((i=>((e,o,i)=>n.replace(":dbname",e).replace(":table",o).replace(":statement",i).replace(":count",String(r[e][o][i].count)).replace(":duration",`${r[e][o][i].duration.toFixed(2)}ms`).replace(":errors",String(r[e][o][i].errors)))(e,o,i))).join("\n"))).join("\n"))).join("\n"))}logQuery(e){this.queryLogs.push(e)}clearLogs(){this.queryLogs=[]}getDB(e,n){if(void 0===this.dbInstances[e]||n){let n=this.createDatabase(e);if(this.loggingEnabled()){const r=this.getDatabaseSpies(e,n);n=new Proxy(n,{get:(e,n,o)=>{var i;return null!==(i=r[n])&&void 0!==i?i:Reflect.get(e,n,o)}})}this.dbInstances[e]=new SQLiteDB(e,n)}return this.dbInstances[e]}createDatabase(e){return(0,u.A)((0,o.A)((function*(){return yield c.CorePlatform.ready(),a.j5.create({name:e,location:"default"})})),{})}deleteDB(e){var n=this;return(0,o.A)((function*(){void 0!==n.dbInstances[e]&&(yield n.dbInstances[e].close(),delete n.dbInstances[e]),yield n.deleteDatabase(e)}))()}deleteDatabase(e){return(0,o.A)((function*(){yield a.j5.deleteDatabase({name:e,location:"default"})}))()}getDatabaseSpies(e,n){return{executeSql:(r,i)=>(0,o.A)((function*(){const o=performance.now();try{const s=yield n.executeSql(r,i);return v.logQuery({params:i,sql:r,duration:performance.now()-o,dbName:e}),s}catch(n){throw v.logQuery({params:i,error:n,sql:r,duration:performance.now()-o,dbName:e}),n}}))(),sqlBatch:r=>(0,o.A)((function*(){const o=performance.now(),i=Array.isArray(r)?r.join(" | "):String(r);try{const s=yield n.sqlBatch(r);return v.logQuery({sql:i,duration:performance.now()-o,dbName:e}),s}catch(n){throw v.logQuery({sql:i,error:n,duration:performance.now()-o,dbName:e}),n}}))()}}}return(e=CoreDbProvider).ɵfac=function CoreDbProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreDbProvider})();const v=(0,a.Qd)(g)},21776:(e,n,r)=>{"use strict";r.d(n,{S:()=>g});var o=r(10467),i=r(79555),s=r(53794),a=r(82907),c=r(63153),u=r(6787),p=r(54438);let f=(()=>{var e;class CoreErrorAccordionService{constructor(){this.logger=u.CoreLogger.getInstance("CoreErrorAccordion")}render(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.html(n,r);e.innerHTML=o,yield i.hydrate(e)}))()}html(e,n){const r=c.R.uniqueId("error-accordion-content"),o=n?i.HT.instant("core.errorcode",{errorCode:n}):void 0,s=i.HT.instant("core.errordetailshide");return`\n            <div class="core-error-accordion">\n                ${o?`<h3 class="core-error-accordion--code">${o}</h3>`:""}\n                <div id="${r}" class="core-error-accordion--details" role="region" aria-hidden="true">\n                    <p>${e}</p>\n                </div>\n                <button type="button" class="core-error-accordion--toggle" aria-expanded="false" aria-controls="${r}">\n                    <div class="core-error-accordion--toggle-text">\n                        <span class="core-error-accordion--show-details">\n                            ${i.HT.instant("core.errordetailsshow")}\n                        </span>\n                        <span class="core-error-accordion--hide-details">\n                            ${s}\n                        </span>\n                    </div>\n                    <ion-icon name="chevron-down" />\n                </button>\n            </div>\n        `}hydrate(e){var n=this;return(0,o.A)((function*(){const r=e.querySelector(".core-error-accordion"),o=e.querySelector(".core-error-accordion--details"),i=e.querySelector(".core-error-accordion--toggle"),c=e.querySelector(".core-error-accordion--hide-details");if(!(r&&o&&i&&c))return n.logger.error("Couldn't render error-accordion, one of the child elements is missing"),void 0;yield a.y.waitToBeVisible(r),i.onclick=()=>{r.classList.toggle("expanded"),o.setAttribute("aria-hidden","true"===o.getAttribute("aria-hidden")?"false":"true"),i.setAttribute("aria-expanded","true"===i.getAttribute("aria-expanded")?"false":"true")},c.style.display="none",r.style.setProperty("--width",`${r.clientWidth}px`),r.style.setProperty("--description-height",`${o.clientHeight}px`),r.classList.add("hydrated"),yield s.H.nextTick(),c.style.display="revert"}))()}}return(e=CoreErrorAccordionService).ɵfac=function CoreErrorAccordionService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreErrorAccordionService})();const g=(0,i.Qd)(f)},49588:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreErrorHelper:()=>v,CoreErrorHelperService:()=>g});var o=r(75629),i=r(79555),s=r(43411),a=r(75383),c=r(63508),u=r(29306),p=r(49446),f=r(54438);let g=(()=>{var e;class CoreErrorHelperService{addDataNotDownloadedError(e,n){const r=v.getErrorMessageFromError(e)||n||"";return s.CoreWSError.isWebServiceError(e)?r:`${r}<br><br>${i.HT.instant("core.errorsomedatanotdownloaded")}`}addTextToError(e,n){return"string"==typeof e?e+n:e instanceof o.CoreError?(e.message+=n,e):e?("string"==typeof e.message?e.message+=n:"string"==typeof e.error?e.error+=n:"string"==typeof e.content?e.content+=n:"string"==typeof e.body&&(e.body+=n),e):n}addTitleToError(e,n){let r={};return"string"==typeof e?r.message=e:e&&"message"in e&&(r=e),r.title=r.title||n,r}buildSeveralParagraphsMessage(e){const n=[];if(e.forEach((e=>{const r=this.getErrorMessageFromError(e);e&&r&&n.push(r)})),n.length<2)return n[0]||"";let r=n[0];for(let e=1;e<n.length;e++)r=i.HT.instant("core.twoparagraphs",{p1:r,p2:n[e]});return r}getDebugInfoFromError(e){if(!e||"string"==typeof e)return;if("debug"in e)return e.debug;const n=[];"debuginfo"in e&&e.debuginfo&&n.push(a.Ni.escapeHTML(e.debuginfo,!1)),"backtrace"in e&&e.backtrace&&n.push(a.Ni.replaceNewLines(a.Ni.escapeHTML(e.backtrace,!1),"<br>"));const r=n.join("<br><br>");return r?{details:r}:void 0}getErrorMessageFromError(e){return"string"==typeof e?e:e instanceof o.CoreError?e.message:e?e.message||e.error||e.content?e.message||e.error||e.content:e.body?this.getErrorMessageFromHTML(e.body):void 0:void 0}getErrorMessageFromHTML(e){var n;const r=(new DOMParser).parseFromString(e,"text/html").body.querySelector(".errorbox .errormessage");return null!==(n=null==r?void 0:r.innerText.trim())&&void 0!==n?n:""}isCanceledError(e){return e instanceof c.CoreCanceledError}isNetworkError(e){if(e instanceof p.CoreNetworkError)return!0;const n=this.getErrorMessageFromError(e);return n===i.HT.instant("core.networkerrormsg")||n===i.HT.instant("core.fileuploader.errormustbeonlinetoupload")}isSilentError(e){return e instanceof u.CoreSilentError}isSiteUnavailableErrorMessage(e){let n=i.HT.instant("core.siteunavailablehelp",{site:"SITEURLPLACEHOLDER"});return n=a.Ni.escapeForRegex(n),n=n.replace("SITEURLPLACEHOLDER",".*"),new RegExp(n).test(e)}logUnhandledError(e,n){console.error(`Unhandled error: ${e}`,n)}}return(e=CoreErrorHelperService).ɵfac=function CoreErrorHelperService_Factory(n){return new(n||e)},e.ɵprov=f.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreErrorHelperService})();const v=(0,i.Qd)(g)},88436:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFileHelper:()=>R,CoreFileHelperProvider:()=>F});var o=r(10467),i=r(94455),s=r(45507),a=r(87809),c=r(88793),u=r(52749),p=r(99121),f=r(8014),g=r(86552),v=r(74431),C=r(75629),b=r(79555),w=r(49446),A=r(85190),_=r(63508),E=r(12364),I=r(18022),T=r(8756),P=r(75383),k=r(35132),x=r(54438);let F=(()=>{var e;class CoreFileHelperProvider{defaultIsOpenWithPicker(){return I.CorePlatform.isIOS()&&v.CoreConstants.CONFIG.iOSDefaultOpenFileAction===g.n.OPEN_WITH}downloadAndOpenFile(e,n,r,i,s,a,p={}){var w=this;return(0,o.A)((function*(){a=a||u.CoreSites.getCurrentSiteId();const o=R.getFileUrl(e),A=w.getFileTimemodified(e);w.isOpenableInApp(e)||(yield w.showConfirmOpenUnsupportedFile(!1,e));let _=yield w.downloadFileIfNeeded(e,o,n,r,A,i,s,a,p);if(_){if(!f.F.isLocalFileUrl(_)){_=`${_}#moodlemobile-embedded`;try{return yield g.j.openOnlineFile(_),void 0}catch{if(i||(i=yield c.CoreFilepool.getFileStateByUrl(a,o,A)),i===v.DownloadStatus.DOWNLOADING)throw new C.CoreError(b.HT.instant("core.erroropenfiledownloading"));_=i===v.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED?yield w.downloadFile(o,n,r,A,s,e,a):yield c.CoreFilepool.getInternalUrlByUrl(a,o)}}return g.j.openFile(_,p)}}))()}downloadFileIfNeeded(e,n,r,s,a,p,f,g,C={}){var b=this;return(0,o.A)((function*(){g=g||u.CoreSites.getCurrentSiteId();const o=yield u.CoreSites.getSite(g),A=yield o.checkAndFixPluginfileURL(n);p||(p=yield c.CoreFilepool.getFileStateByUrl(g,n,a));const _=i.WE.isWifi(),E=i.WE.isOnline();if(p===v.DownloadStatus.DOWNLOADED)return c.CoreFilepool.getUrlByUrl(g,n,r,s,a,!1,!1,e);if(!E&&!b.isStateDownloaded(p))throw new w.CoreNetworkError;f&&f({calculating:!0});return(yield c.CoreFilepool.shouldDownloadFileBeforeOpen(A,e.filesize||0,C))?p===v.DownloadStatus.DOWNLOADING?A:b.downloadFile(n,r,s,a,f,e,g):(_&&b.downloadFile(n,r,s,a,f,e,g),!b.isStateDownloaded(p)||E?A:c.CoreFilepool.getUrlByUrl(g,n,r,s,a,!1,!1,e))}))()}downloadFile(e,n,r,i,s,a,p){var f=this;return(0,o.A)((function*(){p=p||u.CoreSites.getCurrentSiteId();if(!(yield u.CoreSites.getSite(p)).canDownloadFiles())throw new C.CoreError(b.HT.instant("core.cannotdownloadfiles"));try{return yield c.CoreFilepool.downloadUrl(p,e,!1,n,r,i,s,void 0,a)}catch(n){const r=yield c.CoreFilepool.getFileStateByUrl(p,e,i);if(f.isStateDownloaded(r))return c.CoreFilepool.getInternalUrlByUrl(p,e);throw n}}))()}getFileUrl(e){return"fileurl"in e?e.fileurl:e.url}getFileTimemodified(e){return e.timemodified||0}isStateDownloaded(e){return e===v.DownloadStatus.DOWNLOADED||e===v.DownloadStatus.OUTDATED}shouldOpenInBrowser(e){if(!e.mimetype)return!1;const n=e.mimetype;var r;return"isexternalfile"in e&&e.isexternalfile?-1!=n.indexOf("application/vnd.google-apps.")||"onedrive"==e.repositorytype&&(-1!=n.indexOf("application/vnd.openxmlformats-officedocument")||"text/plain"==n||"document/unknown"==n):"application/vnd.android.package-archive"===n||"apk"===E.A.getFileExtension(null!==(r=e.filename)&&void 0!==r?r:"")}getTotalFilesSize(e){var n=this;return(0,o.A)((function*(){let r=0;for(const o of e)r+=(yield n.getFileSize(o));return r}))()}getFileSize(e){return(0,o.A)((function*(){if("filesize"in e&&(e.filesize||0===e.filesize))return e.filesize;if("filename"in e){const n=R.getFileUrl(e);try{const e=u.CoreSites.getCurrentSiteId(),r=yield c.CoreFilepool.getFilePathByUrl(e,n),o=yield s.CoreFile.getFile(r);return(yield s.CoreFile.getFileObjectFromFileEntry(o)).size}catch(e){const r=yield p.CoreWS.getRemoteFileSize(n);if(-1===r)throw new C.CoreError(`Couldn't determine file size: ${n}`);return r}}if("name"in e){return(yield s.CoreFile.getFileObjectFromFileEntry(e)).size}throw new C.CoreError("Couldn't determine file size")}))()}isOpenableInApp(e){const n=/(?:\.([^.]+))?$/.exec(e.filename||e.name||"");return!n||!n[1]||!this.isFileTypeExcludedInApp(n[1])}showConfirmOpenUnsupportedFile(e=!1,n){return(0,o.A)((function*(){var r;const o=/(?:\.([^.]+))?$/.exec((n=n||{}).filename||n.name||""),i=`CoreFileUnsupportedWarningDisabled-${null!==(r=null==o?void 0:o[1])&&void 0!==r?r:"unknown"}`;if(yield A.CoreConfig.get(i,0))return;const s=b.HT.instant("core.cannotopeninapp"+(e?"download":"")),a=b.HT.instant(e?"core.downloadfile":"core.openfile");try{(yield k.CorePrompts.show(s,"checkbox",{placeholderOrLabel:b.HT.instant("core.dontshowagain"),buttons:{okText:a},cssClass:"core-alert-force-on-top"}))&&A.CoreConfig.set(i,1)}catch{throw new _.CoreCanceledError("")}}))()}isFileTypeExcludedInApp(e){const n=u.CoreSites.getCurrentSite(),r=null==n?void 0:n.getStoredConfig("tool_mobile_filetypeexclusionlist");if(!r)return!1;const o=new RegExp(`(,|^)${e}(,|$)`,"g");return!!r.match(o)}getFilenameFromPath(e){var n;const r=a.H.isFileEntry(e)?e.fullPath:e.filepath;if(void 0!==r&&0!=r.length)return null===(n=r.split("\\").pop())||void 0===n?void 0:n.split("/").pop()}getTextPluginfileUrl(e){if(null!=e&&e.length){const n=this.getFileUrl(e[0]);return null==n?void 0:n.substring(0,Math.max(n.lastIndexOf("/"),n.lastIndexOf("%2F")))}}replaceDraftfileUrls(e,n,r){if(!n||!r||!r.length)return{text:n};const o=T.$.concatenatePaths(e,"draftfile.php"),i=n.match(new RegExp(`${P.Ni.escapeForRegex(o)}[^'" ]+`,"ig"));if(!i||!i.length)return{text:n};const s={};r.forEach((e=>{e.filename&&(s[e.filename]=R.getFileUrl(e))}));const a={};return i.forEach((e=>{if(a[e])return;let r=e.substring(e.lastIndexOf("/")+1);-1!=r.indexOf("?")&&(r=r.substring(0,r.indexOf("?"))),r=f.F.decodeURIComponent(r),s[r]&&(a[e]=s[r],n=n.replace(new RegExp(P.Ni.escapeForRegex(e),"g"),s[r]))})),{text:n,replaceMap:a}}replacePluginfileUrls(e,n){if(e&&"string"==typeof e){const r=this.getTextPluginfileUrl(n);if(r)return e.replace(/@@PLUGINFILE@@/g,r)}return e}restoreDraftfileUrls(e,n,r,o){if(!n||!o||!o.length)return n;const i=T.$.concatenatePaths(e,"draftfile.php"),s=`${P.Ni.escapeForRegex(i)}/[^/]+/[^/]+/[^/]+/[^/]+/`;return o.forEach((e=>{const o=R.getFileUrl(e);let i=o.substring(o.lastIndexOf("/")+1);-1!=i.indexOf("?")&&(i=i.substring(0,i.indexOf("?")));const a=r.match(new RegExp(`${s+P.Ni.escapeForRegex(i)}[^'" ]*`,"i"));a&&a[0]&&(n=n.replace(new RegExp(P.Ni.escapeForRegex(o),"g"),a[0]))})),n}restorePluginfileUrls(e,n){if(e&&"string"==typeof e){const r=this.getTextPluginfileUrl(n);if(r)return e.replace(new RegExp(P.Ni.escapeForRegex(r),"g"),"@@PLUGINFILE@@")}return e}}return(e=CoreFileHelperProvider).ɵfac=function CoreFileHelperProvider_Factory(n){return new(n||e)},e.ɵprov=x.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileHelperProvider})();const R=(0,b.Qd)(F)},24942:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFileSession:()=>c,CoreFileSessionProvider:()=>a});var o=r(52749),i=r(79555),s=r(54438);let a=(()=>{var e;class CoreFileSessionProvider{constructor(){this.files={}}addFile(e,n,r,i){i=i||o.CoreSites.getCurrentSiteId(),this.initFileArea(e,n,i),this.files[i][e][n].push(r)}clearFiles(e,n,r){r=r||o.CoreSites.getCurrentSiteId(),this.files[r]&&this.files[r][e]&&this.files[r][e][n]&&(this.files[r][e][n]=[])}getFiles(e,n,r){return r=r||o.CoreSites.getCurrentSiteId(),this.files[r]&&this.files[r][e]&&this.files[r][e][n]?this.files[r][e][n]:[]}initFileArea(e,n,r){this.files[r]||(this.files[r]={}),this.files[r][e]||(this.files[r][e]={}),this.files[r][e][n]||(this.files[r][e][n]=[])}removeFile(e,n,r,i){if(i=i||o.CoreSites.getCurrentSiteId(),this.files[i]&&this.files[i][e]&&this.files[i][e][n]){const o=this.files[i][e][n].indexOf(r);-1!=o&&this.files[i][e][n].splice(o,1)}}removeFileByIndex(e,n,r,i){i=i||o.CoreSites.getCurrentSiteId(),this.files[i]&&this.files[i][e]&&this.files[i][e][n]&&r>=0&&r<this.files[i][e][n].length&&this.files[i][e][n].splice(r,1)}setFiles(e,n,r,i){i=i||o.CoreSites.getCurrentSiteId(),this.initFileArea(e,n,i),this.files[i][e][n]=r}}return(e=CoreFileSessionProvider).ɵfac=function CoreFileSessionProvider_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileSessionProvider})();const c=(0,i.Qd)(a)},45507:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFile:()=>E,CoreFileProvider:()=>_});var o=r(10467),i=r(12364),s=r(87809),a=r(74431),c=r(75629),u=r(6787),p=r(79555),f=r(75383),g=r(18022),v=r(8756),C=r(91531),b=r(8014),w=r(55554),A=r(54438);let _=(()=>{var e;class CoreFileProvider{constructor(){this.logger=u.CoreLogger.getInstance("CoreFileProvider"),this.initialized=!1,this.basePath="",this.isHTMLAPI=!1}setHTMLBasePath(e){this.isHTMLAPI=!0,this.basePath=e}usesHTMLAPI(){return this.isHTMLAPI}init(){var e=this;return(0,o.A)((function*(){if(!e.initialized){if(yield g.CorePlatform.ready(),g.CorePlatform.isAndroid())e.basePath=p.ZH.externalApplicationStorageDirectory||e.basePath;else if(g.CorePlatform.isIOS())e.basePath=p.ZH.documentsDirectory||e.basePath;else if(""===e.basePath)return e.logger.error("Error getting device OS."),Promise.reject(new c.CoreError("Error getting device OS to initialize file system."));e.initialized=!0,e.logger.debug(`FS initialized: ${e.basePath}`)}}))()}isAvailable(){return void 0!==window.resolveLocalFileSystemURL}getFile(e){var n=this;return(0,o.A)((function*(){yield n.init(),n.logger.debug(`Get file: ${e}`);try{return yield p.ZH.resolveLocalFilesystemUrl(n.addBasePathIfNeeded(e))}catch(r){if(r&&(r.code===FileError.NOT_FOUND_ERR||r.code===FileError.ENCODING_ERR)){const r=encodeURI(e);if(r!==e)return yield p.ZH.resolveLocalFilesystemUrl(n.addBasePathIfNeeded(r))}throw r}}))()}getDir(e){var n=this;return(0,o.A)((function*(){yield n.init(),n.logger.debug(`Get directory: ${e}`);try{return yield p.ZH.resolveDirectoryUrl(n.addBasePathIfNeeded(e))}catch(r){if(r&&(r.code===FileError.NOT_FOUND_ERR||r.code===FileError.ENCODING_ERR)){const r=encodeURI(e);if(r!==e)return yield p.ZH.resolveDirectoryUrl(n.addBasePathIfNeeded(r))}throw r}}))()}getSiteFolder(e){return`${CoreFileProvider.SITESFOLDER}/${e}`}create(e,n,r,i){var s=this;return(0,o.A)((function*(){if(yield s.init(),n=s.removeBasePath(n),i=i||s.basePath,-1==n.indexOf("/"))return e?(s.logger.debug(`Create dir ${n} in ${i}`),p.ZH.createDir(i,n,!r)):(s.logger.debug(`Create file ${n} in ${i}`),p.ZH.createFile(i,n,!r));{const o=n.substring(0,n.indexOf("/")),a=n.substring(n.indexOf("/")+1);s.logger.debug(`Create dir ${o} in ${i}`);const c=yield p.ZH.createDir(i,o,!0);return s.create(e,a,r,s.getFileEntryURL(c))}}))()}createDir(e,n){var r=this;return(0,o.A)((function*(){return yield r.create(!0,e,n)}))()}createFile(e,n){var r=this;return(0,o.A)((function*(){return yield r.create(!1,e,n)}))()}removeDir(e){var n=this;return(0,o.A)((function*(){yield n.init(),e=n.removeBasePath(e),n.logger.debug(`Remove directory: ${e}`),yield p.ZH.removeRecursively(n.basePath,e)}))()}removeFile(e){var n=this;return(0,o.A)((function*(){yield n.init(),e=n.removeBasePath(e),n.logger.debug(`Remove file: ${e}`);try{yield p.ZH.removeFile(n.basePath,e)}catch(r){const o=decodeURI(e);if(o==e)throw r;yield p.ZH.removeFile(n.basePath,o)}}))()}removeFileByFileEntry(e){return new Promise(((n,r)=>e.remove(n,r)))}getDirectoryContents(e){var n=this;return(0,o.A)((function*(){yield n.init(),e=n.removeBasePath(e),n.logger.debug(`Get contents of dir: ${e}`);return yield p.ZH.listDir(n.basePath,e)}))()}isDirectoryEntry(e){return!0===e.isDirectory}getSize(e){var n=this;return new Promise(((r,i)=>{if(this.isDirectoryEntry(e)){e.createReader().readEntries(function(){var e=(0,o.A)((function*(e){const o=[];for(let r=0;r<e.length;r++)o.push(n.getSize(e[r]));try{const e=yield Promise.all(o);let n=0;for(let r=0;r<e.length;r++){const o=Number(e[r]);if(isNaN(o))return i(),void 0;n+=o}r(n)}catch(e){i(e)}}));return function(n){return e.apply(this,arguments)}}(),i)}else e.file((e=>{r(e.size)}),i)}))}getDirectorySize(e){var n=this;return(0,o.A)((function*(){e=n.removeBasePath(e),n.logger.debug(`Get size of dir: ${e}`);const r=yield n.getDir(e);return n.getSize(r)}))()}getFileSize(e){var n=this;return(0,o.A)((function*(){e=n.removeBasePath(e),n.logger.debug(`Get size of file: ${e}`);const r=yield n.getFile(e);return n.getSize(r)}))()}getFileObjectFromFileEntry(e){return new Promise(((n,r)=>{this.logger.debug(`Get file object of: ${e.fullPath}`),e.file(n,r)}))}calculateFreeSpace(){return(0,o.A)((function*(){const e=yield p.ZH.getFreeDiskSpace();return g.CorePlatform.isIOS()?Number(e):1024*Number(e)}))()}normalizeFileName(e){return b.F.decodeURIComponent(e)}readFile(e,n=0,r){switch(r||(r=this.basePath,e=this.removeBasePath(e)),this.logger.debug(`Read file ${e} with format ${n} in folder ${r}`),n){case 1:return p.ZH.readAsDataURL(r,e);case 2:return p.ZH.readAsBinaryString(r,e);case 3:return p.ZH.readAsArrayBuffer(r,e);case 4:return p.ZH.readAsText(r,e).then((n=>{const r=f.Ni.parseJSON(n,null);if(null==r&&null!=n)throw new c.CoreError(`Error parsing JSON file: ${e}`);return r}));default:return p.ZH.readAsText(r,e)}}readFileData(e,n=0){return this.logger.debug(`Read file from file data with format ${n=n||0}`),new Promise(((r,o)=>{const i=new FileReader;i.onloadend=e=>{var i,s;if(void 0!==(null===(i=e.target)||void 0===i?void 0:i.result)&&null!==e.target.result)if(4==n){const n=f.Ni.parseJSON(e.target.result,null);null==n&&o("Error parsing JSON file."),r(n)}else r(e.target.result);else void 0!==(null===(s=e.target)||void 0===s?void 0:s.error)&&null!==e.target.error?o(e.target.error):o({code:null,message:"READER_ONLOADEND_ERR"})};let s=!1;switch(i.onloadstart=()=>{s=!0},setTimeout((()=>{s||o("Upload cannot start.")}),3e3),n){case 1:i.readAsDataURL(e);break;case 2:i.readAsBinaryString(e);break;case 3:i.readAsArrayBuffer(e);break;default:i.readAsText(e)}}))}writeFile(e,n,r){var s=this;return(0,o.A)((function*(){yield s.init(),e=s.removeBasePath(e),s.logger.debug(`Write file: ${e}`);const o=yield s.createFile(e);if(s.isHTMLAPI&&("string"==typeof n||"[object ArrayBuffer]"==n.toString())){const r=i.A.getFileExtension(e),o=r?i.A.getMimeType(r):"";n=new Blob([n],{type:o||"text/plain"})}return yield p.ZH.writeFile(s.basePath,e,n,{replace:!r,append:!!r}),o}))()}writeFileDataInFile(e,n,r,i=0,s){var a=this;return(0,o.A)((function*(){i=i||0;try{const o=e.slice(i,Math.min(i+CoreFileProvider.CHUNK_SIZE,e.size)),c=yield a.writeFile(n,o,s);return i+=CoreFileProvider.CHUNK_SIZE,r&&r({lengthComputable:!0,loaded:i,total:e.size}),i>=e.size?c:a.writeFileDataInFile(e,n,r,i,!0)}catch(e){if(e&&e.target&&e.target.error)throw e.target.error;throw e}}))()}getExternalFile(e){return(0,o.A)((function*(){return yield p.ZH.resolveLocalFilesystemUrl(e)}))()}getExternalFileSize(e){var n=this;return(0,o.A)((function*(){const r=yield n.getExternalFile(e);return n.getSize(r)}))()}removeExternalFile(e){return(0,o.A)((function*(){const n=e.substring(0,e.lastIndexOf("/")),r=e.substring(e.lastIndexOf("/")+1);yield p.ZH.removeFile(n,r)}))()}getBasePath(){var e=this;return(0,o.A)((function*(){return yield e.init(),"/"===e.basePath.slice(-1)?e.basePath:`${e.basePath}/`}))()}getBasePathToDownload(){var e=this;return(0,o.A)((function*(){if(yield e.init(),g.CorePlatform.isIOS()){return(yield p.ZH.resolveDirectoryUrl(e.basePath)).toInternalURL()}return e.basePath}))()}getBasePathInstant(){return this.basePath?"/"==this.basePath.slice(-1)?this.basePath:`${this.basePath}/`:this.basePath}moveDir(e,n,r){var i=this;return(0,o.A)((function*(){return yield i.copyOrMoveFileOrDir(e,n,!0,!1,r)}))()}moveFile(e,n,r){var i=this;return(0,o.A)((function*(){return yield i.copyOrMoveFileOrDir(e,n,!1,!1,r)}))()}copyDir(e,n,r){var i=this;return(0,o.A)((function*(){return yield i.copyOrMoveFileOrDir(e,n,!0,!0,r)}))()}copyFile(e,n,r){var i=this;return(0,o.A)((function*(){return yield i.copyOrMoveFileOrDir(e,n,!1,!0,r)}))()}copyOrMoveFileOrDir(e,n,r,i,a){var c=this;return(0,o.A)((function*(){if(!c.isPathInAppFolder(e))return c.copyOrMoveExternalFile(e,n,i);const moveCopyFn=(...e)=>i?r?p.ZH.copyDir(...e):p.ZH.copyFile(...e):r?p.ZH.moveDir(...e):p.ZH.moveFile(...e);yield c.init(),e=c.removeBasePath(e),n=c.removeBasePath(n);const o=s.H.getFileAndDirectoryFromPath(n);o.directory&&!a&&(yield c.createDir(o.directory));try{return yield moveCopyFn(c.basePath,e,c.basePath,n)}catch(r){try{const r=encodeURI(n);if(n!==r){return yield moveCopyFn(c.basePath,e,c.basePath,r)}}catch{}const o=decodeURI(e),i=decodeURI(n);if(e!=o||n!=i){return yield moveCopyFn(c.basePath,o,c.basePath,i)}return Promise.reject(r)}}))()}getFileAndDirectoryFromPath(e){return s.H.getFileAndDirectoryFromPath(e)}getInternalURL(e){return e.toInternalURL?e.toInternalURL():this.getFileEntryURL(e)}getFileEntryURL(e){return g.CorePlatform.isAndroid()?e.nativeURL:e.toURL()}addBasePathIfNeeded(e){return e.indexOf(this.basePath)>-1?e:v.$.concatenatePaths(this.basePath,e)}removeBasePath(e){return f.Ni.removeStartingSlash(e.replace(this.basePath,""))}unzipFile(e,n,r,s=!0){var a=this;return(0,o.A)((function*(){const o=yield a.getFile(e);n&&s&&(yield w.g.ignoreErrors(a.removeDir(n)),yield a.createDir(n)),n=a.addBasePathIfNeeded(n||i.A.removeExtension(e));if(-1==(yield C.qQ.unzip(a.getFileEntryURL(o),n,r)))throw new c.CoreError("Unzip failed.")}))()}replaceInFile(e,n,r){var i=this;return(0,o.A)((function*(){let o=yield i.readFile(e);if(null==o||!o.replace)throw new c.CoreError(`Error reading file ${e}`);o.match(n)&&(o=o.replace(n,r),yield i.writeFile(e,o))}))()}getMetadata(e){return e&&e.getMetadata?new Promise(((n,r)=>{e.getMetadata(n,r)})):Promise.reject(new c.CoreError("Cannot get metadata from file entry."))}getMetadataFromPath(e,n){var r=this;return(0,o.A)((function*(){const o=n?yield r.getDir(e):yield r.getFile(e);return r.getMetadata(o)}))()}copyOrMoveExternalFile(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.getExternalFile(e),a=s.H.getFileAndDirectoryFromPath(n),c=yield i.createDir(a.directory);return new Promise(((e,n)=>{r?o.copyTo(c,a.name,(n=>e(n)),n):o.moveTo(c,a.name,(n=>e(n)),n)}))}))()}copyExternalFile(e,n){return this.copyOrMoveExternalFile(e,n,!0)}moveExternalFile(e,n){return this.copyOrMoveExternalFile(e,n,!1)}getUniqueNameInFolder(e,n,r){var s=this;return(0,o.A)((function*(){try{const o=yield s.getDirectoryContents(e),a={};let c=i.A.removeExtension(n),u=i.A.getFileExtension(n)||r;return c=f.Ni.removeSpecialCharactersForFiles(b.F.decodeURIComponent(c)),o.forEach((e=>{a[e.name.toLowerCase()]=e})),u=u?`.${u}`:"",s.calculateUniqueName(a,c+u)}catch(e){return f.Ni.removeSpecialCharactersForFiles(b.F.decodeURIComponent(n))}}))()}calculateUniqueName(e,n){if(void 0===e[n.toLowerCase()])return n;const r=i.A.removeExtension(n);let o=i.A.getFileExtension(n),s=1;o=o?`.${o}`:"";do{n=`${r}(${s})${o}`,s++}while(void 0!==e[n.toLowerCase()]);return n}clearTmpFolder(){var e=this;return(0,o.A)((function*(){yield w.g.ignoreErrors(e.removeDir(CoreFileProvider.TMPFOLDER))}))()}clearDeletedSitesFolder(e){var n=this;return(0,o.A)((function*(){const r=CoreFileProvider.SITESFOLDER;try{const i=yield n.getDirectoryContents(r);if(!i.length)return;const s=i.map(function(){var r=(0,o.A)((function*(r){r.isDirectory&&(e.includes(r.name)||(yield w.g.ignoreErrors(n.removeDir(n.getSiteFolder(r.name)))))}));return function(e){return r.apply(this,arguments)}}());yield Promise.all(s)}catch{}}))()}removeUnusedFiles(e,n){var r=this;return(0,o.A)((function*(){try{const o=yield r.getDirectoryContents(e);if(!o.length)return;const i={},s=[];n.forEach((e=>{"fullPath"in e&&(i[e.fullPath]=e)})),o.forEach((e=>{i[e.fullPath]||s.push(r.removeFileByFileEntry(e))})),yield Promise.all(s)}catch{}}))()}isFileInAppFolder(e){return-1!=e.indexOf(this.basePath)}getWWWPath(){if(!window.location.pathname||"/"==window.location.pathname)return window.location.href;const e=window.location.href.indexOf(window.location.pathname);return-1!=e?window.location.href.substring(0,e):window.location.href}getWWWAbsolutePath(){return window.cordova&&cordova.file&&cordova.file.applicationDirectory?v.$.concatenatePaths(cordova.file.applicationDirectory,"www"):this.getWWWPath()}convertFileSrc(e){return g.CorePlatform.isMobile()?p.SC.convertFileSrc(e):e}unconvertFileSrc(e){return g.CorePlatform.isMobile()?g.CorePlatform.isIOS()?e.replace(`${a.CoreConstants.CONFIG.ioswebviewscheme}://localhost/_app_file_`,"file://"):e.replace("http://localhost/_app_file_","file://"):e}isPathInAppFolder(e){return!e||!e.match(/^[a-z0-9]+:\/\//i)||-1!=e.indexOf(this.basePath)}getFileName(e){return s.H.isFileEntry(e)?e.name:e.filename}}return(e=CoreFileProvider).SITESFOLDER="sites",e.TMPFOLDER="tmp",e.NO_SITE_FOLDER="nosite",e.CHUNK_SIZE=1048576,e.ɵfac=function CoreFileProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFileProvider})();const E=(0,p.Qd)(_)},88793:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreFilepool:()=>W,CoreFilepoolProvider:()=>q});var o=r(10467),i=r(89377),s=r(89632),a=r(94455),c=r(49882),u=r(45507),p=r(11361),f=r(52749),g=r(99121),v=r(82907),C=r(12364),b=r(75383),w=r(24742),A=r(8014),_=r(24502),E=r(75629),I=r(74431),T=r(79555),P=r(6787),k=r(46635),x=r(88436),F=r(71689),R=r(49833),N=r(89312),L=r(8756),H=r(25124),U=r(22693),B=r(35161),j=r(55554),V=r(86552),G=r(54438);let z=(()=>{class CoreFilepoolQueue{constructor(e){this.processFnc=e,this.table=(0,N.A)(),this.deferreds={},this.running=!1,this.logger=P.CoreLogger.getInstance("CoreFilepoolQueue")}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield s.CoreAppDB.createTablesFromSchema(k.ep);const n=new F.D({cachingStrategy:F.T.Lazy},s.CoreAppDB.getDB(),k.xl,[...k.H]);yield n.initialize(),e.table.setInstance(n)}))()}add(e,n,r,i){var s=this;return(0,o.A)((function*(){yield s.table.insert({siteId:e,fileId:n,url:r,priority:i.priority,revision:i.revision,timemodified:i.timemodified,path:i.filePath,isexternalfile:i.isexternalfile?1:0,repositorytype:i.repositorytype,links:JSON.stringify(i.link?[i.link]:[]),added:Date.now()})}))()}update(e,n,r){var i=this;return(0,o.A)((function*(){const o={siteId:n,fileId:r};yield i.table.update(e,o)}))()}getEntry(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.table.getOneByPrimaryKey({siteId:e,fileId:n});if(void 0===o)throw new E.CoreError("File not found in queue.");return o}))()}exist(e,n){var r=this;return(0,o.A)((function*(){return yield j.g.promiseWorks(r.getEntry(e,n))}))()}get(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getEntry(e,n);return CoreFilepoolQueue.formatEntry(o)}))()}getFirst(){var e=this;return(0,o.A)((function*(){try{const n=yield e.table.getOne({},{sorting:[{priority:"desc"},{added:"asc"}]});return CoreFilepoolQueue.formatEntry(n)}catch{return}}))()}static formatEntry(e){return{...e,linksUnserialized:b.Ni.parseJSON(e.links,[])}}remove(e,n){var r=this;return(0,o.A)((function*(){yield r.table.deleteByPrimaryKey({siteId:e,fileId:n})}))()}getPromise(e,n,r=!0,o){if(!this.deferreds[e]){if(!r)return;this.deferreds[e]={}}if(!this.deferreds[e][n]){if(!r)return;this.deferreds[e][n]=new H._}return o&&(this.deferreds[e][n].onProgress=o),this.deferreds[e][n]}getOnProgress(e,n){const r=this.getPromise(e,n,!1);return null==r?void 0:r.onProgress}treatDeferred(e,n,r,o){e in this.deferreds&&n in this.deferreds[e]&&(r?this.deferreds[e][n].resolve():this.deferreds[e][n].reject("string"==typeof o?new Error(o):o),delete this.deferreds[e][n])}canBeProcessed(){var e=this;return(0,o.A)((function*(){if(!e.running)return!1;if(!a.WE.isOnline())return e.logger.debug("Network unavailable, pausing queue processing."),e.running=!1,!1;return!(yield e.table.isEmpty())||(e.logger.debug("Queue is empty, pausing queue processing."),e.running=!1,!1)}))()}run(){this.running||(this.running=!0,this.queueLoop())}queueLoop(){var e=this;return(0,o.A)((function*(){if(yield e.canBeProcessed()){try{const n=yield e.getFirst();if(!n)return e.running=!1,void 0;yield e.processFnc(n)}catch(n){return e.logger.error(n),e.running=!1,void 0}setTimeout((()=>{e.queueLoop()}),CoreFilepoolQueue.QUEUE_PROCESS_INTERVAL)}}))()}}return CoreFilepoolQueue.QUEUE_PROCESS_INTERVAL=0,CoreFilepoolQueue})(),q=(()=>{var e;class CoreFilepoolProvider{constructor(){this.urlAttributes=[new RegExp("(\\?|&)token=([A-Za-z0-9]*)"),new RegExp("(\\?|&)forcedownload=[0-1]"),new RegExp("(\\?|&)preview=[A-Za-z0-9]+"),new RegExp("(\\?|&)offline=[0-1]","g"),new RegExp(/(\\?|&)lang=[A-Za-z\-_]+/,"g")],this.sizeCache={},this.packagesPromises={},this.filePromises={},this.fixFileIdPromises={},this.logger=P.CoreLogger.getInstance("CoreFilepoolProvider"),this.filesTables=(0,R.$)((e=>(0,N.A)((()=>f.CoreSites.getSiteTable(k.FB,{siteId:e,config:{cachingStrategy:F.T.Lazy},primaryKeyColumns:["fileId"],rowIdColumn:null,onDestroy:()=>delete this.filesTables[e]}))))),this.linksTables=(0,R.$)((e=>(0,N.A)((()=>f.CoreSites.getSiteTable(k.bz,{siteId:e,config:{cachingStrategy:F.T.Lazy},primaryKeyColumns:[...k.HT],rowIdColumn:null,onDestroy:()=>delete this.linksTables[e]}))))),this.packagesTables=(0,R.$)((e=>(0,N.A)((()=>f.CoreSites.getSiteTable(k.dP,{siteId:e,config:{cachingStrategy:F.T.Lazy},onDestroy:()=>delete this.packagesTables[e]}))))),this.queue=new z(this.processQueueItem.bind(this))}initialize(){T.b0.whenDone((()=>{this.queue.run(),a.WE.onConnectShouldBeStable().subscribe((()=>{T.SK.run((()=>this.queue.run()))}))}))}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield e.queue.initializeDatabase()}))()}addFileLink(e,n,r,i){var s=this;return(0,o.A)((function*(){if(!r)throw new E.CoreError("Cannot add link because component is invalid.");yield s.linksTables[e].insert({fileId:n,component:r,componentId:s.fixComponentId(i)||""})}))()}addFileLinkByUrl(e,n,r,i){var s=this;return(0,o.A)((function*(){const o=yield s.fixPluginfileURL(e,n),a=s.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));yield s.addFileLink(e,a,r,i)}))()}addFileLinks(e,n,r){var i=this;return(0,o.A)((function*(){const o=r.map((r=>i.addFileLink(e,n,r.component,r.componentId)));yield Promise.all(o)}))()}addFilesToQueue(e,n,r,o){return this.downloadOrPrefetchFiles(e,n,!0,!1,r,o)}addFileToPool(e,n,r){var i=this;return(0,o.A)((function*(){const o={fileId:n,...r};yield i.filesTables[e].insert(o)}))()}addHashToFilename(e,n){const r=n.match(/_[a-f0-9]{32}/g);if(r&&r.length){const o=r[r.length-1],s=e.replace(o,"");if(`_${i.V.hashAsciiStr(`url:${s}`)}`==o)return n}return`${n}_${i.V.hashAsciiStr(`url:${e}`)}`}addToQueue(e,n,r,i,s){var a=this;return(0,o.A)((function*(){return a.logger.debug(`Adding ${n} to the queue`),yield a.queue.add(e,n,r,i),a.queue.run(),a.notifyFileDownloading(e,n,i.link?[i.link]:[]),a.queue.getPromise(e,n,!0,s)}))()}addToQueueByUrl(e,n,r,i,s=0,a,c,u=0,p={},g,v){var C=this;return(0,o.A)((function*(){if(!(yield f.CoreSites.getSite(e)).canDownloadFiles())throw new E.CoreError(T.HT.instant("core.cannotdownloadfiles"));if(!v){var o;const r=yield C.fixPluginfileURL(e,n,s);n=x.CoreFileHelper.getFileUrl(r),s=null!==(o=r.timemodified)&&void 0!==o?o:s}g=null!=g?g:C.getRevisionFromUrl(n);const b=C.getFileIdByUrl(n),w=C.createComponentLink(r,i),A=C.queue.getPromise(e,b,!1,c);let _;try{_=yield C.queue.get(e,b)}catch{return C.addToQueue(e,b,n,{priority:u,revision:g,timemodified:s,filePath:a,isexternalfile:p.isexternalfile,repositorytype:p.repositorytype,link:w},c)}const I={};let P=!1;if((!_.priority||_.priority<u)&&(I.priority=u),g&&_.revision!==g&&(I.revision=g),s&&_.timemodified!==s&&(I.timemodified=s),a&&_.path!==a&&(I.path=a),_.isexternalfile!==p.isexternalfile&&(_.isexternalfile||p.isexternalfile)&&(I.isexternalfile=p.isexternalfile?1:0),_.repositorytype!==p.repositorytype&&(_.repositorytype||p.repositorytype)&&(I.repositorytype=p.repositorytype),w&&(_.linksUnserialized&&_.linksUnserialized.length&&(P=_.linksUnserialized.some((e=>e.component==w.component&&e.componentId==w.componentId))),!P)){const e=_.linksUnserialized||[];e.push(w),I.links=JSON.stringify(e)}return Object.keys(I).length?(C.logger.debug(`Updating file ${b} which is already in queue`),C.queue.update(I,e,b).then((()=>C.queue.getPromise(e,b,!0,c)))):(C.logger.debug(`File ${b} already in queue and does not require update`),A||C.queue.getPromise(e,b,!0,c))}))()}addToQueueIfNeeded(e,n,r,i,s=0,c=!0,u,p={},f){var v=this;return(0,o.A)((function*(){let o;if(c||(yield v.addToQueueByUrl(e,n,r,i,s,void 0,void 0,0,p,f,!0)),void 0!==v.sizeCache[n])o=v.sizeCache[n];else{if(!a.WE.isOnline())throw new E.CoreError(T.HT.instant("core.cannotconnect"));o=yield g.CoreWS.getRemoteFileSize(n)}const C=a.WE.isWifi(),b=o<=0;b||(v.sizeCache[n]=o),(b&&u&&C||!b&&v.shouldDownload(o))&&(yield v.addToQueueByUrl(e,n,r,i,s,void 0,void 0,0,p,f,!0))}))()}checkFileOutdated(e,n,r=0,i=0){var s=this;return(0,o.A)((function*(){return!!s.isFileOutdated(n,r,i)||(i>0&&!n.timemodified&&(yield j.g.ignoreErrors(s.filesTables[e].update({timemodified:i},{fileId:n.fileId})),n.timemodified=i),!1)}))()}clearAllPackagesStatus(e){var n=this;return(0,o.A)((function*(){n.logger.debug(`Clear all packages status for site ${e}`);const r=yield n.packagesTables[e].getMany();yield n.packagesTables[e].delete(),r.forEach((r=>{r.component&&n.triggerPackageStatusChanged(e,I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,r.component,r.componentId)}))}))()}clearFilepool(e){var n=this;return(0,o.A)((function*(){const r=yield n.filesTables[e].getMany(),o=yield n.linksTables[e].getMany();yield Promise.all([n.filesTables[e].delete(),n.linksTables[e].delete()]);const i=_.R.toObjectMultiple(o,"fileId");r.forEach((r=>n.notifyFileDeleted(e,r.fileId,i[r.fileId]||[])))}))()}componentHasFiles(e,n,r){var i=this;return(0,o.A)((function*(){const o={component:n,componentId:i.fixComponentId(r)};if(!(yield i.linksTables[e].hasAny(o)))throw new E.CoreError("Component doesn't have files")}))()}createComponentLink(e,n){if(void 0!==e&&null!=e)return{component:e,componentId:this.fixComponentId(n)}}createComponentLinks(e,n){const r=this.createComponentLink(e,n);return r?[r]:[]}determinePackagesStatus(e,n){return e||(e=I.DownloadStatus.NOT_DOWNLOADABLE),n===I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED?I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED:n===I.DownloadStatus.DOWNLOADED&&e===I.DownloadStatus.NOT_DOWNLOADABLE?I.DownloadStatus.DOWNLOADED:n!==I.DownloadStatus.DOWNLOADING||e!==I.DownloadStatus.NOT_DOWNLOADABLE&&e!==I.DownloadStatus.DOWNLOADED?n===I.DownloadStatus.OUTDATED&&e!==I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED?I.DownloadStatus.OUTDATED:e:I.DownloadStatus.DOWNLOADING}downloadForPoolByUrl(e,n,r={}){var i=this;return(0,o.A)((function*(){const s=i.getFileIdByUrl(n),a=A.F.getUrlAnchor(n);a&&(n=n.replace(a,""));const c=C.A.guessExtensionFromUrl(n),v=void 0===r.filePath,b=r.filePath||(yield i.getFilePath(e,s,c,n));if(r.poolFileObject&&r.poolFileObject.fileId!==s)throw i.logger.error("Invalid object to update passed"),new E.CoreError("Invalid object to update passed.");const w=i.getFileDownloadId(n,b);return i.filePromises[e]&&void 0!==i.filePromises[e][w]||(i.filePromises[e]||(i.filePromises[e]={}),i.filePromises[e][w]=f.CoreSites.getSite(e).then(function(){var c=(0,o.A)((function*(o){if(!o.canDownloadFiles())throw new E.CoreError(T.HT.instant("core.cannotdownloadfiles"));const c=yield g.CoreWS.downloadFile(n,b,v,r.onProgress);return yield p.CorePluginFileDelegate.treatDownloadedFile(n,c,{siteId:e,onProgress:r.onProgress,component:r.component,componentId:r.componentId,timemodified:r.timemodified}),yield i.addFileToPool(e,s,{downloadTime:Date.now(),stale:0,url:n,revision:r.revision,timemodified:r.timemodified,isexternalfile:r.isexternalfile?1:0,repositorytype:r.repositorytype,path:c.path,extension:c.extension}),U.OF.logEvent({type:U.qr.DOWNLOAD_FILE,fileUrl:A.F.unfixPluginfileURL(n,o.getURL())}),u.CoreFile.getFileEntryURL(c)+(a||"")}));return function(e){return c.apply(this,arguments)}}()).finally((()=>{delete i.filePromises[e][w]}))),i.filePromises[e][w]}))()}downloadOrPrefetchFiles(e,n,r,o,i,s,a){const c=[];return n.forEach((n=>{const u=x.CoreFileHelper.getFileUrl(n),p=n.timemodified,f={isexternalfile:"isexternalfile"in n?n.isexternalfile:void 0,repositorytype:"repositorytype"in n?n.repositorytype:void 0};let g;a&&(g=n.filename||"",n.filepath&&"/"!==n.filepath&&(g=n.filepath.substring(1)+g),g=L.$.concatenatePaths(a,g)),c.push(r?this.addToQueueByUrl(e,u,i,s,p,g,void 0,0,f):this.downloadUrl(e,u,o,i,s,p,void 0,g,f))})),j.g.allPromises(c)}downloadOrPrefetchPackage(e,n,r,i,s,a,c,u){var p=this;const f=this.getPackageId(i,s);if(this.packagesPromises[e]&&void 0!==this.packagesPromises[e][f])return this.packagesPromises[e][f];this.packagesPromises[e]||(this.packagesPromises[e]={});const g=this.storePackageStatus(e,I.DownloadStatus.DOWNLOADING,i,s).then((0,o.A)((function*(){const o=[];let f=0;n.forEach((n=>{const a=x.CoreFileHelper.getFileUrl(n),g={isexternalfile:"isexternalfile"in n?n.isexternalfile:void 0,repositorytype:"repositorytype"in n?n.repositorytype:void 0};let v,C,b,w=0;u&&(b=e=>{e&&e.loaded&&(f+=e.loaded-w,w=e.loaded,u({packageDownload:!0,loaded:f,fileProgress:e}))}),c&&(v=n.filename||"",n.filepath&&"/"!==n.filepath&&(v=n.filepath.substring(1)+v),v=L.$.concatenatePaths(c,v)),C=r?p.addToQueueByUrl(e,a,i,s,n.timemodified,v,void 0,0,g):p.downloadUrl(e,a,!1,i,s,n.timemodified,b,v,g),o.push(C)}));try{return yield Promise.all(o),yield p.storePackageStatus(e,I.DownloadStatus.DOWNLOADED,i,s,a),void 0}catch(n){throw yield p.setPackagePreviousStatus(e,i,s),n}}))).finally((()=>{delete this.packagesPromises[e][f]}));return this.packagesPromises[e][f]=g,g}downloadPackage(e,n,r,o,i,s,a){return this.downloadOrPrefetchPackage(e,n,!1,r,o,i,s,a)}downloadUrl(e,n,r,i,s,c=0,u,p,f={},g){var v=this;return(0,o.A)((function*(){var o;let C=!0;const b=yield v.fixPluginfileURL(e,n,c);n=x.CoreFileHelper.getFileUrl(b),(f=Object.assign({},f)).timemodified=null!==(o=b.timemodified)&&void 0!==o?o:c,f.revision=null!=g?g:v.getRevisionFromUrl(n);const w=v.getFileIdByUrl(n),_=v.createComponentLinks(i,s),finishSuccessfulDownload=n=>(void 0!==i&&j.g.ignoreErrors(v.addFileLink(e,w,i,s)),C||v.notifyFileDownloaded(e,w,_),n);try{const o=yield v.getFileInPool(e,w,n);let i;if((yield v.checkFileOutdated(e,o,f.revision,f.timemodified))&&a.WE.isOnline()&&!r)throw new E.CoreError("Needs to be downloaded");i=p?yield v.getInternalUrlByPath(p):yield v.getInternalUrlById(e,w);return finishSuccessfulDownload(i+(A.F.getUrlAnchor(n)||""))}catch(r){v.notifyFileDownloading(e,w,_),C=!1;try{return finishSuccessfulDownload(yield v.downloadForPoolByUrl(e,n,{...f,filePath:p,onProgress:u,component:i,componentId:s,timemodified:f.timemodified}))}catch(n){throw v.notifyFileDownloadError(e,w,_),n}}}))()}extractDownloadableFilesFromHtml(e){let n=[];const r=(0,B.B)(e),o=Array.from(r.querySelectorAll("a, img, audio, video, source, track"));for(let e=0;e<o.length;e++){const r=o[e],i="href"in r?r.href:r.src;if(i&&A.F.isDownloadableUrl(i)&&-1==n.indexOf(i)&&n.push(i),"VIDEO"==r.tagName&&r.getAttribute("poster")){const e=r.getAttribute("poster");e&&A.F.isDownloadableUrl(e)&&-1==n.indexOf(e)&&n.push(e)}}return n=n.concat(p.CorePluginFileDelegate.getDownloadableFilesFromHTML(r)),n}extractDownloadableFilesFromHtmlAsFakeFileObjects(e){return this.extractDownloadableFilesFromHtml(e).map((e=>({fileurl:e})))}fixComponentId(e){if("number"==typeof e)return e;if(null==e)return-1;const n=parseInt(e,10);return isNaN(n)?e:n}fixPluginfileURL(e,n,r=0){return(0,o.A)((function*(){const o=yield p.CorePluginFileDelegate.getDownloadableFile({fileurl:n,timemodified:r}),i=yield f.CoreSites.getSite(e);return"fileurl"in o?o.fileurl=yield i.checkAndFixPluginfileURL(o.fileurl):o.url=yield i.checkAndFixPluginfileURL(o.url),o}))()}getComponentFiles(e,n,r){var i=this;return(0,o.A)((function*(){e=null!=e?e:f.CoreSites.getCurrentSiteId();const o={component:n,componentId:i.fixComponentId(r)},s=yield i.linksTables[e].getMany(o);return s.forEach((e=>{e.componentId=i.fixComponentId(e.componentId)})),s}))()}getDirectoryUrlByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o)),s=yield r.getFilePath(e,i,""),a=yield u.CoreFile.getDir(s);return u.CoreFile.getFileEntryURL(a)}))()}getFileDownloadId(e,n){return i.V.hashAsciiStr(`${e}###${n}`)}getFileEventName(e,n){return`CoreFilepoolFile:${e}:${n}`}getFileEventNameByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));return r.getFileEventName(e,i)}))()}getFileIdByUrl(e){let n=e;n=n.replace(/\/tokenpluginfile\.php\/[^/]+\//,"/webservice/pluginfile.php/"),n=this.removeRevisionFromUrl(n),n=b.Ni.decodeHTML(A.F.decodeURIComponent(n)),-1!==n.indexOf("/webservice/pluginfile")&&this.urlAttributes.forEach((e=>{n=n.replace(e,"")})),n=A.F.removeUrlParts(n,"fragment");const r=this.guessFilenameFromUrl(n);return this.addHashToFilename(n,r)}getFiledIdByUrlBugged(e){let n=e;n=n.replace(/\/tokenpluginfile\.php\/[^/]+\//,"/webservice/pluginfile.php/"),n=b.Ni.decodeHTML(A.F.decodeURIComponent(n)),-1!==n.indexOf("/webservice/pluginfile")&&this.urlAttributes.forEach((e=>{n=n.replace(e,"")})),n=A.F.removeUrlParts(n,"fragment");const r=this.guessFilenameFromUrl(n);return this.addHashToFilename(n,r)}getFileLinks(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.linksTables[e].getMany({fileId:n});return o.forEach((e=>{e.componentId=r.fixComponentId(e.componentId)})),o}))()}getFilePath(e,n,r,i){var s=this;return(0,o.A)((function*(){let o=`${s.getFilepoolFolderPath(e)}/${n}`;if(void 0===r)try{const r=yield s.getFileInPool(e,n,i);r.extension&&(o+=`.${r.extension}`)}catch(e){}else r&&(o+=`.${r}`);return o}))()}getFilePathByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));return r.getFilePath(e,i,void 0,x.CoreFileHelper.getFileUrl(o))}))()}getFileUrlByPath(e,n){var r=this;return(0,o.A)((function*(){return(yield r.filesTables[e].getOne({path:n})).url}))()}getFilepoolFolderPath(e){return`${u.CoreFile.getSiteFolder(e)}/${CoreFilepoolProvider.FOLDER}`}getFilesByComponent(e,n,r){var i=this;return(0,o.A)((function*(){const s=yield i.getComponentFiles(e,n,r),a=[];return yield Promise.all(s.map(function(){var n=(0,o.A)((function*(n){try{const r=yield i.filesTables[e].getOneByPrimaryKey({fileId:n.fileId});if(!r)return;a.push(r)}catch(e){}}));return function(e){return n.apply(this,arguments)}}())),a}))()}getFilesSizeByComponent(e,n,r){var i=this;return(0,o.A)((function*(){const s=yield i.getFilesByComponent(e,n,r);let a=0;return yield Promise.all(s.map(function(){var e=(0,o.A)((function*(e){try{const n=yield u.CoreFile.getFileSize(e.path);a+=n}catch{}}));return function(n){return e.apply(this,arguments)}}())),a}))()}getFileStateByUrl(e,n,r=0,i,s){var a=this;return(0,o.A)((function*(){var o;let c;try{c=yield a.fixPluginfileURL(e,n,r)}catch(e){return I.DownloadStatus.NOT_DOWNLOADABLE}n=A.F.removeUrlParts(x.CoreFileHelper.getFileUrl(c),"fragment"),r=null!==(o=c.timemodified)&&void 0!==o?o:r,s=null!=s?s:a.getRevisionFromUrl(n);const u=a.getFileIdByUrl(n);if(yield a.queue.exist(e,u))return I.DownloadStatus.DOWNLOADING;const p=C.A.guessExtensionFromUrl(n);i=i||(yield a.getFilePath(e,u,p,n));const f=a.getFileDownloadId(n,i);if(a.filePromises[e]&&void 0!==a.filePromises[e][f])return I.DownloadStatus.DOWNLOADING;try{const o=yield a.getFileInPool(e,u,n);return(yield a.checkFileOutdated(e,o,s,r))?I.DownloadStatus.OUTDATED:I.DownloadStatus.DOWNLOADED}catch{return I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED}}))()}getFileUrlByUrl(e,n,r,i,s="url",c=0,u=!0,p,f={},g){var v=this;return(0,o.A)((function*(){var o;const addToQueue=n=>{j.g.ignoreErrors(v.addToQueueIfNeeded(e,n,r,i,c,u,p,f,g))},C=yield v.fixPluginfileURL(e,n,c);n=x.CoreFileHelper.getFileUrl(C),c=null!==(o=C.timemodified)&&void 0!==o?o:c,g=null!=g?g:v.getRevisionFromUrl(n);const b=v.getFileIdByUrl(n);try{const r=yield v.getFileInPool(e,b,n);if((yield v.checkFileOutdated(e,r,g,c))&&a.WE.isOnline())throw new E.CoreError("File is outdated")}catch{return addToQueue(n),n}try{const r="src"===s?yield v.getInternalSrcById(e,b,n):yield v.getInternalUrlById(e,b,n);return r+(A.F.getUrlAnchor(n)||"")}catch{return v.logger.debug(`File ${b} not found on disk`),v.removeFileById(e,b),addToQueue(n),n}}))()}getInternalSrcById(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.getFilePath(e,n,void 0,r),s=yield u.CoreFile.getFile(o);return u.CoreFile.convertFileSrc(u.CoreFile.getFileEntryURL(s))}))()}getInternalUrlById(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.getFilePath(e,n,void 0,r),s=yield u.CoreFile.getFile(o);return u.CoreFile.getFileEntryURL(s)}))()}getInternalUrlByPath(e){return(0,o.A)((function*(){const n=yield u.CoreFile.getFile(e);return u.CoreFile.getFileEntryURL(n)}))()}getInternalSrcByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));return r.getInternalSrcById(e,i,x.CoreFileHelper.getFileUrl(o))}))()}getInternalUrlByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));return r.getInternalUrlById(e,i,x.CoreFileHelper.getFileUrl(o))}))()}getPackageData(e,n,r){var i=this;return(0,o.A)((function*(){r=i.fixComponentId(r);const o=i.getPackageId(n,r);return i.packagesTables[e].getOneByPrimaryKey({id:o})}))()}getPackageDirNameByUrl(e){let n="";if(-1!==(e=this.removeRevisionFromUrl(e)).indexOf("/webservice/pluginfile")){this.urlAttributes.forEach((n=>{e=e.replace(n,"")}));const r=C.A.guessExtensionFromUrl(e);r&&"php"!==r&&(n=`.${r}`)}return i.V.hashAsciiStr(`url:${e}`)+n}getPackageDirPathByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getPackageDirNameByUrl(x.CoreFileHelper.getFileUrl(o));return yield r.getFilePath(e,i,"")}))()}getPackageDirUrlByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getPackageDirNameByUrl(x.CoreFileHelper.getFileUrl(o)),s=yield r.getFilePath(e,i,""),a=yield u.CoreFile.getDir(s);return u.CoreFile.getFileEntryURL(a)}))()}getPackageDownloadPromise(e,n,r){var o;const i=this.getPackageId(n,r);if(void 0!==(null===(o=this.packagesPromises[e])||void 0===o?void 0:o[i]))return this.packagesPromises[e][i]}getPackageExtra(e,n,r){var i=this;return(0,o.A)((function*(){return(yield i.getPackageData(e,n,r)).extra}))()}getPackageId(e,n){return i.V.hashAsciiStr(`${e}#${this.fixComponentId(n)}`)}getPackagePreviousStatus(e,n,r){var i=this;return(0,o.A)((function*(){try{return(yield i.getPackageData(e,n,r)).previous||I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED}catch{return I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED}}))()}getPackageStatus(e,n,r){var i=this;return(0,o.A)((function*(){try{return(yield i.getPackageData(e,n,r)).status||I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED}catch{return I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED}}))()}getRevisionFromFileList(e){let n=0;return e.forEach((e=>{const r=x.CoreFileHelper.getFileUrl(e);if(r){const e=this.getRevisionFromUrl(r);e>n&&(n=e)}})),n}getRevisionFromUrl(e){const n=A.F.getPluginFileArgs(e);if(!n)return 0;const r=p.CorePluginFileDelegate.getComponentRevisionRegExp(n);if(!r)return 0;const o=e.match(r);return o&&void 0!==o[1]?parseInt(o[1],10):0}getSrcByUrl(e,n,r,o,i=0,s=!0,a,c={},u){return this.getFileUrlByUrl(e,n,r,o,"src",i,s,a,c,u)}getTimemodifiedFromFileList(e){let n=0;return e.forEach((e=>{e.timemodified&&e.timemodified>n&&(n=e.timemodified)})),n}getUrlByUrl(e,n,r,o,i=0,s=!0,a,c={},u){return this.getFileUrlByUrl(e,n,r,o,"url",i,s,a,c,u)}guessFilenameFromUrl(e){let n="";if(-1!==e.indexOf("/webservice/pluginfile")){const r=A.F.extractUrlParams(e);n=r.file?r.file.substring(r.file.lastIndexOf("/")+1):A.F.getLastFileWithoutParams(e)}else if(A.F.isGravatarUrl(e))n=`gravatar_${A.F.getLastFileWithoutParams(e)}`;else if(A.F.isThemeImageUrl(e)){const r=e.match(/\/core\/([^/]*)\//);r&&r[1]&&(n=r[1]),n=`default_${n}_${A.F.getLastFileWithoutParams(e)}`}else n=A.F.getLastFileWithoutParams(e);const r=n.indexOf("#");let o;return-1!=r&&(o=n.split("#"),o.shift(),n=n.substring(0,r)),n=C.A.removeExtension(n),o&&(n+=`_${o.join("_")}`),b.Ni.removeSpecialCharactersForFiles(n)}getFileInPool(e,n,r){var i=this;return(0,o.A)((function*(){try{return yield i.filesTables[e].getOneByPrimaryKey({fileId:n})}catch(o){if(!r)throw o;const s=i.getFiledIdByUrlBugged(r);if(s===n)throw o;const a=yield i.filesTables[e].getOneByPrimaryKey({fileId:s});try{yield i.fixBuggedFileId(e,a,n)}catch(e){}return a}}))()}fixBuggedFileId(e,n,r){var i=this;return(0,o.A)((function*(){var s;if(i.fixFileIdPromises[e]&&void 0!==i.fixFileIdPromises[e][r])return i.fixFileIdPromises[e][r];const a=function(){var s=(0,o.A)((function*(){const o=n.fileId,[s,a]=yield Promise.all([i.getFilePath(e,o,n.extension),i.getFilePath(e,r,n.extension)]);yield u.CoreFile.moveFile(s,a),yield Promise.all([i.filesTables[e].update({fileId:r},{fileId:o}),j.g.ignoreErrors(i.linksTables[e].update({fileId:r},{fileId:o}))]),n.fileId=r,delete i.fixFileIdPromises[e][r]}));return function fixFileId(){return s.apply(this,arguments)}}();return i.fixFileIdPromises[e]=null!==(s=i.fixFileIdPromises[e])&&void 0!==s?s:{},i.fixFileIdPromises[e][r]=a(),i.fixFileIdPromises[e][r]}))()}invalidateAllFiles(e,n=!0){var r=this;return(0,o.A)((function*(){n?yield r.filesTables[e].updateWhere({stale:1},{sql:CoreFilepoolProvider.FILE_IS_UNKNOWN_SQL,js:CoreFilepoolProvider.FILE_IS_UNKNOWN_JS}):yield r.filesTables[e].update({stale:1})}))()}invalidateFileByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));yield r.filesTables[e].update({stale:1},{fileId:i})}))()}invalidateFilesByComponent(e,n,r,i=!0){var s=this;return(0,o.A)((function*(){e=null!=e?e:f.CoreSites.getCurrentSiteId();const o=yield s.getComponentFiles(e,n,r);if(!o.length)return;const a=o.map((e=>e.fileId));yield s.filesTables[e].updateWhere({stale:1},{sql:i?`fileId IN (${a.map((()=>"?")).join(", ")}) AND (${CoreFilepoolProvider.FILE_IS_UNKNOWN_SQL})`:`fileId IN (${a.map((()=>"?")).join(", ")})`,sqlParams:a,js:e=>a.includes(e.fileId)&&(!i||CoreFilepoolProvider.FILE_IS_UNKNOWN_JS(e))})}))()}isFileEventDownloadedOrDeleted(e){return"download"===e.action&&1==e.success||"deleted"===e.action}isFileDownloadable(e,n,r=0,i,s){var a=this;return(0,o.A)((function*(){return(yield a.getFileStateByUrl(e,n,r,i,s))!==I.DownloadStatus.NOT_DOWNLOADABLE}))()}isFileDownloadingByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));return yield r.queue.exist(e,i)}))()}isFileOutdated(e,n=0,r=0){var o;if(e.stale)return!0;if(r>0){return r>(e.timemodified||Math.floor(e.downloadTime/1e3))}return n>(null!==(o=e.revision)&&void 0!==o?o:0)}isFileUpdateUnknown(e){return!!e.isexternalfile||!e.revision&&!e.timemodified}notifyFileActionToComponents(e,n,r){r.forEach((r=>{const o=Object.assign({component:r.component,componentId:r.componentId},n);c.z.trigger(c.z.COMPONENT_FILE_ACTION,o,e)}))}notifyFileDeleted(e,n,r){const o={fileId:n,action:"deleted"};c.z.trigger(this.getFileEventName(e,n),o),this.notifyFileActionToComponents(e,o,r)}notifyFileDownloaded(e,n,r){const o={fileId:n,action:"download",success:!0};c.z.trigger(this.getFileEventName(e,n),o),this.notifyFileActionToComponents(e,o,r)}notifyFileDownloadError(e,n,r){const o={fileId:n,action:"download",success:!1};c.z.trigger(this.getFileEventName(e,n),o),this.notifyFileActionToComponents(e,o,r)}notifyFileDownloading(e,n,r){const o={fileId:n,action:"downloading"};c.z.trigger(this.getFileEventName(e,n),o),this.notifyFileActionToComponents(e,o,r)}notifyFileOutdated(e,n,r){const o={fileId:n,action:"outdated"};c.z.trigger(this.getFileEventName(e,n),o),this.notifyFileActionToComponents(e,o,r)}prefetchPackage(e,n,r,o,i,s,a){return this.downloadOrPrefetchPackage(e,n,!0,r,o,i,s,a)}processQueueItem(e){var n=this;return(0,o.A)((function*(){var r,o,i;const s=e.siteId,a=e.fileId,c=e.url,u={revision:null!==(r=e.revision)&&void 0!==r?r:0,timemodified:null!==(o=e.timemodified)&&void 0!==o?o:0,isexternalfile:void 0===e.isexternalfile?void 0:!!e.isexternalfile,repositorytype:null!==(i=e.repositorytype)&&void 0!==i?i:void 0},p=e.path||void 0,f=e.linksUnserialized||[];let g;n.logger.debug(`Processing queue item: ${s}, ${a}`);try{g=yield n.getFileInPool(s,a,c)}catch{}if(g&&!u.isexternalfile&&!(yield n.checkFileOutdated(s,g,u.revision,u.timemodified)))return n.logger.debug("Queued file already in store, ignoring..."),n.addFileLinks(s,a,f).catch((()=>{})),yield j.g.ignoreErrors(n.queue.remove(s,a)),n.queue.treatDeferred(s,a,!0),void 0;const v=n.queue.getOnProgress(s,a);try{var C,b;yield n.downloadForPoolByUrl(s,c,{...u,filePath:p,onProgress:v,poolFileObject:g,component:null===(C=e.linksUnserialized)||void 0===C||null===(C=C[0])||void 0===C?void 0:C.component,componentId:null===(b=e.linksUnserialized)||void 0===b||null===(b=b[0])||void 0===b?void 0:b.componentId,timemodified:u.timemodified}),j.g.ignoreErrors(n.addFileLinks(s,a,f)),yield j.g.ignoreErrors(n.queue.remove(s,a)),n.queue.treatDeferred(s,a,!0),n.notifyFileDownloaded(s,a,f)}catch(e){let r=!1;if(e&&e.source===c)if(4===e.code);else r=!0;else r=!0;let o=e;if(e instanceof FileTransferError&&e.exception&&e.exception.includes("EDQUOT")&&(o=new Error(T.HT.instant("core.course.insufficientavailablequota"))),!r)throw n.queue.treatDeferred(s,a,!1,o),n.notifyFileDownloadError(s,a,f),e;n.logger.debug(`Item dropped from queue due to error: ${c}`,e),yield j.g.ignoreErrors(n.queue.remove(s,a)),n.queue.treatDeferred(s,a,!1,o),n.notifyFileDownloadError(s,a,f)}}))()}removeFileById(e,n){var r=this;return(0,o.A)((function*(){let o,i=`${r.getFilepoolFolderPath(e)}/${n}`;try{const s=yield r.getFileInPool(e,n);o=s.url,s.extension&&(i+=`.${s.extension}`)}catch(e){}const s={fileId:n},a=yield r.getFileLinks(e,n),c=[];c.push(r.filesTables[e].delete(s)),c.push(r.linksTables[e].delete(s)),c.push(u.CoreFile.removeFile(i).catch((e=>{if(!e||1!=e.code)throw e}))),yield Promise.all(c),r.notifyFileDeleted(e,n,a),o&&(yield j.g.ignoreErrors(p.CorePluginFileDelegate.fileDeleted(o,i,e)))}))()}removeFilesByComponent(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.getComponentFiles(e,n,r);yield Promise.all(o.map((n=>i.removeFileById(e,n.fileId))))}))()}removeFileByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.fixPluginfileURL(e,n),i=r.getFileIdByUrl(x.CoreFileHelper.getFileUrl(o));yield r.removeFileById(e,i)}))()}removeRevisionFromUrl(e){const n=A.F.getPluginFileArgs(e);return n?p.CorePluginFileDelegate.removeRevisionFromUrl(e,n):e}setPackagePreviousStatus(e,n,r){var i=this;return(0,o.A)((function*(){r=i.fixComponentId(r),i.logger.debug(`Set previous status for package ${n} ${r}`);const o=i.getPackageId(n,r),s=yield i.packagesTables[e].getOneByPrimaryKey({id:o}),a={};return s.status===I.DownloadStatus.DOWNLOADING&&(a.downloadTime=s.previousDownloadTime),a.status=s.previous||I.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,a.updated=Date.now(),i.logger.debug(`Set previous status '${s.status}' for package ${n} ${r}`),yield i.packagesTables[e].update(a,{id:o}),i.triggerPackageStatusChanged(e,a.status,n,r),a.status}))()}shouldDownload(e){return e<=CoreFilepoolProvider.DOWNLOAD_THRESHOLD||a.WE.isWifi()&&e<=CoreFilepoolProvider.WIFI_DOWNLOAD_THRESHOLD}shouldDownloadFileBeforeOpen(e,n,r={}){return(0,o.A)((function*(){if(n>=0&&n<=CoreFilepoolProvider.DOWNLOAD_THRESHOLD)return!0;if(V.j.shouldOpenWithDialog(r))return!0;const o=yield C.A.getMimeTypeFromUrl(e);return!C.A.isStreamedMimetype(o)}))()}storePackageStatus(e,n,r,i,s){var a=this;return(0,o.A)((function*(){a.logger.debug(`Set status '${n}' for package ${r} ${i}`),i=a.fixComponentId(i);const o=a.getPackageId(r,i);let c,u,p;n===I.DownloadStatus.DOWNLOADING&&(c=w.j.timestamp());try{const n=yield a.packagesTables[e].getOneByPrimaryKey({id:o});s=null!=s?s:n.extra,void 0===c?(c=n.downloadTime,u=n.previousDownloadTime):u=n.downloadTime,p=n.status}catch(e){}p!==n&&(yield a.packagesTables[e].insert({id:o,component:r,componentId:i,status:n,previous:p,updated:Date.now(),downloadTime:c,previousDownloadTime:u,extra:s}),a.triggerPackageStatusChanged(e,n,r,i))}))()}treatCSSCode(e,n,r,i,s,a){var c=this;return(0,o.A)((function*(){const p=v.y.extractUrlsFromCSS(r);let f=!1;const g=yield c.getFilePathByUrl(e,n);return yield Promise.all(p.map(function(){var p=(0,o.A)((function*(o){if(!o.trim())return;const p=A.F.toAbsoluteURL(n,o);try{let n=p;A.F.isLocalFileUrl(p)||(n=yield c.downloadUrl(e,p,!1,i,s,0,void 0,void 0,void 0,a)),n=u.CoreFile.convertFileSrc(n),n!==o&&(r=r.replace(new RegExp(b.Ni.escapeForRegex(o),"g"),n),f=!0)}catch(e){c.logger.warn("Error treating file ",o,e),p!==o&&(r=r.replace(new RegExp(b.Ni.escapeForRegex(o),"g"),p),f=!0)}}));return function(e){return p.apply(this,arguments)}}())),f&&(yield u.CoreFile.writeFile(g,r)),r}))()}triggerPackageStatusChanged(e,n,r,o){const i={component:r,componentId:this.fixComponentId(o),status:n};c.z.trigger(c.z.PACKAGE_STATUS_CHANGED,i,e)}updatePackageDownloadTime(e,n,r){var i=this;return(0,o.A)((function*(){r=i.fixComponentId(r);const o=i.getPackageId(n,r);yield i.packagesTables[e].update({downloadTime:w.j.timestamp()},{id:o})}))()}}return(e=CoreFilepoolProvider).FOLDER="filepool",e.WIFI_DOWNLOAD_THRESHOLD=20971520,e.DOWNLOAD_THRESHOLD=2097152,e.FILE_IS_UNKNOWN_SQL="isexternalfile = 1 OR ((revision IS NULL OR revision = 0) AND (timemodified IS NULL OR timemodified = 0))",e.FILE_IS_UNKNOWN_JS=({isexternalfile:e,revision:n,timemodified:r})=>1===e||(null===n||0===n)&&(null===r||0===r),e.ɵfac=function CoreFilepoolProvider_Factory(n){return new(n||e)},e.ɵprov=G.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreFilepoolProvider})();const W=(0,T.Qd)(q)},15221:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreGroups:()=>g,CoreGroupsProvider:()=>f});var o=r(10467),i=r(52749),s=r(75629),a=r(79555),c=r(66110),u=r(74431),p=r(54438);let f=(()=>{var e;class CoreGroupsProvider{activityHasGroups(e,n,r){var i=this;return(0,o.A)((function*(){try{const o=yield i.getActivityGroupMode(e,n,r);return o===CoreGroupsProvider.SEPARATEGROUPS||o===CoreGroupsProvider.VISIBLEGROUPS}catch(e){return!1}}))()}getActivityAllowedGroups(e,n,r,a){var c=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);n=n||o.getUserId();const p={cmid:e,userid:n},f={cacheKey:c.getActivityAllowedGroupsCacheKey(e,n),updateFrequency:u.CoreCacheUpdateFrequency.RARELY};a&&(f.getFromCache=!1,f.emergencyCache=!1);const g=yield o.read("core_group_get_activity_allowed_groups",p,f);if(!g||!g.groups)throw new s.CoreError("Activity allowed groups not found.");return g}))()}getActivityAllowedGroupsCacheKey(e,n){return`${CoreGroupsProvider.ROOT_CACHE_KEY}allowedgroups:${e}:${n}`}getActivityAllowedGroupsIfEnabled(e,n,r,s){var a=this;return(0,o.A)((function*(){r=r||i.CoreSites.getCurrentSiteId();return(yield a.activityHasGroups(e,r,s))?a.getActivityAllowedGroups(e,n,r,s):{groups:[]}}))()}getActivityGroupInfo(e,n,r,i,s){var c=this;return(0,o.A)((function*(){const n={groups:[],defaultGroupId:0,canAccessAllGroups:!1},o=yield c.getActivityGroupMode(e,i,s);let u;return n.separateGroups=o===CoreGroupsProvider.SEPARATEGROUPS,n.visibleGroups=o===CoreGroupsProvider.VISIBLEGROUPS,n.separateGroups||n.visibleGroups?(u=yield c.getActivityAllowedGroups(e,r,i,s),n.canAccessAllGroups=!!u.canaccessallgroups):u={groups:[]},u.groups.length?(u.canaccessallgroups||n.visibleGroups?(n.groups.push({id:0,name:a.HT.instant("core.allparticipants")}),n.defaultGroupId=0):n.defaultGroupId=u.groups[0].id,n.groups=n.groups.concat(u.groups)):n.defaultGroupId=0,n}))()}getActivityGroupMode(e,n,r){var a=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),c={cmid:e},p={cacheKey:a.getActivityGroupModeCacheKey(e),updateFrequency:u.CoreCacheUpdateFrequency.RARELY};r&&(p.getFromCache=!1,p.emergencyCache=!1);const f=yield o.read("core_group_get_activity_groupmode",c,p);if(!f||void 0===f.groupmode)throw new s.CoreError("Activity group mode not found.");return f.groupmode}))()}getActivityGroupModeCacheKey(e){return`${CoreGroupsProvider.ROOT_CACHE_KEY}groupmode:${e}`}getAllUserGroups(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);if(e=e||r.getId(),r.isVersionGreaterEqualThan("3.6"))return n.getUserGroupsInCourse(0,e);const o=yield c.CoreCourses.getUserCourses(!1,e);return o.push({id:r.getSiteHomeId()}),n.getUserGroups(o,e)}))()}getUserGroups(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getCourseIds(e).map((e=>i.getUserGroupsInCourse(e,n,r))),s=yield Promise.all(o);return[].concat(...s)}))()}getUserGroupsInCourse(e,n,r){var a=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n),c={userid:r=r||o.getUserId(),courseid:e},p={cacheKey:a.getUserGroupsInCourseCacheKey(e,r),updateFrequency:u.CoreCacheUpdateFrequency.RARELY},f=yield o.read("core_group_get_course_user_groups",c,p);if(!f||!f.groups)throw new s.CoreError("User groups in course not found.");return f.groups}))()}getUserGroupsInCoursePrefixCacheKey(){return`${CoreGroupsProvider.ROOT_CACHE_KEY}courseGroups:`}getUserGroupsInCourseCacheKey(e,n){return`${this.getUserGroupsInCoursePrefixCacheKey()+e}:${n}`}invalidateActivityAllowedGroups(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(r);n=n||o.getUserId(),yield o.invalidateWsCacheForKey(s.getActivityAllowedGroupsCacheKey(e,n))}))()}invalidateActivityGroupMode(e,n){var r=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getActivityGroupModeCacheKey(e))}))()}invalidateActivityGroupInfo(e,n,r){var i=this;return(0,o.A)((function*(){const o=[];o.push(i.invalidateActivityAllowedGroups(e,n,r)),o.push(i.invalidateActivityGroupMode(e,r)),yield Promise.all(o)}))()}invalidateAllUserGroups(e){var n=this;return(0,o.A)((function*(){const r=yield i.CoreSites.getSite(e);if(r.isVersionGreaterEqualThan("3.6"))return yield n.invalidateUserGroupsInCourse(0,e),void 0;yield r.invalidateWsCacheForKeyStartingWith(n.getUserGroupsInCoursePrefixCacheKey())}))()}invalidateUserGroups(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);r=r||o.getUserId();const a=s.getCourseIds(e).map((e=>s.invalidateUserGroupsInCourse(e,o.id,r)));yield Promise.all(a)}))()}invalidateUserGroupsInCourse(e,n,r){var s=this;return(0,o.A)((function*(){const o=yield i.CoreSites.getSite(n);r=r||o.getUserId(),yield o.invalidateWsCacheForKey(s.getUserGroupsInCourseCacheKey(e,r))}))()}validateGroupId(e=0,n){return e>0&&n&&n.groups&&n.groups.length>0&&n.groups.some((n=>e==n.id))?e:n.defaultGroupId}getCourseIds(e){return e.length>0&&"object"==typeof e[0]?e.map((e=>e.id)):e}}return(e=CoreGroupsProvider).ROOT_CACHE_KEY="mmGroups:",e.NOGROUPS=0,e.SEPARATEGROUPS=1,e.VISIBLEGROUPS=2,e.ɵfac=function CoreGroupsProvider_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreGroupsProvider})();const g=(0,a.Qd)(f)},72881:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreLang:()=>b,CoreLangProvider:()=>C});var o=r(10467),i=r(74431),s=r(85190),a=r(10025),c=r(79555),u=r(94339),p=r(18022),f=r(6787),g=r(52749),v=r(54438);let C=(()=>{var e;class CoreLangProvider{constructor(){this.fallbackLanguage="en",this.defaultLanguage=i.CoreConstants.CONFIG.default_lang||"en",this.customStrings={},this.sitePluginsStrings={},this.logger=f.CoreLogger.getInstance("CoreLang")}initialize(){var e=this;return(0,o.A)((function*(){c.HT.setDefaultLang(e.fallbackLanguage),c.HT.use(e.defaultLanguage),c.HT.onLangChange.subscribe((e=>{document.documentElement.setAttribute("lang",e.lang);let n=c.HT.instant("core.thisdirection");n=-1!=n.indexOf("rtl")?"rtl":"ltr",document.documentElement.setAttribute("dir",n)})),e.initializeCurrentLanguage()}))()}initializeCurrentLanguage(){var e=this;return(0,o.A)((function*(){let n;yield p.CorePlatform.ready(),n=p.CorePlatform.isAutomated()?"en":yield e.getCurrentLanguage(),yield e.changeCurrentLanguage(n)}))()}addSitePluginsStrings(e,n,r){var i=this;return(0,o.A)((function*(){e=e.replace(/_/g,"-");for(const o in n){const s=r+o;let a=n[o];i.customStrings[e]&&i.customStrings[e][s]||(a=a.replace(/\$a->/gm,"$a."),a=a.replace(/{([^ ]+)}/gm,"{{$1}}"),a=a.replace(/{{{([^ ]+)}}}/gm,"{{$1}}"),yield i.loadString(i.sitePluginsStrings,e,s,a))}}))()}capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}getMessage(e,n){var r=this;return(0,o.A)((function*(){var o;return null!==(o=(yield r.getMessages(n))[e])&&void 0!==o?o:null}))()}getMessages(e){return c.HT.translations[e]?Promise.resolve(c.HT.translations[e]):new Promise((n=>a.O.once(c.HT.getTranslation(e),(e=>n(e)),(()=>n({})))))}getParentLanguage(){const e=c.HT.instant("core.parentlanguage");if(""!==e&&"core.parentlanguage"!==e&&e!==this.currentLanguage)return e}getParentLanguageForLang(e){var n=this;return(0,o.A)((function*(){const r=(yield n.getMessages(e))["core.parentlanguage"];if(r&&"core.parentlanguage"!==r&&r!==e)return r}))()}changeCurrentLanguage(e){var n=this;return(0,o.A)((function*(){var r;yield n.loadDayJSLocale(e);const o=null!==(r=n.currentLanguage)&&void 0!==r?r:n.getDefaultLanguage();n.currentLanguage=e;try{yield n.reloadLanguageStrings(),yield s.CoreConfig.set("current_language",e)}catch(r){if(e!==o)return n.logger.error(`Language ${e} not available, reverting to ${o}`,r),n.changeCurrentLanguage(o);throw r}finally{const[r,o]=yield Promise.all([n.loadLangStrings(n.customStrings,e),n.loadLangStrings(n.sitePluginsStrings,e)]);(r||o)&&c.HT.onLangChange.emit({lang:e,translations:c.HT.translations[e]})}}))()}loadDayJSLocale(e){var n=this;return(0,o.A)((function*(){e="en"===e?"en-gb":e;try{yield r(65359)("./"+e),u.yf.locale(e)}catch{if("en"===e||"en-gb"===e)return;const r=yield n.getParentLanguageForLang(e),o=e.substring(0,e.indexOf("-"));if(o&&("en"===r||void 0===r))return yield n.loadDayJSLocale(o),void 0;yield n.loadDayJSLocale(null!=r?r:"en")}}))()}clearCustomStrings(){this.unloadStrings(this.customStrings),this.customStrings={},this.customStringsRaw=""}clearSitePluginsStrings(){this.unloadStrings(this.sitePluginsStrings),this.sitePluginsStrings={}}getAllCustomStrings(){return this.customStrings}getAllSitePluginsStrings(){return this.sitePluginsStrings}getCurrentLanguage(e){var n=this;return(0,o.A)((function*(){return void 0===n.currentLanguage&&(n.currentLanguage=yield n.detectLanguage()),e?n.formatLanguage(n.currentLanguage,e):n.currentLanguage}))()}getCurrentLanguageSync(e){if(void 0!==this.currentLanguage)return e?this.formatLanguage(this.currentLanguage,e):this.currentLanguage}formatLanguage(e,n){switch(n){case"app":return e.replace("_","-");case"lms":return e.replace("-","_")}}detectLanguage(){var e=this;return(0,o.A)((function*(){try{return yield s.CoreConfig.get("current_language")}catch{}if(i.CoreConstants.CONFIG.default_lang&&i.CoreConstants.CONFIG.forcedefaultlanguage)return i.CoreConstants.CONFIG.default_lang;let n=navigator.language.toLowerCase();return n.indexOf("-")>-1&&i.CoreConstants.CONFIG.languages&&void 0===i.CoreConstants.CONFIG.languages[n]&&(n=n.substring(0,n.indexOf("-"))),void 0===i.CoreConstants.CONFIG.languages[n]?e.defaultLanguage:n}))()}getDefaultLanguage(){return this.defaultLanguage}getFallbackLanguage(){return this.fallbackLanguage}getMonthNames(){return u.yf.months().map((e=>this.capitalize(e)))}getMonthShortNames(){return u.yf.monthsShort().map((e=>this.capitalize(e)))}getDayNames(){return u.yf.weekdays().map((e=>this.capitalize(e)))}getDayShortNames(){return u.yf.weekdaysShort().map((e=>this.capitalize(e)))}getTranslationTable(e){return new Promise(((n,r)=>{const o=c.HT.getTranslation(e).subscribe({next:e=>{n(e),o.unsubscribe()},error:e=>{r(e),o.unsubscribe()}})}))}isInheritedString(e,n,r){var i=this;return(0,o.A)((function*(){if(!(r=null!=r?r:yield i.getParentLanguageForLang(e)))return!1;const o=yield i.getMessages(r),s=yield i.getMessages(e);return o[n]===s[n]}))()}isParentLang(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getParentLanguageForLang(n);return!!o&&o===e}))()}loadCustomStringsFromSite(e){var n=this;return(0,o.A)((function*(){if(!(e=null!=e?e:g.CoreSites.getCurrentSite()))return;const r=e.getStoredConfig("tool_mobile_customlangstrings");void 0!==r&&(yield n.loadCustomStrings(r))}))()}loadCustomStrings(e){var n=this;return(0,o.A)((function*(){if(e===n.customStringsRaw)return;if(n.clearCustomStrings(),!e)return;let r=!1;const i=e.split(/(?:\r\n|\r|\n)/);yield Promise.all(i.map(function(){var e=(0,o.A)((function*(e){const o=e.split("|").map((e=>e.trim()));if(o.length<3)return;const i=n.formatLanguage(o[2],"app");i===n.currentLanguage&&(r=!0),yield n.loadString(n.customStrings,i,o[0],o[1])}));return function(n){return e.apply(this,arguments)}}())),n.customStringsRaw=e,r&&n.currentLanguage&&c.HT.onLangChange.emit({lang:n.currentLanguage,translations:c.HT.translations[n.currentLanguage]})}))()}loadLangStrings(e,n){var r=this;return(0,o.A)((function*(){let o=!1;const i=yield r.getParentLanguageForLang(n);if(i&&e[i])for(const s in e[i]){if(e[n]&&e[n][s])continue;(yield r.isInheritedString(n,s,i))&&(e[n]=e[n]||{},e[n][s]={original:c.HT.translations[n][s],value:e[i][s].value,applied:!0},c.HT.translations[n][s]=e[i][s].value,o=!0)}if(e[n])for(const r in e[n]){const i=e[n][r];i.applied||(i.original=c.HT.translations[n][r],c.HT.translations[n][r]=i.value,i.applied=!0,o=!0)}return o}))()}loadString(e,n,r,i){var s=this;return(0,o.A)((function*(){n=n.replace(/_/g,"-");for(const o in c.HT.translations){if(o===n)continue;(yield s.isParentLang(n,o))&&(yield s.isInheritedString(o,r,n))&&(yield s.loadString(e,o,r,i))}e[n]=e[n]||{},c.HT.translations[n]?(e[n][r]={original:c.HT.translations[n][r],value:i,applied:!0},c.HT.translations[n][r]=i):e[n][r]={value:i,applied:!1}}))()}readLangFile(e){var n=this;return(0,o.A)((function*(){return n.getMessages(e)}))()}filterMultilang(e){return(0,o.A)((function*(){const{AddonFilterMultilangHandler:n}=yield Promise.resolve().then(r.bind(r,46007)),{AddonFilterMultilang2Handler:o}=yield Promise.resolve().then(r.bind(r,44301));return Promise.resolve(e).then((e=>n.filter(e))).then((e=>o.filter(e)))}))()}unloadStrings(e){for(const n in e){if(!c.HT.translations[n])continue;const r=e[n];for(const e in r){const o=r[e];o.original?c.HT.translations[n][e]=o.original:delete c.HT.translations[n][e]}}}reloadLanguageStrings(){var e=this;return(0,o.A)((function*(){const n=e.currentLanguage;n&&(yield new Promise(((r,i)=>{a.O.once(c.HT.use(n),function(){var n=(0,o.A)((function*(n){const o=e.getParentLanguage();if(o)try{const r={...yield e.getMessages(o),...n};Object.assign(n,r)}catch{}r(n)}));return function(e){return n.apply(this,arguments)}}(),i)})))}))()}}return(e=CoreLangProvider).ɵfac=function CoreLangProvider_Factory(n){return new(n||e)},e.ɵprov=v.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreLangProvider})();const b=(0,c.Qd)(C)},67935:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreLocalNotifications:()=>U,CoreLocalNotificationsProvider:()=>H});var o=r(10467),i=r(21413),s=r(89632),a=r(85190),c=r(49882),u=r(75383),p=r(47423),f=r(75629),g=r(74431),v=r(79555),C=r(6787);const b="notification_sites",w="notification_components",A="notifications_triggered",_={name:"CoreLocalNotificationsProvider",version:1,tables:[{name:b,columns:[{name:"id",type:"TEXT",primaryKey:!0},{name:"code",type:"INTEGER",notNull:!0}]},{name:w,columns:[{name:"id",type:"TEXT",primaryKey:!0},{name:"code",type:"INTEGER",notNull:!0}]},{name:A,columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"at",type:"INTEGER",notNull:!0}]}]};var E=r(25124),I=r(18022),T=r(91531),P=r(89312),k=r(71689),x=r(52749),F=r(15324),R=r(53794),N=r(25572),L=r(54438);let H=(()=>{var e;class CoreLocalNotificationsProvider{constructor(){this.codes={},this.codeRequestsQueue={},this.observables={},this.sitesTable=(0,P.A)(),this.componentsTable=(0,P.A)(),this.triggeredTable=(0,P.A)(),this.logger=C.CoreLogger.getInstance("CoreLocalNotificationsProvider"),this.queueRunner=new p.r(10)}initialize(){var e=this;return(0,o.A)((function*(){yield I.CorePlatform.ready(),v.WM.requestPermission(),e.triggerSubscription=v.WM.on("trigger").subscribe((n=>{e.trigger(n),e.handleEvent("trigger",n)})),e.clickSubscription=v.WM.on("click").subscribe(function(){var n=(0,o.A)((function*(n){if(yield v.b0.donePromise,x.CoreSites.isLoggedIn())return x.CoreSites.runAfterLoginNavigation({priority:0,callback:(r=(0,o.A)((function*(){e.handleEvent("click",n)})),function callback(){return r.apply(this,arguments)})}),void 0;var r;yield R.H.waitFor((()=>{const e=F.CoreNavigator.getCurrentPath();return"/"!==e&&"/login"!==e}),{timeout:400}),e.handleEvent("click",n)}));return function(e){return n.apply(this,arguments)}}()),e.clearSubscription=v.WM.on("clear").subscribe((n=>{e.handleEvent("clear",n)})),e.cancelSubscription=v.WM.on("cancel").subscribe((n=>{e.handleEvent("cancel",n)})),e.addSubscription=v.WM.on("schedule").subscribe((n=>{e.handleEvent("schedule",n)})),e.updateSubscription=v.WM.on("update").subscribe((n=>{e.handleEvent("update",n)})),e.createDefaultChannel(),v.HT.onLangChange.subscribe((()=>{e.createDefaultChannel()})),c.z.on(c.z.SITE_DELETED,(n=>{null!=n&&n.id&&e.cancelSiteNotifications(n.id)})),c.z.on(c.z.LOGIN,(0,o.A)((function*(){const[n,r]=yield Promise.all([e.hasNotificationsPermission(),e.canScheduleExactAlarms()]);if(!n||r)return;(yield a.CoreConfig.get(g.CoreConstants.EXACT_ALARMS_WARNING_DISPLAYED,0))||(N.CoreAlerts.show({header:v.HT.instant("core.turnonexactalarms"),message:v.HT.instant("core.exactalarmsturnedoffmessage"),buttons:[{text:v.HT.instant("core.notnow"),role:"cancel"},{text:v.HT.instant("core.turnon"),handler:()=>{e.openAlarmSettings()}}]}),a.CoreConfig.set(g.CoreConstants.EXACT_ALARMS_WARNING_DISPLAYED,1))})))}))()}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield s.CoreAppDB.createTablesFromSchema(_);const n=s.CoreAppDB.getDB(),r=new k.D({cachingStrategy:k.T.None},n,b,["id"],null),o=new k.D({cachingStrategy:k.T.None},n,w,["id"],null),i=new k.D({cachingStrategy:k.T.None},n,A);yield Promise.all([r.initialize(),o.initialize(),i.initialize()]),e.sitesTable.setInstance(r),e.componentsTable.setInstance(o),e.triggeredTable.setInstance(i)}))()}hasNotificationsPermission(){return(0,o.A)((function*(){return!I.CorePlatform.isMobile()||v.WM.hasPermission()}))()}canScheduleExactAlarms(){var e=this;return(0,o.A)((function*(){if(!I.CorePlatform.isAndroid())return!0;const n=e.getCordovaPlugin();return!n||!n.canScheduleExactAlarms||new Promise((e=>{n.canScheduleExactAlarms((n=>e(n)))}))}))()}cancel(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.getUniqueNotificationId(e,n,r),s=`cancel-${o}`;yield i.queueRunner.run(s,(()=>v.WM.cancel(o)),{allowRepeated:!0})}))()}cancelSiteNotifications(e){var n=this;return(0,o.A)((function*(){if(!e)throw new Error("No site ID supplied.");const r=yield n.getAllScheduled(),o=[],i=`cancelSiteNotifications-${e}`;r.forEach((r=>{r.data=n.parseNotificationData(r.data),r.id&&"object"==typeof r.data&&r.data.siteId===e&&o.push(r.id)})),yield n.queueRunner.run(i,(()=>v.WM.cancel(o)),{allowRepeated:!0})}))()}canDisableSound(){return I.CorePlatform.isAndroid()&&I.CorePlatform.getPlatformMajorVersion()<8}createDefaultChannel(){var e=this;return(0,o.A)((function*(){I.CorePlatform.isAndroid()&&(yield T.$t.createChannel({id:"default-channel-id",description:v.HT.instant("addon.calendar.calendarreminders"),importance:4}).catch((n=>{e.logger.error("Error changing channel name",n)})))}))()}getAllScheduled(){return this.queueRunner.run("allScheduled",(()=>new Promise((e=>{const n=this.getCordovaPlugin();n?n.getScheduled((n=>e(n))):e([])}))))}getCode(e,n){var r=this;return(0,o.A)((function*(){const o=`${e}#${n}`;if(void 0!==r.codes[o])return r.codes[o];try{const i=yield e.getOneByPrimaryKey({id:n});return r.codes[o]=i.code,i.code}catch(i){const s=yield e.getMany(void 0,{sorting:[{code:"desc"}]});let a=0;return s.length>0&&(a=s[0].code+1),yield e.insert({id:n,code:a}),r.codes[o]=a,a}}))()}getComponentCode(e){return this.requestCode(w,e)}getSiteCode(e){return this.requestCode(b,e)}getUniqueNotificationId(e,n,r){var i=this;return(0,o.A)((function*(){if(!r||!n)return Promise.reject(new f.CoreError("Site ID or component not supplied."));return(1e8*(yield i.getSiteCode(r))+1e7*(yield i.getComponentCode(n))+e)%2147483647}))()}handleEvent(e,n){n&&n.data&&(this.logger.debug(`Notification event: ${e}. Data:`,n.data),this.notifyEvent(e,n.data))}isPluginAvailable(){return!!this.getCordovaPlugin()&&I.CorePlatform.isMobile()}getCordovaPlugin(){var e;return null===(e=window.cordova)||void 0===e||null===(e=e.plugins)||void 0===e||null===(e=e.notification)||void 0===e?void 0:e.local}isTriggered(e,n=!0){var r=this;return(0,o.A)((function*(){if(void 0===e.id)return!1;try{const n=yield r.triggeredTable.getOneByPrimaryKey({id:e.id});let o=e.trigger&&e.trigger.at||0;return"number"!=typeof o&&(o=o.getTime()),n.at===o}catch{const o=e.id||0;if(n){return r.queueRunner.run(`isTriggered-${o}`,(()=>v.WM.isTriggered(o)),{allowRepeated:!0})}return v.WM.isTriggered(o)}}))()}notifyClick(e){this.notifyEvent("click",e)}notifyEvent(e,n){v.SK.run((()=>{const r=n.component;r&&this.observables[e]&&this.observables[e][r]&&this.observables[e][r].next(n)}))}parseNotificationData(e){return e?"string"==typeof e?u.Ni.parseJSON(e,{}):e:{}}processNextRequest(){var e=this;return(0,o.A)((function*(){const n=Object.keys(e.codeRequestsQueue)[0];if(void 0===n)return;const r=e.codeRequestsQueue[n];try{if("object"!=typeof r||void 0===r.table||void 0===r.id)return;const n=function(){var n=(0,o.A)((function*(){switch(r.table){case b:return e.getCode(e.sitesTable,r.id);case w:return e.getCode(e.componentsTable,r.id);default:throw new Error(`Unknown local-notifications table: ${r.table}`)}}));return function getCodeFromTable(){return n.apply(this,arguments)}}(),i=yield n();r.deferreds.forEach((e=>{e.resolve(i)}))}catch(e){r.deferreds.forEach((n=>{n.reject(e)}))}finally{delete e.codeRequestsQueue[n],e.processNextRequest()}}))()}registerClick(e,n){return this.registerObserver("click",e,n)}registerObserver(e,n,r){return this.logger.debug(`Register observer '${n}' for event '${e}'.`),void 0===this.observables[e]&&(this.observables[e]={}),void 0===this.observables[e][n]&&(this.observables[e][n]=new i.B),this.observables[e][n].subscribe(r),{off:()=>{this.observables[e][n].unsubscribe()}}}removeTriggered(e){var n=this;return(0,o.A)((function*(){yield n.triggeredTable.deleteByPrimaryKey({id:e})}))()}requestCode(e,n){const r=new E._,o=`${e}#${n}`,i=0==Object.keys(this.codeRequestsQueue).length;return void 0!==this.codeRequestsQueue[o]?this.codeRequestsQueue[o].deferreds.push(r):this.codeRequestsQueue[o]={table:e,id:n,deferreds:[r]},i&&this.processNextRequest(),r}rescheduleAll(){var e=this;return(0,o.A)((function*(){const n=yield e.getAllScheduled();yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){n.data=e.parseNotificationData(n.data);const r=`schedule-${n.id}`;yield e.queueRunner.run(r,(()=>e.scheduleNotification(n)),{allowRepeated:!0})}));return function(e){return n.apply(this,arguments)}}()))}))()}schedule(e,n,r,i){var s=this;return(0,o.A)((function*(){if(i||(e.id=yield s.getUniqueNotificationId(e.id||0,n,r)),e.data=e.data||{},e.data.component=n,e.data.siteId=r,I.CorePlatform.isAndroid()&&(e.icon=e.icon||"res://icon",e.smallIcon=e.smallIcon||"res://smallicon",e.color=e.color||g.CoreConstants.CONFIG.notificoncolor,!1!==e.led)){let n="FF9900",r=1e3,o=1e3;"string"==typeof e.led?n=e.led:Array.isArray(e.led)?(n=e.led[0]||n,r=e.led[1]||r,o=e.led[2]||o):"object"==typeof e.led&&(n=e.led.color||n,r=e.led.on||r,o=e.led.off||o),e.led={color:n,on:r,off:o}}const o=`schedule-${e.id}`;yield s.queueRunner.run(o,(()=>s.scheduleNotification(e)),{allowRepeated:!0})}))()}scheduleNotification(e){var n=this;return(0,o.A)((function*(){const r=yield n.isTriggered(e,!1);v.WM.cancel(e.id).finally((0,o.A)((function*(){if(!r){let r;r=!n.canDisableSound()||(yield a.CoreConfig.get(g.CoreConstants.SETTINGS_NOTIFICATION_SOUND,!0)),r?delete e.sound:e.sound=void 0,e.foreground=!0,n.removeTriggered(e.id||0),v.WM.schedule(e)}})))}))()}trigger(e){var n=this;return(0,o.A)((function*(){var r;let o=Date.now();return null!==(r=e.trigger)&&void 0!==r&&r.at&&(o="number"==typeof e.trigger.at?e.trigger.at:e.trigger.at.getTime()),n.triggeredTable.insert({id:e.id,at:o})}))()}updateComponentName(e,n){var r=this;return(0,o.A)((function*(){const o=`${w}#${e}`,i=`${w}#${n}`;yield r.componentsTable.update({id:i},{id:o})}))()}openNotificationSettings(){var e;I.CorePlatform.isMobile()&&(null===(e=this.getCordovaPlugin())||void 0===e||e.openNotificationSettings())}openAlarmSettings(){var e;I.CorePlatform.isAndroid()&&(null===(e=this.getCordovaPlugin())||void 0===e||e.openAlarmSettings())}}return(e=CoreLocalNotificationsProvider).ɵfac=function CoreLocalNotificationsProvider_Factory(n){return new(n||e)},e.ɵprov=L.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreLocalNotificationsProvider})();const U=(0,v.Qd)(H)},15324:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreNavigator:()=>F,CoreNavigatorService:()=>x});var o=r(10467),i=r(21182),s=r(74431),a=r(42366),c=r(58364),u=r(52749),p=r(81690),f=r(8014),g=r(75383),v=r(79555),C=r(93417),b=r(75629),w=r(95376),A=r(18022),_=r(5964),E=r(25124),I=r(84412),T=r(33014),P=r(55554),k=r(54438);let x=(()=>{var e;class CoreNavigatorService{constructor(){this.routesDepth={},this.storedParams={},this.lastParamId=0}isCurrent(e){return g.Ni.matchesGlob(this.getCurrentPath(),e)}getCurrentMainMenuTab(){return this.getMainMenuTabFromPath(this.getCurrentPath())}getMainMenuTabFromPath(e){var n;const r=/^\/main\/([^/]+).*$/.exec(e);return null!==(n=null==r?void 0:r[1])&&void 0!==n?n:null}isCurrentPathInTablet(e){return!C.CoreScreen.isMobile&&this.isCurrent(e)}navigate(e,n={}){var r=this;return(0,o.A)((function*(){var o,i,s,a;const u=[/^[./]/.test(e)?e:`./${e}`],p=c.T.withoutEmpty({animated:n.animated,animation:n.animation,animationDirection:n.animationDirection,queryParams:c.T.isEmpty(null!==(o=n.params)&&void 0!==o?o:{})?null:c.T.withoutEmpty(null!==(i=n.params)&&void 0!==i?i:{}),relativeTo:e.startsWith("/")?null:r.getCurrentRoute(),replaceUrl:n.replace});r.replaceObjectParams(p.queryParams);const f=null!==(s=n.reset)&&void 0!==s&&s?yield v.q9.navigateRoot(u,p):yield v.q9.navigateForward(u,p);return document.exitFullscreen?yield P.g.ignoreErrors(document.exitFullscreen()):document.webkitExitFullscreen&&document.webkitExitFullscreen(),null!==(a=n.nextNavigation)&&void 0!==a&&a.path&&!1!==f?n.nextNavigation.isSitePath?r.navigateToSitePath(n.nextNavigation.path,n.nextNavigation.options):r.navigate(n.nextNavigation.path,n.nextNavigation.options):!1!==f}))()}navigateToLoginCredentials(e={}){var n=this;return(0,o.A)((function*(){if(!n.isCurrent("/login/site")&&!n.isCurrent("/login/sites")){const e=yield u.CoreSites.hasSites();yield n.navigate(e?"/login/sites":"/login/site",{reset:!0})}return n.navigate("/login/credentials",{params:e})}))()}navigateToSiteHome(e={}){var n=this;return(0,o.A)((function*(){var r;const o=null!==(r=e.siteId)&&void 0!==r?r:u.CoreSites.getCurrentSiteId(),i=u.CoreSites.isLoggedIn()&&u.CoreSites.getCurrentSiteId()===o?n.getLandingTabPage():"";return n.navigateToSitePath(i,{...e,reset:!0,preferCurrentTab:!1})}))()}navigateToSitePath(e,n={}){var r=this;return(0,o.A)((function*(){var o;const i=null!==(o=n.siteId)&&void 0!==o?o:u.CoreSites.getCurrentSiteId(),a=c.T.without(n,["siteId"]);if(u.CoreSites.isLoggedIn()&&u.CoreSites.getCurrentSiteId()!==i)return yield u.CoreSites.logout({...r.getRedirectDataForSitePath(e,n),siteId:i}),!0;if(i===s.CoreConstants.NO_SITE_ID)return r.navigate(e,{...a,reset:!0});if(!u.CoreSites.isLoggedIn()){const o=yield T.CoreLoadings.show();try{if(!(yield u.CoreSites.loadSite(i,r.getRedirectDataForSitePath(e,n))))return!0}catch{return r.navigate("/login/sites",{reset:!0})}finally{o.dismiss()}}return r.navigateToMainMenuPath(e,a)}))()}getRedirectDataForSitePath(e,n={}){var r,o,i,s,a;return!e||e.match(/^\/?main\/?$/)?{redirectPath:null!==(r=n.params)&&void 0!==r&&r.redirectPath||null!==(o=n.params)&&void 0!==o&&o.urlToOpen?null===(i=n.params)||void 0===i?void 0:i.redirectPath:"main",redirectOptions:null===(s=n.params)||void 0===s?void 0:s.redirectOptions,urlToOpen:null===(a=n.params)||void 0===a?void 0:a.urlToOpen}:{redirectPath:e,redirectOptions:n||{}}}getCurrentPath(){return f.F.removeUrlParts(v.Ix.url,["query","fragment"])}getRouteSnapshotParam(e,n){if(n){if(n.snapshot){var r;const o=null!==(r=n.snapshot.queryParams[e])&&void 0!==r?r:n.snapshot.params[e];if(void 0!==o)return o}return this.getRouteSnapshotParam(e,n.parent||void 0)}}getRouteParam(e,n={}){let r;if(n.params)r=n.params[e];else{var o;let i=this.getCurrentRoute();null!==(o=i)&&void 0!==o&&o.snapshot||!n.route||(i=n.route),r=this.getRouteSnapshotParam(e,i)}if(void 0===r)return;let i=this.storedParams[r];if(delete this.storedParams[r],!A.CorePlatform.isMobile()&&!i){const e=localStorage.getItem(r);e&&(i=g.Ni.parseJSON(e))}return null!=i?i:r}getRouteNumberParam(e,n={}){const r=this.getRouteParam(e,n);return void 0!==r?Number(r):r}getRouteBooleanParam(e,n={}){const r=this.getRouteParam(e,n);return void 0===r?r:!!p.j.isTrueOrOne(r)||!p.j.isFalseOrZero(r)&&Boolean(r)}getRequiredRouteParam(e,n={}){const r=this.getRouteParam(e,n);if(void 0===r)throw new b.CoreError(`Required param '${e}' not found.`);return r}getRequiredRouteNumberParam(e,n={}){const r=this.getRouteNumberParam(e,n);if(void 0===r)throw new b.CoreError(`Required number param '${e}' not found.`);return r}getRequiredRouteBooleanParam(e,n={}){const r=this.getRouteBooleanParam(e,n);if(void 0===r)throw new b.CoreError(`Required boolean param '${e}' not found.`);return r}back(){return(0,o.A)((function*(){yield v.q9.pop()}))()}getCurrentRoute({route:e,pageComponent:n,routeData:r}={}){return e=null!=e?e:v.Ix.routerState.root,n&&e.component===n||r&&c.T.basicLeftCompare(r,this.getRouteData(e),3)?e:e.firstChild?this.getCurrentRoute({route:e.firstChild,pageComponent:n,routeData:r}):n||r?null:e}isRouteActive(e){const n=this.getRouteFullPath(e);let r=v.Ix.routerState.root;for(;r;){if(this.getRouteFullPath(r)===n)return!0;r=r.firstChild}return!1}increaseRouteDepth(e){this.routesDepth[e]=this.getRouteDepth(e)+1}decreaseRouteDepth(e){this.getRouteDepth(e)<=1?delete this.routesDepth[e]:this.routesDepth[e]--}getRouteDepth(e){var n;return null!==(n=this.routesDepth[e])&&void 0!==n?n:0}navigateToMainMenuPath(e,n={}){var r=this;return(0,o.A)((function*(){var o,i;if(n={preferCurrentTab:!0,...n},!e||e.match(/^\/?main\/?$/))return r.navigate("/main",n);e=e.replace(/^(\.|\/main)?\//,"");const s=null!==(o=null===(i=/^[^/]+/.exec(e))||void 0===i?void 0:i[0])&&void 0!==o?o:"";if(!s)return r.navigate("/main",n);const c=r.getCurrentMainMenuTab(),u=s===c||!c&&e===r.getLandingTabPage()||(yield P.g.ignoreErrors(a.CoreMainMenu.isMainMenuTab(s),!1));return!n.preferCurrentTab&&u?r.navigate(`/main/${e}`,n):!c||u&&s===c?u?r.navigate(`/main/${e}`,n):r.isCurrent("/main")?(yield r.waitForMainMenuTab(),r.navigate(`/main/${r.getCurrentMainMenuTab()}/${e}`,n)):r.navigate("/main",{...n,params:{redirectPath:e,redirectOptions:n.params||n.nextNavigation?n:void 0}}):r.navigate(`/main/${c}/${e}`,n)}))()}getLandingTabPage(){var e;if(!w.CoreMainMenuDelegate.areHandlersLoaded())return"";return(null===(e=w.CoreMainMenuDelegate.getHandlers().filter((e=>!e.onlyInMore))[0])||void 0===e?void 0:e.page)||""}replaceObjectParams(e){for(const n in e){const r=e[n];if("object"!=typeof r||null===r)continue;const o=this.getNewParamId();this.storedParams[o]=r,e[n]=o,A.CorePlatform.isMobile()||localStorage.setItem(o,JSON.stringify(r))}}getNewParamId(){return"param-"+ ++this.lastParamId}replaceRoutePathParams(e,n){for(const r in n)e=e.replace(`:${r}`,n[r]);return e}getRouteFullPath(e){if(!e)return"";const n=this.getRouteFullPath(this.getRouteParent(e)),r=this.getRouteUrl(e).join("/");return n||r?n&&!r?n:!n&&r?`/${r}`:`${n}/${r}`:""}getRouteUrl(e){return this.getRouteProperty(e,"url",[])}getRouteParent(e){return this.getRouteProperty(e,"parent",null)}getRouteData(e){return this.getRouteProperty(e,"data",{})}getRouteParams(e){return this.getRouteProperty(e,"params",{})}getRouteQueryParams(e){return this.getRouteProperty(e,"queryParams",{})}currentRouteCanBlockLeave(){var e;return!(null===(e=this.getCurrentRoute().snapshot)||void 0===e||null===(e=e.routeConfig)||void 0===e||null===(e=e.canDeactivate)||void 0===e||!e.length)}waitForMainMenuTab(){if(this.getCurrentMainMenuTab())return Promise.resolve();const e=new E._,n=v.Ix.events.pipe((0,_.p)((e=>e instanceof i.wF))).subscribe((()=>{this.getCurrentMainMenuTab()&&(null==n||n.unsubscribe(),e.resolve())}));return e}getRelativePathToParent(e){var n;e=g.Ni.addEndingSlash(e);const r=this.getCurrentPath(),o=r.indexOf(e);if(-1===o)return"";const i=(null!==(n=r.substring(o+e.length-1).match(/\//g))&&void 0!==n?n:[]).length;return"../".repeat(i)}getRouteProperty(e,n,r){if(e instanceof i.Xl)return e[n];if(e.snapshot instanceof i.Xl)return e.snapshot[n];const o=e[n];return o instanceof I.t?o.value:r}}return(e=CoreNavigatorService).ɵfac=function CoreNavigatorService_Factory(n){return new(n||e)},e.ɵprov=k.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreNavigatorService})();const F=(0,v.Qd)(x)},94455:(e,n,r)=>{"use strict";r.d(n,{WE:()=>P});var o=r(10467),i=r(18022),s=r(31635),a=r(77111),c=r(26365),u=r(58750),p=r(983),f=r(9326),g=r(86648);function merge(...e){const n=(0,f.lI)(e),r=(0,f.R0)(e,1/0),o=e;return o.length?1===o.length?(0,u.Tg)(o[0]):(0,c.U)(r)((0,g.H)(o,n)):p.w}var v=r(73703),C=r(54438),b=function(e){return e.UNKNOWN="unknown",e.ETHERNET="ethernet",e.WIFI="wifi",e.CELL_2G="2g",e.CELL_3G="3g",e.CELL_4G="4g",e.CELL="cellular",e.NONE="none",e}(b||{}),w=function(e){function Network(){var n=null!==e&&e.apply(this,arguments)||this;return n.Connection={UNKNOWN:"unknown",ETHERNET:"ethernet",WIFI:"wifi",CELL_2G:"2g",CELL_3G:"3g",CELL_4G:"4g",CELL:"cellular",NONE:"none"},n}return(0,s.C6)(Network,e),Network.prototype.onChange=function(){var e=this;return function(){if(!0===(0,a.q0)(e))return merge(e.onConnect().pipe((0,v.u)("connected")),e.onDisconnect().pipe((0,v.u)("disconnected")))}()},Network.prototype.onDisconnect=function(){return(0,a.bk)(this,"onDisconnect",{eventObservable:!0,event:"offline",element:"document"},arguments)},Network.prototype.onConnect=function(){return(0,a.bk)(this,"onConnect",{eventObservable:!0,event:"online",element:"document"},arguments)},Object.defineProperty(Network.prototype,"type",{get:function(){return(0,a.oO)(this,"type")},set:function(e){(0,a.kC)(this,"type",e)},enumerable:!1,configurable:!0}),Object.defineProperty(Network.prototype,"downlinkMax",{get:function(){return(0,a.oO)(this,"downlinkMax")},set:function(e){(0,a.kC)(this,"downlinkMax",e)},enumerable:!1,configurable:!0}),Network.ɵfac=(()=>{let e;return function Network_Factory(n){return(e||(e=C.xGo(Network)))(n||Network)}})(),Network.ɵprov=C.jDH({token:Network,factory:Network.ɵfac}),Network.pluginName="Network",Network.plugin="cordova-plugin-network-information",Network.pluginRef="navigator.connection",Network.repo="https://github.com/apache/cordova-plugin-network-information",Network.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],Network=(0,s.Cg)([],Network)}(a.UF);"undefined"==typeof ngDevMode||ngDevMode,void 0;var A=r(79555),_=r(21413),E=r(19483),I=function(e){return e.UNKNOWN="unknown",e.ETHERNET="ethernet",e.WIFI="wifi",e.CELL_2G="2g",e.CELL_3G="3g",e.CELL_4G="4g",e.CELL="cellular",e.NONE="none",e}(I||{});let T=(()=>{var e;class CoreNetworkService extends w{constructor(){super(...arguments),this.connectObservable=new _.B,this.connectStableObservable=new _.B,this.disconnectObservable=new _.B,this.online=!1}get connectionType(){return void 0!==this.forceConnectionMode?this.forceConnectionMode:i.CorePlatform.isMobile()?this.type:this.online?I.WIFI:I.NONE}initialize(){this.checkOnline(),i.CorePlatform.isMobile()?(super.onConnect().subscribe((()=>{this.fireObservable()})),super.onDisconnect().subscribe((()=>{this.fireObservable()}))):(window.Connection={UNKNOWN:I.UNKNOWN,ETHERNET:I.ETHERNET,WIFI:I.WIFI,CELL_2G:I.CELL_2G,CELL_3G:I.CELL_3G,CELL_4G:I.CELL_4G,CELL:I.CELL,NONE:I.NONE},window.addEventListener("online",(()=>{this.fireObservable()}),!1),window.addEventListener("offline",(()=>{this.fireObservable()}),!1)),this.onPlaformReady()}onPlaformReady(){var e=this;return(0,o.A)((function*(){yield i.CorePlatform.ready(),P.onChange().subscribe((()=>{A.SK.run((()=>{const n=e.isOnline(),r=E.n.hasModeClass("core-offline");E.n.toggleModeClass("core-offline",!n),n&&r?(E.n.toggleModeClass("core-online",!0),setTimeout((()=>{E.n.toggleModeClass("core-online",!1)}),3e3)):n||E.n.toggleModeClass("core-online",!1)}))}));const n=e.isOnline();E.n.toggleModeClass("core-offline",!n)}))()}setForceConnectionMode(e){this.forceConnectionMode=e,this.fireObservable()}isOnline(){return this.online}checkOnline(){if(this.forceConnectionMode===I.NONE)return this.online=!1,void 0;if(!i.CorePlatform.isAndroid())return this.online=navigator.onLine,void 0;const e=this.connectionType;let n=null!==e&&e!==I.NONE&&e!==I.UNKNOWN;!n&&navigator.onLine&&(n=!0),this.online=n}onChange(){return merge(this.connectObservable,this.disconnectObservable)}onConnect(){return this.connectObservable}onConnectShouldBeStable(){return this.connectStableObservable}onDisconnect(){return this.disconnectObservable}fireObservable(){clearTimeout(this.connectStableTimeout),this.checkOnline(),this.online?(this.connectObservable.next("connected"),this.connectStableTimeout=window.setTimeout((()=>{this.connectStableObservable.next("connected")}),5e3)):this.disconnectObservable.next("disconnected")}isNetworkAccessLimited(){return[I.CELL_2G,I.CELL_3G,I.CELL_4G,I.CELL].indexOf(this.connectionType)>-1}isWifi(){return this.isOnline()&&!this.isNetworkAccessLimited()}}return(e=CoreNetworkService).ɵfac=(()=>{let n;return function CoreNetworkService_Factory(r){return(n||(n=C.xGo(e)))(r||e)}})(),e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreNetworkService})();const P=(0,A.Qd)(T)},25572:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreAlerts:()=>L,CoreAlertsService:()=>N});var o=r(10467),i=r(72881),s=r(52749),a=r(79555),c=r(75383),u=r(91768),p=r(33014),f=r(54420),g=r(86552),v=r(75629),C=r(49588),b=r(6787),w=r(85190),A=r(74431),_=r(1453),E=r(51092),I=r(60378),T=r(21776),P=r(18022),k=r(63508),x=r(45507),F=r(94455),R=r(54438);let N=(()=>{var e;class CoreAlertsService{constructor(){this.displayedAlerts={},this.debugDisplay=!1,this.logger=b.CoreLogger.getInstance("CoreAlerts"),this.init()}init(){var e=this;return(0,o.A)((function*(){const n=yield w.CoreConfig.get(A.CoreConstants.SETTINGS_DEBUG_DISPLAY,0);e.debugDisplay=0!==n}))()}confirm(e,n={}){return new Promise(((r,o)=>{const{okText:i,cancelText:s,isDestructive:c,...u}=n,p=[{text:s||a.HT.instant("core.cancel"),role:"cancel",handler:()=>{o(new k.CoreCanceledError)}},{text:i||a.HT.instant("core.ok"),role:c?"destructive":void 0,handler:e=>{r(e)}}];let f=u.cssClass||"";u.header||(f=`${f} core-nohead`),this.show({...u,message:e,buttons:p,cssClass:f})}))}confirmDelete(e,n={}){var r=this;return(0,o.A)((function*(){e=yield i.CoreLang.filterMultilang(e),yield r.confirm(e,{...n,okText:a.HT.instant("core.delete"),isDestructive:!0})}))()}confirmLeaveWithChanges(){var e=this;return(0,o.A)((function*(){yield e.confirm(a.HT.instant("core.confirmleavepagedescription"),{header:a.HT.instant("core.confirmleavepagetitle"),okText:a.HT.instant("core.leave")})}))()}confirmDownloadSize(e,n={}){var r=this;return(0,o.A)((function*(){var i,s;const u=c.Ni.bytesToSize(e.size,2),p=function(){var n=(0,o.A)((function*(){const n=yield x.CoreFile.calculateFreeSpace();return P.CorePlatform.isAndroid()||n<A.CoreConstants.IOS_FREE_SPACE_THRESHOLD||e.size>n/2?n:null}));return function getAvailableBytes(){return n.apply(this,arguments)}}(),f=(n=>{if(null===n)return"";{const r=c.Ni.bytesToSize(n,2);if(P.CorePlatform.isAndroid()&&e.size>n-A.CoreConstants.MINIMUM_FREE_SPACE)throw new v.CoreError(a.HT.instant("core.course.insufficientavailablespace",{size:u}));return a.HT.instant("core.course.availablespace",{available:r})}})(yield p()),g=null!==(i=n.wifiThreshold)&&void 0!==i?i:A.CoreConstants.WIFI_DOWNLOAD_THRESHOLD,C=null!==(s=n.limitedThreshold)&&void 0!==s?s:A.CoreConstants.DOWNLOAD_THRESHOLD;let b="";var w,_;return F.WE.isNetworkAccessLimited()&&(b=a.HT.instant("core.course.confirmlimiteddownload")),e.size<0||0==e.size&&!e.total?r.confirm(b+a.HT.instant(null!==(w=n.unknownMessage)&&void 0!==w?w:"core.course.confirmdownloadunknownsize",{availableSpace:f})):e.total?n.alwaysConfirm||e.size>=g||F.WE.isNetworkAccessLimited()&&e.size>=C?r.confirm(b+a.HT.instant(null!==(_=n.message)&&void 0!==_?_:0===e.size?"core.course.confirmdownloadzerosize":"core.course.confirmdownload",{size:u,availableSpace:f})):void 0:r.confirm(b+a.HT.instant("core.course.confirmpartialdownloadsize",{size:u,availableSpace:f}))}))()}getErrorMessage(e,n={}){let r;if("string"==typeof e||e)if("object"==typeof e){this.debugDisplay&&console.error(e),r=C.CoreErrorHelper.getErrorMessageFromError(e)||n.default,_.F.addErrorLog({message:JSON.stringify(e),type:r||"",time:(new Date).getTime()}),r||(r=JSON.stringify(e));const o=r.match(/token"?[=|:]"?(\w*)/);null!=o&&o[1]&&(r=r.replace(new RegExp(o[1],"g"),"secret"))}else r=e||n.default||"";else r=n.default;return r?c.Ni.decodeHTML(r):null}setDebugDisplay(e){this.debugDisplay=e}show(e={}){var n=this;return(0,o.A)((function*(){var r,g;let v="string"==typeof e.message?e.message:(null===(r=e.message)||void 0===r?void 0:r.value)||"";const C=e.buttons||[a.HT.instant("core.ok")],b=c.Ni.hasHTMLTags(v);!b||null!==(g=s.CoreSites.getCurrentSite())&&void 0!==g&&g.isVersionGreaterEqualThan("3.7")||(v=yield i.CoreLang.filterMultilang(v));const w=u.VV.hashAsciiStr(`${e.header||""}#${v||""}`);if(n.displayedAlerts[w])return n.displayedAlerts[w];const{autoCloseTime:A,..._}=e,E=yield a.hG.create({..._,message:v,buttons:C});return 0===Object.keys(n.displayedAlerts).length&&(yield p.CoreLoadings.pauseActiveModals()),E.present().then((()=>{if(b){const r=E.querySelector(".alert-message");r&&n.treatAnchors(r,e.showBrowserWarningInLinks)}(0,f.f)(E)})),n.displayedAlerts[w]=E,E.onDidDismiss().then((0,o.A)((function*(){delete n.displayedAlerts[w],0===Object.keys(n.displayedAlerts).length&&(yield p.CoreLoadings.resumeActiveModals())}))),A&&A>0&&setTimeout((0,o.A)((function*(){if(yield E.dismiss(),C){var e;const n=C.find((e=>"string"!=typeof e&&void 0!==e.handler&&"cancel"==e.role));null==n||null===(e=n.handler)||void 0===e||e.call(n,null)}})),A),E}))()}showDownloadAppNotice(e,n){var r=this;return(0,o.A)((function*(){const o=[{text:a.HT.instant("core.ok"),role:"cancel"}];n&&o.push({text:a.HT.instant("core.download"),handler:()=>{g.j.openInBrowser(n,{showBrowserWarning:!1})}});const i=yield r.show({message:e,buttons:o});if(!(P.CorePlatform.isAndroid()||P.CorePlatform.isIOS())){const e=i.querySelector(".alert-message");e&&r.treatAnchors(e)}yield i.onDidDismiss()}))()}showError(e,n={}){var r=this;return(0,o.A)((function*(){var o;if(C.CoreErrorHelper.isCanceledError(e)||C.CoreErrorHelper.isSilentError(e))return null;const i=r.getErrorMessage(e,{default:n.default});if(null===i)return null;const c={message:i,autoCloseTime:n.autoCloseTime,showBrowserWarningInLinks:n.showBrowserWarningInLinks};C.CoreErrorHelper.isNetworkError(e)&&(c.cssClass="core-alert-network-error"),c.header="string"!=typeof e&&e&&"title"in e&&e.title?e.title||void 0:i===a.HT.instant("core.sitenotfoundhelp")?a.HT.instant("core.cannotconnect"):C.CoreErrorHelper.isSiteUnavailableErrorMessage(i)?s.CoreSites.isLoggedIn()?a.HT.instant("core.connectionlost"):a.HT.instant("core.cannotconnect"):a.HT.instant("core.error"),c.buttons="string"!=typeof e&&e&&"buttons"in e&&void 0!==e.buttons?e.buttons:[a.HT.instant("core.ok")];const u=(r.debugDisplay||e instanceof E.CoreSiteError)&&C.CoreErrorHelper.getDebugInfoFromError(e);u&&(c.message=`<p>${i}</p><div class="core-error-accordion-container"></div>`),e instanceof E.CoreSiteError&&null!==(o=e.supportConfig)&&void 0!==o&&o.canContactSupport()&&c.buttons.push({text:a.HT.instant("core.contactsupport"),handler:()=>{var n,r;return I.I.contact({supportConfig:e.supportConfig,subject:c.header,message:`${null===(n=e.debug)||void 0===n?void 0:n.code}\n\n${null===(r=e.debug)||void 0===r?void 0:r.details}`})}});const p=yield r.show(c);if(u){const e=p.querySelector(".core-error-accordion-container");e&&(yield T.S.render(e,u.details,u.code))}return p}))()}treatAnchors(e,n=!0){Array.from(e.querySelectorAll("a")).forEach((e=>{e.addEventListener("click",(r=>{if(r.defaultPrevented)return;const o=e.getAttribute("href");o&&(r.preventDefault(),r.stopPropagation(),g.j.openInBrowser(o,{showBrowserWarning:n}))}))}))}}return(e=CoreAlertsService).ɵfac=function CoreAlertsService_Factory(n){return new(n||e)},e.ɵprov=R.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreAlertsService})();const L=(0,a.Qd)(N)},33014:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreLoadings:()=>f,CoreLoadingsService:()=>p});var o=r(10467),i=r(53794),s=r(79555),a=r(47551);class CoreIonLoadingElement{constructor(e){this.text=e,this.scheduled=!1,this.paused=!1,this.listeners=[]}dismiss(e,n){var r=this;return(0,o.A)((function*(){if(r.paused)return r.paused=!1,r.listeners.forEach((e=>e())),void 0;if(!r.asyncLoadingElement)return r.scheduled&&(r.scheduled=!1,r.listeners.forEach((e=>e()))),void 0;const o=r.asyncLoadingElement;delete r.asyncLoadingElement;const i=yield o;yield i.dismiss(e,n),r.listeners.forEach((e=>e()))}))()}dismissWithStatus(e,n){var r=this;return(0,o.A)((function*(){yield Promise.all([r.dismiss(),a.CoreToasts.show({cssClass:"sr-only",message:e,translateMessage:n})])}))()}onDismiss(e){this.listeners.push(e)}pause(){var e=this;return(0,o.A)((function*(){if(!e.asyncLoadingElement)return;e.paused=!0;const n=e.asyncLoadingElement;delete e.asyncLoadingElement;(yield n).dismiss()}))()}present(){var e=this;return(0,o.A)((function*(){e.paused||e.scheduled||e.asyncLoadingElement||(e.scheduled=!0,yield i.H.wait(40),e.scheduled&&(e.scheduled=!1,yield e.presentLoadingElement()))}))()}resume(){var e=this;return(0,o.A)((function*(){e.paused&&(e.paused=!1,yield e.presentLoadingElement())}))()}updateText(e){var n=this;return(0,o.A)((function*(){if(n.text=e,!n.asyncLoadingElement)return;const r=(yield n.asyncLoadingElement).querySelector(".loading-content");r&&(r.innerHTML=e)}))()}presentLoadingElement(){var e=this;return(0,o.A)((function*(){let n;e.asyncLoadingElement=new Promise((e=>n=e));const r=yield s.Xi.create({message:e.text});yield r.present(),n(r)}))()}}var c=r(25572),u=r(54438);let p=(()=>{var e;class CoreLoadingsService{constructor(){this.activeLoadingModals=[]}show(e,n){var r=this;return(0,o.A)((function*(){e?n&&(e=s.HT.instant(e)):e=s.HT.instant("core.loading");const o=new CoreIonLoadingElement(e);return o.onDismiss((()=>{const e=r.activeLoadingModals.indexOf(o);-1!==e&&r.activeLoadingModals.splice(e,1)})),r.activeLoadingModals.push(o),yield o.present(),o}))()}showOperationModals(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.show(e,n);try{return yield r()}catch(e){return c.CoreAlerts.showError(e),null}finally{o.dismiss()}}))()}pauseActiveModals(){var e=this;return(0,o.A)((function*(){yield Promise.all(e.activeLoadingModals.slice(0).reverse().map((e=>e.pause())))}))()}resumeActiveModals(){var e=this;return(0,o.A)((function*(){yield Promise.all(e.activeLoadingModals.map((e=>e.resume())))}))()}}return(e=CoreLoadingsService).ɵfac=function CoreLoadingsService_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreLoadingsService})();const f=(0,s.Qd)(p)},93589:(e,n,r)=>{"use strict";r.d(n,{I:()=>w});var o=r(10467),i=r(21182),s=r(90617),a=r(18022);function CoreModalLateralTransitionEnter(e){var n,r;const o=a.CorePlatform.isRTL?"-100%":"100%",i=[],c=null===(n=e.shadowRoot)||void 0===n?void 0:n.querySelector("ion-backdrop");if(c){const e=(0,s.JI)().addElement(c).fromTo("opacity",.01,.4);i.push(e)}const u=null===(r=e.shadowRoot)||void 0===r?void 0:r.querySelector(".modal-wrapper");if(u){const e=(0,s.JI)().addElement(u).fromTo("transform",`translateX(${o})`,"translateX(0)").fromTo("opacity",.8,1);i.push(e)}return(0,s.JI)().addElement(e).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).addAnimation(i)}function CoreModalLateralTransitionLeave(e){var n,r;const o=a.CorePlatform.isRTL?"-100%":"100%",i=[],c=null===(n=e.shadowRoot)||void 0===n?void 0:n.querySelector("ion-backdrop");if(c){const e=(0,s.JI)().addElement(c).fromTo("opacity",.4,0);i.push(e)}const u=null===(r=e.shadowRoot)||void 0===r?void 0:r.querySelector(".modal-wrapper");if(u){const e=(0,s.JI)().addElement(u).beforeStyles({opacity:1}).fromTo("transform","translateX(0)",`translateX(${o})`);i.push(e)}return(0,s.JI)().addElement(e).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).addAnimation(i)}var c=r(29850),u=r(79555),p=r(62393),f=r(5964),g=r(91768),v=r(54420),C=r(54438);let b=(()=>{var e;class CoreModalsService{constructor(){this.displayedModals={}}getTopOverlayIndex(){const e=document.body.querySelectorAll("ion-action-sheet, ion-alert, ion-loading, ion-modal, ion-picker, ion-popover, ion-toast");return Array.from(e).reduce(((e,n)=>{const r=parseInt(n.style.zIndex);return isNaN(r)?e:Math.max(e,r%1e4)}),0)}openSheet(e,n={},r=!1){return(0,o.A)((function*(){var i;const s=null!==(i=document.querySelector("ion-app"))&&void 0!==i?i:document.body,a=s.querySelector("ion-router-outlet, ion-nav, #ion-view-container-root"),f=yield u.yG.attachViewToDom(s,c.D,{component:e,componentProps:n}),g=p.D.require(f,c.D),v=yield g.show();if(null==a||a.setAttribute("aria-hidden","true"),r){const e=f.querySelector("ion-backdrop");null==e||e.addEventListener("ionBackdropTap",(()=>v.close(new Error("Backdrop clicked"))),{once:!0})}return v.result.finally((0,o.A)((function*(){yield g.hide(),yield u.yG.removeViewFromDom(s,f),null==a||a.removeAttribute("aria-hidden")}))),v.result}))()}openModal(e){var n=this;return(0,o.A)((function*(){var r,s;const{waitForDismissCompleted:a,closeOnNavigate:c,...p}=e,C=null==c||c,b=g.VV.hashAsciiStr((null===(r=e.component)||void 0===r?void 0:r.toString())||""),w=!!n.displayedModals[b],A=w?n.displayedModals[b]:yield u.W3.create(p);let _;const E=a?A.onDidDismiss():A.onWillDismiss();n.displayedModals[b]||(n.displayedModals[b]=A,C&&(_=u.Ix.events.pipe((0,f.p)((e=>e instanceof i.Z))).subscribe((0,o.A)((function*(){A.dismiss()})))),yield A.present()),w||(0,v.f)(A);const I=yield E;if(null===(s=_)||void 0===s||s.unsubscribe(),delete n.displayedModals[b],null!=I&&I.data)return null==I?void 0:I.data}))()}openSideModal(e){var n=this;return(0,o.A)((function*(){return e=Object.assign({cssClass:"core-modal-lateral",showBackdrop:!0,backdropDismiss:!0,enterAnimation:CoreModalLateralTransitionEnter,leaveAnimation:CoreModalLateralTransitionLeave},e),n.openModal(e)}))()}promptPassword(e){return(0,o.A)((function*(){const{CorePrompts:n}=yield Promise.resolve().then(r.bind(r,35132));return n.promptPassword(e)}))()}}return(e=CoreModalsService).ɵfac=function CoreModalsService_Factory(n){return new(n||e)},e.ɵprov=C.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreModalsService})();const w=(0,u.Qd)(b)},24813:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CorePopovers:()=>u,CorePopoversService:()=>c});var o=r(10467),i=r(79555),s=r(54420),a=r(54438);let c=(()=>{var e;class CorePopoversService{open(e){var n=this;return(0,o.A)((function*(){const{waitForDismissCompleted:r,...o}=e,i=yield n.openWithoutResult(o),s=r?yield i.onDidDismiss():yield i.onWillDismiss();if(null!=s&&s.data)return null==s?void 0:s.data}))()}openWithoutResult(e){return(0,o.A)((function*(){const n=yield i.IE.create(e);return yield n.present(),(0,s.f)(n),n}))()}}return(e=CorePopoversService).ɵfac=function CorePopoversService_Factory(n){return new(n||e)},e.ɵprov=a.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePopoversService})();const u=(0,i.Qd)(c)},35132:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CorePrompts:()=>g,CorePromptsService:()=>f});var o=r(10467),i=r(25572),s=r(79555),a=r(93589),c=r(63508),u=r(43411),p=r(54438);let f=(()=>{var e;class CorePromptsService{show(e,n,r={}){return new Promise(((o,a)=>{const{placeholderOrLabel:u,buttons:p,...f}=r,g="checkbox"===n,v="radio"===n,resolvePromise=e=>{o(g?e[0]:v?e:e.promptinput)};f.message=e,f.inputs=[{name:"promptinput",placeholder:null!=u?u:s.HT.instant("core.login.password"),label:null!=u?u:s.HT.instant("core.login.password"),type:n,value:!(!g&&!v)||void 0}],f.buttons=Array.isArray(p)&&p.length?p.map((e=>({...e,handler:n=>{if(!e.handler)return"cancel"===e.role?a(new c.CoreCanceledError):resolvePromise(n),void 0;e.handler(n,o,a)}}))):[{text:p&&"cancelText"in p?p.cancelText:s.HT.instant("core.cancel"),role:"cancel",handler:()=>{a(new c.CoreCanceledError)}},{text:p&&"okText"in p?p.okText:s.HT.instant("core.ok"),handler:resolvePromise}],i.CoreAlerts.show(f)}))}promptPassword(e){return(0,o.A)((function*(){const{CorePasswordModalComponent:n}=yield r.e(61686).then(r.bind(r,61686)),o=yield a.I.openModal({cssClass:"core-password-modal",showBackdrop:!0,backdropDismiss:!0,component:n,componentProps:e});if(void 0===o)throw new c.CoreCanceledError;if(o instanceof u.CoreWSError)throw o;return o}))()}}return(e=CorePromptsService).ɵfac=function CorePromptsService_Factory(n){return new(n||e)},e.ɵprov=p.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePromptsService})();const g=(0,s.Qd)(f)},47551:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreToasts:()=>p,CoreToastsService:()=>u,ToastDuration:()=>f});var o=r(10467),i=r(74431),s=r(79555),a=r(54420),c=r(54438);let u=(()=>{var e;class CoreToastsService{show(e){return(0,o.A)((function*(){var n,r,o,c;e.translateMessage&&"string"==typeof e.message&&(e.message=s.HT.instant(e.message)),e.duration=null!==(n=e.duration)&&void 0!==n?n:f.SHORT;const u={...e,duration:null!==(r=null!==(o=i.CoreConstants.CONFIG.toastDurations[e.duration])&&void 0!==o?o:e.duration)&&void 0!==r?r:2e3,position:null!==(c=e.position)&&void 0!==c?c:"bottom"},p=yield s.K_.create(u);return yield p.present(),(0,a.f)(p),p}))()}}return(e=CoreToastsService).ɵfac=function CoreToastsService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreToastsService})();const p=(0,s.Qd)(u);var f=function(e){return e.LONG="long",e.SHORT="short",e.STICKY="sticky",e}(f||{})},18022:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CorePlatform:()=>c,CorePlatformService:()=>a});var o=r(12872),i=r(79555),s=r(54438);let a=(()=>{var e;class CorePlatformService extends o.OD{getPlatformMajorVersion(){var e;return this.isMobile()?Number(null===(e=i.pF.version)||void 0===e?void 0:e.split(".")[0]):0}isAndroid(){return this.isMobile()&&this.is("android")}isAutomated(){return!!navigator.webdriver}isIOS(){return this.isMobile()&&!this.is("android")}isIPad(){return this.isIOS()&&this.is("ipad")}isIPhone(){return this.isIOS()&&this.is("iphone")}isMobile(){return this.is("cordova")}isWide(){return this.width()>768}prefersReducedMotion(){return!window.matchMedia("(prefers-reduced-motion: no-preference)").matches}supportsMediaCapture(){return"mediaDevices"in navigator}supportsWebAssembly(){return"WebAssembly"in window}supportsCSSNesting(){if(void 0!==CorePlatformService.cssNesting)return CorePlatformService.cssNesting;const e=document.createElement("style");e.innerHTML="div.nested { &.css { color: red; } }",document.head.appendChild(e);const n=document.createElement("div");n.className="nested css",document.body.appendChild(n);const r=window.getComputedStyle(n).color;return CorePlatformService.cssNesting="rgb(255, 0, 0)"===r,document.head.removeChild(e),document.body.removeChild(n),CorePlatformService.cssNesting}}return(e=CorePlatformService).ɵfac=(()=>{let n;return function CorePlatformService_Factory(r){return(n||(n=s.xGo(e)))(r||e)}})(),e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePlatformService})();const c=(0,i.Qd)(a)},11361:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CorePluginFileDelegate:()=>v,CorePluginFileDelegateService:()=>g});var o=r(10467),i=r(88793),s=r(74431),a=r(59296),c=r(79555),u=r(52749),p=r(88436),f=r(54438);let g=(()=>{var e;class CorePluginFileDelegateService extends a.B{constructor(){super("CorePluginFileDelegate"),this.handlerNameProperty="component"}fileDeleted(e,n,r){var i=this;return(0,o.A)((function*(){const o=i.getHandlerForFile({fileurl:e});o&&o.fileDeleted&&(yield o.fileDeleted(e,n,r))}))()}getDownloadableFile(e,n){const r=this.getHandlerForFile(e);return this.getHandlerDownloadableFile(e,r,n)}getHandlerDownloadableFile(e,n,r){var i=this;return(0,o.A)((function*(){const o=yield i.isFileDownloadable(e,r);if(!o.downloadable)throw o.reason;if(n&&n.getDownloadableFile){return(yield n.getDownloadableFile(e,r))||e}return e}))()}getComponentRevisionRegExp(e){const n=this.getHandler(e[1],!0);if(n&&n.getComponentRevisionRegExp)return n.getComponentRevisionRegExp(e)}getDownloadableFilesFromHTML(e){let n=[];for(const r in this.enabledHandlers){const o=this.enabledHandlers[r];o&&o.getDownloadableFilesFromHTML&&(n=n.concat(o.getDownloadableFilesFromHTML(e)))}return n}getFilesDownloadSize(e,n){var r=this;return(0,o.A)((function*(){const a=n||u.CoreSites.getCurrentSiteId(),c=[];return yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){const n=yield i.CoreFilepool.getFileStateByUrl(a,p.CoreFileHelper.getFileUrl(e),e.timemodified);n!==s.DownloadStatus.DOWNLOADED&&n!==s.DownloadStatus.NOT_DOWNLOADABLE&&c.push(e)}));return function(n){return e.apply(this,arguments)}}())),r.getFilesSize(c,a)}))()}getFilesSize(e,n){var r=this;return(0,o.A)((function*(){const i={size:0,total:!0};return yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){const o=yield r.getFileSize(e,n);void 0===o?i.total=!1:i.size+=o}));return function(n){return e.apply(this,arguments)}}())),i}))()}getFileSize(e,n){var r=this;return(0,o.A)((function*(){if(!(yield r.isFileDownloadable(e,n)).downloadable)return 0;const o=r.getHandlerForFile(e),i=yield r.getHandlerDownloadableFile(e,o,n);if(!i)return 0;if(o&&o.getFileSize)try{return yield o.getFileSize(i,n)}catch{}return i.filesize||0}))()}getHandlerForFile(e){for(const n in this.enabledHandlers){const r=this.enabledHandlers[n];if(r&&r.shouldHandleFile&&r.shouldHandleFile(e))return r}}isFileDownloadable(e,n){var r=this;return(0,o.A)((function*(){const o=r.getHandlerForFile(e);return o&&o.isFileDownloadable?o.isFileDownloadable(e,n):{downloadable:!0}}))()}removeRevisionFromUrl(e,n){const r=this.getHandler(n[1],!0);if(r&&r.getComponentRevisionRegExp&&r.getComponentRevisionReplace){const o=r.getComponentRevisionRegExp(n);if(o)return e.replace(o,r.getComponentRevisionReplace(n))}return e}treatDownloadedFile(e,n,r={}){var i=this;return(0,o.A)((function*(){const o=i.getHandlerForFile({fileurl:e});o&&o.treatDownloadedFile&&(yield o.treatDownloadedFile(e,n,r))}))()}}return(e=CorePluginFileDelegateService).ɵfac=function CorePluginFileDelegateService_Factory(n){return new(n||e)},e.ɵprov=f.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePluginFileDelegateService})();const v=(0,c.Qd)(g)},68831:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreQRScan:()=>C,CoreQRScanService:()=>v});var o=r(10467),i=r(79555),s=r(63508),a=r(25124),c=r(91531),u=r(93589),p=r(18022),f=r(85850),g=r(54438);let v=(()=>{var e;class CoreQRScanService{constructor(){this.initialColorSchemeContent="light dark"}canScanQR(){return p.CorePlatform.isMobile()}scanQR(e){return(0,o.A)((function*(){const{CoreViewerQRScannerComponent:n}=yield r.e(59595).then(r.bind(r,59595));return u.I.openModal({component:n,cssClass:"core-modal-fullscreen",componentProps:{title:e}})}))()}scanQRWithUrlHandling(e){return(0,o.A)((function*(){const n=yield C.scanQR(e);if(n){if(!f.CoreCustomURLSchemes.isCustomURL(n))return n;try{yield f.CoreCustomURLSchemes.handleCustomURL(n)}catch(e){f.CoreCustomURLSchemes.treatHandleCustomURLError(e,n,"CoreQRScanService")}}}))()}startScanQR(){var e=this;return(0,o.A)((function*(){if(!p.CorePlatform.isMobile())return Promise.reject("QRScanner isn't available in browser.");try{if(!(yield c.ER.prepare()).authorized)throw new Error("The user denied camera access.");if(e.qrScanData&&e.qrScanData.deferred)return e.qrScanData.deferred;e.qrScanData={deferred:new a._,observable:c.ER.scan().subscribe((n=>e.stopScanQR(n,!1)))};try{yield c.ER.show(),document.body.classList.add("core-scanning-qr");const n=document.querySelector('meta[name="color-scheme"]');return n&&(e.initialColorSchemeContent=n.getAttribute("content")||e.initialColorSchemeContent,n.setAttribute("content","normal")),e.qrScanData.deferred}catch(n){throw e.stopScanQR(n,!0),n}}catch(e){throw e.message=e.message||e._message,e}}))()}stopScanQR(e,n){var r;this.qrScanData&&(document.body.classList.remove("core-scanning-qr"),null===(r=document.querySelector('meta[name="color-scheme"]'))||void 0===r||r.setAttribute("content",this.initialColorSchemeContent),c.ER.hide(),c.ER.destroy(),this.qrScanData.observable.unsubscribe(),n?this.qrScanData.deferred.reject("string"==typeof e?new Error(e):e):void 0!==e?this.qrScanData.deferred.resolve(e):this.qrScanData.deferred.reject(new s.CoreCanceledError),delete this.qrScanData)}}return(e=CoreQRScanService).ɵfac=function CoreQRScanService_Factory(n){return new(n||e)},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreQRScanService})();const C=(0,i.Qd)(v)},93417:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreScreen:()=>_,CoreScreenLayout:()=>b,CoreScreenOrientation:()=>w,CoreScreenService:()=>A});var o=r(10467),i=r(84412),s=r(96354),a=r(23294),c=r(79555),u=r(49882),p=r(18022),f=r(54438),g=function(e){return e.EXTRA_SMALL="xs",e.SMALL="sm",e.MEDIUM="md",e.LARGE="lg",e.EXTRA_LARGE="xl",e}(g||{});const v=Object.values(g),C={[g.EXTRA_SMALL]:0,[g.SMALL]:576,[g.MEDIUM]:768,[g.LARGE]:992,[g.EXTRA_LARGE]:1200};var b=function(e){return e.MOBILE="mobile",e.TABLET="tablet",e}(b||{}),w=function(e){return e.LANDSCAPE="landscape",e.PORTRAIT="portrait",e}(w||{});let A=(()=>{var e;class CoreScreenService{constructor(){this.breakpointsSubject=new i.t(v.reduce(((e,n)=>({...e,[n]:!1})),{})),this._layoutObservable=this.breakpointsObservable.pipe((0,s.T)((e=>this.calculateLayout(e))),(0,a.F)())}get breakpoints(){return this.breakpointsSubject.value}get breakpointsObservable(){return this.breakpointsSubject.asObservable()}get layout(){return this.calculateLayout(this.breakpointsSubject.value)}get layoutObservable(){return this._layoutObservable}get isMobile(){return this.layout===b.MOBILE}get isTablet(){return this.layout===b.TABLET}get orientation(){return screen.orientation.type.startsWith(w.LANDSCAPE)?w.LANDSCAPE:w.PORTRAIT}get isPortrait(){return this.orientation===w.PORTRAIT}get isLandscape(){return this.orientation===w.LANDSCAPE}watchOrientation(){var e=this;return(0,o.A)((function*(){yield p.CorePlatform.ready(),screen.orientation.addEventListener("change",(()=>{u.z.trigger(u.z.ORIENTATION_CHANGE,{orientation:e.orientation})}))}))()}watchViewport(){for(const e of v){const n=window.matchMedia(`(min-width: ${C[e]}px)`);this.updateBreakpointVisibility(e,n.matches),n.onchange=({matches:n})=>this.updateBreakpointVisibility(e,n)}}updateBreakpointVisibility(e,n){this.breakpoints[e]!==n&&this.breakpointsSubject.next({...this.breakpoints,[e]:n})}calculateLayout(e){return e[g.MEDIUM]?b.TABLET:b.MOBILE}}return(e=CoreScreenService).ɵfac=function CoreScreenService_Factory(n){return new(n||e)},e.ɵprov=f.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreScreenService})();const _=(0,c.Qd)(A)},30454:(e,n,r)=>{"use strict";r.d(n,{a:()=>p});var o=r(68467),i=r(2661),s=r(50552),a=r(79555),c=r(54438);let u=(()=>{var e;class CoreSitesFactoryService{makeSite(e,n,r,o={}){return new i.D(e,n,r,o)}makeAuthenticatedSite(e,n,r={}){return new o.A(e,n,r)}makeUnauthenticatedSite(e,n){return new s.lz(e,n)}}return(e=CoreSitesFactoryService).ɵfac=function CoreSitesFactoryService_Factory(n){return new(n||e)},e.ɵprov=c.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSitesFactoryService})();const p=(0,a.Qd)(u)},52749:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CORE_SITE_CURRENT_SITE_ID_CONFIG:()=>re,CORE_SITE_SCHEMAS:()=>ne,CoreSites:()=>se,CoreSitesProvider:()=>ie});var o=r(10467),i=r(54438),s=r(89377),a=r(62087),c=r(36358),u=r(49882),p=r(99121),f=r(8014),g=r(74431),v=r(75629),C=r(99622),b=r(79555),w=r(6787),A=r(16439),_=r(49446),E=r(15324),I=r(30454),T=r(75383),P=r(82461),k=r(2243),x=r(82855),F=r(32832),R=r(25124),N=r(71689),L=r(89312),H=r(85190),U=r(94455),B=r(83804),j=r(72881),V=r(246),G=r(61798),z=r(22513),q=r(54843),W=r(19483),K=r(49588),Q=r(47423),X=r(89632),Y=r(42370),J=r(55554),Z=r(86552),ee=r(25572),te=r(1453);const ne=new i.nKC("CORE_SITE_SCHEMAS"),re="current_site_id";let oe=(()=>{class CoreSitesDB{constructor(e){this.logger=w.CoreLogger.getInstance("CoreSitesDB"),this.siteSchemasMigration={},this.siteSchemas={},this.pluginsSiteSchemas={},this.schemasTables={},this.siteTables={},this.siteSchemas=(null!=e?e:[]).flat().reduce(((e,n)=>(e[n.name]=n,e)),this.siteSchemas)}registerSiteSchema(e,n){var r=this;return(0,o.A)((function*(){try{const o={};o[e.name]=e,e.siteId=n.getId(),yield r.applySiteSchemas(n,o)}finally{r.pluginsSiteSchemas[e.name]=e}}))()}migrateSiteSchemas(e){var n=this;return(0,o.A)((function*(){if(!e.getId())return;const r=e.id;if(void 0!==n.siteSchemasMigration[r])return n.siteSchemasMigration[r];n.logger.debug(`Migrating all schemas of ${r}`);const o=e.getDb().createTableFromSchema(A.tw).then((()=>n.applySiteSchemas(e,n.siteSchemas)));return n.siteSchemasMigration[r]=o,o.finally((()=>{delete n.siteSchemasMigration[r]}))}))()}applySiteSchemas(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getSiteSchemasTable(e).getMany(),i={};o.forEach((e=>{i[e.name]=e.version}));const s=[];for(const o in n){var a;const c=n[o],u=null!==(a=i[o])&&void 0!==a?a:CoreSitesDB.NOVERSION;u>=c.version||c.siteId&&e.getId()!==c.siteId||(r.logger.debug(`Migrating schema '${o}' of ${e.id} from version ${u} to ${c.version}`),s.push(r.applySiteSchema(e,c,u)))}yield Promise.all(s)}))()}applySiteSchema(e,n,r){var i=this;return(0,o.A)((function*(){if(!e.id)return;const o=e.getDb();n.tables&&(yield o.createTablesFromSchema(n.tables)),n.install&&r===CoreSitesDB.NOVERSION&&(yield n.install(o,e.id)),n.migrate&&r>CoreSitesDB.NOVERSION&&(yield n.migrate(o,r,e.id)),yield i.getSiteSchemasTable(e).insert({name:n.name,version:n.version})}))()}getSiteSchemasTable(e){var n;const r=e.getId();return this.schemasTables[r]=null!==(n=this.schemasTables[r])&&void 0!==n?n:(0,L.A)((()=>this.getSiteTable(A.BO,{siteId:r,database:e.getDb(),config:{cachingStrategy:N.T.Eager},primaryKeyColumns:["name"],rowIdColumn:null,onDestroy:()=>delete this.schemasTables[r]}))),this.schemasTables[r]}getSiteTableSchemasToClear(e){let n=[];return Object.values(this.siteSchemas).concat(Object.values(this.pluginsSiteSchemas)).forEach((r=>{!r.canBeCleared||r.siteId&&e.getId()!==r.siteId||(n=n.concat(r.canBeCleared))})),n}getSiteTable(e,n){var r=this;return(0,o.A)((function*(){const o=n.siteId;if(o in r.siteTables||(r.siteTables[o]={}),!(e in r.siteTables[o])){var i;const s=r.siteTables[o][e]=new R._,a=new N.D(null!==(i=n.config)&&void 0!==i?i:{},n.database,e,n.primaryKeyColumns,n.rowIdColumn);n.onDestroy&&a.addListener({onDestroy:n.onDestroy}),yield a.initialize(),s.resolve(a)}return r.siteTables[o][e]}))()}deleteSiteTables(e){var n=this;return(0,o.A)((function*(){e in n.siteTables&&(yield Promise.all(Object.values(n.siteTables[e]).map((e=>e.then((e=>e.destroy()))))),delete n.siteTables[e])}))()}}return CoreSitesDB.NOVERSION=0,CoreSitesDB})(),ie=(()=>{var e;class CoreSitesProvider{constructor(e){this.logger=w.CoreLogger.getInstance("CoreSitesProvider"),this.sessionRestored=!1,this.sites={},this.sitesTable=(0,L.A)(),this.isLoginNavigationFinished=!1,this.afterLoginNavigationQueue=[],this.afterLoginNavigationQueueRunner=new Q.r(1,!0),this.sitesDB=new oe(e)}initialize(){var e=this;u.z.on(u.z.SITE_DELETED,function(){var n=(0,o.A)((function*({siteId:n}){n&&(yield e.sitesDB.deleteSiteTables(n))}));return function(e){return n.apply(this,arguments)}}()),u.z.on(u.z.LOGOUT,(0,o.A)((function*(){j.CoreLang.clearCustomStrings(),W.n.removeSiteClasses()}))),u.z.on(u.z.LOGIN,function(){var e=(0,o.A)((function*(e){if(e.siteId){const n=(yield se.getSite(e.siteId)).getInfo();n&&W.n.addSiteClasses(n)}j.CoreLang.loadCustomStringsFromSite()}));return function(n){return e.apply(this,arguments)}}()),u.z.on(u.z.LOGIN_SITE_CHECKED,(e=>{W.n.addSiteUrlClass(e.config.httpswwwroot)})),u.z.on(u.z.LOGIN_SITE_UNCHECKED,(({loginSuccessful:e})=>{e||W.n.removeSiteClasses()})),u.z.on(u.z.SITE_UPDATED,function(){var e=(0,o.A)((function*(e){e.siteId===se.getCurrentSiteId()&&(j.CoreLang.loadCustomStringsFromSite(),W.n.addSiteClasses(e))}));return function(n){return e.apply(this,arguments)}}()),u.z.on(u.z.SITE_ADDED,(e=>{e.siteId===se.getCurrentSiteId()&&(j.CoreLang.loadCustomStringsFromSite(),W.n.addSiteClasses(e))})),z.Z.registerInvalidateListener((()=>this.invalidateCaches()))}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield X.CoreAppDB.createTablesFromSchema(A.ep);const n=new N.D({cachingStrategy:N.T.Eager},X.CoreAppDB.getDB(),A.IE);yield n.initialize(),e.sitesTable.setInstance(n)}))()}getSiteTable(e,n={}){var r=this;return(0,o.A)((function*(){var o,i;const s=null!==(o=n.siteId)&&void 0!==o?o:r.getCurrentSiteId(),a={...n,siteId:s,database:null!==(i=n.database)&&void 0!==i?i:yield r.getSiteDb(s)};return r.sitesDB.getSiteTable(e,a)}))()}getDemoSiteData(e){const n=g.CoreConstants.CONFIG.demo_sites;if(e=e.toLowerCase(),void 0!==n&&void 0!==n[e])return n[e]}checkSite(e,n="https://",r="unknown"){var i=this;return(0,o.A)((function*(){if(e=f.F.formatURL(e),!f.F.isHttpURL(e))throw new v.CoreError(b.HT.instant("core.login.invalidsite"),{debug:{code:"invalidprotocol",details:`URL contains an invalid protocol when checking site.<br><br>Origin: ${r}.<br><br>URL: ${e}.`}});if(!U.WE.isOnline())throw new _.CoreNetworkError;try{return yield i.checkSiteWithProtocol(e,n)}catch(r){if(r.critical)throw r;n="https://"===n?"http://":"https://";try{return yield i.checkSiteWithProtocol(e,n)}catch(e){if(e.critical)throw e;throw K.CoreErrorHelper.getErrorMessageFromError(r)?r:K.CoreErrorHelper.getErrorMessageFromError(e)?e:new v.CoreError(b.HT.instant("core.sitenotfoundhelp"))}}}))()}checkSiteWithProtocol(e,n){var r=this;return(0,o.A)((function*(){var o;e=e.replace(/^https?:\/\//i,n);const i=I.a.makeUnauthenticatedSite(e);let s;try{s=yield i.getPublicConfig()}catch(e){const n=yield r.treatGetPublicConfigError(i.getURL(),e);if(n.critical)throw n;i.setURL(f.F.addOrRemoveWWW(i.getURL()));try{s=yield i.getPublicConfig()}catch(n){const o=yield r.treatGetPublicConfigError(i.getURL(),n);if(o.critical)throw o;throw K.CoreErrorHelper.getErrorMessageFromError(e)?e:n}}if(!s.enablewebservices)throw r.createCannotConnectLoginError(s.httpswwwroot||s.wwwroot,{supportConfig:new B.Q(i,s),critical:!0,debug:{code:"webservicesnotenabled",details:b.HT.instant("core.login.webservicesnotenabled")}});if(!s.enablemobilewebservice)throw r.createCannotConnectLoginError(s.httpswwwroot||s.wwwroot,{supportConfig:new B.Q(i,s),critical:!0,debug:{code:"mobileservicesnotenabled",details:b.HT.instant("core.login.mobileservicesnotenabled")}});if(s.maintenanceenabled){let e=b.HT.instant("core.sitemaintenance");throw s.maintenancemessage&&(e+=s.maintenancemessage),new C.CoreLoginError({message:e,critical:!0})}return{siteUrl:e=i.getURL(),code:(null===(o=s)||void 0===o?void 0:o.typeoflogin)||0,service:g.CoreConstants.CONFIG.wsservice,config:s}}))()}createCannotConnectLoginError(e,n){var r;return new C.CoreLoginError({...n,message:this.isLoggedIn()||null!==e?b.HT.instant("core.siteunavailablehelp",{site:null!=e?e:null===(r=this.currentSite)||void 0===r?void 0:r.siteUrl}):b.HT.instant("core.sitenotfoundhelp")})}treatGetPublicConfigError(e,n){return(0,o.A)((function*(){var r,o,i;if(n instanceof x.CoreAjaxError||!("debug"in n)&&!("errorcode"in n))return new C.CoreLoginError({title:b.HT.instant("core.cannotconnect"),message:b.HT.instant("core.siteunavailablehelp",{site:e}),critical:!1,debug:{code:"publicconfigfailed",details:n.message||"Failed getting public config"}});const s={critical:!0,title:b.HT.instant("core.cannotconnect"),message:b.HT.instant("core.siteunavailablehelp",{site:e}),supportConfig:"supportConfig"in n?n.supportConfig:void 0,debug:n.debug};if("codingerror"===(null===(r=n.debug)||void 0===r?void 0:r.code)){const n=yield Y.p.checkRedirect(e);s.message=b.HT.instant("core.siteunavailablehelp",{site:e}),n&&(s.critical=!1,s.debug={code:"sitehasredirect",details:b.HT.instant("core.login.sitehasredirect")})}else"invalidrecord"===(null===(o=n.debug)||void 0===o?void 0:o.code)?(s.message=b.HT.instant("core.siteunavailablehelp",{site:e}),s.debug={code:"invalidmoodleversion",details:b.HT.instant("core.login.invalidmoodleversion",{$a:g.MINIMUM_MOODLE_VERSION})}):"redirecterrordetected"===(null===(i=n.debug)||void 0===i?void 0:i.code)&&(s.critical=!1);return new C.CoreLoginError(s)}))()}getUserToken(e,n,r,i,s){var c=this;return(0,o.A)((function*(){var o,u;if(!U.WE.isOnline())throw new _.CoreNetworkError;i=i||g.CoreConstants.CONFIG.wsservice;const C=yield j.CoreLang.getCurrentLanguage("lms"),w={username:n,password:r,service:i},A=`${e}/login/token.php?lang=${C}`;let E;try{E=yield(0,q._)(b.lw.post(A,w).pipe((0,a.w)(p.CoreWS.getRequestTimeout())))}catch(n){throw c.createCannotConnectLoginError(e,{debug:{code:"logintokenerror",details:n.message}})}if(void 0===E)throw c.createCannotConnectLoginError(e,{debug:{code:"logintokenempty",details:"The request to /login/token.php returned an empty response"}});if(void 0!==E.token)return{token:E.token,siteUrl:e,privateToken:E.privatetoken};if(void 0===E.error)throw new v.CoreError(b.HT.instant("core.login.invalidaccount"));if(!s&&"requirecorrectaccess"===E.errorcode)return e=f.F.addOrRemoveWWW(e),c.getUserToken(e,n,r,i,!0);if("missingparam"===E.errorcode){if(yield Y.p.checkRedirect(A))throw c.createCannotConnectLoginError(e,{supportConfig:yield B.Q.forSite(e),debug:{code:"sitehasredirect",details:b.HT.instant("core.login.sitehasredirect")}})}throw c.createCannotConnectLoginError(e,{supportConfig:yield B.Q.forSite(e),debug:{code:null!==(o=E.errorcode)&&void 0!==o?o:"loginfailed",details:null!==(u=E.error)&&void 0!==u?u:"Could not get a user token in /login/token.php"}})}))()}newSite(e,n,r="",i=!0,s){var a=this;return(0,o.A)((function*(){"boolean"!=typeof i&&(i=!0);const o=I.a.makeAuthenticatedSite(e,n,{privateToken:r});let c=!0;try{const p=yield o.fetchSiteInfo(),f=a.isValidMoodleVersion(p);if(f!==CoreSitesProvider.VALID_VERSION)return a.treatInvalidAppVersion(f);const g=a.createSiteID(p.siteurl,p.username),v=yield J.g.ignoreErrors(a.getSite(g));let C,b;v?(c=!1,C=v,C.setToken(n),C.setPrivateToken(r),C.setInfo(p),C.setOAuthId(s),C.setLoggedOut(!1)):(c=!0,C=I.a.makeSite(g,e,n,{info:p,privateToken:r}),C.setOAuthId(s),yield a.sitesDB.migrateSiteSchemas(C));try{b=yield a.getSiteConfig(C)}catch(e){if(c)throw e}return void 0!==b&&C.setConfig(b),yield a.addSite(g,e,n,p,r,b,s),a.sites[g]=C,i?(a.currentSite=C,yield a.login(g)):a.currentSite&&a.currentSite.getId()===g&&u.z.trigger(u.z.SITE_UPDATED,p,g),u.z.trigger(u.z.SITE_ADDED,p,g),g}catch(e){if(e&&"invaliddevice"===e.errorcode)return a.treatInvalidAppVersion(CoreSitesProvider.WORKPLACE_APP);throw e}}))()}treatInvalidAppVersion(e,n){var r=this;return(0,o.A)((function*(){let o,i,s={};switch(e){case CoreSitesProvider.MOODLE_APP:i="core.login.connecttomoodleapp",o={code:"connecttomoodleapp",details:"Cannot connect to app"};break;case CoreSitesProvider.WORKPLACE_APP:i="core.login.connecttoworkplaceapp",o={code:"connecttoworkplaceapp",details:"Cannot connect to app"};break;default:i="core.login.invalidmoodleversion",s={$a:g.MINIMUM_MOODLE_VERSION},o={code:"invalidmoodleversion",details:"Cannot connect to app"}}throw n&&(yield r.setSiteLoggedOut(n)),new C.CoreLoginError({debug:o,message:b.HT.instant(i,s),loggedOut:!0})}))()}createSiteID(e,n){return s.V.hashAsciiStr(e+n)}visitLink(e,n={}){return(0,o.A)((function*(){const{CoreContentLinksHelper:o}=yield Promise.resolve().then(r.bind(r,10883));yield o.visitLink(e,n)}))()}isValidMoodleVersion(e){if(!e)return CoreSitesProvider.INVALID_VERSION;if(e.version){const n=parseInt(e.version,10);if(!isNaN(n)&&n>=g.MOODLE_RELEASES[g.MINIMUM_MOODLE_VERSION])return this.validateWorkplaceVersion(e)}const n=this.getReleaseNumber(e.release||"");return n&&n>=g.MINIMUM_MOODLE_VERSION?this.validateWorkplaceVersion(e):CoreSitesProvider.INVALID_VERSION}validateWorkplaceVersion(e){const n=!!e.functions&&e.functions.some((e=>"tool_program_get_user_programs"===e.name||"tool_catalogue_get_user_catalogue"===e.name)),r=this.isWorkplaceEnabled();return!r&&n?CoreSitesProvider.WORKPLACE_APP:r&&!n?CoreSitesProvider.MOODLE_APP:CoreSitesProvider.VALID_VERSION}isWorkplaceEnabled(){return!1}getReleaseNumber(e){const n=e.match(/^\d+(\.\d+(\.\d+)?)?/);return n?n[0]:""}getMajorReleaseNumber(e){const n=e.match(/^\d+(\.\d+)?/);return n?n[0]:""}addSite(e,n,r,i,s="",a,c){var u=this;return(0,o.A)((function*(){const o=[],p={id:e,siteUrl:n,token:"",info:i?JSON.stringify(i):void 0,privateToken:"",config:a?JSON.stringify(a):void 0,loggedOut:0,oauthId:c};o.push(u.sitesTable.insert(p)),o.push(u.storeTokensInSecureStorage(e,r,s)),yield Promise.all(o)}))()}checkApplication(e){var n=this;return(0,o.A)((function*(){yield n.checkRequiredMinimumVersion(e)}))()}checkRequiredMinimumVersion(e){var n=this;return(0,o.A)((function*(){if(!e||!e.tool_mobile_minimumversion)return;if(n.convertVersionName(e.tool_mobile_minimumversion)>n.convertVersionName(g.CoreConstants.CONFIG.versionname)){const r={android:e.tool_mobile_androidappid,ios:e.tool_mobile_iosappid,mobile:e.tool_mobile_setuplink||"https://download.moodle.org/mobile/",default:e.tool_mobile_setuplink},o=n.getCurrentSiteId(),i=c.CoreApp.getAppStoreUrl(r);let s;throw s=i?ee.CoreAlerts.confirm(b.HT.instant("core.updaterequireddesc",{$a:e.tool_mobile_minimumversion}),{header:b.HT.instant("core.updaterequired"),okText:b.HT.instant("core.download"),cancelText:b.HT.instant(o?"core.mainmenu.logout":"core.cancel")}).then((()=>Z.j.openInBrowser(i,{showBrowserWarning:!1}))).catch((()=>{})):ee.CoreAlerts.show({header:b.HT.instant("core.updaterequired"),message:b.HT.instant("core.updaterequireddesc",{$a:e.tool_mobile_minimumversion})}).then((e=>e.onWillDismiss())),s.finally((()=>{o&&(n.internalLogout(),n.setSiteLoggedOut(o))})),new v.CoreError("Current app version is lower than required version.")}}))()}convertVersionName(e){let n=0;const r=e.split("-")[0].split(".",3);return r.forEach((e=>{n=100*n+Number(e)})),r.length<3&&(n*=Math.pow(100,3-r.length)),n}loadSite(e,n){var r=this;return(0,o.A)((function*(){r.logger.debug(`Load site ${e}`);const o=yield r.getSite(e);if(!(yield P.CoreLoginHelper.isSiteUrlAllowed(o.getURL(),!1)))throw new k.CoreErrorWithOptions(b.HT.instant("core.login.sitenotallowed"));return r.currentSite=o,o.isLoggedOut()?(u.z.trigger(u.z.SESSION_EXPIRED,n||{},o.getId()),!1):(r.login(e),r.getPublicConfigAndCheckApplication(o),r.updateSiteInfo(e),!0)}))()}getPublicConfigAndCheckApplication(e){var n=this;return(0,o.A)((function*(){try{const r=yield e.getPublicConfig({readingStrategy:2});yield n.checkApplication(r)}catch{}}))()}getCurrentSite(){return this.currentSite}getRequiredCurrentSite(){if(!this.currentSite)throw new v.CoreError("You aren't authenticated in any site.");return this.currentSite}getCurrentSiteHomeId(){var e,n;return null!==(e=null===(n=this.currentSite)||void 0===n?void 0:n.getSiteHomeId())&&void 0!==e?e:1}getCurrentSiteId(){var e;return(null===(e=this.currentSite)||void 0===e?void 0:e.getId())||""}getCurrentSiteUserId(){var e;return(null===(e=this.currentSite)||void 0===e?void 0:e.getUserId())||0}isLoggedIn(){return void 0!==this.currentSite&&void 0!==this.currentSite.token&&""!==this.currentSite.token}deleteSite(e){var n=this;return(0,o.A)((function*(){var r;n.logger.debug(`Delete site ${e}`),void 0!==n.currentSite&&n.currentSite.id===e&&n.internalLogout();const o=yield n.getSite(e);yield o.deleteDB(),delete n.sites[e],yield J.g.ignoreErrors(n.sitesTable.deleteByPrimaryKey({id:e})),yield o.deleteFolder(),yield J.g.ignoreErrors(null===(r=V.b.plugin("secureStorage"))||void 0===r?void 0:r.deleteCollection(e)),u.z.trigger(u.z.SITE_DELETED,o,e)}))()}hasSites(){var e=this;return(0,o.A)((function*(){return!(yield e.sitesTable.isEmpty())}))()}getSite(e){var n=this;return(0,o.A)((function*(){var r;if(!e){if(n.currentSite)return n.currentSite;throw new v.CoreError("No current site found.")}if((null===(r=n.currentSite)||void 0===r?void 0:r.getId())===e)return n.currentSite;if(void 0!==n.sites[e])return n.sites[e];let o;try{o=yield n.sitesTable.getOneByPrimaryKey({id:e})}catch(n){throw new v.CoreError(`SiteId not found in the app database: ${e}. `+K.CoreErrorHelper.getErrorMessageFromError(n))}try{o=yield n.loadSiteTokens(o)}catch(n){te.F.addErrorLog({message:`Error loading tokens for site: ${e}. Error: `+K.CoreErrorHelper.getErrorMessageFromError(n)+" - "+JSON.stringify(n),time:Date.now(),type:"Error"})}try{return yield n.addSiteFromSiteListEntry(o)}catch{throw new v.CoreError("Site database installation or update failed.")}}))()}getSiteFromDB(e){var n=this;return(0,o.A)((function*(){const r=X.CoreAppDB.getDB();try{const o=yield r.getRecord(A.IE,{id:e});return n.makeSiteFromSiteListEntry(o)}catch{throw new v.CoreError("SiteId not found")}}))()}getSiteByUrl(e){var n=this;return(0,o.A)((function*(){const r=yield n.loadSiteTokens(yield n.sitesTable.getOne({siteUrl:e}));return n.addSiteFromSiteListEntry(r)}))()}getPublicSiteConfigByUrl(e){var n=this;return(0,o.A)((function*(){return(yield n.getSiteByUrl(e)).getPublicConfig({readingStrategy:0})}))()}addSiteFromSiteListEntry(e){var n=this;return(0,o.A)((function*(){if(void 0!==n.sites[e.id])return n.sites[e.id];const r=n.makeSiteFromSiteListEntry(e);return yield n.sitesDB.migrateSiteSchemas(r),n.sites[e.id]=r,r}))()}makeSiteFromSiteListEntry(e){const n=e.info?T.Ni.parseJSON(e.info):void 0,r=e.config?T.Ni.parseJSON(e.config):void 0,o=I.a.makeSite(e.id,e.siteUrl,e.token,{info:n,privateToken:e.privateToken,config:r,loggedOut:1===e.loggedOut});return o.setOAuthId(e.oauthId||void 0),o}isCurrentSite(e){if(!e||!this.currentSite)return!!this.currentSite;const n="object"==typeof e?e.getId():e;return this.currentSite.getId()===n}getSiteDb(e){var n=this;return(0,o.A)((function*(){return(yield n.getSite(e)).getDb()}))()}getSiteHomeId(e){var n=this;return(0,o.A)((function*(){return(yield n.getSite(e)).getSiteHomeId()}))()}getSites(e){var n=this;return(0,o.A)((function*(){const r=yield n.sitesTable.getMany();return n.siteDBRecordsToBasicInfo(r,e)}))()}siteDBRecordsToBasicInfo(e,n){return(0,o.A)((function*(){const r=[];return yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){if(!n||n.indexOf(e.id)>-1){const n=e.info?T.Ni.parseJSON(e.info):void 0,o=I.a.makeSite(e.id,e.siteUrl,e.token,{info:n}),i=yield o.getSiteName(),s={id:e.id,userId:null==n?void 0:n.userid,siteUrl:e.siteUrl,siteUrlWithoutProtocol:e.siteUrl.replace(/^https?:\/\//,"").toLowerCase(),fullname:null==n?void 0:n.fullname,firstname:null==n?void 0:n.firstname,lastname:null==n?void 0:n.lastname,siteName:i,userpictureurl:null==n?void 0:n.userpictureurl,siteHomeId:(null==n?void 0:n.siteid)||1,loggedOut:!!e.loggedOut,info:n};r.push(s)}}));return function(n){return e.apply(this,arguments)}}())),r}))()}getSortedSites(e){var n=this;return(0,o.A)((function*(){const r=yield n.getSites(e);return r.sort(((e,n)=>{var r,o;let i=T.Ni.cleanTags(e.siteName).toLowerCase().trim(),s=T.Ni.cleanTags(n.siteName).toLowerCase().trim(),a=i.localeCompare(s);return 0!==a?a:(a=e.siteUrlWithoutProtocol.localeCompare(n.siteUrlWithoutProtocol),0!==a?a:(i=(null===(r=e.fullname)||void 0===r?void 0:r.toLowerCase().trim())||"",s=(null===(o=n.fullname)||void 0===o?void 0:o.toLowerCase().trim())||"",i.localeCompare(s)))})),r}))()}getLoggedInSitesIds(){var e=this;return(0,o.A)((function*(){return(yield e.sitesTable.getMany({loggedOut:0})).map((e=>e.id))}))()}getSitesIds(){var e=this;return(0,o.A)((function*(){return(yield e.sitesTable.getMany()).map((e=>e.id))}))()}getSitesInstances(){var e=this;return(0,o.A)((function*(){const n=yield e.getSitesIds();return Promise.all(n.map((n=>e.getSite(n))))}))()}login(e){return(0,o.A)((function*(){yield H.CoreConfig.set(re,e),u.z.trigger(u.z.LOGIN,{siteId:e},e)}))()}logout(e={}){return(0,o.A)((function*(){yield E.CoreNavigator.navigate("/logout",{params:{...e},reset:!0})}))()}internalLogout(e={}){var n=this;return(0,o.A)((function*(){if(!n.currentSite)return;const r=[],o=n.currentSite.getStoredConfig(),i=n.currentSite.getId();n.currentSite=void 0,n.isLoginNavigationFinished=!1,n.afterLoginNavigationQueue=[],(e.forceLogout||o&&"1"===o.tool_mobile_forcelogout)&&r.push(n.setSiteLoggedOut(i)),r.push(n.removeStoredCurrentSite()),yield J.g.ignoreErrors(Promise.all(r)),e.removeAccount&&(yield se.deleteSite(i)),u.z.trigger(u.z.LOGOUT,{},i)}))()}logoutForRedirect(e,n){var r=this;return(0,o.A)((function*(){return!!r.currentSite&&(F.CoreSitePlugins.hasSitePluginsLoaded&&Y.p.storeRedirect(e,n),yield r.internalLogout(),F.CoreSitePlugins.hasSitePluginsLoaded)}))()}restoreSession(){var e=this;return(0,o.A)((function*(){if(yield e.handleAutoLogout(),e.sessionRestored)throw new v.CoreError("Session already restored.");e.sessionRestored=!0;try{const n=yield e.getStoredCurrentSiteId();e.logger.debug(`Restore session in site ${n}`),yield e.loadSite(n)}catch{}}))()}handleAutoLogout(){var e=this;return(0,o.A)((function*(){yield J.g.ignoreErrors((0,o.A)((function*(){const n=yield e.getStoredCurrentSiteId(),r=yield e.getSite(n),o=Number(r.getStoredConfig("tool_mobile_autologout")),i=Number(r.getStoredConfig("tool_mobile_autologouttime"));if(o&&o!==G.nq.NEVER&&r.id)return o===G.nq.CUSTOM?(yield G.PQ.handleSessionClosed(i,r),void 0):(yield G.PQ.handleAppClosed(r),void 0)}))())}))()}setSiteLoggedOut(e,n=!0){var r=this;return(0,o.A)((function*(){(yield r.getSite(e)).setLoggedOut(n),yield r.sitesTable.update({loggedOut:n?1:0},{id:e})}))()}updateSiteToken(e,n,r,i=""){var s=this;return(0,o.A)((function*(){const o=s.createSiteID(e,n);yield s.updateSiteTokenBySiteId(o,r,i),yield s.login(o)}))()}updateSiteTokenBySiteId(e,n,r=""){var i=this;return(0,o.A)((function*(){const o=yield i.getSite(e);o.token=n,o.privateToken=r,o.setLoggedOut(!1);const s=[];s.push(i.sitesTable.update({token:"",privateToken:"",loggedOut:0},{id:e})),s.push(i.storeTokensInSecureStorage(e,n,r)),yield Promise.all(s)}))()}removeSiteOauthId(e){var n=this;return(0,o.A)((function*(){(yield n.getSite(e)).setOAuthId(void 0);yield n.sitesTable.update({oauthId:null},{id:e})}))()}updateSiteInfo(e){var n=this;return(0,o.A)((function*(){const r=yield n.getSite(e);try{const o=yield r.fetchSiteInfo();r.setInfo(o);const i=n.isValidMoodleVersion(o);if(i!==CoreSitesProvider.VALID_VERSION)return yield n.treatInvalidAppVersion(i,r.getId()),void 0;let s;try{s=yield n.getSiteConfig(r)}catch{}const a={info:JSON.stringify(o),loggedOut:r.isLoggedOut()?1:0};void 0!==s&&(r.setConfig(s),a.config=JSON.stringify(s));try{yield n.sitesTable.update(a,{id:e})}finally{u.z.trigger(u.z.SITE_UPDATED,o,e)}}catch{}}))()}updateSiteInfoByUrl(e,n){var r=this;return(0,o.A)((function*(){const o=r.createSiteID(e,n);yield r.updateSiteInfo(o)}))()}getSiteIdsFromUrl(e,n,r){var i=this;return(0,o.A)((function*(){var s;if(n&&i.currentSite&&i.currentSite.containsUrl(e)&&(!r||(null===(s=i.currentSite)||void 0===s||null===(s=s.getInfo())||void 0===s?void 0:s.username)===r))return[i.currentSite.getId()];if(!e.match(/^https?:\/\//i))return f.F.isAbsoluteURL(e)?[]:i.currentSite?[i.currentSite.getId()]:[];try{const n=yield i.sitesTable.getMany(),s=[];return yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){var o;(n=yield i.loadSiteTokens(n),yield i.addSiteFromSiteListEntry(n),i.sites[n.id].containsUrl(e))&&(r&&(null===(o=i.sites[n.id].getInfo())||void 0===o?void 0:o.username)!==r||s.push(n.id))}));return function(e){return n.apply(this,arguments)}}())),s}catch{return[]}}))()}getStoredCurrentSiteId(){var e=this;return(0,o.A)((function*(){return yield e.migrateCurrentSiteLegacyTable(),H.CoreConfig.get(re)}))()}removeStoredCurrentSite(){return(0,o.A)((function*(){yield H.CoreConfig.delete(re)}))()}getSitePublicConfig(e){return I.a.makeUnauthenticatedSite(e).getPublicConfig()}getSiteConfig(e){return(0,o.A)((function*(){return e.getConfig(void 0,!0)}))()}isFeatureDisabled(e,n){var r=this;return(0,o.A)((function*(){return(yield r.getSite(n)).isFeatureDisabled(e)}))()}wsAvailableInCurrentSite(e){const n=this.getCurrentSite();return!!n&&n.wsAvailable(e)}registerSiteSchema(e){var n=this;return(0,o.A)((function*(){n.currentSite&&(yield n.sitesDB.registerSiteSchema(e,n.currentSite))}))()}migrateSiteSchemas(e){var n=this;return(0,o.A)((function*(){return n.sitesDB.migrateSiteSchemas(e)}))()}isStoredRootURL(e,n){var r=this;return(0,o.A)((function*(){const o=yield r.getSiteIdsFromUrl(e,!0,n),i={siteIds:o};if(!o.length)return i;const s=yield r.getSite(o[0]);return T.Ni.removeEndingSlash(f.F.removeUrlParts(s.getURL(),["protocol","www"]))===T.Ni.removeEndingSlash(f.F.removeUrlParts(e,["protocol","www"]))&&(i.site=s),i}))()}getSiteTableSchemasToClear(e){return this.sitesDB.getSiteTableSchemasToClear(e)}getFilterPresets(e){return{filter:!1!==e,rewriteurls:!1!==e}}getReadingStrategyPreSets(e){switch(e){case 1:return{omitExpires:!0};case 0:return{omitExpires:!0,forceOffline:!0};case 3:return{getFromCache:!1};case 2:return{getFromCache:!1,emergencyCache:!1};case 4:return{updateInBackground:!0,getFromCache:!0,saveToCache:!0};default:return{}}}findSites(e){return(0,o.A)((function*(){return[]}))()}hasDefaultImage(e){return!1}migrateCurrentSiteLegacyTable(){return(0,o.A)((function*(){if(!(yield H.CoreConfig.has("current_site_migrated")))try{const e=X.CoreAppDB.getDB(),{siteId:n}=yield e.getRecord("current_site");yield H.CoreConfig.set(re,n),yield X.CoreAppDB.deleteTableSchema("current_site"),yield e.dropTable("current_site")}catch{}finally{yield H.CoreConfig.set("current_site_migrated",1)}}))()}moveTokensToSecureStorage(){var e=this;return(0,o.A)((function*(){const n=yield e.sitesTable.getMany();yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){if(n.token||n.privateToken)try{yield e.storeTokensInSecureStorage(n.id,n.token,n.privateToken)}catch{e.logger.error(`Error storing tokens in secure storage for site ${n.id}`)}}));return function(e){return n.apply(this,arguments)}}())),yield e.sitesTable.update({token:"",privateToken:""})}))()}getTokensFromSecureStorage(e){return(0,o.A)((function*(){var n,r,o;const i=yield null===(n=V.b.plugin("secureStorage"))||void 0===n?void 0:n.get(["token","privateToken"],e);return{token:null!==(r=null==i?void 0:i.token)&&void 0!==r?r:"",privateToken:null!==(o=null==i?void 0:i.privateToken)&&void 0!==o?o:void 0}}))()}storeTokensInSecureStorage(e,n,r){return(0,o.A)((function*(){var o;yield null===(o=V.b.plugin("secureStorage"))||void 0===o?void 0:o.store({token:n,privateToken:null!=r?r:""},e)}))()}loadSiteTokens(e){var n=this;return(0,o.A)((function*(){if(e.token)return e;const r=yield n.getTokensFromSecureStorage(e.id);return{...e,...r}}))()}invalidateCaches(){var e=this;return(0,o.A)((function*(){const n=yield e.getSites();yield Promise.all(n.map((e=>I.a.makeSite(e.id,e.siteUrl,""))).map((e=>e.invalidateCaches())))}))()}runAfterLoginNavigation(e){if(!this.isLoggedIn()||this.isLoginNavigationFinished)return this.afterLoginNavigationQueueRunner.run(e.callback,{priority:e.priority}),void 0;this.afterLoginNavigationQueue.push(e),this.afterLoginNavigationQueue.sort(((e,n)=>n.priority-e.priority))}loginNavigationFinished(){this.isLoginNavigationFinished||(this.isLoginNavigationFinished=!0,this.afterLoginNavigationQueue.forEach((e=>{this.afterLoginNavigationQueueRunner.run(e.callback,{priority:e.priority})})),this.afterLoginNavigationQueue=[])}filterEnabledSites(e,n,r,...i){return(0,o.A)((function*(){const o=[],s=[];for(const a in e){const c=e[a],pushIfEnabled=e=>e&&s.push(c);!r&&o.length||o.push(Promise.resolve(n(c,...i)).then(pushIfEnabled))}return yield J.g.allPromisesIgnoringErrors(o),r?s:s.length?e:[]}))()}}return(e=CoreSitesProvider).WORKPLACE_APP=3,e.MOODLE_APP=2,e.VALID_VERSION=1,e.INVALID_VERSION=-1,e.ɵfac=function CoreSitesProvider_Factory(n){return new(n||e)(i.KVO(ne,8))},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSitesProvider})();const se=(0,b.Qd)(ie)},56364:(e,n,r)=>{"use strict";r.d(n,{t:()=>C});var o=r(10467),i=r(89312),s=r(89632),a=r(71689),c=r(79555),u=r(12038),p=r(52749),f=r(74431),g=r(54438);let v=(()=>{var e;class CoreStorageService{constructor(e){this.table=(0,i.A)(e)}initializeDatabase(){var e=this;return(0,o.A)((function*(){yield s.CoreAppDB.createTablesFromSchema(u.ep),yield e.initializeTable(s.CoreAppDB.getDB())}))()}initializeTable(e){var n=this;return(0,o.A)((function*(){const r=yield function getStorageTable(e){const n=w.get(e);if(n)return n;const r=new Promise(((n,r)=>{const o=new a.D({cachingStrategy:a.T.Eager},e,u.BL,["key"]);o.initialize().then((()=>n(o))).catch(r)}));return w.set(e,r),r}(e);n.table.setInstance(r)}))()}get(e,n=null){var r=this;return(0,o.A)((function*(){try{const{value:n}=yield r.table.getOneByPrimaryKey({key:e});return JSON.parse(n)}catch(e){return n}}))()}getFromDB(e,n=null){return(0,o.A)((function*(){try{const n=s.CoreAppDB.getDB(),{value:r}=yield n.getRecord(u.BL,{key:e});return JSON.parse(r)}catch(e){return n}}))()}set(e,n){var r=this;return(0,o.A)((function*(){yield r.table.insert({key:e,value:JSON.stringify(n)})}))()}has(e){var n=this;return(0,o.A)((function*(){return n.table.hasAny({key:e})}))()}remove(e){var n=this;return(0,o.A)((function*(){yield n.table.deleteByPrimaryKey({key:e})}))()}forCurrentSite(){return(0,i.A)((0,o.A)((function*(){const e=yield p.CoreSites.getStoredCurrentSiteId(),n=yield p.CoreSites.getSite(e);return e in b||(b[e]=(0,i.A)((0,o.A)((function*(){const e=new CoreStorageService;return yield e.initializeTable(n.getDb()),e})))),yield b[e].getInstance()})))}forSite(e){const n=e.getId();return(0,i.A)((0,o.A)((function*(){if(!(n in b)){const r=new CoreStorageService;yield r.initializeTable(e.getDb()),b[n]=(0,i.A)((()=>r))}return yield b[n].getInstance()})))}}return(e=CoreStorageService).ɵfac=function CoreStorageService_Factory(n){return new(n||e)(g.KVO(f.NULL_INJECTION_TOKEN,8))},e.ɵprov=g.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreStorageService})();const C=(0,c.Qd)(v),b={},w=new WeakMap},48966:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreSync:()=>f,CoreSyncProvider:()=>p});var o=r(10467),i=r(49882),s=r(52749),a=r(79555),c=r(57880),u=r(54438);let p=(()=>{var e;class CoreSyncProvider{constructor(){this.blockedItems={},i.z.on(i.z.LOGOUT,(e=>{this.clearAllBlocks(e.siteId)}))}blockOperation(e,n,r,o){o=o||s.CoreSites.getCurrentSiteId();const i=this.getUniqueSyncBlockId(e,n);this.blockedItems[o]||(this.blockedItems[o]={}),this.blockedItems[o][i]||(this.blockedItems[o][i]={}),this.blockedItems[o][i][r=r||"-"]=!0}clearAllBlocks(e){e?delete this.blockedItems[e]:this.blockedItems={}}clearBlocks(e,n,r){r=r||s.CoreSites.getCurrentSiteId();const o=this.getUniqueSyncBlockId(e,n);this.blockedItems[r]&&delete this.blockedItems[r][o]}getSyncRecord(e,n,r){return(0,o.A)((function*(){return(yield s.CoreSites.getSiteDb(r)).getRecord(c.x,{component:e,id:String(n)})}))()}insertOrUpdateSyncRecord(e,n,r,i){return(0,o.A)((function*(){const o=yield s.CoreSites.getSiteDb(i);r.component=e,r.id=String(n),yield o.insertRecord(c.x,r)}))()}getUniqueSyncBlockId(e,n){return`${e}#${n}`}isBlocked(e,n,r){if(r=r||s.CoreSites.getCurrentSiteId(),!this.blockedItems[r])return!1;const o=this.getUniqueSyncBlockId(e,n);return!!this.blockedItems[r][o]&&Object.keys(this.blockedItems[r][o]).length>0}unblockOperation(e,n,r,o){r=r||"-",o=o||s.CoreSites.getCurrentSiteId();const i=this.getUniqueSyncBlockId(e,n);this.blockedItems[o]&&this.blockedItems[o][i]&&delete this.blockedItems[o][i][r]}}return(e=CoreSyncProvider).ɵfac=function CoreSyncProvider_Factory(n){return new(n||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSyncProvider})();const f=(0,a.Qd)(p)},86294:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreUpdateManager:()=>E,CoreUpdateManagerProvider:()=>_});var o=r(10467),i=r(85190),s=r(74431),a=r(6787),c=r(79555),u=r(53867),p=r(82461),f=r(52749),g=r(55554),v=r(42370),C=r(25124),b=r(45507),w=r(18022),A=r(54438);let _=(()=>{var e;class CoreUpdateManagerProvider{constructor(){this.logger=a.CoreLogger.getInstance("CoreUpdateManagerProvider"),this.doneDeferred=new C._}get donePromise(){return this.doneDeferred}initialize(){var e=this;return(0,o.A)((function*(){const n=[],r=s.CoreConstants.CONFIG.versioncode,[o,a,c]=yield Promise.all([i.CoreConfig.get(CoreUpdateManagerProvider.VERSION_APPLIED,0),i.CoreConfig.get(CoreUpdateManagerProvider.PREVIOUS_APP_FOLDER,""),w.CorePlatform.isMobile()?g.g.ignoreErrors(b.CoreFile.getBasePath(),""):""]);r>o&&n.push(e.checkCurrentSiteAllowed()),(r>=3950&&o<3950&&o>0||c&&c!==a)&&n.push(u.CoreH5P.h5pPlayer.deleteAllContentIndexes()),r>=41e3&&o<41e3&&o>0&&n.push(e.upgradeFontSizeNames()),r>=43e3&&o<43e3&&o>0&&n.push(f.CoreSites.moveTokensToSecureStorage());try{yield Promise.all(n),yield Promise.all([i.CoreConfig.set(CoreUpdateManagerProvider.VERSION_APPLIED,r),c?i.CoreConfig.set(CoreUpdateManagerProvider.PREVIOUS_APP_FOLDER,c):void 0])}catch(n){e.logger.error(`Error applying update from ${o} to ${r}`,n)}finally{e.doneDeferred.resolve()}}))()}checkCurrentSiteAllowed(){return(0,o.A)((function*(){if(!(yield p.CoreLoginHelper.getAvailableSites()).length)return;const e=yield g.g.ignoreErrors(f.CoreSites.getStoredCurrentSiteId());if(!e)return;const n=yield g.g.ignoreErrors(f.CoreSites.getSite(e));if(!n)return;(yield p.CoreLoginHelper.isSiteUrlAllowed(n.getURL(),!1))||(yield f.CoreSites.removeStoredCurrentSite(),v.p.storeRedirect(s.CoreConstants.NO_SITE_ID,{redirectPath:"/login/sites",redirectOptions:{params:{openAddSite:!0}}}))}))()}upgradeFontSizeNames(){return(0,o.A)((function*(){switch(yield i.CoreConfig.get(s.CoreConstants.SETTINGS_ZOOM_LEVEL,"none")){case"low":yield i.CoreConfig.set(s.CoreConstants.SETTINGS_ZOOM_LEVEL,"none");break;case"normal":yield i.CoreConfig.set(s.CoreConstants.SETTINGS_ZOOM_LEVEL,"medium")}}))()}}return(e=CoreUpdateManagerProvider).VERSION_APPLIED="version_applied",e.PREVIOUS_APP_FOLDER="previous_app_folder",e.ɵfac=function CoreUpdateManagerProvider_Factory(n){return new(n||e)},e.ɵprov=A.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreUpdateManagerProvider})();const E=(0,c.Qd)(_)},85850:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreCustomURLSchemes:()=>x,CoreCustomURLSchemesHandleError:()=>CoreCustomURLSchemesHandleError,CoreCustomURLSchemesProvider:()=>k});var o=r(10467),i=r(75629),s=r(43411),a=r(33504),c=r(10883),u=r(82461),p=r(79555),f=r(6787),g=r(8756),v=r(74431),C=r(97064),b=r(15324),w=r(52749),A=r(49588),_=r(8014),E=r(33014),I=r(25572),T=r(18022),P=r(54438);let k=(()=>{var e;class CoreCustomURLSchemesProvider{constructor(){this.lastUrls={},this.logger=f.CoreLogger.getInstance("CoreCustomURLSchemesProvider")}createInvalidSchemeError(e,n){const r=new i.CoreError(p.HT.instant("core.login.invalidsite"),{debug:{code:"invalidurlscheme",details:`Error when treating a URL scheme, it seems the URL is not valid.<br><br>URL: ${e}`}});return new CoreCustomURLSchemesHandleError(r,n)}createSiteIfNeeded(e){return(0,o.A)((function*(){if(!e.token)return;const n=w.CoreSites.getCurrentSite();if(!n||n.getToken()!=e.token||n.isLoggedOut()){if(!e.siteUrl.match(/^https?:\/\//)){const n=yield w.CoreSites.checkSite(e.siteUrl,void 0,"URL scheme create site");e.siteUrl=n.siteUrl,yield w.CoreSites.checkApplication(n.config)}return w.CoreSites.newSite(e.siteUrl,e.token,e.privateToken,!!e.isSSOToken,u.CoreLoginHelper.getOAuthIdFromParams(e.ssoUrlParams))}return w.CoreSites.getCurrentSiteId()}))()}handleCustomURL(e){var n=this;return(0,o.A)((function*(){if(!n.isCustomURL(e))throw n.createInvalidSchemeError(e);const r=n.removeCustomURLScheme(e).trim();if(!r||r.match(/^\/?(#.*)?\/?$/))throw n.createInvalidSchemeError(e);if(n.lastUrls[e]&&Date.now()-n.lastUrls[e]<3e3)return;n.lastUrls[e]=Date.now(),e=_.F.decodeURIComponent(e),yield p.b0.donePromise,e=e.replace(/\/?(#.*)?\/?$/,"");const o=yield E.CoreLoadings.show();let i;try{n.isCustomURLToken(e)?i=yield n.getCustomURLTokenData(e):n.isCustomURLLink(e)?(e=e.replace(/\/\/link=(https?)\/\//,"//link=$1://"),i=yield n.getCustomURLLinkData(e)):(e=e.replace(/\/\/(https?)\/\//,"//$1://"),i=yield n.getCustomURLData(e))}catch(e){throw o.dismiss(),e}try{if(!(yield u.CoreLoginHelper.isSiteUrlAllowed(i.siteUrl)))throw p.HT.instant("core.errorurlschemeinvalidsite");if(i.redirect&&i.redirect.match(/^https?:\/\//)&&-1==i.redirect.indexOf(i.siteUrl))throw p.HT.instant("core.contentlinks.errorredirectothersite");const r=yield n.createSiteIfNeeded(i);if(i.isSSOToken||i.isAuthenticationURL&&r&&w.CoreSites.getCurrentSiteId()==r)return b.CoreNavigator.navigateToSiteHome({params:{redirectPath:i.redirectPath,redirectOptions:i.redirectOptions,urlToOpen:i.urlToOpen}}),void 0;i.redirect&&!i.redirect.match(/^https?:\/\//)&&(i.redirect=g.$.concatenatePaths(i.siteUrl,i.redirect));let a=[r];if(r||(a=yield w.CoreSites.getSiteIdsFromUrl(i.siteUrl,!0,i.username)),a.length>1)c.CoreContentLinksHelper.goToChooseSite(i.redirect||i.siteUrl);else if(1==a.length){const e=yield w.CoreSites.getSite(a[0]);if(i.redirect){var s;o.dismiss();const n=(null===(s=e.getInfo())||void 0===s?void 0:s.username)||i.username;(yield c.CoreContentLinksHelper.handleLink(i.redirect,n))||I.CoreAlerts.showError(p.HT.instant("core.contentlinks.errornoactions"))}else yield c.CoreContentLinksHelper.handleRootURL(e,!1,!0)}else{const r=yield w.CoreSites.checkSite(i.siteUrl,void 0,`URL scheme redirect: ${e}`);o.dismiss(),yield n.goToAddSite(i,r)}}catch(r){if(r&&A.CoreErrorHelper.getErrorMessageFromError(r))throw new CoreCustomURLSchemesHandleError(r,i);n.createInvalidSchemeError(e,i)}finally{o.dismiss(),i.isSSOToken&&C.h.finishSSOAuthentication()}}))()}getCustomURLData(e){var n=this;return(0,o.A)((function*(){if(!n.isCustomURL(e))throw n.createInvalidSchemeError(e);n.logger.debug(`Treating custom URL scheme: ${e}`),e=n.removeCustomURLScheme(e);const r=_.F.getUsernameFromUrl(e);r&&(e=e.replace(`${r}@`,""));const o=_.F.extractUrlParams(e);if(-1!=e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),!e.match(/https?:\/\//)){const n=yield w.CoreSites.getSiteIdsFromUrl(e,!0,r);if(n.length){const r=yield w.CoreSites.getSite(n[0]);e=r.getURL()}}return{siteUrl:e,username:r,token:o.token,privateToken:o.privateToken,redirect:o.redirect,isAuthenticationURL:!!o.token}}))()}getCustomURLLinkData(e){var n=this;return(0,o.A)((function*(){if(!n.isCustomURLLink(e))throw n.createInvalidSchemeError(e);n.logger.debug(`Treating custom URL scheme with link param: ${e}`),e=n.removeCustomURLLinkScheme(e);const r=_.F.getUsernameFromUrl(e);r&&(e=e.replace(`${r}@`,""));const o=yield w.CoreSites.isStoredRootURL(e,r);if(o.site)return{siteUrl:o.site.getURL(),username:r};if(o.siteIds.length>0){return{siteUrl:(yield w.CoreSites.getSite(o.siteIds[0])).getURL(),username:r,redirect:e}}{let n=a.CoreContentLinksDelegate.getSiteUrl(e),o=e;return n||(n=e,o=void 0),{siteUrl:n,username:r,redirect:o}}}))()}getCustomURLTokenData(e){var n=this;return(0,o.A)((function*(){if(!n.isCustomURLToken(e))throw n.createInvalidSchemeError(e);if(C.h.isSSOAuthenticationOngoing())throw new CoreCustomURLSchemesHandleError("Duplicated");C.h.startSSOAuthentication(),n.logger.debug("App launched by URL with an SSO");const r=e;e=(e=n.removeCustomURLTokenScheme(e)).replace(/\/?#?\/?$/,"");try{e=atob(e)}catch(o){throw n.logger.error("Error decoding parameter received for login SSO"),new CoreCustomURLSchemesHandleError(new i.CoreError(p.HT.instant("core.login.invalidsite"),{debug:{code:"errordecodingparameter",details:`Error when trying to decode base 64 string.<br><br>URL: ${r}<br><br>Text to decode: ${e}<br><br>Error: ${A.CoreErrorHelper.getErrorMessageFromError(o)}`}}))}const o=yield u.CoreLoginHelper.validateBrowserSSOLogin(e);return o.isSSOToken=!0,o.isAuthenticationURL=!0,o}))()}goToAddSite(e,n){return(0,o.A)((function*(){const r={username:e.username,urlToOpen:e.redirect,siteCheck:n};if(w.CoreSites.isLoggedIn())return yield I.CoreAlerts.confirm(p.HT.instant("core.contentlinks.confirmurlothersite")),yield w.CoreSites.logout({siteId:v.CoreConstants.NO_SITE_ID,redirectPath:"/login/credentials",redirectOptions:{params:r}}),void 0;yield b.CoreNavigator.navigateToLoginCredentials(r)}))()}isCustomURL(e){return!!e&&-1!=e.indexOf(`${v.CoreConstants.CONFIG.customurlscheme}://`)}isCustomURLLink(e){return!!e&&-1!=e.indexOf(`${v.CoreConstants.CONFIG.customurlscheme}://link=`)}isCustomURLToken(e){return!!e&&-1!=e.indexOf(`${v.CoreConstants.CONFIG.customurlscheme}://token=`)}removeCustomURLScheme(e){return e.replace(`${v.CoreConstants.CONFIG.customurlscheme}://`,"")}removeCustomURLLinkScheme(e){return e.replace(`${v.CoreConstants.CONFIG.customurlscheme}://link=`,"")}removeCustomURLTokenScheme(e){return e.replace(`${v.CoreConstants.CONFIG.customurlscheme}://token=`,"")}treatHandleCustomURLError(e,n="",r="unknown"){if("Duplicated"===e.error);else if(s.CoreWSError.isWebServiceError(e.error)&&e.data&&e.data.isSSOToken)u.CoreLoginHelper.treatUserTokenError(e.data.siteUrl,e.error),w.CoreSites.logout();else{var o;I.CoreAlerts.showError(null!==(o=e.error)&&void 0!==o?o:new i.CoreError(p.HT.instant("core.login.invalidsite"),{debug:{code:"unknownerror",details:`Unknown error when treating a URL scheme.<br><br>Origin: ${r}.<br><br>URL: ${n}.`}}))}}getLastLaunchURL(){return T.CorePlatform.isAndroid()?new Promise((e=>{window.plugins.launchmyapp.getLastIntent((n=>e(n)),(()=>e(void 0)))})):Promise.resolve(void 0)}appLaunchedWithTokenURL(){var e=this;return(0,o.A)((function*(){const n=yield e.getLastLaunchURL();return!!n&&e.isCustomURLToken(n)}))()}}return(e=CoreCustomURLSchemesProvider).ɵfac=function CoreCustomURLSchemesProvider_Factory(n){return new(n||e)},e.ɵprov=P.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreCustomURLSchemesProvider})();class CoreCustomURLSchemesHandleError extends i.CoreError{constructor(e,n){super(A.CoreErrorHelper.getErrorMessageFromError(e)),this.error=e,this.data=n}}const x=(0,p.Qd)(k)},99121:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreWS:()=>z,CoreWSProvider:()=>G});var o=r(10467),i=r(21626),s=r(89377),a=r(54843),c=r(62087);const u={100:"Continue",101:"Switching Protocol",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"unused",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};class CoreNativeToAngularHttpResponse extends i.cS{constructor(e){super({body:e.data,headers:new i.Lr(e.headers),status:e.status,statusText:u[e.status]||"",url:e.url||""}),this.nativeResponse=e}}var p=r(94455),f=r(45507),g=r(12364),v=r(75383),C=r(74431),b=r(75629),w=r(54024),A=r(79555),_=r(6787),E=r(43411),I=r(82855),T=r(4573),P=r(49446),k=r(95445),x=r(25124),F=r(18022),R=r(51092),N=r(83804),L=r(52749),H=r(72881),U=r(1453),B=r(49588),j=r(82907),V=r(54438);let G=(()=>{var e;class CoreWSProvider{constructor(){this.mimeTypeCache={},this.ongoingCalls={},this.retryCalls=[],this.retryTimeout=0,this.logger=_.CoreLogger.getInstance("CoreWSProvider")}addToRetryQueue(e,n,r,o){const i={method:e,siteUrl:n,data:r,preSets:o,deferred:new x._};return this.retryCalls.push(i),i.deferred}call(e,n,r){if(!r)throw new b.CoreError(A.HT.instant("core.unexpectederror"));if(!p.WE.isOnline())throw new P.CoreNetworkError;r.typeExpected=r.typeExpected||"object",void 0===r.responseExpected&&(r.responseExpected=!0);const o=Object.assign({},n);o.wsfunction=e,o.wstoken=r.wsToken;const i=`${r.siteUrl}/webservice/rest/server.php?moodlewsrestformat=json`;return this.retryCalls.length>0?(this.logger.warn("Calls locked, trying later..."),this.addToRetryQueue(e,i,o,r)):this.performPost(e,i,o,r)}callAjax(e,n,r){const o={methodname:e,args:n};let i=this.getPromiseHttp("ajax",r.siteUrl,o);return i||(i=this.performAjax(e,n,r),i=this.setPromiseHttp(i,"ajax",r.siteUrl,o)),i}convertValuesToString(e,n){const r=Array.isArray(e)?[]:{};for(const o in e){let i=e[o];if(null!=i){if("object"==typeof i){if(i=this.convertValuesToString(i,n),null==i)return null}else if("string"==typeof i){if(n){const e=v.Ni.stripUnicode(i);if(e!=i&&0==e.trim().length)return null;i=e}}else if("boolean"==typeof i)i="moodlewssettingfilter"==o||"moodlewssettingfileurl"==o?i?"true":"false":i?"1":"0";else{if("number"!=typeof i)continue;i=String(i)}Array.isArray(r)?r.push(i):r[o]=i}}return r}throwOnFailedStatus(e,n){if(!e.status){if(e.warnings&&e.warnings.length)throw new E.CoreWSError(e.warnings[0]);throw new b.CoreError(n)}}downloadFile(e,n,r,i){var s=this;return(0,o.A)((function*(){if(s.logger.debug("Downloading file",e,n,r),!p.WE.isOnline())throw new P.CoreNetworkError;const o=`${n}.tmp`;try{const u=yield f.CoreFile.createFile(o);let p,v,C=5;do{var a;const n=new window.FileTransfer;i&&(n.onprogress=i),p=yield new Promise(((r,o)=>{n.download(null!=v?v:e,f.CoreFile.getFileEntryURL(u),(e=>r(e)),(e=>o(e)),!0,{headers:{"User-Agent":navigator.userAgent}})})),v=null===(a=p.headers)||void 0===a?void 0:a.location,C--}while(v&&C>=0);let b="";if(r&&(b=g.A.getFileExtension(n)||"",!b||["gdoc","gsheet","gslides","gdraw","php"].includes(b))){var c;const r=null===(c=p.headers)||void 0===c||null===(c=c["Content-Type"])||void 0===c?void 0:c.split(";")[0],o=null!=r?r:yield s.getRemoteFileMimeType(e);if(o){const r=g.A.getExtension(o,e);!r||b&&"application/json"==o||(b&&(n=g.A.removeExtension(n)),n+=`.${r}`,b=r)}}const w=yield f.CoreFile.moveFile(o,n);return s.logger.debug(`Success downloading file ${e} to ${n} with extension ${b}`),Object.assign(w,{extension:b,path:n})}catch(r){throw s.logger.error(`Error downloading ${e} to ${n}`,r),r}}))()}getPromiseHttp(e,n,r){const o=this.getQueueItemId(e,n,r);if(void 0!==this.ongoingCalls[o])return this.ongoingCalls[o]}getRemoteFileMimeType(e,n){var r=this;return(0,o.A)((function*(){const o=r.mimeTypeCache[e];if(o&&!n)return o;try{let n=(yield r.performHead(e)).headers.get("Content-Type");return n&&(n=n.split(";")[0]),r.mimeTypeCache[e]=n,n||""}catch(e){return""}}))()}getRemoteFileSize(e){return this.performHead(e).then((e=>{const n=e.headers.get("Content-Length"),r=n?parseInt(n,10):0;return r||-1})).catch((()=>-1))}getRequestTimeout(){return p.WE.isNetworkAccessLimited()?C.CoreConstants.WS_TIMEOUT:C.CoreConstants.WS_TIMEOUT_WIFI}getQueueItemId(e,n,r){return r&&(n+=`###${w.z.serialize(r)}`),`${e}#${s.V.hashAsciiStr(n)}`}performAjax(e,n,r){var i=this;return(0,o.A)((function*(){let s;if(void 0===r.siteUrl){const r=new I.CoreAjaxError(A.HT.instant("core.unexpectederror"));throw U.F.addErrorLog({method:e,type:"CoreAjaxError",message:A.HT.instant("core.unexpectederror"),time:(new Date).getTime(),data:n}),r}if(!p.WE.isOnline()){const r=new I.CoreAjaxError(A.HT.instant("core.networkerrormsg"));throw U.F.addErrorLog({method:e,type:"CoreAjaxError",message:A.HT.instant("core.networkerrormsg"),time:(new Date).getTime(),data:n}),r}void 0===r.responseExpected&&(r.responseExpected=!0);const a=r.noLogin?"service-nologin.php":"service.php",c=[{index:0,methodname:e,args:i.convertValuesToString(n)}],u=yield H.CoreLang.getCurrentLanguage("lms");let f=`${r.siteUrl}/lib/ajax/${a}?info=${e}&lang=${u}`;return r.noLogin&&r.useGet?(f+=`&args=${encodeURIComponent(JSON.stringify(c))}`,s=i.sendHTTPRequest(f,{method:"get"})):s=i.sendHTTPRequest(f,{method:"post",data:c,serializer:"json"}),s.then(function(){var n=(0,o.A)((function*(n){let o=n.body;if(o||r.responseExpected||(o=[{}]),!o||"object"!=typeof o){var i;const n=L.CoreSites.isLoggedIn()?A.HT.instant("core.siteunavailablehelp",{site:null===(i=L.CoreSites.getCurrentSite())||void 0===i?void 0:i.siteUrl}):A.HT.instant("core.sitenotfoundhelp");throw new I.CoreAjaxError({message:n,supportConfig:yield N.Q.forSite(r.siteUrl),debug:{code:"invalidresponse",details:A.HT.instant("core.serverconnection",{details:A.HT.instant("core.errorinvalidresponse",{method:e})})}})}if(o.error)throw new T.CoreAjaxWSError(o);if(o=o[0],o.error)throw new T.CoreAjaxWSError(o.exception);return o.data}));return function(e){return n.apply(this,arguments)}}(),function(){var e=(0,o.A)((function*(e){var n,o,i,s,a,c,u,p;const f={message:L.CoreSites.isLoggedIn()?A.HT.instant("core.siteunavailablehelp",{site:null===(n=L.CoreSites.getCurrentSite())||void 0===n?void 0:n.siteUrl}):A.HT.instant("core.sitenotfoundhelp"),supportConfig:yield N.Q.forSite(r.siteUrl)};if(F.CorePlatform.isMobile())switch(e.status){case A.Eu.ErrorCode.SSL_EXCEPTION:f.debug={code:"invalidcertificate",details:A.HT.instant("core.certificaterror",{details:null!==(o=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==o?o:"Invalid certificate"})};break;case A.Eu.ErrorCode.SERVER_NOT_FOUND:f.debug={code:"servernotfound",details:null!==(i=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==i?i:"Server could not be found"};break;case A.Eu.ErrorCode.TIMEOUT:f.debug={code:"requesttimeout",details:null!==(s=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==s?s:"Request timed out"};break;case A.Eu.ErrorCode.UNSUPPORTED_URL:f.debug={code:"unsupportedurl",details:null!==(a=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==a?a:"Url not supported"};break;case A.Eu.ErrorCode.NOT_CONNECTED:f.debug={code:"connectionerror",details:null!==(c=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==c?c:"Connection error, is network available?"};break;case A.Eu.ErrorCode.ABORTED:f.debug={code:"requestaborted",details:null!==(u=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==u?u:"Request aborted"};break;case A.Eu.ErrorCode.POST_PROCESSING_FAILED:f.debug={code:"requestprocessingfailed",details:null!==(p=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==p?p:"Request processing failed"}}if(!f.debug)if(404===e.status)f.debug={code:"endpointnotfound",details:A.HT.instant("core.ajaxendpointnotfound",{$a:C.MINIMUM_MOODLE_VERSION})};else{var g;const n=null!==(g=B.CoreErrorHelper.getErrorMessageFromError(e.error))&&void 0!==g?g:"Unknown error";f.debug={code:"serverconnectionajax",details:A.HT.instant("core.serverconnection",{details:`[Response status code: ${e.status}] ${n}`})}}throw new I.CoreAjaxError(f,1,e.status)}));return function(n){return e.apply(this,arguments)}}()).catch((r=>{throw U.F.addErrorLog({method:e,type:`CoreAjaxError - ${r.errorcode}`,message:r,time:(new Date).getTime(),data:n}),r}))}))()}performHead(e){let n=this.getPromiseHttp("head",e);return n||(n=this.sendHTTPRequest(e,{method:"head",responseType:"text"}),n=this.setPromiseHttp(n,"head",e)),n}performPost(e,n,r,i){var s=this;return(0,o.A)((function*(){const o={};if("number"!=i.typeExpected&&"boolean"!=i.typeExpected&&"string"!=i.typeExpected||(o.responseType="text"),!i.splitRequest||!r[i.splitRequest.param])return s.performSinglePost(e,n,r,i,o);const a=[],c=r[i.splitRequest.param];for(let u=0;u<c.length;u+=i.splitRequest.maxLength){const p=Object.assign({},r);p[i.splitRequest.param]=c.slice(u,u+i.splitRequest.maxLength),a.push(s.performSinglePost(e,n,p,i,o))}const u=yield Promise.all(a),p=u.shift();return u.reduce(i.splitRequest.combineCallback?i.splitRequest.combineCallback:(e,n)=>s.combineObjectsArrays(e,n),p)}))()}combineObjectsArrays(e,n){for(const r in n){const o=n[r];Array.isArray(o)&&(e[r]=e[r].concat(o))}return e}performSinglePost(e,n,r,i,s){var u=this;return(0,a._)(A.lw.post(`${n}&wsfunction=${e}`,r,s).pipe((0,c.w)(this.getRequestTimeout()))).then(function(){var n=(0,o.A)((function*(n){if(null===n&&(!i.responseExpected||"object"!==i.typeExpected))return null;const r="jsonstring"===i.typeExpected?"string":i.typeExpected;if(!n)throw yield u.createCannotConnectSiteError(i.siteUrl,{debug:{code:"serverconnectionpost",details:A.HT.instant("core.serverconnection",{details:A.HT.instant("core.errorinvalidresponse",{method:e})})}});if(typeof n!==r){if("string"!=typeof n)throw u.logger.warn(`Response of type "${typeof n}" received, expecting "${r}"`),yield u.createCannotConnectSiteError(i.siteUrl,{debug:{code:"invalidresponse",details:A.HT.instant("core.errorinvalidresponse",{method:e})}});if("number"===r){if(n=Number(n),isNaN(n))throw u.logger.warn(`Response expected type "${r}" cannot be parsed to number`),yield u.createCannotConnectSiteError(i.siteUrl,{debug:{code:"invalidresponse",details:A.HT.instant("core.errorinvalidresponse",{method:e})}})}else{if("boolean"!==r)throw u.logger.warn(`Response of type "${typeof n}" received, expecting "${r}"`),yield u.createCannotConnectSiteError(i.siteUrl,{debug:{code:"invalidresponse",details:A.HT.instant("core.errorinvalidresponse",{method:e})}});if("true"===n)n=!0;else{if("false"!==n)throw u.logger.warn(`Response expected type "${r}" is not true or false`),yield u.createCannotConnectSiteError(i.siteUrl,{debug:{code:"invalidresponse",details:A.HT.instant("core.errorinvalidresponse",{method:e})}});n=!1}}}if(void 0!==n.exception)throw"tool_mobile_get_content"==e&&u.logger.error("Error calling WS",e,n),new E.CoreWSError(n);if(void 0!==n.debuginfo)throw new b.CoreError(`Error. ${n.message}`);return n}));return function(e){return n.apply(this,arguments)}}(),function(){var s=(0,o.A)((function*(o){var s,a;if(429==o.status){const s=u.addToRetryQueue(e,n,r,i);return 0==u.retryTimeout?(u.retryTimeout=parseInt(o.headers.get("Retry-After"),10)||5,u.logger.warn(`${o.statusText}. Retrying in ${u.retryTimeout} seconds. ${u.retryCalls.length} calls left.`),setTimeout((()=>{u.logger.warn(`Retrying now with ${u.retryCalls.length} calls to process.`),u.retryTimeout=0,u.processRetryQueue()}),1e3*u.retryTimeout)):u.logger.warn("Calls locked, trying later..."),s}if(-2===o.status)throw yield u.createCannotConnectSiteError(i.siteUrl,{debug:{code:"invalidcertificate",details:A.HT.instant("core.certificaterror",{details:null!==(a=B.CoreErrorHelper.getErrorMessageFromError(o))&&void 0!==a?a:"Unknown error"})}});if(o.status>0)throw u.createHttpError(o,o.status);throw new b.CoreError(A.HT.instant("core.serverconnection",{details:null!==(s=B.CoreErrorHelper.getErrorMessageFromError(o))&&void 0!==s?s:"Unknown error"}))}));return function(e){return s.apply(this,arguments)}}()).catch((n=>{throw U.F.addErrorLog({method:e,type:String(n),message:String(n.exception),time:(new Date).getTime(),data:r}),n}))}processRetryQueue(){if(this.retryCalls.length>0&&0==this.retryTimeout){const e=this.retryCalls[0];this.retryCalls.shift(),setTimeout((()=>{e.deferred.resolve(this.performPost(e.method,e.siteUrl,e.data,e.preSets)),this.processRetryQueue()}),200)}else this.logger.warn(`Retry queue has stopped with ${this.retryCalls.length} calls and ${this.retryTimeout} timeout secs.`)}setPromiseHttp(e,n,r,o){const i=this.getQueueItemId(n,r,o);this.ongoingCalls[i]=e;const s=setTimeout((()=>{delete this.ongoingCalls[i]}),this.getRequestTimeout());return e.finally((()=>{delete this.ongoingCalls[i],clearTimeout(s)}))}syncCall(e,n,r){try{if(!r)throw new b.CoreError(A.HT.instant("core.unexpectederror"));if(!p.WE.isOnline())throw new P.CoreNetworkError;if(r.typeExpected=r.typeExpected||"object",void 0===r.responseExpected&&(r.responseExpected=!0),null==(n=this.convertValuesToString(n||{},r.cleanUnicode)))throw new b.CoreError(A.HT.instant("core.unicodenotsupportedcleanerror"));n.wsfunction=e,n.wstoken=r.wsToken;const o=`${r.siteUrl}/webservice/rest/server.php?moodlewsrestformat=json`;n=w.z.serialize(n);const i=new XMLHttpRequest;i.open("post",o,!1),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.send(n),n="response"in i?i.response:i.responseText;const s=Math.max(1223===i.status?204:i.status,0);if(s<200||s>=300)throw new b.CoreError(n);if((n=v.Ni.parseJSON(n))&&n.data||r.responseExpected||(n={}),!n)throw new b.CoreError(A.HT.instant("core.serverconnection",{details:A.HT.instant("core.errorinvalidresponse",{method:e})}));if(typeof n!=r.typeExpected)throw this.logger.warn(`Response of type "${typeof n}" received, expecting "${r.typeExpected}"`),new b.CoreError(A.HT.instant("core.errorinvalidresponse",{method:e}));if(void 0!==n.exception||void 0!==n.debuginfo)throw new E.CoreWSError(n);return n}catch(r){let o="";throw r instanceof b.CoreError?o="CoreError":r instanceof E.CoreWSError&&(o="CoreWSError"),U.F.addErrorLog({method:e,type:o,message:String(r),time:(new Date).getTime(),data:n}),r}}uploadFile(e,n,r,i){var s=this;return(0,o.A)((function*(){if(s.logger.debug(`Trying to upload file: ${e}`),!e||!n||!r)throw new b.CoreError("Invalid options passed to upload file.");if(!p.WE.isOnline())throw new P.CoreNetworkError;const o=`${r.siteUrl}/webservice/upload.php`,a=new window.FileTransfer;let c;i&&(a.onprogress=i),n.httpMethod="POST",n.params={token:r.wsToken,filearea:n.fileArea||"draft",itemid:n.itemId||0},n.chunkedMode=!1,n.headers={"User-Agent":navigator.userAgent},n.Connection="close";try{c=yield new Promise(((r,i)=>a.upload(e,o,(e=>r(e)),(e=>i(e)),n,!0)))}catch(n){var u;throw s.logger.error("Error while uploading file",e,n),s.createHttpError(n,null!==(u=n.http_status)&&void 0!==u?u:0)}const f=v.Ni.parseJSON(c.response,null,(e=>s.logger.error("Error parsing response from upload",c.response,e)));if(null===f)throw yield s.createCannotConnectSiteError(r.siteUrl,{debug:{code:"invalidresponse",details:A.HT.instant("core.errorinvalidresponse",{method:"upload.php"})}});if(!f)throw yield s.createCannotConnectSiteError(r.siteUrl,{debug:{code:"serverconnectionupload",details:A.HT.instant("core.serverconnection",{details:A.HT.instant("core.errorinvalidresponse",{method:"upload.php"})})}});if("object"!=typeof f)throw s.logger.warn(`Upload file: Response of type "${typeof f}" received, expecting "object"`),yield s.createCannotConnectSiteError(r.siteUrl,{debug:{code:"invalidresponse",details:A.HT.instant("core.errorinvalidresponse",{method:"upload.php"})}});if(void 0!==f.exception)throw new E.CoreWSError(f);if(void 0!==f.error)throw new E.CoreWSError({errorcode:f.errortype,message:f.error});if(f[0]&&void 0!==f[0].error)throw new E.CoreWSError({errorcode:f[0].errortype,message:f[0].error});return s.logger.debug("Successfully uploaded file",e),f[0]}))()}createHttpError(e,n){var r;const o=B.CoreErrorHelper.buildSeveralParagraphsMessage([L.CoreSites.isLoggedIn()?A.HT.instant("core.siteunavailablehelp",{site:null===(r=L.CoreSites.getCurrentSite())||void 0===r?void 0:r.siteUrl}):A.HT.instant("core.sitenotfoundhelp"),j.y.getHTMLBodyContent(B.CoreErrorHelper.getErrorMessageFromError(e)||"")]);return new k.CoreHttpError(o,n)}getText(e){var n=this;return(0,o.A)((function*(){const r=(yield n.sendHTTPRequest(e,{method:"get",responseType:"text"})).body;if("string"!=typeof r)throw new Error("Error reading content");return r}))()}sendHTTPRequest(e,n){var r=this;return(0,o.A)((function*(){if(n.responseType=n.responseType||"json",n.timeout=void 0===n.timeout?r.getRequestTimeout():n.timeout,F.CorePlatform.isMobile()){if(0===e.indexOf("file://")){const r="json"==n.responseType?yield f.CoreFile.readFile(e,4):yield f.CoreFile.readFile(e,0);return new i.cS({body:r,headers:void 0,status:200,statusText:"OK",url:e})}let r,o,s=5;do{try{r=yield A.Eu.sendRequest(null!=o?o:e,n),o=void 0}catch(e){if(r=e,o=r.headers.location,s--,!o||s<0)throw e}}while(o);return new CoreNativeToAngularHttpResponse(r)}{let r;const o=n;switch(o.method){case"get":r=A.lw.get(e,{headers:o.headers,params:o.params,observe:"response",responseType:o.responseType});break;case"post":"json"==o.serializer&&(o.data=JSON.stringify(o.data)),r=A.lw.post(e,o.data,{headers:o.headers,observe:"response",responseType:o.responseType});break;case"head":r=A.lw.head(e,{headers:o.headers,observe:"response",responseType:o.responseType});break;default:throw new b.CoreError("Method not implemented yet.")}return o.timeout&&(r=r.pipe((0,c.w)(o.timeout))),yield(0,a._)(r)}}))()}urlWorks(e){var n=this;return(0,o.A)((function*(){try{const r=yield n.performHead(e);return r.status>=200&&r.status<300}catch(e){return!1}}))()}createCannotConnectSiteError(e,n){return(0,o.A)((function*(){var r;return new R.CoreSiteError({...n,supportConfig:yield N.Q.forSite(e),message:L.CoreSites.isLoggedIn()?A.HT.instant("core.siteunavailablehelp",{site:null===(r=L.CoreSites.getCurrentSite())||void 0===r?void 0:r.siteUrl}):A.HT.instant("core.sitenotfoundhelp")})}))()}}return(e=CoreWSProvider).ɵfac=function CoreWSProvider_Factory(n){return new(n||e)},e.ɵprov=V.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreWSProvider})();const z=(0,A.Qd)(G)},86654:(e,n,r)=>{"use strict";r.d(n,{n:()=>ne});var o=r(7199),i=r(69901),s=r(43952),a=r(10892),c=r(19858),u=r(86198),p=r(58197),f=r(23007),g=r(77199),v=r(98128),C=r(37557),b=r(8199),w=r(74235),A=r(10467),_=r(88436),E=r(25572),I=r(33014),T=r(79555),P=r(54438);let k=(()=>{var e;class CoreDownloadFileDirective{constructor(e){this.element=e.nativeElement}ngOnInit(){var e=this;this.element.addEventListener("click",function(){var n=(0,A.A)((function*(n){if(!e.file)return;n.preventDefault(),n.stopPropagation();const r=yield I.CoreLoadings.show();try{yield _.CoreFileHelper.downloadAndOpenFile(e.file,e.component,e.componentId)}catch(e){E.CoreAlerts.showError(e,{default:T.HT.instant("core.errordownloading")})}finally{r.dismiss()}}));return function(e){return n.apply(this,arguments)}}())}}return(e=CoreDownloadFileDirective).ɵfac=function CoreDownloadFileDirective_Factory(n){return new(n||e)(P.rXU(P.aKT))},e.ɵdir=P.FsC({type:e,selectors:[["","core-download-file",""]],inputs:{file:[P.Mj6.None,"core-download-file","file"],component:"component",componentId:"componentId"},standalone:!0}),CoreDownloadFileDirective})();var x=r(68273),F=r(28988),R=r(35407),N=r(66731),L=r(88246),H=r(43570),U=r(8759),B=r(9970),j=r(61307);let V=(()=>{var e;class CoreDirectivesModule{}return(e=CoreDirectivesModule).ɵfac=function CoreDirectivesModule_Factory(n){return new(n||e)},e.ɵmod=P.$C({type:e}),e.ɵinj=P.G2t({}),CoreDirectivesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&P.Obh(V,{imports:[i.i,s.T,a.l,c.A,u.t,p.B,f.j,g.S,v.t,C.O,b.a,w.C,k,x.M,F.n,R.K,N.i,L.i,H.T,U.g,B.E,j.O],exports:[i.i,s.T,a.l,c.A,u.t,p.B,f.j,g.S,v.t,C.O,b.a,w.C,k,x.M,F.n,R.K,N.i,L.i,H.T,U.g,B.E,j.O]}));var G=r(78913),z=r(54048),q=r(2423),W=r(49780),K=r(59528);let Q=(()=>{var e;class CoreNoTagsPipe{transform(e){return e.replace(/(<([^>]+)>)/gi,"")}}return(e=CoreNoTagsPipe).ɵfac=function CoreNoTagsPipe_Factory(n){return new(n||e)},e.ɵpipe=P.EJ8({name:"coreNoTags",type:e,pure:!0,standalone:!0}),CoreNoTagsPipe})();var X=r(56228),Y=r(93453),J=r(32885),Z=r(14028);let ee=(()=>{var e;class CorePipesModule{}return(e=CorePipesModule).ɵfac=function CorePipesModule_Factory(n){return new(n||e)},e.ɵmod=P.$C({type:e}),e.ɵinj=P.G2t({}),CorePipesModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&P.Obh(ee,{imports:[G.b,z.R,q.Y,W.S,K.f,J.w,Q,X.Y,Y.A,Z.O],exports:[G.b,z.R,q.Y,W.S,K.f,Q,J.w,X.Y,Y.A,Z.O]}));var te=r(2469);let ne=(()=>{var e;class CoreSharedModule{}return(e=CoreSharedModule).ɵfac=function CoreSharedModule_Factory(n){return new(n||e)},e.ɵmod=P.$C({type:e}),e.ɵinj=P.G2t({imports:[te.V,o.O,V,ee]}),CoreSharedModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&P.Obh(ne,{exports:[te.V,o.O,V,ee]}))},93013:(e,n,r)=>{"use strict";r.d(n,{G:()=>CoreAngular});var o=r(54438);class CoreAngular{static createChangesFromKeyValueDiff(e){const n={};return e.forEachAddedItem((e=>{n[e.key]=new o.FRM(e.previousValue,e.currentValue,!0)})),e.forEachChangedItem((e=>{n[e.key]=new o.FRM(e.previousValue,e.currentValue,!1)})),e.forEachRemovedItem((e=>{n[e.key]=new o.FRM(e.previousValue,e.currentValue,!0)})),n}}},24502:(e,n,r)=>{"use strict";r.d(n,{R:()=>CoreArray});class CoreArray{constructor(){}static toObject(e=[],n,r={}){for(const o of e){r[n?o[n]:o]=o}return r}static toObjectMultiple(e=[],n,r={}){for(const o of e){const e=n?o[n]:o;void 0===r[e]&&(r[e]=[]),r[e].push(o)}return r}static flatten(e){return console.warn("CoreArray.flatten is deprecated and will be removed soon. Please use array 'flat' instead."),e.flat()}static withoutItem(e,n){const r=[...e],o=e.indexOf(n);return-1!==o&&r.splice(o,1),r}static unique(e,n){const r={};return e.filter((e=>{const o=n?e[n]:e;return!(o in r)&&(r[o]=!0,!0)}))}static filterByRegexp(e,n){return e&&e.length?e.filter((e=>{const r=e.match(n);return r&&r.length})):[]}static mergeWithoutDuplicates(e,n,r){return CoreArray.unique(e.concat(n),r)}static indexOfRegexp(e,n){if(!e||!e.length)return-1;for(let r=0;r<e.length;r++){const o=e[r].match(n);if(o&&o.length)return r}return-1}}},73205:(e,n,r)=>{"use strict";r.d(n,{m:()=>CoreBoostrap});var o=r(10467),i=r(24813);class CoreBoostrap{constructor(){}static handleBootstrapTooltipsAndPopovers(e,n){Array.from(e.querySelectorAll('[data-toggle="tooltip"], [data-bs-toggle="tooltip"], [data-toggle="popover"], [data-bs-toggle="popover"]')).forEach((e=>{if("true"===e.getAttribute("data-bstooltip-treated"))return;const s=e.getAttribute("data-toggle")?"data":"data-bs";let a=e.getAttribute(`${s}-title`)||e.getAttribute("title")||e.getAttribute(`${s}-original-title`),c=e.getAttribute(`${s}-content`);const u=e.getAttribute(`${s}-trigger`)||"hover focus";"tooltip"===e.getAttribute(`${s}-toggle`)&&(c=a,a=null),!c||-1===u.indexOf("hover")&&-1===u.indexOf("focus")&&-1===u.indexOf("click")||(e.setAttribute("data-bstooltip-treated","true"),!e.getAttribute(`${s}-original-title`)&&e.getAttribute("title")&&(e.setAttribute(`${s}-original-title`,e.getAttribute("title")||""),e.setAttribute("title","")),e.addEventListener("click",function(){var u=(0,o.A)((function*(o){var u;const p=e.getAttribute(`${s}-custom-class`)||void 0;let f=e.getAttribute(`${s}-placement`)||void 0;"auto"===f&&(f=void 0);const g="true"===e.getAttribute(`${s}-html`),{CoreBSTooltipComponent:v}=yield Promise.resolve().then(r.bind(r,6838)),C=yield i.CorePopovers.openWithoutResult({component:v,cssClass:p,componentProps:{title:a,content:c,html:g,formatTextOptions:n},event:o,side:f}),b=null===(u=C.shadowRoot)||void 0===u?void 0:u.querySelector(".popover-content");if(b)if("top"===f){const e=getComputedStyle(b),n=parseInt(e.bottom,10)+parseInt(e.height,10)-C.clientHeight;n>0&&C.style.setProperty("--ma-height",parseInt(e.height,10)-n+"px"),parseInt(e.top,10)<0&&C.style.setProperty("--offset-y",-1*parseInt(e.top,10)+"px")}else{const e=getComputedStyle(b),n=parseInt(e.top,10)+parseInt(e.height,10)-C.clientHeight;n>0&&C.style.setProperty("--max-height",parseInt(e.height,10)-n+"px")}}));return function(e){return u.apply(this,arguments)}}()))}))}}},29395:(e,n,r)=>{"use strict";r.d(n,{a:()=>CoreBrowser});class CoreBrowser{constructor(){}static hasCookie(e){var n;return new RegExp(`(\\s|;|^)${e}=`).test(null!==(n=document.cookie)&&void 0!==n?n:"")}static hasDevelopmentSetting(e){const n=CoreBrowser.getDevelopmentSettingKey(e);return CoreBrowser.hasCookie(n)||CoreBrowser.hasLocalStorage(n)}static hasLocalStorage(e){return null!==localStorage.getItem(e)}static getCookie(e){var n,r;const o=(null!==(n=document.cookie)&&void 0!==n?n:"").split(";").reduce(((e,n)=>{const[r,o]=n.trim().split("=");return e[r]=o,e}),{});return null!==(r=o[e])&&void 0!==r?r:null}static getLocalStorage(e){return localStorage.getItem(e)}static getDevelopmentSetting(e){var n;const r=CoreBrowser.getDevelopmentSettingKey(e);return null!==(n=CoreBrowser.getCookie(r))&&void 0!==n?n:CoreBrowser.getLocalStorage(r)}static setDevelopmentSetting(e,n){const r=CoreBrowser.getDevelopmentSettingKey(e);document.cookie=`${r}=${n};path=/`,localStorage.setItem(r,n)}static clearDevelopmentSetting(e){const n=CoreBrowser.getDevelopmentSettingKey(e);document.cookie=`${n}=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT`,localStorage.removeItem(n)}static getDevelopmentSettingKey(e){return`MoodleApp${e}`}}},55351:(e,n,r)=>{"use strict";r.d(n,{$:()=>o,a:()=>i});var o=function(e){return e.PRIMARY="primary",e.SECONDARY="secondary",e.SUCCESS="success",e.WARNING="warning",e.DANGER="danger",e.INFO="info",e.DARK="dark",e.MEDIUM="medium",e.LIGHT="light",e.NONE="",e}(o||{});let i=(()=>{class CoreColors{constructor(){}static isValid(e){return CoreColors.getColorRGBA(e).length>=3}static isWhiteContrastingBetter(e){return CoreColors.luma(e)<165}static darker(e,n=48){const r=1-n/100,o=CoreColors.getColorRGBA(e);if(o.length<3)return e;const i=Math.floor(o[0]*r),s=Math.floor(o[1]*r),a=Math.floor(o[2]*r);return CoreColors.getColorHex(void 0!==o[3]?`rgba(${i}, ${s}, ${a}, ${o[3]})`:`rgb(${i}, ${s}, ${a})`)}static lighter(e,n=80){const r=1-(n/=100),o=CoreColors.getColorRGBA(e);if(o.length<3)return e;const i=Math.floor(255*n+o[0]*r),s=Math.floor(255*n+o[1]*r),a=Math.floor(255*n+o[2]*r);return CoreColors.getColorHex(void 0!==o[3]?`rgba(${i}, ${s}, ${a}, ${o[3]})`:`rgb(${i}, ${s}, ${a})`)}static getColorHex(e){const n=CoreColors.getColorRGBA(e);if(n.length<3)return"";let r=[0,1,2].map((e=>CoreColors.componentToHex(n[e]))).join("");return n.length>3&&(r+=CoreColors.componentToHex(Math.round(255*n[3]))),`#${r}`}static getColorRGBA(e){if(!e.match(/rgba?\(.*\)/)){const n=e,r=document.createElement("span");if(r.style.backgroundColor=e,document.body.appendChild(r),e=getComputedStyle(r).backgroundColor,document.body.removeChild(r),!e.match(/rgba?\(.*\)/)||"rgba(0, 0, 0, 0)"===e&&!CoreColors.BLACK_TRANSPARENT_COLORS.includes(n))return[]}const n=e.match(/\d+(\.\d+)?|\.\d+/g)||[];return n.length<3?[]:n.map(((e,n)=>n<3?parseInt(e,10):parseFloat(e)))}static luma(e){const n=CoreColors.getColorRGBA(e);return n.length<3?0:.2126*n[0]+.7152*n[1]+.0722*n[2]}static hexToRGB(e){var n,r,o;const i=CoreColors.getColorRGBA(e);return{red:null!==(n=i[0])&&void 0!==n?n:0,green:null!==(r=i[1])&&void 0!==r?r:0,blue:null!==(o=i[2])&&void 0!==o?o:0}}static componentToHex(e){return`0${e.toString(16)}`.slice(-2)}static getToolbarBackgroundColor(){const e=document.querySelector("ion-header ion-toolbar");let n;return n=e?getComputedStyle(e).getPropertyValue("--background").trim():getComputedStyle(document.body).getPropertyValue("--core-header-toolbar-background").trim(),CoreColors.getColorHex(n)}static getBottomPageBackgroundColor(){const e=document.querySelector("ion-tabs.placement-bottom:not(.tabshidden) ion-tab-bar.mainmenu-tabs");let n;return n=e?getComputedStyle(e).getPropertyValue("--background").trim():getComputedStyle(document.body).getPropertyValue("--ion-background-color").trim(),CoreColors.getColorHex(n)}}return CoreColors.BLACK_TRANSPARENT_COLORS=["rgba(0, 0, 0, 0)","transparent","#00000000","#0000","hsl(0, 0%, 0%, 0)"],CoreColors})()},85505:(e,n,r)=>{"use strict";r.d(n,{A:()=>CoreCountries});var o=r(10467),i=r(72881),s=r(79555);class CoreCountries{constructor(){}static getCountryName(e){const n=`assets.countries.${e}`,r=s.HT.instant(n);return r!==n?r:e}static getCountryList(){return(0,o.A)((function*(){const e=yield CoreCountries.getCountryKeysList(),n={};return e.forEach((e=>{if(0===e.indexOf("assets.countries.")){const r=e.replace("assets.countries.","");n[r]=s.HT.instant(e)}})),n}))()}static getCountryListSorted(){return(0,o.A)((function*(){const e=yield CoreCountries.getCountryList();return Object.keys(e).sort(((n,r)=>e[n].localeCompare(e[r]))).map((n=>({code:n,name:e[n]})))}))()}static getCountryKeysList(){return(0,o.A)((function*(){const e=i.CoreLang.getDefaultLanguage();try{return yield CoreCountries.getCountryKeysListForLanguage(e)}catch{const n=i.CoreLang.getFallbackLanguage();if(n===e)throw new Error("Countries not found.");return CoreCountries.getCountryKeysListForLanguage(n)}}))()}static getCountryKeysListForLanguage(e){return(0,o.A)((function*(){const n=yield i.CoreLang.getTranslationTable(e),r=[];for(const e in n)0===e.indexOf("assets.countries.")&&r.push(e);if(0===r.length)throw new Error("Countries not found.");return r}))()}}},62393:(e,n,r)=>{"use strict";r.d(n,{D:()=>CoreDirectivesRegistry});var o,i=r(10467),s=r(53794),a=r(6787);class CoreDirectivesRegistry{static register(e,n){var r;const o=null!==(r=CoreDirectivesRegistry.instances.get(e))&&void 0!==r?r:[];o.push(n),CoreDirectivesRegistry.instances.set(e,o)}static resolve(e,n){var r,o;return null!==(o=(null!==(r=e&&CoreDirectivesRegistry.instances.get(e))&&void 0!==r?r:[]).find((e=>!n||e instanceof n)))&&void 0!==o?o:null}static resolveAll(e,n){var r,o;return null!==(o=(null!==(r=e&&CoreDirectivesRegistry.instances.get(e))&&void 0!==r?r:[]).filter((e=>!n||e instanceof n)))&&void 0!==o?o:[]}static require(e,n){const r=CoreDirectivesRegistry.resolve(e,n);if(!r)throw new Error("Couldn't resolve directive instance");return r}static waitDirectiveReady(e,n){return(0,i.A)((function*(){const r=CoreDirectivesRegistry.resolve(e,n);if(!r)return CoreDirectivesRegistry.logger.error(`No instance registered for element ${n}`,e),void 0;yield r.ready()}))()}static waitDirectivesReady(e,n,r){return(0,i.A)((function*(){const findElements=()=>!n||e.matches(n)?[e]:Array.from(e.querySelectorAll(n)),o=findElements();o.length&&(yield Promise.all(o.map(function(){var e=(0,i.A)((function*(e){const n=CoreDirectivesRegistry.resolveAll(e,r);yield Promise.all(n.map((e=>e.ready())))}));return function(n){return e.apply(this,arguments)}}())),yield s.H.nextTick(),o.length!==findElements().length&&(yield CoreDirectivesRegistry.waitDirectivesReady(e,n,r)))}))()}static waitMultipleDirectivesReady(e,n){return(0,i.A)((function*(){const findElements=n=>!n||e.matches(n)?[e]:Array.from(e.querySelectorAll(n));let r=[];yield Promise.all(n.map(function(){var e=(0,i.A)((function*(e){const n=findElements(e.selector);n.length&&(r=r.concat(n),yield Promise.all(n.map(function(){var n=(0,i.A)((function*(n){const r=CoreDirectivesRegistry.resolveAll(n,e.class);yield Promise.all(r.map((e=>e.ready())))}));return function(e){return n.apply(this,arguments)}}())))}));return function(n){return e.apply(this,arguments)}}())),yield s.H.nextTick();const o=n.reduce(((e,n)=>e=e.concat(findElements(n.selector))),[]);r.length!==o.length&&(yield CoreDirectivesRegistry.waitMultipleDirectivesReady(e,n))}))()}}(o=CoreDirectivesRegistry).instances=new WeakMap,o.logger=a.CoreLogger.getInstance("CoreDirectivesRegistry")},82907:(e,n,r)=>{"use strict";r.d(n,{r:()=>C,y:()=>v});var o=r(10467),i=r(18725),s=r(81690),a=r(18022),c=r(53794),u=r(35161),p=r(44426),f=r(75629),g=r(8014);let v=(()=>{var e;class CoreDom{constructor(){}static closest(e,n){return e?e instanceof ShadowRoot?CoreDom.closest(e.host,n):e instanceof HTMLElement&&e.matches(n)?e:CoreDom.closest(e.parentNode,n):null}static elementHasContent(e){var n;return(null!==(n=e.textContent)&&void 0!==n?n:"").trim().replace(/(\r\n|\n|\r)/g,"").length>0||e.querySelectorAll("img, audio, video, object, iframe, canvas, svg, input, select, textarea, frame, embed").length>0}static getHTMLBodyContent(e){const n=(new DOMParser).parseFromString(e,"text/html").body.innerHTML;return null!=n?n:e}static getRelativeElementPosition(e,n){const r=e.getBoundingClientRect(),o=n.getBoundingClientRect();return{x:r.x-o.x,y:r.y-o.y}}static htmlIsBlank(e){if(!e)return!0;const n=(0,u.B)(e);return!CoreDom.elementHasContent(n)}static isElementInDom(e){return e.getRootNode({composed:!0})===document}static isElementInViewport(e,n=1,r=null){var o,i,s,a;const c=e.getBoundingClientRect(),u=null==r?void 0:r.getBoundingClientRect(),p=c.width*c.height;if(0==p)return!1;const f=Math.max(null!==(o=null==u?void 0:u.top)&&void 0!==o?o:0,c.top),g=Math.max(null!==(i=null==u?void 0:u.left)&&void 0!==i?i:0,c.left),v=Math.min(null!==(s=null==u?void 0:u.bottom)&&void 0!==s?s:window.innerHeight,c.bottom);return(Math.min(null!==(a=null==u?void 0:u.right)&&void 0!==a?a:window.innerWidth,c.right)-g)*(v-f)/p>=n}static isElementVisible(e,n=!0){if(n){const n=e.getBoundingClientRect();if(0===n.width||0===n.height)return!1}const r=getComputedStyle(e);return"0"!==r.opacity&&"none"!==r.display&&"hidden"!==r.visibility&&CoreDom.isElementInDom(e)}static onElementSlot(e,n){var r;if(!e.slot)return;const o=e.slot;if((null===(r=e.assignedSlot)||void 0===r?void 0:r.name)===o)return n(),void 0;const i=e.closest("ion-content");if(!i||!i.shadowRoot)return;const s=i.shadowRoot.querySelectorAll("slot"),a=Array.from(s).find((e=>e.name===o));if(!a)return;const slotListener=()=>{var r;(null===(r=e.assignedSlot)||void 0===r?void 0:r.name)===o&&(n(),a.removeEventListener("slotchange",slotListener))};a.addEventListener("slotchange",slotListener)}static onWindowResize(e,n=20){const r=s.j.debounce(function(){var n=(0,o.A)((function*(n){yield c.H.waitForResizeDone(),e(n)}));return function(e){return n.apply(this,arguments)}}(),n);return window.addEventListener("resize",r),{off:()=>{window.removeEventListener("resize",r)}}}static scrollToElement(e,n,r={}){return(0,o.A)((function*(){var o;if(n){const r=yield CoreDom.waitToBeInsideElement(e,n);if(!r)return!1;e=r}yield CoreDom.waitToBeVisible(e,!1);const i=null!==(o=e.closest("ion-content"))&&void 0!==o?o:void 0;if(!i)return!1;try{var s,a,c;const n=CoreDom.getRelativeElementPosition(e,i),o=yield i.getScrollElement();return r.duration=null!==(s=r.duration)&&void 0!==s?s:200,r.addXAxis=null!==(a=r.addXAxis)&&void 0!==a?a:0,r.addYAxis=null!==(c=r.addYAxis)&&void 0!==c?c:0,yield i.scrollToPoint(n.x+o.scrollLeft+r.addXAxis,n.y+o.scrollTop+r.addYAxis,r.duration),!0}catch{return!1}}))()}static scrollToInputError(e){return(0,o.A)((function*(){return CoreDom.scrollToElement(e,".core-input-error")}))()}static scrollIsBottom(e,n=0){return!e||e.scrollTop+e.clientHeight>=e.scrollHeight-n}static slotOnContent(e,n="fixed"){var r;if(e.setAttribute("slot",n),"ION-CONTENT"===(null===(r=e.parentElement)||void 0===r?void 0:r.nodeName))return i.f.resolve();const s=CoreDom.waitToBeInDOM(e);return new i.f(function(){var n=(0,o.A)((function*(n){var r,o;(yield s,"ION-CONTENT"!==(null===(r=e.parentElement)||void 0===r?void 0:r.nodeName))&&(null===(o=e.closest("ion-content"))||void 0===o||o.appendChild(e));n()}));return function(e){return n.apply(this,arguments)}}(),(()=>{s.cancel()}))}static waitToBeInDOM(e){if(e.getRootNode({composed:!0})===document)return i.f.resolve();let n;return new i.f((r=>{n=new MutationObserver((()=>{var o;e.getRootNode({composed:!0})===document&&(null===(o=n)||void 0===o||o.disconnect(),r())})),n.observe(document.body,{subtree:!0,childList:!0})}),(()=>{var e;null===(e=n)||void 0===e||e.disconnect()}))}static waitToBeInsideElement(e,n){return(0,o.A)((function*(){yield CoreDom.waitToBeInDOM(e);let r,o=e.querySelector(n);return o?i.f.resolve(o):new i.f((i=>{r=new MutationObserver((()=>{var s;o=e.querySelector(n),o&&(null===(s=r)||void 0===s||s.disconnect(),i(o))})),r.observe(e,{subtree:!0,childList:!0})}),(()=>{var e;null===(e=r)||void 0===e||e.disconnect()}))}))()}static watchElementInViewport(e,n,r){const o=null!=r?r:n,i="number"==typeof n?n:1;let s=CoreDom.isElementInViewport(e,i);const setVisible=e=>{s!==e&&(s=e,o(s))};if(!("IntersectionObserver"in window)){const n=setInterval((()=>setVisible(CoreDom.isElementInViewport(e,i))),50);return()=>clearInterval(n)}const a=new IntersectionObserver((([{isIntersecting:e,intersectionRatio:n}])=>{setVisible(e&&n>=n)}));return a.observe(e),()=>a.disconnect()}static waitToBeInViewport(e,n=1){let r;const s=CoreDom.waitToBeVisible(e);return new i.f(function(){var i=(0,o.A)((function*(o){if(yield s,CoreDom.isElementInViewport(e,n))return o();r=CoreDom.watchElementInViewport(e,n,(e=>{var n;e&&(o(),null===(n=r)||void 0===n||n())}))}));return function(e){return i.apply(this,arguments)}}(),(()=>{var e;s.cancel(),null===(e=r)||void 0===e||e()}))}static waitToBeVisible(e,n=!0){const r=CoreDom.waitToBeInDOM(e);let s;return new i.f(function(){var i=(0,o.A)((function*(o){if(yield r,CoreDom.isElementVisible(e,n))return o();s=window.setInterval((()=>{CoreDom.isElementVisible(e,n)&&(o(),window.clearInterval(s))}),50)}));return function(e){return i.apply(this,arguments)}}(),(()=>{r.cancel(),window.clearInterval(s)}))}static initializeClickableElementA11y(e,n,r=!0){const enabled=()=>{var n;return!s.j.isTrueOrOne(null!==(n=e.dataset.disabledA11yClicks)&&void 0!==n?n:"false")};e.addEventListener("click",(e=>{enabled()&&(n(e),e.preventDefault(),e.stopPropagation())})),e.addEventListener("keydown",(e=>{enabled()&&(" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation()))})),e.addEventListener("keyup",(e=>{enabled()&&(" "!==e.key&&"Enter"!==e.key||(n(e),e.preventDefault(),e.stopPropagation()))})),r&&"BUTTON"!==e.tagName&&"A"!==e.tagName&&(null===e.getAttribute("tabindex")&&e.setAttribute("tabindex",e.disabled?"-1":"0"),e.getAttribute("role")||e.setAttribute("role","button"),e.classList.add("clickable"))}static getCSSPropertyValue(e,n){const r=e.getPropertyValue(n);if("font-size"===n){if(null===CoreDom.fontSizeZoom){const e=20,n=document.createElement("span");n.style.opacity="0",n.style.fontSize=`${e}px`,document.body.append(n),CoreDom.fontSizeZoom=e/Number(getComputedStyle(n).fontSize.slice(0,-2)),n.remove()}if(1!==CoreDom.fontSizeZoom)return`calc(${CoreDom.fontSizeZoom} * ${r})`}return r}static replaceTags(e,n,r){return"string"==typeof n&&(n=[n]),"string"==typeof r&&(r=[r]),n.length!==r.length||n.forEach(((n,o)=>{const i=r[o];Array.from(e.getElementsByTagName(n)).forEach((e=>{var n;const r=document.createElement(i);if(r.innerHTML=e.innerHTML,e.hasAttributes()){Array.from(e.attributes).forEach((e=>{r.setAttribute(e.name,e.value)}))}null===(n=e.parentNode)||void 0===n||n.replaceChild(r,e)}))})),e}static extractUrlsFromCSS(e){const n=[],r=e.match(/url\(\s*["']?(?!data:)([^)]+)\)/gim);return r?(r.forEach((e=>{const r=e.match(/url\(\s*['"]?([^'"]*)['"]?\s*\)/im);null!=r&&r[1]&&n.push(r[1])})),n):n}static prefixCSS(e,n,r){if(!e)return"";if(!n)return e;if(a.CorePlatform.supportsCSSNesting())return`${r=null!=r?r:n} { ${e} }`;let o=/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/gm;return e=e.replace(o,""),o=/([^]*?)({[^]*?}|,)/g,e.replace(o,`${n} $1 $2`)}static formatSizeUnits(e){if("string"==typeof e){if(e=e.replace(/ /g,""),CoreDom.hasValidSizeUnits(e)||"auto"===e||"initial"===e||"inherit"===e)return e;e=parseInt(e,10)}return isNaN(e)?"":`${e}px`}static hasValidSizeUnits(e){const n=e.match(`^[0-9]*\\.?[0-9]+(${["px","%","em","rem","cm","mm","in","pt","pc","ex","ch","vw","vh","vmin","vmax"].join("|")})$`);return!!n&&n.length>1}static findIonHeaderFromElement(e){return(0,o.A)((function*(){yield CoreDom.waitToBeInDOM(e);let n=e;for(;n&&n.parentElement;){var r,o;const e=n.closest("ion-content");e&&(yield e.componentOnReady()),n=n.parentElement.closest(".ion-page, .ion-page-hidden, .ion-page-invisible");let i=null===(r=n)||void 0===r?void 0:r.querySelector(":scope > ion-header");if(i&&"none"!==getComputedStyle(i).display)return i;if(i=null==e||null===(o=e.parentElement)||void 0===o?void 0:o.querySelector(":scope > ion-header"),i&&"none"!==getComputedStyle(i).display)return i}throw Error("Header not found.")}))()}static fixHtml(e){const n=document.createElement("template");n.innerHTML=e;const r=/[^\x00-\x20\x7F-\x9F"'>/=]+/,fixElement=e=>{Array.from(e.attributes).forEach((n=>{r.test(n.name)||e.removeAttributeNode(n)})),Array.from(e.children).forEach(fixElement)};return Array.from(n.content.children).forEach(fixElement),n.innerHTML}static getContentsOfElement(e,n){const r=e.querySelector(n);if(r)return r.innerHTML}static getHTMLElementAttribute(e,n){return(0,u.B)(e).children[0].getAttribute(n)}static getComputedStyleMeasure(e,n){return parseInt(String(e[n]),10)||0}static moveChildren(e,n,r){const o=[],i=r?n.firstChild:null;for(;e.childNodes.length>0;){const r=e.childNodes[0];o.push(r),n.insertBefore(r,i)}return o}static removeElement(e,n){const r=e.querySelector(n);r&&r.remove()}static removeElementFromHtml(e,n,r){const o=(0,u.B)(e);if(r){const e=o.querySelectorAll(n);for(let n=0;n<e.length;n++)e[n].remove()}else{const e=o.querySelector(n);e&&e.remove()}return o.innerHTML}static wrapElement(e,n){var r;null===(r=e.parentNode)||void 0===r||r.insertBefore(n,e),n.appendChild(e)}static toDom(e){return(0,u.B)(e).children}static supportsInputKeyboard(e){const n=e;if(!n)return!1;const r=n.tagName.toLowerCase();return!n.disabled&&("textarea"===r||"input"===r&&CoreDom.INPUT_SUPPORT_KEYBOARD.includes(n.type))}static focusElement(e){return(0,o.A)((function*(){let n=e;if(n.classList.contains("ion-focusable")){const e=n.closest("ion-app");if(e&&e.setFocus([n]),document.activeElement===n)return}const r="ION-BUTTON"===e.tagName;if("getInputElement"in n)n.componentOnReady&&(yield n.componentOnReady()),n=yield n.getInputElement();else if(r){var o,i;"componentOnReady"in n&&(yield n.componentOnReady()),n=null!==(o=null===(i=n.shadowRoot)||void 0===i?void 0:i.querySelector(".button-native"))&&void 0!==o?o:n}if(!n||!n.focus)throw new f.CoreError("Element to focus cannot be focused");let s=10;for(;s>0&&n!==document.activeElement;){if(n.focus(),n===document.activeElement||r&&e===document.activeElement){yield c.H.nextTick(),a.CorePlatform.isAndroid()&&CoreDom.supportsInputKeyboard(n)&&p.p.open();break}yield c.H.wait(50),s--}}))()}static getContentHeight(e){return(0,o.A)((function*(){try{return(yield e.getScrollElement()).clientHeight||0}catch{return 0}}))()}static getScrollHeight(e){return(0,o.A)((function*(){try{return(yield e.getScrollElement()).scrollHeight||0}catch{return 0}}))()}static getScrollTop(e){return(0,o.A)((function*(){try{return(yield e.getScrollElement()).scrollTop||0}catch{return 0}}))()}static replaceClassesInElement(e,n){for(const r in n){const o=e.querySelectorAll(`.${r}`);for(let e=0;e<o.length;e++){const i=o[e];i.className=i.className.replace(r,n[r])}}}static restoreSourcesInHtml(e,n,r){const o=(0,u.B)(e);Array.from(o.querySelectorAll("img, video, audio, source, track, iframe, embed")).forEach((e=>{const r=e.getAttribute("src"),o=r?n[g.F.removeUrlParts(g.F.decodeURIComponent(r),["query","fragment"])]:void 0;void 0!==o&&e.setAttribute("src",o);const i=e.getAttribute("poster");if("VIDEO"===e.tagName&&i){const r=n[g.F.decodeURIComponent(i)];void 0!==r&&e.setAttribute("poster",r)}}));return Array.from(o.querySelectorAll("a")).forEach((e=>{const o=e.getAttribute("href"),i=o?n[g.F.removeUrlParts(g.F.decodeURIComponent(o),["query","fragment"])]:void 0;void 0!==i&&(e.setAttribute("href",i),"function"==typeof r&&r(e,i))})),o.innerHTML}static isElementOutsideOfScreen(e,n,r=C.MID){const o=n.getBoundingClientRect();if(!o)return!1;let i;switch(r){case C.TOP:i=o.top;break;case C.BOTTOM:i=o.bottom;break;case C.MID:i=Math.round((o.bottom+o.top)/2)}const s=e.getBoundingClientRect();return i>window.innerHeight||i<((null==s?void 0:s.top)||0)}}return(e=CoreDom).INPUT_SUPPORT_KEYBOARD=["date","datetime","datetime-local","email","month","number","password","search","tel","text","time","url","week"],e.fontSizeZoom=null,CoreDom})();var C=function(e){return e.TOP="top",e.MID="mid",e.BOTTOM="bottom",e}(C||{})},1453:(e,n,r)=>{"use strict";r.d(n,{F:()=>o});let o=(()=>{class CoreErrorLogs{constructor(){}static getErrorLogs(){return CoreErrorLogs.errorLogs}static addErrorLog(e){CoreErrorLogs.errorLogs.push(e)}}return CoreErrorLogs.errorLogs=[],CoreErrorLogs})()},49882:(e,n,r)=>{"use strict";r.d(n,{o:()=>c,z:()=>CoreEvents});var o,i=r(21413),s=r(6787),a=r(86123);class CoreEvents{constructor(){}static on(e,n,r){if(CoreEvents.uniqueEvents[e])return n(CoreEvents.uniqueEvents[e].data),{off:()=>{}};CoreEvents.logger.debug(`New observer listening to event '${e}'`),void 0===CoreEvents.observables[e]&&(CoreEvents.observables[e]=new i.B);const o=CoreEvents.observables[e].subscribe((e=>{r&&e.siteId!=r||n(e)}));return{off:()=>{CoreEvents.logger.debug(`Stop listening to event '${e}'`),o.unsubscribe()}}}static once(e,n,r){const o=CoreEvents.on(e,(e=>{o.off(),n(e)}),r);return o}static onMultiple(e,n,r){const o=e.map((e=>CoreEvents.on(e,n,r)));return{off:()=>{o.forEach((e=>{e.off()}))}}}static trigger(e,n,r){CoreEvents.logger.debug(`Event '${e}' triggered.`),CoreEvents.observables[e]&&(r&&Object.assign(n||{},{siteId:r}),CoreEvents.observables[e].next(n||{}))}static triggerUnique(e,n,r){CoreEvents.uniqueEvents[e]?CoreEvents.logger.debug(`Unique event '${e}' ignored because it was already triggered.`):(CoreEvents.logger.debug(`Unique event '${e}' triggered.`),r&&Object.assign(n||{},{siteId:r}),CoreEvents.uniqueEvents[e]={data:n},CoreEvents.observables[e]&&CoreEvents.observables[e].next(n))}static waitUntil(e){return new Promise((n=>CoreEvents.once(e,(()=>n()))))}}(o=CoreEvents).SESSION_EXPIRED="session_expired",o.PASSWORD_CHANGE_FORCED="password_change_forced",o.USER_NOT_FULLY_SETUP="user_not_fully_setup",o.SITE_POLICY_AGREED="site_policy_agreed",o.SITE_POLICY_NOT_AGREED="site_policy_not_agreed",o.LOGIN="login",o.LOGOUT="logout",o.LANGUAGE_CHANGED="language_changed",o.NOTIFICATION_SOUND_CHANGED="notification_sound_changed",o.SITE_ADDED="site_added",o.SITE_UPDATED="site_updated",o.SITE_DELETED="site_deleted",o.COMPLETION_MODULE_VIEWED="completion_module_viewed",o.MANUAL_COMPLETION_CHANGED="manual_completion_changed",o.USER_DELETED="user_deleted",o.USER_SUSPENDED="user_suspended",o.USER_NO_LOGIN="user_no_login",o.PACKAGE_STATUS_CHANGED="package_status_changed",o.COURSE_STATUS_CHANGED=a.COURSE_STATUS_CHANGED_EVENT,o.SECTION_STATUS_CHANGED="section_status_changed",o.COMPONENT_FILE_ACTION="component_file_action",o.SITE_PLUGINS_LOADED="site_plugins_loaded",o.SITE_PLUGINS_COURSE_RESTRICT_UPDATED="site_plugins_course_restrict_updated",o.LOGIN_SITE_CHECKED="login_site_checked",o.LOGIN_SITE_UNCHECKED="login_site_unchecked",o.IAB_LOAD_START="inappbrowser_load_start",o.IAB_LOAD_STOP="inappbrowser_load_stop",o.IAB_EXIT="inappbrowser_exit",o.IAB_MESSAGE="inappbrowser_message",o.APP_LAUNCHED_URL="app_launched_url",o.FILE_SHARED="file_shared",o.KEYBOARD_CHANGE="keyboard_change",o.ORIENTATION_CHANGE="orientation_change",o.SEND_ON_ENTER_CHANGED="send_on_enter_changed",o.SELECT_COURSE_TAB="select_course_tab",o.WS_CACHE_INVALIDATED="ws_cache_invalidated",o.SITE_STORAGE_DELETED="site_storage_deleted",o.FORM_ACTION="form_action",o.ACTIVITY_DATA_SENT="activity_data_sent",o.DEVICE_REGISTERED_IN_MOODLE="device_registered_in_moodle",o.COURSE_MODULE_VIEWED="course_module_viewed",o.COMPLETE_REQUIRED_PROFILE_DATA_FINISHED="complete_required_profile_data_finished",o.MAIN_HOME_LOADED="main_home_loaded",o.FULL_SCREEN_CHANGED="full_screen_changed",o.logger=s.CoreLogger.getInstance("CoreEvents"),o.observables={},o.uniqueEvents={};var c=function(e){return e.CANCEL="cancel",e.SUBMIT="submit",e}(c||{})},87809:(e,n,r)=>{"use strict";r.d(n,{H:()=>CoreFileUtils});var o=r(79555);class CoreFileUtils{constructor(){}static isFileEntry(e){return"isFile"in e}static valueIsFileEntry(e){return!!(e&&"object"==typeof e&&"isFile"in e&&"filesystem"in e&&"toInternalURL"in e&&"copyTo"in e)}static hasRepeatedFilenames(e){if(!e||!e.length)return!1;const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=(CoreFileUtils.isFileEntry(i)?i.name:i.filename)||"";if(n.indexOf(s)>-1)return o.HT.instant("core.filenameexist",{$a:s});n.push(s)}return!1}static getFileAndDirectoryFromPath(e){const n={directory:"",name:""};return n.directory=e.substring(0,e.lastIndexOf("/")),n.name=e.substring(e.lastIndexOf("/")+1),n}}},63153:(e,n,r)=>{"use strict";r.d(n,{R:()=>i});var o=r(49882);let i=(()=>{class CoreForms{constructor(){}static getDataFromForm(e){if(!e||!e.elements)return{};const n={};for(let r=0;r<e.elements.length;r++){const o=e.elements[r],i=o.name||"";i&&"submit"!==o.type&&"BUTTON"!==o.tagName&&("checkbox"===o.type?n[i]=!!o.checked:"radio"===o.type?o.checked&&(n[i]=o.value):n[i]=o.value)}return n}static triggerFormCancelledEvent(e,n){e&&o.z.trigger(o.z.FORM_ACTION,{action:o.o.CANCEL,form:e.nativeElement||e},n)}static triggerFormSubmittedEvent(e,n,r){e&&o.z.trigger(o.z.FORM_ACTION,{action:o.o.SUBMIT,form:e.nativeElement||e,online:!!n},r)}static uniqueId(e){var n;const r=null!==(n=CoreForms.formIds[e])&&void 0!==n?n:0;return`${e}-${CoreForms.formIds[e]=r+1}`}}return CoreForms.formIds={},CoreForms})()},19483:(e,n,r)=>{"use strict";r.d(n,{n:()=>u});var o=r(10467),i=r(52749),s=r(8014),a=r(74431),c=r(82907);let u=(()=>{var e;class CoreHTMLClasses{constructor(){}static initialize(){CoreHTMLClasses.toggleModeClass("ionic8",!0),CoreHTMLClasses.toggleModeClass("development",a.CoreConstants.BUILD.isDevelopment),CoreHTMLClasses.addVersionClass(CoreHTMLClasses.MOODLEAPP_VERSION_PREFIX,a.CoreConstants.CONFIG.versionname);window.addEventListener("ionScroll",function(){var e=(0,o.A)((function*({detail:e,target:n}){var r;if("ION-CONTENT"!=n.tagName)return;const o=n,i=o.closest(".ion-page");if(!i)return;null===(r=i.querySelector("ion-header"))||void 0===r||r.classList.toggle("core-header-shadow",e.scrollTop>0);const s=yield o.getScrollElement();o.classList.toggle("core-footer-shadow",!c.y.scrollIsBottom(s))}));return function(n){return e.apply(this,arguments)}}())}static addVersionClass(e,n){const r=n.split(".",3);r[1]=r[1]||"0",r[2]=r[2]||"0",CoreHTMLClasses.toggleModeClass(e+r[0],!0),CoreHTMLClasses.toggleModeClass(`${e+r[0]}-${r[1]}`,!0),CoreHTMLClasses.toggleModeClass(`${e+r[0]}-${r[1]}-${r[2]}`,!0)}static removeModeClasses(e){for(const n of CoreHTMLClasses.getModeClasses())e.some((e=>n.startsWith(e)))&&CoreHTMLClasses.toggleModeClass(n,!1)}static addSiteClasses(e){CoreHTMLClasses.removeSiteClasses(),CoreHTMLClasses.addVersionClass(CoreHTMLClasses.MOODLE_VERSION_PREFIX,i.CoreSites.getReleaseNumber(e.release||"")),CoreHTMLClasses.addSiteUrlClass(e.siteurl),e.theme&&CoreHTMLClasses.toggleModeClass(CoreHTMLClasses.MOODLE_SITE_THEME_PREFIX+e.theme,!0)}static removeSiteClasses(){CoreHTMLClasses.removeModeClasses([CoreHTMLClasses.MOODLE_VERSION_PREFIX,CoreHTMLClasses.MOODLE_SITE_URL_PREFIX,CoreHTMLClasses.MOODLE_SITE_THEME_PREFIX])}static urlToClassName(e){var n;const r=s.F.parse(e);if(!r)return"";let o=(null===(n=r.domain)||void 0===n?void 0:n.replace(/\./g,"-"))||"";if(r.port&&(o+=`--${r.port}`),r.path){const e=new RegExp("^/+"),n=new RegExp("/+$"),i=r.path.replace(e,"").replace(n,"");i&&(o+=`--${i.replace(/\//g,"-")}`||"")}return o}static addSiteUrlClass(e){const n=CoreHTMLClasses.urlToClassName(e);CoreHTMLClasses.toggleModeClass(CoreHTMLClasses.MOODLE_SITE_URL_PREFIX+n,!0)}static hasModeClass(e){return document.documentElement.classList.contains(e)}static getModeClasses(){return Array.from(document.documentElement.classList)}static toggleModeClass(e,n=!1){document.documentElement.classList.toggle(e,n)}}return(e=CoreHTMLClasses).MOODLE_SITE_URL_PREFIX="url-",e.MOODLE_VERSION_PREFIX="version-",e.MOODLEAPP_VERSION_PREFIX="moodleapp-",e.MOODLE_SITE_THEME_PREFIX="theme-site-",CoreHTMLClasses})()},44460:(e,n,r)=>{"use strict";r.d(n,{O:()=>CoreIcons});var o=r(10467),i=r(74431),s=r(6787);const a=JSON.parse('{"ad":"rectangle-ad","add":"plus","address-book-o":"address-book","address-card-o":"address-card","adjust":"circle-half-stroke","air-freshener":"spray-can-sparkles","allergies":"hand-dots","ambulance":"truck-medical","american-sign-language-interpreting":"hands-asl-interpreting","angle-double-down":"angles-down","angle-double-left":"angles-left","angle-double-right":"angles-right","angle-double-up":"angles-up","angry":"face-angry","apple-alt":"apple-whole","archive":"box-archive","area-chart":"chart-area","arrow-alt-circle-down":"circle-down","arrow-alt-circle-left":"circle-left","arrow-alt-circle-right":"circle-right","arrow-alt-circle-up":"circle-up","arrow-circle-down":"circle-arrow-down","arrow-circle-left":"circle-arrow-left","arrow-circle-right":"circle-arrow-right","arrow-circle-up":"circle-arrow-up","arrow-left-rotate":"arrow-rotate-left","arrow-right-from-file":"file-export","arrow-right-rotate":"arrow-rotate-right","arrow-right-to-file":"file-import","arrow-rotate-back":"arrow-rotate-left","arrow-rotate-backward":"arrow-rotate-left","arrow-rotate-forward":"arrow-rotate-right","arrow-turn-right":"share","arrows":"arrows-up-down-left-right","arrows-alt":"up-down-left-right","arrows-alt-h":"left-right","arrows-alt-v":"up-down","arrows-h":"arrows-left-right","arrows-v":"arrows-up-down","asl-interpreting":"hands-asl-interpreting","assistive-listening-systems":"ear-listen","atlas":"book-atlas","automobile":"car","backspace":"delete-left","balance-scale":"scale-balanced","balance-scale-left":"scale-unbalanced","balance-scale-right":"scale-unbalanced-flip","band-aid":"bandage","bank":"building-columns","bar-chart":"chart-bar","bar-chart-o":"chart-column","baseball-ball":"baseball","basketball-ball":"basketball","bathtub":"bath","battery":"battery-full","battery-0":"battery-empty","battery-2":"battery-quarter","battery-3":"battery-half","battery-4":"battery-three-quarters","battery-5":"battery-full","battery-car":"car-battery","beer":"beer-mug-empty","bell-o":"bell","bell-slash-o":"bell-slash","bible":"book-bible","biking":"person-biking","birthday-cake":"cake-candles","blackboard":"chalkboard","blind":"person-walking-with-cane","book-dead":"book-skull","book-reader":"book-open-reader","bookmark-o":"bookmark","border-style":"border-top-left","boxes":"boxes-stacked","boxes-alt":"boxes-stacked","briefcase-clock":"business-time","broadcast-tower":"tower-broadcast","building-o":"building","burn":"fire-flame-simple","bus-alt":"bus-simple","cab":"taxi","cake":"cake-candles","calendar-alt":"calendar-days","calendar-check-o":"calendar-check","calendar-minus-o":"calendar-minus","calendar-o":"calendar","calendar-plus-o":"calendar-plus","calendar-times":"calendar-xmark","calendar-times-o":"calendar-xmark","camera-alt":"camera","cancel":"ban","car-alt":"car-rear","car-crash":"car-burst","caret-square-down":"square-caret-down","caret-square-left":"square-caret-left","caret-square-right":"square-caret-right","caret-square-up":"square-caret-up","carriage-baby":"baby-carriage","chain":"link","chain-broken":"link-slash","chain-slash":"link-slash","chalkboard-teacher":"chalkboard-user","check-circle":"circle-check","check-circle-o":"circle-check","check-square":"square-check","check-square-o":"square-check","chevron-circle-down":"circle-chevron-down","chevron-circle-left":"circle-chevron-left","chevron-circle-right":"circle-chevron-right","chevron-circle-up":"circle-chevron-up","child-rifle":"child-combatant","circle-o":"circle","clinic-medical":"house-chimney-medical","clock-four":"clock","clock-o":"clock","close":"xmark","cloud-download":"cloud-arrow-down","cloud-download-alt":"cloud-arrow-down","cloud-upload":"cloud-arrow-up","cloud-upload-alt":"cloud-arrow-up","cny":"yen-sign","cocktail":"martini-glass-citrus","coffee":"mug-saucer","cog":"gear","cogs":"gears","columns":"table-columns","comment-alt":"message","comment-o":"comment","commenting":"comment-dots","commenting-o":"comment-dots","comments-o":"comments","compress-alt":"down-left-and-up-right-to-center","compress-arrows-alt":"minimize","concierge-bell":"bell-concierge","contact-book":"address-book","contact-card":"address-card","credit-card-alt":"credit-card","crop-alt":"crop-simple","cut":"scissors","cutlery":"utensils","dashboard":"gauge","deaf":"ear-deaf","deafness":"ear-deaf","dedent":"outdent","desktop-alt":"desktop","diagnoses":"person-dots-from-line","digging":"person-digging","digital-tachograph":"tachograph-digital","directions":"diamond-turn-right","dizzy":"face-dizzy","dollar":"dollar-sign","dolly-box":"dolly","dolly-flatbed":"cart-flatbed","donate":"circle-dollar-to-slot","dot-circle":"circle-dot","dot-circle-o":"circle-dot","drafting-compass":"compass-drafting","drivers-license":"id-card","drivers-license-o":"id-card","earth":"earth-americas","earth-america":"earth-americas","edit":"pen","ellipsis-h":"ellipsis","ellipsis-v":"ellipsis-vertical","envelope-o":"envelope","envelope-open-o":"envelope-open","envelope-square":"square-envelope","eur":"euro-sign","euro":"euro-sign","exchange":"arrow-right-arrow-left","exchange-alt":"right-left","exclamation-circle":"circle-exclamation","exclamation-triangle":"triangle-exclamation","expand-alt":"up-right-and-down-left-from-center","expand-arrows-alt":"maximize","external-link":"arrow-up-right-from-square","external-link-alt":"up-right-from-square","external-link-square":"square-arrow-up-right","external-link-square-alt":"square-up-right","eye-dropper-empty":"eye-dropper","eyedropper":"eye-dropper","facebook-square":"square-facebook","fast-backward":"backward-fast","fast-forward":"forward-fast","feather-alt":"feather-pointed","feed":"rss","female":"person-dress","fighter-jet":"jet-fighter","file-alt":"file-lines","file-archive":"file-zipper","file-archive-o":"file-zipper","file-audio-o":"file-audio","file-clipboard":"paste","file-code-o":"file-code","file-download":"file-arrow-down","file-edit":"file-pen","file-excel-o":"file-excel","file-image-o":"file-image","file-medical-alt":"file-waveform","file-movie-o":"file-video","file-o":"file","file-pdf-o":"file-pdf","file-photo-o":"file-image","file-picture-o":"file-image","file-powerpoint-o":"file-powerpoint","file-sound-o":"file-audio","file-text":"file-lines","file-text-o":"file-lines","file-upload":"file-arrow-up","file-video-o":"file-video","file-word-o":"file-word","file-zip-o":"file-zipper","files-o":"copy","fire-alt":"fire-flame-curved","first-aid":"kit-medical","fist-raised":"hand-fist","flag-o":"flag","floppy-o":"floppy-disk","flushed":"face-flushed","folder-blank":"folder","folder-o":"folder","folder-open-o":"folder-open","football-ball":"football","frown":"face-frown","frown-o":"face-frown","frown-open":"face-frown-open","funnel-dollar":"filter-circle-dollar","futbol-ball":"futbol","futbol-o":"futbol","gauge-med":"gauge","gauge-simple-med":"gauge-simple","gbp":"sterling-sign","glass-cheers":"champagne-glasses","glass-martini":"martini-glass-empty","glass-martini-alt":"martini-glass","glass-whiskey":"whiskey-glass","globe-africa":"earth-africa","globe-americas":"earth-americas","globe-asia":"earth-asia","globe-europe":"earth-europe","globe-oceania":"earth-oceania","golf-ball":"golf-ball-tee","grimace":"face-grimace","grin":"face-grin","grin-alt":"face-grin-wide","grin-beam":"face-grin-beam","grin-beam-sweat":"face-grin-beam-sweat","grin-hearts":"face-grin-hearts","grin-squint":"face-grin-squint","grin-squint-tears":"face-grin-squint-tears","grin-stars":"face-grin-stars","grin-tears":"face-grin-tears","grin-tongue":"face-grin-tongue","grin-tongue-squint":"face-grin-tongue-squint","grin-tongue-wink":"face-grin-tongue-wink","grin-wink":"face-grin-wink","grip-horizontal":"grip","h-square":"square-h","hamburger":"burger","hand-grab-o":"hand-back-fist","hand-holding-usd":"hand-holding-dollar","hand-holding-water":"hand-holding-droplet","hand-lizard-o":"hand-lizard","hand-paper":"hand","hand-paper-o":"hand","hand-peace-o":"hand-peace","hand-pointer-o":"hand-pointer","hand-rock":"hand-back-fist","hand-rock-o":"hand-back-fist","hand-scissors-o":"hand-scissors","hand-spock-o":"hand-spock","hand-stop-o":"hand","hands-american-sign-language-interpreting":"hands-asl-interpreting","hands-helping":"handshake-angle","hands-wash":"hands-bubbles","handshake-alt":"handshake-simple","handshake-alt-slash":"handshake-simple-slash","handshake-o":"handshake","hard-hat":"helmet-safety","hard-of-hearing":"ear-deaf","hat-hard":"helmet-safety","haykal":"bahai","hdd":"hard-drive","hdd-o":"hard-drive","header":"heading","headphones-alt":"headphones-simple","heart-broken":"heart-crack","heart-music-camera-bolt":"icons","heart-o":"heart","heartbeat":"heart-pulse","hiking":"person-hiking","history":"clock-rotate-left","home":"house","home-alt":"house","home-lg":"house-chimney","home-lg-alt":"house","home-user":"house-user","hospital-alt":"hospital","hospital-o":"hospital","hospital-symbol":"circle-h","hospital-wide":"hospital","hot-tub":"hot-tub-person","hourglass-1":"hourglass-start","hourglass-2":"hourglass-half","hourglass-3":"hourglass-end","hourglass-empty":"hourglass","hourglass-o":"hourglass","house-damage":"house-chimney-crack","hryvnia":"hryvnia-sign","id-card-alt":"id-card-clip","id-card-o":"id-card","ils":"shekel-sign","indian-rupee":"indian-rupee-sign","info-circle":"circle-info","inr":"indian-rupee-sign","institution":"building-columns","journal-whills":"book-journal-whills","jpy":"yen-sign","keyboard-o":"keyboard","kiss":"face-kiss","kiss-beam":"face-kiss-beam","kiss-wink-heart":"face-kiss-wink-heart","krw":"won-sign","ladder-water":"water-ladder","landmark-alt":"landmark-dome","laptop-house":"house-laptop","laugh":"face-laugh","laugh-beam":"face-laugh-beam","laugh-squint":"face-laugh-squint","laugh-wink":"face-laugh-wink","legal":"gavel","lemon-o":"lemon","level-down":"arrow-turn-down","level-down-alt":"turn-down","level-up":"arrow-turn-up","level-up-alt":"turn-up","lightbulb-o":"lightbulb","line-chart":"chart-line","list-1-2":"list-ol","list-alt":"rectangle-list","list-dots":"list-ul","list-numeric":"list-ol","list-squares":"list","location":"location-crosshairs","long-arrow-alt-down":"down-long","long-arrow-alt-left":"left-long","long-arrow-alt-right":"right-long","long-arrow-alt-up":"up-long","long-arrow-down":"arrow-down-long","long-arrow-left":"arrow-left-long","long-arrow-right":"arrow-right-long","long-arrow-up":"arrow-up-long","low-vision":"eye-low-vision","luggage-cart":"cart-flatbed-suitcase","magic":"wand-magic","magic-wand-sparkles":"wand-magic-sparkles","mail-bulk":"envelopes-bulk","mail-forward":"share","mail-reply":"reply","mail-reply-all":"reply-all","male":"person","map-marked":"map-location","map-marked-alt":"map-location-dot","map-marker":"location-pin","map-marker-alt":"location-dot","map-o":"map","map-signs":"signs-post","mars-stroke-h":"mars-stroke-right","mars-stroke-v":"mars-stroke-up","medkit":"suitcase-medical","meh":"face-meh","meh-blank":"face-meh-blank","meh-o":"face-meh","meh-rolling-eyes":"face-rolling-eyes","microphone-alt":"microphone-lines","microphone-alt-slash":"microphone-lines-slash","minus-circle":"circle-minus","minus-square":"square-minus","minus-square-o":"square-minus","mobile-alt":"mobile-screen-button","mobile-android":"mobile","mobile-android-alt":"mobile-screen","mobile-phone":"mobile","money-bill-alt":"money-bill-1","money-bill-wave-alt":"money-bill-1-wave","money-check-alt":"money-check-dollar","moon-o":"moon","mortar-board":"graduation-cap","mouse":"computer-mouse","mouse-pointer":"arrow-pointer","multiply":"xmark","museum":"building-columns","navicon":"bars","newspaper-o":"newspaper","paint-brush":"paintbrush","paper-plane-o":"paper-plane","parking":"square-parking","pastafarianism":"spaghetti-monster-flying","pause-circle":"circle-pause","pause-circle-o":"circle-pause","pen-alt":"pen-clip","pen-square":"square-pen","pencil-alt":"pencil","pencil-ruler":"pen-ruler","pencil-square":"square-pen","pencil-square-o":"pen-to-square","people-arrows-left-right":"people-arrows","people-carry":"people-carry-box","percentage":"percent","phone-alt":"phone-flip","phone-square":"square-phone","phone-square-alt":"square-phone-flip","photo-video":"photo-film","picture-o":"image","pie-chart":"chart-pie","ping-pong-paddle-ball":"table-tennis-paddle-ball","play-circle":"circle-play","play-circle-o":"circle-play","plus-circle":"circle-plus","plus-square":"square-plus","plus-square-o":"square-plus","poll":"square-poll-vertical","poll-h":"square-poll-horizontal","poo-bolt":"poo-storm","portrait":"image-portrait","pound-sign":"sterling-sign","pray":"person-praying","praying-hands":"hands-praying","prescription-bottle-alt":"prescription-bottle-medical","procedures":"bed-pulse","project-diagram":"diagram-project","question-circle":"circle-question","question-circle-o":"circle-question","quidditch":"broom-ball","quidditch-broom-ball":"broom-ball","quote-left-alt":"quote-left","quote-right-alt":"quote-right","quran":"book-quran","radiation-alt":"circle-radiation","random":"shuffle","rectangle-times":"rectangle-xmark","redo":"arrow-rotate-right","redo-alt":"rotate-right","refresh":"arrows-rotate","remove":"xmark","remove-format":"text-slash","reorder":"bars-staggered","rmb":"yen-sign","rod-asclepius":"staff-snake","rod-snake":"staff-snake","rotate-back":"rotate-left","rotate-backward":"rotate-left","rotate-forward":"rotate-right","rouble":"ruble-sign","rss-square":"square-rss","rub":"ruble-sign","ruble":"ruble-sign","running":"person-running","rupee":"rupee-sign","sad-cry":"face-sad-cry","sad-tear":"face-sad-tear","save":"floppy-disk","search":"magnifying-glass","search-dollar":"magnifying-glass-dollar","search-location":"magnifying-glass-location","search-minus":"magnifying-glass-minus","search-plus":"magnifying-glass-plus","send-o":"paper-plane","share-alt":"share-nodes","share-alt-square":"square-share-nodes","share-square":"share-from-square","share-square-o":"share-from-square","shekel":"shekel-sign","sheqel":"shekel-sign","sheqel-sign":"shekel-sign","shield-alt":"shield-halved","shield-blank":"shield","shipping-fast":"truck-fast","shopping-bag":"bag-shopping","shopping-basket":"basket-shopping","shopping-cart":"cart-shopping","shuttle-van":"van-shuttle","sign":"sign-hanging","sign-in":"arrow-right-to-bracket","sign-in-alt":"right-to-bracket","sign-language":"hands","sign-out":"arrow-right-from-bracket","sign-out-alt":"right-from-bracket","signal-5":"signal","signal-perfect":"signal","signing":"hands","skating":"person-skating","skiing":"person-skiing","skiing-nordic":"person-skiing-nordic","sliders-h":"sliders","smile":"face-smile","smile-beam":"face-smile-beam","smile-o":"face-smile","smile-wink":"face-smile-wink","smoking-ban":"ban-smoking","sms":"comment-sms","snowboarding":"person-snowboarding","snowflake-o":"snowflake","soccer-ball":"futbol","soccer-ball-o":"futbol","sort-alpha-asc":"arrow-down-a-z","sort-alpha-desc":"arrow-down-z-a","sort-alpha-down":"arrow-down-a-z","sort-alpha-down-alt":"arrow-down-z-a","sort-alpha-up":"arrow-up-a-z","sort-alpha-up-alt":"arrow-up-z-a","sort-amount-asc":"arrow-down-wide-short","sort-amount-desc":"arrow-down-short-wide","sort-amount-down":"arrow-down-wide-short","sort-amount-down-alt":"arrow-down-short-wide","sort-amount-up":"arrow-up-wide-short","sort-amount-up-alt":"arrow-up-short-wide","sort-asc":"sort-up","sort-desc":"sort-down","sort-numeric-asc":"arrow-down-1-9","sort-numeric-desc":"arrow-down-9-1","sort-numeric-down":"arrow-down-1-9","sort-numeric-down-alt":"arrow-down-9-1","sort-numeric-up":"arrow-up-1-9","sort-numeric-up-alt":"arrow-up-9-1","space-shuttle":"shuttle-space","sprout":"seedling","square-o":"square","square-root-alt":"square-root-variable","staff-aesculapius":"staff-snake","star-half-alt":"star-half-stroke","star-half-o":"star-half-stroke","star-o":"star","step-backward":"backward-step","step-forward":"forward-step","sticky-note":"note-sticky","sticky-note-o":"note-sticky","stop-circle":"circle-stop","stop-circle-o":"circle-stop","store-alt":"shop","store-alt-slash":"shop-slash","stream":"bars-staggered","subtract":"minus","subway":"train-subway","sun-o":"sun","surprise":"face-surprise","swimmer":"person-swimming","swimming-pool":"water-ladder","sync":"arrows-rotate","sync-alt":"rotate","t-shirt":"shirt","table-tennis":"table-tennis-paddle-ball","tablet-alt":"tablet-screen-button","tablet-android":"tablet","tachometer":"gauge-simple-high","tachometer-alt":"gauge-high","tachometer-alt-average":"gauge","tachometer-alt-fast":"gauge-high","tachometer-average":"gauge-simple","tachometer-fast":"gauge-simple-high","tanakh":"book-tanakh","tasks":"list-check","tasks-alt":"bars-progress","teletype":"tty","television":"tv","temperature-0":"temperature-empty","temperature-1":"temperature-quarter","temperature-2":"temperature-half","temperature-3":"temperature-three-quarters","temperature-4":"temperature-full","temperature-down":"temperature-arrow-down","temperature-up":"temperature-arrow-up","tenge":"tenge-sign","th":"table-cells","th-large":"table-cells-large","th-list":"table-list","theater-masks":"masks-theater","thermometer-0":"temperature-empty","thermometer-1":"temperature-quarter","thermometer-2":"temperature-half","thermometer-3":"temperature-three-quarters","thermometer-4":"temperature-full","thermometer-empty":"temperature-empty","thermometer-full":"temperature-full","thermometer-half":"temperature-half","thermometer-quarter":"temperature-quarter","thermometer-three-quarters":"temperature-three-quarters","thumb-tack":"thumbtack","thunderstorm":"cloud-bolt","ticket-alt":"ticket-simple","times":"xmark","times-circle":"circle-xmark","times-circle-o":"circle-xmark","times-rectangle":"rectangle-xmark","times-rectangle-o":"rectangle-xmark","times-square":"square-xmark","tint":"droplet","tint-slash":"droplet-slash","tired":"face-tired","tools":"screwdriver-wrench","torah":"scroll-torah","tram":"cable-car","transgender-alt":"transgender","trash-alt":"trash-can","trash-o":"trash-can","trash-restore":"trash-arrow-up","trash-restore-alt":"trash-can-arrow-up","triangle-circle-square":"shapes","truck-loading":"truck-ramp-box","try":"turkish-lira-sign","tshirt":"shirt","turkish-lira":"turkish-lira-sign","tv-alt":"tv","undo":"arrow-rotate-left","undo-alt":"rotate-left","university":"building-columns","unlink":"link-slash","unlock-alt":"unlock-keyhole","unsorted":"sort","usd":"dollar-sign","user-alt":"user-large","user-alt-slash":"user-large-slash","user-circle":"circle-user","user-circle-o":"circle-user","user-cog":"user-gear","user-edit":"user-pen","user-friends":"user-group","user-md":"user-doctor","user-o":"user","user-times":"user-xmark","users-cog":"users-gear","utensil-spoon":"spoon","vcard":"address-card","vcard-o":"address-card","video-camera":"video","volleyball-ball":"volleyball","volume-control-phone":"phone-volume","volume-down":"volume-low","volume-mute":"volume-xmark","volume-times":"volume-xmark","volume-up":"volume-high","vote-yea":"check-to-slot","walking":"person-walking","warning":"triangle-exclamation","weight":"weight-scale","wheat-alt":"wheat-awn","wheelchair-alt":"wheelchair-move","wifi-3":"wifi","wifi-strong":"wifi","window-close":"rectangle-xmark","window-close-o":"rectangle-xmark","wine-glass-alt":"wine-glass-empty","won":"won-sign","xmark-circle":"circle-xmark","xmark-square":"square-xmark","yen":"yen-sign","zap":"bolt"}');var c,getIconMap=function(){if("undefined"==typeof window)return new Map;if(!c){var e=window;e.Ionicons=e.Ionicons||{},c=e.Ionicons.map=e.Ionicons.map||new Map}return c},addToIconMap=function(e,n){var r=getIconMap(),o=r.get(e);void 0===o?r.set(e,n):o!==n&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(e,'". Ensure that multiple icons are not mapped to the same icon name.'))};const u=JSON.parse('{"fab-android":"assets/fonts/font-awesome/brands/android.svg","fab-app-store-ios":"assets/fonts/font-awesome/brands/app-store-ios.svg","fab-app-store":"assets/fonts/font-awesome/brands/app-store.svg","fab-apple":"assets/fonts/font-awesome/brands/apple.svg","fab-cc-paypal":"assets/fonts/font-awesome/brands/cc-paypal.svg","fab-creative-commons-by":"assets/fonts/font-awesome/brands/creative-commons-by.svg","fab-creative-commons-nc-eu":"assets/fonts/font-awesome/brands/creative-commons-nc-eu.svg","fab-creative-commons-nc-jp":"assets/fonts/font-awesome/brands/creative-commons-nc-jp.svg","fab-creative-commons-nc":"assets/fonts/font-awesome/brands/creative-commons-nc.svg","fab-creative-commons-nd":"assets/fonts/font-awesome/brands/creative-commons-nd.svg","fab-creative-commons-pd-alt":"assets/fonts/font-awesome/brands/creative-commons-pd-alt.svg","fab-creative-commons-pd":"assets/fonts/font-awesome/brands/creative-commons-pd.svg","fab-creative-commons-remix":"assets/fonts/font-awesome/brands/creative-commons-remix.svg","fab-creative-commons-sa":"assets/fonts/font-awesome/brands/creative-commons-sa.svg","fab-creative-commons-sampling-plus":"assets/fonts/font-awesome/brands/creative-commons-sampling-plus.svg","fab-creative-commons-sampling":"assets/fonts/font-awesome/brands/creative-commons-sampling.svg","fab-creative-commons-share":"assets/fonts/font-awesome/brands/creative-commons-share.svg","fab-creative-commons-zero":"assets/fonts/font-awesome/brands/creative-commons-zero.svg","fab-creative-commons":"assets/fonts/font-awesome/brands/creative-commons.svg","fab-dropbox":"assets/fonts/font-awesome/brands/dropbox.svg","fab-facebook-f":"assets/fonts/font-awesome/brands/facebook-f.svg","fab-facebook":"assets/fonts/font-awesome/brands/facebook.svg","fab-google-drive":"assets/fonts/font-awesome/brands/google-drive.svg","fab-google-pay":"assets/fonts/font-awesome/brands/google-pay.svg","fab-google-play":"assets/fonts/font-awesome/brands/google-play.svg","fab-google":"assets/fonts/font-awesome/brands/google.svg","fab-paypal":"assets/fonts/font-awesome/brands/paypal.svg","fab-square-facebook":"assets/fonts/font-awesome/brands/square-facebook.svg","fab-windows":"assets/fonts/font-awesome/brands/windows.svg","far-address-book":"assets/fonts/font-awesome/regular/address-book.svg","far-address-card":"assets/fonts/font-awesome/regular/address-card.svg","far-bell-slash":"assets/fonts/font-awesome/regular/bell-slash.svg","far-bell":"assets/fonts/font-awesome/regular/bell.svg","far-bookmark":"assets/fonts/font-awesome/regular/bookmark.svg","far-building":"assets/fonts/font-awesome/regular/building.svg","far-calendar-check":"assets/fonts/font-awesome/regular/calendar-check.svg","far-calendar-days":"assets/fonts/font-awesome/regular/calendar-days.svg","far-calendar-minus":"assets/fonts/font-awesome/regular/calendar-minus.svg","far-calendar-plus":"assets/fonts/font-awesome/regular/calendar-plus.svg","far-calendar-xmark":"assets/fonts/font-awesome/regular/calendar-xmark.svg","far-calendar":"assets/fonts/font-awesome/regular/calendar.svg","far-chart-bar":"assets/fonts/font-awesome/regular/chart-bar.svg","far-chess-bishop":"assets/fonts/font-awesome/regular/chess-bishop.svg","far-chess-king":"assets/fonts/font-awesome/regular/chess-king.svg","far-chess-knight":"assets/fonts/font-awesome/regular/chess-knight.svg","far-chess-pawn":"assets/fonts/font-awesome/regular/chess-pawn.svg","far-chess-queen":"assets/fonts/font-awesome/regular/chess-queen.svg","far-chess-rook":"assets/fonts/font-awesome/regular/chess-rook.svg","far-circle-check":"assets/fonts/font-awesome/regular/circle-check.svg","far-circle-dot":"assets/fonts/font-awesome/regular/circle-dot.svg","far-circle-down":"assets/fonts/font-awesome/regular/circle-down.svg","far-circle-left":"assets/fonts/font-awesome/regular/circle-left.svg","far-circle-pause":"assets/fonts/font-awesome/regular/circle-pause.svg","far-circle-play":"assets/fonts/font-awesome/regular/circle-play.svg","far-circle-question":"assets/fonts/font-awesome/regular/circle-question.svg","far-circle-right":"assets/fonts/font-awesome/regular/circle-right.svg","far-circle-stop":"assets/fonts/font-awesome/regular/circle-stop.svg","far-circle-up":"assets/fonts/font-awesome/regular/circle-up.svg","far-circle-user":"assets/fonts/font-awesome/regular/circle-user.svg","far-circle-xmark":"assets/fonts/font-awesome/regular/circle-xmark.svg","far-circle":"assets/fonts/font-awesome/regular/circle.svg","far-clipboard":"assets/fonts/font-awesome/regular/clipboard.svg","far-clock":"assets/fonts/font-awesome/regular/clock.svg","far-clone":"assets/fonts/font-awesome/regular/clone.svg","far-closed-captioning":"assets/fonts/font-awesome/regular/closed-captioning.svg","far-comment-dots":"assets/fonts/font-awesome/regular/comment-dots.svg","far-comment":"assets/fonts/font-awesome/regular/comment.svg","far-comments":"assets/fonts/font-awesome/regular/comments.svg","far-compass":"assets/fonts/font-awesome/regular/compass.svg","far-copy":"assets/fonts/font-awesome/regular/copy.svg","far-copyright":"assets/fonts/font-awesome/regular/copyright.svg","far-credit-card":"assets/fonts/font-awesome/regular/credit-card.svg","far-envelope-open":"assets/fonts/font-awesome/regular/envelope-open.svg","far-envelope":"assets/fonts/font-awesome/regular/envelope.svg","far-eye-slash":"assets/fonts/font-awesome/regular/eye-slash.svg","far-eye":"assets/fonts/font-awesome/regular/eye.svg","far-face-angry":"assets/fonts/font-awesome/regular/face-angry.svg","far-face-dizzy":"assets/fonts/font-awesome/regular/face-dizzy.svg","far-face-flushed":"assets/fonts/font-awesome/regular/face-flushed.svg","far-face-frown-open":"assets/fonts/font-awesome/regular/face-frown-open.svg","far-face-frown":"assets/fonts/font-awesome/regular/face-frown.svg","far-face-grimace":"assets/fonts/font-awesome/regular/face-grimace.svg","far-face-grin-beam-sweat":"assets/fonts/font-awesome/regular/face-grin-beam-sweat.svg","far-face-grin-beam":"assets/fonts/font-awesome/regular/face-grin-beam.svg","far-face-grin-hearts":"assets/fonts/font-awesome/regular/face-grin-hearts.svg","far-face-grin-squint-tears":"assets/fonts/font-awesome/regular/face-grin-squint-tears.svg","far-face-grin-squint":"assets/fonts/font-awesome/regular/face-grin-squint.svg","far-face-grin-stars":"assets/fonts/font-awesome/regular/face-grin-stars.svg","far-face-grin-tears":"assets/fonts/font-awesome/regular/face-grin-tears.svg","far-face-grin-tongue-squint":"assets/fonts/font-awesome/regular/face-grin-tongue-squint.svg","far-face-grin-tongue-wink":"assets/fonts/font-awesome/regular/face-grin-tongue-wink.svg","far-face-grin-tongue":"assets/fonts/font-awesome/regular/face-grin-tongue.svg","far-face-grin-wide":"assets/fonts/font-awesome/regular/face-grin-wide.svg","far-face-grin-wink":"assets/fonts/font-awesome/regular/face-grin-wink.svg","far-face-grin":"assets/fonts/font-awesome/regular/face-grin.svg","far-face-kiss-beam":"assets/fonts/font-awesome/regular/face-kiss-beam.svg","far-face-kiss-wink-heart":"assets/fonts/font-awesome/regular/face-kiss-wink-heart.svg","far-face-kiss":"assets/fonts/font-awesome/regular/face-kiss.svg","far-face-laugh-beam":"assets/fonts/font-awesome/regular/face-laugh-beam.svg","far-face-laugh-squint":"assets/fonts/font-awesome/regular/face-laugh-squint.svg","far-face-laugh-wink":"assets/fonts/font-awesome/regular/face-laugh-wink.svg","far-face-laugh":"assets/fonts/font-awesome/regular/face-laugh.svg","far-face-meh-blank":"assets/fonts/font-awesome/regular/face-meh-blank.svg","far-face-meh":"assets/fonts/font-awesome/regular/face-meh.svg","far-face-rolling-eyes":"assets/fonts/font-awesome/regular/face-rolling-eyes.svg","far-face-sad-cry":"assets/fonts/font-awesome/regular/face-sad-cry.svg","far-face-sad-tear":"assets/fonts/font-awesome/regular/face-sad-tear.svg","far-face-smile-beam":"assets/fonts/font-awesome/regular/face-smile-beam.svg","far-face-smile-wink":"assets/fonts/font-awesome/regular/face-smile-wink.svg","far-face-smile":"assets/fonts/font-awesome/regular/face-smile.svg","far-face-surprise":"assets/fonts/font-awesome/regular/face-surprise.svg","far-face-tired":"assets/fonts/font-awesome/regular/face-tired.svg","far-file-audio":"assets/fonts/font-awesome/regular/file-audio.svg","far-file-code":"assets/fonts/font-awesome/regular/file-code.svg","far-file-excel":"assets/fonts/font-awesome/regular/file-excel.svg","far-file-image":"assets/fonts/font-awesome/regular/file-image.svg","far-file-lines":"assets/fonts/font-awesome/regular/file-lines.svg","far-file-pdf":"assets/fonts/font-awesome/regular/file-pdf.svg","far-file-powerpoint":"assets/fonts/font-awesome/regular/file-powerpoint.svg","far-file-video":"assets/fonts/font-awesome/regular/file-video.svg","far-file-word":"assets/fonts/font-awesome/regular/file-word.svg","far-file-zipper":"assets/fonts/font-awesome/regular/file-zipper.svg","far-file":"assets/fonts/font-awesome/regular/file.svg","far-flag":"assets/fonts/font-awesome/regular/flag.svg","far-floppy-disk":"assets/fonts/font-awesome/regular/floppy-disk.svg","far-folder-closed":"assets/fonts/font-awesome/regular/folder-closed.svg","far-folder-open":"assets/fonts/font-awesome/regular/folder-open.svg","far-folder":"assets/fonts/font-awesome/regular/folder.svg","far-font-awesome":"assets/fonts/font-awesome/regular/font-awesome.svg","far-futbol":"assets/fonts/font-awesome/regular/futbol.svg","far-gem":"assets/fonts/font-awesome/regular/gem.svg","far-hand-back-fist":"assets/fonts/font-awesome/regular/hand-back-fist.svg","far-hand-lizard":"assets/fonts/font-awesome/regular/hand-lizard.svg","far-hand-peace":"assets/fonts/font-awesome/regular/hand-peace.svg","far-hand-point-down":"assets/fonts/font-awesome/regular/hand-point-down.svg","far-hand-point-left":"assets/fonts/font-awesome/regular/hand-point-left.svg","far-hand-point-right":"assets/fonts/font-awesome/regular/hand-point-right.svg","far-hand-point-up":"assets/fonts/font-awesome/regular/hand-point-up.svg","far-hand-pointer":"assets/fonts/font-awesome/regular/hand-pointer.svg","far-hand-scissors":"assets/fonts/font-awesome/regular/hand-scissors.svg","far-hand-spock":"assets/fonts/font-awesome/regular/hand-spock.svg","far-hand":"assets/fonts/font-awesome/regular/hand.svg","far-handshake":"assets/fonts/font-awesome/regular/handshake.svg","far-hard-drive":"assets/fonts/font-awesome/regular/hard-drive.svg","far-heart":"assets/fonts/font-awesome/regular/heart.svg","far-hospital":"assets/fonts/font-awesome/regular/hospital.svg","far-hourglass-half":"assets/fonts/font-awesome/regular/hourglass-half.svg","far-hourglass":"assets/fonts/font-awesome/regular/hourglass.svg","far-id-badge":"assets/fonts/font-awesome/regular/id-badge.svg","far-id-card":"assets/fonts/font-awesome/regular/id-card.svg","far-image":"assets/fonts/font-awesome/regular/image.svg","far-images":"assets/fonts/font-awesome/regular/images.svg","far-keyboard":"assets/fonts/font-awesome/regular/keyboard.svg","far-lemon":"assets/fonts/font-awesome/regular/lemon.svg","far-life-ring":"assets/fonts/font-awesome/regular/life-ring.svg","far-lightbulb":"assets/fonts/font-awesome/regular/lightbulb.svg","far-map":"assets/fonts/font-awesome/regular/map.svg","far-message":"assets/fonts/font-awesome/regular/message.svg","far-money-bill-1":"assets/fonts/font-awesome/regular/money-bill-1.svg","far-moon":"assets/fonts/font-awesome/regular/moon.svg","far-newspaper":"assets/fonts/font-awesome/regular/newspaper.svg","far-note-sticky":"assets/fonts/font-awesome/regular/note-sticky.svg","far-object-group":"assets/fonts/font-awesome/regular/object-group.svg","far-object-ungroup":"assets/fonts/font-awesome/regular/object-ungroup.svg","far-paper-plane":"assets/fonts/font-awesome/regular/paper-plane.svg","far-paste":"assets/fonts/font-awesome/regular/paste.svg","far-pen-to-square":"assets/fonts/font-awesome/regular/pen-to-square.svg","far-rectangle-list":"assets/fonts/font-awesome/regular/rectangle-list.svg","far-rectangle-xmark":"assets/fonts/font-awesome/regular/rectangle-xmark.svg","far-registered":"assets/fonts/font-awesome/regular/registered.svg","far-share-from-square":"assets/fonts/font-awesome/regular/share-from-square.svg","far-snowflake":"assets/fonts/font-awesome/regular/snowflake.svg","far-square-caret-down":"assets/fonts/font-awesome/regular/square-caret-down.svg","far-square-caret-left":"assets/fonts/font-awesome/regular/square-caret-left.svg","far-square-caret-right":"assets/fonts/font-awesome/regular/square-caret-right.svg","far-square-caret-up":"assets/fonts/font-awesome/regular/square-caret-up.svg","far-square-check":"assets/fonts/font-awesome/regular/square-check.svg","far-square-full":"assets/fonts/font-awesome/regular/square-full.svg","far-square-minus":"assets/fonts/font-awesome/regular/square-minus.svg","far-square-plus":"assets/fonts/font-awesome/regular/square-plus.svg","far-square":"assets/fonts/font-awesome/regular/square.svg","far-star-half-stroke":"assets/fonts/font-awesome/regular/star-half-stroke.svg","far-star-half":"assets/fonts/font-awesome/regular/star-half.svg","far-star":"assets/fonts/font-awesome/regular/star.svg","far-sun":"assets/fonts/font-awesome/regular/sun.svg","far-thumbs-down":"assets/fonts/font-awesome/regular/thumbs-down.svg","far-thumbs-up":"assets/fonts/font-awesome/regular/thumbs-up.svg","far-trash-can":"assets/fonts/font-awesome/regular/trash-can.svg","far-user":"assets/fonts/font-awesome/regular/user.svg","far-window-maximize":"assets/fonts/font-awesome/regular/window-maximize.svg","far-window-minimize":"assets/fonts/font-awesome/regular/window-minimize.svg","far-window-restore":"assets/fonts/font-awesome/regular/window-restore.svg","fa-0":"assets/fonts/font-awesome/solid/0.svg","fas-0":"assets/fonts/font-awesome/solid/0.svg","fa-1":"assets/fonts/font-awesome/solid/1.svg","fas-1":"assets/fonts/font-awesome/solid/1.svg","fa-2":"assets/fonts/font-awesome/solid/2.svg","fas-2":"assets/fonts/font-awesome/solid/2.svg","fa-3":"assets/fonts/font-awesome/solid/3.svg","fas-3":"assets/fonts/font-awesome/solid/3.svg","fa-4":"assets/fonts/font-awesome/solid/4.svg","fas-4":"assets/fonts/font-awesome/solid/4.svg","fa-5":"assets/fonts/font-awesome/solid/5.svg","fas-5":"assets/fonts/font-awesome/solid/5.svg","fa-6":"assets/fonts/font-awesome/solid/6.svg","fas-6":"assets/fonts/font-awesome/solid/6.svg","fa-7":"assets/fonts/font-awesome/solid/7.svg","fas-7":"assets/fonts/font-awesome/solid/7.svg","fa-8":"assets/fonts/font-awesome/solid/8.svg","fas-8":"assets/fonts/font-awesome/solid/8.svg","fa-9":"assets/fonts/font-awesome/solid/9.svg","fas-9":"assets/fonts/font-awesome/solid/9.svg","fa-a":"assets/fonts/font-awesome/solid/a.svg","fas-a":"assets/fonts/font-awesome/solid/a.svg","fa-address-book":"assets/fonts/font-awesome/solid/address-book.svg","fas-address-book":"assets/fonts/font-awesome/solid/address-book.svg","fa-address-card":"assets/fonts/font-awesome/solid/address-card.svg","fas-address-card":"assets/fonts/font-awesome/solid/address-card.svg","fa-align-center":"assets/fonts/font-awesome/solid/align-center.svg","fas-align-center":"assets/fonts/font-awesome/solid/align-center.svg","fa-align-justify":"assets/fonts/font-awesome/solid/align-justify.svg","fas-align-justify":"assets/fonts/font-awesome/solid/align-justify.svg","fa-align-left":"assets/fonts/font-awesome/solid/align-left.svg","fas-align-left":"assets/fonts/font-awesome/solid/align-left.svg","fa-align-right":"assets/fonts/font-awesome/solid/align-right.svg","fas-align-right":"assets/fonts/font-awesome/solid/align-right.svg","fa-anchor-circle-check":"assets/fonts/font-awesome/solid/anchor-circle-check.svg","fas-anchor-circle-check":"assets/fonts/font-awesome/solid/anchor-circle-check.svg","fa-anchor-circle-exclamation":"assets/fonts/font-awesome/solid/anchor-circle-exclamation.svg","fas-anchor-circle-exclamation":"assets/fonts/font-awesome/solid/anchor-circle-exclamation.svg","fa-anchor-circle-xmark":"assets/fonts/font-awesome/solid/anchor-circle-xmark.svg","fas-anchor-circle-xmark":"assets/fonts/font-awesome/solid/anchor-circle-xmark.svg","fa-anchor-lock":"assets/fonts/font-awesome/solid/anchor-lock.svg","fas-anchor-lock":"assets/fonts/font-awesome/solid/anchor-lock.svg","fa-anchor":"assets/fonts/font-awesome/solid/anchor.svg","fas-anchor":"assets/fonts/font-awesome/solid/anchor.svg","fa-angle-down":"assets/fonts/font-awesome/solid/angle-down.svg","fas-angle-down":"assets/fonts/font-awesome/solid/angle-down.svg","fa-angle-left":"assets/fonts/font-awesome/solid/angle-left.svg","fas-angle-left":"assets/fonts/font-awesome/solid/angle-left.svg","fa-angle-right":"assets/fonts/font-awesome/solid/angle-right.svg","fas-angle-right":"assets/fonts/font-awesome/solid/angle-right.svg","fa-angle-up":"assets/fonts/font-awesome/solid/angle-up.svg","fas-angle-up":"assets/fonts/font-awesome/solid/angle-up.svg","fa-angles-down":"assets/fonts/font-awesome/solid/angles-down.svg","fas-angles-down":"assets/fonts/font-awesome/solid/angles-down.svg","fa-angles-left":"assets/fonts/font-awesome/solid/angles-left.svg","fas-angles-left":"assets/fonts/font-awesome/solid/angles-left.svg","fa-angles-right":"assets/fonts/font-awesome/solid/angles-right.svg","fas-angles-right":"assets/fonts/font-awesome/solid/angles-right.svg","fa-angles-up":"assets/fonts/font-awesome/solid/angles-up.svg","fas-angles-up":"assets/fonts/font-awesome/solid/angles-up.svg","fa-ankh":"assets/fonts/font-awesome/solid/ankh.svg","fas-ankh":"assets/fonts/font-awesome/solid/ankh.svg","fa-apple-whole":"assets/fonts/font-awesome/solid/apple-whole.svg","fas-apple-whole":"assets/fonts/font-awesome/solid/apple-whole.svg","fa-archway":"assets/fonts/font-awesome/solid/archway.svg","fas-archway":"assets/fonts/font-awesome/solid/archway.svg","fa-arrow-down-1-9":"assets/fonts/font-awesome/solid/arrow-down-1-9.svg","fas-arrow-down-1-9":"assets/fonts/font-awesome/solid/arrow-down-1-9.svg","fa-arrow-down-9-1":"assets/fonts/font-awesome/solid/arrow-down-9-1.svg","fas-arrow-down-9-1":"assets/fonts/font-awesome/solid/arrow-down-9-1.svg","fa-arrow-down-a-z":"assets/fonts/font-awesome/solid/arrow-down-a-z.svg","fas-arrow-down-a-z":"assets/fonts/font-awesome/solid/arrow-down-a-z.svg","fa-arrow-down-long":"assets/fonts/font-awesome/solid/arrow-down-long.svg","fas-arrow-down-long":"assets/fonts/font-awesome/solid/arrow-down-long.svg","fa-arrow-down-short-wide":"assets/fonts/font-awesome/solid/arrow-down-short-wide.svg","fas-arrow-down-short-wide":"assets/fonts/font-awesome/solid/arrow-down-short-wide.svg","fa-arrow-down-up-across-line":"assets/fonts/font-awesome/solid/arrow-down-up-across-line.svg","fas-arrow-down-up-across-line":"assets/fonts/font-awesome/solid/arrow-down-up-across-line.svg","fa-arrow-down-up-lock":"assets/fonts/font-awesome/solid/arrow-down-up-lock.svg","fas-arrow-down-up-lock":"assets/fonts/font-awesome/solid/arrow-down-up-lock.svg","fa-arrow-down-wide-short":"assets/fonts/font-awesome/solid/arrow-down-wide-short.svg","fas-arrow-down-wide-short":"assets/fonts/font-awesome/solid/arrow-down-wide-short.svg","fa-arrow-down-z-a":"assets/fonts/font-awesome/solid/arrow-down-z-a.svg","fas-arrow-down-z-a":"assets/fonts/font-awesome/solid/arrow-down-z-a.svg","fa-arrow-down":"assets/fonts/font-awesome/solid/arrow-down.svg","fas-arrow-down":"assets/fonts/font-awesome/solid/arrow-down.svg","fa-arrow-left-long":"assets/fonts/font-awesome/solid/arrow-left-long.svg","fas-arrow-left-long":"assets/fonts/font-awesome/solid/arrow-left-long.svg","fa-arrow-left":"assets/fonts/font-awesome/solid/arrow-left.svg","fas-arrow-left":"assets/fonts/font-awesome/solid/arrow-left.svg","fa-arrow-pointer":"assets/fonts/font-awesome/solid/arrow-pointer.svg","fas-arrow-pointer":"assets/fonts/font-awesome/solid/arrow-pointer.svg","fa-arrow-right-arrow-left":"assets/fonts/font-awesome/solid/arrow-right-arrow-left.svg","fas-arrow-right-arrow-left":"assets/fonts/font-awesome/solid/arrow-right-arrow-left.svg","fa-arrow-right-from-bracket":"assets/fonts/font-awesome/solid/arrow-right-from-bracket.svg","fas-arrow-right-from-bracket":"assets/fonts/font-awesome/solid/arrow-right-from-bracket.svg","fa-arrow-right-long":"assets/fonts/font-awesome/solid/arrow-right-long.svg","fas-arrow-right-long":"assets/fonts/font-awesome/solid/arrow-right-long.svg","fa-arrow-right-to-bracket":"assets/fonts/font-awesome/solid/arrow-right-to-bracket.svg","fas-arrow-right-to-bracket":"assets/fonts/font-awesome/solid/arrow-right-to-bracket.svg","fa-arrow-right-to-city":"assets/fonts/font-awesome/solid/arrow-right-to-city.svg","fas-arrow-right-to-city":"assets/fonts/font-awesome/solid/arrow-right-to-city.svg","fa-arrow-right":"assets/fonts/font-awesome/solid/arrow-right.svg","fas-arrow-right":"assets/fonts/font-awesome/solid/arrow-right.svg","fa-arrow-rotate-left":"assets/fonts/font-awesome/solid/arrow-rotate-left.svg","fas-arrow-rotate-left":"assets/fonts/font-awesome/solid/arrow-rotate-left.svg","fa-arrow-rotate-right":"assets/fonts/font-awesome/solid/arrow-rotate-right.svg","fas-arrow-rotate-right":"assets/fonts/font-awesome/solid/arrow-rotate-right.svg","fa-arrow-trend-down":"assets/fonts/font-awesome/solid/arrow-trend-down.svg","fas-arrow-trend-down":"assets/fonts/font-awesome/solid/arrow-trend-down.svg","fa-arrow-trend-up":"assets/fonts/font-awesome/solid/arrow-trend-up.svg","fas-arrow-trend-up":"assets/fonts/font-awesome/solid/arrow-trend-up.svg","fa-arrow-turn-down":"assets/fonts/font-awesome/solid/arrow-turn-down.svg","fas-arrow-turn-down":"assets/fonts/font-awesome/solid/arrow-turn-down.svg","fa-arrow-turn-up":"assets/fonts/font-awesome/solid/arrow-turn-up.svg","fas-arrow-turn-up":"assets/fonts/font-awesome/solid/arrow-turn-up.svg","fa-arrow-up-1-9":"assets/fonts/font-awesome/solid/arrow-up-1-9.svg","fas-arrow-up-1-9":"assets/fonts/font-awesome/solid/arrow-up-1-9.svg","fa-arrow-up-9-1":"assets/fonts/font-awesome/solid/arrow-up-9-1.svg","fas-arrow-up-9-1":"assets/fonts/font-awesome/solid/arrow-up-9-1.svg","fa-arrow-up-a-z":"assets/fonts/font-awesome/solid/arrow-up-a-z.svg","fas-arrow-up-a-z":"assets/fonts/font-awesome/solid/arrow-up-a-z.svg","fa-arrow-up-from-bracket":"assets/fonts/font-awesome/solid/arrow-up-from-bracket.svg","fas-arrow-up-from-bracket":"assets/fonts/font-awesome/solid/arrow-up-from-bracket.svg","fa-arrow-up-from-ground-water":"assets/fonts/font-awesome/solid/arrow-up-from-ground-water.svg","fas-arrow-up-from-ground-water":"assets/fonts/font-awesome/solid/arrow-up-from-ground-water.svg","fa-arrow-up-from-water-pump":"assets/fonts/font-awesome/solid/arrow-up-from-water-pump.svg","fas-arrow-up-from-water-pump":"assets/fonts/font-awesome/solid/arrow-up-from-water-pump.svg","fa-arrow-up-long":"assets/fonts/font-awesome/solid/arrow-up-long.svg","fas-arrow-up-long":"assets/fonts/font-awesome/solid/arrow-up-long.svg","fa-arrow-up-right-dots":"assets/fonts/font-awesome/solid/arrow-up-right-dots.svg","fas-arrow-up-right-dots":"assets/fonts/font-awesome/solid/arrow-up-right-dots.svg","fa-arrow-up-right-from-square":"assets/fonts/font-awesome/solid/arrow-up-right-from-square.svg","fas-arrow-up-right-from-square":"assets/fonts/font-awesome/solid/arrow-up-right-from-square.svg","fa-arrow-up-short-wide":"assets/fonts/font-awesome/solid/arrow-up-short-wide.svg","fas-arrow-up-short-wide":"assets/fonts/font-awesome/solid/arrow-up-short-wide.svg","fa-arrow-up-wide-short":"assets/fonts/font-awesome/solid/arrow-up-wide-short.svg","fas-arrow-up-wide-short":"assets/fonts/font-awesome/solid/arrow-up-wide-short.svg","fa-arrow-up-z-a":"assets/fonts/font-awesome/solid/arrow-up-z-a.svg","fas-arrow-up-z-a":"assets/fonts/font-awesome/solid/arrow-up-z-a.svg","fa-arrow-up":"assets/fonts/font-awesome/solid/arrow-up.svg","fas-arrow-up":"assets/fonts/font-awesome/solid/arrow-up.svg","fa-arrows-down-to-line":"assets/fonts/font-awesome/solid/arrows-down-to-line.svg","fas-arrows-down-to-line":"assets/fonts/font-awesome/solid/arrows-down-to-line.svg","fa-arrows-down-to-people":"assets/fonts/font-awesome/solid/arrows-down-to-people.svg","fas-arrows-down-to-people":"assets/fonts/font-awesome/solid/arrows-down-to-people.svg","fa-arrows-left-right-to-line":"assets/fonts/font-awesome/solid/arrows-left-right-to-line.svg","fas-arrows-left-right-to-line":"assets/fonts/font-awesome/solid/arrows-left-right-to-line.svg","fa-arrows-left-right":"assets/fonts/font-awesome/solid/arrows-left-right.svg","fas-arrows-left-right":"assets/fonts/font-awesome/solid/arrows-left-right.svg","fa-arrows-rotate":"assets/fonts/font-awesome/solid/arrows-rotate.svg","fas-arrows-rotate":"assets/fonts/font-awesome/solid/arrows-rotate.svg","fa-arrows-spin":"assets/fonts/font-awesome/solid/arrows-spin.svg","fas-arrows-spin":"assets/fonts/font-awesome/solid/arrows-spin.svg","fa-arrows-split-up-and-left":"assets/fonts/font-awesome/solid/arrows-split-up-and-left.svg","fas-arrows-split-up-and-left":"assets/fonts/font-awesome/solid/arrows-split-up-and-left.svg","fa-arrows-to-circle":"assets/fonts/font-awesome/solid/arrows-to-circle.svg","fas-arrows-to-circle":"assets/fonts/font-awesome/solid/arrows-to-circle.svg","fa-arrows-to-dot":"assets/fonts/font-awesome/solid/arrows-to-dot.svg","fas-arrows-to-dot":"assets/fonts/font-awesome/solid/arrows-to-dot.svg","fa-arrows-to-eye":"assets/fonts/font-awesome/solid/arrows-to-eye.svg","fas-arrows-to-eye":"assets/fonts/font-awesome/solid/arrows-to-eye.svg","fa-arrows-turn-right":"assets/fonts/font-awesome/solid/arrows-turn-right.svg","fas-arrows-turn-right":"assets/fonts/font-awesome/solid/arrows-turn-right.svg","fa-arrows-turn-to-dots":"assets/fonts/font-awesome/solid/arrows-turn-to-dots.svg","fas-arrows-turn-to-dots":"assets/fonts/font-awesome/solid/arrows-turn-to-dots.svg","fa-arrows-up-down-left-right":"assets/fonts/font-awesome/solid/arrows-up-down-left-right.svg","fas-arrows-up-down-left-right":"assets/fonts/font-awesome/solid/arrows-up-down-left-right.svg","fa-arrows-up-down":"assets/fonts/font-awesome/solid/arrows-up-down.svg","fas-arrows-up-down":"assets/fonts/font-awesome/solid/arrows-up-down.svg","fa-arrows-up-to-line":"assets/fonts/font-awesome/solid/arrows-up-to-line.svg","fas-arrows-up-to-line":"assets/fonts/font-awesome/solid/arrows-up-to-line.svg","fa-asterisk":"assets/fonts/font-awesome/solid/asterisk.svg","fas-asterisk":"assets/fonts/font-awesome/solid/asterisk.svg","fa-at":"assets/fonts/font-awesome/solid/at.svg","fas-at":"assets/fonts/font-awesome/solid/at.svg","fa-atom":"assets/fonts/font-awesome/solid/atom.svg","fas-atom":"assets/fonts/font-awesome/solid/atom.svg","fa-audio-description":"assets/fonts/font-awesome/solid/audio-description.svg","fas-audio-description":"assets/fonts/font-awesome/solid/audio-description.svg","fa-austral-sign":"assets/fonts/font-awesome/solid/austral-sign.svg","fas-austral-sign":"assets/fonts/font-awesome/solid/austral-sign.svg","fa-award":"assets/fonts/font-awesome/solid/award.svg","fas-award":"assets/fonts/font-awesome/solid/award.svg","fa-b":"assets/fonts/font-awesome/solid/b.svg","fas-b":"assets/fonts/font-awesome/solid/b.svg","fa-baby-carriage":"assets/fonts/font-awesome/solid/baby-carriage.svg","fas-baby-carriage":"assets/fonts/font-awesome/solid/baby-carriage.svg","fa-baby":"assets/fonts/font-awesome/solid/baby.svg","fas-baby":"assets/fonts/font-awesome/solid/baby.svg","fa-backward-fast":"assets/fonts/font-awesome/solid/backward-fast.svg","fas-backward-fast":"assets/fonts/font-awesome/solid/backward-fast.svg","fa-backward-step":"assets/fonts/font-awesome/solid/backward-step.svg","fas-backward-step":"assets/fonts/font-awesome/solid/backward-step.svg","fa-backward":"assets/fonts/font-awesome/solid/backward.svg","fas-backward":"assets/fonts/font-awesome/solid/backward.svg","fa-bacon":"assets/fonts/font-awesome/solid/bacon.svg","fas-bacon":"assets/fonts/font-awesome/solid/bacon.svg","fa-bacteria":"assets/fonts/font-awesome/solid/bacteria.svg","fas-bacteria":"assets/fonts/font-awesome/solid/bacteria.svg","fa-bacterium":"assets/fonts/font-awesome/solid/bacterium.svg","fas-bacterium":"assets/fonts/font-awesome/solid/bacterium.svg","fa-bag-shopping":"assets/fonts/font-awesome/solid/bag-shopping.svg","fas-bag-shopping":"assets/fonts/font-awesome/solid/bag-shopping.svg","fa-bahai":"assets/fonts/font-awesome/solid/bahai.svg","fas-bahai":"assets/fonts/font-awesome/solid/bahai.svg","fa-baht-sign":"assets/fonts/font-awesome/solid/baht-sign.svg","fas-baht-sign":"assets/fonts/font-awesome/solid/baht-sign.svg","fa-ban-smoking":"assets/fonts/font-awesome/solid/ban-smoking.svg","fas-ban-smoking":"assets/fonts/font-awesome/solid/ban-smoking.svg","fa-ban":"assets/fonts/font-awesome/solid/ban.svg","fas-ban":"assets/fonts/font-awesome/solid/ban.svg","fa-bandage":"assets/fonts/font-awesome/solid/bandage.svg","fas-bandage":"assets/fonts/font-awesome/solid/bandage.svg","fa-bangladeshi-taka-sign":"assets/fonts/font-awesome/solid/bangladeshi-taka-sign.svg","fas-bangladeshi-taka-sign":"assets/fonts/font-awesome/solid/bangladeshi-taka-sign.svg","fa-barcode":"assets/fonts/font-awesome/solid/barcode.svg","fas-barcode":"assets/fonts/font-awesome/solid/barcode.svg","fa-bars-progress":"assets/fonts/font-awesome/solid/bars-progress.svg","fas-bars-progress":"assets/fonts/font-awesome/solid/bars-progress.svg","fa-bars-staggered":"assets/fonts/font-awesome/solid/bars-staggered.svg","fas-bars-staggered":"assets/fonts/font-awesome/solid/bars-staggered.svg","fa-bars":"assets/fonts/font-awesome/solid/bars.svg","fas-bars":"assets/fonts/font-awesome/solid/bars.svg","fa-baseball-bat-ball":"assets/fonts/font-awesome/solid/baseball-bat-ball.svg","fas-baseball-bat-ball":"assets/fonts/font-awesome/solid/baseball-bat-ball.svg","fa-baseball":"assets/fonts/font-awesome/solid/baseball.svg","fas-baseball":"assets/fonts/font-awesome/solid/baseball.svg","fa-basket-shopping":"assets/fonts/font-awesome/solid/basket-shopping.svg","fas-basket-shopping":"assets/fonts/font-awesome/solid/basket-shopping.svg","fa-basketball":"assets/fonts/font-awesome/solid/basketball.svg","fas-basketball":"assets/fonts/font-awesome/solid/basketball.svg","fa-bath":"assets/fonts/font-awesome/solid/bath.svg","fas-bath":"assets/fonts/font-awesome/solid/bath.svg","fa-battery-empty":"assets/fonts/font-awesome/solid/battery-empty.svg","fas-battery-empty":"assets/fonts/font-awesome/solid/battery-empty.svg","fa-battery-full":"assets/fonts/font-awesome/solid/battery-full.svg","fas-battery-full":"assets/fonts/font-awesome/solid/battery-full.svg","fa-battery-half":"assets/fonts/font-awesome/solid/battery-half.svg","fas-battery-half":"assets/fonts/font-awesome/solid/battery-half.svg","fa-battery-quarter":"assets/fonts/font-awesome/solid/battery-quarter.svg","fas-battery-quarter":"assets/fonts/font-awesome/solid/battery-quarter.svg","fa-battery-three-quarters":"assets/fonts/font-awesome/solid/battery-three-quarters.svg","fas-battery-three-quarters":"assets/fonts/font-awesome/solid/battery-three-quarters.svg","fa-bed-pulse":"assets/fonts/font-awesome/solid/bed-pulse.svg","fas-bed-pulse":"assets/fonts/font-awesome/solid/bed-pulse.svg","fa-bed":"assets/fonts/font-awesome/solid/bed.svg","fas-bed":"assets/fonts/font-awesome/solid/bed.svg","fa-beer-mug-empty":"assets/fonts/font-awesome/solid/beer-mug-empty.svg","fas-beer-mug-empty":"assets/fonts/font-awesome/solid/beer-mug-empty.svg","fa-bell-concierge":"assets/fonts/font-awesome/solid/bell-concierge.svg","fas-bell-concierge":"assets/fonts/font-awesome/solid/bell-concierge.svg","fa-bell-slash":"assets/fonts/font-awesome/solid/bell-slash.svg","fas-bell-slash":"assets/fonts/font-awesome/solid/bell-slash.svg","fa-bell":"assets/fonts/font-awesome/solid/bell.svg","fas-bell":"assets/fonts/font-awesome/solid/bell.svg","fa-bezier-curve":"assets/fonts/font-awesome/solid/bezier-curve.svg","fas-bezier-curve":"assets/fonts/font-awesome/solid/bezier-curve.svg","fa-bicycle":"assets/fonts/font-awesome/solid/bicycle.svg","fas-bicycle":"assets/fonts/font-awesome/solid/bicycle.svg","fa-binoculars":"assets/fonts/font-awesome/solid/binoculars.svg","fas-binoculars":"assets/fonts/font-awesome/solid/binoculars.svg","fa-biohazard":"assets/fonts/font-awesome/solid/biohazard.svg","fas-biohazard":"assets/fonts/font-awesome/solid/biohazard.svg","fa-bitcoin-sign":"assets/fonts/font-awesome/solid/bitcoin-sign.svg","fas-bitcoin-sign":"assets/fonts/font-awesome/solid/bitcoin-sign.svg","fa-blender-phone":"assets/fonts/font-awesome/solid/blender-phone.svg","fas-blender-phone":"assets/fonts/font-awesome/solid/blender-phone.svg","fa-blender":"assets/fonts/font-awesome/solid/blender.svg","fas-blender":"assets/fonts/font-awesome/solid/blender.svg","fa-blog":"assets/fonts/font-awesome/solid/blog.svg","fas-blog":"assets/fonts/font-awesome/solid/blog.svg","fa-bold":"assets/fonts/font-awesome/solid/bold.svg","fas-bold":"assets/fonts/font-awesome/solid/bold.svg","fa-bolt-lightning":"assets/fonts/font-awesome/solid/bolt-lightning.svg","fas-bolt-lightning":"assets/fonts/font-awesome/solid/bolt-lightning.svg","fa-bolt":"assets/fonts/font-awesome/solid/bolt.svg","fas-bolt":"assets/fonts/font-awesome/solid/bolt.svg","fa-bomb":"assets/fonts/font-awesome/solid/bomb.svg","fas-bomb":"assets/fonts/font-awesome/solid/bomb.svg","fa-bone":"assets/fonts/font-awesome/solid/bone.svg","fas-bone":"assets/fonts/font-awesome/solid/bone.svg","fa-bong":"assets/fonts/font-awesome/solid/bong.svg","fas-bong":"assets/fonts/font-awesome/solid/bong.svg","fa-book-atlas":"assets/fonts/font-awesome/solid/book-atlas.svg","fas-book-atlas":"assets/fonts/font-awesome/solid/book-atlas.svg","fa-book-bible":"assets/fonts/font-awesome/solid/book-bible.svg","fas-book-bible":"assets/fonts/font-awesome/solid/book-bible.svg","fa-book-bookmark":"assets/fonts/font-awesome/solid/book-bookmark.svg","fas-book-bookmark":"assets/fonts/font-awesome/solid/book-bookmark.svg","fa-book-journal-whills":"assets/fonts/font-awesome/solid/book-journal-whills.svg","fas-book-journal-whills":"assets/fonts/font-awesome/solid/book-journal-whills.svg","fa-book-medical":"assets/fonts/font-awesome/solid/book-medical.svg","fas-book-medical":"assets/fonts/font-awesome/solid/book-medical.svg","fa-book-open-reader":"assets/fonts/font-awesome/solid/book-open-reader.svg","fas-book-open-reader":"assets/fonts/font-awesome/solid/book-open-reader.svg","fa-book-open":"assets/fonts/font-awesome/solid/book-open.svg","fas-book-open":"assets/fonts/font-awesome/solid/book-open.svg","fa-book-quran":"assets/fonts/font-awesome/solid/book-quran.svg","fas-book-quran":"assets/fonts/font-awesome/solid/book-quran.svg","fa-book-skull":"assets/fonts/font-awesome/solid/book-skull.svg","fas-book-skull":"assets/fonts/font-awesome/solid/book-skull.svg","fa-book-tanakh":"assets/fonts/font-awesome/solid/book-tanakh.svg","fas-book-tanakh":"assets/fonts/font-awesome/solid/book-tanakh.svg","fa-book":"assets/fonts/font-awesome/solid/book.svg","fas-book":"assets/fonts/font-awesome/solid/book.svg","fa-bookmark":"assets/fonts/font-awesome/solid/bookmark.svg","fas-bookmark":"assets/fonts/font-awesome/solid/bookmark.svg","fa-border-all":"assets/fonts/font-awesome/solid/border-all.svg","fas-border-all":"assets/fonts/font-awesome/solid/border-all.svg","fa-border-none":"assets/fonts/font-awesome/solid/border-none.svg","fas-border-none":"assets/fonts/font-awesome/solid/border-none.svg","fa-border-top-left":"assets/fonts/font-awesome/solid/border-top-left.svg","fas-border-top-left":"assets/fonts/font-awesome/solid/border-top-left.svg","fa-bore-hole":"assets/fonts/font-awesome/solid/bore-hole.svg","fas-bore-hole":"assets/fonts/font-awesome/solid/bore-hole.svg","fa-bottle-droplet":"assets/fonts/font-awesome/solid/bottle-droplet.svg","fas-bottle-droplet":"assets/fonts/font-awesome/solid/bottle-droplet.svg","fa-bottle-water":"assets/fonts/font-awesome/solid/bottle-water.svg","fas-bottle-water":"assets/fonts/font-awesome/solid/bottle-water.svg","fa-bowl-food":"assets/fonts/font-awesome/solid/bowl-food.svg","fas-bowl-food":"assets/fonts/font-awesome/solid/bowl-food.svg","fa-bowl-rice":"assets/fonts/font-awesome/solid/bowl-rice.svg","fas-bowl-rice":"assets/fonts/font-awesome/solid/bowl-rice.svg","fa-bowling-ball":"assets/fonts/font-awesome/solid/bowling-ball.svg","fas-bowling-ball":"assets/fonts/font-awesome/solid/bowling-ball.svg","fa-box-archive":"assets/fonts/font-awesome/solid/box-archive.svg","fas-box-archive":"assets/fonts/font-awesome/solid/box-archive.svg","fa-box-open":"assets/fonts/font-awesome/solid/box-open.svg","fas-box-open":"assets/fonts/font-awesome/solid/box-open.svg","fa-box-tissue":"assets/fonts/font-awesome/solid/box-tissue.svg","fas-box-tissue":"assets/fonts/font-awesome/solid/box-tissue.svg","fa-box":"assets/fonts/font-awesome/solid/box.svg","fas-box":"assets/fonts/font-awesome/solid/box.svg","fa-boxes-packing":"assets/fonts/font-awesome/solid/boxes-packing.svg","fas-boxes-packing":"assets/fonts/font-awesome/solid/boxes-packing.svg","fa-boxes-stacked":"assets/fonts/font-awesome/solid/boxes-stacked.svg","fas-boxes-stacked":"assets/fonts/font-awesome/solid/boxes-stacked.svg","fa-braille":"assets/fonts/font-awesome/solid/braille.svg","fas-braille":"assets/fonts/font-awesome/solid/braille.svg","fa-brain":"assets/fonts/font-awesome/solid/brain.svg","fas-brain":"assets/fonts/font-awesome/solid/brain.svg","fa-brazilian-real-sign":"assets/fonts/font-awesome/solid/brazilian-real-sign.svg","fas-brazilian-real-sign":"assets/fonts/font-awesome/solid/brazilian-real-sign.svg","fa-bread-slice":"assets/fonts/font-awesome/solid/bread-slice.svg","fas-bread-slice":"assets/fonts/font-awesome/solid/bread-slice.svg","fa-bridge-circle-check":"assets/fonts/font-awesome/solid/bridge-circle-check.svg","fas-bridge-circle-check":"assets/fonts/font-awesome/solid/bridge-circle-check.svg","fa-bridge-circle-exclamation":"assets/fonts/font-awesome/solid/bridge-circle-exclamation.svg","fas-bridge-circle-exclamation":"assets/fonts/font-awesome/solid/bridge-circle-exclamation.svg","fa-bridge-circle-xmark":"assets/fonts/font-awesome/solid/bridge-circle-xmark.svg","fas-bridge-circle-xmark":"assets/fonts/font-awesome/solid/bridge-circle-xmark.svg","fa-bridge-lock":"assets/fonts/font-awesome/solid/bridge-lock.svg","fas-bridge-lock":"assets/fonts/font-awesome/solid/bridge-lock.svg","fa-bridge-water":"assets/fonts/font-awesome/solid/bridge-water.svg","fas-bridge-water":"assets/fonts/font-awesome/solid/bridge-water.svg","fa-bridge":"assets/fonts/font-awesome/solid/bridge.svg","fas-bridge":"assets/fonts/font-awesome/solid/bridge.svg","fa-briefcase-medical":"assets/fonts/font-awesome/solid/briefcase-medical.svg","fas-briefcase-medical":"assets/fonts/font-awesome/solid/briefcase-medical.svg","fa-briefcase":"assets/fonts/font-awesome/solid/briefcase.svg","fas-briefcase":"assets/fonts/font-awesome/solid/briefcase.svg","fa-broom-ball":"assets/fonts/font-awesome/solid/broom-ball.svg","fas-broom-ball":"assets/fonts/font-awesome/solid/broom-ball.svg","fa-broom":"assets/fonts/font-awesome/solid/broom.svg","fas-broom":"assets/fonts/font-awesome/solid/broom.svg","fa-brush":"assets/fonts/font-awesome/solid/brush.svg","fas-brush":"assets/fonts/font-awesome/solid/brush.svg","fa-bucket":"assets/fonts/font-awesome/solid/bucket.svg","fas-bucket":"assets/fonts/font-awesome/solid/bucket.svg","fa-bug-slash":"assets/fonts/font-awesome/solid/bug-slash.svg","fas-bug-slash":"assets/fonts/font-awesome/solid/bug-slash.svg","fa-bug":"assets/fonts/font-awesome/solid/bug.svg","fas-bug":"assets/fonts/font-awesome/solid/bug.svg","fa-bugs":"assets/fonts/font-awesome/solid/bugs.svg","fas-bugs":"assets/fonts/font-awesome/solid/bugs.svg","fa-building-circle-arrow-right":"assets/fonts/font-awesome/solid/building-circle-arrow-right.svg","fas-building-circle-arrow-right":"assets/fonts/font-awesome/solid/building-circle-arrow-right.svg","fa-building-circle-check":"assets/fonts/font-awesome/solid/building-circle-check.svg","fas-building-circle-check":"assets/fonts/font-awesome/solid/building-circle-check.svg","fa-building-circle-exclamation":"assets/fonts/font-awesome/solid/building-circle-exclamation.svg","fas-building-circle-exclamation":"assets/fonts/font-awesome/solid/building-circle-exclamation.svg","fa-building-circle-xmark":"assets/fonts/font-awesome/solid/building-circle-xmark.svg","fas-building-circle-xmark":"assets/fonts/font-awesome/solid/building-circle-xmark.svg","fa-building-columns":"assets/fonts/font-awesome/solid/building-columns.svg","fas-building-columns":"assets/fonts/font-awesome/solid/building-columns.svg","fa-building-flag":"assets/fonts/font-awesome/solid/building-flag.svg","fas-building-flag":"assets/fonts/font-awesome/solid/building-flag.svg","fa-building-lock":"assets/fonts/font-awesome/solid/building-lock.svg","fas-building-lock":"assets/fonts/font-awesome/solid/building-lock.svg","fa-building-ngo":"assets/fonts/font-awesome/solid/building-ngo.svg","fas-building-ngo":"assets/fonts/font-awesome/solid/building-ngo.svg","fa-building-shield":"assets/fonts/font-awesome/solid/building-shield.svg","fas-building-shield":"assets/fonts/font-awesome/solid/building-shield.svg","fa-building-un":"assets/fonts/font-awesome/solid/building-un.svg","fas-building-un":"assets/fonts/font-awesome/solid/building-un.svg","fa-building-user":"assets/fonts/font-awesome/solid/building-user.svg","fas-building-user":"assets/fonts/font-awesome/solid/building-user.svg","fa-building-wheat":"assets/fonts/font-awesome/solid/building-wheat.svg","fas-building-wheat":"assets/fonts/font-awesome/solid/building-wheat.svg","fa-building":"assets/fonts/font-awesome/solid/building.svg","fas-building":"assets/fonts/font-awesome/solid/building.svg","fa-bullhorn":"assets/fonts/font-awesome/solid/bullhorn.svg","fas-bullhorn":"assets/fonts/font-awesome/solid/bullhorn.svg","fa-bullseye":"assets/fonts/font-awesome/solid/bullseye.svg","fas-bullseye":"assets/fonts/font-awesome/solid/bullseye.svg","fa-burger":"assets/fonts/font-awesome/solid/burger.svg","fas-burger":"assets/fonts/font-awesome/solid/burger.svg","fa-burst":"assets/fonts/font-awesome/solid/burst.svg","fas-burst":"assets/fonts/font-awesome/solid/burst.svg","fa-bus-simple":"assets/fonts/font-awesome/solid/bus-simple.svg","fas-bus-simple":"assets/fonts/font-awesome/solid/bus-simple.svg","fa-bus":"assets/fonts/font-awesome/solid/bus.svg","fas-bus":"assets/fonts/font-awesome/solid/bus.svg","fa-business-time":"assets/fonts/font-awesome/solid/business-time.svg","fas-business-time":"assets/fonts/font-awesome/solid/business-time.svg","fa-c":"assets/fonts/font-awesome/solid/c.svg","fas-c":"assets/fonts/font-awesome/solid/c.svg","fa-cable-car":"assets/fonts/font-awesome/solid/cable-car.svg","fas-cable-car":"assets/fonts/font-awesome/solid/cable-car.svg","fa-cake-candles":"assets/fonts/font-awesome/solid/cake-candles.svg","fas-cake-candles":"assets/fonts/font-awesome/solid/cake-candles.svg","fa-calculator":"assets/fonts/font-awesome/solid/calculator.svg","fas-calculator":"assets/fonts/font-awesome/solid/calculator.svg","fa-calendar-check":"assets/fonts/font-awesome/solid/calendar-check.svg","fas-calendar-check":"assets/fonts/font-awesome/solid/calendar-check.svg","fa-calendar-day":"assets/fonts/font-awesome/solid/calendar-day.svg","fas-calendar-day":"assets/fonts/font-awesome/solid/calendar-day.svg","fa-calendar-days":"assets/fonts/font-awesome/solid/calendar-days.svg","fas-calendar-days":"assets/fonts/font-awesome/solid/calendar-days.svg","fa-calendar-minus":"assets/fonts/font-awesome/solid/calendar-minus.svg","fas-calendar-minus":"assets/fonts/font-awesome/solid/calendar-minus.svg","fa-calendar-plus":"assets/fonts/font-awesome/solid/calendar-plus.svg","fas-calendar-plus":"assets/fonts/font-awesome/solid/calendar-plus.svg","fa-calendar-week":"assets/fonts/font-awesome/solid/calendar-week.svg","fas-calendar-week":"assets/fonts/font-awesome/solid/calendar-week.svg","fa-calendar-xmark":"assets/fonts/font-awesome/solid/calendar-xmark.svg","fas-calendar-xmark":"assets/fonts/font-awesome/solid/calendar-xmark.svg","fa-calendar":"assets/fonts/font-awesome/solid/calendar.svg","fas-calendar":"assets/fonts/font-awesome/solid/calendar.svg","fa-camera-retro":"assets/fonts/font-awesome/solid/camera-retro.svg","fas-camera-retro":"assets/fonts/font-awesome/solid/camera-retro.svg","fa-camera-rotate":"assets/fonts/font-awesome/solid/camera-rotate.svg","fas-camera-rotate":"assets/fonts/font-awesome/solid/camera-rotate.svg","fa-camera":"assets/fonts/font-awesome/solid/camera.svg","fas-camera":"assets/fonts/font-awesome/solid/camera.svg","fa-campground":"assets/fonts/font-awesome/solid/campground.svg","fas-campground":"assets/fonts/font-awesome/solid/campground.svg","fa-candy-cane":"assets/fonts/font-awesome/solid/candy-cane.svg","fas-candy-cane":"assets/fonts/font-awesome/solid/candy-cane.svg","fa-cannabis":"assets/fonts/font-awesome/solid/cannabis.svg","fas-cannabis":"assets/fonts/font-awesome/solid/cannabis.svg","fa-capsules":"assets/fonts/font-awesome/solid/capsules.svg","fas-capsules":"assets/fonts/font-awesome/solid/capsules.svg","fa-car-battery":"assets/fonts/font-awesome/solid/car-battery.svg","fas-car-battery":"assets/fonts/font-awesome/solid/car-battery.svg","fa-car-burst":"assets/fonts/font-awesome/solid/car-burst.svg","fas-car-burst":"assets/fonts/font-awesome/solid/car-burst.svg","fa-car-on":"assets/fonts/font-awesome/solid/car-on.svg","fas-car-on":"assets/fonts/font-awesome/solid/car-on.svg","fa-car-rear":"assets/fonts/font-awesome/solid/car-rear.svg","fas-car-rear":"assets/fonts/font-awesome/solid/car-rear.svg","fa-car-side":"assets/fonts/font-awesome/solid/car-side.svg","fas-car-side":"assets/fonts/font-awesome/solid/car-side.svg","fa-car-tunnel":"assets/fonts/font-awesome/solid/car-tunnel.svg","fas-car-tunnel":"assets/fonts/font-awesome/solid/car-tunnel.svg","fa-car":"assets/fonts/font-awesome/solid/car.svg","fas-car":"assets/fonts/font-awesome/solid/car.svg","fa-caravan":"assets/fonts/font-awesome/solid/caravan.svg","fas-caravan":"assets/fonts/font-awesome/solid/caravan.svg","fa-caret-down":"assets/fonts/font-awesome/solid/caret-down.svg","fas-caret-down":"assets/fonts/font-awesome/solid/caret-down.svg","fa-caret-left":"assets/fonts/font-awesome/solid/caret-left.svg","fas-caret-left":"assets/fonts/font-awesome/solid/caret-left.svg","fa-caret-right":"assets/fonts/font-awesome/solid/caret-right.svg","fas-caret-right":"assets/fonts/font-awesome/solid/caret-right.svg","fa-caret-up":"assets/fonts/font-awesome/solid/caret-up.svg","fas-caret-up":"assets/fonts/font-awesome/solid/caret-up.svg","fa-carrot":"assets/fonts/font-awesome/solid/carrot.svg","fas-carrot":"assets/fonts/font-awesome/solid/carrot.svg","fa-cart-arrow-down":"assets/fonts/font-awesome/solid/cart-arrow-down.svg","fas-cart-arrow-down":"assets/fonts/font-awesome/solid/cart-arrow-down.svg","fa-cart-flatbed-suitcase":"assets/fonts/font-awesome/solid/cart-flatbed-suitcase.svg","fas-cart-flatbed-suitcase":"assets/fonts/font-awesome/solid/cart-flatbed-suitcase.svg","fa-cart-flatbed":"assets/fonts/font-awesome/solid/cart-flatbed.svg","fas-cart-flatbed":"assets/fonts/font-awesome/solid/cart-flatbed.svg","fa-cart-plus":"assets/fonts/font-awesome/solid/cart-plus.svg","fas-cart-plus":"assets/fonts/font-awesome/solid/cart-plus.svg","fa-cart-shopping":"assets/fonts/font-awesome/solid/cart-shopping.svg","fas-cart-shopping":"assets/fonts/font-awesome/solid/cart-shopping.svg","fa-cash-register":"assets/fonts/font-awesome/solid/cash-register.svg","fas-cash-register":"assets/fonts/font-awesome/solid/cash-register.svg","fa-cat":"assets/fonts/font-awesome/solid/cat.svg","fas-cat":"assets/fonts/font-awesome/solid/cat.svg","fa-cedi-sign":"assets/fonts/font-awesome/solid/cedi-sign.svg","fas-cedi-sign":"assets/fonts/font-awesome/solid/cedi-sign.svg","fa-cent-sign":"assets/fonts/font-awesome/solid/cent-sign.svg","fas-cent-sign":"assets/fonts/font-awesome/solid/cent-sign.svg","fa-certificate":"assets/fonts/font-awesome/solid/certificate.svg","fas-certificate":"assets/fonts/font-awesome/solid/certificate.svg","fa-chair":"assets/fonts/font-awesome/solid/chair.svg","fas-chair":"assets/fonts/font-awesome/solid/chair.svg","fa-chalkboard-user":"assets/fonts/font-awesome/solid/chalkboard-user.svg","fas-chalkboard-user":"assets/fonts/font-awesome/solid/chalkboard-user.svg","fa-chalkboard":"assets/fonts/font-awesome/solid/chalkboard.svg","fas-chalkboard":"assets/fonts/font-awesome/solid/chalkboard.svg","fa-champagne-glasses":"assets/fonts/font-awesome/solid/champagne-glasses.svg","fas-champagne-glasses":"assets/fonts/font-awesome/solid/champagne-glasses.svg","fa-charging-station":"assets/fonts/font-awesome/solid/charging-station.svg","fas-charging-station":"assets/fonts/font-awesome/solid/charging-station.svg","fa-chart-area":"assets/fonts/font-awesome/solid/chart-area.svg","fas-chart-area":"assets/fonts/font-awesome/solid/chart-area.svg","fa-chart-bar":"assets/fonts/font-awesome/solid/chart-bar.svg","fas-chart-bar":"assets/fonts/font-awesome/solid/chart-bar.svg","fa-chart-column":"assets/fonts/font-awesome/solid/chart-column.svg","fas-chart-column":"assets/fonts/font-awesome/solid/chart-column.svg","fa-chart-gantt":"assets/fonts/font-awesome/solid/chart-gantt.svg","fas-chart-gantt":"assets/fonts/font-awesome/solid/chart-gantt.svg","fa-chart-line":"assets/fonts/font-awesome/solid/chart-line.svg","fas-chart-line":"assets/fonts/font-awesome/solid/chart-line.svg","fa-chart-pie":"assets/fonts/font-awesome/solid/chart-pie.svg","fas-chart-pie":"assets/fonts/font-awesome/solid/chart-pie.svg","fa-chart-simple":"assets/fonts/font-awesome/solid/chart-simple.svg","fas-chart-simple":"assets/fonts/font-awesome/solid/chart-simple.svg","fa-check-double":"assets/fonts/font-awesome/solid/check-double.svg","fas-check-double":"assets/fonts/font-awesome/solid/check-double.svg","fa-check-to-slot":"assets/fonts/font-awesome/solid/check-to-slot.svg","fas-check-to-slot":"assets/fonts/font-awesome/solid/check-to-slot.svg","fa-check":"assets/fonts/font-awesome/solid/check.svg","fas-check":"assets/fonts/font-awesome/solid/check.svg","fa-cheese":"assets/fonts/font-awesome/solid/cheese.svg","fas-cheese":"assets/fonts/font-awesome/solid/cheese.svg","fa-chess-bishop":"assets/fonts/font-awesome/solid/chess-bishop.svg","fas-chess-bishop":"assets/fonts/font-awesome/solid/chess-bishop.svg","fa-chess-board":"assets/fonts/font-awesome/solid/chess-board.svg","fas-chess-board":"assets/fonts/font-awesome/solid/chess-board.svg","fa-chess-king":"assets/fonts/font-awesome/solid/chess-king.svg","fas-chess-king":"assets/fonts/font-awesome/solid/chess-king.svg","fa-chess-knight":"assets/fonts/font-awesome/solid/chess-knight.svg","fas-chess-knight":"assets/fonts/font-awesome/solid/chess-knight.svg","fa-chess-pawn":"assets/fonts/font-awesome/solid/chess-pawn.svg","fas-chess-pawn":"assets/fonts/font-awesome/solid/chess-pawn.svg","fa-chess-queen":"assets/fonts/font-awesome/solid/chess-queen.svg","fas-chess-queen":"assets/fonts/font-awesome/solid/chess-queen.svg","fa-chess-rook":"assets/fonts/font-awesome/solid/chess-rook.svg","fas-chess-rook":"assets/fonts/font-awesome/solid/chess-rook.svg","fa-chess":"assets/fonts/font-awesome/solid/chess.svg","fas-chess":"assets/fonts/font-awesome/solid/chess.svg","fa-chevron-down":"assets/fonts/font-awesome/solid/chevron-down.svg","fas-chevron-down":"assets/fonts/font-awesome/solid/chevron-down.svg","fa-chevron-left":"assets/fonts/font-awesome/solid/chevron-left.svg","fas-chevron-left":"assets/fonts/font-awesome/solid/chevron-left.svg","fa-chevron-right":"assets/fonts/font-awesome/solid/chevron-right.svg","fas-chevron-right":"assets/fonts/font-awesome/solid/chevron-right.svg","fa-chevron-up":"assets/fonts/font-awesome/solid/chevron-up.svg","fas-chevron-up":"assets/fonts/font-awesome/solid/chevron-up.svg","fa-child-combatant":"assets/fonts/font-awesome/solid/child-combatant.svg","fas-child-combatant":"assets/fonts/font-awesome/solid/child-combatant.svg","fa-child-dress":"assets/fonts/font-awesome/solid/child-dress.svg","fas-child-dress":"assets/fonts/font-awesome/solid/child-dress.svg","fa-child-reaching":"assets/fonts/font-awesome/solid/child-reaching.svg","fas-child-reaching":"assets/fonts/font-awesome/solid/child-reaching.svg","fa-child":"assets/fonts/font-awesome/solid/child.svg","fas-child":"assets/fonts/font-awesome/solid/child.svg","fa-children":"assets/fonts/font-awesome/solid/children.svg","fas-children":"assets/fonts/font-awesome/solid/children.svg","fa-church":"assets/fonts/font-awesome/solid/church.svg","fas-church":"assets/fonts/font-awesome/solid/church.svg","fa-circle-arrow-down":"assets/fonts/font-awesome/solid/circle-arrow-down.svg","fas-circle-arrow-down":"assets/fonts/font-awesome/solid/circle-arrow-down.svg","fa-circle-arrow-left":"assets/fonts/font-awesome/solid/circle-arrow-left.svg","fas-circle-arrow-left":"assets/fonts/font-awesome/solid/circle-arrow-left.svg","fa-circle-arrow-right":"assets/fonts/font-awesome/solid/circle-arrow-right.svg","fas-circle-arrow-right":"assets/fonts/font-awesome/solid/circle-arrow-right.svg","fa-circle-arrow-up":"assets/fonts/font-awesome/solid/circle-arrow-up.svg","fas-circle-arrow-up":"assets/fonts/font-awesome/solid/circle-arrow-up.svg","fa-circle-check":"assets/fonts/font-awesome/solid/circle-check.svg","fas-circle-check":"assets/fonts/font-awesome/solid/circle-check.svg","fa-circle-chevron-down":"assets/fonts/font-awesome/solid/circle-chevron-down.svg","fas-circle-chevron-down":"assets/fonts/font-awesome/solid/circle-chevron-down.svg","fa-circle-chevron-left":"assets/fonts/font-awesome/solid/circle-chevron-left.svg","fas-circle-chevron-left":"assets/fonts/font-awesome/solid/circle-chevron-left.svg","fa-circle-chevron-right":"assets/fonts/font-awesome/solid/circle-chevron-right.svg","fas-circle-chevron-right":"assets/fonts/font-awesome/solid/circle-chevron-right.svg","fa-circle-chevron-up":"assets/fonts/font-awesome/solid/circle-chevron-up.svg","fas-circle-chevron-up":"assets/fonts/font-awesome/solid/circle-chevron-up.svg","fa-circle-dollar-to-slot":"assets/fonts/font-awesome/solid/circle-dollar-to-slot.svg","fas-circle-dollar-to-slot":"assets/fonts/font-awesome/solid/circle-dollar-to-slot.svg","fa-circle-dot":"assets/fonts/font-awesome/solid/circle-dot.svg","fas-circle-dot":"assets/fonts/font-awesome/solid/circle-dot.svg","fa-circle-down":"assets/fonts/font-awesome/solid/circle-down.svg","fas-circle-down":"assets/fonts/font-awesome/solid/circle-down.svg","fa-circle-exclamation":"assets/fonts/font-awesome/solid/circle-exclamation.svg","fas-circle-exclamation":"assets/fonts/font-awesome/solid/circle-exclamation.svg","fa-circle-h":"assets/fonts/font-awesome/solid/circle-h.svg","fas-circle-h":"assets/fonts/font-awesome/solid/circle-h.svg","fa-circle-half-stroke":"assets/fonts/font-awesome/solid/circle-half-stroke.svg","fas-circle-half-stroke":"assets/fonts/font-awesome/solid/circle-half-stroke.svg","fa-circle-info":"assets/fonts/font-awesome/solid/circle-info.svg","fas-circle-info":"assets/fonts/font-awesome/solid/circle-info.svg","fa-circle-left":"assets/fonts/font-awesome/solid/circle-left.svg","fas-circle-left":"assets/fonts/font-awesome/solid/circle-left.svg","fa-circle-minus":"assets/fonts/font-awesome/solid/circle-minus.svg","fas-circle-minus":"assets/fonts/font-awesome/solid/circle-minus.svg","fa-circle-nodes":"assets/fonts/font-awesome/solid/circle-nodes.svg","fas-circle-nodes":"assets/fonts/font-awesome/solid/circle-nodes.svg","fa-circle-notch":"assets/fonts/font-awesome/solid/circle-notch.svg","fas-circle-notch":"assets/fonts/font-awesome/solid/circle-notch.svg","fa-circle-pause":"assets/fonts/font-awesome/solid/circle-pause.svg","fas-circle-pause":"assets/fonts/font-awesome/solid/circle-pause.svg","fa-circle-play":"assets/fonts/font-awesome/solid/circle-play.svg","fas-circle-play":"assets/fonts/font-awesome/solid/circle-play.svg","fa-circle-plus":"assets/fonts/font-awesome/solid/circle-plus.svg","fas-circle-plus":"assets/fonts/font-awesome/solid/circle-plus.svg","fa-circle-question":"assets/fonts/font-awesome/solid/circle-question.svg","fas-circle-question":"assets/fonts/font-awesome/solid/circle-question.svg","fa-circle-radiation":"assets/fonts/font-awesome/solid/circle-radiation.svg","fas-circle-radiation":"assets/fonts/font-awesome/solid/circle-radiation.svg","fa-circle-right":"assets/fonts/font-awesome/solid/circle-right.svg","fas-circle-right":"assets/fonts/font-awesome/solid/circle-right.svg","fa-circle-stop":"assets/fonts/font-awesome/solid/circle-stop.svg","fas-circle-stop":"assets/fonts/font-awesome/solid/circle-stop.svg","fa-circle-up":"assets/fonts/font-awesome/solid/circle-up.svg","fas-circle-up":"assets/fonts/font-awesome/solid/circle-up.svg","fa-circle-user":"assets/fonts/font-awesome/solid/circle-user.svg","fas-circle-user":"assets/fonts/font-awesome/solid/circle-user.svg","fa-circle-xmark":"assets/fonts/font-awesome/solid/circle-xmark.svg","fas-circle-xmark":"assets/fonts/font-awesome/solid/circle-xmark.svg","fa-circle":"assets/fonts/font-awesome/solid/circle.svg","fas-circle":"assets/fonts/font-awesome/solid/circle.svg","fa-city":"assets/fonts/font-awesome/solid/city.svg","fas-city":"assets/fonts/font-awesome/solid/city.svg","fa-clapperboard":"assets/fonts/font-awesome/solid/clapperboard.svg","fas-clapperboard":"assets/fonts/font-awesome/solid/clapperboard.svg","fa-clipboard-check":"assets/fonts/font-awesome/solid/clipboard-check.svg","fas-clipboard-check":"assets/fonts/font-awesome/solid/clipboard-check.svg","fa-clipboard-list":"assets/fonts/font-awesome/solid/clipboard-list.svg","fas-clipboard-list":"assets/fonts/font-awesome/solid/clipboard-list.svg","fa-clipboard-question":"assets/fonts/font-awesome/solid/clipboard-question.svg","fas-clipboard-question":"assets/fonts/font-awesome/solid/clipboard-question.svg","fa-clipboard-user":"assets/fonts/font-awesome/solid/clipboard-user.svg","fas-clipboard-user":"assets/fonts/font-awesome/solid/clipboard-user.svg","fa-clipboard":"assets/fonts/font-awesome/solid/clipboard.svg","fas-clipboard":"assets/fonts/font-awesome/solid/clipboard.svg","fa-clock-rotate-left":"assets/fonts/font-awesome/solid/clock-rotate-left.svg","fas-clock-rotate-left":"assets/fonts/font-awesome/solid/clock-rotate-left.svg","fa-clock":"assets/fonts/font-awesome/solid/clock.svg","fas-clock":"assets/fonts/font-awesome/solid/clock.svg","fa-clone":"assets/fonts/font-awesome/solid/clone.svg","fas-clone":"assets/fonts/font-awesome/solid/clone.svg","fa-closed-captioning":"assets/fonts/font-awesome/solid/closed-captioning.svg","fas-closed-captioning":"assets/fonts/font-awesome/solid/closed-captioning.svg","fa-cloud-arrow-down":"assets/fonts/font-awesome/solid/cloud-arrow-down.svg","fas-cloud-arrow-down":"assets/fonts/font-awesome/solid/cloud-arrow-down.svg","fa-cloud-arrow-up":"assets/fonts/font-awesome/solid/cloud-arrow-up.svg","fas-cloud-arrow-up":"assets/fonts/font-awesome/solid/cloud-arrow-up.svg","fa-cloud-bolt":"assets/fonts/font-awesome/solid/cloud-bolt.svg","fas-cloud-bolt":"assets/fonts/font-awesome/solid/cloud-bolt.svg","fa-cloud-meatball":"assets/fonts/font-awesome/solid/cloud-meatball.svg","fas-cloud-meatball":"assets/fonts/font-awesome/solid/cloud-meatball.svg","fa-cloud-moon-rain":"assets/fonts/font-awesome/solid/cloud-moon-rain.svg","fas-cloud-moon-rain":"assets/fonts/font-awesome/solid/cloud-moon-rain.svg","fa-cloud-moon":"assets/fonts/font-awesome/solid/cloud-moon.svg","fas-cloud-moon":"assets/fonts/font-awesome/solid/cloud-moon.svg","fa-cloud-rain":"assets/fonts/font-awesome/solid/cloud-rain.svg","fas-cloud-rain":"assets/fonts/font-awesome/solid/cloud-rain.svg","fa-cloud-showers-heavy":"assets/fonts/font-awesome/solid/cloud-showers-heavy.svg","fas-cloud-showers-heavy":"assets/fonts/font-awesome/solid/cloud-showers-heavy.svg","fa-cloud-showers-water":"assets/fonts/font-awesome/solid/cloud-showers-water.svg","fas-cloud-showers-water":"assets/fonts/font-awesome/solid/cloud-showers-water.svg","fa-cloud-sun-rain":"assets/fonts/font-awesome/solid/cloud-sun-rain.svg","fas-cloud-sun-rain":"assets/fonts/font-awesome/solid/cloud-sun-rain.svg","fa-cloud-sun":"assets/fonts/font-awesome/solid/cloud-sun.svg","fas-cloud-sun":"assets/fonts/font-awesome/solid/cloud-sun.svg","fa-cloud":"assets/fonts/font-awesome/solid/cloud.svg","fas-cloud":"assets/fonts/font-awesome/solid/cloud.svg","fa-clover":"assets/fonts/font-awesome/solid/clover.svg","fas-clover":"assets/fonts/font-awesome/solid/clover.svg","fa-code-branch":"assets/fonts/font-awesome/solid/code-branch.svg","fas-code-branch":"assets/fonts/font-awesome/solid/code-branch.svg","fa-code-commit":"assets/fonts/font-awesome/solid/code-commit.svg","fas-code-commit":"assets/fonts/font-awesome/solid/code-commit.svg","fa-code-compare":"assets/fonts/font-awesome/solid/code-compare.svg","fas-code-compare":"assets/fonts/font-awesome/solid/code-compare.svg","fa-code-fork":"assets/fonts/font-awesome/solid/code-fork.svg","fas-code-fork":"assets/fonts/font-awesome/solid/code-fork.svg","fa-code-merge":"assets/fonts/font-awesome/solid/code-merge.svg","fas-code-merge":"assets/fonts/font-awesome/solid/code-merge.svg","fa-code-pull-request":"assets/fonts/font-awesome/solid/code-pull-request.svg","fas-code-pull-request":"assets/fonts/font-awesome/solid/code-pull-request.svg","fa-code":"assets/fonts/font-awesome/solid/code.svg","fas-code":"assets/fonts/font-awesome/solid/code.svg","fa-coins":"assets/fonts/font-awesome/solid/coins.svg","fas-coins":"assets/fonts/font-awesome/solid/coins.svg","fa-colon-sign":"assets/fonts/font-awesome/solid/colon-sign.svg","fas-colon-sign":"assets/fonts/font-awesome/solid/colon-sign.svg","fa-comment-dollar":"assets/fonts/font-awesome/solid/comment-dollar.svg","fas-comment-dollar":"assets/fonts/font-awesome/solid/comment-dollar.svg","fa-comment-dots":"assets/fonts/font-awesome/solid/comment-dots.svg","fas-comment-dots":"assets/fonts/font-awesome/solid/comment-dots.svg","fa-comment-medical":"assets/fonts/font-awesome/solid/comment-medical.svg","fas-comment-medical":"assets/fonts/font-awesome/solid/comment-medical.svg","fa-comment-slash":"assets/fonts/font-awesome/solid/comment-slash.svg","fas-comment-slash":"assets/fonts/font-awesome/solid/comment-slash.svg","fa-comment-sms":"assets/fonts/font-awesome/solid/comment-sms.svg","fas-comment-sms":"assets/fonts/font-awesome/solid/comment-sms.svg","fa-comment":"assets/fonts/font-awesome/solid/comment.svg","fas-comment":"assets/fonts/font-awesome/solid/comment.svg","fa-comments-dollar":"assets/fonts/font-awesome/solid/comments-dollar.svg","fas-comments-dollar":"assets/fonts/font-awesome/solid/comments-dollar.svg","fa-comments":"assets/fonts/font-awesome/solid/comments.svg","fas-comments":"assets/fonts/font-awesome/solid/comments.svg","fa-compact-disc":"assets/fonts/font-awesome/solid/compact-disc.svg","fas-compact-disc":"assets/fonts/font-awesome/solid/compact-disc.svg","fa-compass-drafting":"assets/fonts/font-awesome/solid/compass-drafting.svg","fas-compass-drafting":"assets/fonts/font-awesome/solid/compass-drafting.svg","fa-compass":"assets/fonts/font-awesome/solid/compass.svg","fas-compass":"assets/fonts/font-awesome/solid/compass.svg","fa-compress":"assets/fonts/font-awesome/solid/compress.svg","fas-compress":"assets/fonts/font-awesome/solid/compress.svg","fa-computer-mouse":"assets/fonts/font-awesome/solid/computer-mouse.svg","fas-computer-mouse":"assets/fonts/font-awesome/solid/computer-mouse.svg","fa-computer":"assets/fonts/font-awesome/solid/computer.svg","fas-computer":"assets/fonts/font-awesome/solid/computer.svg","fa-cookie-bite":"assets/fonts/font-awesome/solid/cookie-bite.svg","fas-cookie-bite":"assets/fonts/font-awesome/solid/cookie-bite.svg","fa-cookie":"assets/fonts/font-awesome/solid/cookie.svg","fas-cookie":"assets/fonts/font-awesome/solid/cookie.svg","fa-copy":"assets/fonts/font-awesome/solid/copy.svg","fas-copy":"assets/fonts/font-awesome/solid/copy.svg","fa-copyright":"assets/fonts/font-awesome/solid/copyright.svg","fas-copyright":"assets/fonts/font-awesome/solid/copyright.svg","fa-couch":"assets/fonts/font-awesome/solid/couch.svg","fas-couch":"assets/fonts/font-awesome/solid/couch.svg","fa-cow":"assets/fonts/font-awesome/solid/cow.svg","fas-cow":"assets/fonts/font-awesome/solid/cow.svg","fa-credit-card":"assets/fonts/font-awesome/solid/credit-card.svg","fas-credit-card":"assets/fonts/font-awesome/solid/credit-card.svg","fa-crop-simple":"assets/fonts/font-awesome/solid/crop-simple.svg","fas-crop-simple":"assets/fonts/font-awesome/solid/crop-simple.svg","fa-crop":"assets/fonts/font-awesome/solid/crop.svg","fas-crop":"assets/fonts/font-awesome/solid/crop.svg","fa-cross":"assets/fonts/font-awesome/solid/cross.svg","fas-cross":"assets/fonts/font-awesome/solid/cross.svg","fa-crosshairs":"assets/fonts/font-awesome/solid/crosshairs.svg","fas-crosshairs":"assets/fonts/font-awesome/solid/crosshairs.svg","fa-crow":"assets/fonts/font-awesome/solid/crow.svg","fas-crow":"assets/fonts/font-awesome/solid/crow.svg","fa-crown":"assets/fonts/font-awesome/solid/crown.svg","fas-crown":"assets/fonts/font-awesome/solid/crown.svg","fa-crutch":"assets/fonts/font-awesome/solid/crutch.svg","fas-crutch":"assets/fonts/font-awesome/solid/crutch.svg","fa-cruzeiro-sign":"assets/fonts/font-awesome/solid/cruzeiro-sign.svg","fas-cruzeiro-sign":"assets/fonts/font-awesome/solid/cruzeiro-sign.svg","fa-cube":"assets/fonts/font-awesome/solid/cube.svg","fas-cube":"assets/fonts/font-awesome/solid/cube.svg","fa-cubes-stacked":"assets/fonts/font-awesome/solid/cubes-stacked.svg","fas-cubes-stacked":"assets/fonts/font-awesome/solid/cubes-stacked.svg","fa-cubes":"assets/fonts/font-awesome/solid/cubes.svg","fas-cubes":"assets/fonts/font-awesome/solid/cubes.svg","fa-d":"assets/fonts/font-awesome/solid/d.svg","fas-d":"assets/fonts/font-awesome/solid/d.svg","fa-database":"assets/fonts/font-awesome/solid/database.svg","fas-database":"assets/fonts/font-awesome/solid/database.svg","fa-delete-left":"assets/fonts/font-awesome/solid/delete-left.svg","fas-delete-left":"assets/fonts/font-awesome/solid/delete-left.svg","fa-democrat":"assets/fonts/font-awesome/solid/democrat.svg","fas-democrat":"assets/fonts/font-awesome/solid/democrat.svg","fa-desktop":"assets/fonts/font-awesome/solid/desktop.svg","fas-desktop":"assets/fonts/font-awesome/solid/desktop.svg","fa-dharmachakra":"assets/fonts/font-awesome/solid/dharmachakra.svg","fas-dharmachakra":"assets/fonts/font-awesome/solid/dharmachakra.svg","fa-diagram-next":"assets/fonts/font-awesome/solid/diagram-next.svg","fas-diagram-next":"assets/fonts/font-awesome/solid/diagram-next.svg","fa-diagram-predecessor":"assets/fonts/font-awesome/solid/diagram-predecessor.svg","fas-diagram-predecessor":"assets/fonts/font-awesome/solid/diagram-predecessor.svg","fa-diagram-project":"assets/fonts/font-awesome/solid/diagram-project.svg","fas-diagram-project":"assets/fonts/font-awesome/solid/diagram-project.svg","fa-diagram-successor":"assets/fonts/font-awesome/solid/diagram-successor.svg","fas-diagram-successor":"assets/fonts/font-awesome/solid/diagram-successor.svg","fa-diamond-turn-right":"assets/fonts/font-awesome/solid/diamond-turn-right.svg","fas-diamond-turn-right":"assets/fonts/font-awesome/solid/diamond-turn-right.svg","fa-diamond":"assets/fonts/font-awesome/solid/diamond.svg","fas-diamond":"assets/fonts/font-awesome/solid/diamond.svg","fa-dice-d20":"assets/fonts/font-awesome/solid/dice-d20.svg","fas-dice-d20":"assets/fonts/font-awesome/solid/dice-d20.svg","fa-dice-d6":"assets/fonts/font-awesome/solid/dice-d6.svg","fas-dice-d6":"assets/fonts/font-awesome/solid/dice-d6.svg","fa-dice-five":"assets/fonts/font-awesome/solid/dice-five.svg","fas-dice-five":"assets/fonts/font-awesome/solid/dice-five.svg","fa-dice-four":"assets/fonts/font-awesome/solid/dice-four.svg","fas-dice-four":"assets/fonts/font-awesome/solid/dice-four.svg","fa-dice-one":"assets/fonts/font-awesome/solid/dice-one.svg","fas-dice-one":"assets/fonts/font-awesome/solid/dice-one.svg","fa-dice-six":"assets/fonts/font-awesome/solid/dice-six.svg","fas-dice-six":"assets/fonts/font-awesome/solid/dice-six.svg","fa-dice-three":"assets/fonts/font-awesome/solid/dice-three.svg","fas-dice-three":"assets/fonts/font-awesome/solid/dice-three.svg","fa-dice-two":"assets/fonts/font-awesome/solid/dice-two.svg","fas-dice-two":"assets/fonts/font-awesome/solid/dice-two.svg","fa-dice":"assets/fonts/font-awesome/solid/dice.svg","fas-dice":"assets/fonts/font-awesome/solid/dice.svg","fa-disease":"assets/fonts/font-awesome/solid/disease.svg","fas-disease":"assets/fonts/font-awesome/solid/disease.svg","fa-display":"assets/fonts/font-awesome/solid/display.svg","fas-display":"assets/fonts/font-awesome/solid/display.svg","fa-divide":"assets/fonts/font-awesome/solid/divide.svg","fas-divide":"assets/fonts/font-awesome/solid/divide.svg","fa-dna":"assets/fonts/font-awesome/solid/dna.svg","fas-dna":"assets/fonts/font-awesome/solid/dna.svg","fa-dog":"assets/fonts/font-awesome/solid/dog.svg","fas-dog":"assets/fonts/font-awesome/solid/dog.svg","fa-dollar-sign":"assets/fonts/font-awesome/solid/dollar-sign.svg","fas-dollar-sign":"assets/fonts/font-awesome/solid/dollar-sign.svg","fa-dolly":"assets/fonts/font-awesome/solid/dolly.svg","fas-dolly":"assets/fonts/font-awesome/solid/dolly.svg","fa-dong-sign":"assets/fonts/font-awesome/solid/dong-sign.svg","fas-dong-sign":"assets/fonts/font-awesome/solid/dong-sign.svg","fa-door-closed":"assets/fonts/font-awesome/solid/door-closed.svg","fas-door-closed":"assets/fonts/font-awesome/solid/door-closed.svg","fa-door-open":"assets/fonts/font-awesome/solid/door-open.svg","fas-door-open":"assets/fonts/font-awesome/solid/door-open.svg","fa-dove":"assets/fonts/font-awesome/solid/dove.svg","fas-dove":"assets/fonts/font-awesome/solid/dove.svg","fa-down-left-and-up-right-to-center":"assets/fonts/font-awesome/solid/down-left-and-up-right-to-center.svg","fas-down-left-and-up-right-to-center":"assets/fonts/font-awesome/solid/down-left-and-up-right-to-center.svg","fa-down-long":"assets/fonts/font-awesome/solid/down-long.svg","fas-down-long":"assets/fonts/font-awesome/solid/down-long.svg","fa-download":"assets/fonts/font-awesome/solid/download.svg","fas-download":"assets/fonts/font-awesome/solid/download.svg","fa-dragon":"assets/fonts/font-awesome/solid/dragon.svg","fas-dragon":"assets/fonts/font-awesome/solid/dragon.svg","fa-draw-polygon":"assets/fonts/font-awesome/solid/draw-polygon.svg","fas-draw-polygon":"assets/fonts/font-awesome/solid/draw-polygon.svg","fa-droplet-slash":"assets/fonts/font-awesome/solid/droplet-slash.svg","fas-droplet-slash":"assets/fonts/font-awesome/solid/droplet-slash.svg","fa-droplet":"assets/fonts/font-awesome/solid/droplet.svg","fas-droplet":"assets/fonts/font-awesome/solid/droplet.svg","fa-drum-steelpan":"assets/fonts/font-awesome/solid/drum-steelpan.svg","fas-drum-steelpan":"assets/fonts/font-awesome/solid/drum-steelpan.svg","fa-drum":"assets/fonts/font-awesome/solid/drum.svg","fas-drum":"assets/fonts/font-awesome/solid/drum.svg","fa-drumstick-bite":"assets/fonts/font-awesome/solid/drumstick-bite.svg","fas-drumstick-bite":"assets/fonts/font-awesome/solid/drumstick-bite.svg","fa-dumbbell":"assets/fonts/font-awesome/solid/dumbbell.svg","fas-dumbbell":"assets/fonts/font-awesome/solid/dumbbell.svg","fa-dumpster-fire":"assets/fonts/font-awesome/solid/dumpster-fire.svg","fas-dumpster-fire":"assets/fonts/font-awesome/solid/dumpster-fire.svg","fa-dumpster":"assets/fonts/font-awesome/solid/dumpster.svg","fas-dumpster":"assets/fonts/font-awesome/solid/dumpster.svg","fa-dungeon":"assets/fonts/font-awesome/solid/dungeon.svg","fas-dungeon":"assets/fonts/font-awesome/solid/dungeon.svg","fa-e":"assets/fonts/font-awesome/solid/e.svg","fas-e":"assets/fonts/font-awesome/solid/e.svg","fa-ear-deaf":"assets/fonts/font-awesome/solid/ear-deaf.svg","fas-ear-deaf":"assets/fonts/font-awesome/solid/ear-deaf.svg","fa-ear-listen":"assets/fonts/font-awesome/solid/ear-listen.svg","fas-ear-listen":"assets/fonts/font-awesome/solid/ear-listen.svg","fa-earth-africa":"assets/fonts/font-awesome/solid/earth-africa.svg","fas-earth-africa":"assets/fonts/font-awesome/solid/earth-africa.svg","fa-earth-americas":"assets/fonts/font-awesome/solid/earth-americas.svg","fas-earth-americas":"assets/fonts/font-awesome/solid/earth-americas.svg","fa-earth-asia":"assets/fonts/font-awesome/solid/earth-asia.svg","fas-earth-asia":"assets/fonts/font-awesome/solid/earth-asia.svg","fa-earth-europe":"assets/fonts/font-awesome/solid/earth-europe.svg","fas-earth-europe":"assets/fonts/font-awesome/solid/earth-europe.svg","fa-earth-oceania":"assets/fonts/font-awesome/solid/earth-oceania.svg","fas-earth-oceania":"assets/fonts/font-awesome/solid/earth-oceania.svg","fa-egg":"assets/fonts/font-awesome/solid/egg.svg","fas-egg":"assets/fonts/font-awesome/solid/egg.svg","fa-eject":"assets/fonts/font-awesome/solid/eject.svg","fas-eject":"assets/fonts/font-awesome/solid/eject.svg","fa-elevator":"assets/fonts/font-awesome/solid/elevator.svg","fas-elevator":"assets/fonts/font-awesome/solid/elevator.svg","fa-ellipsis-vertical":"assets/fonts/font-awesome/solid/ellipsis-vertical.svg","fas-ellipsis-vertical":"assets/fonts/font-awesome/solid/ellipsis-vertical.svg","fa-ellipsis":"assets/fonts/font-awesome/solid/ellipsis.svg","fas-ellipsis":"assets/fonts/font-awesome/solid/ellipsis.svg","fa-envelope-circle-check":"assets/fonts/font-awesome/solid/envelope-circle-check.svg","fas-envelope-circle-check":"assets/fonts/font-awesome/solid/envelope-circle-check.svg","fa-envelope-open-text":"assets/fonts/font-awesome/solid/envelope-open-text.svg","fas-envelope-open-text":"assets/fonts/font-awesome/solid/envelope-open-text.svg","fa-envelope-open":"assets/fonts/font-awesome/solid/envelope-open.svg","fas-envelope-open":"assets/fonts/font-awesome/solid/envelope-open.svg","fa-envelope":"assets/fonts/font-awesome/solid/envelope.svg","fas-envelope":"assets/fonts/font-awesome/solid/envelope.svg","fa-envelopes-bulk":"assets/fonts/font-awesome/solid/envelopes-bulk.svg","fas-envelopes-bulk":"assets/fonts/font-awesome/solid/envelopes-bulk.svg","fa-equals":"assets/fonts/font-awesome/solid/equals.svg","fas-equals":"assets/fonts/font-awesome/solid/equals.svg","fa-eraser":"assets/fonts/font-awesome/solid/eraser.svg","fas-eraser":"assets/fonts/font-awesome/solid/eraser.svg","fa-ethernet":"assets/fonts/font-awesome/solid/ethernet.svg","fas-ethernet":"assets/fonts/font-awesome/solid/ethernet.svg","fa-euro-sign":"assets/fonts/font-awesome/solid/euro-sign.svg","fas-euro-sign":"assets/fonts/font-awesome/solid/euro-sign.svg","fa-exclamation":"assets/fonts/font-awesome/solid/exclamation.svg","fas-exclamation":"assets/fonts/font-awesome/solid/exclamation.svg","fa-expand":"assets/fonts/font-awesome/solid/expand.svg","fas-expand":"assets/fonts/font-awesome/solid/expand.svg","fa-explosion":"assets/fonts/font-awesome/solid/explosion.svg","fas-explosion":"assets/fonts/font-awesome/solid/explosion.svg","fa-eye-dropper":"assets/fonts/font-awesome/solid/eye-dropper.svg","fas-eye-dropper":"assets/fonts/font-awesome/solid/eye-dropper.svg","fa-eye-low-vision":"assets/fonts/font-awesome/solid/eye-low-vision.svg","fas-eye-low-vision":"assets/fonts/font-awesome/solid/eye-low-vision.svg","fa-eye-slash":"assets/fonts/font-awesome/solid/eye-slash.svg","fas-eye-slash":"assets/fonts/font-awesome/solid/eye-slash.svg","fa-eye":"assets/fonts/font-awesome/solid/eye.svg","fas-eye":"assets/fonts/font-awesome/solid/eye.svg","fa-f":"assets/fonts/font-awesome/solid/f.svg","fas-f":"assets/fonts/font-awesome/solid/f.svg","fa-face-angry":"assets/fonts/font-awesome/solid/face-angry.svg","fas-face-angry":"assets/fonts/font-awesome/solid/face-angry.svg","fa-face-dizzy":"assets/fonts/font-awesome/solid/face-dizzy.svg","fas-face-dizzy":"assets/fonts/font-awesome/solid/face-dizzy.svg","fa-face-flushed":"assets/fonts/font-awesome/solid/face-flushed.svg","fas-face-flushed":"assets/fonts/font-awesome/solid/face-flushed.svg","fa-face-frown-open":"assets/fonts/font-awesome/solid/face-frown-open.svg","fas-face-frown-open":"assets/fonts/font-awesome/solid/face-frown-open.svg","fa-face-frown":"assets/fonts/font-awesome/solid/face-frown.svg","fas-face-frown":"assets/fonts/font-awesome/solid/face-frown.svg","fa-face-grimace":"assets/fonts/font-awesome/solid/face-grimace.svg","fas-face-grimace":"assets/fonts/font-awesome/solid/face-grimace.svg","fa-face-grin-beam-sweat":"assets/fonts/font-awesome/solid/face-grin-beam-sweat.svg","fas-face-grin-beam-sweat":"assets/fonts/font-awesome/solid/face-grin-beam-sweat.svg","fa-face-grin-beam":"assets/fonts/font-awesome/solid/face-grin-beam.svg","fas-face-grin-beam":"assets/fonts/font-awesome/solid/face-grin-beam.svg","fa-face-grin-hearts":"assets/fonts/font-awesome/solid/face-grin-hearts.svg","fas-face-grin-hearts":"assets/fonts/font-awesome/solid/face-grin-hearts.svg","fa-face-grin-squint-tears":"assets/fonts/font-awesome/solid/face-grin-squint-tears.svg","fas-face-grin-squint-tears":"assets/fonts/font-awesome/solid/face-grin-squint-tears.svg","fa-face-grin-squint":"assets/fonts/font-awesome/solid/face-grin-squint.svg","fas-face-grin-squint":"assets/fonts/font-awesome/solid/face-grin-squint.svg","fa-face-grin-stars":"assets/fonts/font-awesome/solid/face-grin-stars.svg","fas-face-grin-stars":"assets/fonts/font-awesome/solid/face-grin-stars.svg","fa-face-grin-tears":"assets/fonts/font-awesome/solid/face-grin-tears.svg","fas-face-grin-tears":"assets/fonts/font-awesome/solid/face-grin-tears.svg","fa-face-grin-tongue-squint":"assets/fonts/font-awesome/solid/face-grin-tongue-squint.svg","fas-face-grin-tongue-squint":"assets/fonts/font-awesome/solid/face-grin-tongue-squint.svg","fa-face-grin-tongue-wink":"assets/fonts/font-awesome/solid/face-grin-tongue-wink.svg","fas-face-grin-tongue-wink":"assets/fonts/font-awesome/solid/face-grin-tongue-wink.svg","fa-face-grin-tongue":"assets/fonts/font-awesome/solid/face-grin-tongue.svg","fas-face-grin-tongue":"assets/fonts/font-awesome/solid/face-grin-tongue.svg","fa-face-grin-wide":"assets/fonts/font-awesome/solid/face-grin-wide.svg","fas-face-grin-wide":"assets/fonts/font-awesome/solid/face-grin-wide.svg","fa-face-grin-wink":"assets/fonts/font-awesome/solid/face-grin-wink.svg","fas-face-grin-wink":"assets/fonts/font-awesome/solid/face-grin-wink.svg","fa-face-grin":"assets/fonts/font-awesome/solid/face-grin.svg","fas-face-grin":"assets/fonts/font-awesome/solid/face-grin.svg","fa-face-kiss-beam":"assets/fonts/font-awesome/solid/face-kiss-beam.svg","fas-face-kiss-beam":"assets/fonts/font-awesome/solid/face-kiss-beam.svg","fa-face-kiss-wink-heart":"assets/fonts/font-awesome/solid/face-kiss-wink-heart.svg","fas-face-kiss-wink-heart":"assets/fonts/font-awesome/solid/face-kiss-wink-heart.svg","fa-face-kiss":"assets/fonts/font-awesome/solid/face-kiss.svg","fas-face-kiss":"assets/fonts/font-awesome/solid/face-kiss.svg","fa-face-laugh-beam":"assets/fonts/font-awesome/solid/face-laugh-beam.svg","fas-face-laugh-beam":"assets/fonts/font-awesome/solid/face-laugh-beam.svg","fa-face-laugh-squint":"assets/fonts/font-awesome/solid/face-laugh-squint.svg","fas-face-laugh-squint":"assets/fonts/font-awesome/solid/face-laugh-squint.svg","fa-face-laugh-wink":"assets/fonts/font-awesome/solid/face-laugh-wink.svg","fas-face-laugh-wink":"assets/fonts/font-awesome/solid/face-laugh-wink.svg","fa-face-laugh":"assets/fonts/font-awesome/solid/face-laugh.svg","fas-face-laugh":"assets/fonts/font-awesome/solid/face-laugh.svg","fa-face-meh-blank":"assets/fonts/font-awesome/solid/face-meh-blank.svg","fas-face-meh-blank":"assets/fonts/font-awesome/solid/face-meh-blank.svg","fa-face-meh":"assets/fonts/font-awesome/solid/face-meh.svg","fas-face-meh":"assets/fonts/font-awesome/solid/face-meh.svg","fa-face-rolling-eyes":"assets/fonts/font-awesome/solid/face-rolling-eyes.svg","fas-face-rolling-eyes":"assets/fonts/font-awesome/solid/face-rolling-eyes.svg","fa-face-sad-cry":"assets/fonts/font-awesome/solid/face-sad-cry.svg","fas-face-sad-cry":"assets/fonts/font-awesome/solid/face-sad-cry.svg","fa-face-sad-tear":"assets/fonts/font-awesome/solid/face-sad-tear.svg","fas-face-sad-tear":"assets/fonts/font-awesome/solid/face-sad-tear.svg","fa-face-smile-beam":"assets/fonts/font-awesome/solid/face-smile-beam.svg","fas-face-smile-beam":"assets/fonts/font-awesome/solid/face-smile-beam.svg","fa-face-smile-wink":"assets/fonts/font-awesome/solid/face-smile-wink.svg","fas-face-smile-wink":"assets/fonts/font-awesome/solid/face-smile-wink.svg","fa-face-smile":"assets/fonts/font-awesome/solid/face-smile.svg","fas-face-smile":"assets/fonts/font-awesome/solid/face-smile.svg","fa-face-surprise":"assets/fonts/font-awesome/solid/face-surprise.svg","fas-face-surprise":"assets/fonts/font-awesome/solid/face-surprise.svg","fa-face-tired":"assets/fonts/font-awesome/solid/face-tired.svg","fas-face-tired":"assets/fonts/font-awesome/solid/face-tired.svg","fa-fan":"assets/fonts/font-awesome/solid/fan.svg","fas-fan":"assets/fonts/font-awesome/solid/fan.svg","fa-faucet-drip":"assets/fonts/font-awesome/solid/faucet-drip.svg","fas-faucet-drip":"assets/fonts/font-awesome/solid/faucet-drip.svg","fa-faucet":"assets/fonts/font-awesome/solid/faucet.svg","fas-faucet":"assets/fonts/font-awesome/solid/faucet.svg","fa-fax":"assets/fonts/font-awesome/solid/fax.svg","fas-fax":"assets/fonts/font-awesome/solid/fax.svg","fa-feather-pointed":"assets/fonts/font-awesome/solid/feather-pointed.svg","fas-feather-pointed":"assets/fonts/font-awesome/solid/feather-pointed.svg","fa-feather":"assets/fonts/font-awesome/solid/feather.svg","fas-feather":"assets/fonts/font-awesome/solid/feather.svg","fa-ferry":"assets/fonts/font-awesome/solid/ferry.svg","fas-ferry":"assets/fonts/font-awesome/solid/ferry.svg","fa-file-arrow-down":"assets/fonts/font-awesome/solid/file-arrow-down.svg","fas-file-arrow-down":"assets/fonts/font-awesome/solid/file-arrow-down.svg","fa-file-arrow-up":"assets/fonts/font-awesome/solid/file-arrow-up.svg","fas-file-arrow-up":"assets/fonts/font-awesome/solid/file-arrow-up.svg","fa-file-audio":"assets/fonts/font-awesome/solid/file-audio.svg","fas-file-audio":"assets/fonts/font-awesome/solid/file-audio.svg","fa-file-circle-check":"assets/fonts/font-awesome/solid/file-circle-check.svg","fas-file-circle-check":"assets/fonts/font-awesome/solid/file-circle-check.svg","fa-file-circle-exclamation":"assets/fonts/font-awesome/solid/file-circle-exclamation.svg","fas-file-circle-exclamation":"assets/fonts/font-awesome/solid/file-circle-exclamation.svg","fa-file-circle-minus":"assets/fonts/font-awesome/solid/file-circle-minus.svg","fas-file-circle-minus":"assets/fonts/font-awesome/solid/file-circle-minus.svg","fa-file-circle-plus":"assets/fonts/font-awesome/solid/file-circle-plus.svg","fas-file-circle-plus":"assets/fonts/font-awesome/solid/file-circle-plus.svg","fa-file-circle-question":"assets/fonts/font-awesome/solid/file-circle-question.svg","fas-file-circle-question":"assets/fonts/font-awesome/solid/file-circle-question.svg","fa-file-circle-xmark":"assets/fonts/font-awesome/solid/file-circle-xmark.svg","fas-file-circle-xmark":"assets/fonts/font-awesome/solid/file-circle-xmark.svg","fa-file-code":"assets/fonts/font-awesome/solid/file-code.svg","fas-file-code":"assets/fonts/font-awesome/solid/file-code.svg","fa-file-contract":"assets/fonts/font-awesome/solid/file-contract.svg","fas-file-contract":"assets/fonts/font-awesome/solid/file-contract.svg","fa-file-csv":"assets/fonts/font-awesome/solid/file-csv.svg","fas-file-csv":"assets/fonts/font-awesome/solid/file-csv.svg","fa-file-excel":"assets/fonts/font-awesome/solid/file-excel.svg","fas-file-excel":"assets/fonts/font-awesome/solid/file-excel.svg","fa-file-export":"assets/fonts/font-awesome/solid/file-export.svg","fas-file-export":"assets/fonts/font-awesome/solid/file-export.svg","fa-file-image":"assets/fonts/font-awesome/solid/file-image.svg","fas-file-image":"assets/fonts/font-awesome/solid/file-image.svg","fa-file-import":"assets/fonts/font-awesome/solid/file-import.svg","fas-file-import":"assets/fonts/font-awesome/solid/file-import.svg","fa-file-invoice-dollar":"assets/fonts/font-awesome/solid/file-invoice-dollar.svg","fas-file-invoice-dollar":"assets/fonts/font-awesome/solid/file-invoice-dollar.svg","fa-file-invoice":"assets/fonts/font-awesome/solid/file-invoice.svg","fas-file-invoice":"assets/fonts/font-awesome/solid/file-invoice.svg","fa-file-lines":"assets/fonts/font-awesome/solid/file-lines.svg","fas-file-lines":"assets/fonts/font-awesome/solid/file-lines.svg","fa-file-medical":"assets/fonts/font-awesome/solid/file-medical.svg","fas-file-medical":"assets/fonts/font-awesome/solid/file-medical.svg","fa-file-pdf":"assets/fonts/font-awesome/solid/file-pdf.svg","fas-file-pdf":"assets/fonts/font-awesome/solid/file-pdf.svg","fa-file-pen":"assets/fonts/font-awesome/solid/file-pen.svg","fas-file-pen":"assets/fonts/font-awesome/solid/file-pen.svg","fa-file-powerpoint":"assets/fonts/font-awesome/solid/file-powerpoint.svg","fas-file-powerpoint":"assets/fonts/font-awesome/solid/file-powerpoint.svg","fa-file-prescription":"assets/fonts/font-awesome/solid/file-prescription.svg","fas-file-prescription":"assets/fonts/font-awesome/solid/file-prescription.svg","fa-file-shield":"assets/fonts/font-awesome/solid/file-shield.svg","fas-file-shield":"assets/fonts/font-awesome/solid/file-shield.svg","fa-file-signature":"assets/fonts/font-awesome/solid/file-signature.svg","fas-file-signature":"assets/fonts/font-awesome/solid/file-signature.svg","fa-file-video":"assets/fonts/font-awesome/solid/file-video.svg","fas-file-video":"assets/fonts/font-awesome/solid/file-video.svg","fa-file-waveform":"assets/fonts/font-awesome/solid/file-waveform.svg","fas-file-waveform":"assets/fonts/font-awesome/solid/file-waveform.svg","fa-file-word":"assets/fonts/font-awesome/solid/file-word.svg","fas-file-word":"assets/fonts/font-awesome/solid/file-word.svg","fa-file-zipper":"assets/fonts/font-awesome/solid/file-zipper.svg","fas-file-zipper":"assets/fonts/font-awesome/solid/file-zipper.svg","fa-file":"assets/fonts/font-awesome/solid/file.svg","fas-file":"assets/fonts/font-awesome/solid/file.svg","fa-fill-drip":"assets/fonts/font-awesome/solid/fill-drip.svg","fas-fill-drip":"assets/fonts/font-awesome/solid/fill-drip.svg","fa-fill":"assets/fonts/font-awesome/solid/fill.svg","fas-fill":"assets/fonts/font-awesome/solid/fill.svg","fa-film":"assets/fonts/font-awesome/solid/film.svg","fas-film":"assets/fonts/font-awesome/solid/film.svg","fa-filter-circle-dollar":"assets/fonts/font-awesome/solid/filter-circle-dollar.svg","fas-filter-circle-dollar":"assets/fonts/font-awesome/solid/filter-circle-dollar.svg","fa-filter-circle-xmark":"assets/fonts/font-awesome/solid/filter-circle-xmark.svg","fas-filter-circle-xmark":"assets/fonts/font-awesome/solid/filter-circle-xmark.svg","fa-filter":"assets/fonts/font-awesome/solid/filter.svg","fas-filter":"assets/fonts/font-awesome/solid/filter.svg","fa-fingerprint":"assets/fonts/font-awesome/solid/fingerprint.svg","fas-fingerprint":"assets/fonts/font-awesome/solid/fingerprint.svg","fa-fire-burner":"assets/fonts/font-awesome/solid/fire-burner.svg","fas-fire-burner":"assets/fonts/font-awesome/solid/fire-burner.svg","fa-fire-extinguisher":"assets/fonts/font-awesome/solid/fire-extinguisher.svg","fas-fire-extinguisher":"assets/fonts/font-awesome/solid/fire-extinguisher.svg","fa-fire-flame-curved":"assets/fonts/font-awesome/solid/fire-flame-curved.svg","fas-fire-flame-curved":"assets/fonts/font-awesome/solid/fire-flame-curved.svg","fa-fire-flame-simple":"assets/fonts/font-awesome/solid/fire-flame-simple.svg","fas-fire-flame-simple":"assets/fonts/font-awesome/solid/fire-flame-simple.svg","fa-fire":"assets/fonts/font-awesome/solid/fire.svg","fas-fire":"assets/fonts/font-awesome/solid/fire.svg","fa-fish-fins":"assets/fonts/font-awesome/solid/fish-fins.svg","fas-fish-fins":"assets/fonts/font-awesome/solid/fish-fins.svg","fa-fish":"assets/fonts/font-awesome/solid/fish.svg","fas-fish":"assets/fonts/font-awesome/solid/fish.svg","fa-flag-checkered":"assets/fonts/font-awesome/solid/flag-checkered.svg","fas-flag-checkered":"assets/fonts/font-awesome/solid/flag-checkered.svg","fa-flag-usa":"assets/fonts/font-awesome/solid/flag-usa.svg","fas-flag-usa":"assets/fonts/font-awesome/solid/flag-usa.svg","fa-flag":"assets/fonts/font-awesome/solid/flag.svg","fas-flag":"assets/fonts/font-awesome/solid/flag.svg","fa-flask-vial":"assets/fonts/font-awesome/solid/flask-vial.svg","fas-flask-vial":"assets/fonts/font-awesome/solid/flask-vial.svg","fa-flask":"assets/fonts/font-awesome/solid/flask.svg","fas-flask":"assets/fonts/font-awesome/solid/flask.svg","fa-floppy-disk":"assets/fonts/font-awesome/solid/floppy-disk.svg","fas-floppy-disk":"assets/fonts/font-awesome/solid/floppy-disk.svg","fa-florin-sign":"assets/fonts/font-awesome/solid/florin-sign.svg","fas-florin-sign":"assets/fonts/font-awesome/solid/florin-sign.svg","fa-folder-closed":"assets/fonts/font-awesome/solid/folder-closed.svg","fas-folder-closed":"assets/fonts/font-awesome/solid/folder-closed.svg","fa-folder-minus":"assets/fonts/font-awesome/solid/folder-minus.svg","fas-folder-minus":"assets/fonts/font-awesome/solid/folder-minus.svg","fa-folder-open":"assets/fonts/font-awesome/solid/folder-open.svg","fas-folder-open":"assets/fonts/font-awesome/solid/folder-open.svg","fa-folder-plus":"assets/fonts/font-awesome/solid/folder-plus.svg","fas-folder-plus":"assets/fonts/font-awesome/solid/folder-plus.svg","fa-folder-tree":"assets/fonts/font-awesome/solid/folder-tree.svg","fas-folder-tree":"assets/fonts/font-awesome/solid/folder-tree.svg","fa-folder":"assets/fonts/font-awesome/solid/folder.svg","fas-folder":"assets/fonts/font-awesome/solid/folder.svg","fa-font-awesome":"assets/fonts/font-awesome/solid/font-awesome.svg","fas-font-awesome":"assets/fonts/font-awesome/solid/font-awesome.svg","fa-font":"assets/fonts/font-awesome/solid/font.svg","fas-font":"assets/fonts/font-awesome/solid/font.svg","fa-football":"assets/fonts/font-awesome/solid/football.svg","fas-football":"assets/fonts/font-awesome/solid/football.svg","fa-forward-fast":"assets/fonts/font-awesome/solid/forward-fast.svg","fas-forward-fast":"assets/fonts/font-awesome/solid/forward-fast.svg","fa-forward-step":"assets/fonts/font-awesome/solid/forward-step.svg","fas-forward-step":"assets/fonts/font-awesome/solid/forward-step.svg","fa-forward":"assets/fonts/font-awesome/solid/forward.svg","fas-forward":"assets/fonts/font-awesome/solid/forward.svg","fa-franc-sign":"assets/fonts/font-awesome/solid/franc-sign.svg","fas-franc-sign":"assets/fonts/font-awesome/solid/franc-sign.svg","fa-frog":"assets/fonts/font-awesome/solid/frog.svg","fas-frog":"assets/fonts/font-awesome/solid/frog.svg","fa-futbol":"assets/fonts/font-awesome/solid/futbol.svg","fas-futbol":"assets/fonts/font-awesome/solid/futbol.svg","fa-g":"assets/fonts/font-awesome/solid/g.svg","fas-g":"assets/fonts/font-awesome/solid/g.svg","fa-gamepad":"assets/fonts/font-awesome/solid/gamepad.svg","fas-gamepad":"assets/fonts/font-awesome/solid/gamepad.svg","fa-gas-pump":"assets/fonts/font-awesome/solid/gas-pump.svg","fas-gas-pump":"assets/fonts/font-awesome/solid/gas-pump.svg","fa-gauge-high":"assets/fonts/font-awesome/solid/gauge-high.svg","fas-gauge-high":"assets/fonts/font-awesome/solid/gauge-high.svg","fa-gauge-simple-high":"assets/fonts/font-awesome/solid/gauge-simple-high.svg","fas-gauge-simple-high":"assets/fonts/font-awesome/solid/gauge-simple-high.svg","fa-gauge-simple":"assets/fonts/font-awesome/solid/gauge-simple.svg","fas-gauge-simple":"assets/fonts/font-awesome/solid/gauge-simple.svg","fa-gauge":"assets/fonts/font-awesome/solid/gauge.svg","fas-gauge":"assets/fonts/font-awesome/solid/gauge.svg","fa-gavel":"assets/fonts/font-awesome/solid/gavel.svg","fas-gavel":"assets/fonts/font-awesome/solid/gavel.svg","fa-gear":"assets/fonts/font-awesome/solid/gear.svg","fas-gear":"assets/fonts/font-awesome/solid/gear.svg","fa-gears":"assets/fonts/font-awesome/solid/gears.svg","fas-gears":"assets/fonts/font-awesome/solid/gears.svg","fa-gem":"assets/fonts/font-awesome/solid/gem.svg","fas-gem":"assets/fonts/font-awesome/solid/gem.svg","fa-genderless":"assets/fonts/font-awesome/solid/genderless.svg","fas-genderless":"assets/fonts/font-awesome/solid/genderless.svg","fa-ghost":"assets/fonts/font-awesome/solid/ghost.svg","fas-ghost":"assets/fonts/font-awesome/solid/ghost.svg","fa-gift":"assets/fonts/font-awesome/solid/gift.svg","fas-gift":"assets/fonts/font-awesome/solid/gift.svg","fa-gifts":"assets/fonts/font-awesome/solid/gifts.svg","fas-gifts":"assets/fonts/font-awesome/solid/gifts.svg","fa-glass-water-droplet":"assets/fonts/font-awesome/solid/glass-water-droplet.svg","fas-glass-water-droplet":"assets/fonts/font-awesome/solid/glass-water-droplet.svg","fa-glass-water":"assets/fonts/font-awesome/solid/glass-water.svg","fas-glass-water":"assets/fonts/font-awesome/solid/glass-water.svg","fa-glasses":"assets/fonts/font-awesome/solid/glasses.svg","fas-glasses":"assets/fonts/font-awesome/solid/glasses.svg","fa-globe":"assets/fonts/font-awesome/solid/globe.svg","fas-globe":"assets/fonts/font-awesome/solid/globe.svg","fa-golf-ball-tee":"assets/fonts/font-awesome/solid/golf-ball-tee.svg","fas-golf-ball-tee":"assets/fonts/font-awesome/solid/golf-ball-tee.svg","fa-gopuram":"assets/fonts/font-awesome/solid/gopuram.svg","fas-gopuram":"assets/fonts/font-awesome/solid/gopuram.svg","fa-graduation-cap":"assets/fonts/font-awesome/solid/graduation-cap.svg","fas-graduation-cap":"assets/fonts/font-awesome/solid/graduation-cap.svg","fa-greater-than-equal":"assets/fonts/font-awesome/solid/greater-than-equal.svg","fas-greater-than-equal":"assets/fonts/font-awesome/solid/greater-than-equal.svg","fa-greater-than":"assets/fonts/font-awesome/solid/greater-than.svg","fas-greater-than":"assets/fonts/font-awesome/solid/greater-than.svg","fa-grip-lines-vertical":"assets/fonts/font-awesome/solid/grip-lines-vertical.svg","fas-grip-lines-vertical":"assets/fonts/font-awesome/solid/grip-lines-vertical.svg","fa-grip-lines":"assets/fonts/font-awesome/solid/grip-lines.svg","fas-grip-lines":"assets/fonts/font-awesome/solid/grip-lines.svg","fa-grip-vertical":"assets/fonts/font-awesome/solid/grip-vertical.svg","fas-grip-vertical":"assets/fonts/font-awesome/solid/grip-vertical.svg","fa-grip":"assets/fonts/font-awesome/solid/grip.svg","fas-grip":"assets/fonts/font-awesome/solid/grip.svg","fa-group-arrows-rotate":"assets/fonts/font-awesome/solid/group-arrows-rotate.svg","fas-group-arrows-rotate":"assets/fonts/font-awesome/solid/group-arrows-rotate.svg","fa-guarani-sign":"assets/fonts/font-awesome/solid/guarani-sign.svg","fas-guarani-sign":"assets/fonts/font-awesome/solid/guarani-sign.svg","fa-guitar":"assets/fonts/font-awesome/solid/guitar.svg","fas-guitar":"assets/fonts/font-awesome/solid/guitar.svg","fa-gun":"assets/fonts/font-awesome/solid/gun.svg","fas-gun":"assets/fonts/font-awesome/solid/gun.svg","fa-h":"assets/fonts/font-awesome/solid/h.svg","fas-h":"assets/fonts/font-awesome/solid/h.svg","fa-hammer":"assets/fonts/font-awesome/solid/hammer.svg","fas-hammer":"assets/fonts/font-awesome/solid/hammer.svg","fa-hamsa":"assets/fonts/font-awesome/solid/hamsa.svg","fas-hamsa":"assets/fonts/font-awesome/solid/hamsa.svg","fa-hand-back-fist":"assets/fonts/font-awesome/solid/hand-back-fist.svg","fas-hand-back-fist":"assets/fonts/font-awesome/solid/hand-back-fist.svg","fa-hand-dots":"assets/fonts/font-awesome/solid/hand-dots.svg","fas-hand-dots":"assets/fonts/font-awesome/solid/hand-dots.svg","fa-hand-fist":"assets/fonts/font-awesome/solid/hand-fist.svg","fas-hand-fist":"assets/fonts/font-awesome/solid/hand-fist.svg","fa-hand-holding-dollar":"assets/fonts/font-awesome/solid/hand-holding-dollar.svg","fas-hand-holding-dollar":"assets/fonts/font-awesome/solid/hand-holding-dollar.svg","fa-hand-holding-droplet":"assets/fonts/font-awesome/solid/hand-holding-droplet.svg","fas-hand-holding-droplet":"assets/fonts/font-awesome/solid/hand-holding-droplet.svg","fa-hand-holding-hand":"assets/fonts/font-awesome/solid/hand-holding-hand.svg","fas-hand-holding-hand":"assets/fonts/font-awesome/solid/hand-holding-hand.svg","fa-hand-holding-heart":"assets/fonts/font-awesome/solid/hand-holding-heart.svg","fas-hand-holding-heart":"assets/fonts/font-awesome/solid/hand-holding-heart.svg","fa-hand-holding-medical":"assets/fonts/font-awesome/solid/hand-holding-medical.svg","fas-hand-holding-medical":"assets/fonts/font-awesome/solid/hand-holding-medical.svg","fa-hand-holding":"assets/fonts/font-awesome/solid/hand-holding.svg","fas-hand-holding":"assets/fonts/font-awesome/solid/hand-holding.svg","fa-hand-lizard":"assets/fonts/font-awesome/solid/hand-lizard.svg","fas-hand-lizard":"assets/fonts/font-awesome/solid/hand-lizard.svg","fa-hand-middle-finger":"assets/fonts/font-awesome/solid/hand-middle-finger.svg","fas-hand-middle-finger":"assets/fonts/font-awesome/solid/hand-middle-finger.svg","fa-hand-peace":"assets/fonts/font-awesome/solid/hand-peace.svg","fas-hand-peace":"assets/fonts/font-awesome/solid/hand-peace.svg","fa-hand-point-down":"assets/fonts/font-awesome/solid/hand-point-down.svg","fas-hand-point-down":"assets/fonts/font-awesome/solid/hand-point-down.svg","fa-hand-point-left":"assets/fonts/font-awesome/solid/hand-point-left.svg","fas-hand-point-left":"assets/fonts/font-awesome/solid/hand-point-left.svg","fa-hand-point-right":"assets/fonts/font-awesome/solid/hand-point-right.svg","fas-hand-point-right":"assets/fonts/font-awesome/solid/hand-point-right.svg","fa-hand-point-up":"assets/fonts/font-awesome/solid/hand-point-up.svg","fas-hand-point-up":"assets/fonts/font-awesome/solid/hand-point-up.svg","fa-hand-pointer":"assets/fonts/font-awesome/solid/hand-pointer.svg","fas-hand-pointer":"assets/fonts/font-awesome/solid/hand-pointer.svg","fa-hand-scissors":"assets/fonts/font-awesome/solid/hand-scissors.svg","fas-hand-scissors":"assets/fonts/font-awesome/solid/hand-scissors.svg","fa-hand-sparkles":"assets/fonts/font-awesome/solid/hand-sparkles.svg","fas-hand-sparkles":"assets/fonts/font-awesome/solid/hand-sparkles.svg","fa-hand-spock":"assets/fonts/font-awesome/solid/hand-spock.svg","fas-hand-spock":"assets/fonts/font-awesome/solid/hand-spock.svg","fa-hand":"assets/fonts/font-awesome/solid/hand.svg","fas-hand":"assets/fonts/font-awesome/solid/hand.svg","fa-handcuffs":"assets/fonts/font-awesome/solid/handcuffs.svg","fas-handcuffs":"assets/fonts/font-awesome/solid/handcuffs.svg","fa-hands-asl-interpreting":"assets/fonts/font-awesome/solid/hands-asl-interpreting.svg","fas-hands-asl-interpreting":"assets/fonts/font-awesome/solid/hands-asl-interpreting.svg","fa-hands-bound":"assets/fonts/font-awesome/solid/hands-bound.svg","fas-hands-bound":"assets/fonts/font-awesome/solid/hands-bound.svg","fa-hands-bubbles":"assets/fonts/font-awesome/solid/hands-bubbles.svg","fas-hands-bubbles":"assets/fonts/font-awesome/solid/hands-bubbles.svg","fa-hands-clapping":"assets/fonts/font-awesome/solid/hands-clapping.svg","fas-hands-clapping":"assets/fonts/font-awesome/solid/hands-clapping.svg","fa-hands-holding-child":"assets/fonts/font-awesome/solid/hands-holding-child.svg","fas-hands-holding-child":"assets/fonts/font-awesome/solid/hands-holding-child.svg","fa-hands-holding-circle":"assets/fonts/font-awesome/solid/hands-holding-circle.svg","fas-hands-holding-circle":"assets/fonts/font-awesome/solid/hands-holding-circle.svg","fa-hands-holding":"assets/fonts/font-awesome/solid/hands-holding.svg","fas-hands-holding":"assets/fonts/font-awesome/solid/hands-holding.svg","fa-hands-praying":"assets/fonts/font-awesome/solid/hands-praying.svg","fas-hands-praying":"assets/fonts/font-awesome/solid/hands-praying.svg","fa-hands":"assets/fonts/font-awesome/solid/hands.svg","fas-hands":"assets/fonts/font-awesome/solid/hands.svg","fa-handshake-angle":"assets/fonts/font-awesome/solid/handshake-angle.svg","fas-handshake-angle":"assets/fonts/font-awesome/solid/handshake-angle.svg","fa-handshake-simple-slash":"assets/fonts/font-awesome/solid/handshake-simple-slash.svg","fas-handshake-simple-slash":"assets/fonts/font-awesome/solid/handshake-simple-slash.svg","fa-handshake-simple":"assets/fonts/font-awesome/solid/handshake-simple.svg","fas-handshake-simple":"assets/fonts/font-awesome/solid/handshake-simple.svg","fa-handshake-slash":"assets/fonts/font-awesome/solid/handshake-slash.svg","fas-handshake-slash":"assets/fonts/font-awesome/solid/handshake-slash.svg","fa-handshake":"assets/fonts/font-awesome/solid/handshake.svg","fas-handshake":"assets/fonts/font-awesome/solid/handshake.svg","fa-hanukiah":"assets/fonts/font-awesome/solid/hanukiah.svg","fas-hanukiah":"assets/fonts/font-awesome/solid/hanukiah.svg","fa-hard-drive":"assets/fonts/font-awesome/solid/hard-drive.svg","fas-hard-drive":"assets/fonts/font-awesome/solid/hard-drive.svg","fa-hashtag":"assets/fonts/font-awesome/solid/hashtag.svg","fas-hashtag":"assets/fonts/font-awesome/solid/hashtag.svg","fa-hat-cowboy-side":"assets/fonts/font-awesome/solid/hat-cowboy-side.svg","fas-hat-cowboy-side":"assets/fonts/font-awesome/solid/hat-cowboy-side.svg","fa-hat-cowboy":"assets/fonts/font-awesome/solid/hat-cowboy.svg","fas-hat-cowboy":"assets/fonts/font-awesome/solid/hat-cowboy.svg","fa-hat-wizard":"assets/fonts/font-awesome/solid/hat-wizard.svg","fas-hat-wizard":"assets/fonts/font-awesome/solid/hat-wizard.svg","fa-head-side-cough-slash":"assets/fonts/font-awesome/solid/head-side-cough-slash.svg","fas-head-side-cough-slash":"assets/fonts/font-awesome/solid/head-side-cough-slash.svg","fa-head-side-cough":"assets/fonts/font-awesome/solid/head-side-cough.svg","fas-head-side-cough":"assets/fonts/font-awesome/solid/head-side-cough.svg","fa-head-side-mask":"assets/fonts/font-awesome/solid/head-side-mask.svg","fas-head-side-mask":"assets/fonts/font-awesome/solid/head-side-mask.svg","fa-head-side-virus":"assets/fonts/font-awesome/solid/head-side-virus.svg","fas-head-side-virus":"assets/fonts/font-awesome/solid/head-side-virus.svg","fa-heading":"assets/fonts/font-awesome/solid/heading.svg","fas-heading":"assets/fonts/font-awesome/solid/heading.svg","fa-headphones-simple":"assets/fonts/font-awesome/solid/headphones-simple.svg","fas-headphones-simple":"assets/fonts/font-awesome/solid/headphones-simple.svg","fa-headphones":"assets/fonts/font-awesome/solid/headphones.svg","fas-headphones":"assets/fonts/font-awesome/solid/headphones.svg","fa-headset":"assets/fonts/font-awesome/solid/headset.svg","fas-headset":"assets/fonts/font-awesome/solid/headset.svg","fa-heart-circle-bolt":"assets/fonts/font-awesome/solid/heart-circle-bolt.svg","fas-heart-circle-bolt":"assets/fonts/font-awesome/solid/heart-circle-bolt.svg","fa-heart-circle-check":"assets/fonts/font-awesome/solid/heart-circle-check.svg","fas-heart-circle-check":"assets/fonts/font-awesome/solid/heart-circle-check.svg","fa-heart-circle-exclamation":"assets/fonts/font-awesome/solid/heart-circle-exclamation.svg","fas-heart-circle-exclamation":"assets/fonts/font-awesome/solid/heart-circle-exclamation.svg","fa-heart-circle-minus":"assets/fonts/font-awesome/solid/heart-circle-minus.svg","fas-heart-circle-minus":"assets/fonts/font-awesome/solid/heart-circle-minus.svg","fa-heart-circle-plus":"assets/fonts/font-awesome/solid/heart-circle-plus.svg","fas-heart-circle-plus":"assets/fonts/font-awesome/solid/heart-circle-plus.svg","fa-heart-circle-xmark":"assets/fonts/font-awesome/solid/heart-circle-xmark.svg","fas-heart-circle-xmark":"assets/fonts/font-awesome/solid/heart-circle-xmark.svg","fa-heart-crack":"assets/fonts/font-awesome/solid/heart-crack.svg","fas-heart-crack":"assets/fonts/font-awesome/solid/heart-crack.svg","fa-heart-pulse":"assets/fonts/font-awesome/solid/heart-pulse.svg","fas-heart-pulse":"assets/fonts/font-awesome/solid/heart-pulse.svg","fa-heart":"assets/fonts/font-awesome/solid/heart.svg","fas-heart":"assets/fonts/font-awesome/solid/heart.svg","fa-helicopter-symbol":"assets/fonts/font-awesome/solid/helicopter-symbol.svg","fas-helicopter-symbol":"assets/fonts/font-awesome/solid/helicopter-symbol.svg","fa-helicopter":"assets/fonts/font-awesome/solid/helicopter.svg","fas-helicopter":"assets/fonts/font-awesome/solid/helicopter.svg","fa-helmet-safety":"assets/fonts/font-awesome/solid/helmet-safety.svg","fas-helmet-safety":"assets/fonts/font-awesome/solid/helmet-safety.svg","fa-helmet-un":"assets/fonts/font-awesome/solid/helmet-un.svg","fas-helmet-un":"assets/fonts/font-awesome/solid/helmet-un.svg","fa-highlighter":"assets/fonts/font-awesome/solid/highlighter.svg","fas-highlighter":"assets/fonts/font-awesome/solid/highlighter.svg","fa-hill-avalanche":"assets/fonts/font-awesome/solid/hill-avalanche.svg","fas-hill-avalanche":"assets/fonts/font-awesome/solid/hill-avalanche.svg","fa-hill-rockslide":"assets/fonts/font-awesome/solid/hill-rockslide.svg","fas-hill-rockslide":"assets/fonts/font-awesome/solid/hill-rockslide.svg","fa-hippo":"assets/fonts/font-awesome/solid/hippo.svg","fas-hippo":"assets/fonts/font-awesome/solid/hippo.svg","fa-hockey-puck":"assets/fonts/font-awesome/solid/hockey-puck.svg","fas-hockey-puck":"assets/fonts/font-awesome/solid/hockey-puck.svg","fa-holly-berry":"assets/fonts/font-awesome/solid/holly-berry.svg","fas-holly-berry":"assets/fonts/font-awesome/solid/holly-berry.svg","fa-horse-head":"assets/fonts/font-awesome/solid/horse-head.svg","fas-horse-head":"assets/fonts/font-awesome/solid/horse-head.svg","fa-horse":"assets/fonts/font-awesome/solid/horse.svg","fas-horse":"assets/fonts/font-awesome/solid/horse.svg","fa-hospital-user":"assets/fonts/font-awesome/solid/hospital-user.svg","fas-hospital-user":"assets/fonts/font-awesome/solid/hospital-user.svg","fa-hospital":"assets/fonts/font-awesome/solid/hospital.svg","fas-hospital":"assets/fonts/font-awesome/solid/hospital.svg","fa-hot-tub-person":"assets/fonts/font-awesome/solid/hot-tub-person.svg","fas-hot-tub-person":"assets/fonts/font-awesome/solid/hot-tub-person.svg","fa-hotdog":"assets/fonts/font-awesome/solid/hotdog.svg","fas-hotdog":"assets/fonts/font-awesome/solid/hotdog.svg","fa-hotel":"assets/fonts/font-awesome/solid/hotel.svg","fas-hotel":"assets/fonts/font-awesome/solid/hotel.svg","fa-hourglass-end":"assets/fonts/font-awesome/solid/hourglass-end.svg","fas-hourglass-end":"assets/fonts/font-awesome/solid/hourglass-end.svg","fa-hourglass-half":"assets/fonts/font-awesome/solid/hourglass-half.svg","fas-hourglass-half":"assets/fonts/font-awesome/solid/hourglass-half.svg","fa-hourglass-start":"assets/fonts/font-awesome/solid/hourglass-start.svg","fas-hourglass-start":"assets/fonts/font-awesome/solid/hourglass-start.svg","fa-hourglass":"assets/fonts/font-awesome/solid/hourglass.svg","fas-hourglass":"assets/fonts/font-awesome/solid/hourglass.svg","fa-house-chimney-crack":"assets/fonts/font-awesome/solid/house-chimney-crack.svg","fas-house-chimney-crack":"assets/fonts/font-awesome/solid/house-chimney-crack.svg","fa-house-chimney-medical":"assets/fonts/font-awesome/solid/house-chimney-medical.svg","fas-house-chimney-medical":"assets/fonts/font-awesome/solid/house-chimney-medical.svg","fa-house-chimney-user":"assets/fonts/font-awesome/solid/house-chimney-user.svg","fas-house-chimney-user":"assets/fonts/font-awesome/solid/house-chimney-user.svg","fa-house-chimney-window":"assets/fonts/font-awesome/solid/house-chimney-window.svg","fas-house-chimney-window":"assets/fonts/font-awesome/solid/house-chimney-window.svg","fa-house-chimney":"assets/fonts/font-awesome/solid/house-chimney.svg","fas-house-chimney":"assets/fonts/font-awesome/solid/house-chimney.svg","fa-house-circle-check":"assets/fonts/font-awesome/solid/house-circle-check.svg","fas-house-circle-check":"assets/fonts/font-awesome/solid/house-circle-check.svg","fa-house-circle-exclamation":"assets/fonts/font-awesome/solid/house-circle-exclamation.svg","fas-house-circle-exclamation":"assets/fonts/font-awesome/solid/house-circle-exclamation.svg","fa-house-circle-xmark":"assets/fonts/font-awesome/solid/house-circle-xmark.svg","fas-house-circle-xmark":"assets/fonts/font-awesome/solid/house-circle-xmark.svg","fa-house-crack":"assets/fonts/font-awesome/solid/house-crack.svg","fas-house-crack":"assets/fonts/font-awesome/solid/house-crack.svg","fa-house-fire":"assets/fonts/font-awesome/solid/house-fire.svg","fas-house-fire":"assets/fonts/font-awesome/solid/house-fire.svg","fa-house-flag":"assets/fonts/font-awesome/solid/house-flag.svg","fas-house-flag":"assets/fonts/font-awesome/solid/house-flag.svg","fa-house-flood-water-circle-arrow-right":"assets/fonts/font-awesome/solid/house-flood-water-circle-arrow-right.svg","fas-house-flood-water-circle-arrow-right":"assets/fonts/font-awesome/solid/house-flood-water-circle-arrow-right.svg","fa-house-flood-water":"assets/fonts/font-awesome/solid/house-flood-water.svg","fas-house-flood-water":"assets/fonts/font-awesome/solid/house-flood-water.svg","fa-house-laptop":"assets/fonts/font-awesome/solid/house-laptop.svg","fas-house-laptop":"assets/fonts/font-awesome/solid/house-laptop.svg","fa-house-lock":"assets/fonts/font-awesome/solid/house-lock.svg","fas-house-lock":"assets/fonts/font-awesome/solid/house-lock.svg","fa-house-medical-circle-check":"assets/fonts/font-awesome/solid/house-medical-circle-check.svg","fas-house-medical-circle-check":"assets/fonts/font-awesome/solid/house-medical-circle-check.svg","fa-house-medical-circle-exclamation":"assets/fonts/font-awesome/solid/house-medical-circle-exclamation.svg","fas-house-medical-circle-exclamation":"assets/fonts/font-awesome/solid/house-medical-circle-exclamation.svg","fa-house-medical-circle-xmark":"assets/fonts/font-awesome/solid/house-medical-circle-xmark.svg","fas-house-medical-circle-xmark":"assets/fonts/font-awesome/solid/house-medical-circle-xmark.svg","fa-house-medical-flag":"assets/fonts/font-awesome/solid/house-medical-flag.svg","fas-house-medical-flag":"assets/fonts/font-awesome/solid/house-medical-flag.svg","fa-house-medical":"assets/fonts/font-awesome/solid/house-medical.svg","fas-house-medical":"assets/fonts/font-awesome/solid/house-medical.svg","fa-house-signal":"assets/fonts/font-awesome/solid/house-signal.svg","fas-house-signal":"assets/fonts/font-awesome/solid/house-signal.svg","fa-house-tsunami":"assets/fonts/font-awesome/solid/house-tsunami.svg","fas-house-tsunami":"assets/fonts/font-awesome/solid/house-tsunami.svg","fa-house-user":"assets/fonts/font-awesome/solid/house-user.svg","fas-house-user":"assets/fonts/font-awesome/solid/house-user.svg","fa-house":"assets/fonts/font-awesome/solid/house.svg","fas-house":"assets/fonts/font-awesome/solid/house.svg","fa-hryvnia-sign":"assets/fonts/font-awesome/solid/hryvnia-sign.svg","fas-hryvnia-sign":"assets/fonts/font-awesome/solid/hryvnia-sign.svg","fa-hurricane":"assets/fonts/font-awesome/solid/hurricane.svg","fas-hurricane":"assets/fonts/font-awesome/solid/hurricane.svg","fa-i-cursor":"assets/fonts/font-awesome/solid/i-cursor.svg","fas-i-cursor":"assets/fonts/font-awesome/solid/i-cursor.svg","fa-i":"assets/fonts/font-awesome/solid/i.svg","fas-i":"assets/fonts/font-awesome/solid/i.svg","fa-ice-cream":"assets/fonts/font-awesome/solid/ice-cream.svg","fas-ice-cream":"assets/fonts/font-awesome/solid/ice-cream.svg","fa-icicles":"assets/fonts/font-awesome/solid/icicles.svg","fas-icicles":"assets/fonts/font-awesome/solid/icicles.svg","fa-icons":"assets/fonts/font-awesome/solid/icons.svg","fas-icons":"assets/fonts/font-awesome/solid/icons.svg","fa-id-badge":"assets/fonts/font-awesome/solid/id-badge.svg","fas-id-badge":"assets/fonts/font-awesome/solid/id-badge.svg","fa-id-card-clip":"assets/fonts/font-awesome/solid/id-card-clip.svg","fas-id-card-clip":"assets/fonts/font-awesome/solid/id-card-clip.svg","fa-id-card":"assets/fonts/font-awesome/solid/id-card.svg","fas-id-card":"assets/fonts/font-awesome/solid/id-card.svg","fa-igloo":"assets/fonts/font-awesome/solid/igloo.svg","fas-igloo":"assets/fonts/font-awesome/solid/igloo.svg","fa-image-portrait":"assets/fonts/font-awesome/solid/image-portrait.svg","fas-image-portrait":"assets/fonts/font-awesome/solid/image-portrait.svg","fa-image":"assets/fonts/font-awesome/solid/image.svg","fas-image":"assets/fonts/font-awesome/solid/image.svg","fa-images":"assets/fonts/font-awesome/solid/images.svg","fas-images":"assets/fonts/font-awesome/solid/images.svg","fa-inbox":"assets/fonts/font-awesome/solid/inbox.svg","fas-inbox":"assets/fonts/font-awesome/solid/inbox.svg","fa-indent":"assets/fonts/font-awesome/solid/indent.svg","fas-indent":"assets/fonts/font-awesome/solid/indent.svg","fa-indian-rupee-sign":"assets/fonts/font-awesome/solid/indian-rupee-sign.svg","fas-indian-rupee-sign":"assets/fonts/font-awesome/solid/indian-rupee-sign.svg","fa-industry":"assets/fonts/font-awesome/solid/industry.svg","fas-industry":"assets/fonts/font-awesome/solid/industry.svg","fa-infinity":"assets/fonts/font-awesome/solid/infinity.svg","fas-infinity":"assets/fonts/font-awesome/solid/infinity.svg","fa-info":"assets/fonts/font-awesome/solid/info.svg","fas-info":"assets/fonts/font-awesome/solid/info.svg","fa-italic":"assets/fonts/font-awesome/solid/italic.svg","fas-italic":"assets/fonts/font-awesome/solid/italic.svg","fa-j":"assets/fonts/font-awesome/solid/j.svg","fas-j":"assets/fonts/font-awesome/solid/j.svg","fa-jar-wheat":"assets/fonts/font-awesome/solid/jar-wheat.svg","fas-jar-wheat":"assets/fonts/font-awesome/solid/jar-wheat.svg","fa-jar":"assets/fonts/font-awesome/solid/jar.svg","fas-jar":"assets/fonts/font-awesome/solid/jar.svg","fa-jedi":"assets/fonts/font-awesome/solid/jedi.svg","fas-jedi":"assets/fonts/font-awesome/solid/jedi.svg","fa-jet-fighter-up":"assets/fonts/font-awesome/solid/jet-fighter-up.svg","fas-jet-fighter-up":"assets/fonts/font-awesome/solid/jet-fighter-up.svg","fa-jet-fighter":"assets/fonts/font-awesome/solid/jet-fighter.svg","fas-jet-fighter":"assets/fonts/font-awesome/solid/jet-fighter.svg","fa-joint":"assets/fonts/font-awesome/solid/joint.svg","fas-joint":"assets/fonts/font-awesome/solid/joint.svg","fa-jug-detergent":"assets/fonts/font-awesome/solid/jug-detergent.svg","fas-jug-detergent":"assets/fonts/font-awesome/solid/jug-detergent.svg","fa-k":"assets/fonts/font-awesome/solid/k.svg","fas-k":"assets/fonts/font-awesome/solid/k.svg","fa-kaaba":"assets/fonts/font-awesome/solid/kaaba.svg","fas-kaaba":"assets/fonts/font-awesome/solid/kaaba.svg","fa-key":"assets/fonts/font-awesome/solid/key.svg","fas-key":"assets/fonts/font-awesome/solid/key.svg","fa-keyboard":"assets/fonts/font-awesome/solid/keyboard.svg","fas-keyboard":"assets/fonts/font-awesome/solid/keyboard.svg","fa-khanda":"assets/fonts/font-awesome/solid/khanda.svg","fas-khanda":"assets/fonts/font-awesome/solid/khanda.svg","fa-kip-sign":"assets/fonts/font-awesome/solid/kip-sign.svg","fas-kip-sign":"assets/fonts/font-awesome/solid/kip-sign.svg","fa-kit-medical":"assets/fonts/font-awesome/solid/kit-medical.svg","fas-kit-medical":"assets/fonts/font-awesome/solid/kit-medical.svg","fa-kitchen-set":"assets/fonts/font-awesome/solid/kitchen-set.svg","fas-kitchen-set":"assets/fonts/font-awesome/solid/kitchen-set.svg","fa-kiwi-bird":"assets/fonts/font-awesome/solid/kiwi-bird.svg","fas-kiwi-bird":"assets/fonts/font-awesome/solid/kiwi-bird.svg","fa-l":"assets/fonts/font-awesome/solid/l.svg","fas-l":"assets/fonts/font-awesome/solid/l.svg","fa-land-mine-on":"assets/fonts/font-awesome/solid/land-mine-on.svg","fas-land-mine-on":"assets/fonts/font-awesome/solid/land-mine-on.svg","fa-landmark-dome":"assets/fonts/font-awesome/solid/landmark-dome.svg","fas-landmark-dome":"assets/fonts/font-awesome/solid/landmark-dome.svg","fa-landmark-flag":"assets/fonts/font-awesome/solid/landmark-flag.svg","fas-landmark-flag":"assets/fonts/font-awesome/solid/landmark-flag.svg","fa-landmark":"assets/fonts/font-awesome/solid/landmark.svg","fas-landmark":"assets/fonts/font-awesome/solid/landmark.svg","fa-language":"assets/fonts/font-awesome/solid/language.svg","fas-language":"assets/fonts/font-awesome/solid/language.svg","fa-laptop-code":"assets/fonts/font-awesome/solid/laptop-code.svg","fas-laptop-code":"assets/fonts/font-awesome/solid/laptop-code.svg","fa-laptop-file":"assets/fonts/font-awesome/solid/laptop-file.svg","fas-laptop-file":"assets/fonts/font-awesome/solid/laptop-file.svg","fa-laptop-medical":"assets/fonts/font-awesome/solid/laptop-medical.svg","fas-laptop-medical":"assets/fonts/font-awesome/solid/laptop-medical.svg","fa-laptop":"assets/fonts/font-awesome/solid/laptop.svg","fas-laptop":"assets/fonts/font-awesome/solid/laptop.svg","fa-lari-sign":"assets/fonts/font-awesome/solid/lari-sign.svg","fas-lari-sign":"assets/fonts/font-awesome/solid/lari-sign.svg","fa-layer-group":"assets/fonts/font-awesome/solid/layer-group.svg","fas-layer-group":"assets/fonts/font-awesome/solid/layer-group.svg","fa-leaf":"assets/fonts/font-awesome/solid/leaf.svg","fas-leaf":"assets/fonts/font-awesome/solid/leaf.svg","fa-left-long":"assets/fonts/font-awesome/solid/left-long.svg","fas-left-long":"assets/fonts/font-awesome/solid/left-long.svg","fa-left-right":"assets/fonts/font-awesome/solid/left-right.svg","fas-left-right":"assets/fonts/font-awesome/solid/left-right.svg","fa-lemon":"assets/fonts/font-awesome/solid/lemon.svg","fas-lemon":"assets/fonts/font-awesome/solid/lemon.svg","fa-less-than-equal":"assets/fonts/font-awesome/solid/less-than-equal.svg","fas-less-than-equal":"assets/fonts/font-awesome/solid/less-than-equal.svg","fa-less-than":"assets/fonts/font-awesome/solid/less-than.svg","fas-less-than":"assets/fonts/font-awesome/solid/less-than.svg","fa-life-ring":"assets/fonts/font-awesome/solid/life-ring.svg","fas-life-ring":"assets/fonts/font-awesome/solid/life-ring.svg","fa-lightbulb":"assets/fonts/font-awesome/solid/lightbulb.svg","fas-lightbulb":"assets/fonts/font-awesome/solid/lightbulb.svg","fa-lines-leaning":"assets/fonts/font-awesome/solid/lines-leaning.svg","fas-lines-leaning":"assets/fonts/font-awesome/solid/lines-leaning.svg","fa-link-slash":"assets/fonts/font-awesome/solid/link-slash.svg","fas-link-slash":"assets/fonts/font-awesome/solid/link-slash.svg","fa-link":"assets/fonts/font-awesome/solid/link.svg","fas-link":"assets/fonts/font-awesome/solid/link.svg","fa-lira-sign":"assets/fonts/font-awesome/solid/lira-sign.svg","fas-lira-sign":"assets/fonts/font-awesome/solid/lira-sign.svg","fa-list-check":"assets/fonts/font-awesome/solid/list-check.svg","fas-list-check":"assets/fonts/font-awesome/solid/list-check.svg","fa-list-ol":"assets/fonts/font-awesome/solid/list-ol.svg","fas-list-ol":"assets/fonts/font-awesome/solid/list-ol.svg","fa-list-ul":"assets/fonts/font-awesome/solid/list-ul.svg","fas-list-ul":"assets/fonts/font-awesome/solid/list-ul.svg","fa-list":"assets/fonts/font-awesome/solid/list.svg","fas-list":"assets/fonts/font-awesome/solid/list.svg","fa-litecoin-sign":"assets/fonts/font-awesome/solid/litecoin-sign.svg","fas-litecoin-sign":"assets/fonts/font-awesome/solid/litecoin-sign.svg","fa-location-arrow":"assets/fonts/font-awesome/solid/location-arrow.svg","fas-location-arrow":"assets/fonts/font-awesome/solid/location-arrow.svg","fa-location-crosshairs":"assets/fonts/font-awesome/solid/location-crosshairs.svg","fas-location-crosshairs":"assets/fonts/font-awesome/solid/location-crosshairs.svg","fa-location-dot":"assets/fonts/font-awesome/solid/location-dot.svg","fas-location-dot":"assets/fonts/font-awesome/solid/location-dot.svg","fa-location-pin-lock":"assets/fonts/font-awesome/solid/location-pin-lock.svg","fas-location-pin-lock":"assets/fonts/font-awesome/solid/location-pin-lock.svg","fa-location-pin":"assets/fonts/font-awesome/solid/location-pin.svg","fas-location-pin":"assets/fonts/font-awesome/solid/location-pin.svg","fa-lock-open":"assets/fonts/font-awesome/solid/lock-open.svg","fas-lock-open":"assets/fonts/font-awesome/solid/lock-open.svg","fa-lock":"assets/fonts/font-awesome/solid/lock.svg","fas-lock":"assets/fonts/font-awesome/solid/lock.svg","fa-locust":"assets/fonts/font-awesome/solid/locust.svg","fas-locust":"assets/fonts/font-awesome/solid/locust.svg","fa-lungs-virus":"assets/fonts/font-awesome/solid/lungs-virus.svg","fas-lungs-virus":"assets/fonts/font-awesome/solid/lungs-virus.svg","fa-lungs":"assets/fonts/font-awesome/solid/lungs.svg","fas-lungs":"assets/fonts/font-awesome/solid/lungs.svg","fa-m":"assets/fonts/font-awesome/solid/m.svg","fas-m":"assets/fonts/font-awesome/solid/m.svg","fa-magnet":"assets/fonts/font-awesome/solid/magnet.svg","fas-magnet":"assets/fonts/font-awesome/solid/magnet.svg","fa-magnifying-glass-arrow-right":"assets/fonts/font-awesome/solid/magnifying-glass-arrow-right.svg","fas-magnifying-glass-arrow-right":"assets/fonts/font-awesome/solid/magnifying-glass-arrow-right.svg","fa-magnifying-glass-chart":"assets/fonts/font-awesome/solid/magnifying-glass-chart.svg","fas-magnifying-glass-chart":"assets/fonts/font-awesome/solid/magnifying-glass-chart.svg","fa-magnifying-glass-dollar":"assets/fonts/font-awesome/solid/magnifying-glass-dollar.svg","fas-magnifying-glass-dollar":"assets/fonts/font-awesome/solid/magnifying-glass-dollar.svg","fa-magnifying-glass-location":"assets/fonts/font-awesome/solid/magnifying-glass-location.svg","fas-magnifying-glass-location":"assets/fonts/font-awesome/solid/magnifying-glass-location.svg","fa-magnifying-glass-minus":"assets/fonts/font-awesome/solid/magnifying-glass-minus.svg","fas-magnifying-glass-minus":"assets/fonts/font-awesome/solid/magnifying-glass-minus.svg","fa-magnifying-glass-plus":"assets/fonts/font-awesome/solid/magnifying-glass-plus.svg","fas-magnifying-glass-plus":"assets/fonts/font-awesome/solid/magnifying-glass-plus.svg","fa-magnifying-glass":"assets/fonts/font-awesome/solid/magnifying-glass.svg","fas-magnifying-glass":"assets/fonts/font-awesome/solid/magnifying-glass.svg","fa-manat-sign":"assets/fonts/font-awesome/solid/manat-sign.svg","fas-manat-sign":"assets/fonts/font-awesome/solid/manat-sign.svg","fa-map-location-dot":"assets/fonts/font-awesome/solid/map-location-dot.svg","fas-map-location-dot":"assets/fonts/font-awesome/solid/map-location-dot.svg","fa-map-location":"assets/fonts/font-awesome/solid/map-location.svg","fas-map-location":"assets/fonts/font-awesome/solid/map-location.svg","fa-map-pin":"assets/fonts/font-awesome/solid/map-pin.svg","fas-map-pin":"assets/fonts/font-awesome/solid/map-pin.svg","fa-map":"assets/fonts/font-awesome/solid/map.svg","fas-map":"assets/fonts/font-awesome/solid/map.svg","fa-marker":"assets/fonts/font-awesome/solid/marker.svg","fas-marker":"assets/fonts/font-awesome/solid/marker.svg","fa-mars-and-venus-burst":"assets/fonts/font-awesome/solid/mars-and-venus-burst.svg","fas-mars-and-venus-burst":"assets/fonts/font-awesome/solid/mars-and-venus-burst.svg","fa-mars-and-venus":"assets/fonts/font-awesome/solid/mars-and-venus.svg","fas-mars-and-venus":"assets/fonts/font-awesome/solid/mars-and-venus.svg","fa-mars-double":"assets/fonts/font-awesome/solid/mars-double.svg","fas-mars-double":"assets/fonts/font-awesome/solid/mars-double.svg","fa-mars-stroke-right":"assets/fonts/font-awesome/solid/mars-stroke-right.svg","fas-mars-stroke-right":"assets/fonts/font-awesome/solid/mars-stroke-right.svg","fa-mars-stroke-up":"assets/fonts/font-awesome/solid/mars-stroke-up.svg","fas-mars-stroke-up":"assets/fonts/font-awesome/solid/mars-stroke-up.svg","fa-mars-stroke":"assets/fonts/font-awesome/solid/mars-stroke.svg","fas-mars-stroke":"assets/fonts/font-awesome/solid/mars-stroke.svg","fa-mars":"assets/fonts/font-awesome/solid/mars.svg","fas-mars":"assets/fonts/font-awesome/solid/mars.svg","fa-martini-glass-citrus":"assets/fonts/font-awesome/solid/martini-glass-citrus.svg","fas-martini-glass-citrus":"assets/fonts/font-awesome/solid/martini-glass-citrus.svg","fa-martini-glass-empty":"assets/fonts/font-awesome/solid/martini-glass-empty.svg","fas-martini-glass-empty":"assets/fonts/font-awesome/solid/martini-glass-empty.svg","fa-martini-glass":"assets/fonts/font-awesome/solid/martini-glass.svg","fas-martini-glass":"assets/fonts/font-awesome/solid/martini-glass.svg","fa-mask-face":"assets/fonts/font-awesome/solid/mask-face.svg","fas-mask-face":"assets/fonts/font-awesome/solid/mask-face.svg","fa-mask-ventilator":"assets/fonts/font-awesome/solid/mask-ventilator.svg","fas-mask-ventilator":"assets/fonts/font-awesome/solid/mask-ventilator.svg","fa-mask":"assets/fonts/font-awesome/solid/mask.svg","fas-mask":"assets/fonts/font-awesome/solid/mask.svg","fa-masks-theater":"assets/fonts/font-awesome/solid/masks-theater.svg","fas-masks-theater":"assets/fonts/font-awesome/solid/masks-theater.svg","fa-mattress-pillow":"assets/fonts/font-awesome/solid/mattress-pillow.svg","fas-mattress-pillow":"assets/fonts/font-awesome/solid/mattress-pillow.svg","fa-maximize":"assets/fonts/font-awesome/solid/maximize.svg","fas-maximize":"assets/fonts/font-awesome/solid/maximize.svg","fa-medal":"assets/fonts/font-awesome/solid/medal.svg","fas-medal":"assets/fonts/font-awesome/solid/medal.svg","fa-memory":"assets/fonts/font-awesome/solid/memory.svg","fas-memory":"assets/fonts/font-awesome/solid/memory.svg","fa-menorah":"assets/fonts/font-awesome/solid/menorah.svg","fas-menorah":"assets/fonts/font-awesome/solid/menorah.svg","fa-mercury":"assets/fonts/font-awesome/solid/mercury.svg","fas-mercury":"assets/fonts/font-awesome/solid/mercury.svg","fa-message":"assets/fonts/font-awesome/solid/message.svg","fas-message":"assets/fonts/font-awesome/solid/message.svg","fa-meteor":"assets/fonts/font-awesome/solid/meteor.svg","fas-meteor":"assets/fonts/font-awesome/solid/meteor.svg","fa-microchip":"assets/fonts/font-awesome/solid/microchip.svg","fas-microchip":"assets/fonts/font-awesome/solid/microchip.svg","fa-microphone-lines-slash":"assets/fonts/font-awesome/solid/microphone-lines-slash.svg","fas-microphone-lines-slash":"assets/fonts/font-awesome/solid/microphone-lines-slash.svg","fa-microphone-lines":"assets/fonts/font-awesome/solid/microphone-lines.svg","fas-microphone-lines":"assets/fonts/font-awesome/solid/microphone-lines.svg","fa-microphone-slash":"assets/fonts/font-awesome/solid/microphone-slash.svg","fas-microphone-slash":"assets/fonts/font-awesome/solid/microphone-slash.svg","fa-microphone":"assets/fonts/font-awesome/solid/microphone.svg","fas-microphone":"assets/fonts/font-awesome/solid/microphone.svg","fa-microscope":"assets/fonts/font-awesome/solid/microscope.svg","fas-microscope":"assets/fonts/font-awesome/solid/microscope.svg","fa-mill-sign":"assets/fonts/font-awesome/solid/mill-sign.svg","fas-mill-sign":"assets/fonts/font-awesome/solid/mill-sign.svg","fa-minimize":"assets/fonts/font-awesome/solid/minimize.svg","fas-minimize":"assets/fonts/font-awesome/solid/minimize.svg","fa-minus":"assets/fonts/font-awesome/solid/minus.svg","fas-minus":"assets/fonts/font-awesome/solid/minus.svg","fa-mitten":"assets/fonts/font-awesome/solid/mitten.svg","fas-mitten":"assets/fonts/font-awesome/solid/mitten.svg","fa-mobile-button":"assets/fonts/font-awesome/solid/mobile-button.svg","fas-mobile-button":"assets/fonts/font-awesome/solid/mobile-button.svg","fa-mobile-retro":"assets/fonts/font-awesome/solid/mobile-retro.svg","fas-mobile-retro":"assets/fonts/font-awesome/solid/mobile-retro.svg","fa-mobile-screen-button":"assets/fonts/font-awesome/solid/mobile-screen-button.svg","fas-mobile-screen-button":"assets/fonts/font-awesome/solid/mobile-screen-button.svg","fa-mobile-screen":"assets/fonts/font-awesome/solid/mobile-screen.svg","fas-mobile-screen":"assets/fonts/font-awesome/solid/mobile-screen.svg","fa-mobile":"assets/fonts/font-awesome/solid/mobile.svg","fas-mobile":"assets/fonts/font-awesome/solid/mobile.svg","fa-money-bill-1-wave":"assets/fonts/font-awesome/solid/money-bill-1-wave.svg","fas-money-bill-1-wave":"assets/fonts/font-awesome/solid/money-bill-1-wave.svg","fa-money-bill-1":"assets/fonts/font-awesome/solid/money-bill-1.svg","fas-money-bill-1":"assets/fonts/font-awesome/solid/money-bill-1.svg","fa-money-bill-transfer":"assets/fonts/font-awesome/solid/money-bill-transfer.svg","fas-money-bill-transfer":"assets/fonts/font-awesome/solid/money-bill-transfer.svg","fa-money-bill-trend-up":"assets/fonts/font-awesome/solid/money-bill-trend-up.svg","fas-money-bill-trend-up":"assets/fonts/font-awesome/solid/money-bill-trend-up.svg","fa-money-bill-wave":"assets/fonts/font-awesome/solid/money-bill-wave.svg","fas-money-bill-wave":"assets/fonts/font-awesome/solid/money-bill-wave.svg","fa-money-bill-wheat":"assets/fonts/font-awesome/solid/money-bill-wheat.svg","fas-money-bill-wheat":"assets/fonts/font-awesome/solid/money-bill-wheat.svg","fa-money-bill":"assets/fonts/font-awesome/solid/money-bill.svg","fas-money-bill":"assets/fonts/font-awesome/solid/money-bill.svg","fa-money-bills":"assets/fonts/font-awesome/solid/money-bills.svg","fas-money-bills":"assets/fonts/font-awesome/solid/money-bills.svg","fa-money-check-dollar":"assets/fonts/font-awesome/solid/money-check-dollar.svg","fas-money-check-dollar":"assets/fonts/font-awesome/solid/money-check-dollar.svg","fa-money-check":"assets/fonts/font-awesome/solid/money-check.svg","fas-money-check":"assets/fonts/font-awesome/solid/money-check.svg","fa-monument":"assets/fonts/font-awesome/solid/monument.svg","fas-monument":"assets/fonts/font-awesome/solid/monument.svg","fa-moon":"assets/fonts/font-awesome/solid/moon.svg","fas-moon":"assets/fonts/font-awesome/solid/moon.svg","fa-mortar-pestle":"assets/fonts/font-awesome/solid/mortar-pestle.svg","fas-mortar-pestle":"assets/fonts/font-awesome/solid/mortar-pestle.svg","fa-mosque":"assets/fonts/font-awesome/solid/mosque.svg","fas-mosque":"assets/fonts/font-awesome/solid/mosque.svg","fa-mosquito-net":"assets/fonts/font-awesome/solid/mosquito-net.svg","fas-mosquito-net":"assets/fonts/font-awesome/solid/mosquito-net.svg","fa-mosquito":"assets/fonts/font-awesome/solid/mosquito.svg","fas-mosquito":"assets/fonts/font-awesome/solid/mosquito.svg","fa-motorcycle":"assets/fonts/font-awesome/solid/motorcycle.svg","fas-motorcycle":"assets/fonts/font-awesome/solid/motorcycle.svg","fa-mound":"assets/fonts/font-awesome/solid/mound.svg","fas-mound":"assets/fonts/font-awesome/solid/mound.svg","fa-mountain-city":"assets/fonts/font-awesome/solid/mountain-city.svg","fas-mountain-city":"assets/fonts/font-awesome/solid/mountain-city.svg","fa-mountain-sun":"assets/fonts/font-awesome/solid/mountain-sun.svg","fas-mountain-sun":"assets/fonts/font-awesome/solid/mountain-sun.svg","fa-mountain":"assets/fonts/font-awesome/solid/mountain.svg","fas-mountain":"assets/fonts/font-awesome/solid/mountain.svg","fa-mug-hot":"assets/fonts/font-awesome/solid/mug-hot.svg","fas-mug-hot":"assets/fonts/font-awesome/solid/mug-hot.svg","fa-mug-saucer":"assets/fonts/font-awesome/solid/mug-saucer.svg","fas-mug-saucer":"assets/fonts/font-awesome/solid/mug-saucer.svg","fa-music":"assets/fonts/font-awesome/solid/music.svg","fas-music":"assets/fonts/font-awesome/solid/music.svg","fa-n":"assets/fonts/font-awesome/solid/n.svg","fas-n":"assets/fonts/font-awesome/solid/n.svg","fa-naira-sign":"assets/fonts/font-awesome/solid/naira-sign.svg","fas-naira-sign":"assets/fonts/font-awesome/solid/naira-sign.svg","fa-network-wired":"assets/fonts/font-awesome/solid/network-wired.svg","fas-network-wired":"assets/fonts/font-awesome/solid/network-wired.svg","fa-neuter":"assets/fonts/font-awesome/solid/neuter.svg","fas-neuter":"assets/fonts/font-awesome/solid/neuter.svg","fa-newspaper":"assets/fonts/font-awesome/solid/newspaper.svg","fas-newspaper":"assets/fonts/font-awesome/solid/newspaper.svg","fa-not-equal":"assets/fonts/font-awesome/solid/not-equal.svg","fas-not-equal":"assets/fonts/font-awesome/solid/not-equal.svg","fa-notdef":"assets/fonts/font-awesome/solid/notdef.svg","fas-notdef":"assets/fonts/font-awesome/solid/notdef.svg","fa-note-sticky":"assets/fonts/font-awesome/solid/note-sticky.svg","fas-note-sticky":"assets/fonts/font-awesome/solid/note-sticky.svg","fa-notes-medical":"assets/fonts/font-awesome/solid/notes-medical.svg","fas-notes-medical":"assets/fonts/font-awesome/solid/notes-medical.svg","fa-o":"assets/fonts/font-awesome/solid/o.svg","fas-o":"assets/fonts/font-awesome/solid/o.svg","fa-object-group":"assets/fonts/font-awesome/solid/object-group.svg","fas-object-group":"assets/fonts/font-awesome/solid/object-group.svg","fa-object-ungroup":"assets/fonts/font-awesome/solid/object-ungroup.svg","fas-object-ungroup":"assets/fonts/font-awesome/solid/object-ungroup.svg","fa-oil-can":"assets/fonts/font-awesome/solid/oil-can.svg","fas-oil-can":"assets/fonts/font-awesome/solid/oil-can.svg","fa-oil-well":"assets/fonts/font-awesome/solid/oil-well.svg","fas-oil-well":"assets/fonts/font-awesome/solid/oil-well.svg","fa-om":"assets/fonts/font-awesome/solid/om.svg","fas-om":"assets/fonts/font-awesome/solid/om.svg","fa-otter":"assets/fonts/font-awesome/solid/otter.svg","fas-otter":"assets/fonts/font-awesome/solid/otter.svg","fa-outdent":"assets/fonts/font-awesome/solid/outdent.svg","fas-outdent":"assets/fonts/font-awesome/solid/outdent.svg","fa-p":"assets/fonts/font-awesome/solid/p.svg","fas-p":"assets/fonts/font-awesome/solid/p.svg","fa-pager":"assets/fonts/font-awesome/solid/pager.svg","fas-pager":"assets/fonts/font-awesome/solid/pager.svg","fa-paint-roller":"assets/fonts/font-awesome/solid/paint-roller.svg","fas-paint-roller":"assets/fonts/font-awesome/solid/paint-roller.svg","fa-paintbrush":"assets/fonts/font-awesome/solid/paintbrush.svg","fas-paintbrush":"assets/fonts/font-awesome/solid/paintbrush.svg","fa-palette":"assets/fonts/font-awesome/solid/palette.svg","fas-palette":"assets/fonts/font-awesome/solid/palette.svg","fa-pallet":"assets/fonts/font-awesome/solid/pallet.svg","fas-pallet":"assets/fonts/font-awesome/solid/pallet.svg","fa-panorama":"assets/fonts/font-awesome/solid/panorama.svg","fas-panorama":"assets/fonts/font-awesome/solid/panorama.svg","fa-paper-plane":"assets/fonts/font-awesome/solid/paper-plane.svg","fas-paper-plane":"assets/fonts/font-awesome/solid/paper-plane.svg","fa-paperclip":"assets/fonts/font-awesome/solid/paperclip.svg","fas-paperclip":"assets/fonts/font-awesome/solid/paperclip.svg","fa-parachute-box":"assets/fonts/font-awesome/solid/parachute-box.svg","fas-parachute-box":"assets/fonts/font-awesome/solid/parachute-box.svg","fa-paragraph":"assets/fonts/font-awesome/solid/paragraph.svg","fas-paragraph":"assets/fonts/font-awesome/solid/paragraph.svg","fa-passport":"assets/fonts/font-awesome/solid/passport.svg","fas-passport":"assets/fonts/font-awesome/solid/passport.svg","fa-paste":"assets/fonts/font-awesome/solid/paste.svg","fas-paste":"assets/fonts/font-awesome/solid/paste.svg","fa-pause":"assets/fonts/font-awesome/solid/pause.svg","fas-pause":"assets/fonts/font-awesome/solid/pause.svg","fa-paw":"assets/fonts/font-awesome/solid/paw.svg","fas-paw":"assets/fonts/font-awesome/solid/paw.svg","fa-peace":"assets/fonts/font-awesome/solid/peace.svg","fas-peace":"assets/fonts/font-awesome/solid/peace.svg","fa-pen-clip":"assets/fonts/font-awesome/solid/pen-clip.svg","fas-pen-clip":"assets/fonts/font-awesome/solid/pen-clip.svg","fa-pen-fancy":"assets/fonts/font-awesome/solid/pen-fancy.svg","fas-pen-fancy":"assets/fonts/font-awesome/solid/pen-fancy.svg","fa-pen-nib":"assets/fonts/font-awesome/solid/pen-nib.svg","fas-pen-nib":"assets/fonts/font-awesome/solid/pen-nib.svg","fa-pen-ruler":"assets/fonts/font-awesome/solid/pen-ruler.svg","fas-pen-ruler":"assets/fonts/font-awesome/solid/pen-ruler.svg","fa-pen-to-square":"assets/fonts/font-awesome/solid/pen-to-square.svg","fas-pen-to-square":"assets/fonts/font-awesome/solid/pen-to-square.svg","fa-pen":"assets/fonts/font-awesome/solid/pen.svg","fas-pen":"assets/fonts/font-awesome/solid/pen.svg","fa-pencil":"assets/fonts/font-awesome/solid/pencil.svg","fas-pencil":"assets/fonts/font-awesome/solid/pencil.svg","fa-people-arrows":"assets/fonts/font-awesome/solid/people-arrows.svg","fas-people-arrows":"assets/fonts/font-awesome/solid/people-arrows.svg","fa-people-carry-box":"assets/fonts/font-awesome/solid/people-carry-box.svg","fas-people-carry-box":"assets/fonts/font-awesome/solid/people-carry-box.svg","fa-people-group":"assets/fonts/font-awesome/solid/people-group.svg","fas-people-group":"assets/fonts/font-awesome/solid/people-group.svg","fa-people-line":"assets/fonts/font-awesome/solid/people-line.svg","fas-people-line":"assets/fonts/font-awesome/solid/people-line.svg","fa-people-pulling":"assets/fonts/font-awesome/solid/people-pulling.svg","fas-people-pulling":"assets/fonts/font-awesome/solid/people-pulling.svg","fa-people-robbery":"assets/fonts/font-awesome/solid/people-robbery.svg","fas-people-robbery":"assets/fonts/font-awesome/solid/people-robbery.svg","fa-people-roof":"assets/fonts/font-awesome/solid/people-roof.svg","fas-people-roof":"assets/fonts/font-awesome/solid/people-roof.svg","fa-pepper-hot":"assets/fonts/font-awesome/solid/pepper-hot.svg","fas-pepper-hot":"assets/fonts/font-awesome/solid/pepper-hot.svg","fa-percent":"assets/fonts/font-awesome/solid/percent.svg","fas-percent":"assets/fonts/font-awesome/solid/percent.svg","fa-person-arrow-down-to-line":"assets/fonts/font-awesome/solid/person-arrow-down-to-line.svg","fas-person-arrow-down-to-line":"assets/fonts/font-awesome/solid/person-arrow-down-to-line.svg","fa-person-arrow-up-from-line":"assets/fonts/font-awesome/solid/person-arrow-up-from-line.svg","fas-person-arrow-up-from-line":"assets/fonts/font-awesome/solid/person-arrow-up-from-line.svg","fa-person-biking":"assets/fonts/font-awesome/solid/person-biking.svg","fas-person-biking":"assets/fonts/font-awesome/solid/person-biking.svg","fa-person-booth":"assets/fonts/font-awesome/solid/person-booth.svg","fas-person-booth":"assets/fonts/font-awesome/solid/person-booth.svg","fa-person-breastfeeding":"assets/fonts/font-awesome/solid/person-breastfeeding.svg","fas-person-breastfeeding":"assets/fonts/font-awesome/solid/person-breastfeeding.svg","fa-person-burst":"assets/fonts/font-awesome/solid/person-burst.svg","fas-person-burst":"assets/fonts/font-awesome/solid/person-burst.svg","fa-person-cane":"assets/fonts/font-awesome/solid/person-cane.svg","fas-person-cane":"assets/fonts/font-awesome/solid/person-cane.svg","fa-person-chalkboard":"assets/fonts/font-awesome/solid/person-chalkboard.svg","fas-person-chalkboard":"assets/fonts/font-awesome/solid/person-chalkboard.svg","fa-person-circle-check":"assets/fonts/font-awesome/solid/person-circle-check.svg","fas-person-circle-check":"assets/fonts/font-awesome/solid/person-circle-check.svg","fa-person-circle-exclamation":"assets/fonts/font-awesome/solid/person-circle-exclamation.svg","fas-person-circle-exclamation":"assets/fonts/font-awesome/solid/person-circle-exclamation.svg","fa-person-circle-minus":"assets/fonts/font-awesome/solid/person-circle-minus.svg","fas-person-circle-minus":"assets/fonts/font-awesome/solid/person-circle-minus.svg","fa-person-circle-plus":"assets/fonts/font-awesome/solid/person-circle-plus.svg","fas-person-circle-plus":"assets/fonts/font-awesome/solid/person-circle-plus.svg","fa-person-circle-question":"assets/fonts/font-awesome/solid/person-circle-question.svg","fas-person-circle-question":"assets/fonts/font-awesome/solid/person-circle-question.svg","fa-person-circle-xmark":"assets/fonts/font-awesome/solid/person-circle-xmark.svg","fas-person-circle-xmark":"assets/fonts/font-awesome/solid/person-circle-xmark.svg","fa-person-digging":"assets/fonts/font-awesome/solid/person-digging.svg","fas-person-digging":"assets/fonts/font-awesome/solid/person-digging.svg","fa-person-dots-from-line":"assets/fonts/font-awesome/solid/person-dots-from-line.svg","fas-person-dots-from-line":"assets/fonts/font-awesome/solid/person-dots-from-line.svg","fa-person-dress-burst":"assets/fonts/font-awesome/solid/person-dress-burst.svg","fas-person-dress-burst":"assets/fonts/font-awesome/solid/person-dress-burst.svg","fa-person-dress":"assets/fonts/font-awesome/solid/person-dress.svg","fas-person-dress":"assets/fonts/font-awesome/solid/person-dress.svg","fa-person-drowning":"assets/fonts/font-awesome/solid/person-drowning.svg","fas-person-drowning":"assets/fonts/font-awesome/solid/person-drowning.svg","fa-person-falling-burst":"assets/fonts/font-awesome/solid/person-falling-burst.svg","fas-person-falling-burst":"assets/fonts/font-awesome/solid/person-falling-burst.svg","fa-person-falling":"assets/fonts/font-awesome/solid/person-falling.svg","fas-person-falling":"assets/fonts/font-awesome/solid/person-falling.svg","fa-person-half-dress":"assets/fonts/font-awesome/solid/person-half-dress.svg","fas-person-half-dress":"assets/fonts/font-awesome/solid/person-half-dress.svg","fa-person-harassing":"assets/fonts/font-awesome/solid/person-harassing.svg","fas-person-harassing":"assets/fonts/font-awesome/solid/person-harassing.svg","fa-person-hiking":"assets/fonts/font-awesome/solid/person-hiking.svg","fas-person-hiking":"assets/fonts/font-awesome/solid/person-hiking.svg","fa-person-military-pointing":"assets/fonts/font-awesome/solid/person-military-pointing.svg","fas-person-military-pointing":"assets/fonts/font-awesome/solid/person-military-pointing.svg","fa-person-military-rifle":"assets/fonts/font-awesome/solid/person-military-rifle.svg","fas-person-military-rifle":"assets/fonts/font-awesome/solid/person-military-rifle.svg","fa-person-military-to-person":"assets/fonts/font-awesome/solid/person-military-to-person.svg","fas-person-military-to-person":"assets/fonts/font-awesome/solid/person-military-to-person.svg","fa-person-praying":"assets/fonts/font-awesome/solid/person-praying.svg","fas-person-praying":"assets/fonts/font-awesome/solid/person-praying.svg","fa-person-pregnant":"assets/fonts/font-awesome/solid/person-pregnant.svg","fas-person-pregnant":"assets/fonts/font-awesome/solid/person-pregnant.svg","fa-person-rays":"assets/fonts/font-awesome/solid/person-rays.svg","fas-person-rays":"assets/fonts/font-awesome/solid/person-rays.svg","fa-person-rifle":"assets/fonts/font-awesome/solid/person-rifle.svg","fas-person-rifle":"assets/fonts/font-awesome/solid/person-rifle.svg","fa-person-running":"assets/fonts/font-awesome/solid/person-running.svg","fas-person-running":"assets/fonts/font-awesome/solid/person-running.svg","fa-person-shelter":"assets/fonts/font-awesome/solid/person-shelter.svg","fas-person-shelter":"assets/fonts/font-awesome/solid/person-shelter.svg","fa-person-skating":"assets/fonts/font-awesome/solid/person-skating.svg","fas-person-skating":"assets/fonts/font-awesome/solid/person-skating.svg","fa-person-skiing-nordic":"assets/fonts/font-awesome/solid/person-skiing-nordic.svg","fas-person-skiing-nordic":"assets/fonts/font-awesome/solid/person-skiing-nordic.svg","fa-person-skiing":"assets/fonts/font-awesome/solid/person-skiing.svg","fas-person-skiing":"assets/fonts/font-awesome/solid/person-skiing.svg","fa-person-snowboarding":"assets/fonts/font-awesome/solid/person-snowboarding.svg","fas-person-snowboarding":"assets/fonts/font-awesome/solid/person-snowboarding.svg","fa-person-swimming":"assets/fonts/font-awesome/solid/person-swimming.svg","fas-person-swimming":"assets/fonts/font-awesome/solid/person-swimming.svg","fa-person-through-window":"assets/fonts/font-awesome/solid/person-through-window.svg","fas-person-through-window":"assets/fonts/font-awesome/solid/person-through-window.svg","fa-person-walking-arrow-loop-left":"assets/fonts/font-awesome/solid/person-walking-arrow-loop-left.svg","fas-person-walking-arrow-loop-left":"assets/fonts/font-awesome/solid/person-walking-arrow-loop-left.svg","fa-person-walking-arrow-right":"assets/fonts/font-awesome/solid/person-walking-arrow-right.svg","fas-person-walking-arrow-right":"assets/fonts/font-awesome/solid/person-walking-arrow-right.svg","fa-person-walking-dashed-line-arrow-right":"assets/fonts/font-awesome/solid/person-walking-dashed-line-arrow-right.svg","fas-person-walking-dashed-line-arrow-right":"assets/fonts/font-awesome/solid/person-walking-dashed-line-arrow-right.svg","fa-person-walking-luggage":"assets/fonts/font-awesome/solid/person-walking-luggage.svg","fas-person-walking-luggage":"assets/fonts/font-awesome/solid/person-walking-luggage.svg","fa-person-walking-with-cane":"assets/fonts/font-awesome/solid/person-walking-with-cane.svg","fas-person-walking-with-cane":"assets/fonts/font-awesome/solid/person-walking-with-cane.svg","fa-person-walking":"assets/fonts/font-awesome/solid/person-walking.svg","fas-person-walking":"assets/fonts/font-awesome/solid/person-walking.svg","fa-person":"assets/fonts/font-awesome/solid/person.svg","fas-person":"assets/fonts/font-awesome/solid/person.svg","fa-peseta-sign":"assets/fonts/font-awesome/solid/peseta-sign.svg","fas-peseta-sign":"assets/fonts/font-awesome/solid/peseta-sign.svg","fa-peso-sign":"assets/fonts/font-awesome/solid/peso-sign.svg","fas-peso-sign":"assets/fonts/font-awesome/solid/peso-sign.svg","fa-phone-flip":"assets/fonts/font-awesome/solid/phone-flip.svg","fas-phone-flip":"assets/fonts/font-awesome/solid/phone-flip.svg","fa-phone-slash":"assets/fonts/font-awesome/solid/phone-slash.svg","fas-phone-slash":"assets/fonts/font-awesome/solid/phone-slash.svg","fa-phone-volume":"assets/fonts/font-awesome/solid/phone-volume.svg","fas-phone-volume":"assets/fonts/font-awesome/solid/phone-volume.svg","fa-phone":"assets/fonts/font-awesome/solid/phone.svg","fas-phone":"assets/fonts/font-awesome/solid/phone.svg","fa-photo-film":"assets/fonts/font-awesome/solid/photo-film.svg","fas-photo-film":"assets/fonts/font-awesome/solid/photo-film.svg","fa-piggy-bank":"assets/fonts/font-awesome/solid/piggy-bank.svg","fas-piggy-bank":"assets/fonts/font-awesome/solid/piggy-bank.svg","fa-pills":"assets/fonts/font-awesome/solid/pills.svg","fas-pills":"assets/fonts/font-awesome/solid/pills.svg","fa-pizza-slice":"assets/fonts/font-awesome/solid/pizza-slice.svg","fas-pizza-slice":"assets/fonts/font-awesome/solid/pizza-slice.svg","fa-place-of-worship":"assets/fonts/font-awesome/solid/place-of-worship.svg","fas-place-of-worship":"assets/fonts/font-awesome/solid/place-of-worship.svg","fa-plane-arrival":"assets/fonts/font-awesome/solid/plane-arrival.svg","fas-plane-arrival":"assets/fonts/font-awesome/solid/plane-arrival.svg","fa-plane-circle-check":"assets/fonts/font-awesome/solid/plane-circle-check.svg","fas-plane-circle-check":"assets/fonts/font-awesome/solid/plane-circle-check.svg","fa-plane-circle-exclamation":"assets/fonts/font-awesome/solid/plane-circle-exclamation.svg","fas-plane-circle-exclamation":"assets/fonts/font-awesome/solid/plane-circle-exclamation.svg","fa-plane-circle-xmark":"assets/fonts/font-awesome/solid/plane-circle-xmark.svg","fas-plane-circle-xmark":"assets/fonts/font-awesome/solid/plane-circle-xmark.svg","fa-plane-departure":"assets/fonts/font-awesome/solid/plane-departure.svg","fas-plane-departure":"assets/fonts/font-awesome/solid/plane-departure.svg","fa-plane-lock":"assets/fonts/font-awesome/solid/plane-lock.svg","fas-plane-lock":"assets/fonts/font-awesome/solid/plane-lock.svg","fa-plane-slash":"assets/fonts/font-awesome/solid/plane-slash.svg","fas-plane-slash":"assets/fonts/font-awesome/solid/plane-slash.svg","fa-plane-up":"assets/fonts/font-awesome/solid/plane-up.svg","fas-plane-up":"assets/fonts/font-awesome/solid/plane-up.svg","fa-plane":"assets/fonts/font-awesome/solid/plane.svg","fas-plane":"assets/fonts/font-awesome/solid/plane.svg","fa-plant-wilt":"assets/fonts/font-awesome/solid/plant-wilt.svg","fas-plant-wilt":"assets/fonts/font-awesome/solid/plant-wilt.svg","fa-plate-wheat":"assets/fonts/font-awesome/solid/plate-wheat.svg","fas-plate-wheat":"assets/fonts/font-awesome/solid/plate-wheat.svg","fa-play":"assets/fonts/font-awesome/solid/play.svg","fas-play":"assets/fonts/font-awesome/solid/play.svg","fa-plug-circle-bolt":"assets/fonts/font-awesome/solid/plug-circle-bolt.svg","fas-plug-circle-bolt":"assets/fonts/font-awesome/solid/plug-circle-bolt.svg","fa-plug-circle-check":"assets/fonts/font-awesome/solid/plug-circle-check.svg","fas-plug-circle-check":"assets/fonts/font-awesome/solid/plug-circle-check.svg","fa-plug-circle-exclamation":"assets/fonts/font-awesome/solid/plug-circle-exclamation.svg","fas-plug-circle-exclamation":"assets/fonts/font-awesome/solid/plug-circle-exclamation.svg","fa-plug-circle-minus":"assets/fonts/font-awesome/solid/plug-circle-minus.svg","fas-plug-circle-minus":"assets/fonts/font-awesome/solid/plug-circle-minus.svg","fa-plug-circle-plus":"assets/fonts/font-awesome/solid/plug-circle-plus.svg","fas-plug-circle-plus":"assets/fonts/font-awesome/solid/plug-circle-plus.svg","fa-plug-circle-xmark":"assets/fonts/font-awesome/solid/plug-circle-xmark.svg","fas-plug-circle-xmark":"assets/fonts/font-awesome/solid/plug-circle-xmark.svg","fa-plug":"assets/fonts/font-awesome/solid/plug.svg","fas-plug":"assets/fonts/font-awesome/solid/plug.svg","fa-plus-minus":"assets/fonts/font-awesome/solid/plus-minus.svg","fas-plus-minus":"assets/fonts/font-awesome/solid/plus-minus.svg","fa-plus":"assets/fonts/font-awesome/solid/plus.svg","fas-plus":"assets/fonts/font-awesome/solid/plus.svg","fa-podcast":"assets/fonts/font-awesome/solid/podcast.svg","fas-podcast":"assets/fonts/font-awesome/solid/podcast.svg","fa-poo-storm":"assets/fonts/font-awesome/solid/poo-storm.svg","fas-poo-storm":"assets/fonts/font-awesome/solid/poo-storm.svg","fa-poo":"assets/fonts/font-awesome/solid/poo.svg","fas-poo":"assets/fonts/font-awesome/solid/poo.svg","fa-poop":"assets/fonts/font-awesome/solid/poop.svg","fas-poop":"assets/fonts/font-awesome/solid/poop.svg","fa-power-off":"assets/fonts/font-awesome/solid/power-off.svg","fas-power-off":"assets/fonts/font-awesome/solid/power-off.svg","fa-prescription-bottle-medical":"assets/fonts/font-awesome/solid/prescription-bottle-medical.svg","fas-prescription-bottle-medical":"assets/fonts/font-awesome/solid/prescription-bottle-medical.svg","fa-prescription-bottle":"assets/fonts/font-awesome/solid/prescription-bottle.svg","fas-prescription-bottle":"assets/fonts/font-awesome/solid/prescription-bottle.svg","fa-prescription":"assets/fonts/font-awesome/solid/prescription.svg","fas-prescription":"assets/fonts/font-awesome/solid/prescription.svg","fa-print":"assets/fonts/font-awesome/solid/print.svg","fas-print":"assets/fonts/font-awesome/solid/print.svg","fa-pump-medical":"assets/fonts/font-awesome/solid/pump-medical.svg","fas-pump-medical":"assets/fonts/font-awesome/solid/pump-medical.svg","fa-pump-soap":"assets/fonts/font-awesome/solid/pump-soap.svg","fas-pump-soap":"assets/fonts/font-awesome/solid/pump-soap.svg","fa-puzzle-piece":"assets/fonts/font-awesome/solid/puzzle-piece.svg","fas-puzzle-piece":"assets/fonts/font-awesome/solid/puzzle-piece.svg","fa-q":"assets/fonts/font-awesome/solid/q.svg","fas-q":"assets/fonts/font-awesome/solid/q.svg","fa-qrcode":"assets/fonts/font-awesome/solid/qrcode.svg","fas-qrcode":"assets/fonts/font-awesome/solid/qrcode.svg","fa-question":"assets/fonts/font-awesome/solid/question.svg","fas-question":"assets/fonts/font-awesome/solid/question.svg","fa-quote-left":"assets/fonts/font-awesome/solid/quote-left.svg","fas-quote-left":"assets/fonts/font-awesome/solid/quote-left.svg","fa-quote-right":"assets/fonts/font-awesome/solid/quote-right.svg","fas-quote-right":"assets/fonts/font-awesome/solid/quote-right.svg","fa-r":"assets/fonts/font-awesome/solid/r.svg","fas-r":"assets/fonts/font-awesome/solid/r.svg","fa-radiation":"assets/fonts/font-awesome/solid/radiation.svg","fas-radiation":"assets/fonts/font-awesome/solid/radiation.svg","fa-radio":"assets/fonts/font-awesome/solid/radio.svg","fas-radio":"assets/fonts/font-awesome/solid/radio.svg","fa-rainbow":"assets/fonts/font-awesome/solid/rainbow.svg","fas-rainbow":"assets/fonts/font-awesome/solid/rainbow.svg","fa-ranking-star":"assets/fonts/font-awesome/solid/ranking-star.svg","fas-ranking-star":"assets/fonts/font-awesome/solid/ranking-star.svg","fa-receipt":"assets/fonts/font-awesome/solid/receipt.svg","fas-receipt":"assets/fonts/font-awesome/solid/receipt.svg","fa-record-vinyl":"assets/fonts/font-awesome/solid/record-vinyl.svg","fas-record-vinyl":"assets/fonts/font-awesome/solid/record-vinyl.svg","fa-rectangle-ad":"assets/fonts/font-awesome/solid/rectangle-ad.svg","fas-rectangle-ad":"assets/fonts/font-awesome/solid/rectangle-ad.svg","fa-rectangle-list":"assets/fonts/font-awesome/solid/rectangle-list.svg","fas-rectangle-list":"assets/fonts/font-awesome/solid/rectangle-list.svg","fa-rectangle-xmark":"assets/fonts/font-awesome/solid/rectangle-xmark.svg","fas-rectangle-xmark":"assets/fonts/font-awesome/solid/rectangle-xmark.svg","fa-recycle":"assets/fonts/font-awesome/solid/recycle.svg","fas-recycle":"assets/fonts/font-awesome/solid/recycle.svg","fa-registered":"assets/fonts/font-awesome/solid/registered.svg","fas-registered":"assets/fonts/font-awesome/solid/registered.svg","fa-repeat":"assets/fonts/font-awesome/solid/repeat.svg","fas-repeat":"assets/fonts/font-awesome/solid/repeat.svg","fa-reply-all":"assets/fonts/font-awesome/solid/reply-all.svg","fas-reply-all":"assets/fonts/font-awesome/solid/reply-all.svg","fa-reply":"assets/fonts/font-awesome/solid/reply.svg","fas-reply":"assets/fonts/font-awesome/solid/reply.svg","fa-republican":"assets/fonts/font-awesome/solid/republican.svg","fas-republican":"assets/fonts/font-awesome/solid/republican.svg","fa-restroom":"assets/fonts/font-awesome/solid/restroom.svg","fas-restroom":"assets/fonts/font-awesome/solid/restroom.svg","fa-retweet":"assets/fonts/font-awesome/solid/retweet.svg","fas-retweet":"assets/fonts/font-awesome/solid/retweet.svg","fa-ribbon":"assets/fonts/font-awesome/solid/ribbon.svg","fas-ribbon":"assets/fonts/font-awesome/solid/ribbon.svg","fa-right-from-bracket":"assets/fonts/font-awesome/solid/right-from-bracket.svg","fas-right-from-bracket":"assets/fonts/font-awesome/solid/right-from-bracket.svg","fa-right-left":"assets/fonts/font-awesome/solid/right-left.svg","fas-right-left":"assets/fonts/font-awesome/solid/right-left.svg","fa-right-long":"assets/fonts/font-awesome/solid/right-long.svg","fas-right-long":"assets/fonts/font-awesome/solid/right-long.svg","fa-right-to-bracket":"assets/fonts/font-awesome/solid/right-to-bracket.svg","fas-right-to-bracket":"assets/fonts/font-awesome/solid/right-to-bracket.svg","fa-ring":"assets/fonts/font-awesome/solid/ring.svg","fas-ring":"assets/fonts/font-awesome/solid/ring.svg","fa-road-barrier":"assets/fonts/font-awesome/solid/road-barrier.svg","fas-road-barrier":"assets/fonts/font-awesome/solid/road-barrier.svg","fa-road-bridge":"assets/fonts/font-awesome/solid/road-bridge.svg","fas-road-bridge":"assets/fonts/font-awesome/solid/road-bridge.svg","fa-road-circle-check":"assets/fonts/font-awesome/solid/road-circle-check.svg","fas-road-circle-check":"assets/fonts/font-awesome/solid/road-circle-check.svg","fa-road-circle-exclamation":"assets/fonts/font-awesome/solid/road-circle-exclamation.svg","fas-road-circle-exclamation":"assets/fonts/font-awesome/solid/road-circle-exclamation.svg","fa-road-circle-xmark":"assets/fonts/font-awesome/solid/road-circle-xmark.svg","fas-road-circle-xmark":"assets/fonts/font-awesome/solid/road-circle-xmark.svg","fa-road-lock":"assets/fonts/font-awesome/solid/road-lock.svg","fas-road-lock":"assets/fonts/font-awesome/solid/road-lock.svg","fa-road-spikes":"assets/fonts/font-awesome/solid/road-spikes.svg","fas-road-spikes":"assets/fonts/font-awesome/solid/road-spikes.svg","fa-road":"assets/fonts/font-awesome/solid/road.svg","fas-road":"assets/fonts/font-awesome/solid/road.svg","fa-robot":"assets/fonts/font-awesome/solid/robot.svg","fas-robot":"assets/fonts/font-awesome/solid/robot.svg","fa-rocket":"assets/fonts/font-awesome/solid/rocket.svg","fas-rocket":"assets/fonts/font-awesome/solid/rocket.svg","fa-rotate-left":"assets/fonts/font-awesome/solid/rotate-left.svg","fas-rotate-left":"assets/fonts/font-awesome/solid/rotate-left.svg","fa-rotate-right":"assets/fonts/font-awesome/solid/rotate-right.svg","fas-rotate-right":"assets/fonts/font-awesome/solid/rotate-right.svg","fa-rotate":"assets/fonts/font-awesome/solid/rotate.svg","fas-rotate":"assets/fonts/font-awesome/solid/rotate.svg","fa-route":"assets/fonts/font-awesome/solid/route.svg","fas-route":"assets/fonts/font-awesome/solid/route.svg","fa-rss":"assets/fonts/font-awesome/solid/rss.svg","fas-rss":"assets/fonts/font-awesome/solid/rss.svg","fa-ruble-sign":"assets/fonts/font-awesome/solid/ruble-sign.svg","fas-ruble-sign":"assets/fonts/font-awesome/solid/ruble-sign.svg","fa-rug":"assets/fonts/font-awesome/solid/rug.svg","fas-rug":"assets/fonts/font-awesome/solid/rug.svg","fa-ruler-combined":"assets/fonts/font-awesome/solid/ruler-combined.svg","fas-ruler-combined":"assets/fonts/font-awesome/solid/ruler-combined.svg","fa-ruler-horizontal":"assets/fonts/font-awesome/solid/ruler-horizontal.svg","fas-ruler-horizontal":"assets/fonts/font-awesome/solid/ruler-horizontal.svg","fa-ruler-vertical":"assets/fonts/font-awesome/solid/ruler-vertical.svg","fas-ruler-vertical":"assets/fonts/font-awesome/solid/ruler-vertical.svg","fa-ruler":"assets/fonts/font-awesome/solid/ruler.svg","fas-ruler":"assets/fonts/font-awesome/solid/ruler.svg","fa-rupee-sign":"assets/fonts/font-awesome/solid/rupee-sign.svg","fas-rupee-sign":"assets/fonts/font-awesome/solid/rupee-sign.svg","fa-rupiah-sign":"assets/fonts/font-awesome/solid/rupiah-sign.svg","fas-rupiah-sign":"assets/fonts/font-awesome/solid/rupiah-sign.svg","fa-s":"assets/fonts/font-awesome/solid/s.svg","fas-s":"assets/fonts/font-awesome/solid/s.svg","fa-sack-dollar":"assets/fonts/font-awesome/solid/sack-dollar.svg","fas-sack-dollar":"assets/fonts/font-awesome/solid/sack-dollar.svg","fa-sack-xmark":"assets/fonts/font-awesome/solid/sack-xmark.svg","fas-sack-xmark":"assets/fonts/font-awesome/solid/sack-xmark.svg","fa-sailboat":"assets/fonts/font-awesome/solid/sailboat.svg","fas-sailboat":"assets/fonts/font-awesome/solid/sailboat.svg","fa-satellite-dish":"assets/fonts/font-awesome/solid/satellite-dish.svg","fas-satellite-dish":"assets/fonts/font-awesome/solid/satellite-dish.svg","fa-satellite":"assets/fonts/font-awesome/solid/satellite.svg","fas-satellite":"assets/fonts/font-awesome/solid/satellite.svg","fa-scale-balanced":"assets/fonts/font-awesome/solid/scale-balanced.svg","fas-scale-balanced":"assets/fonts/font-awesome/solid/scale-balanced.svg","fa-scale-unbalanced-flip":"assets/fonts/font-awesome/solid/scale-unbalanced-flip.svg","fas-scale-unbalanced-flip":"assets/fonts/font-awesome/solid/scale-unbalanced-flip.svg","fa-scale-unbalanced":"assets/fonts/font-awesome/solid/scale-unbalanced.svg","fas-scale-unbalanced":"assets/fonts/font-awesome/solid/scale-unbalanced.svg","fa-school-circle-check":"assets/fonts/font-awesome/solid/school-circle-check.svg","fas-school-circle-check":"assets/fonts/font-awesome/solid/school-circle-check.svg","fa-school-circle-exclamation":"assets/fonts/font-awesome/solid/school-circle-exclamation.svg","fas-school-circle-exclamation":"assets/fonts/font-awesome/solid/school-circle-exclamation.svg","fa-school-circle-xmark":"assets/fonts/font-awesome/solid/school-circle-xmark.svg","fas-school-circle-xmark":"assets/fonts/font-awesome/solid/school-circle-xmark.svg","fa-school-flag":"assets/fonts/font-awesome/solid/school-flag.svg","fas-school-flag":"assets/fonts/font-awesome/solid/school-flag.svg","fa-school-lock":"assets/fonts/font-awesome/solid/school-lock.svg","fas-school-lock":"assets/fonts/font-awesome/solid/school-lock.svg","fa-school":"assets/fonts/font-awesome/solid/school.svg","fas-school":"assets/fonts/font-awesome/solid/school.svg","fa-scissors":"assets/fonts/font-awesome/solid/scissors.svg","fas-scissors":"assets/fonts/font-awesome/solid/scissors.svg","fa-screwdriver-wrench":"assets/fonts/font-awesome/solid/screwdriver-wrench.svg","fas-screwdriver-wrench":"assets/fonts/font-awesome/solid/screwdriver-wrench.svg","fa-screwdriver":"assets/fonts/font-awesome/solid/screwdriver.svg","fas-screwdriver":"assets/fonts/font-awesome/solid/screwdriver.svg","fa-scroll-torah":"assets/fonts/font-awesome/solid/scroll-torah.svg","fas-scroll-torah":"assets/fonts/font-awesome/solid/scroll-torah.svg","fa-scroll":"assets/fonts/font-awesome/solid/scroll.svg","fas-scroll":"assets/fonts/font-awesome/solid/scroll.svg","fa-sd-card":"assets/fonts/font-awesome/solid/sd-card.svg","fas-sd-card":"assets/fonts/font-awesome/solid/sd-card.svg","fa-section":"assets/fonts/font-awesome/solid/section.svg","fas-section":"assets/fonts/font-awesome/solid/section.svg","fa-seedling":"assets/fonts/font-awesome/solid/seedling.svg","fas-seedling":"assets/fonts/font-awesome/solid/seedling.svg","fa-server":"assets/fonts/font-awesome/solid/server.svg","fas-server":"assets/fonts/font-awesome/solid/server.svg","fa-shapes":"assets/fonts/font-awesome/solid/shapes.svg","fas-shapes":"assets/fonts/font-awesome/solid/shapes.svg","fa-share-from-square":"assets/fonts/font-awesome/solid/share-from-square.svg","fas-share-from-square":"assets/fonts/font-awesome/solid/share-from-square.svg","fa-share-nodes":"assets/fonts/font-awesome/solid/share-nodes.svg","fas-share-nodes":"assets/fonts/font-awesome/solid/share-nodes.svg","fa-share":"assets/fonts/font-awesome/solid/share.svg","fas-share":"assets/fonts/font-awesome/solid/share.svg","fa-sheet-plastic":"assets/fonts/font-awesome/solid/sheet-plastic.svg","fas-sheet-plastic":"assets/fonts/font-awesome/solid/sheet-plastic.svg","fa-shekel-sign":"assets/fonts/font-awesome/solid/shekel-sign.svg","fas-shekel-sign":"assets/fonts/font-awesome/solid/shekel-sign.svg","fa-shield-cat":"assets/fonts/font-awesome/solid/shield-cat.svg","fas-shield-cat":"assets/fonts/font-awesome/solid/shield-cat.svg","fa-shield-dog":"assets/fonts/font-awesome/solid/shield-dog.svg","fas-shield-dog":"assets/fonts/font-awesome/solid/shield-dog.svg","fa-shield-halved":"assets/fonts/font-awesome/solid/shield-halved.svg","fas-shield-halved":"assets/fonts/font-awesome/solid/shield-halved.svg","fa-shield-heart":"assets/fonts/font-awesome/solid/shield-heart.svg","fas-shield-heart":"assets/fonts/font-awesome/solid/shield-heart.svg","fa-shield-virus":"assets/fonts/font-awesome/solid/shield-virus.svg","fas-shield-virus":"assets/fonts/font-awesome/solid/shield-virus.svg","fa-shield":"assets/fonts/font-awesome/solid/shield.svg","fas-shield":"assets/fonts/font-awesome/solid/shield.svg","fa-ship":"assets/fonts/font-awesome/solid/ship.svg","fas-ship":"assets/fonts/font-awesome/solid/ship.svg","fa-shirt":"assets/fonts/font-awesome/solid/shirt.svg","fas-shirt":"assets/fonts/font-awesome/solid/shirt.svg","fa-shoe-prints":"assets/fonts/font-awesome/solid/shoe-prints.svg","fas-shoe-prints":"assets/fonts/font-awesome/solid/shoe-prints.svg","fa-shop-lock":"assets/fonts/font-awesome/solid/shop-lock.svg","fas-shop-lock":"assets/fonts/font-awesome/solid/shop-lock.svg","fa-shop-slash":"assets/fonts/font-awesome/solid/shop-slash.svg","fas-shop-slash":"assets/fonts/font-awesome/solid/shop-slash.svg","fa-shop":"assets/fonts/font-awesome/solid/shop.svg","fas-shop":"assets/fonts/font-awesome/solid/shop.svg","fa-shower":"assets/fonts/font-awesome/solid/shower.svg","fas-shower":"assets/fonts/font-awesome/solid/shower.svg","fa-shrimp":"assets/fonts/font-awesome/solid/shrimp.svg","fas-shrimp":"assets/fonts/font-awesome/solid/shrimp.svg","fa-shuffle":"assets/fonts/font-awesome/solid/shuffle.svg","fas-shuffle":"assets/fonts/font-awesome/solid/shuffle.svg","fa-shuttle-space":"assets/fonts/font-awesome/solid/shuttle-space.svg","fas-shuttle-space":"assets/fonts/font-awesome/solid/shuttle-space.svg","fa-sign-hanging":"assets/fonts/font-awesome/solid/sign-hanging.svg","fas-sign-hanging":"assets/fonts/font-awesome/solid/sign-hanging.svg","fa-signal":"assets/fonts/font-awesome/solid/signal.svg","fas-signal":"assets/fonts/font-awesome/solid/signal.svg","fa-signature":"assets/fonts/font-awesome/solid/signature.svg","fas-signature":"assets/fonts/font-awesome/solid/signature.svg","fa-signs-post":"assets/fonts/font-awesome/solid/signs-post.svg","fas-signs-post":"assets/fonts/font-awesome/solid/signs-post.svg","fa-sim-card":"assets/fonts/font-awesome/solid/sim-card.svg","fas-sim-card":"assets/fonts/font-awesome/solid/sim-card.svg","fa-sink":"assets/fonts/font-awesome/solid/sink.svg","fas-sink":"assets/fonts/font-awesome/solid/sink.svg","fa-sitemap":"assets/fonts/font-awesome/solid/sitemap.svg","fas-sitemap":"assets/fonts/font-awesome/solid/sitemap.svg","fa-skull-crossbones":"assets/fonts/font-awesome/solid/skull-crossbones.svg","fas-skull-crossbones":"assets/fonts/font-awesome/solid/skull-crossbones.svg","fa-skull":"assets/fonts/font-awesome/solid/skull.svg","fas-skull":"assets/fonts/font-awesome/solid/skull.svg","fa-slash":"assets/fonts/font-awesome/solid/slash.svg","fas-slash":"assets/fonts/font-awesome/solid/slash.svg","fa-sleigh":"assets/fonts/font-awesome/solid/sleigh.svg","fas-sleigh":"assets/fonts/font-awesome/solid/sleigh.svg","fa-sliders":"assets/fonts/font-awesome/solid/sliders.svg","fas-sliders":"assets/fonts/font-awesome/solid/sliders.svg","fa-smog":"assets/fonts/font-awesome/solid/smog.svg","fas-smog":"assets/fonts/font-awesome/solid/smog.svg","fa-smoking":"assets/fonts/font-awesome/solid/smoking.svg","fas-smoking":"assets/fonts/font-awesome/solid/smoking.svg","fa-snowflake":"assets/fonts/font-awesome/solid/snowflake.svg","fas-snowflake":"assets/fonts/font-awesome/solid/snowflake.svg","fa-snowman":"assets/fonts/font-awesome/solid/snowman.svg","fas-snowman":"assets/fonts/font-awesome/solid/snowman.svg","fa-snowplow":"assets/fonts/font-awesome/solid/snowplow.svg","fas-snowplow":"assets/fonts/font-awesome/solid/snowplow.svg","fa-soap":"assets/fonts/font-awesome/solid/soap.svg","fas-soap":"assets/fonts/font-awesome/solid/soap.svg","fa-socks":"assets/fonts/font-awesome/solid/socks.svg","fas-socks":"assets/fonts/font-awesome/solid/socks.svg","fa-solar-panel":"assets/fonts/font-awesome/solid/solar-panel.svg","fas-solar-panel":"assets/fonts/font-awesome/solid/solar-panel.svg","fa-sort-down":"assets/fonts/font-awesome/solid/sort-down.svg","fas-sort-down":"assets/fonts/font-awesome/solid/sort-down.svg","fa-sort-up":"assets/fonts/font-awesome/solid/sort-up.svg","fas-sort-up":"assets/fonts/font-awesome/solid/sort-up.svg","fa-sort":"assets/fonts/font-awesome/solid/sort.svg","fas-sort":"assets/fonts/font-awesome/solid/sort.svg","fa-spa":"assets/fonts/font-awesome/solid/spa.svg","fas-spa":"assets/fonts/font-awesome/solid/spa.svg","fa-spaghetti-monster-flying":"assets/fonts/font-awesome/solid/spaghetti-monster-flying.svg","fas-spaghetti-monster-flying":"assets/fonts/font-awesome/solid/spaghetti-monster-flying.svg","fa-spell-check":"assets/fonts/font-awesome/solid/spell-check.svg","fas-spell-check":"assets/fonts/font-awesome/solid/spell-check.svg","fa-spider":"assets/fonts/font-awesome/solid/spider.svg","fas-spider":"assets/fonts/font-awesome/solid/spider.svg","fa-spinner":"assets/fonts/font-awesome/solid/spinner.svg","fas-spinner":"assets/fonts/font-awesome/solid/spinner.svg","fa-splotch":"assets/fonts/font-awesome/solid/splotch.svg","fas-splotch":"assets/fonts/font-awesome/solid/splotch.svg","fa-spoon":"assets/fonts/font-awesome/solid/spoon.svg","fas-spoon":"assets/fonts/font-awesome/solid/spoon.svg","fa-spray-can-sparkles":"assets/fonts/font-awesome/solid/spray-can-sparkles.svg","fas-spray-can-sparkles":"assets/fonts/font-awesome/solid/spray-can-sparkles.svg","fa-spray-can":"assets/fonts/font-awesome/solid/spray-can.svg","fas-spray-can":"assets/fonts/font-awesome/solid/spray-can.svg","fa-square-arrow-up-right":"assets/fonts/font-awesome/solid/square-arrow-up-right.svg","fas-square-arrow-up-right":"assets/fonts/font-awesome/solid/square-arrow-up-right.svg","fa-square-caret-down":"assets/fonts/font-awesome/solid/square-caret-down.svg","fas-square-caret-down":"assets/fonts/font-awesome/solid/square-caret-down.svg","fa-square-caret-left":"assets/fonts/font-awesome/solid/square-caret-left.svg","fas-square-caret-left":"assets/fonts/font-awesome/solid/square-caret-left.svg","fa-square-caret-right":"assets/fonts/font-awesome/solid/square-caret-right.svg","fas-square-caret-right":"assets/fonts/font-awesome/solid/square-caret-right.svg","fa-square-caret-up":"assets/fonts/font-awesome/solid/square-caret-up.svg","fas-square-caret-up":"assets/fonts/font-awesome/solid/square-caret-up.svg","fa-square-check":"assets/fonts/font-awesome/solid/square-check.svg","fas-square-check":"assets/fonts/font-awesome/solid/square-check.svg","fa-square-envelope":"assets/fonts/font-awesome/solid/square-envelope.svg","fas-square-envelope":"assets/fonts/font-awesome/solid/square-envelope.svg","fa-square-full":"assets/fonts/font-awesome/solid/square-full.svg","fas-square-full":"assets/fonts/font-awesome/solid/square-full.svg","fa-square-h":"assets/fonts/font-awesome/solid/square-h.svg","fas-square-h":"assets/fonts/font-awesome/solid/square-h.svg","fa-square-minus":"assets/fonts/font-awesome/solid/square-minus.svg","fas-square-minus":"assets/fonts/font-awesome/solid/square-minus.svg","fa-square-nfi":"assets/fonts/font-awesome/solid/square-nfi.svg","fas-square-nfi":"assets/fonts/font-awesome/solid/square-nfi.svg","fa-square-parking":"assets/fonts/font-awesome/solid/square-parking.svg","fas-square-parking":"assets/fonts/font-awesome/solid/square-parking.svg","fa-square-pen":"assets/fonts/font-awesome/solid/square-pen.svg","fas-square-pen":"assets/fonts/font-awesome/solid/square-pen.svg","fa-square-person-confined":"assets/fonts/font-awesome/solid/square-person-confined.svg","fas-square-person-confined":"assets/fonts/font-awesome/solid/square-person-confined.svg","fa-square-phone-flip":"assets/fonts/font-awesome/solid/square-phone-flip.svg","fas-square-phone-flip":"assets/fonts/font-awesome/solid/square-phone-flip.svg","fa-square-phone":"assets/fonts/font-awesome/solid/square-phone.svg","fas-square-phone":"assets/fonts/font-awesome/solid/square-phone.svg","fa-square-plus":"assets/fonts/font-awesome/solid/square-plus.svg","fas-square-plus":"assets/fonts/font-awesome/solid/square-plus.svg","fa-square-poll-horizontal":"assets/fonts/font-awesome/solid/square-poll-horizontal.svg","fas-square-poll-horizontal":"assets/fonts/font-awesome/solid/square-poll-horizontal.svg","fa-square-poll-vertical":"assets/fonts/font-awesome/solid/square-poll-vertical.svg","fas-square-poll-vertical":"assets/fonts/font-awesome/solid/square-poll-vertical.svg","fa-square-root-variable":"assets/fonts/font-awesome/solid/square-root-variable.svg","fas-square-root-variable":"assets/fonts/font-awesome/solid/square-root-variable.svg","fa-square-rss":"assets/fonts/font-awesome/solid/square-rss.svg","fas-square-rss":"assets/fonts/font-awesome/solid/square-rss.svg","fa-square-share-nodes":"assets/fonts/font-awesome/solid/square-share-nodes.svg","fas-square-share-nodes":"assets/fonts/font-awesome/solid/square-share-nodes.svg","fa-square-up-right":"assets/fonts/font-awesome/solid/square-up-right.svg","fas-square-up-right":"assets/fonts/font-awesome/solid/square-up-right.svg","fa-square-virus":"assets/fonts/font-awesome/solid/square-virus.svg","fas-square-virus":"assets/fonts/font-awesome/solid/square-virus.svg","fa-square-xmark":"assets/fonts/font-awesome/solid/square-xmark.svg","fas-square-xmark":"assets/fonts/font-awesome/solid/square-xmark.svg","fa-square":"assets/fonts/font-awesome/solid/square.svg","fas-square":"assets/fonts/font-awesome/solid/square.svg","fa-staff-snake":"assets/fonts/font-awesome/solid/staff-snake.svg","fas-staff-snake":"assets/fonts/font-awesome/solid/staff-snake.svg","fa-stairs":"assets/fonts/font-awesome/solid/stairs.svg","fas-stairs":"assets/fonts/font-awesome/solid/stairs.svg","fa-stamp":"assets/fonts/font-awesome/solid/stamp.svg","fas-stamp":"assets/fonts/font-awesome/solid/stamp.svg","fa-stapler":"assets/fonts/font-awesome/solid/stapler.svg","fas-stapler":"assets/fonts/font-awesome/solid/stapler.svg","fa-star-and-crescent":"assets/fonts/font-awesome/solid/star-and-crescent.svg","fas-star-and-crescent":"assets/fonts/font-awesome/solid/star-and-crescent.svg","fa-star-half-stroke":"assets/fonts/font-awesome/solid/star-half-stroke.svg","fas-star-half-stroke":"assets/fonts/font-awesome/solid/star-half-stroke.svg","fa-star-half":"assets/fonts/font-awesome/solid/star-half.svg","fas-star-half":"assets/fonts/font-awesome/solid/star-half.svg","fa-star-of-david":"assets/fonts/font-awesome/solid/star-of-david.svg","fas-star-of-david":"assets/fonts/font-awesome/solid/star-of-david.svg","fa-star-of-life":"assets/fonts/font-awesome/solid/star-of-life.svg","fas-star-of-life":"assets/fonts/font-awesome/solid/star-of-life.svg","fa-star":"assets/fonts/font-awesome/solid/star.svg","fas-star":"assets/fonts/font-awesome/solid/star.svg","fa-sterling-sign":"assets/fonts/font-awesome/solid/sterling-sign.svg","fas-sterling-sign":"assets/fonts/font-awesome/solid/sterling-sign.svg","fa-stethoscope":"assets/fonts/font-awesome/solid/stethoscope.svg","fas-stethoscope":"assets/fonts/font-awesome/solid/stethoscope.svg","fa-stop":"assets/fonts/font-awesome/solid/stop.svg","fas-stop":"assets/fonts/font-awesome/solid/stop.svg","fa-stopwatch-20":"assets/fonts/font-awesome/solid/stopwatch-20.svg","fas-stopwatch-20":"assets/fonts/font-awesome/solid/stopwatch-20.svg","fa-stopwatch":"assets/fonts/font-awesome/solid/stopwatch.svg","fas-stopwatch":"assets/fonts/font-awesome/solid/stopwatch.svg","fa-store-slash":"assets/fonts/font-awesome/solid/store-slash.svg","fas-store-slash":"assets/fonts/font-awesome/solid/store-slash.svg","fa-store":"assets/fonts/font-awesome/solid/store.svg","fas-store":"assets/fonts/font-awesome/solid/store.svg","fa-street-view":"assets/fonts/font-awesome/solid/street-view.svg","fas-street-view":"assets/fonts/font-awesome/solid/street-view.svg","fa-strikethrough":"assets/fonts/font-awesome/solid/strikethrough.svg","fas-strikethrough":"assets/fonts/font-awesome/solid/strikethrough.svg","fa-stroopwafel":"assets/fonts/font-awesome/solid/stroopwafel.svg","fas-stroopwafel":"assets/fonts/font-awesome/solid/stroopwafel.svg","fa-subscript":"assets/fonts/font-awesome/solid/subscript.svg","fas-subscript":"assets/fonts/font-awesome/solid/subscript.svg","fa-suitcase-medical":"assets/fonts/font-awesome/solid/suitcase-medical.svg","fas-suitcase-medical":"assets/fonts/font-awesome/solid/suitcase-medical.svg","fa-suitcase-rolling":"assets/fonts/font-awesome/solid/suitcase-rolling.svg","fas-suitcase-rolling":"assets/fonts/font-awesome/solid/suitcase-rolling.svg","fa-suitcase":"assets/fonts/font-awesome/solid/suitcase.svg","fas-suitcase":"assets/fonts/font-awesome/solid/suitcase.svg","fa-sun-plant-wilt":"assets/fonts/font-awesome/solid/sun-plant-wilt.svg","fas-sun-plant-wilt":"assets/fonts/font-awesome/solid/sun-plant-wilt.svg","fa-sun":"assets/fonts/font-awesome/solid/sun.svg","fas-sun":"assets/fonts/font-awesome/solid/sun.svg","fa-superscript":"assets/fonts/font-awesome/solid/superscript.svg","fas-superscript":"assets/fonts/font-awesome/solid/superscript.svg","fa-swatchbook":"assets/fonts/font-awesome/solid/swatchbook.svg","fas-swatchbook":"assets/fonts/font-awesome/solid/swatchbook.svg","fa-synagogue":"assets/fonts/font-awesome/solid/synagogue.svg","fas-synagogue":"assets/fonts/font-awesome/solid/synagogue.svg","fa-syringe":"assets/fonts/font-awesome/solid/syringe.svg","fas-syringe":"assets/fonts/font-awesome/solid/syringe.svg","fa-t":"assets/fonts/font-awesome/solid/t.svg","fas-t":"assets/fonts/font-awesome/solid/t.svg","fa-table-cells-large":"assets/fonts/font-awesome/solid/table-cells-large.svg","fas-table-cells-large":"assets/fonts/font-awesome/solid/table-cells-large.svg","fa-table-cells":"assets/fonts/font-awesome/solid/table-cells.svg","fas-table-cells":"assets/fonts/font-awesome/solid/table-cells.svg","fa-table-columns":"assets/fonts/font-awesome/solid/table-columns.svg","fas-table-columns":"assets/fonts/font-awesome/solid/table-columns.svg","fa-table-list":"assets/fonts/font-awesome/solid/table-list.svg","fas-table-list":"assets/fonts/font-awesome/solid/table-list.svg","fa-table-tennis-paddle-ball":"assets/fonts/font-awesome/solid/table-tennis-paddle-ball.svg","fas-table-tennis-paddle-ball":"assets/fonts/font-awesome/solid/table-tennis-paddle-ball.svg","fa-table":"assets/fonts/font-awesome/solid/table.svg","fas-table":"assets/fonts/font-awesome/solid/table.svg","fa-tablet-button":"assets/fonts/font-awesome/solid/tablet-button.svg","fas-tablet-button":"assets/fonts/font-awesome/solid/tablet-button.svg","fa-tablet-screen-button":"assets/fonts/font-awesome/solid/tablet-screen-button.svg","fas-tablet-screen-button":"assets/fonts/font-awesome/solid/tablet-screen-button.svg","fa-tablet":"assets/fonts/font-awesome/solid/tablet.svg","fas-tablet":"assets/fonts/font-awesome/solid/tablet.svg","fa-tablets":"assets/fonts/font-awesome/solid/tablets.svg","fas-tablets":"assets/fonts/font-awesome/solid/tablets.svg","fa-tachograph-digital":"assets/fonts/font-awesome/solid/tachograph-digital.svg","fas-tachograph-digital":"assets/fonts/font-awesome/solid/tachograph-digital.svg","fa-tag":"assets/fonts/font-awesome/solid/tag.svg","fas-tag":"assets/fonts/font-awesome/solid/tag.svg","fa-tags":"assets/fonts/font-awesome/solid/tags.svg","fas-tags":"assets/fonts/font-awesome/solid/tags.svg","fa-tape":"assets/fonts/font-awesome/solid/tape.svg","fas-tape":"assets/fonts/font-awesome/solid/tape.svg","fa-tarp-droplet":"assets/fonts/font-awesome/solid/tarp-droplet.svg","fas-tarp-droplet":"assets/fonts/font-awesome/solid/tarp-droplet.svg","fa-tarp":"assets/fonts/font-awesome/solid/tarp.svg","fas-tarp":"assets/fonts/font-awesome/solid/tarp.svg","fa-taxi":"assets/fonts/font-awesome/solid/taxi.svg","fas-taxi":"assets/fonts/font-awesome/solid/taxi.svg","fa-teeth-open":"assets/fonts/font-awesome/solid/teeth-open.svg","fas-teeth-open":"assets/fonts/font-awesome/solid/teeth-open.svg","fa-teeth":"assets/fonts/font-awesome/solid/teeth.svg","fas-teeth":"assets/fonts/font-awesome/solid/teeth.svg","fa-temperature-arrow-down":"assets/fonts/font-awesome/solid/temperature-arrow-down.svg","fas-temperature-arrow-down":"assets/fonts/font-awesome/solid/temperature-arrow-down.svg","fa-temperature-arrow-up":"assets/fonts/font-awesome/solid/temperature-arrow-up.svg","fas-temperature-arrow-up":"assets/fonts/font-awesome/solid/temperature-arrow-up.svg","fa-temperature-empty":"assets/fonts/font-awesome/solid/temperature-empty.svg","fas-temperature-empty":"assets/fonts/font-awesome/solid/temperature-empty.svg","fa-temperature-full":"assets/fonts/font-awesome/solid/temperature-full.svg","fas-temperature-full":"assets/fonts/font-awesome/solid/temperature-full.svg","fa-temperature-half":"assets/fonts/font-awesome/solid/temperature-half.svg","fas-temperature-half":"assets/fonts/font-awesome/solid/temperature-half.svg","fa-temperature-high":"assets/fonts/font-awesome/solid/temperature-high.svg","fas-temperature-high":"assets/fonts/font-awesome/solid/temperature-high.svg","fa-temperature-low":"assets/fonts/font-awesome/solid/temperature-low.svg","fas-temperature-low":"assets/fonts/font-awesome/solid/temperature-low.svg","fa-temperature-quarter":"assets/fonts/font-awesome/solid/temperature-quarter.svg","fas-temperature-quarter":"assets/fonts/font-awesome/solid/temperature-quarter.svg","fa-temperature-three-quarters":"assets/fonts/font-awesome/solid/temperature-three-quarters.svg","fas-temperature-three-quarters":"assets/fonts/font-awesome/solid/temperature-three-quarters.svg","fa-tenge-sign":"assets/fonts/font-awesome/solid/tenge-sign.svg","fas-tenge-sign":"assets/fonts/font-awesome/solid/tenge-sign.svg","fa-tent-arrow-down-to-line":"assets/fonts/font-awesome/solid/tent-arrow-down-to-line.svg","fas-tent-arrow-down-to-line":"assets/fonts/font-awesome/solid/tent-arrow-down-to-line.svg","fa-tent-arrow-left-right":"assets/fonts/font-awesome/solid/tent-arrow-left-right.svg","fas-tent-arrow-left-right":"assets/fonts/font-awesome/solid/tent-arrow-left-right.svg","fa-tent-arrow-turn-left":"assets/fonts/font-awesome/solid/tent-arrow-turn-left.svg","fas-tent-arrow-turn-left":"assets/fonts/font-awesome/solid/tent-arrow-turn-left.svg","fa-tent-arrows-down":"assets/fonts/font-awesome/solid/tent-arrows-down.svg","fas-tent-arrows-down":"assets/fonts/font-awesome/solid/tent-arrows-down.svg","fa-tent":"assets/fonts/font-awesome/solid/tent.svg","fas-tent":"assets/fonts/font-awesome/solid/tent.svg","fa-tents":"assets/fonts/font-awesome/solid/tents.svg","fas-tents":"assets/fonts/font-awesome/solid/tents.svg","fa-terminal":"assets/fonts/font-awesome/solid/terminal.svg","fas-terminal":"assets/fonts/font-awesome/solid/terminal.svg","fa-text-height":"assets/fonts/font-awesome/solid/text-height.svg","fas-text-height":"assets/fonts/font-awesome/solid/text-height.svg","fa-text-slash":"assets/fonts/font-awesome/solid/text-slash.svg","fas-text-slash":"assets/fonts/font-awesome/solid/text-slash.svg","fa-text-width":"assets/fonts/font-awesome/solid/text-width.svg","fas-text-width":"assets/fonts/font-awesome/solid/text-width.svg","fa-thermometer":"assets/fonts/font-awesome/solid/thermometer.svg","fas-thermometer":"assets/fonts/font-awesome/solid/thermometer.svg","fa-thumbs-down":"assets/fonts/font-awesome/solid/thumbs-down.svg","fas-thumbs-down":"assets/fonts/font-awesome/solid/thumbs-down.svg","fa-thumbs-up":"assets/fonts/font-awesome/solid/thumbs-up.svg","fas-thumbs-up":"assets/fonts/font-awesome/solid/thumbs-up.svg","fa-thumbtack":"assets/fonts/font-awesome/solid/thumbtack.svg","fas-thumbtack":"assets/fonts/font-awesome/solid/thumbtack.svg","fa-ticket-simple":"assets/fonts/font-awesome/solid/ticket-simple.svg","fas-ticket-simple":"assets/fonts/font-awesome/solid/ticket-simple.svg","fa-ticket":"assets/fonts/font-awesome/solid/ticket.svg","fas-ticket":"assets/fonts/font-awesome/solid/ticket.svg","fa-timeline":"assets/fonts/font-awesome/solid/timeline.svg","fas-timeline":"assets/fonts/font-awesome/solid/timeline.svg","fa-toggle-off":"assets/fonts/font-awesome/solid/toggle-off.svg","fas-toggle-off":"assets/fonts/font-awesome/solid/toggle-off.svg","fa-toggle-on":"assets/fonts/font-awesome/solid/toggle-on.svg","fas-toggle-on":"assets/fonts/font-awesome/solid/toggle-on.svg","fa-toilet-paper-slash":"assets/fonts/font-awesome/solid/toilet-paper-slash.svg","fas-toilet-paper-slash":"assets/fonts/font-awesome/solid/toilet-paper-slash.svg","fa-toilet-paper":"assets/fonts/font-awesome/solid/toilet-paper.svg","fas-toilet-paper":"assets/fonts/font-awesome/solid/toilet-paper.svg","fa-toilet-portable":"assets/fonts/font-awesome/solid/toilet-portable.svg","fas-toilet-portable":"assets/fonts/font-awesome/solid/toilet-portable.svg","fa-toilet":"assets/fonts/font-awesome/solid/toilet.svg","fas-toilet":"assets/fonts/font-awesome/solid/toilet.svg","fa-toilets-portable":"assets/fonts/font-awesome/solid/toilets-portable.svg","fas-toilets-portable":"assets/fonts/font-awesome/solid/toilets-portable.svg","fa-toolbox":"assets/fonts/font-awesome/solid/toolbox.svg","fas-toolbox":"assets/fonts/font-awesome/solid/toolbox.svg","fa-tooth":"assets/fonts/font-awesome/solid/tooth.svg","fas-tooth":"assets/fonts/font-awesome/solid/tooth.svg","fa-torii-gate":"assets/fonts/font-awesome/solid/torii-gate.svg","fas-torii-gate":"assets/fonts/font-awesome/solid/torii-gate.svg","fa-tornado":"assets/fonts/font-awesome/solid/tornado.svg","fas-tornado":"assets/fonts/font-awesome/solid/tornado.svg","fa-tower-broadcast":"assets/fonts/font-awesome/solid/tower-broadcast.svg","fas-tower-broadcast":"assets/fonts/font-awesome/solid/tower-broadcast.svg","fa-tower-cell":"assets/fonts/font-awesome/solid/tower-cell.svg","fas-tower-cell":"assets/fonts/font-awesome/solid/tower-cell.svg","fa-tower-observation":"assets/fonts/font-awesome/solid/tower-observation.svg","fas-tower-observation":"assets/fonts/font-awesome/solid/tower-observation.svg","fa-tractor":"assets/fonts/font-awesome/solid/tractor.svg","fas-tractor":"assets/fonts/font-awesome/solid/tractor.svg","fa-trademark":"assets/fonts/font-awesome/solid/trademark.svg","fas-trademark":"assets/fonts/font-awesome/solid/trademark.svg","fa-traffic-light":"assets/fonts/font-awesome/solid/traffic-light.svg","fas-traffic-light":"assets/fonts/font-awesome/solid/traffic-light.svg","fa-trailer":"assets/fonts/font-awesome/solid/trailer.svg","fas-trailer":"assets/fonts/font-awesome/solid/trailer.svg","fa-train-subway":"assets/fonts/font-awesome/solid/train-subway.svg","fas-train-subway":"assets/fonts/font-awesome/solid/train-subway.svg","fa-train-tram":"assets/fonts/font-awesome/solid/train-tram.svg","fas-train-tram":"assets/fonts/font-awesome/solid/train-tram.svg","fa-train":"assets/fonts/font-awesome/solid/train.svg","fas-train":"assets/fonts/font-awesome/solid/train.svg","fa-transgender":"assets/fonts/font-awesome/solid/transgender.svg","fas-transgender":"assets/fonts/font-awesome/solid/transgender.svg","fa-trash-arrow-up":"assets/fonts/font-awesome/solid/trash-arrow-up.svg","fas-trash-arrow-up":"assets/fonts/font-awesome/solid/trash-arrow-up.svg","fa-trash-can-arrow-up":"assets/fonts/font-awesome/solid/trash-can-arrow-up.svg","fas-trash-can-arrow-up":"assets/fonts/font-awesome/solid/trash-can-arrow-up.svg","fa-trash-can":"assets/fonts/font-awesome/solid/trash-can.svg","fas-trash-can":"assets/fonts/font-awesome/solid/trash-can.svg","fa-trash":"assets/fonts/font-awesome/solid/trash.svg","fas-trash":"assets/fonts/font-awesome/solid/trash.svg","fa-tree-city":"assets/fonts/font-awesome/solid/tree-city.svg","fas-tree-city":"assets/fonts/font-awesome/solid/tree-city.svg","fa-tree":"assets/fonts/font-awesome/solid/tree.svg","fas-tree":"assets/fonts/font-awesome/solid/tree.svg","fa-triangle-exclamation":"assets/fonts/font-awesome/solid/triangle-exclamation.svg","fas-triangle-exclamation":"assets/fonts/font-awesome/solid/triangle-exclamation.svg","fa-trophy":"assets/fonts/font-awesome/solid/trophy.svg","fas-trophy":"assets/fonts/font-awesome/solid/trophy.svg","fa-trowel-bricks":"assets/fonts/font-awesome/solid/trowel-bricks.svg","fas-trowel-bricks":"assets/fonts/font-awesome/solid/trowel-bricks.svg","fa-trowel":"assets/fonts/font-awesome/solid/trowel.svg","fas-trowel":"assets/fonts/font-awesome/solid/trowel.svg","fa-truck-arrow-right":"assets/fonts/font-awesome/solid/truck-arrow-right.svg","fas-truck-arrow-right":"assets/fonts/font-awesome/solid/truck-arrow-right.svg","fa-truck-droplet":"assets/fonts/font-awesome/solid/truck-droplet.svg","fas-truck-droplet":"assets/fonts/font-awesome/solid/truck-droplet.svg","fa-truck-fast":"assets/fonts/font-awesome/solid/truck-fast.svg","fas-truck-fast":"assets/fonts/font-awesome/solid/truck-fast.svg","fa-truck-field-un":"assets/fonts/font-awesome/solid/truck-field-un.svg","fas-truck-field-un":"assets/fonts/font-awesome/solid/truck-field-un.svg","fa-truck-field":"assets/fonts/font-awesome/solid/truck-field.svg","fas-truck-field":"assets/fonts/font-awesome/solid/truck-field.svg","fa-truck-front":"assets/fonts/font-awesome/solid/truck-front.svg","fas-truck-front":"assets/fonts/font-awesome/solid/truck-front.svg","fa-truck-medical":"assets/fonts/font-awesome/solid/truck-medical.svg","fas-truck-medical":"assets/fonts/font-awesome/solid/truck-medical.svg","fa-truck-monster":"assets/fonts/font-awesome/solid/truck-monster.svg","fas-truck-monster":"assets/fonts/font-awesome/solid/truck-monster.svg","fa-truck-moving":"assets/fonts/font-awesome/solid/truck-moving.svg","fas-truck-moving":"assets/fonts/font-awesome/solid/truck-moving.svg","fa-truck-pickup":"assets/fonts/font-awesome/solid/truck-pickup.svg","fas-truck-pickup":"assets/fonts/font-awesome/solid/truck-pickup.svg","fa-truck-plane":"assets/fonts/font-awesome/solid/truck-plane.svg","fas-truck-plane":"assets/fonts/font-awesome/solid/truck-plane.svg","fa-truck-ramp-box":"assets/fonts/font-awesome/solid/truck-ramp-box.svg","fas-truck-ramp-box":"assets/fonts/font-awesome/solid/truck-ramp-box.svg","fa-truck":"assets/fonts/font-awesome/solid/truck.svg","fas-truck":"assets/fonts/font-awesome/solid/truck.svg","fa-tty":"assets/fonts/font-awesome/solid/tty.svg","fas-tty":"assets/fonts/font-awesome/solid/tty.svg","fa-turkish-lira-sign":"assets/fonts/font-awesome/solid/turkish-lira-sign.svg","fas-turkish-lira-sign":"assets/fonts/font-awesome/solid/turkish-lira-sign.svg","fa-turn-down":"assets/fonts/font-awesome/solid/turn-down.svg","fas-turn-down":"assets/fonts/font-awesome/solid/turn-down.svg","fa-turn-up":"assets/fonts/font-awesome/solid/turn-up.svg","fas-turn-up":"assets/fonts/font-awesome/solid/turn-up.svg","fa-tv":"assets/fonts/font-awesome/solid/tv.svg","fas-tv":"assets/fonts/font-awesome/solid/tv.svg","fa-u":"assets/fonts/font-awesome/solid/u.svg","fas-u":"assets/fonts/font-awesome/solid/u.svg","fa-umbrella-beach":"assets/fonts/font-awesome/solid/umbrella-beach.svg","fas-umbrella-beach":"assets/fonts/font-awesome/solid/umbrella-beach.svg","fa-umbrella":"assets/fonts/font-awesome/solid/umbrella.svg","fas-umbrella":"assets/fonts/font-awesome/solid/umbrella.svg","fa-underline":"assets/fonts/font-awesome/solid/underline.svg","fas-underline":"assets/fonts/font-awesome/solid/underline.svg","fa-universal-access":"assets/fonts/font-awesome/solid/universal-access.svg","fas-universal-access":"assets/fonts/font-awesome/solid/universal-access.svg","fa-unlock-keyhole":"assets/fonts/font-awesome/solid/unlock-keyhole.svg","fas-unlock-keyhole":"assets/fonts/font-awesome/solid/unlock-keyhole.svg","fa-unlock":"assets/fonts/font-awesome/solid/unlock.svg","fas-unlock":"assets/fonts/font-awesome/solid/unlock.svg","fa-up-down-left-right":"assets/fonts/font-awesome/solid/up-down-left-right.svg","fas-up-down-left-right":"assets/fonts/font-awesome/solid/up-down-left-right.svg","fa-up-down":"assets/fonts/font-awesome/solid/up-down.svg","fas-up-down":"assets/fonts/font-awesome/solid/up-down.svg","fa-up-long":"assets/fonts/font-awesome/solid/up-long.svg","fas-up-long":"assets/fonts/font-awesome/solid/up-long.svg","fa-up-right-and-down-left-from-center":"assets/fonts/font-awesome/solid/up-right-and-down-left-from-center.svg","fas-up-right-and-down-left-from-center":"assets/fonts/font-awesome/solid/up-right-and-down-left-from-center.svg","fa-up-right-from-square":"assets/fonts/font-awesome/solid/up-right-from-square.svg","fas-up-right-from-square":"assets/fonts/font-awesome/solid/up-right-from-square.svg","fa-upload":"assets/fonts/font-awesome/solid/upload.svg","fas-upload":"assets/fonts/font-awesome/solid/upload.svg","fa-user-astronaut":"assets/fonts/font-awesome/solid/user-astronaut.svg","fas-user-astronaut":"assets/fonts/font-awesome/solid/user-astronaut.svg","fa-user-check":"assets/fonts/font-awesome/solid/user-check.svg","fas-user-check":"assets/fonts/font-awesome/solid/user-check.svg","fa-user-clock":"assets/fonts/font-awesome/solid/user-clock.svg","fas-user-clock":"assets/fonts/font-awesome/solid/user-clock.svg","fa-user-doctor":"assets/fonts/font-awesome/solid/user-doctor.svg","fas-user-doctor":"assets/fonts/font-awesome/solid/user-doctor.svg","fa-user-gear":"assets/fonts/font-awesome/solid/user-gear.svg","fas-user-gear":"assets/fonts/font-awesome/solid/user-gear.svg","fa-user-graduate":"assets/fonts/font-awesome/solid/user-graduate.svg","fas-user-graduate":"assets/fonts/font-awesome/solid/user-graduate.svg","fa-user-group":"assets/fonts/font-awesome/solid/user-group.svg","fas-user-group":"assets/fonts/font-awesome/solid/user-group.svg","fa-user-injured":"assets/fonts/font-awesome/solid/user-injured.svg","fas-user-injured":"assets/fonts/font-awesome/solid/user-injured.svg","fa-user-large-slash":"assets/fonts/font-awesome/solid/user-large-slash.svg","fas-user-large-slash":"assets/fonts/font-awesome/solid/user-large-slash.svg","fa-user-large":"assets/fonts/font-awesome/solid/user-large.svg","fas-user-large":"assets/fonts/font-awesome/solid/user-large.svg","fa-user-lock":"assets/fonts/font-awesome/solid/user-lock.svg","fas-user-lock":"assets/fonts/font-awesome/solid/user-lock.svg","fa-user-minus":"assets/fonts/font-awesome/solid/user-minus.svg","fas-user-minus":"assets/fonts/font-awesome/solid/user-minus.svg","fa-user-ninja":"assets/fonts/font-awesome/solid/user-ninja.svg","fas-user-ninja":"assets/fonts/font-awesome/solid/user-ninja.svg","fa-user-nurse":"assets/fonts/font-awesome/solid/user-nurse.svg","fas-user-nurse":"assets/fonts/font-awesome/solid/user-nurse.svg","fa-user-pen":"assets/fonts/font-awesome/solid/user-pen.svg","fas-user-pen":"assets/fonts/font-awesome/solid/user-pen.svg","fa-user-plus":"assets/fonts/font-awesome/solid/user-plus.svg","fas-user-plus":"assets/fonts/font-awesome/solid/user-plus.svg","fa-user-secret":"assets/fonts/font-awesome/solid/user-secret.svg","fas-user-secret":"assets/fonts/font-awesome/solid/user-secret.svg","fa-user-shield":"assets/fonts/font-awesome/solid/user-shield.svg","fas-user-shield":"assets/fonts/font-awesome/solid/user-shield.svg","fa-user-slash":"assets/fonts/font-awesome/solid/user-slash.svg","fas-user-slash":"assets/fonts/font-awesome/solid/user-slash.svg","fa-user-tag":"assets/fonts/font-awesome/solid/user-tag.svg","fas-user-tag":"assets/fonts/font-awesome/solid/user-tag.svg","fa-user-tie":"assets/fonts/font-awesome/solid/user-tie.svg","fas-user-tie":"assets/fonts/font-awesome/solid/user-tie.svg","fa-user-xmark":"assets/fonts/font-awesome/solid/user-xmark.svg","fas-user-xmark":"assets/fonts/font-awesome/solid/user-xmark.svg","fa-user":"assets/fonts/font-awesome/solid/user.svg","fas-user":"assets/fonts/font-awesome/solid/user.svg","fa-users-between-lines":"assets/fonts/font-awesome/solid/users-between-lines.svg","fas-users-between-lines":"assets/fonts/font-awesome/solid/users-between-lines.svg","fa-users-gear":"assets/fonts/font-awesome/solid/users-gear.svg","fas-users-gear":"assets/fonts/font-awesome/solid/users-gear.svg","fa-users-line":"assets/fonts/font-awesome/solid/users-line.svg","fas-users-line":"assets/fonts/font-awesome/solid/users-line.svg","fa-users-rays":"assets/fonts/font-awesome/solid/users-rays.svg","fas-users-rays":"assets/fonts/font-awesome/solid/users-rays.svg","fa-users-rectangle":"assets/fonts/font-awesome/solid/users-rectangle.svg","fas-users-rectangle":"assets/fonts/font-awesome/solid/users-rectangle.svg","fa-users-slash":"assets/fonts/font-awesome/solid/users-slash.svg","fas-users-slash":"assets/fonts/font-awesome/solid/users-slash.svg","fa-users-viewfinder":"assets/fonts/font-awesome/solid/users-viewfinder.svg","fas-users-viewfinder":"assets/fonts/font-awesome/solid/users-viewfinder.svg","fa-users":"assets/fonts/font-awesome/solid/users.svg","fas-users":"assets/fonts/font-awesome/solid/users.svg","fa-utensils":"assets/fonts/font-awesome/solid/utensils.svg","fas-utensils":"assets/fonts/font-awesome/solid/utensils.svg","fa-v":"assets/fonts/font-awesome/solid/v.svg","fas-v":"assets/fonts/font-awesome/solid/v.svg","fa-van-shuttle":"assets/fonts/font-awesome/solid/van-shuttle.svg","fas-van-shuttle":"assets/fonts/font-awesome/solid/van-shuttle.svg","fa-vault":"assets/fonts/font-awesome/solid/vault.svg","fas-vault":"assets/fonts/font-awesome/solid/vault.svg","fa-vector-square":"assets/fonts/font-awesome/solid/vector-square.svg","fas-vector-square":"assets/fonts/font-awesome/solid/vector-square.svg","fa-venus-double":"assets/fonts/font-awesome/solid/venus-double.svg","fas-venus-double":"assets/fonts/font-awesome/solid/venus-double.svg","fa-venus-mars":"assets/fonts/font-awesome/solid/venus-mars.svg","fas-venus-mars":"assets/fonts/font-awesome/solid/venus-mars.svg","fa-venus":"assets/fonts/font-awesome/solid/venus.svg","fas-venus":"assets/fonts/font-awesome/solid/venus.svg","fa-vest-patches":"assets/fonts/font-awesome/solid/vest-patches.svg","fas-vest-patches":"assets/fonts/font-awesome/solid/vest-patches.svg","fa-vest":"assets/fonts/font-awesome/solid/vest.svg","fas-vest":"assets/fonts/font-awesome/solid/vest.svg","fa-vial-circle-check":"assets/fonts/font-awesome/solid/vial-circle-check.svg","fas-vial-circle-check":"assets/fonts/font-awesome/solid/vial-circle-check.svg","fa-vial-virus":"assets/fonts/font-awesome/solid/vial-virus.svg","fas-vial-virus":"assets/fonts/font-awesome/solid/vial-virus.svg","fa-vial":"assets/fonts/font-awesome/solid/vial.svg","fas-vial":"assets/fonts/font-awesome/solid/vial.svg","fa-vials":"assets/fonts/font-awesome/solid/vials.svg","fas-vials":"assets/fonts/font-awesome/solid/vials.svg","fa-video-slash":"assets/fonts/font-awesome/solid/video-slash.svg","fas-video-slash":"assets/fonts/font-awesome/solid/video-slash.svg","fa-video":"assets/fonts/font-awesome/solid/video.svg","fas-video":"assets/fonts/font-awesome/solid/video.svg","fa-vihara":"assets/fonts/font-awesome/solid/vihara.svg","fas-vihara":"assets/fonts/font-awesome/solid/vihara.svg","fa-virus-covid-slash":"assets/fonts/font-awesome/solid/virus-covid-slash.svg","fas-virus-covid-slash":"assets/fonts/font-awesome/solid/virus-covid-slash.svg","fa-virus-covid":"assets/fonts/font-awesome/solid/virus-covid.svg","fas-virus-covid":"assets/fonts/font-awesome/solid/virus-covid.svg","fa-virus-slash":"assets/fonts/font-awesome/solid/virus-slash.svg","fas-virus-slash":"assets/fonts/font-awesome/solid/virus-slash.svg","fa-virus":"assets/fonts/font-awesome/solid/virus.svg","fas-virus":"assets/fonts/font-awesome/solid/virus.svg","fa-viruses":"assets/fonts/font-awesome/solid/viruses.svg","fas-viruses":"assets/fonts/font-awesome/solid/viruses.svg","fa-voicemail":"assets/fonts/font-awesome/solid/voicemail.svg","fas-voicemail":"assets/fonts/font-awesome/solid/voicemail.svg","fa-volcano":"assets/fonts/font-awesome/solid/volcano.svg","fas-volcano":"assets/fonts/font-awesome/solid/volcano.svg","fa-volleyball":"assets/fonts/font-awesome/solid/volleyball.svg","fas-volleyball":"assets/fonts/font-awesome/solid/volleyball.svg","fa-volume-high":"assets/fonts/font-awesome/solid/volume-high.svg","fas-volume-high":"assets/fonts/font-awesome/solid/volume-high.svg","fa-volume-low":"assets/fonts/font-awesome/solid/volume-low.svg","fas-volume-low":"assets/fonts/font-awesome/solid/volume-low.svg","fa-volume-off":"assets/fonts/font-awesome/solid/volume-off.svg","fas-volume-off":"assets/fonts/font-awesome/solid/volume-off.svg","fa-volume-xmark":"assets/fonts/font-awesome/solid/volume-xmark.svg","fas-volume-xmark":"assets/fonts/font-awesome/solid/volume-xmark.svg","fa-vr-cardboard":"assets/fonts/font-awesome/solid/vr-cardboard.svg","fas-vr-cardboard":"assets/fonts/font-awesome/solid/vr-cardboard.svg","fa-w":"assets/fonts/font-awesome/solid/w.svg","fas-w":"assets/fonts/font-awesome/solid/w.svg","fa-walkie-talkie":"assets/fonts/font-awesome/solid/walkie-talkie.svg","fas-walkie-talkie":"assets/fonts/font-awesome/solid/walkie-talkie.svg","fa-wallet":"assets/fonts/font-awesome/solid/wallet.svg","fas-wallet":"assets/fonts/font-awesome/solid/wallet.svg","fa-wand-magic-sparkles":"assets/fonts/font-awesome/solid/wand-magic-sparkles.svg","fas-wand-magic-sparkles":"assets/fonts/font-awesome/solid/wand-magic-sparkles.svg","fa-wand-magic":"assets/fonts/font-awesome/solid/wand-magic.svg","fas-wand-magic":"assets/fonts/font-awesome/solid/wand-magic.svg","fa-wand-sparkles":"assets/fonts/font-awesome/solid/wand-sparkles.svg","fas-wand-sparkles":"assets/fonts/font-awesome/solid/wand-sparkles.svg","fa-warehouse":"assets/fonts/font-awesome/solid/warehouse.svg","fas-warehouse":"assets/fonts/font-awesome/solid/warehouse.svg","fa-water-ladder":"assets/fonts/font-awesome/solid/water-ladder.svg","fas-water-ladder":"assets/fonts/font-awesome/solid/water-ladder.svg","fa-water":"assets/fonts/font-awesome/solid/water.svg","fas-water":"assets/fonts/font-awesome/solid/water.svg","fa-wave-square":"assets/fonts/font-awesome/solid/wave-square.svg","fas-wave-square":"assets/fonts/font-awesome/solid/wave-square.svg","fa-weight-hanging":"assets/fonts/font-awesome/solid/weight-hanging.svg","fas-weight-hanging":"assets/fonts/font-awesome/solid/weight-hanging.svg","fa-weight-scale":"assets/fonts/font-awesome/solid/weight-scale.svg","fas-weight-scale":"assets/fonts/font-awesome/solid/weight-scale.svg","fa-wheat-awn-circle-exclamation":"assets/fonts/font-awesome/solid/wheat-awn-circle-exclamation.svg","fas-wheat-awn-circle-exclamation":"assets/fonts/font-awesome/solid/wheat-awn-circle-exclamation.svg","fa-wheat-awn":"assets/fonts/font-awesome/solid/wheat-awn.svg","fas-wheat-awn":"assets/fonts/font-awesome/solid/wheat-awn.svg","fa-wheelchair-move":"assets/fonts/font-awesome/solid/wheelchair-move.svg","fas-wheelchair-move":"assets/fonts/font-awesome/solid/wheelchair-move.svg","fa-wheelchair":"assets/fonts/font-awesome/solid/wheelchair.svg","fas-wheelchair":"assets/fonts/font-awesome/solid/wheelchair.svg","fa-whiskey-glass":"assets/fonts/font-awesome/solid/whiskey-glass.svg","fas-whiskey-glass":"assets/fonts/font-awesome/solid/whiskey-glass.svg","fa-wifi":"assets/fonts/font-awesome/solid/wifi.svg","fas-wifi":"assets/fonts/font-awesome/solid/wifi.svg","fa-wind":"assets/fonts/font-awesome/solid/wind.svg","fas-wind":"assets/fonts/font-awesome/solid/wind.svg","fa-window-maximize":"assets/fonts/font-awesome/solid/window-maximize.svg","fas-window-maximize":"assets/fonts/font-awesome/solid/window-maximize.svg","fa-window-minimize":"assets/fonts/font-awesome/solid/window-minimize.svg","fas-window-minimize":"assets/fonts/font-awesome/solid/window-minimize.svg","fa-window-restore":"assets/fonts/font-awesome/solid/window-restore.svg","fas-window-restore":"assets/fonts/font-awesome/solid/window-restore.svg","fa-wine-bottle":"assets/fonts/font-awesome/solid/wine-bottle.svg","fas-wine-bottle":"assets/fonts/font-awesome/solid/wine-bottle.svg","fa-wine-glass-empty":"assets/fonts/font-awesome/solid/wine-glass-empty.svg","fas-wine-glass-empty":"assets/fonts/font-awesome/solid/wine-glass-empty.svg","fa-wine-glass":"assets/fonts/font-awesome/solid/wine-glass.svg","fas-wine-glass":"assets/fonts/font-awesome/solid/wine-glass.svg","fa-won-sign":"assets/fonts/font-awesome/solid/won-sign.svg","fas-won-sign":"assets/fonts/font-awesome/solid/won-sign.svg","fa-worm":"assets/fonts/font-awesome/solid/worm.svg","fas-worm":"assets/fonts/font-awesome/solid/worm.svg","fa-wrench":"assets/fonts/font-awesome/solid/wrench.svg","fas-wrench":"assets/fonts/font-awesome/solid/wrench.svg","fa-x-ray":"assets/fonts/font-awesome/solid/x-ray.svg","fas-x-ray":"assets/fonts/font-awesome/solid/x-ray.svg","fa-x":"assets/fonts/font-awesome/solid/x.svg","fas-x":"assets/fonts/font-awesome/solid/x.svg","fa-xmark":"assets/fonts/font-awesome/solid/xmark.svg","fas-xmark":"assets/fonts/font-awesome/solid/xmark.svg","fa-xmarks-lines":"assets/fonts/font-awesome/solid/xmarks-lines.svg","fas-xmarks-lines":"assets/fonts/font-awesome/solid/xmarks-lines.svg","fa-y":"assets/fonts/font-awesome/solid/y.svg","fas-y":"assets/fonts/font-awesome/solid/y.svg","fa-yen-sign":"assets/fonts/font-awesome/solid/yen-sign.svg","fas-yen-sign":"assets/fonts/font-awesome/solid/yen-sign.svg","fa-yin-yang":"assets/fonts/font-awesome/solid/yin-yang.svg","fas-yin-yang":"assets/fonts/font-awesome/solid/yin-yang.svg","fa-z":"assets/fonts/font-awesome/solid/z.svg","fas-z":"assets/fonts/font-awesome/solid/z.svg","fam-cloud-done":"assets/fonts/moodle/font-awesome/cloud-done.svg","fam-cloud-refresh":"assets/fonts/moodle/font-awesome/cloud-refresh.svg","fam-cloud-x":"assets/fonts/moodle/font-awesome/cloud-x.svg","moodle-agg-mean":"assets/fonts/moodle/moodle/agg-mean.svg","moodle-agg-sum":"assets/fonts/moodle/moodle/agg-sum.svg","moodle-browsed":"assets/fonts/moodle/moodle/browsed.svg","moodle-grade-partiallycorrect":"assets/fonts/moodle/moodle/grade-partiallycorrect.svg","moodle-item":"assets/fonts/moodle/moodle/item.svg","moodle-level":"assets/fonts/moodle/moodle/level.svg","moodle-swipe-navigation":"assets/fonts/moodle/moodle/swipe-navigation.svg"}');var p;class CoreIcons{constructor(){}static addIconsToIonicons(){var e;e=CoreIcons.CUSTOM_ICONS,void Object.keys(e).forEach((function(n){addToIconMap(n,e[n]);var r=n.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();n!==r&&addToIconMap(r,e[n])}))}static getFontAwesomeIconFileName(e,n=!0){return(0,o.A)((function*(){const r=e.endsWith("-o")?"regular":void 0;return CoreIcons.ALIASES[e]?(n&&CoreIcons.logger.error(`Icon ${e} is an alias of ${CoreIcons.ALIASES[e]}, please use the new name.`),{newLibrary:r,fileName:CoreIcons.ALIASES[e]}):{newLibrary:r,fileName:e}}))()}static validateIcon(e,n,r){(i.CoreConstants.BUILD.isDevelopment||i.CoreConstants.BUILD.isTesting)&&void 0===CoreIcons.CUSTOM_ICONS[r]&&void 0===CoreIcons.CUSTOM_ICONS[CoreIcons.prefixIconName(e,n,r)]&&CoreIcons.logger.error(`Icon ${r} not found`)}static replaceCSSIcon(e){return(0,o.A)((function*(){var n;let r="solid",i="";if(Array.from(e.classList).forEach(function(){var e=(0,o.A)((function*(e){switch(e){case"fas":return r="solid",void 0;case"far":return r="regular",void 0;case"fab":return r="brands",void 0}const n=e.match(/fa-([a-zA-Z0-9-]+)/);if(!n)return;const o=n[1];if(!o||!["2xs","xs","sm","lg","xl","2xl","fw","sharp","rotate","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x","flip-horizontal","flip-vertical","flip-both","spin","pulse","inverse","border","pull-left","pull-right","fixed-width","list-item","bordered","spinning","stack","stack-1x","stack-2x","inverse","sr-only","sr-only-focusable","border"].includes(o))switch(o){case"solid":r="solid";break;case"regular":case"light":r="regular";break;case"brands":r="brands";break;default:i=o}}));return function(n){return e.apply(this,arguments)}}()),!i)return;const s=document.createElement("ion-icon");Array.from(e.attributes).forEach((e=>{s.setAttribute(e.nodeName,e.nodeValue||"")})),s.getAttribute("aria-label")||s.getAttribute("aria-labelledby")||s.getAttribute("title")||s.setAttribute("aria-hidden","true");const{fileName:a,newLibrary:c}=yield CoreIcons.getFontAwesomeIconFileName(i,!1);c&&(r=c),i=a;const u=CoreIcons.getIconSrc("font-awesome",r,i);return s.setAttribute("src",u),CoreIcons.validateIcon("font-awesome",r,i),null===(n=e.parentElement)||void 0===n||n.insertBefore(s,e),e.remove(),s}))()}static getIconSrc(e,n,r){return`assets/fonts/${e}/${n}/${r}.svg`}static prefixIconName(e,n,r){var o;const s=null===(o=i.CoreConstants.CONFIG.iconsPrefixes)||void 0===o||null===(o=o[e])||void 0===o?void 0:o[n];return s&&s.length?`${s[0]}-${r}`:r}static isIconNamePrefixed(e){var n;return Object.values(null!==(n=i.CoreConstants.CONFIG.iconsPrefixes)&&void 0!==n?n:{}).some((n=>Object.values(n).some((n=>n.some((n=>e.startsWith(`${n}-`)))))))}}(p=CoreIcons).ALIASES={...a},p.CUSTOM_ICONS={...u},p.logger=s.CoreLogger.getInstance("CoreIcons")},5287:(e,n,r)=>{"use strict";r.d(n,{c:()=>CoreIframe});var o,i=r(10467),s=r(94455),a=r(45507),c=r(52749),u=r(8014),p=r(86552),f=r(79555),g=r(6787),v=r(8019),C=r(10883),b=r(8756),w=r(25124),A=r(18022),_=r(12364),E=r(88793),I=r(246),T=r(33014),P=r(55554),k=r(87809),x=r(25572),F=r(82907);class CoreIframe{constructor(){}static checkOnlineFrameInOffline(e,n){const r="src"in e?e.src:e.data;if(r&&"about:blank"!=r&&!u.F.isLocalFileUrl(r)&&!s.WE.isOnline()){if(e.classList.contains("core-iframe-offline-disabled"))return!0;CoreIframe.addOfflineWarning(e,r,n);const o=s.WE.onConnectShouldBeStable().subscribe((()=>{f.SK.run((()=>{CoreIframe.checkOnlineFrameInOffline(e,n)||o.unsubscribe()}))}));return!0}return e.classList.contains("core-iframe-offline-disabled")&&e.parentElement&&("src"in e?e.src=e.src:e.data=e.data,F.y.removeElement(e.parentElement,"div.core-iframe-offline-warning"),e.classList.remove("core-iframe-offline-disabled"),n&&(e.style.display="")),!1}static addOfflineWarning(e,n,r){return(0,i.A)((function*(){var o,i;const s=c.CoreSites.getCurrentSite(),a=s?null===(o=s.getInfo())||void 0===o?void 0:o.username:void 0,u=document.createElement("div");u.classList.add("core-iframe-offline-warning","ion-padding","ion-text-center"),e.classList.add("core-iframe-offline-disabled"),r&&(e.style.display="none");var p;if(!(yield C.CoreContentLinksHelper.canHandleLink(n,void 0,a)))return u.innerHTML=(r?"":'<div class="core-iframe-network-error"></div>')+`<p>${f.HT.instant("core.notavailableoffline")}</p>`,null===(p=e.parentElement)||void 0===p||p.insertBefore(u,e),void 0;let g;r?(g=document.createElement("a"),g.style.display="block",g.style.padding="1em",g.style.fontWeight="500",g.style.textAlign="center",g.style.textTransform="uppercase",g.style.cursor="pointer"):(g=document.createElement("ion-button"),g.setAttribute("expand","block"),g.setAttribute("size","default"),g.classList.add("button","button-block","button-default","button-solid","ion-activatable","ion-focusable")),g.innerHTML=f.HT.instant("core.viewembeddedcontent"),g.onclick=e=>{C.CoreContentLinksHelper.handleLink(n,a),e.preventDefault()},u.appendChild(g),null===(i=e.parentElement)||void 0===i||i.insertBefore(u,e)}))()}static getAutoLoginUrlForIframe(e,n){return(0,i.A)((function*(){const r=c.CoreSites.getCurrentSite();if(!r)return n;if(CoreIframe.waitAutoLoginDefer)return yield CoreIframe.waitAutoLoginDefer,n;CoreIframe.waitAutoLoginDefer=new w._;const o=yield r.getAutoLoginUrl(n,!1),unblock=()=>{CoreIframe.waitAutoLoginDefer&&(CoreIframe.waitAutoLoginDefer.resolve(),delete CoreIframe.waitAutoLoginDefer)};return e.addEventListener("load",(()=>unblock())),setTimeout((()=>unblock()),15e3),o}))()}static getContentWindowAndDocument(e){const n="src"in e?e.src:e.data;if("about:blank"!==n&&!u.F.isLocalFileUrl(n))return{window:null,document:null};let r="contentWindow"in e?e.contentWindow:null,o=null;try{o="contentDocument"in e&&e.contentDocument?e.contentDocument:r&&r.document}catch{}if(!r&&o&&(r=o.defaultView),!r&&"getSVGDocument"in e){try{o=e.getSVGDocument()}catch{}o&&o.defaultView?r=o.defaultView:e.window?r=e.window:e.getWindow&&(r=e.getWindow())}return{window:r,document:o}}static handleIframeMessage(e){if(e.data&&"moodleapp"===e.data.environment&&"iframe"===e.data.context)switch(e.data.action){case"window_open":CoreIframe.windowOpen(e.data.url,e.data.name);break;case"link_clicked":CoreIframe.linkClicked(e.data.link)}}static redefineWindowOpen(e,n,r){if(n){const r=n.open;n.open=(n,o)=>"_self"===o?r(n,o):(CoreIframe.windowOpen(n,o,e),null)}r.body&&CoreIframe.FRAME_TAGS.forEach((e=>{Array.from(r.body.querySelectorAll(e)).forEach((e=>{CoreIframe.treatFrame(e,!0)}))}))}static treatFrame(e,n){if(!e)return;e.classList.add("core-loading");const treatElement=(r=!1)=>{CoreIframe.checkOnlineFrameInOffline(e,n);const{window:o,document:i}=CoreIframe.getContentWindowAndDocument(e);o&&i&&CoreIframe.redefineWindowOpen(e,o,i),i&&CoreIframe.treatFrameLinks(i),r&&(e.classList.remove("core-loading"),o&&setTimeout((()=>o.dispatchEvent&&o.dispatchEvent(new Event("resize"))),1e3))};treatElement(),e.addEventListener("load",(()=>treatElement(!0)))}static treatFrameLinks(e){e&&e.addEventListener("click",(e=>{if(e.defaultPrevented)return;let n=e.target;for(;n&&"A"!==n.tagName&&"a"!==n.tagName;)n=n.parentElement;const r=n;r&&!r.treated&&(r.treated=!0,r.addEventListener("click",(e=>CoreIframe.linkClicked(r,e))))}),{capture:!0})}static windowOpen(e,n,r){return(0,i.A)((function*(){if(!u.F.getUrlProtocol(e)){const n=r?"src"in r?r.src:r.data:null;if(!n)return CoreIframe.logger.warn("Cannot get iframe src to open relative url",e,r),void 0;{const o=k.H.getFileAndDirectoryFromPath(n);if(!o.directory)return CoreIframe.logger.warn("Cannot get iframe dir path to open relative url",e,r),void 0;e=b.$.concatenatePaths(o.directory,e)}}try{yield v.i.open(e,n)}catch(e){x.CoreAlerts.showError(e)}}))()}static linkClicked(e,n){return(0,i.A)((function*(){if(n&&n.defaultPrevented)return;if(!e.target||"_self"===e.target)return;const r=u.F.parse(e.href),o="getAttribute"in e?e.getAttribute("href"):e.originalHref;if(e.href&&o&&"#"!==o&&r&&"javascript"!==r.protocol)try{null==n||n.preventDefault(),yield v.i.open(e.href,e.target)}catch(e){x.CoreAlerts.showError(e)}}))()}static injectiOSScripts(e){var n;const r=a.CoreFile.getWWWAbsolutePath(),o=b.$.concatenatePaths(r,"assets/js/iframe-treat-links.js").replace(/%20/g," ");null===(n=e.WKUserScript)||void 0===n||n.addScript({id:"CoreIframeUtilsLinksScript",file:o}),window.addEventListener("message",(e=>CoreIframe.handleIframeMessage(e)))}static fixIframeCookies(e){return(0,i.A)((function*(){if(A.CorePlatform.isIOS()&&e&&!u.F.isLocalFileUrl(e))try{const n=window,r=u.F.parse(e);null!=r&&r.domain&&n.WKWebViewCookies&&(yield n.WKWebViewCookies.setCookie({name:"MoodleAppCookieForWKWebView",value:"1",domain:r.domain}))}catch(e){CoreIframe.logger.error("Error setting cookie",e)}}))()}static shouldDisplayHelp(){return A.CorePlatform.isIOS()&&A.CorePlatform.getPlatformMajorVersion()>=14}static shouldDisplayHelpForUrl(e){return CoreIframe.shouldDisplayHelp()&&!u.F.isLocalFileUrl(e)}static openIframeHelpModal(){x.CoreAlerts.show({header:f.HT.instant("core.settings.ioscookies"),message:f.HT.instant("core.ioscookieshelp"),buttons:[{text:f.HT.instant("core.cancel"),role:"cancel"},{text:f.HT.instant("core.opensettings"),handler:()=>{var e;null===(e=I.b.plugin("diagnostic"))||void 0===e||e.switchToSettings()}}]})}static frameShouldLaunchExternal(e){const n="string"==typeof e?e:"src"in e?e.src:e.data,r="string"!=typeof e&&e,o=n&&_.A.guessExtensionFromUrl(n),i="pdf"===o||r&&"true"===r.getAttribute("data-open-external");let s="";if(i){const e=o&&_.A.getMimeType(o);s=e&&"text/html"!==e&&"text/plain"!==e?f.HT.instant("core.openfilewithextension",{extension:o.toUpperCase()}):f.HT.instant("core.openinbrowser")}return{launchExternal:i,label:s}}static frameLaunchExternal(e,n={}){return(0,i.A)((function*(){const r=yield T.CoreLoadings.show();try{if(!s.WE.isOnline()){const r=n.site?yield P.g.ignoreErrors(E.CoreFilepool.getInternalUrlByUrl(n.site.getId(),e)):void 0;return r?p.j.openFile(r):x.CoreAlerts.showError(f.HT.instant("core.networkerrormsg")),void 0}const r=yield P.g.ignoreErrors(_.A.getMimeTypeFromUrl(e));if(!r||"text/html"===r||"text/plain"===r)return n.site?n.site.openInBrowserWithAutoLogin(e):p.j.openInBrowser(e),void 0;n.site&&(E.CoreFilepool.getUrlByUrl(n.site.getId(),e,n.component,n.componentId,0,!1),e=yield n.site.checkAndFixPluginfileURL(e)),p.j.openOnlineFile(e)}finally{r.dismiss()}}))()}}(o=CoreIframe).FRAME_TAGS=["iframe","object","embed"],o.logger=g.CoreLogger.getInstance("CoreIframe")},79555:(e,n,r)=>{"use strict";r.d(n,{B0:()=>B,Eu:()=>K,Ex:()=>U,GD:()=>oe,HT:()=>he,IE:()=>de,Ix:()=>ge,K_:()=>ce,Mb:()=>V,Nb:()=>G,P2:()=>J,Qd:()=>makeSingleton,SC:()=>Z,SK:()=>ne,St:()=>X,Vd:()=>W,W3:()=>le,WM:()=>q,Xi:()=>ae,ZH:()=>j,b0:()=>pe,eA:()=>Q,hG:()=>se,i7:()=>ee,j5:()=>Y,lw:()=>re,p4:()=>setSingletonsInjector,pF:()=>te,q9:()=>fe,s3:()=>z,up:()=>me,wH:()=>ue,yG:()=>ve});var o=r(10467),i=r(54438),s=r(21182),a=r(21626),c=r(345),u=r(2910),p=r(12872),f=r(89517),g=r(14113),v=r(11076),C=r(78240),b=r(50252),w=r(59684),A=r(91118),_=r(51670),E=r(61402),I=r(35511),T=r(81100),P=r(38245),k=r(79048),x=r(39488),F=r(65162),R=r(86497),N=r(73955),L=r(89312);const H=new(r(25124)._);let createSingletonMethodProxy=(e,n,r)=>n.bind(e);function setSingletonsInjector(e){H.resolve(e)}function makeSingleton(e){const n={injectionToken:e,setInstance(e){Object.defineProperty(n,"instance",{value:e,configurable:!0})}};return Object.defineProperty(n,"instance",{get:()=>{const r=H.value;if(!r)throw new Error("Can't resolve a singleton instance without an injector");const o=r.get(e);return n.setInstance(o),o},configurable:!0}),new Proxy(n,{get(e,n,r){if(n in e)return Reflect.get(e,n,r);const o=e.instance[n];return"function"==typeof o?createSingletonMethodProxy(e.instance,o,n):o},set:(e,n,r,o)=>(Reflect.set(e.instance,n,r,o),!0)})}const U=makeSingleton(f.E),B=makeSingleton(v.B),j=makeSingleton(b.Z),V=makeSingleton(w.M),G=makeSingleton(_.N),z=makeSingleton(I.s3),q=makeSingleton(T.WM),W=makeSingleton(P.V),K=makeSingleton(A.B),Q=makeSingleton(k.e),X=makeSingleton(x.S),Y=makeSingleton(F.j),J=makeSingleton(R.P),Z=makeSingleton(E.S),ee=makeSingleton(g.i7),te=makeSingleton(C.p),ne=makeSingleton(i.SKi),re=makeSingleton(a.Qq),oe=makeSingleton(u.GD),ie=makeSingleton(p.Yq),se=makeSingleton(u.hG),ae=makeSingleton(u.Xi),le=makeSingleton(u.W3),de=makeSingleton(u.IE),ce=makeSingleton(u.K_),ue=makeSingleton(u.wH),pe=makeSingleton(i.H1s),fe=(makeSingleton(i.o8S),makeSingleton(p.q9)),ge=makeSingleton(s.Ix),me=makeSingleton(c.up),he=makeSingleton(N.c$),ve=(0,L.A)((0,o.A)((function*(){const e=yield H;return ie.create(e.get(i.uvJ),e)})))},44426:(e,n,r)=>{"use strict";r.d(n,{p:()=>a});var o=r(18022),i=r(79555),s=r(49882);let a=(()=>{var e;class CoreKeyboard{constructor(){}static close(){o.CorePlatform.isMobile()&&i.s3.hide()}static open(){o.CorePlatform.isAndroid()&&i.s3.show()}static onKeyboardShow(e){document.body.classList.add("keyboard-is-open"),CoreKeyboard.setKeyboardShown(!0),s.z.trigger(s.z.KEYBOARD_CHANGE,e)}static onKeyboardHide(){document.body.classList.remove("keyboard-is-open"),CoreKeyboard.setKeyboardShown(!1),s.z.trigger(s.z.KEYBOARD_CHANGE,0)}static onKeyboardWillShow(){CoreKeyboard.keyboardOpening=!0,CoreKeyboard.keyboardClosing=!1}static onKeyboardWillHide(){CoreKeyboard.keyboardOpening=!1,CoreKeyboard.keyboardClosing=!0}static setKeyboardShown(e){CoreKeyboard.isKeyboardShown=e,CoreKeyboard.keyboardOpening=!1,CoreKeyboard.keyboardClosing=!1}static isKeyboardClosing(){return CoreKeyboard.keyboardClosing}static isKeyboardOpening(){return CoreKeyboard.keyboardOpening}static isKeyboardVisible(){return CoreKeyboard.isKeyboardShown}}return(e=CoreKeyboard).isKeyboardShown=!1,e.keyboardOpening=!1,e.keyboardClosing=!1,CoreKeyboard})()},6787:(e,n,r)=>{"use strict";r.r(n),r.d(n,{CoreLogger:()=>CoreLogger});var o=r(74431),i=r(24742),s=r(29395);const a=i.j.once((()=>{console.warn("Log is disabled in production app")}));class CoreLogger{constructor(e,n,r,o,i){this.log=e,this.info=n,this.warn=r,this.debug=o,this.error=i}static getInstance(e){if(!s.a.hasDevelopmentSetting("LoggingEnabled")&&(o.CoreConstants.BUILD.isProduction||o.CoreConstants.BUILD.isTesting)){o.CoreConstants.BUILD.isProduction&&a();const muted=()=>{};return new CoreLogger(muted,muted,muted,muted,muted)}return new CoreLogger(CoreLogger.prepareLogFn(((...e)=>console.log(...e)),e=e||""),CoreLogger.prepareLogFn(((...e)=>console.info(...e)),e),CoreLogger.prepareLogFn(((...e)=>console.warn(...e)),e),CoreLogger.prepareLogFn(((...e)=>console.debug(...e)),e),CoreLogger.prepareLogFn(((...e)=>console.error(...e)),e))}static prepareLogFn(e,n){return(...r)=>{const o=(new Date).toLocaleString();r[0]=`${o} ${n}: ${r[0]}`,e.apply(null,r)}}}},76125:(e,n,r)=>{"use strict";r.d(n,{o:()=>CoreMath});class CoreMath{constructor(){}static clamp(e,n,r){return Math.min(Math.max(e,n),r)}}},89615:(e,n,r)=>{"use strict";r.d(n,{o:()=>CoreMedia});var o=r(18022),i=r(12364);class CoreMedia{constructor(){}static getMediaSources(e){const n=Array.from(e.querySelectorAll("source")).map((e=>({src:e.src||e.getAttribute("target-src")||"",type:e.type})));return e.src&&n.push({src:e.src,type:""}),n}static sourceNeedsConversion(e){if(!o.CorePlatform.isMobile())return!1;let n=e.type?i.A.getExtension(e.type):void 0;return n||(n=i.A.guessExtensionFromUrl(e.src)),!!n&&["ogv","webm","oga","ogg"].includes(n)}static sourceUsesJavascriptPlayer(e){return CoreMedia.sourceNeedsConversion(e)}static mediaUsesJavascriptPlayer(e){if(!o.CorePlatform.isMobile())return!1;return CoreMedia.getMediaSources(e).some((e=>CoreMedia.sourceUsesJavascriptPlayer(e)))}static canGetUserMedia(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}static canRecordMedia(){return!!window.MediaRecorder}}},12364:(e,n,r)=>{"use strict";r.d(n,{A:()=>CoreMimetype});var o=r(10467),i=r(45507),s=r(87809),a=r(75383),c=r(79555),u=r(6787),p=r(99121);const f=JSON.parse('{"123":{"type":"application/vnd.lotus-1-2-3"},"3dm":{"type":"x-world/x-3dmf"},"3dmf":{"type":"x-world/x-3dmf"},"3dml":{"type":"text/vnd.in3d.3dml"},"3ds":{"type":"image/x-3ds"},"3g2":{"type":"video/3gpp2"},"3gp":{"type":"video/3gpp","icon":"video","string":"video","groups":["video"]},"3gpp":{"type":"video/3gpp","icon":"video","string":"video","groups":["video"]},"7z":{"type":"application/x-7z-compressed","icon":"archive","string":"archive","groups":["archive"]},"a":{"type":"application/octet-stream"},"aab":{"type":"application/x-authorware-bin"},"aac":{"type":"audio/aac","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"aam":{"type":"application/x-authorware-map"},"aas":{"type":"application/x-authorware-seg"},"abc":{"type":"text/vnd.abc"},"abw":{"type":"application/x-abiword"},"ac":{"type":"application/pkix-attr-cert"},"acc":{"type":"application/vnd.americandynamics.acc"},"accdb":{"type":"application/msaccess","icon":"database"},"ace":{"type":"application/x-ace-compressed","icon":"archive"},"acgi":{"type":"text/html"},"acu":{"type":"application/vnd.acucobol"},"acutc":{"type":"application/vnd.acucorp"},"adp":{"type":"audio/adpcm"},"aep":{"type":"application/vnd.audiograph"},"afl":{"type":"video/animaflex"},"afm":{"type":"application/x-font-type1"},"afp":{"type":"application/vnd.ibm.modcap"},"ahead":{"type":"application/vnd.ahead.space"},"ai":{"type":"application/postscript","icon":"eps","string":"image","groups":["image"]},"aif":{"type":"audio/x-aiff","icon":"audio","string":"audio","groups":["audio"]},"aifc":{"type":"audio/x-aiff","icon":"audio","string":"audio","groups":["audio"]},"aiff":{"type":"audio/x-aiff","icon":"audio","string":"audio","groups":["audio"]},"aim":{"type":"application/x-aim"},"aip":{"type":"text/x-audiosoft-intra"},"air":{"type":"application/vnd.adobe.air-application-installer-package+zip"},"ait":{"type":"application/vnd.dvb.ait"},"ami":{"type":"application/vnd.amiga.ami"},"amr":{"type":"audio/amr","icon":"audio","string":"audio","groups":["audio"]},"ani":{"type":"application/x-navi-animation"},"aos":{"type":"application/x-nokia-9000-communicator-add-on-software"},"apk":{"type":"application/vnd.android.package-archive"},"appcache":{"type":"text/cache-manifest"},"applescript":{"type":"text/plain","icon":"text"},"application":{"type":"application/x-ms-application"},"apr":{"type":"application/vnd.lotus-approach"},"aps":{"type":"application/mime"},"arc":{"type":"application/x-freearc"},"arj":{"type":"application/arj"},"art":{"type":"image/x-jg"},"asa":{"type":"text/plain"},"asax":{"type":"application/octet-stream"},"asc":{"type":"text/plain","icon":"sourcecode"},"ascx":{"type":"text/plain"},"asf":{"type":"video/x-ms-asf","icon":"video","string":"video","groups":["video"]},"ashx":{"type":"text/plain"},"asm":{"type":"text/plain","icon":"sourcecode"},"asmx":{"type":"text/plain"},"aso":{"type":"application/vnd.accpac.simply.aso"},"asp":{"type":"text/plain"},"aspx":{"type":"text/plain"},"asx":{"type":"video/x-ms-asf"},"atc":{"type":"application/vnd.acucorp"},"atom":{"type":"application/atom+xml","icon":"markup"},"atomcat":{"type":"application/atomcat+xml","icon":"markup"},"atomsvc":{"type":"application/atomsvc+xml","icon":"markup"},"atx":{"type":"application/vnd.antix.game-component"},"au":{"type":"audio/au","icon":"audio","string":"audio","groups":["audio"]},"avi":{"type":"video/x-ms-wm","icon":"video","string":"video","groups":["video","web_video"]},"avs":{"type":"video/avs-video"},"aw":{"type":"application/applixware"},"axd":{"type":"text/plain"},"azf":{"type":"application/vnd.airzip.filesecure.azf","icon":"archive"},"azs":{"type":"application/vnd.airzip.filesecure.azs","icon":"archive"},"azw":{"type":"application/vnd.amazon.ebook"},"bat":{"type":"application/x-msdownload"},"bcpio":{"type":"application/x-bcpio"},"bdf":{"type":"application/x-font-bdf"},"bdm":{"type":"application/vnd.syncml.dm+wbxml"},"bdoc":{"type":"application/x-digidoc","icon":"document","groups":["archive"]},"bed":{"type":"application/vnd.realvnc.bed"},"bh2":{"type":"application/vnd.fujitsu.oasysprs"},"bin":{"type":"application/octet-stream"},"blb":{"type":"application/x-blorb"},"blorb":{"type":"application/x-blorb"},"bm":{"type":"image/bmp","icon":"image","string":"image","groups":["image","web_image"]},"bmi":{"type":"application/vnd.bmi"},"bmp":{"type":"image/bmp","icon":"image","string":"image","groups":["image","web_image"]},"boo":{"type":"application/book"},"book":{"type":"application/vnd.framemaker"},"box":{"type":"application/vnd.previewsystems.box"},"boz":{"type":"application/x-bzip2","icon":"archive"},"bpk":{"type":"application/octet-stream"},"bsh":{"type":"application/x-bsh"},"btif":{"type":"image/prs.btif"},"bz":{"type":"application/x-bzip","icon":"archive"},"bz2":{"type":"application/x-bzip2","icon":"archive"},"c":{"type":"text/plain","icon":"sourcecode"},"c++":{"type":"text/plain"},"c11amc":{"type":"application/vnd.cluetrust.cartomobile-config"},"c11amz":{"type":"application/vnd.cluetrust.cartomobile-config-pkg"},"c4d":{"type":"application/vnd.clonk.c4group"},"c4f":{"type":"application/vnd.clonk.c4group"},"c4g":{"type":"application/vnd.clonk.c4group"},"c4p":{"type":"application/vnd.clonk.c4group"},"c4u":{"type":"application/vnd.clonk.c4group"},"cab":{"type":"application/vnd.ms-cab-compressed","icon":"archive"},"caf":{"type":"audio/x-caf"},"cap":{"type":"application/vnd.tcpdump.pcap"},"car":{"type":"application/vnd.curl.car"},"cat":{"type":"application/vnd.ms-pki.seccat"},"cb7":{"type":"application/x-cbr"},"cba":{"type":"application/x-cbr"},"cbr":{"type":"application/x-cbr"},"cbt":{"type":"application/x-cbr"},"cbz":{"type":"application/x-cbr"},"cc":{"type":"text/x-c"},"ccad":{"type":"application/clariscad"},"cco":{"type":"application/x-cocoa"},"cct":{"type":"shockwave/director","icon":"flash"},"ccxml":{"type":"application/ccxml+xml"},"cdbcmsg":{"type":"application/vnd.contact.cmsg"},"cdf":{"type":"application/x-netcdf"},"cdkey":{"type":"application/vnd.mediastation.cdkey"},"cdmia":{"type":"application/cdmi-capability"},"cdmic":{"type":"application/cdmi-container"},"cdmid":{"type":"application/cdmi-domain"},"cdmio":{"type":"application/cdmi-object"},"cdmiq":{"type":"application/cdmi-queue"},"cdoc":{"type":"application/x-digidoc","icon":"document","groups":["archive"]},"cdx":{"type":"chemical/x-cdx"},"cdxml":{"type":"application/vnd.chemdraw+xml"},"cdy":{"type":"application/vnd.cinderella"},"cer":{"type":"application/pkix-cert"},"cfc":{"type":"application/x-coldfusion"},"cfm":{"type":"application/x-coldfusion"},"cfs":{"type":"application/x-cfs-compressed"},"cgm":{"type":"image/cgm"},"cha":{"type":"application/x-chat"},"chat":{"type":"application/x-chat"},"chm":{"type":"application/vnd.ms-htmlhelp"},"chrt":{"type":"application/vnd.kde.kchart","icon":"chart"},"cif":{"type":"chemical/x-cif"},"cii":{"type":"application/vnd.anser-web-certificate-issue-initiation"},"cil":{"type":"application/vnd.ms-artgalry"},"cla":{"type":"application/vnd.claymore"},"class":{"type":"application/java-vm"},"clkk":{"type":"application/vnd.crick.clicker.keyboard"},"clkp":{"type":"application/vnd.crick.clicker.palette"},"clkt":{"type":"application/vnd.crick.clicker.template"},"clkw":{"type":"application/vnd.crick.clicker.wordbank"},"clkx":{"type":"application/vnd.crick.clicker"},"clp":{"type":"application/x-msclip"},"cmc":{"type":"application/vnd.cosmocaller"},"cmdf":{"type":"chemical/x-cmdf"},"cml":{"type":"chemical/x-cml"},"cmp":{"type":"application/vnd.yellowriver-custom-menu"},"cmx":{"type":"image/x-cmx"},"cod":{"type":"application/vnd.rim.cod"},"com":{"type":"application/x-msdownload"},"conf":{"type":"text/plain"},"cpio":{"type":"application/x-cpio"},"cpp":{"type":"text/plain","icon":"sourcecode"},"cpt":{"type":"application/mac-compactpro"},"crd":{"type":"application/x-mscardfile"},"crl":{"type":"application/pkix-crl"},"crt":{"type":"application/x-x509-ca-cert"},"crx":{"type":"application/octet-stream"},"cryptonote":{"type":"application/vnd.rig.cryptonote"},"cs":{"type":"application/x-csh","icon":"sourcecode"},"csh":{"type":"application/x-csh"},"csml":{"type":"chemical/x-csml"},"csp":{"type":"application/vnd.commonspace"},"csr":{"type":"application/pkcs10"},"css":{"type":"text/css","icon":"text","groups":["web_file"]},"cst":{"type":"application/x-director"},"csv":{"type":"text/csv","icon":"spreadsheet","groups":["spreadsheet"]},"cu":{"type":"application/cu-seeme"},"curl":{"type":"text/vnd.curl"},"cww":{"type":"application/prs.cww"},"cxt":{"type":"application/x-director"},"cxx":{"type":"text/x-c"},"dae":{"type":"model/vnd.collada+xml"},"daf":{"type":"application/vnd.mobius.daf"},"dart":{"type":"application/vnd.dart"},"dataless":{"type":"application/vnd.fdsn.seed"},"davmount":{"type":"application/davmount+xml"},"dbk":{"type":"application/docbook+xml"},"dcr":{"type":"application/x-director","icon":"flash"},"dcurl":{"type":"text/vnd.curl.dcurl"},"dd2":{"type":"application/vnd.oma.dd2+xml"},"ddd":{"type":"application/vnd.fujixerox.ddd"},"ddoc":{"type":"application/x-digidoc","icon":"document","groups":["archive"]},"deb":{"type":"application/x-debian-package"},"deepv":{"type":"application/x-deepv"},"def":{"type":"text/plain"},"deploy":{"type":"application/octet-stream"},"der":{"type":"application/x-x509-ca-cert"},"dfac":{"type":"application/vnd.dreamfactory"},"dgc":{"type":"application/x-dgc-compressed"},"dic":{"type":"text/x-c"},"dif":{"type":"video/x-dv","icon":"video","string":"video","groups":["video"]},"dir":{"type":"application/x-director","icon":"flash"},"dis":{"type":"application/vnd.mobius.dis"},"dist":{"type":"application/octet-stream"},"distz":{"type":"application/octet-stream"},"djv":{"type":"image/vnd.djvu"},"djvu":{"type":"image/vnd.djvu"},"dl":{"type":"video/dl"},"dll":{"type":"application/x-msdownload"},"dmg":{"type":"application/octet-stream","icon":"unknown"},"dmp":{"type":"application/vnd.tcpdump.pcap"},"dms":{"type":"application/octet-stream"},"dna":{"type":"application/vnd.dna"},"doc":{"type":"application/msword","icon":"document","groups":["document"]},"docm":{"type":"application/vnd.ms-word.document.macroenabled.12","icon":"document"},"docx":{"type":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","icon":"document","groups":["document"]},"dot":{"type":"application/msword"},"dotm":{"type":"application/vnd.ms-word.template.macroenabled.12","icon":"document"},"dotx":{"type":"application/vnd.openxmlformats-officedocument.wordprocessingml.template","icon":"document"},"dp":{"type":"application/vnd.osgi.dp"},"dpg":{"type":"application/vnd.dpgraph"},"dra":{"type":"audio/vnd.dra"},"drw":{"type":"application/drafting"},"dsc":{"type":"text/prs.lines.tag"},"dssc":{"type":"application/dssc+der"},"dtb":{"type":"application/x-dtbook+xml"},"dtd":{"type":"application/xml-dtd"},"dts":{"type":"audio/vnd.dts"},"dtshd":{"type":"audio/vnd.dts.hd"},"dump":{"type":"application/octet-stream"},"dv":{"type":"video/x-dv","icon":"video","string":"video","groups":["video"]},"dvb":{"type":"video/vnd.dvb.file"},"dvi":{"type":"application/x-dvi"},"dwf":{"type":"model/vnd.dwf"},"dwg":{"type":"image/vnd.dwg"},"dxf":{"type":"image/vnd.dxf"},"dxp":{"type":"application/vnd.spotfire.dxp"},"dxr":{"type":"application/x-director","icon":"flash"},"ecelp4800":{"type":"audio/vnd.nuera.ecelp4800"},"ecelp7470":{"type":"audio/vnd.nuera.ecelp7470"},"ecelp9600":{"type":"audio/vnd.nuera.ecelp9600"},"ecma":{"type":"application/ecmascript"},"edm":{"type":"application/vnd.novadigm.edm"},"edx":{"type":"application/vnd.novadigm.edx"},"efif":{"type":"application/vnd.picsel"},"ei6":{"type":"application/vnd.pg.osasli"},"el":{"type":"text/x-script.elisp"},"elc":{"type":"application/octet-stream"},"emf":{"type":"application/x-msmetafile"},"eml":{"type":"message/rfc822"},"emma":{"type":"application/emma+xml"},"emz":{"type":"application/x-msmetafile"},"env":{"type":"application/x-envoy"},"eol":{"type":"audio/vnd.digital-winds"},"eot":{"type":"application/vnd.ms-fontobject"},"eps":{"type":"application/postscript","icon":"eps"},"epub":{"type":"application/epub+zip","icon":"epub","groups":["document"]},"es":{"type":"application/x-esrehber"},"es3":{"type":"application/vnd.eszigno3+xml"},"esa":{"type":"application/vnd.osgi.subsystem"},"esf":{"type":"application/vnd.epson.esf"},"et3":{"type":"application/vnd.eszigno3+xml"},"etx":{"type":"text/x-setext"},"eva":{"type":"application/x-eva"},"evy":{"type":"application/x-envoy"},"exe":{"type":"application/x-msdownload"},"exi":{"type":"application/exi"},"ext":{"type":"application/vnd.novadigm.ext"},"ez":{"type":"application/andrew-inset"},"ez2":{"type":"application/vnd.ezpix-album"},"ez3":{"type":"application/vnd.ezpix-package"},"f":{"type":"text/x-fortran"},"f4v":{"type":"video/mp4","icon":"flash","string":"video","groups":["video","web_video"]},"f77":{"type":"text/x-fortran"},"f90":{"type":"text/x-fortran"},"fbs":{"type":"image/vnd.fastbidsheet"},"fcdt":{"type":"application/vnd.adobe.formscentral.fcdt"},"fcs":{"type":"application/vnd.isac.fcs"},"fdf":{"type":"application/vnd.fdf","icon":"pdf"},"fdk":{"type":"application/octet-stream"},"fe_launch":{"type":"application/vnd.denovo.fcselayout-link"},"fg5":{"type":"application/vnd.fujitsu.oasysgp"},"fgd":{"type":"application/x-director"},"fh":{"type":"image/x-freehand"},"fh4":{"type":"image/x-freehand"},"fh5":{"type":"image/x-freehand"},"fh7":{"type":"image/x-freehand"},"fhc":{"type":"image/x-freehand"},"fif":{"type":"application/fractals"},"fig":{"type":"application/x-xfig"},"flac":{"type":"audio/flac","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"fli":{"type":"video/x-fli"},"flo":{"type":"application/vnd.micrografx.flo"},"flv":{"type":"video/x-flv","icon":"flash","string":"video","groups":["video","web_video"]},"flw":{"type":"application/vnd.kde.kivio"},"flx":{"type":"text/vnd.fmi.flexstor"},"fly":{"type":"text/vnd.fly"},"fm":{"type":"application/vnd.framemaker"},"fmf":{"type":"video/x-atomic3d-feature"},"fmp4":{"type":"video/mp4","icon":"video","string":"video","groups":["html_video","video","web_video"]},"fnc":{"type":"application/vnd.frogans.fnc"},"for":{"type":"text/x-fortran"},"fpx":{"type":"image/vnd.fpx"},"frame":{"type":"application/vnd.framemaker"},"frl":{"type":"application/freeloader"},"fsc":{"type":"application/vnd.fsc.weblaunch"},"fst":{"type":"image/vnd.fst"},"ftc":{"type":"application/vnd.fluxtime.clip"},"fti":{"type":"application/vnd.anser-web-funds-transfer-initiation"},"funk":{"type":"audio/make"},"fvt":{"type":"video/vnd.fvt"},"fxp":{"type":"application/vnd.adobe.fxp"},"fxpl":{"type":"application/vnd.adobe.fxp"},"fzs":{"type":"application/vnd.fuzzysheet"},"g":{"type":"text/plain"},"g2w":{"type":"application/vnd.geoplan"},"g3":{"type":"image/g3fax"},"g3w":{"type":"application/vnd.geospace"},"gac":{"type":"application/vnd.groove-account"},"gallery":{"type":"application/x-smarttech-notebook","icon":"archive"},"gallerycollection":{"type":"application/x-smarttech-notebook","icon":"archive"},"galleryitem":{"type":"application/x-smarttech-notebook","icon":"archive"},"gam":{"type":"application/x-tads"},"gbr":{"type":"application/rpki-ghostbusters"},"gca":{"type":"application/x-gca-compressed"},"gdl":{"type":"model/vnd.gdl"},"gdoc":{"type":"application/vnd.google-apps.document","icon":"document","groups":["document"]},"gdraw":{"type":"application/vnd.google-apps.drawing","icon":"image","groups":["image"]},"geo":{"type":"application/vnd.dynageo"},"gex":{"type":"application/vnd.geometry-explorer"},"ggb":{"type":"application/vnd.geogebra.file","icon":"archive"},"ggt":{"type":"application/vnd.geogebra.tool","icon":"archive"},"ghf":{"type":"application/vnd.groove-help"},"gif":{"type":"image/gif","icon":"gif","string":"image","groups":["image","web_image","optimised_image"]},"gim":{"type":"application/vnd.groove-identity-message"},"gl":{"type":"video/gl"},"gml":{"type":"application/gml+xml"},"gmx":{"type":"application/vnd.gmx"},"gnumeric":{"type":"application/x-gnumeric","icon":"calc"},"gph":{"type":"application/vnd.flographit"},"gpx":{"type":"application/gpx+xml"},"gqf":{"type":"application/vnd.grafeq"},"gqs":{"type":"application/vnd.grafeq"},"gram":{"type":"application/srgs"},"gramps":{"type":"application/x-gramps-xml"},"gre":{"type":"application/vnd.geometry-explorer"},"grv":{"type":"application/vnd.groove-injector"},"grxml":{"type":"application/srgs+xml"},"gsd":{"type":"audio/x-gsm"},"gsf":{"type":"application/x-font-ghostscript"},"gsheet":{"type":"application/vnd.google-apps.spreadsheet","icon":"spreadsheet","groups":["spreadsheet"]},"gslides":{"type":"application/vnd.google-apps.presentation","icon":"powerpoint","groups":["presentation"]},"gsm":{"type":"audio/x-gsm"},"gsp":{"type":"application/x-gsp"},"gss":{"type":"application/x-gss"},"gtar":{"type":"application/x-gtar","icon":"archive","string":"archive","groups":["archive"]},"gtm":{"type":"application/vnd.groove-tool-message"},"gtw":{"type":"model/vnd.gtw"},"gv":{"type":"text/vnd.graphviz"},"gxf":{"type":"application/gxf"},"gxt":{"type":"application/vnd.geonext"},"gz":{"type":"application/g-zip","icon":"archive","string":"archive","groups":["archive"]},"gzip":{"type":"application/g-zip","icon":"archive","string":"archive","groups":["archive"]},"h":{"type":"text/plain","icon":"sourcecode"},"h261":{"type":"video/h261"},"h263":{"type":"video/h263"},"h264":{"type":"video/h264"},"h5p":{"type":"application/zip","icon":"h5p","string":"archive"},"hal":{"type":"application/vnd.hal+xml"},"hbci":{"type":"application/vnd.hbci"},"hdf":{"type":"application/x-hdf"},"help":{"type":"application/x-helpfile"},"hgl":{"type":"application/vnd.hp-hpgl"},"hh":{"type":"text/x-c"},"hlb":{"type":"text/x-script"},"hlp":{"type":"application/winhlp"},"hpg":{"type":"application/vnd.hp-hpgl"},"hpgl":{"type":"application/vnd.hp-hpgl"},"hpid":{"type":"application/vnd.hp-hpid"},"hpp":{"type":"text/plain","icon":"sourcecode"},"hps":{"type":"application/vnd.hp-hps"},"hqx":{"type":"application/mac-binhex40","icon":"archive","string":"archive","groups":["archive"]},"hta":{"type":"application/octet-stream"},"htc":{"type":"text/x-component","icon":"markup"},"htke":{"type":"application/vnd.kenameaapp"},"htm":{"type":"text/html","icon":"markup","groups":["web_file"]},"html":{"type":"text/html","icon":"markup","groups":["web_file"]},"htmls":{"type":"text/html"},"htt":{"type":"text/webviewhtml"},"htx":{"type":"text/html"},"hvd":{"type":"application/vnd.yamaha.hv-dic"},"hvp":{"type":"application/vnd.yamaha.hv-voice"},"hvs":{"type":"application/vnd.yamaha.hv-script"},"i2g":{"type":"application/vnd.intergeo"},"ibooks":{"type":"application/x-ibooks+zip","icon":"archive"},"icc":{"type":"application/vnd.iccprofile"},"ice":{"type":"x-conference/x-cooltalk"},"icm":{"type":"application/vnd.iccprofile"},"ico":{"type":"image/vnd.microsoft.icon","icon":"image","string":"image","groups":["image"]},"ics":{"type":"text/calendar","icon":"text"},"idc":{"type":"text/plain"},"ief":{"type":"image/ief"},"iefs":{"type":"image/ief"},"ifb":{"type":"text/calendar"},"ifm":{"type":"application/vnd.shana.informed.formdata"},"iges":{"type":"model/iges"},"igl":{"type":"application/vnd.igloader"},"igm":{"type":"application/vnd.insors.igm"},"igs":{"type":"model/iges"},"igx":{"type":"application/vnd.micrografx.igx"},"iif":{"type":"application/vnd.shana.informed.interchange"},"ima":{"type":"application/x-ima"},"imap":{"type":"application/x-httpd-imap"},"imp":{"type":"application/vnd.accpac.simply.imp"},"ims":{"type":"application/vnd.ms-ims"},"in":{"type":"text/plain"},"inf":{"type":"application/inf"},"ini":{"type":"text/plain"},"ink":{"type":"application/inkml+xml"},"inkml":{"type":"application/inkml+xml"},"ins":{"type":"application/x-internett-signup"},"install":{"type":"application/x-install-instructions"},"iota":{"type":"application/vnd.astraea-software.iota"},"ip":{"type":"application/x-ip2"},"ipa":{"type":"application/octet-stream"},"ipfix":{"type":"application/ipfix"},"ipk":{"type":"application/vnd.shana.informed.package"},"irm":{"type":"application/vnd.ibm.rights-management"},"irp":{"type":"application/vnd.irepository.package+xml"},"isf":{"type":"application/inspiration","icon":"isf"},"iso":{"type":"application/x-iso9660-image"},"ist":{"type":"application/inspiration.template","icon":"isf"},"isu":{"type":"video/x-isvideo"},"it":{"type":"audio/it"},"itp":{"type":"application/vnd.shana.informed.formtemplate"},"iv":{"type":"application/x-inventor"},"ivp":{"type":"application/vnd.immervision-ivp"},"ivr":{"type":"i-world/i-vrml"},"ivu":{"type":"application/vnd.immervision-ivu"},"ivy":{"type":"application/x-livescreen"},"jad":{"type":"text/vnd.sun.j2me.app-descriptor"},"jam":{"type":"application/vnd.jam"},"jar":{"type":"application/java-archive","icon":"archive"},"jav":{"type":"text/plain"},"java":{"type":"text/plain","icon":"sourcecode"},"jcb":{"type":"text/xml","icon":"markup"},"jcl":{"type":"text/xml","icon":"markup"},"jcm":{"type":"application/x-java-commerce"},"jcw":{"type":"text/xml","icon":"markup"},"jfif":{"type":"image/jpeg"},"jfif-tbnl":{"type":"image/jpeg"},"jisp":{"type":"application/vnd.jisp"},"jlt":{"type":"application/vnd.hp-jlyt"},"jmt":{"type":"text/xml","icon":"markup"},"jmx":{"type":"text/xml","icon":"markup"},"jnlp":{"type":"application/x-java-jnlp-file","icon":"markup"},"joda":{"type":"application/vnd.joost.joda-archive"},"jpe":{"type":"image/jpeg","icon":"image","string":"image","groups":["image","web_image","optimised_image"]},"jpeg":{"type":"image/jpeg","icon":"image","string":"image","groups":["image","web_image","optimised_image"]},"jpg":{"type":"image/jpeg","icon":"image","string":"image","groups":["image","web_image","optimised_image"]},"jpgm":{"type":"video/jpm"},"jpgv":{"type":"video/jpeg"},"jpm":{"type":"video/jpm"},"jps":{"type":"image/x-jps"},"jqz":{"type":"text/xml","icon":"markup"},"js":{"type":"application/x-javascript","icon":"text","groups":["web_file"]},"json":{"type":"application/json","icon":"text"},"jsonml":{"type":"application/jsonml+json"},"jut":{"type":"image/jutvision"},"kar":{"type":"audio/midi"},"karbon":{"type":"application/vnd.kde.karbon"},"key":{"type":"application/vnd.apple.keynote","icon":"powerpoint","groups":["presentation"],"deprecated":"application/x-iwork-keynote-sffkey"},"kfo":{"type":"application/vnd.kde.kformula"},"kia":{"type":"application/vnd.kidspiration"},"kml":{"type":"application/vnd.google-earth.kml+xml"},"kmz":{"type":"application/vnd.google-earth.kmz"},"kne":{"type":"application/vnd.kinar"},"knp":{"type":"application/vnd.kinar"},"kon":{"type":"application/vnd.kde.kontour"},"kpr":{"type":"application/vnd.kde.kpresenter"},"kpt":{"type":"application/vnd.kde.kpresenter"},"kpxx":{"type":"application/vnd.ds-keypoint"},"ksh":{"type":"application/x-ksh"},"ksp":{"type":"application/vnd.kde.kspread"},"ktr":{"type":"application/vnd.kahootz"},"ktx":{"type":"image/ktx"},"ktz":{"type":"application/vnd.kahootz"},"kwd":{"type":"application/vnd.kde.kword"},"kwt":{"type":"application/vnd.kde.kword"},"la":{"type":"audio/nspaudio"},"lam":{"type":"audio/x-liveaudio"},"lasxml":{"type":"application/vnd.las.las+xml"},"latex":{"type":"application/x-latex","icon":"text"},"lbd":{"type":"application/vnd.llamagraphics.life-balance.desktop"},"lbe":{"type":"application/vnd.llamagraphics.life-balance.exchange+xml"},"les":{"type":"application/vnd.hhe.lesson-player"},"lha":{"type":"application/x-lzh-compressed"},"lhx":{"type":"application/octet-stream"},"link66":{"type":"application/vnd.route66.link66+xml"},"list":{"type":"text/plain"},"list3820":{"type":"application/vnd.ibm.modcap"},"listafp":{"type":"application/vnd.ibm.modcap"},"lma":{"type":"audio/nspaudio"},"lnk":{"type":"application/x-ms-shortcut"},"log":{"type":"text/plain"},"lostxml":{"type":"application/lost+xml"},"lrf":{"type":"application/octet-stream"},"lrm":{"type":"application/vnd.ms-lrm"},"lsp":{"type":"application/x-lisp"},"lst":{"type":"text/plain"},"lsx":{"type":"text/x-la-asf"},"ltf":{"type":"application/vnd.frogans.ltf"},"ltx":{"type":"application/x-latex"},"lvp":{"type":"audio/vnd.lucent.voice"},"lwp":{"type":"application/vnd.lotus-wordpro"},"lz":{"type":"application/x-lzip","icon":"archive"},"lzh":{"type":"application/x-lzh-compressed"},"lzma":{"type":"application/x-lzma"},"lzo":{"type":"application/x-lzop"},"lzx":{"type":"application/lzx"},"m":{"type":"text/plain","icon":"sourcecode"},"m13":{"type":"application/x-msmediaview"},"m14":{"type":"application/x-msmediaview"},"m1v":{"type":"video/mpeg"},"m21":{"type":"application/mp21"},"m2a":{"type":"audio/mpeg"},"m2v":{"type":"video/mpeg"},"m3a":{"type":"audio/mpeg"},"m3u":{"type":"audio/x-mpegurl","icon":"audio","string":"audio","groups":["audio"]},"m3u8":{"type":"application/x-mpegURL","icon":"video","groups":["media_source"]},"m4a":{"type":"audio/mp4","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"m4u":{"type":"video/vnd.mpegurl"},"m4v":{"type":"video/mp4","icon":"video","string":"video","groups":["html_video","video","web_video"]},"ma":{"type":"application/mathematica","string":"math"},"mads":{"type":"application/mads+xml"},"mag":{"type":"application/vnd.ecowin.chart"},"maker":{"type":"application/vnd.framemaker"},"man":{"type":"text/troff"},"map":{"type":"application/x-navimap"},"mar":{"type":"application/octet-stream"},"mathml":{"type":"application/mathml+xml","string":"math"},"mb":{"type":"application/mathematica","string":"math"},"mbd":{"type":"application/mbedlet"},"mbk":{"type":"application/vnd.mobius.mbk"},"mbox":{"type":"application/mbox"},"mbz":{"type":"application/vnd.moodle.backup","icon":"moodle"},"mc$":{"type":"application/x-magic-cap-package-1.0"},"mc1":{"type":"application/vnd.medcalcdata"},"mcd":{"type":"application/vnd.mcd"},"mcf":{"type":"image/vasa"},"mcp":{"type":"application/netmc"},"mcurl":{"type":"text/vnd.curl.mcurl"},"mdb":{"type":"application/x-msaccess","icon":"database"},"mdi":{"type":"image/vnd.ms-modi"},"me":{"type":"text/troff"},"mesh":{"type":"model/mesh"},"meta4":{"type":"application/metalink4+xml"},"metalink":{"type":"application/metalink+xml"},"mets":{"type":"application/mets+xml"},"mfm":{"type":"application/vnd.mfmp"},"mft":{"type":"application/rpki-manifest"},"mgp":{"type":"application/vnd.osgeo.mapguide.package"},"mgz":{"type":"application/vnd.proteus.magazine"},"mht":{"type":"message/rfc822","icon":"archive"},"mhtml":{"type":"message/rfc822","icon":"archive"},"mid":{"type":"audio/midi"},"midi":{"type":"audio/midi"},"mie":{"type":"application/x-mie"},"mif":{"type":"application/vnd.mif"},"mime":{"type":"message/rfc822"},"mj2":{"type":"video/mj2"},"mjf":{"type":"audio/x-vnd.audioexplosion.mjuicemediafile"},"mjp2":{"type":"video/mj2"},"mjpg":{"type":"video/x-motion-jpeg"},"mk3d":{"type":"video/x-matroska"},"mka":{"type":"audio/x-matroska"},"mks":{"type":"video/x-matroska"},"mkv":{"type":"video/x-matroska"},"mlp":{"type":"application/vnd.dolby.mlp"},"mm":{"type":"application/base64"},"mmd":{"type":"application/vnd.chipnuts.karaoke-mmd"},"mme":{"type":"application/base64"},"mmf":{"type":"application/vnd.smaf"},"mmr":{"type":"image/vnd.fujixerox.edmics-mmr"},"mng":{"type":"video/x-mng"},"mny":{"type":"application/x-msmoney"},"mobi":{"type":"application/x-mobipocket-ebook"},"mod":{"type":"audio/mod"},"mods":{"type":"application/mods+xml"},"moov":{"type":"video/quicktime"},"mov":{"type":"video/quicktime","icon":"video","string":"video","groups":["video","web_video","html_video"]},"movie":{"type":"video/x-sgi-movie","icon":"video","string":"video","groups":["video"]},"mp2":{"type":"audio/mpeg"},"mp21":{"type":"application/mp21"},"mp2a":{"type":"audio/mpeg"},"mp3":{"type":"audio/mp3","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"mp4":{"type":"video/mp4","icon":"video","string":"video","groups":["html_video","video","web_video"]},"mp4a":{"type":"audio/mp4","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"mp4s":{"type":"application/mp4"},"mp4v":{"type":"video/mp4","icon":"video","string":"video","groups":["video","web_video"]},"mpa":{"type":"audio/mpeg"},"mpc":{"type":"application/vnd.mophun.certificate"},"mpd":{"type":"application/dash+xml","icon":"video","groups":["media_source"]},"mpe":{"type":"video/mpeg","icon":"video","string":"video","groups":["video","web_video"]},"mpeg":{"type":"video/mpeg","icon":"video","string":"video","groups":["video","web_video"]},"mpg":{"type":"video/mpeg","icon":"video","string":"video","groups":["video","web_video"]},"mpg4":{"type":"video/mp4"},"mpga":{"type":"audio/mpeg"},"mpkg":{"type":"application/vnd.apple.installer+xml"},"mpm":{"type":"application/vnd.blueice.multipass"},"mpn":{"type":"application/vnd.mophun.application"},"mpp":{"type":"application/vnd.ms-project"},"mpr":{"type":"application/vnd.moodle.profiling","icon":"moodle"},"mpt":{"type":"application/vnd.ms-project"},"mpv":{"type":"application/x-project"},"mpx":{"type":"application/x-project"},"mpy":{"type":"application/vnd.ibm.minipay"},"mqy":{"type":"application/vnd.mobius.mqy"},"mrc":{"type":"application/marc"},"mrcx":{"type":"application/marcxml+xml"},"ms":{"type":"text/troff"},"mscml":{"type":"application/mediaservercontrol+xml"},"mseed":{"type":"application/vnd.fdsn.mseed"},"mseq":{"type":"application/vnd.mseq"},"msf":{"type":"application/vnd.epson.msf"},"msh":{"type":"model/mesh"},"msi":{"type":"application/x-msdownload"},"msl":{"type":"application/vnd.mobius.msl"},"msty":{"type":"application/vnd.muvee.style"},"mts":{"type":"model/vnd.mts"},"mus":{"type":"application/vnd.musician"},"musicxml":{"type":"application/vnd.recordare.musicxml+xml"},"mv":{"type":"video/x-sgi-movie"},"mvb":{"type":"application/x-msmediaview"},"mw":{"type":"application/maple","icon":"math"},"mwf":{"type":"application/vnd.mfer"},"mws":{"type":"application/maple","icon":"math"},"mxf":{"type":"application/mxf"},"mxl":{"type":"application/vnd.recordare.musicxml"},"mxml":{"type":"application/xv+xml"},"mxs":{"type":"application/vnd.triscape.mxs"},"mxu":{"type":"video/vnd.mpegurl"},"my":{"type":"audio/make"},"mzz":{"type":"application/x-vnd.audioexplosion.mzz"},"n-gage":{"type":"application/vnd.nokia.n-gage.symbian.install"},"n3":{"type":"text/n3"},"nap":{"type":"image/naplps"},"naplps":{"type":"image/naplps"},"nb":{"type":"application/mathematica","string":"math"},"nbk":{"type":"application/x-smarttech-notebook","icon":"archive"},"nbp":{"type":"application/vnd.wolfram.player"},"nc":{"type":"application/x-netcdf"},"ncm":{"type":"application/vnd.nokia.configuration-message"},"ncx":{"type":"application/x-dtbncx+xml"},"nfo":{"type":"text/x-nfo"},"ngdat":{"type":"application/vnd.nokia.n-gage.data"},"nif":{"type":"image/x-niff"},"niff":{"type":"image/x-niff"},"nitf":{"type":"application/vnd.nitf"},"nix":{"type":"application/x-mix-transfer"},"nlu":{"type":"application/vnd.neurolanguage.nlu"},"nml":{"type":"application/vnd.enliven"},"nnd":{"type":"application/vnd.noblenet-directory"},"nns":{"type":"application/vnd.noblenet-sealer"},"nnw":{"type":"application/vnd.noblenet-web"},"notebook":{"type":"application/x-smarttech-notebook","icon":"archive"},"npx":{"type":"image/vnd.net-fpx"},"nsc":{"type":"application/x-conference"},"nsf":{"type":"application/vnd.lotus-notes"},"ntf":{"type":"application/vnd.nitf"},"numbers":{"type":"application/vnd.apple.numbers","icon":"spreadsheet","groups":["spreadsheet"],"deprecated":"application/x-iwork-numbers-sffnumbers"},"nvd":{"type":"application/x-navidoc"},"nzb":{"type":"application/x-nzb"},"o":{"type":"application/octet-stream"},"oa2":{"type":"application/vnd.fujitsu.oasys2"},"oa3":{"type":"application/vnd.fujitsu.oasys3"},"oas":{"type":"application/vnd.fujitsu.oasys"},"obd":{"type":"application/x-msbinder"},"obj":{"type":"application/x-tgif"},"oda":{"type":"application/oda"},"odb":{"type":"application/vnd.oasis.opendocument.database","icon":"database"},"odc":{"type":"application/vnd.oasis.opendocument.chart","icon":"chart"},"odf":{"type":"application/vnd.oasis.opendocument.formula","icon":"math"},"odft":{"type":"application/vnd.oasis.opendocument.formula-template","icon":"math"},"odg":{"type":"application/vnd.oasis.opendocument.graphics","icon":"draw"},"odi":{"type":"application/vnd.oasis.opendocument.image","icon":"draw"},"odm":{"type":"application/vnd.oasis.opendocument.text-master","icon":"writer"},"odp":{"type":"application/vnd.oasis.opendocument.presentation","icon":"impress","groups":["presentation"]},"ods":{"type":"application/vnd.oasis.opendocument.spreadsheet","icon":"calc","groups":["spreadsheet"]},"odt":{"type":"application/vnd.oasis.opendocument.text","icon":"writer","groups":["document"]},"oga":{"type":"audio/ogg","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"ogg":{"type":"audio/ogg","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"ogv":{"type":"video/ogg","icon":"video","string":"video","groups":["html_video","video","web_video"]},"ogx":{"type":"application/ogg"},"omc":{"type":"application/x-omc"},"omcd":{"type":"application/x-omcdatamaker"},"omcr":{"type":"application/x-omcregerator"},"omdoc":{"type":"application/omdoc+xml"},"onepkg":{"type":"application/onenote"},"onetmp":{"type":"application/onenote"},"onetoc":{"type":"application/onenote"},"onetoc2":{"type":"application/onenote"},"opf":{"type":"application/oebps-package+xml"},"opml":{"type":"text/x-opml"},"oprc":{"type":"application/vnd.palm"},"org":{"type":"application/vnd.lotus-organizer"},"osf":{"type":"application/vnd.yamaha.openscoreformat"},"osfpvg":{"type":"application/vnd.yamaha.openscoreformat.osfpvg+xml"},"otc":{"type":"application/vnd.oasis.opendocument.chart-template","icon":"chart"},"otf":{"type":"application/x-font-otf"},"otg":{"type":"application/vnd.oasis.opendocument.graphics-template","icon":"draw"},"oth":{"type":"application/vnd.oasis.opendocument.text-web","icon":"oth","groups":["document"]},"oti":{"type":"application/vnd.oasis.opendocument.image-template"},"otp":{"type":"application/vnd.oasis.opendocument.presentation-template","icon":"impress","groups":["presentation"]},"ots":{"type":"application/vnd.oasis.opendocument.spreadsheet-template","icon":"calc","groups":["spreadsheet"]},"ott":{"type":"application/vnd.oasis.opendocument.text-template","icon":"writer","groups":["document"]},"oxps":{"type":"application/oxps"},"oxt":{"type":"application/vnd.openofficeorg.extension"},"p":{"type":"text/x-pascal"},"p10":{"type":"application/pkcs10"},"p12":{"type":"application/x-pkcs12"},"p7a":{"type":"application/x-pkcs7-signature"},"p7b":{"type":"application/x-pkcs7-certificates"},"p7c":{"type":"application/pkcs7-mime"},"p7m":{"type":"application/pkcs7-mime"},"p7r":{"type":"application/x-pkcs7-certreqresp"},"p7s":{"type":"application/pkcs7-signature"},"p8":{"type":"application/pkcs8"},"pages":{"type":"application/vnd.apple.pages","icon":"document","groups":["document"],"deprecated":"application/x-iwork-pages-sffpages"},"part":{"type":"application/pro_eng"},"pas":{"type":"text/x-pascal"},"paw":{"type":"application/vnd.pawaafile"},"pbd":{"type":"application/vnd.powerbuilder6"},"pbm":{"type":"image/x-portable-bitmap"},"pcap":{"type":"application/vnd.tcpdump.pcap"},"pcf":{"type":"application/x-font-pcf"},"pcl":{"type":"application/vnd.hp-pcl"},"pclxl":{"type":"application/vnd.hp-pclxl"},"pct":{"type":"image/pict","icon":"image","string":"image","groups":["image"]},"pcurl":{"type":"application/vnd.curl.pcurl"},"pcx":{"type":"image/x-pcx"},"pdb":{"type":"application/vnd.palm"},"pdf":{"type":"application/pdf","icon":"pdf","groups":["document"]},"pem":{"type":"application/x-pem-file"},"pfa":{"type":"application/x-font-type1"},"pfb":{"type":"application/x-font-type1"},"pfm":{"type":"application/x-font-type1"},"pfr":{"type":"application/font-tdpfr"},"pfunk":{"type":"audio/make"},"pfx":{"type":"application/x-pkcs12"},"pgm":{"type":"image/x-portable-graymap"},"pgn":{"type":"application/x-chess-pgn"},"pgp":{"type":"application/pgp-encrypted"},"phar":{"type":"application/octet-stream"},"php":{"type":"text/plain","icon":"sourcecode"},"phps":{"type":"application/x-httpd-phps"},"pic":{"type":"image/pict","icon":"image","string":"image","groups":["image"]},"pict":{"type":"image/pict","icon":"image","string":"image","groups":["image"]},"pkg":{"type":"application/octet-stream"},"pki":{"type":"application/pkixcmp"},"pkipath":{"type":"application/pkix-pkipath"},"pko":{"type":"application/vnd.ms-pki.pko"},"pl":{"type":"text/plain"},"plb":{"type":"application/vnd.3gpp.pic-bw-large"},"plc":{"type":"application/vnd.mobius.plc"},"plf":{"type":"application/vnd.pocketlearn"},"plist":{"type":"application/x-plist"},"pls":{"type":"application/pls+xml"},"plx":{"type":"application/x-pixclscript"},"pm":{"type":"image/x-xpixmap"},"pm4":{"type":"application/x-pagemaker"},"pm5":{"type":"application/x-pagemaker"},"pml":{"type":"application/vnd.ctc-posml"},"png":{"type":"image/png","icon":"image","string":"image","groups":["image","web_image","optimised_image"]},"pnm":{"type":"image/x-portable-anymap"},"portpkg":{"type":"application/vnd.macports.portpkg"},"pot":{"type":"application/vnd.ms-powerpoint","icon":"powerpoint","groups":["presentation"]},"potm":{"type":"application/vnd.ms-powerpoint.template.macroenabled.12","icon":"powerpoint","groups":["presentation"]},"potx":{"type":"application/vnd.openxmlformats-officedocument.presentationml.template","icon":"powerpoint","groups":["presentation"]},"pov":{"type":"model/x-pov"},"ppa":{"type":"application/vnd.ms-powerpoint","icon":"powerpoint","groups":["presentation"]},"ppam":{"type":"application/vnd.ms-powerpoint.addin.macroenabled.12","icon":"powerpoint","groups":["presentation"]},"ppd":{"type":"application/vnd.cups-ppd"},"ppm":{"type":"image/x-portable-pixmap"},"pps":{"type":"application/vnd.ms-powerpoint","icon":"powerpoint","groups":["presentation"]},"ppsm":{"type":"application/vnd.ms-powerpoint.slideshow.macroenabled.12","icon":"powerpoint","groups":["presentation"]},"ppsx":{"type":"application/vnd.openxmlformats-officedocument.presentationml.slideshow","icon":"powerpoint","groups":["presentation"]},"ppt":{"type":"application/vnd.ms-powerpoint","icon":"powerpoint","groups":["presentation"]},"pptm":{"type":"application/vnd.ms-powerpoint.presentation.macroenabled.12","icon":"powerpoint","groups":["presentation"]},"pptx":{"type":"application/vnd.openxmlformats-officedocument.presentationml.presentation","icon":"powerpoint","groups":["presentation"]},"ppz":{"type":"application/mspowerpoint"},"pqa":{"type":"application/vnd.palm"},"prc":{"type":"application/x-mobipocket-ebook"},"pre":{"type":"application/vnd.lotus-freelance"},"prf":{"type":"application/pics-rules"},"prt":{"type":"application/pro_eng"},"ps":{"type":"application/postscript","icon":"pdf"},"psb":{"type":"application/vnd.3gpp.pic-bw-small"},"psd":{"type":"image/vnd.adobe.photoshop","icon":"psd"},"psf":{"type":"application/x-font-linux-psf"},"pskcxml":{"type":"application/pskc+xml"},"ptid":{"type":"application/vnd.pvi.ptid1"},"pub":{"type":"application/x-mspublisher","icon":"publisher","groups":["presentation"]},"pvb":{"type":"application/vnd.3gpp.pic-bw-var"},"pvu":{"type":"paleovu/x-pv"},"pwn":{"type":"application/vnd.3m.post-it-notes"},"pwz":{"type":"application/vnd.ms-powerpoint","icon":"powerpoint","groups":["presentation"]},"py":{"type":"text/x-script.phyton"},"pya":{"type":"audio/vnd.ms-playready.media.pya"},"pyc":{"type":"application/x-bytecode.python"},"pyv":{"type":"video/vnd.ms-playready.media.pyv"},"qam":{"type":"application/vnd.epson.quickanime"},"qbo":{"type":"application/vnd.intu.qbo"},"qcp":{"type":"audio/vnd.qcelp"},"qd3":{"type":"x-world/x-3dmf"},"qd3d":{"type":"x-world/x-3dmf"},"qfx":{"type":"application/vnd.intu.qfx"},"qif":{"type":"image/x-quicktime"},"qps":{"type":"application/vnd.publishare-delta-tree"},"qt":{"type":"video/quicktime","icon":"video","string":"video","groups":["video","web_video"]},"qtc":{"type":"video/x-qtc"},"qti":{"type":"image/x-quicktime"},"qtif":{"type":"image/x-quicktime"},"qwd":{"type":"application/vnd.quark.quarkxpress"},"qwt":{"type":"application/vnd.quark.quarkxpress"},"qxb":{"type":"application/vnd.quark.quarkxpress"},"qxd":{"type":"application/vnd.quark.quarkxpress"},"qxl":{"type":"application/vnd.quark.quarkxpress"},"qxt":{"type":"application/vnd.quark.quarkxpress"},"ra":{"type":"audio/x-realaudio-plugin","icon":"audio","string":"audio","groups":["audio","web_audio"]},"ram":{"type":"audio/x-pn-realaudio-plugin","icon":"audio","string":"audio","groups":["audio"]},"rar":{"type":"application/x-rar-compressed","icon":"archive","string":"archive","groups":["archive"]},"ras":{"type":"image/x-cmu-raster"},"rast":{"type":"image/cmu-raster"},"rb":{"type":"text/plain"},"rcprofile":{"type":"application/vnd.ipunplugged.rcprofile"},"rdf":{"type":"application/rdf+xml"},"rdz":{"type":"application/vnd.data-vision.rdz"},"rep":{"type":"application/vnd.businessobjects"},"res":{"type":"application/x-dtbresource+xml"},"resx":{"type":"text/xml"},"rexx":{"type":"text/x-script.rexx"},"rf":{"type":"image/vnd.rn-realflash"},"rgb":{"type":"image/x-rgb"},"rhb":{"type":"text/xml","icon":"markup"},"rif":{"type":"application/reginfo+xml"},"rip":{"type":"audio/vnd.rip"},"ris":{"type":"application/x-research-info-systems"},"rl":{"type":"application/resource-lists+xml"},"rlc":{"type":"image/vnd.fujixerox.edmics-rlc"},"rld":{"type":"application/resource-lists-diff+xml"},"rm":{"type":"audio/x-pn-realaudio-plugin","icon":"audio","string":"audio","groups":["audio"]},"rmi":{"type":"audio/midi"},"rmm":{"type":"audio/x-pn-realaudio"},"rmp":{"type":"audio/x-pn-realaudio-plugin"},"rms":{"type":"application/vnd.jcp.javame.midlet-rms"},"rmvb":{"type":"application/vnd.rn-realmedia-vbr","icon":"video","string":"video","groups":["video"]},"rnc":{"type":"application/relax-ng-compact-syntax"},"rng":{"type":"application/ringing-tones"},"rnx":{"type":"application/vnd.rn-realplayer"},"roa":{"type":"application/rpki-roa"},"roff":{"type":"text/troff"},"rp":{"type":"image/vnd.rn-realpix"},"rp9":{"type":"application/vnd.cloanto.rp9"},"rpm":{"type":"application/x-rpm"},"rpss":{"type":"application/vnd.nokia.radio-presets"},"rpst":{"type":"application/vnd.nokia.radio-preset"},"rq":{"type":"application/sparql-query"},"rs":{"type":"application/rls-services+xml"},"rsd":{"type":"application/rsd+xml"},"rss":{"type":"application/rss+xml"},"rt":{"type":"text/richtext"},"rtf":{"type":"text/rtf","icon":"text","groups":["document"]},"rtx":{"type":"text/richtext","icon":"text"},"rv":{"type":"audio/x-pn-realaudio-plugin","icon":"audio","string":"video","groups":["video"]},"s":{"type":"text/x-asm"},"s3m":{"type":"audio/s3m"},"saf":{"type":"application/vnd.yamaha.smaf-audio"},"safariextz":{"type":"application/octet-stream"},"sass":{"type":"text/x-sass"},"saveme":{"type":"application/octet-stream"},"sbk":{"type":"application/x-tbook"},"sbml":{"type":"application/sbml+xml"},"sc":{"type":"application/vnd.ibm.secure-container"},"scd":{"type":"application/x-msschedule"},"scm":{"type":"application/vnd.lotus-screencam"},"scq":{"type":"application/scvp-cv-request"},"scs":{"type":"application/scvp-cv-response"},"scss":{"type":"text/x-scss","icon":"text","groups":["web_file"]},"scurl":{"type":"text/vnd.curl.scurl"},"sda":{"type":"application/vnd.stardivision.draw","icon":"draw"},"sdc":{"type":"application/vnd.stardivision.calc","icon":"calc"},"sdd":{"type":"application/vnd.stardivision.impress","icon":"impress"},"sdkd":{"type":"application/vnd.solent.sdkm+xml"},"sdkm":{"type":"application/vnd.solent.sdkm+xml"},"sdml":{"type":"text/plain"},"sdp":{"type":"application/sdp"},"sdr":{"type":"application/sounder"},"sdw":{"type":"application/vnd.stardivision.writer","icon":"writer"},"sea":{"type":"application/sea"},"see":{"type":"application/vnd.seemail"},"seed":{"type":"application/vnd.fdsn.seed"},"sema":{"type":"application/vnd.sema"},"semd":{"type":"application/vnd.semd"},"semf":{"type":"application/vnd.semf"},"ser":{"type":"application/java-serialized-object"},"set":{"type":"application/set"},"setpay":{"type":"application/set-payment-initiation"},"setreg":{"type":"application/set-registration-initiation"},"sfd-hdstx":{"type":"application/vnd.hydrostatix.sof-data"},"sfs":{"type":"application/vnd.spotfire.sfs"},"sfv":{"type":"text/x-sfv"},"sgi":{"type":"image/sgi"},"sgl":{"type":"application/vnd.stardivision.writer-global"},"sgm":{"type":"text/sgml"},"sgml":{"type":"text/sgml"},"sh":{"type":"application/x-sh","icon":"sourcecode"},"shar":{"type":"application/x-shar"},"shf":{"type":"application/shf+xml"},"shtml":{"type":"text/html"},"sid":{"type":"image/x-mrsid-image"},"sig":{"type":"application/pgp-signature"},"sil":{"type":"audio/silk"},"silo":{"type":"model/mesh"},"sis":{"type":"application/vnd.symbian.install"},"sisx":{"type":"application/vnd.symbian.install"},"sit":{"type":"application/x-stuffit","icon":"archive","string":"archive","groups":["archive"]},"sitx":{"type":"application/x-stuffitx"},"skd":{"type":"application/vnd.koan"},"skm":{"type":"application/vnd.koan"},"skp":{"type":"application/vnd.koan"},"skt":{"type":"application/vnd.koan"},"sl":{"type":"application/x-seelogo"},"sldm":{"type":"application/vnd.ms-powerpoint.slide.macroenabled.12","icon":"powerpoint","groups":["presentation"]},"sldx":{"type":"application/vnd.openxmlformats-officedocument.presentationml.slide"},"slt":{"type":"application/vnd.epson.salt"},"sm":{"type":"application/vnd.stepmania.stepchart"},"smf":{"type":"application/vnd.stardivision.math","icon":"math"},"smi":{"type":"application/smil","icon":"text"},"smil":{"type":"application/smil","icon":"text"},"smv":{"type":"video/x-smv"},"smzip":{"type":"application/vnd.stepmania.package"},"snd":{"type":"audio/basic"},"snf":{"type":"application/x-font-snf"},"so":{"type":"application/octet-stream"},"sol":{"type":"application/solids"},"spc":{"type":"application/x-pkcs7-certificates"},"spf":{"type":"application/vnd.yamaha.smaf-phrase"},"spl":{"type":"application/x-futuresplash"},"spot":{"type":"text/vnd.in3d.spot"},"spp":{"type":"application/scvp-vp-response"},"spq":{"type":"application/scvp-vp-request"},"spr":{"type":"application/x-sprite"},"sprite":{"type":"application/x-sprite"},"spx":{"type":"audio/ogg"},"sql":{"type":"application/x-sql"},"sqt":{"type":"text/xml","icon":"markup"},"src":{"type":"application/x-wais-source"},"srt":{"type":"application/x-subrip"},"sru":{"type":"application/sru+xml"},"srx":{"type":"application/sparql-results+xml"},"ssdl":{"type":"application/ssdl+xml"},"sse":{"type":"application/vnd.kodak-descriptor"},"ssf":{"type":"application/vnd.epson.ssf"},"ssi":{"type":"text/x-server-parsed-html"},"ssm":{"type":"application/streamingmedia"},"ssml":{"type":"application/ssml+xml"},"sst":{"type":"application/vnd.ms-pki.certstore"},"st":{"type":"application/vnd.sailingtracker.track"},"stc":{"type":"application/vnd.sun.xml.calc.template","icon":"calc"},"std":{"type":"application/vnd.sun.xml.draw.template","icon":"draw"},"step":{"type":"application/step"},"stf":{"type":"application/vnd.wt.stf"},"sti":{"type":"application/vnd.sun.xml.impress.template","icon":"impress","groups":["presentation"]},"stk":{"type":"application/hyperstudio"},"stl":{"type":"application/vnd.ms-pki.stl"},"stp":{"type":"application/step"},"str":{"type":"application/vnd.pg.format"},"stw":{"type":"application/vnd.sun.xml.writer.template","icon":"writer"},"styl":{"type":"text/x-styl"},"sub":{"type":"image/vnd.dvb.subtitle"},"sus":{"type":"application/vnd.sus-calendar"},"susp":{"type":"application/vnd.sus-calendar"},"sv4cpio":{"type":"application/x-sv4cpio"},"sv4crc":{"type":"application/x-sv4crc"},"svc":{"type":"application/vnd.dvb.service"},"svd":{"type":"application/vnd.svd"},"svf":{"type":"image/vnd.dwg"},"svg":{"type":"image/svg+xml","icon":"image","string":"image","groups":["image","web_image"]},"svgz":{"type":"image/svg+xml","icon":"image","string":"image","groups":["image","web_image"]},"svr":{"type":"application/x-world"},"swa":{"type":"application/x-director","icon":"flash"},"swf":{"type":"application/x-shockwave-flash","icon":"flash"},"swfl":{"type":"application/x-shockwave-flash","icon":"flash"},"swi":{"type":"application/vnd.aristanetworks.swi"},"sxc":{"type":"application/vnd.sun.xml.calc","icon":"calc"},"sxd":{"type":"application/vnd.sun.xml.draw","icon":"draw"},"sxg":{"type":"application/vnd.sun.xml.writer.global","icon":"writer"},"sxi":{"type":"application/vnd.sun.xml.impress","icon":"impress","groups":["presentation"]},"sxm":{"type":"application/vnd.sun.xml.math","icon":"math"},"sxw":{"type":"application/vnd.sun.xml.writer","icon":"writer"},"t":{"type":"text/troff"},"t3":{"type":"application/x-t3vm-image"},"taglet":{"type":"application/vnd.mynfc"},"talk":{"type":"text/x-speech"},"tao":{"type":"application/vnd.tao.intent-module-archive"},"tar":{"type":"application/x-tar","icon":"archive","string":"archive","groups":["archive"]},"tbk":{"type":"application/toolbook"},"tcap":{"type":"application/vnd.3gpp2.tcap"},"tcl":{"type":"application/x-tcl"},"tcsh":{"type":"text/x-script.tcsh"},"teacher":{"type":"application/vnd.smart.teacher"},"tei":{"type":"application/tei+xml"},"teicorpus":{"type":"application/tei+xml"},"tex":{"type":"application/x-tex","icon":"text"},"texi":{"type":"application/x-texinfo","icon":"text"},"texinfo":{"type":"application/x-texinfo","icon":"text"},"text":{"type":"text/plain"},"tfi":{"type":"application/thraud+xml"},"tfm":{"type":"application/x-tex-tfm"},"tga":{"type":"image/x-tga"},"tgz":{"type":"application/g-zip","icon":"archive","string":"archive","groups":["archive"]},"thmx":{"type":"application/vnd.ms-officetheme"},"tif":{"type":"image/tiff","icon":"image","string":"image","groups":["image"]},"tiff":{"type":"image/tiff","icon":"image","string":"image","groups":["image"]},"tmo":{"type":"application/vnd.tmobile-livetv"},"torrent":{"type":"application/x-bittorrent"},"tpl":{"type":"application/vnd.groove-tool-template"},"tpt":{"type":"application/vnd.trid.tpt"},"tr":{"type":"text/troff"},"tra":{"type":"application/vnd.trueapp"},"trm":{"type":"application/x-msterminal"},"ts":{"type":"video/MP2T","icon":"video","string":"video","groups":["video","web_video"]},"tsd":{"type":"application/timestamped-data"},"tsi":{"type":"audio/tsp-audio"},"tsp":{"type":"application/dsptype"},"tsv":{"type":"text/tab-separated-values","icon":"text"},"ttc":{"type":"application/x-font-ttf"},"ttf":{"type":"application/x-font-ttf"},"ttl":{"type":"text/turtle"},"turbot":{"type":"image/florian"},"twd":{"type":"application/vnd.simtech-mindmapper"},"twds":{"type":"application/vnd.simtech-mindmapper"},"txd":{"type":"application/vnd.genomatix.tuxedo"},"txf":{"type":"application/vnd.mobius.txf"},"txt":{"type":"text/plain","icon":"text","defaulticon":true},"udeb":{"type":"application/x-debian-package"},"ufd":{"type":"application/vnd.ufdl"},"ufdl":{"type":"application/vnd.ufdl"},"uil":{"type":"text/x-uil"},"ulx":{"type":"application/x-glulx"},"umj":{"type":"application/vnd.umajin"},"uni":{"type":"text/uri-list"},"unis":{"type":"text/uri-list"},"unityweb":{"type":"application/vnd.unity"},"unv":{"type":"application/i-deas"},"uoml":{"type":"application/vnd.uoml+xml"},"uri":{"type":"text/uri-list"},"uris":{"type":"text/uri-list"},"urls":{"type":"text/uri-list"},"ustar":{"type":"application/x-ustar"},"utz":{"type":"application/vnd.uiq.theme"},"uu":{"type":"text/x-uuencode"},"uue":{"type":"text/x-uuencode"},"uva":{"type":"audio/vnd.dece.audio"},"uvd":{"type":"application/vnd.dece.data"},"uvf":{"type":"application/vnd.dece.data"},"uvg":{"type":"image/vnd.dece.graphic"},"uvh":{"type":"video/vnd.dece.hd"},"uvi":{"type":"image/vnd.dece.graphic"},"uvm":{"type":"video/vnd.dece.mobile"},"uvp":{"type":"video/vnd.dece.pd"},"uvs":{"type":"video/vnd.dece.sd"},"uvt":{"type":"application/vnd.dece.ttml+xml"},"uvu":{"type":"video/vnd.uvvu.mp4"},"uvv":{"type":"video/vnd.dece.video"},"uvva":{"type":"audio/vnd.dece.audio"},"uvvd":{"type":"application/vnd.dece.data"},"uvvf":{"type":"application/vnd.dece.data"},"uvvg":{"type":"image/vnd.dece.graphic"},"uvvh":{"type":"video/vnd.dece.hd"},"uvvi":{"type":"image/vnd.dece.graphic"},"uvvm":{"type":"video/vnd.dece.mobile"},"uvvp":{"type":"video/vnd.dece.pd"},"uvvs":{"type":"video/vnd.dece.sd"},"uvvt":{"type":"application/vnd.dece.ttml+xml"},"uvvu":{"type":"video/vnd.uvvu.mp4"},"uvvv":{"type":"video/vnd.dece.video"},"uvvx":{"type":"application/vnd.dece.unspecified"},"uvvz":{"type":"application/vnd.dece.zip"},"uvx":{"type":"application/vnd.dece.unspecified"},"uvz":{"type":"application/vnd.dece.zip"},"vcard":{"type":"text/vcard"},"vcd":{"type":"application/x-cdlink"},"vcf":{"type":"text/x-vcard"},"vcg":{"type":"application/vnd.groove-vcard"},"vcs":{"type":"text/x-vcalendar"},"vcx":{"type":"application/vnd.vcx"},"vda":{"type":"application/vda"},"vdo":{"type":"video/vdo"},"vew":{"type":"application/groupwise"},"vis":{"type":"application/vnd.visionary"},"viv":{"type":"video/vnd.vivo"},"vivo":{"type":"video/vivo"},"vmd":{"type":"application/vocaltec-media-desc"},"vmf":{"type":"application/vocaltec-media-file"},"vob":{"type":"video/x-ms-vob"},"voc":{"type":"audio/voc"},"vor":{"type":"application/vnd.stardivision.writer","icon":"writer"},"vos":{"type":"video/vosaic"},"vox":{"type":"audio/voxware"},"vqe":{"type":"audio/x-twinvq-plugin"},"vqf":{"type":"audio/x-twinvq"},"vql":{"type":"audio/x-twinvq-plugin"},"vrml":{"type":"model/vrml"},"vrt":{"type":"x-world/x-vrt"},"vsd":{"type":"application/vnd.visio"},"vsf":{"type":"application/vnd.vsf"},"vss":{"type":"application/vnd.visio"},"vst":{"type":"application/vnd.visio"},"vsw":{"type":"application/vnd.visio"},"vtt":{"type":"text/vtt","icon":"text","groups":["html_track"]},"vtu":{"type":"model/vnd.vtu"},"vxml":{"type":"application/voicexml+xml"},"w3d":{"type":"application/x-director"},"w60":{"type":"application/wordperfect6.0"},"w61":{"type":"application/wordperfect6.1"},"w6w":{"type":"application/msword"},"wad":{"type":"application/x-doom"},"wav":{"type":"audio/wav","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"wax":{"type":"audio/x-ms-wax"},"wb1":{"type":"application/x-qpro"},"wbmp":{"type":"image/vnd.wap.wbmp"},"wbs":{"type":"application/vnd.criticaltools.wbs+xml"},"wbxml":{"type":"application/vnd.wap.wbxml"},"wcm":{"type":"application/vnd.ms-works"},"wdb":{"type":"application/vnd.ms-works"},"wdp":{"type":"image/vnd.ms-photo"},"web":{"type":"application/vnd.xara"},"weba":{"type":"audio/webm","icon":"audio","string":"audio","groups":["audio","html_audio","web_audio"]},"webm":{"type":"video/webm","icon":"video","string":"video","groups":["html_video","video","web_video"]},"webp":{"type":"image/webp"},"wg":{"type":"application/vnd.pmi.widget"},"wgt":{"type":"application/widget"},"wiz":{"type":"application/msword"},"wk1":{"type":"application/x-123"},"wks":{"type":"application/vnd.ms-works"},"wm":{"type":"video/x-ms-wm"},"wma":{"type":"audio/x-ms-wma","icon":"audio","string":"audio","groups":["audio"]},"wmd":{"type":"application/x-ms-wmd"},"wmf":{"type":"application/x-msmetafile"},"wml":{"type":"text/vnd.wap.wml"},"wmlc":{"type":"application/vnd.wap.wmlc"},"wmls":{"type":"text/vnd.wap.wmlscript"},"wmlsc":{"type":"application/vnd.wap.wmlscriptc"},"wmv":{"type":"video/x-ms-wmv","icon":"video","string":"video","groups":["video"]},"wmx":{"type":"video/x-ms-wmx"},"wmz":{"type":"application/x-ms-wmz"},"woff":{"type":"application/x-font-woff"},"word":{"type":"application/msword"},"wp":{"type":"application/wordperfect"},"wp5":{"type":"application/wordperfect"},"wp6":{"type":"application/wordperfect"},"wpd":{"type":"application/vnd.wordperfect"},"wpl":{"type":"application/vnd.ms-wpl"},"wps":{"type":"application/vnd.ms-works"},"wq1":{"type":"application/x-lotus"},"wqd":{"type":"application/vnd.wqd"},"wri":{"type":"application/x-mswrite"},"wrl":{"type":"model/vrml"},"wrz":{"type":"model/vrml"},"wsc":{"type":"text/scriplet"},"wsdl":{"type":"application/wsdl+xml"},"wspolicy":{"type":"application/wspolicy+xml"},"wsrc":{"type":"application/x-wais-source"},"wtb":{"type":"application/vnd.webturbo"},"wtk":{"type":"application/x-wintalk"},"wvx":{"type":"video/x-ms-wvx"},"x-png":{"type":"image/png","icon":"image","string":"image","groups":["image","web_image"]},"x3d":{"type":"model/x3d+xml"},"x3db":{"type":"model/x3d+binary"},"x3dbz":{"type":"model/x3d+binary"},"x3dv":{"type":"model/x3d+vrml"},"x3dvz":{"type":"model/x3d+vrml"},"x3dz":{"type":"model/x3d+xml"},"xaml":{"type":"application/xaml+xml"},"xap":{"type":"application/x-silverlight-app"},"xar":{"type":"application/vnd.xara"},"xbap":{"type":"application/x-ms-xbap"},"xbd":{"type":"application/vnd.fujixerox.docuworks.binder"},"xbk":{"type":"application/x-smarttech-notebook","icon":"archive"},"xbm":{"type":"image/x-xbitmap"},"xdf":{"type":"application/xcap-diff+xml"},"xdm":{"type":"application/vnd.syncml.dm+xml"},"xdp":{"type":"application/vnd.adobe.xdp+xml","icon":"pdf"},"xdr":{"type":"video/x-amt-demorun"},"xdssc":{"type":"application/dssc+xml"},"xdw":{"type":"application/vnd.fujixerox.docuworks"},"xenc":{"type":"application/xenc+xml"},"xer":{"type":"application/patch-ops-error+xml"},"xfd":{"type":"application/vnd.xfdl","icon":"pdf"},"xfdf":{"type":"application/vnd.adobe.xfdf","icon":"pdf"},"xfdl":{"type":"application/vnd.xfdl"},"xgz":{"type":"xgl/drawing"},"xht":{"type":"application/xhtml+xml"},"xhtml":{"type":"application/xhtml+xml","icon":"markup","groups":["web_file"]},"xhvml":{"type":"application/xv+xml"},"xif":{"type":"image/vnd.xiff"},"xl":{"type":"application/excel"},"xla":{"type":"application/vnd.ms-excel","icon":"spreadsheet"},"xlam":{"type":"application/vnd.ms-excel.addin.macroenabled.12","icon":"spreadsheet"},"xlb":{"type":"application/excel"},"xlc":{"type":"application/vnd.ms-excel","icon":"spreadsheet"},"xld":{"type":"application/excel"},"xlf":{"type":"application/x-xliff+xml"},"xlk":{"type":"application/excel"},"xll":{"type":"application/excel"},"xlm":{"type":"application/vnd.ms-excel","icon":"spreadsheet"},"xls":{"type":"application/vnd.ms-excel","icon":"spreadsheet","groups":["spreadsheet"]},"xlsb":{"type":"application/vnd.ms-excel.sheet.binary.macroenabled.12","icon":"spreadsheet"},"xlsm":{"type":"application/vnd.ms-excel.sheet.macroenabled.12","icon":"spreadsheet","groups":["spreadsheet"]},"xlsx":{"type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","icon":"spreadsheet","groups":["spreadsheet"]},"xlt":{"type":"application/vnd.ms-excel","icon":"spreadsheet"},"xltm":{"type":"application/vnd.ms-excel.template.macroenabled.12","icon":"spreadsheet"},"xltx":{"type":"application/vnd.openxmlformats-officedocument.spreadsheetml.template","icon":"spreadsheet"},"xlv":{"type":"application/excel"},"xlw":{"type":"application/vnd.ms-excel","icon":"spreadsheet"},"xm":{"type":"audio/xm"},"xml":{"type":"application/xml","icon":"markup"},"xmz":{"type":"xgl/movie"},"xo":{"type":"application/vnd.olpc-sugar"},"xop":{"type":"application/xop+xml"},"xpi":{"type":"application/x-xpinstall"},"xpix":{"type":"application/x-vnd.ls-xpix"},"xpl":{"type":"application/xproc+xml"},"xpm":{"type":"image/x-xpixmap"},"xpr":{"type":"application/vnd.is-xpr"},"xps":{"type":"application/vnd.ms-xpsdocument"},"xpw":{"type":"application/vnd.intercon.formnet"},"xpx":{"type":"application/vnd.intercon.formnet"},"xsl":{"type":"text/xml","icon":"markup"},"xslt":{"type":"application/xslt+xml"},"xsm":{"type":"application/vnd.syncml+xml"},"xspf":{"type":"application/xspf+xml"},"xsr":{"type":"video/x-amt-showrun"},"xul":{"type":"application/vnd.mozilla.xul+xml"},"xvm":{"type":"application/xv+xml"},"xvml":{"type":"application/xv+xml"},"xwd":{"type":"image/x-xwindowdump"},"xxx":{"type":"document/unknown","icon":"unknown"},"xyz":{"type":"chemical/x-xyz"},"xz":{"type":"application/x-xz"},"yaml":{"type":"text/yaml"},"yang":{"type":"application/yang"},"yin":{"type":"application/yin+xml"},"yml":{"type":"text/yaml"},"z":{"type":"application/x-compress"},"z1":{"type":"application/x-zmachine"},"z2":{"type":"application/x-zmachine"},"z3":{"type":"application/x-zmachine"},"z4":{"type":"application/x-zmachine"},"z5":{"type":"application/x-zmachine"},"z6":{"type":"application/x-zmachine"},"z7":{"type":"application/x-zmachine"},"z8":{"type":"application/x-zmachine"},"zaz":{"type":"application/vnd.zzazz.deck+xml"},"zip":{"type":"application/zip","icon":"archive","string":"archive","groups":["archive"]},"zir":{"type":"application/vnd.zul"},"zirz":{"type":"application/vnd.zul"},"zmm":{"type":"application/vnd.handheld-entertainment+xml"},"zoo":{"type":"application/octet-stream"},"zsh":{"type":"text/x-script.zsh"}}'),g=JSON.parse('{"application/acad":["dwg"],"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/arj":["arj"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/base64":["mm","mme"],"application/binhex":["hqx"],"application/binhex4":["hqx"],"application/book":["boo","book"],"application/ccxml+xml":["ccxml"],"application/cdf":["cdf"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/clariscad":["ccad"],"application/commonground":["dp"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/drafting":["drw"],"application/dsptype":["tsp"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/dxf":["dxf"],"application/ecmascript":["ecma","js"],"application/emma+xml":["emma"],"application/envoy":["evy"],"application/epub+zip":["epub"],"application/excel":["xl","xlw","xlb","xlc","xld","xlk","xla","xlm","xls","xlt","xlv","xll"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":["woff"],"application/fractals":["fif"],"application/freeloader":["frl"],"application/futuresplash":["spl"],"application/g-zip":["tgz","gz","gzip"],"application/gml+xml":["gml"],"application/gnutar":["tgz"],"application/gpx+xml":["gpx"],"application/groupwise":["vew"],"application/gxf":["gxf"],"application/hlp":["hlp"],"application/hta":["hta"],"application/hyperstudio":["stk"],"application/i-deas":["unv"],"application/iges":["iges","igs"],"application/inf":["inf"],"application/inkml+xml":["ink","inkml"],"application/inspiration":["isf"],"application/inspiration.template":["ist"],"application/ipfix":["ipfix"],"application/java":["class"],"application/java-archive":["jar"],"application/java-byte-code":["class"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js"],"application/json":["json"],"application/jsonml+json":["jsonml"],"application/lha":["lha"],"application/lost+xml":["lostxml"],"application/lzx":["lzx"],"application/mac-binary":["bin"],"application/mac-binhex":["hqx"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/macbinary":["bin"],"application/mads+xml":["mads"],"application/maple":["mw","mws"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","mb","nb"],"application/mathml+xml":["mathml"],"application/mbedlet":["mbd"],"application/mbox":["mbox"],"application/mcad":["mcd"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mime":["aps"],"application/mods+xml":["mods"],"application/mp21":["mp21","m21"],"application/mp4":["mp4s"],"application/msaccess":["accdb"],"application/mspowerpoint":["pot","pps","ppt","ppz"],"application/msword":["doc","dot","w6w","wiz","word"],"application/mswrite":["wri"],"application/mxf":["mxf"],"application/netmc":["mcp"],"application/octet-stream":["bin","a","arj","asax","zoo","bpk","com","crx","deploy","dist","distz","dmg","dms","dump","elc","exe","fdk","arc","ipa","lha","lhx","lrf","lzh","lzx","mar","o","phar","pkg","psd","safariextz","saveme","so","uu","hta"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onepkg","onetmp","onetoc","onetoc2"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf","fdf","xdp","xfd","xfdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs-12":["p12"],"application/pkcs-crl":["crl"],"application/pkcs10":["p10","csr"],"application/pkcs7-mime":["p7c","p7m"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8","key"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer","crt"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/plain":["text"],"application/pls+xml":["pls"],"application/postscript":["ps","ai","eps"],"application/powerpoint":["ppt"],"application/pro_eng":["part","prt"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/ringing-tones":["rng"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf","rtx"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/sea":["sea"],"application/set":["set"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sla":["stl"],"application/smil":["smil","smi"],"application/smil+xml":["smi","smil"],"application/solids":["sol"],"application/sounder":["sdr"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/step":["step","stp"],"application/streamingmedia":["ssm"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toolbook":["tbk"],"application/vda":["vda"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4d","c4f","c4g","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvd","uvf","uvvd","uvvf"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvvx","uvx"],"application/vnd.dece.zip":["uvvz","uvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["dataless","seed"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["book","fm","frame","maker"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl","hgl","hpg"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","list3820","listafp"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktr","ktz"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skd","skm","skp","skt"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.moodle.backup":["mbz"],"application/vnd.moodle.profiling":["mpr"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xla","xlb","xlc","xll","xlm","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-pki.certstore":["sst"],"application/vnd.ms-pki.pko":["pko"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pot","ppa","pps","pwz"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wcm","wdb","wks","wps"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["nitf","ntf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.configuration-message":["ncm"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.nokia.ringing-tone":["rng"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["oprc","pdb","pqa"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qwd","qwt","qxb","qxd","qxl","qxt"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.rn-realplayer":["rnx"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkd","sdkm"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["cap","dmp","pcap"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufdl","ufd"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vss","vst","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar","web"],"application/vnd.xfdl":["xfdl","xfd"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/vocaltec-media-desc":["vmd"],"application/vocaltec-media-file":["vmf"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wordperfect":["wp","wp5","wp6","wpd"],"application/wordperfect6.0":["w60","wp5"],"application/wordperfect6.1":["w61"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-123":["wk1"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-aim":["aim"],"application/x-apple-diskimage":["dmg"],"application/x-authorware-bin":["aab"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-binary":["bin"],"application/x-binhex40":["hqx"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blorb","blb"],"application/x-bsh":["bsh","sh","shar"],"application/x-bytecode.elisp (compiled elisp)":["elc"],"application/x-bytecode.python":["pyc"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cb7","cba","cbt","cbz"],"application/x-cdf":["cdf"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat","cha"],"application/x-chess-pgn":["pgn"],"application/x-cmu-raster":["ras"],"application/x-cocoa":["cco"],"application/x-coldfusion":["cfc","cfm"],"application/x-compactpro":["cpt"],"application/x-compress":["z"],"application/x-compressed":["gz","tgz","z","zip"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-cpt":["cpt"],"application/x-csh":["csh","cs"],"application/x-debian-package":["deb","udeb"],"application/x-deepv":["deepv"],"application/x-dgc-compressed":["dgc"],"application/x-digidoc":["bdoc","cdoc","ddoc"],"application/x-director":["cct","cst","cxt","dcr","dir","dxr","fgd","swa","w3d"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-elc":["elc"],"application/x-envoy":["evy","env"],"application/x-esrehber":["es"],"application/x-eva":["eva"],"application/x-excel":["xla","xlw","xlc","xld","xlk","xlb","xlm","xls","xlt","xlv","xll"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":["otf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["afm","pfa","pfb","pfm"],"application/x-font-woff":["woff"],"application/x-frame":["mif"],"application/x-freearc":["arc"],"application/x-freelance":["pre"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gsp":["gsp"],"application/x-gss":["gss"],"application/x-gtar":["gtar"],"application/x-gzip":["gz","gzip","tgz"],"application/x-hdf":["hdf"],"application/x-helpfile":["help","hlp"],"application/x-httpd-imap":["imap"],"application/x-httpd-phps":["phps"],"application/x-ibooks+zip":["ibooks"],"application/x-ima":["ima"],"application/x-install-instructions":["install"],"application/x-internett-signup":["ins"],"application/x-inventor":["iv"],"application/x-ip2":["ip"],"application/x-iso9660-image":["iso"],"application/x-iwork-keynote-sffkey":["key"],"application/x-iwork-numbers-sffnumbers":["numbers"],"application/x-iwork-pages-sffpages":["pages"],"application/x-java-class":["class"],"application/x-java-commerce":["jcm"],"application/x-java-jnlp-file":["jnlp"],"application/x-javascript":["js"],"application/x-koan":["skd","skm","skp","skt"],"application/x-ksh":["ksh"],"application/x-latex":["latex","ltx"],"application/x-lha":["lha"],"application/x-lisp":["lsp"],"application/x-livescreen":["ivy"],"application/x-lotus":["wq1"],"application/x-lotusscreencam":["scm"],"application/x-lzh":["lzh"],"application/x-lzh-compressed":["lha","lzh"],"application/x-lzip":["lz"],"application/x-lzma":["lzma"],"application/x-lzop":["lzo"],"application/x-lzx":["lzx"],"application/x-mac-binhex40":["hqx"],"application/x-macbinary":["bin"],"application/x-magic-cap-package-1.0":["mc$"],"application/x-mathcad":["mcd"],"application/x-meme":["mm"],"application/x-midi":["mid","midi"],"application/x-mie":["mie"],"application/x-mif":["mif"],"application/x-mix-transfer":["nix"],"application/x-mobipocket-ebook":["mobi","prc"],"application/x-mplayer2":["asx"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdownload":["dll","bat","com","exe","msi"],"application/x-msexcel":["xla","xls","xlw"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["emf","emz","wmf"],"application/x-msmoney":["mny"],"application/x-mspowerpoint":["ppt"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-navi-animation":["ani"],"application/x-navidoc":["nvd"],"application/x-navimap":["map"],"application/x-navistyle":["stl"],"application/x-netcdf":["cdf","nc"],"application/x-newton-compatible-pkg":["pkg"],"application/x-nokia-9000-communicator-add-on-software":["aos"],"application/x-nzb":["nzb"],"application/x-omc":["omc"],"application/x-omcdatamaker":["omcd"],"application/x-omcregerator":["omcr"],"application/x-pagemaker":["pm4","pm5"],"application/x-pcl":["pcl"],"application/x-pem-file":["pem"],"application/x-pixclscript":["plx"],"application/x-pkcs10":["p10"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-pkcs7-crl":["crl"],"application/x-pkcs7-mime":["p7c","p7m"],"application/x-pkcs7-signature":["p7a"],"application/x-plist":["plist"],"application/x-pointplus":["css"],"application/x-portable-anymap":["pnm"],"application/x-project":["mpc","mpt","mpv","mpx"],"application/x-qpro":["wb1"],"application/x-rar-compressed":["rar"],"application/x-research-info-systems":["ris"],"application/x-rpm":["rpm"],"application/x-rtf":["rtf"],"application/x-sdp":["sdp"],"application/x-sea":["sea"],"application/x-seelogo":["sl"],"application/x-sh":["sh"],"application/x-shar":["shar","sh"],"application/x-shockwave-flash":["swf","swfl"],"application/x-silverlight-app":["xap"],"application/x-sit":["sit"],"application/x-smarttech-notebook":["gallery","gallerycollection","galleryitem","nbk","notebook","xbk"],"application/x-sprite":["spr","sprite"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tbook":["sbk","tbk"],"application/x-tcl":["tcl"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texi","texinfo"],"application/x-tgif":["obj"],"application/x-troff":["roff","t","tr"],"application/x-troff-man":["man"],"application/x-troff-me":["me"],"application/x-troff-ms":["ms"],"application/x-troff-msvideo":["avi"],"application/x-ustar":["ustar"],"application/x-visio":["vsd","vst","vsw"],"application/x-vnd.audioexplosion.mzz":["mzz"],"application/x-vnd.ls-xpix":["xpix"],"application/x-vrml":["vrml"],"application/x-wais-source":["src","wsrc"],"application/x-winhelp":["hlp"],"application/x-wintalk":["wtk"],"application/x-world":["svr","wrl"],"application/x-wpwin":["wpd"],"application/x-wri":["wri"],"application/x-x509-ca-cert":["crt","cer","der"],"application/x-x509-user-cert":["crt"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zip-compressed":["zip"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvm","xvml"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip","h5p"],"audio/aac":["aac"],"audio/adpcm":["adp"],"audio/aiff":["aif","aifc","aiff"],"audio/amr":["amr"],"audio/au":["au"],"audio/basic":["au","snd"],"audio/flac":["flac"],"audio/it":["it"],"audio/make":["funk","my","pfunk"],"audio/make.my.funk":["pfunk"],"audio/mid":["rmi"],"audio/midi":["midi","kar","mid","rmi"],"audio/mod":["mod"],"audio/mp3":["mp3"],"audio/mp4":["mp4a","m4a"],"audio/mpeg":["m2a","m3a","mp2","mp2a","mp3","mpa","mpg","mpga"],"audio/mpeg3":["mp3"],"audio/nspaudio":["la","lma"],"audio/ogg":["ogg","oga","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/tsp-audio":["tsi"],"audio/tsplayer":["tsp"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.qcelp":["qcp"],"audio/vnd.rip":["rip"],"audio/voc":["voc"],"audio/voxware":["vox"],"audio/wav":["wav"],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-adpcm":["snd"],"audio/x-aiff":["aiff","aif","aifc"],"audio/x-au":["au"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-gsm":["gsd","gsm"],"audio/x-jam":["jam"],"audio/x-liveaudio":["lam"],"audio/x-matroska":["mka"],"audio/x-mid":["mid","midi"],"audio/x-midi":["mid","midi"],"audio/x-mod":["mod"],"audio/x-mpeg":["mp2"],"audio/x-mpeg-3":["mp3"],"audio/x-mpegurl":["m3u","m3u8"],"audio/x-mpequrl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-nspaudio":["la","lma"],"audio/x-pn-realaudio":["ra","ram","rm","rmm","rmp"],"audio/x-pn-realaudio-plugin":["rmp","ra","ram","rm","rpm","rv"],"audio/x-psid":["sid"],"audio/x-realaudio":["ra"],"audio/x-realaudio-plugin":["ra"],"audio/x-twinvq":["vqf"],"audio/x-twinvq-plugin":["vqe","vql"],"audio/x-vnd.audioexplosion.mjuicemediafile":["mjf"],"audio/x-voc":["voc"],"audio/x-wav":["wav"],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-pdb":["pdb","xyz"],"chemical/x-xyz":["xyz"],"document/unknown":["xxx"],"drawing/x-dwf (old)":["dwf"],"i-world/i-vrml":["ivr"],"image/bmp":["bmp","bm"],"image/cgm":["cgm"],"image/cmu-raster":["ras","rast"],"image/fif":["fif"],"image/florian":["flo","turbot"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief","iefs"],"image/jpeg":["jpeg","jfif","jfif-tbnl","jpe","jpg"],"image/jutvision":["jut"],"image/ktx":["ktx"],"image/naplps":["nap","naplps"],"image/pict":["pct","pic","pict"],"image/pjpeg":["jfif","jpe","jpeg","jpg"],"image/png":["png","x-png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vasa":["mcf"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvg","uvi","uvvg","uvvi"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.dwg":["dwg","dxf","svf"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx","fpx"],"image/vnd.rn-realflash":["rf"],"image/vnd.rn-realpix":["rp"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-dwg":["dwg","dxf","svf"],"image/x-freehand":["fh","fh4","fh5","fh7","fhc"],"image/x-icon":["ico"],"image/x-jg":["art"],"image/x-jps":["jps"],"image/x-mrsid-image":["sid"],"image/x-niff":["nif","niff"],"image/x-pcx":["pcx"],"image/x-pict":["pct","pic","pict"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-greymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-quicktime":["qif","qti","qtif"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-tiff":["tif","tiff"],"image/x-windows-bmp":["bmp"],"image/x-xbitmap":["xbm"],"image/x-xbm":["xbm"],"image/x-xpixmap":["xpm","pm"],"image/x-xwd":["xwd"],"image/x-xwindowdump":["xwd"],"image/xbm":["xbm"],"image/xpm":["xpm"],"message/rfc822":["eml","mht","mhtml","mime"],"model/iges":["iges","igs"],"model/mesh":["mesh","msh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["vrml","wrl","wrz"],"model/x-pov":["pov"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"multipart/x-gzip":["gzip"],"multipart/x-ustar":["ustar"],"multipart/x-zip":["zip"],"music/crescendo":["mid","midi"],"music/x-karaoke":["kar"],"paleovu/x-pv":["pvu"],"shockwave/director":["cct"],"text/asp":["asp"],"text/cache-manifest":["appcache"],"text/calendar":["ics","ifb"],"text/css":["css"],"text/csv":["csv"],"text/ecmascript":["js"],"text/html":["html","acgi","htc","htm","htmls","htx","shtml"],"text/javascript":["js"],"text/mcf":["mcf"],"text/n3":["n3"],"text/pascal":["pas"],"text/plain":["txt","applescript","asc","ascx","ashx","asm","asmx","asp","aspx","axd","c","c++","cc","com","conf","cpp","cs","cxx","def","f","f90","asa","g","h","hh","hpp","idc","in","ini","jav","java","list","log","lst","m","mar","php","pl","rb","sdml","text","for"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx","rt","rtf"],"text/rtf":["rtf"],"text/scriplet":["wsc"],"text/sgml":["sgml","sgm"],"text/tab-separated-values":["tsv"],"text/troff":["man","me","ms","roff","t","tr"],"text/turtle":["ttl"],"text/uri-list":["uri","uni","unis","uris","urls"],"text/vcard":["vcard"],"text/vnd.abc":["abc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.rn-realtext":["rt"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/webviewhtml":["htt"],"text/x-asm":["asm","s"],"text/x-audiosoft-intra":["aip"],"text/x-c":["c","cc","cpp","cxx","dic","h","hh"],"text/x-component":["htc"],"text/x-fortran":["f","f77","f90","for"],"text/x-h":["h","hh"],"text/x-java-source":["jav","java"],"text/x-la-asf":["lsx"],"text/x-m":["m"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-pascal":["p","pas"],"text/x-sass":["sass"],"text/x-script":["hlb"],"text/x-script.csh":["csh"],"text/x-script.elisp":["el"],"text/x-script.guile":["scm"],"text/x-script.ksh":["ksh"],"text/x-script.lisp":["lsp"],"text/x-script.perl":["pl"],"text/x-script.perl-module":["pm"],"text/x-script.phyton":["py"],"text/x-script.rexx":["rexx"],"text/x-script.scheme":["scm"],"text/x-script.sh":["sh"],"text/x-script.tcl":["tcl"],"text/x-script.tcsh":["tcsh"],"text/x-script.zsh":["zsh"],"text/x-scss":["scss"],"text/x-server-parsed-html":["shtml","ssi"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-sgml":["sgm","sgml"],"text/x-speech":["spc","talk"],"text/x-styl":["styl"],"text/x-uil":["uil"],"text/x-uuencode":["uu","uue"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/xml":["resx","jcb","jcw","jmt","jmx","jcl","xsl","rhb","sqt","xml","jqz"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/animaflex":["afl"],"video/avi":["avi"],"video/avs-video":["avs"],"video/dl":["dl"],"video/fli":["fli"],"video/gl":["gl"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpgm","jpm"],"video/mj2":["mj2","mjp2"],"video/mp4":["mp4","f4v","m4v","mp4v","mpg4","fmp4"],"video/mpeg":["mpeg","m1v","m2v","mp2","mp3","mpa","mpe","mpg"],"video/MP2T":["ts"],"video/msvideo":["avi"],"video/ogg":["ogv"],"video/quicktime":["mov","3gp","moov","qt"],"video/vdo":["vdo"],"video/vivo":["viv","vivo"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["m4u","mxu"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.rn-realvideo":["rv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv","vivo"],"video/vosaic":["vos"],"video/webm":["webm"],"video/x-amt-demorun":["xdr"],"video/x-amt-showrun":["xsr"],"video/x-atomic3d-feature":["fmf"],"video/x-dl":["dl"],"video/x-dv":["dv","dif"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-gl":["gl"],"video/x-isvideo":["isu"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-motion-jpeg":["mjpg"],"video/x-mpeg":["mp2","mp3"],"video/x-mpeq2a":["mp2"],"video/x-ms-asf":["asf","asx"],"video/x-ms-asf-plugin":["asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm","avi"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-qtc":["qtc"],"video/x-scm":["scm"],"video/x-sgi-movie":["movie","mv"],"video/x-smv":["smv"],"windows/metafile":["wmf"],"www/mime":["mime"],"x-conference/x-cooltalk":["ice"],"x-music/x-midi":["mid","midi"],"x-world/x-3dmf":["3dm","3dmf","qd3","qd3d"],"x-world/x-svr":["svr"],"x-world/x-vrml":["vrml","wrl","wrz"],"x-world/x-vrt":["vrt"],"xgl/drawing":["xgz"],"xgl/movie":["xmz"]}');var v,C=r(88436),b=r(8014),w=r(81690);class CoreMimetype{constructor(){}static canBeEmbedded(e){return CoreMimetype.isExtensionInGroup(e,["web_image","web_video","web_audio"])}static cleanExtension(e){if(!e)return e;let n=e.indexOf("?");return n>-1&&(e=e.substring(0,n)),n=e.indexOf("#"),n>-1&&(e=e.substring(0,n)),(e=e.replace(/_.{32}$/,""))&&"."===e[0]&&(e=e.substring(1)),e}static fillGroupMimeInfo(e){const n={},r=[];for(const o in f){const i=f[o];i.type&&i.groups&&i.groups.includes(e)&&(n[i.type]=!0,r.push(o))}CoreMimetype.groupsMimeInfo[e]={mimetypes:Object.keys(n),extensions:r}}static getExtension(e,n){if("application/x-forcedownload"===(e=(e=e||"").split(";")[0])||"application/forcedownload"===e)return n&&CoreMimetype.guessExtensionFromUrl(n);const r=g[e];if(null!=r&&r.length){if(r.length>1&&n){const e=CoreMimetype.guessExtensionFromUrl(n);if(e&&r.includes(e))return e}return r[0]}}static getEmbeddedHtml(e,n){const r=s.H.isFileEntry(e)?e.name:e.filename,o=!s.H.isFileEntry(e)&&e.mimetype?CoreMimetype.getExtension(e.mimetype):r&&CoreMimetype.getFileExtension(r),a=!s.H.isFileEntry(e)&&e.mimetype?e.mimetype:o&&CoreMimetype.getMimeType(o);if(e.mimetype=a,o&&CoreMimetype.canBeEmbedded(o)){const c=CoreMimetype.getExtensionType(o);switch(e.embedType=c,n=(n=null!=n?n:s.H.isFileEntry(e)?i.CoreFile.getFileEntryURL(e):C.CoreFileHelper.getFileUrl(e))&&i.CoreFile.convertFileSrc(n),c){case"image":return`<img src="${n}">`;case"audio":case"video":return[`<${c} controls title="${r}" src="${n}" controlsList="nodownload" class="video-js" id="id_videojs_moodleapp_${w.j.getUniqueId("CoreMimetypeUtils-embedded-media")}">`,`<source src="${n}" type="${a}">`,`</${c}>`].join("");default:return""}}return""}static getExtensionIcon(e,n){const r=CoreMimetype.getExtensionIconName(e)||"unknown";return CoreMimetype.getFileIconForType(r,n)}static getExtensionIconName(e){if(f[e]){if(f[e].icon)return f[e].icon;{const n=f[e].type.split("/")[0];if("video"===n||"text"===n||"image"===n||"document"===n||"audio"===n)return n}}}static getExtensionType(e){var n;return e=CoreMimetype.cleanExtension(e),null===(n=f[e])||void 0===n?void 0:n.string}static getExtensions(e){return e=(e=e||"").split(";")[0],g[e]||[]}static getFileIcon(e,n){const r=CoreMimetype.getFileExtension(e),o=r&&CoreMimetype.getExtensionIconName(r)||"unknown";return CoreMimetype.getFileIconForType(o,n)}static getFileIconForType(e,n){return void 0!==n&&!n.isVersionGreaterEqualThan("4.0")?`assets/img/files_legacy/${e}-64.png`:`assets/img/files/${e}.svg`}static guessExtensionFromUrl(e){var n;const r=b.F.parse(e),o=null==r||null===(n=r.path)||void 0===n?void 0:n.split(".");let i;if(o&&o.length>1){const e=o[o.length-1].toLowerCase();CoreMimetype.EXTENSION_REGEX.test(e)&&(i=e)}return i&&void 0===CoreMimetype.getMimeType(i)?(CoreMimetype.logger.warn(`Guess file extension: Not valid extension ${i}`),void 0):i}static getFileExtension(e){const n=e.lastIndexOf(".");let r;return n>-1&&(r=e.substring(n+1).toLowerCase(),r=CoreMimetype.cleanExtension(r),void 0===CoreMimetype.getMimeType(r))?(CoreMimetype.logger.warn(`Get file extension: Not valid extension ${r}`),void 0):r}static getGroupMimeInfo(e,n){return void 0===CoreMimetype.groupsMimeInfo[e]&&CoreMimetype.fillGroupMimeInfo(e),n?CoreMimetype.groupsMimeInfo[e][n]:CoreMimetype.groupsMimeInfo[e]}static getMimeType(e){var n;if(e)return e=CoreMimetype.cleanExtension(e),null===(n=f[e])||void 0===n?void 0:n.type}static getDeprecatedMimeType(e){var n;return e=CoreMimetype.cleanExtension(e),null===(n=f[e])||void 0===n?void 0:n.deprecated}static getMimetypeDescription(e,n){const r="assets.mimetypes.";let o="",i="",u="";if("object"==typeof e&&s.H.isFileEntry(e)?o=e.name:"object"==typeof e?(o=e.filename||"",i=e.mimetype||""):i=e,o&&(u=CoreMimetype.getFileExtension(o),i||(i=u&&CoreMimetype.getMimeType(u))),!i)return"";u||(u=CoreMimetype.getExtension(i));const p=CoreMimetype.getMimetypeType(i)||"",f=i.split("/"),g={mimetype:i,ext:u||"",mimetype1:f[0],mimetype2:f[1]||""},v={};for(const e in g){const n=g[e];v[e]=n,v[e.toUpperCase()]=n.toUpperCase(),v[a.Ni.capitalize(e)]=a.Ni.capitalize(n)}const C=i.replace(/\+/g,"_"),b=p.replace(/\+/g,"_"),w=c.HT.instant(r+C,{$a:v}),A=c.HT.instant(r+b,{$a:v}),_=c.HT.instant(`${r}default`,{$a:v});let E=i;return w!==r+C?E=w:A!==r+b?E=A:_!==`${r}default`&&(E=_),n&&(E=a.Ni.capitalize(E)),E}static getMimetypeType(e){e=e.split(";")[0];const n=g[e];if(!n)return;const r=n.find((e=>{var n;return null===(n=f[e])||void 0===n?void 0:n.string}));return r?f[r].string:void 0}static getMimetypeIcon(e,n){e=e.split(";")[0];const r=g[e]||[];let o="unknown";for(let e=0;e<r.length;e++){const n=CoreMimetype.getExtensionIconName(r[e]);if(n){o=n;break}}return CoreMimetype.getFileIconForType(o,n)}static getMimeTypeFromUrl(e){return(0,o.A)((function*(){const n=CoreMimetype.guessExtensionFromUrl(e),r=n&&CoreMimetype.getMimeType(n);if(r&&"php"!==n)return r;return(yield p.CoreWS.getRemoteFileMimeType(e))||r||""}))()}static getTranslatedGroupName(e){const n=`assets.mimetypes.group:${e}`,r=c.HT.instant(n);return r!==n?r:e}static isExtensionInGroup(e,n){if(!e)return!1;e=CoreMimetype.cleanExtension(e);const r=f[e]&&f[e].groups;let o=!1;return n.length&&r&&(o=r.some((e=>n.includes(e)))),o}static isStreamedMimetype(e){return e.includes("video")||e.includes("audio")}static removeExtension(e){const n=e.lastIndexOf(".");if(n>-1){const r=e.substring(n+1).toLowerCase();if(void 0!==CoreMimetype.getMimeType(r))return e.substring(0,n)}return e}}(v=CoreMimetype).EXTENSION_REGEX=/^[a-z0-9]+$/,v.logger=u.CoreLogger.getInstance("CoreMimetype"),v.groupsMimeInfo={}},58364:(e,n,r)=>{"use strict";r.d(n,{T:()=>CoreObject});class CoreObject{constructor(){}static consumeKey(e,n){const r=e[n];return delete e[n],r}static deepEquals(e,n){return JSON.stringify(e)===JSON.stringify(n)}static getAllPropertyNames(e){if("object"!=typeof e||null===e||e===Object.prototype)return new Set([]);const n=CoreObject.getAllPropertyNames(Object.getPrototypeOf(e));return Object.getOwnPropertyNames(e).forEach((e=>n.add(e))),n}static isEmpty(e){return 0===Object.keys(e).length}static only(e,n){const r={};if(Array.isArray(n))for(const o of n)r[o]=e[o];else{const o=Object.keys(e);for(const i of o)i.match(n)&&(r[i]=e[i])}return r}static without(e,n){const r={...e};for(const e of n)delete r[e];return r}static withoutEmpty(e){const n={};for(const[r,o]of Object.entries(e))null!=o&&(n[r]=o);return n}static withoutUndefined(e){const n={};for(const[r,o]of Object.entries(e))void 0!==o&&(n[r]=o);return n}static sameAtKeyMissingIsBlank(e,n,r){let o=void 0!==e[r]?e[r]:"",i=void 0!==n[r]?n[r]:"";return"number"!=typeof o&&"boolean"!=typeof o||(o=`${o}`),"number"!=typeof i&&"boolean"!=typeof i||(i=`${i}`),o===i}static sortAndStringify(e){return JSON.stringify(CoreObject.sortProperties(e))}static sortProperties(e){return null==e||"object"!=typeof e||Array.isArray(e)?e:Object.keys(e).sort().reduce(((n,r)=>(n[r]=CoreObject.sortProperties(e[r]),n)),{})}static sortValues(e){if("object"==typeof e&&!Array.isArray(e)){const n=CoreObject.toArrayOfObjects(e,"name","value",!1,!0);return CoreObject.toKeyValueMap(n,"name","value")}return e}static toArray(e){return Object.keys(e).map((n=>e[n]))}static toArrayOfObjects(e,n,r,o,i){const getEntries=(e,o)=>{if(void 0!==o&&null!=o){if(CoreObject.isObject(o)){const n=Object.keys(o);let r=[];return n.forEach((n=>{const i=getEntries(e?`${e}[${n}]`:n,o[n]);i&&(r=r.concat(i))})),r}{const i={};return i[n]=e,i[r]=o,i}}};if(!e)return[];const s=getEntries("",e);return o||i?s.sort(((e,i)=>o?e[n]>=i[n]?1:-1:e[r]>=i[r]?1:-1)):s}static toKeyValueMap(e,n,r,o){const i=o?o.length:0,s={};return e.forEach((e=>{const o=e[n],a=i>0?o.substring(i):o;s[a]=e[r]})),s}static toGetParams(e,n=!0){const r=CoreObject.flatten(e);let o="",i="";for(const e in r){let s=r[e];n&&null==s||("boolean"==typeof s&&(s=s?1:0),o+=`${i+e}=${s}`,i="&")}return o}static prefixKeys(e,n){const r={};return Object.keys(e).forEach((o=>{r[n+o]=e[o]})),r}static enumKeys(e){return Object.keys(e).filter((e=>Number.isNaN(+e)))}static isObject(e){return"object"==typeof e&&null!==e}static flatten(e,n){const r={};for(const o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;const i=e[o];if("object"!=typeof i||Array.isArray(i))r[o]=i;else{const e=CoreObject.flatten(i);for(const i in e){if(!Object.prototype.hasOwnProperty.call(e,i))continue;r[n?`${o}.${i}`:`${o}[${i}]`]=e[i]}}}return r}static basicLeftCompare(e,n,r=0,o=0,i=!0){if("function"==typeof e||"function"==typeof n)return!0;if("object"==typeof e&&"object"==typeof n){if(o>=r)return!0;let i=!0;for(const s in e){"$$hashKey"!=s&&(CoreObject.basicLeftCompare(e[s],n[s],r,o+1)||(i=!1))}return i}if(i&&(void 0===e&&null===n||null===e&&void 0===n))return!0;const s=parseFloat(e),a=parseFloat(n);return isNaN(s)||isNaN(a)?e===n:s==a}}},86552:(e,n,r)=>{"use strict";r.d(n,{j:()=>CoreOpener,n:()=>P});var o=r(10467),i=r(2243),s=r(22693),a=r(88793),c=r(72881),u=r(18022),p=r(52749),f=r(12364),g=r(79555),v=r(74431),C=r(45507),b=r(55554),w=r(8014),A=r(6787),_=r(85190),E=r(49882),I=r(55351),T=r(35132);class CoreOpener{constructor(){}static confirmOpenBrowserIfNeeded(e){return(0,o.A)((function*(){if(!w.F.isHttpURL(e))return;if(yield _.CoreConfig.get(v.CoreConstants.SETTINGS_DONT_SHOW_EXTERNAL_LINK_WARN,0))return;e=e.replace(/token=[^&#]+/gi,"token=secret").replace(/tokenpluginfile\.php\/[^/]+/gi,"tokenpluginfile.php/secret");(yield T.CorePrompts.show(g.HT.instant("core.warnopeninbrowser",{url:e}),"checkbox",{placeholderOrLabel:g.HT.instant("core.dontshowagain")}))&&_.CoreConfig.set(v.CoreConstants.SETTINGS_DONT_SHOW_EXTERNAL_LINK_WARN,1)}))()}static openFile(e,n={}){return(0,o.A)((function*(){e=C.CoreFile.unconvertFileSrc(e);const r=f.A.getFileExtension(e),s=r&&f.A.getMimeType(r);if("text/html"==s&&u.CorePlatform.isAndroid())return CoreOpener.openInApp(e),void 0;if("apk"===r&&u.CorePlatform.isAndroid()){const n=yield b.g.ignoreErrors(a.CoreFilepool.getFileUrlByPath(p.CoreSites.getCurrentSiteId(),C.CoreFile.removeBasePath(e)));throw new i.CoreErrorWithOptions(g.HT.instant("core.cannotinstallapkinfo"),g.HT.instant("core.cannotinstallapk"),n?[{text:g.HT.instant("core.openinbrowser"),handler:()=>CoreOpener.openInBrowser(n)},{text:g.HT.instant("core.cancel"),role:"cancel"}]:void 0)}try{e=decodeURIComponent(e)}catch{}const c=function(){var e=(0,o.A)((function*(e,r){try{CoreOpener.shouldOpenWithDialog(n)?yield g.Mb.showOpenWithDialog(e,r||""):yield g.Mb.open(e,r||"")}catch(n){const o=encodeURI(e);if(e!==o)return yield c(o,r);throw n}}));return function openFile(n,r){return e.apply(this,arguments)}}();try{try{yield c(e,s)}catch(n){if(!r||!n||9!==Number(n.status))throw n;const o=f.A.getDeprecatedMimeType(r);if(!o||o===s)throw n;yield c(e,o)}}catch(n){if(CoreOpener.logger.error(`Error opening file ${e} with mimetype ${s}`),CoreOpener.logger.error("Error: ",JSON.stringify(n)),!r||r.indexOf("/")>-1||r.indexOf("\\")>-1)throw new Error(g.HT.instant("core.erroropenfilenoextension"));throw new Error(g.HT.instant("core.erroropenfilenoapp"))}}))()}static openInBrowser(e,n={}){return(0,o.A)((function*(){var r,o,i;const a=w.F.unfixPluginfileURL(null!==(r=null!==(o=n.originalUrl)&&void 0!==o?o:n.browserWarningUrl)&&void 0!==r?r:e);if(n.showBrowserWarning||void 0===n.showBrowserWarning)try{yield CoreOpener.confirmOpenBrowserIfNeeded(a)}catch{return}null!==(i=p.CoreSites.getCurrentSite())&&void 0!==i&&i.containsUrl(e)&&(e=w.F.addParamsToUrl(e,{lang:yield c.CoreLang.getCurrentLanguage("lms")},{checkAutoLoginUrl:n.originalUrl!==e})),s.OF.logEvent({type:s.qr.OPEN_LINK,link:a}),window.open(e,"_system")}))()}static openOnlineFile(e){return(0,o.A)((function*(){if(u.CorePlatform.isAndroid()){const n=yield b.g.ignoreErrors(f.A.getMimeTypeFromUrl(e));if(!n)throw new Error(g.HT.instant("core.erroropenfilenoextension"));const r={action:g.P2.ACTION_VIEW,url:e,type:n};try{return yield g.P2.startActivity(r),s.OF.logEvent({type:s.qr.OPEN_LINK,link:w.F.unfixPluginfileURL(e)}),void 0}catch(r){throw CoreOpener.logger.error(`Error opening online file ${e} with mimetype ${n}`),CoreOpener.logger.error("Error: ",JSON.stringify(r)),new Error(g.HT.instant("core.erroropenfilenoapp"))}}CoreOpener.openInApp(e)}))()}static shouldOpenWithDialog(e={}){var n;const r=null!==(n=e.iOSOpenFileAction)&&void 0!==n?n:v.CoreConstants.CONFIG.iOSDefaultOpenFileAction;return u.CorePlatform.isIOS()&&r==P.OPEN_WITH}static closeInAppBrowser(){CoreOpener.iabInstance&&CoreOpener.iabInstance.close()}static getInAppBrowserInstance(){return CoreOpener.iabInstance}static isInAppBrowserOpen(){return!!CoreOpener.iabInstance}static openInApp(e,n){var r,o,i,a;if((n=n||{}).usewkwebview="yes",n.enableViewPortScale=null!==(r=n.enableViewPortScale)&&void 0!==r?r:"yes",n.allowInlineMediaPlayback=null!==(o=n.allowInlineMediaPlayback)&&void 0!==o?o:"yes",!n.location&&u.CorePlatform.isIOS()&&0===e.indexOf("file://")&&(n.location="no"),CoreOpener.setInAppBrowserToolbarColors(n),null!==(i=p.CoreSites.getCurrentSite())&&void 0!==i&&i.containsUrl(e)&&(e=w.F.addParamsToUrl(e,{lang:c.CoreLang.getCurrentLanguageSync("lms")},{checkAutoLoginUrl:n.originalUrl!==e})),CoreOpener.iabInstance=g.Nb.create(e,"_blank",n),u.CorePlatform.isMobile()){const e=[],n=CoreOpener.iabInstance.on("loadstart").subscribe((n=>{g.SK.run((()=>{e.push(n.url),e.length>10&&e.shift(),E.z.trigger(E.z.IAB_LOAD_START,n)}))})),r=CoreOpener.iabInstance.on("loadstop").subscribe((e=>{g.SK.run((()=>{E.z.trigger(E.z.IAB_LOAD_STOP,e)}))})),o=CoreOpener.iabInstance.on("message").subscribe((e=>{g.SK.run((()=>{E.z.trigger(E.z.IAB_MESSAGE,e.data)}))})),i=CoreOpener.iabInstance.on("exit").subscribe((e=>{g.SK.run((()=>{n.unsubscribe(),r.unsubscribe(),o.unsubscribe(),i.unsubscribe(),CoreOpener.iabInstance=void 0,E.z.trigger(E.z.IAB_EXIT,e)}))}))}return s.OF.logEvent({type:s.qr.OPEN_LINK,link:w.F.unfixPluginfileURL(null!==(a=n.originalUrl)&&void 0!==a?a:e)}),CoreOpener.iabInstance}static setInAppBrowserToolbarColors(e){if(e.toolbarcolor)return e;let n,r;return"auto"===v.CoreConstants.CONFIG.iabToolbarColors?n=I.a.getToolbarBackgroundColor():v.CoreConstants.CONFIG.iabToolbarColors&&"object"==typeof v.CoreConstants.CONFIG.iabToolbarColors&&(n=v.CoreConstants.CONFIG.iabToolbarColors.background,r=v.CoreConstants.CONFIG.iabToolbarColors.text),n?(r||(r=I.a.isWhiteContrastingBetter(n)?"#ffffff":"#000000"),e.toolbarcolor=n,e.closebuttoncolor=r,e.navigationbuttoncolor=r,e.locationcolor=n,e.locationtextcolor=r,e):(e.locationcolor="#000000",e)}}CoreOpener.logger=A.CoreLogger.getInstance("CoreOpener");var P=function(e){return e.OPEN="open",e.OPEN_WITH="open-with",e}(P||{})},8756:(e,n,r)=>{"use strict";r.d(n,{$:()=>CorePath});var o=r(75383);class CorePath{constructor(){}static calculateRelativePath(e,n){if((e=o.Ni.removeStartingSlash(o.Ni.removeEndingSlash(e)))===(n=o.Ni.removeStartingSlash(o.Ni.removeEndingSlash(n))))return"";const r=""===e?[]:e.split("/"),i=""===n?[]:n.split("/");let s=r.length>0&&i.length>0?r.findIndex(((e,n)=>e!==i[n])):0;-1===s&&(s=r.length);const a=i.slice(s).join("/");return"../".repeat(r.length-s)+a}static changeRelativePath(e,n,r){return CorePath.concatenatePaths(CorePath.calculateRelativePath(r,e),n)}static concatenatePaths(e,n){if(!e)return n;if(!n)return e;const r=e.slice(-1),o=n.charAt(0);return"/"===r&&"/"===o?e+n.substring(1):"/"!==r&&"/"!==o?`${e}/${n}`:e+n}static pathIsAncestor(e,n){const r=o.Ni.removeEndingSlash(e).split("/"),i=o.Ni.removeEndingSlash(n).split("/");return!(r.length>=i.length)&&!r.some(((e,n)=>e!==i[n]))}}},55554:(e,n,r)=>{"use strict";r.d(n,{g:()=>CorePromiseUtils});var o=r(10467),i=r(6787);class CorePromiseUtils{constructor(){}static allPromises(e){return(0,o.A)((function*(){if(!e||!e.length)return;const n=function(){var e=(0,o.A)((function*(e){try{yield e}catch(e){return e}}));return function getPromiseError(n){return e.apply(this,arguments)}}(),r=(yield Promise.all(e.map(n))).find((e=>!!e));if(r)throw r}))()}static allPromisesIgnoringErrors(e){return(0,o.A)((function*(){yield CorePromiseUtils.ignoreErrors(CorePromiseUtils.allPromises(e))}))()}static executeOrderedPromises(e){return(0,o.A)((function*(){const n=[];let r=Promise.resolve();for(const o in e){const i=e[o],s=r.finally((()=>{try{return i.function()}catch(e){return CorePromiseUtils.logger.error(e.message),void 0}}));n.push(s),i.blocking&&(r=s)}yield CorePromiseUtils.allPromises(n)}))()}static ignoreErrors(e,n){return(0,o.A)((function*(){try{return yield e}catch{return n}}))()}static promiseFails(e){return(0,o.A)((function*(){try{return yield e,!1}catch{return!0}}))()}static promiseWorks(e){return(0,o.A)((function*(){try{return yield e,!0}catch{return!1}}))()}static timeoutPromise(e,n){return new Promise(((r,o)=>{let i=!1;const s=setTimeout((()=>{o({timeout:!0}),i=!0}),n);e.then((e=>{i||r(e)})).catch(o).finally((()=>clearTimeout(s)))}))}}CorePromiseUtils.logger=i.CoreLogger.getInstance("CorePromiseUtils")},42370:(e,n,r)=>{"use strict";r.d(n,{p:()=>CoreRedirects});var o=r(10467),i=r(6787),s=r(58364),a=r(99121),c=r(55554);class CoreRedirects{constructor(){}static consumeStorageRedirect(){var e;if(null!==(e=localStorage)&&void 0!==e&&e.getItem)try{const e=localStorage.getItem("CoreRedirect");if(!e)return;localStorage.removeItem("CoreRedirect");const n=JSON.parse(e);s.T.isEmpty(n)||(CoreRedirects.redirect=n)}catch(e){CoreRedirects.logger.error("Error loading redirect data:",e)}}static consumeMemoryRedirect(){const e=CoreRedirects.getRedirect();return CoreRedirects.forgetRedirect(),e&&(!e.timemodified||Date.now()-e.timemodified>3e5)?null:e}static forgetRedirect(){delete CoreRedirects.redirect}static getRedirect(){return CoreRedirects.redirect||null}static storeRedirect(e,n={}){if(n.redirectPath||n.urlToOpen)try{const r={siteId:e,timemodified:Date.now(),...n};localStorage.setItem("CoreRedirect",JSON.stringify(r))}catch{}}static checkRedirect(e){return(0,o.A)((function*(){if(!window.fetch)return!1;const n={redirect:"follow"},r=!!AbortController&&new AbortController;r&&(n.signal=r.signal);try{return(yield c.g.timeoutPromise(window.fetch(e,n),a.CoreWS.getRequestTimeout())).redirected}catch(e){return e.timeout&&r&&r.abort(),!1}}))()}}CoreRedirects.logger=i.CoreLogger.getInstance("CoreRedirects")},97064:(e,n,r)=>{"use strict";r.d(n,{h:()=>CoreSSO});var o=r(10467),i=r(25124);class CoreSSO{constructor(){}static startSSOAuthentication(){CoreSSO.ssoAuthenticationDeferred=new i._;const e=setTimeout((()=>CoreSSO.finishSSOAuthentication()),1e4);CoreSSO.ssoAuthenticationDeferred.then((()=>clearTimeout(e)))}static finishSSOAuthentication(){CoreSSO.ssoAuthenticationDeferred&&(CoreSSO.ssoAuthenticationDeferred.resolve(),CoreSSO.ssoAuthenticationDeferred=void 0)}static isSSOAuthenticationOngoing(){return!!CoreSSO.ssoAuthenticationDeferred}static waitForSSOAuthentication(){return(0,o.A)((function*(){yield CoreSSO.ssoAuthenticationDeferred}))()}}},10025:(e,n,r)=>{"use strict";r.d(n,{O:()=>CoreSubscriptions});var o=r(10467),i=r(53794);class CoreSubscriptions{constructor(){}static once(e,n,r,s){let a=!1,c=null;const runCallback=e=>{a||(a=!0,e())},u=function(){var e=(0,o.A)((function*(){var e;yield i.H.nextTick(),null===(e=c)||void 0===e||e.unsubscribe()}));return function unsubscribe(){return e.apply(this,arguments)}}();return c=e.subscribe({next:e=>{u(),runCallback((()=>n(e)))},error:e=>{u(),runCallback((()=>null==r?void 0:r(e)))},complete:()=>{u(),runCallback((()=>null==s?void 0:s()))}}),()=>{var e;return null===(e=c)||void 0===e?void 0:e.unsubscribe()}}}},14678:(e,n,r)=>{"use strict";r.d(n,{O:()=>CoreSwiper});var o=r(90617),i=r(18022),s=r(38132);class CoreSwiper{constructor(){}static initSwiperIfAvailable(e,n,r){var a;const c=null==n||null===(a=n.nativeElement)||void 0===a?void 0:a.swiper;if(c&&!c.destroyed&&(!e||e.destroyed))return s.S.use([o.Jl]),CoreSwiper.updateOptions(c,r),c.changeLanguageDirection(i.CorePlatform.isRTL?"rtl":"ltr"),c}static updateOptions(e,n){n&&(Object.assign(e.el,n),e.update())}}},75383:(e,n,r)=>{"use strict";r.d(n,{Ni:()=>CoreText,C9:()=>p});var o=r(10467),i=r(79555),s=r(47551);function expectType(e,n){const r=(/^(?:N(?=;)|[bidsSaOCrR](?=:)|[^:]+(?=:))/g.exec(e)||[])[0];if(!r)throw SyntaxError("Invalid input: "+e);switch(r){case"N":return n([null,2]);case"b":return n(function expectBool(e){const n=/^b:([01]);/,[r,o]=n.exec(e)||[];if(!o)throw SyntaxError("Invalid bool value, expected 0 or 1");return["1"===o,null==r?void 0:r.length]}(e));case"i":return n(expectInt(e));case"d":return n(function expectFloat(e){const n=/^d:(NAN|-?INF|(?:\d+\.\d*|\d*\.\d+|\d+)(?:[eE][+-]\d+)?);/,[r,o]=n.exec(e)||[];if(!o)throw SyntaxError("Expected a float value");let i;switch(o){case"NAN":i=Number.NaN;break;case"-INF":i=Number.NEGATIVE_INFINITY;break;case"INF":i=Number.POSITIVE_INFINITY;break;default:i=parseFloat(o)}return[i,null==r?void 0:r.length]}(e));case"s":return n(expectString(e));case"S":return n(expectEscapedString(e));case"a":return function expectArray(e,n){var r;const o=/^a:(\d+):{/,[i,s]=o.exec(e)||[];if(!s)throw SyntaxError("Expected array length annotation");e=e.substring(null==i?void 0:i.length);const a=function expectArrayItems(e,n=0,r){let o,i,s=!1,a=0,c=[];r([c]);for(let u=0;u<n;u++)o=expectKeyOrIndex(e),s||(s="string"==typeof o[0]),e=e.substring(o[1]),a+=o[1],i=expectType(e,r),e=e.substring(i[1]),a+=i[1],c[o[0]]=i[0];s&&(c=Object.assign({},c));return[c,a]}(e,parseInt(s,10),n);if("}"!==e.charAt(a[1]))throw SyntaxError("Expected }");return[a[0],(null!==(r=null==i?void 0:i.length)&&void 0!==r?r:0)+a[1]+1]}(e,n);case"O":return function expectObject(e,n){const r=/^O:(\d+):"([^"]+)":(\d+):\{/,[o,,i,s]=r.exec(e)||[];if(!o)throw SyntaxError("Invalid input");if("stdClass"!==i)throw SyntaxError(`Unsupported object type: ${i}`);let a=o.length;const c=parseInt(s,10),u={};n([u]),e=e.substring(a);for(let r=0;r<c;r++){const r=expectKeyOrIndex(e);e=e.substring(r[1]),a+=r[1];const o=expectType(e,n);e=e.substring(o[1]),a+=o[1],r[0]&&(u[r[0]]=o[0])}if("}"!==e.charAt(0))throw SyntaxError("Expected }");return[u,a+1]}(e,n);case"C":return function expectClass(e,n){throw Error("Not yet implemented")}();case"r":case"R":return function expectReference(e,n){const r=/^[rR]:([1-9]\d*);/,[o,i]=r.exec(e)||[];if(!o)throw SyntaxError("Expected reference value");return[n.get(parseInt(i,10)-1),o.length]}(e,n);default:throw SyntaxError(`Invalid or unsupported data type: ${r}`)}}function expectInt(e){const[n,r]=/^i:([+-]?\d+);/.exec(e)||[];if(!r)throw SyntaxError("Expected an integer value");return[parseInt(r,10),null==n?void 0:n.length]}function readBytes(e,n,r=!1){let o=0,i="",s=0;const a=e.length;let c=!1,u=0;for(;o<n&&s<a;){let n=e.charAt(s);const a=n.charCodeAt(0),p=a>=55296&&a<=56319,f=a>=56320&&a<=57343;r&&"\\"===n&&(n=String.fromCharCode(parseInt(e.substring(s+1,s+3),16)),u++,s+=2),s++,o+=p||f&&c?2:a>2047?3:a>127?2:1,o+=c&&!f?1:0,i+=n,c=p}return[i,o,u]}function expectString(e){const[n,r]=/^s:(\d+):"/g.exec(e)||[];if(!n)throw SyntaxError("Expected a string value");const o=parseInt(r,10);e=e.substring(n.length);let[i,s]=readBytes(e,o);if(s!==o)throw SyntaxError(`Expected string of ${o} bytes, but got ${s}`);if(!(e=e.substring(i.length)).startsWith('";'))throw SyntaxError('Expected ";');return[i,n.length+i.length+2]}function expectEscapedString(e){const[n,r]=/^S:(\d+):"/g.exec(e)||[];if(!n)throw SyntaxError("Expected an escaped string value");const o=parseInt(r,10);e=e.substring(n.length);let[i,s,a]=readBytes(e,o,!0);if(s!==o)throw SyntaxError(`Expected escaped string of ${o} bytes, but got ${s}`);if(!(e=e.substring(i.length+2*a)).startsWith('";'))throw SyntaxError('Expected ";');return[i,n.length+i.length+2]}function expectKeyOrIndex(e){try{return expectString(e)}catch(e){}try{return expectEscapedString(e)}catch(e){}try{return expectInt(e)}catch(e){throw SyntaxError("Expected key or index")}}function unserialize(e){try{return"string"==typeof e&&expectType(e,function initCache(){const e=[],n=function cache(n){return e.push(n[0]),n};return n.get=n=>{if(n>=e.length)throw RangeError(`Can't resolve reference ${n+1}`);return e[n]},n}())[0]}catch(e){return console.error(e),!1}}class Locutus{static unserialize(e){return unserialize(e)}static substrReplace(e,n,r,o){return function substr_replace(e,n,r,o){return r<0&&(r+=e.length),(o=void 0!==o?o:e.length)<0&&(o=o+e.length-r),[e.slice(0,r),n.substring(0,o),n.slice(o),e.slice(r+o)].join("")}(e,n,r,o)}}var a=r(75629),c=r(35161);class CoreText{constructor(){}static addEndingSlash(e){return e?"/"!=e.slice(-1)?`${e}/`:e:""}static addStartingSlash(e=""){return"/"===e[0]?e:`/${e}`}static buildMessage(e){let n="";return e.forEach((e=>{e&&(n+=`<p>${e}</p>`)})),n}static bytesToSize(e,n=2){if(null==e||e<0)return i.HT.instant("core.notapplicable");n<0&&(n=2);const r=["core.sizeb","core.sizekb","core.sizemb","core.sizegb","core.sizetb"],o=i.HT.instant(r);let s=0;if(e>=1024){for(;e>=1024;)s++,e/=1024;e=Number(Math.round(parseFloat(e+"e+"+n))+"e-"+n)}return i.HT.instant("core.humanreadablesize",{size:e,unit:o[r[s]]})}static copyToClipboard(e){return(0,o.A)((function*(){try{yield i.B0.copy(e)}catch{const n=document.createElement("textarea");n.innerHTML=e,n.select(),n.setSelectionRange(0,99999),document.execCommand("copy")}s.CoreToasts.show({message:"core.copiedtoclipboard",translateMessage:!0})}))()}static countWords(e){if(!e||"string"!=typeof e)return 0;let n;e=(e=e.replace(/(<\/(?!a>|b>|del>|em>|i>|ins>|s>|small>|span>|strong>|sub>|sup>|u>)\w+>|<br>|<br\s*\/>)/gi,"$1 ")).replace(/(<([^>]+)>)/gi,""),e=CoreText.decodeHTMLEntities(e);try{n=e.split(/[\p{Z}\p{Cc}—–]+/u)}catch{n=e.split(/\s+/)}return n.filter((e=>e)).length}static cleanTags(e,n={}){return e?(e=e.replace(/(<([^>]+)>)/gi,""),e=(0,c.B)(e).textContent||"",e=n.trim?e.trim():e,e=CoreText.replaceNewLines(e,n.singleLine?" ":"<br>")):""}static decodeHTML(e){return null==e||"number"==typeof e&&isNaN(e)?"":"string"!=typeof e?`${e}`:e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&nbsp;/g," ")}static decodeHTMLEntities(e){return e&&(e=(0,c.B)(e).textContent||""),e}static escapeForRegex(e){return e&&"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):""}static escapeHTML(e,n=!0){return null==e||"number"==typeof e&&isNaN(e)?"":"string"!=typeof e?`${e}`:(e=e.replace(n?/&/g:/&(?!amp;)(?!lt;)(?!gt;)(?!quot;)(?!#039;)/g,"&amp;")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}static formatHtmlLines(e){if(!e)return"";const n=CoreText.hasHTMLTags(e);return-1===e.indexOf("<p>")&&(e=`<p>${e}</p>`),n?e:CoreText.replaceNewLines(e,"<br>")}static hasHTMLTags(e){return/<[a-z][\s\S]*>/i.test(e)}static hasUnicode(e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>55295)return!0;return!1}static hasUnicodeData(e){for(const n in e)if("object"!=typeof e[n]){if("string"==typeof e[n]&&CoreText.hasUnicode(e[n]))return!0}else if(CoreText.hasUnicodeData(e[n]))return!0;return!1}static highlightText(e,n){if(!e||"string"!=typeof e)return"";if(!n)return e;const r=new RegExp(`(${n})`,"gi");return e.replace(r,'<mark class="matchtext">$1</mark>')}static matchesGlob(e,n){return n=n.replace(/\*\*/g,"%RECURSIVE_MATCH%").replace(/\*/g,"%LOCAL_MATCH%").replace(/\?/g,"%CHARACTER_MATCH%"),n=(n=CoreText.escapeForRegex(n)).replace(/%RECURSIVE_MATCH%/g,".*").replace(/%LOCAL_MATCH%/g,"[^/]*").replace(/%CHARACTER_MATCH%/g,"[^/]"),new RegExp(`^${n}$`).test(e)}static parseJSON(e,n,r){try{return JSON.parse(e)}catch(e){r&&r(e)}if(void 0!==n)return n;throw new a.CoreError("JSON cannot be parsed and not default value has been provided")}static processHTML(e,n){const r=(0,c.B)(e);return n(r),r.innerHTML}static removeSpecialCharactersForFiles(e){return e&&"string"==typeof e?e.replace(/[#:/?\\]+/g,"_"):""}static removeEndingSlash(e){return e?"/"==e.slice(-1)?e.substring(0,e.length-1):e:""}static removeStartingSlash(e=""){return"/"!==e[0]?e:e.substring(1)}static replaceArguments(e,n={},r){let o=null;for(;o=e.match(/\{\{([^}]+)\}\}/);){var i;const s=o[1].trim(),a=null!==(i=n[s])&&void 0!==i?i:"",c=r?encodeURIComponent(a):a;e=e.replace(`{{${s}}}`,c)}return e}static replaceNewLines(e,n){return e&&"string"==typeof e?e.replace(/(?:\r\n|\r|\n)/g,n):""}static roundToDecimals(e,n=2){const r=Math.pow(10,n);return Math.round(e*r)/r}static s(e){return e?CoreText.escapeHTML(e).replace(/&amp;#(\d+|x[0-9a-f]+);/i,"&#$1;"):""}static shortenText(e,n){if(e.length>n){const r=(e=e.substring(0,n)).lastIndexOf(" ");r>0&&(e=e.substring(0,r)),e+="&hellip;"}return e}static stripUnicode(e){let n="";for(let r=0;r<e.length;r++)e.charCodeAt(r)<=55295&&(n+=e.charAt(r));return n}static substrReplace(e,n,r,o){return Locutus.substrReplace(e,n,r,o)}static trimCharacter(e,n){const r=CoreText.escapeForRegex(n),o=new RegExp(`^${r}+|${r}+$`,"g");return e.replace(o,"")}static twoDigits(e){return Number(e)<10?`0${e}`:`${e}`}static capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}static unserialize(e){return Locutus.unserialize(e)}}var u=function(e){return e[e.FORMAT_MOODLE=0]="FORMAT_MOODLE",e[e.FORMAT_HTML=1]="FORMAT_HTML",e[e.FORMAT_PLAIN=2]="FORMAT_PLAIN",e[e.FORMAT_MARKDOWN=4]="FORMAT_MARKDOWN",e}(u||{});const p=u.FORMAT_HTML},24742:(e,n,r)=>{"use strict";r.d(n,{j:()=>u});var o=r(10467),i=r(79555),s=r(74431),a=r(94339),c=r(18022);let u=(()=>{var e;class CoreTime{constructor(){}static initialize(){return(0,o.A)((function*(){const e=[r.e(81047).then(r.t.bind(r,81047,23)),r.e(82807).then(r.t.bind(r,82807,23)),r.e(16563).then(r.t.bind(r,16563,23)),r.e(73607).then(r.t.bind(r,73607,23)),r.e(34543).then(r.t.bind(r,34543,23)),r.e(24955).then(r.t.bind(r,24955,23)),r.e(35859).then(r.t.bind(r,35859,23))];c.CorePlatform.isAutomated()&&e.push(r.e(50902).then(r.t.bind(r,50902,23)));(yield Promise.all(e)).map((e=>{a.yf.extend(e.default)}));const n={thresholds:[{l:"s",r:59,d:"second"},{l:"m",r:1},{l:"mm",r:59,d:"minute"},{l:"h",r:1},{l:"hh",r:23,d:"hour"},{l:"d",r:1},{l:"dd",r:29,d:"day"},{l:"M",r:1},{l:"MM",r:11,d:"month"},{l:"y",r:1},{l:"yy",r:1/0,d:"year"}],rounding:Math.floor},o=yield r.e(85164).then(r.t.bind(r,85164,23));a.yf.extend(o.default,n)}))()}static formatTime(e,n=2){n=n||5;const r=Math.abs(e);if(!r)return i.HT.instant("core.now");const o=Math.floor(r/s.CoreConstants.SECONDS_YEAR);let a=r-o*s.CoreConstants.SECONDS_YEAR;const c=Math.floor(a/s.CoreConstants.SECONDS_DAY);a-=c*s.CoreConstants.SECONDS_DAY;const u=Math.floor(a/s.CoreConstants.SECONDS_HOUR);a-=u*s.CoreConstants.SECONDS_HOUR;const p=Math.floor(a/s.CoreConstants.SECONDS_MINUTE),f=a-p*s.CoreConstants.SECONDS_MINUTE,g=i.HT.instant("core."+(1===f?"sec":"secs")),v=i.HT.instant("core."+(1===p?"min":"mins")),C=i.HT.instant("core."+(1===u?"hour":"hours")),b=i.HT.instant("core."+(1===c?"day":"days")),w=i.HT.instant("core."+(1===o?"year":"years")),A=[];return n&&o&&(A.push(`${o} ${w}`),n--),n&&c&&(A.push(`${c} ${b}`),n--),n&&u&&(A.push(`${u} ${C}`),n--),n&&p&&(A.push(`${p} ${v}`),n--),n&&f&&(A.push(`${f} ${g}`),n--),A.join(" ")}static formatTimeShort(e){const n=Math.floor(e/60),r=e-60*n,o=[];return n>0&&o.push(`${n}'`),(r>0||0===n)&&o.push(`${r}''`),o.join(" ")}static once(e){let n=!1;return(...r)=>{n||(n=!0,e.apply(null,r))}}static translateLegacyTimezone(e){var n;return null!==(n=CoreTime.LEGACY_TIMEZONES[e])&&void 0!==n?n:e}static ensureMilliseconds(e){return e<1e10?1e3*e:e}static ensureSeconds(e){return e>1e10?Math.round(e/1e3):e}static readableTimestamp(){return(0,a.yf)().format("YYYYMMDDHHmmss")}static timestamp(){return(0,a.yf)().unix()}static convertPHPToJSDateFormat(e){if("string"!=typeof e)return"";let n="",r=!1;for(let o=0;o<e.length;o++){let i=e[o];"%"===i?(o++,i+=e[o]||"",r&&(r=!1,n+="]"),n+=void 0!==CoreTime.FORMAT_REPLACEMENTS[i]?CoreTime.FORMAT_REPLACEMENTS[i]:i):(r||(r=!0,n+="["),n+=i)}return r&&(n+="]"),n}static fixFormatForDatetime(e){if(!e)return"";let n=e.replace(/[[\]]/g,"");return-1!==n.indexOf("A")&&(n=n.replace(/ ?A/g,""),n=n.replace(/h/g,"H")),n}static userDate(e,n,r=!0,o=!0,s=!0){return n=i.HT.instant(n||"core.strftimedaydatetime"),o&&(n=n.replace(/%d/g,"%e")),s&&(n=n.replace("%I","%l")),r&&(n=CoreTime.convertPHPToJSDateFormat(n)),(0,a.yf)(e).format(n)}static toDatetimeFormat(e){return(0,a.yf)(e).format("YYYY-MM-DDTHH:mm")}static getLocalizedDateFormat(e){return a.yf.localeData().longDateFormat(e)}static getMidnightForTimestamp(e){return void 0===e?(0,a.yf)().startOf("day").unix():(0,a.yf)(1e3*e).startOf("day").unix()}static getDatetimeDefaultMax(){return String((0,a.yf)().year()+20)}static getDatetimeDefaultMin(){return String((0,a.yf)().year()-20)}}return(e=CoreTime).FORMAT_REPLACEMENTS={"%a":"ddd","%A":"dddd","%d":"DD","%e":"D","%j":"DDDD","%u":"E","%w":"e","%U":"ww","%V":"WW","%W":"ww","%b":"MMM","%B":"MMMM","%h":"MMM","%m":"MM","%C":"","%g":"GG","%G":"GGGG","%y":"YY","%Y":"YYYY","%H":"HH","%k":"H","%I":"hh","%l":"h","%M":"mm","%p":"A","%P":"a","%r":"hh:mm:ss A","%R":"HH:mm","%S":"ss","%T":"HH:mm:ss","%X":"LTS","%z":"ZZ","%Z":"ZZ","%c":"LLLL","%D":"MM/DD/YY","%F":"YYYY-MM-DD","%s":"X","%x":"L","%n":"\n","%t":"\t","%%":"%"},e.LEGACY_TIMEZONES={"-13.0":"Australia/Perth","-12.5":"Etc/GMT+12","-12.0":"Etc/GMT+12","-11.5":"Etc/GMT+11","-11.0":"Etc/GMT+11","-10.5":"Etc/GMT+10","-10.0":"Etc/GMT+10","-9.5":"Etc/GMT+9","-9.0":"Etc/GMT+9","-8.5":"Etc/GMT+8","-8.0":"Etc/GMT+8","-7.5":"Etc/GMT+7","-7.0":"Etc/GMT+7","-6.5":"Etc/GMT+6","-6.0":"Etc/GMT+6","-5.5":"Etc/GMT+5","-5.0":"Etc/GMT+5","-4.5":"Etc/GMT+4","-4.0":"Etc/GMT+4","-3.5":"Etc/GMT+3","-3.0":"Etc/GMT+3","-2.5":"Etc/GMT+2","-2.0":"Etc/GMT+2","-1.5":"Etc/GMT+1","-1.0":"Etc/GMT+1","-0.5":"Etc/GMT",0:"Etc/GMT","0.0":"Etc/GMT",.5:"Etc/GMT","1.0":"Etc/GMT-1",1.5:"Etc/GMT-1","2.0":"Etc/GMT-2",2.5:"Etc/GMT-2","3.0":"Etc/GMT-3",3.5:"Etc/GMT-3","4.0":"Etc/GMT-4",4.5:"Asia/Kabul","5.0":"Etc/GMT-5",5.5:"Asia/Kolkata","6.0":"Etc/GMT-6",6.5:"Asia/Rangoon","7.0":"Etc/GMT-7",7.5:"Etc/GMT-7","8.0":"Etc/GMT-8",8.5:"Etc/GMT-8","9.0":"Etc/GMT-9",9.5:"Australia/Darwin","10.0":"Etc/GMT-10",10.5:"Etc/GMT-10","11.0":"Etc/GMT-11",11.5:"Etc/GMT-11","12.0":"Etc/GMT-12",12.5:"Etc/GMT-12","13.0":"Etc/GMT-13"},CoreTime})()},8014:(e,n,r)=>{"use strict";r.d(n,{F:()=>CoreUrl});var o=r(8756),i=r(75383),s=r(18022),a=r(74431),c=r(89615),u=r(72881),p=r(79555);class CoreUrl{constructor(){}static buildAddressURL(e){return p.up.bypassSecurityTrustUrl(CoreUrl.buildMapsURL({query:e}))}static buildMapsURL(e={}){if(e.coordinates&&(void 0!==e.coordinates.latitude||void 0!==e.coordinates.longitude)){const n=void 0!==e.coordinates.latitude?e.coordinates.latitude.toFixed(6):"0.0000",r=void 0!==e.coordinates.longitude?e.coordinates.longitude.toFixed(6):"0.0000";return s.CorePlatform.isAndroid()?`geo:${n},${r}`:s.CorePlatform.isIOS()?`https://maps.apple.com/?ll=${n},${r}&near=${n},${r}`:`http://maps.google.com?q=${n},${r}`}if(e.query){var n;const r=CoreUrl.parse(e.query);if(null!=r&&r.protocol)return e.query;const o=encodeURIComponent(null!==(n=e.query)&&void 0!==n?n:"");return s.CorePlatform.isAndroid()?`geo:0,0?q=${o}`:s.CorePlatform.isIOS()?`http://maps.apple.com?q=${o}`:`http://maps.google.com?q=${o}`}return s.CorePlatform.isAndroid()?"geo:":s.CorePlatform.isIOS()?"http://maps.apple.com?q":"http://maps.google.com"}static parse(e){const n=(e=e.trim()).match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!n)return null;const r=n[4]||"",[o,i]=r.split("@").reverse(),[s,a]=o.split(":"),[c,u]=i?i.split(":"):[];return{protocol:n[2]||void 0,domain:s||void 0,port:a||void 0,credentials:i||void 0,username:c||void 0,password:u||void 0,path:n[5]||void 0,query:n[7]||void 0,fragment:n[9]||void 0}}static assemble(e){var n,r;const o=e.protocol,i=e.credentials||(e.password?`${e.username}:${e.password}`:e.username);return(o?`${o}://`:"")+(i?`${i}@`:"")+(null!==(n=e.domain)&&void 0!==n?n:"")+(e.port?`:${e.port}`:"")+(null!==(r=e.path)&&void 0!==r?r:"")+(e.query?`?${e.query}`:"")+(e.fragment?`#${e.fragment}`:"")}static guessMoodleDomain(e){e.match(/^https?:\/\//)||(e=`https://${e}`);const n=e.match(new RegExp(`^https?://(.*?)(${["/my/?","/\\?redirect=0","/index\\.php","/course/view\\.php","\\/login/index\\.php","/mod/page/view\\.php"].join("|")})`));if(n)return n[1];const r=CoreUrl.parse(e);return null!=r&&r.domain?r.domain:null}static getValidMoodleUrlPattern(){return new RegExp(/^(([^:/?# ]+):)?(\/\/([^/?# ]*))?([^?# ]*)(\?([^#]*))?(#(.*))?$/)}static isValidMoodleUrl(e){return CoreUrl.getValidMoodleUrlPattern().test(e.trim())}static removeProtocol(e){return CoreUrl.removeUrlParts(e,"protocol")}static sameDomainAndPath(e,n){e.match(/^[^/:.?]*:\/\//)||(e=`https://${e}`),n.match(/^[^/:.?]*:\/\//)||(n=`https://${n}`);const r=CoreUrl.parse(e),o=CoreUrl.parse(n);return r&&Object.entries(r).forEach((([e,n])=>r[e]=null==n?void 0:n.toLowerCase())),o&&Object.entries(o).forEach((([e,n])=>o[e]=null==n?void 0:n.toLowerCase())),(null==r?void 0:r.domain)===(null==o?void 0:o.domain)&&i.Ni.removeEndingSlash(null==r?void 0:r.path)===i.Ni.removeEndingSlash(null==o?void 0:o.path)}static getUrlAnchor(e){const n=CoreUrl.parse(e);return null!=n&&n.fragment?`#${n.fragment}`:void 0}static removeUrlAnchor(e){return CoreUrl.removeUrlParts(e,"fragment")}static toAbsoluteURL(e,n){const r=CoreUrl.parse(n);if(null!=r&&r.protocol)return n;const i=CoreUrl.parse(e);if(n.startsWith("//"))return`${(null==i?void 0:i.protocol)||"https"}:${n}`;const s=CoreUrl.assemble({protocol:(null==i?void 0:i.protocol)||"https",domain:null==i?void 0:i.domain,port:null==i?void 0:i.port,credentials:null==i?void 0:i.credentials,path:n.startsWith("/")||null==i?void 0:i.path});return o.$.concatenatePaths(s,n)}static toRelativeURL(e,n){const r=CoreUrl.parse(e);if(e=CoreUrl.removeUrlParts(e,["protocol","query","fragment"]),n.includes(e))return i.Ni.removeStartingSlash(CoreUrl.removeUrlParts(n,"protocol").replace(e,""));if(!n.startsWith("/"))return n;if(null==r||!r.path)return n;const o=n.replace(new RegExp(`^${i.Ni.escapeForRegex(r.path)}`,"i"),"");return o!==n?i.Ni.removeStartingSlash(o):n}static isVimeoVideoUrl(e){return!!e.match(/https?:\/\/player\.vimeo\.com\/video\/[0-9]+/)}static getVimeoPlayerUrl(e,n){const r=e.match(/https?:\/\/player\.vimeo\.com\/video\/([0-9]+)([?&]+h=([a-zA-Z0-9]*))?/);if(!r||!r[1])return;let i=`${o.$.concatenatePaths(n.getURL(),"/media/player/vimeo/wsplayer.php?video=")+r[1]}&token=${n.getToken()}`,s=r[3];if(!s){const n=e.match(/https?:\/\/player\.vimeo\.com\/video\/([0-9]+)(\/([a-zA-Z0-9]+))?/);s=n&&n[3]}return s&&(i+=`&h=${s}`),i}static addOrRemoveWWW(e){return e&&(e=e.match(/http(s)?:\/\/www\./)?e.replace("www.",""):(e=e.replace("https://","https://www.")).replace("http://","http://www.")),e}static addParamsToUrl(e,n,r={}){var o;const i=r.checkAutoLoginUrl?CoreUrl.extractUrlParams(e):void 0;let s=null!==(o=null==i?void 0:i.urltogo)&&void 0!==o?o:e;const a=s.split("#");s=a[0];let c=-1!==s.indexOf("?")?"&":"?";for(const e in n){let o=n[e];r.boolToNumber&&"boolean"==typeof o&&(o=o?"1":"0"),"object"!=typeof o&&void 0!==o&&(s+=`${c+e}=${o}`,c="&")}return a.length>1&&(a.shift(),s+=`#${a.join("#")}`),r.anchor&&(s+=`#${r.anchor}`),null!=i&&i.urltogo?e.replace(encodeURIComponent(i.urltogo),encodeURIComponent(s)):s}static buildLink(e,n){return`<a href="${e}">${n}</a>`}static canUseTokenPluginFile(e,n,r){return!(a.CoreConstants.CONFIG.disableTokenFile||!r||e.match(/[&?]file=/)||0!==e.indexOf(o.$.concatenatePaths(n,"pluginfile.php"))&&0!==e.indexOf(o.$.concatenatePaths(n,"webservice/pluginfile.php"))||c.o.sourceUsesJavascriptPlayer({src:e}))}static decodeURI(e){try{return decodeURI(e)}catch{}return e}static decodeURIComponent(e){try{return decodeURIComponent(e)}catch{}return e}static extractUrlParams(e){const n="@@@SUBPARAMS@@@",r={},o=e.split("#"),i=o[0].split("?");let s;return i.length>2&&(i.splice(0,2),s=`?${i.join("?")}`,o[0]=o[0].replace(s,n)),o[0].replace(/[?&]+([^=&]+)=?([^&]*)?/gi,((e,o,i)=>(r[o]=void 0!==i?CoreUrl.decodeURIComponent(i):"",s&&(r[o]=r[o].replace(n,s)),e))),o.length>1&&(o.shift(),r.urlHash=o.join("#")),r}static fixPluginfileURL(e,n,r,s){if(!e)return"";e=e.replace(/&amp;/g,"&");const a=s&&CoreUrl.canUseTokenPluginFile(e,r,s);return(a||-1==e.indexOf("token="))&&CoreUrl.isPluginFileUrl(e)&&0===e.indexOf(i.Ni.addEndingSlash(r))?(a?e=e.replace(/(\/webservice)?\/pluginfile\.php/,`/tokenpluginfile.php/${s}`):(0===e.indexOf(o.$.concatenatePaths(r,"pluginfile.php"))&&(e=e.replace("/pluginfile","/webservice/pluginfile")),e=CoreUrl.addParamsToUrl(e,{token:n})),CoreUrl.addParamsToUrl(e,{offline:"1",lang:u.CoreLang.getCurrentLanguageSync("lms")})):e}static formatURL(e){return e=e.trim(),/^http(s)?:\/\/.*/i.test(e)||(e=`https://${e}`),e=(e=(e=e.replace(/^http/i,"http")).replace(/^https/i,"https")).replace(/\/$/,"")}static getYoutubeEmbedUrl(e){if(!e)return;let n="";const r={};let o=(e=i.Ni.decodeHTML(e)).match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);if(o&&11===o[2].length&&(n=o[2]),n){if(o=e.match(/[?&]list=([^#&?]+)/),o&&o[1]&&(r.list=o[1]),o=e.match(/[?&]start=(\d+)/),o&&o[1])r.start=parseInt(o[1],10).toString();else if(o=e.match(/[?&]t=(\d+h)?(\d+m)?(\d+s)?/),o){const e=(o[1]?3600*parseInt(o[1],10):0)+(o[2]?60*parseInt(o[2],10):0)+(o[3]?parseInt(o[3],10):0);r.start=e.toString()}return CoreUrl.addParamsToUrl(`https://www.youtube.com/embed/${n}`,r)}}static getLastFileWithoutParams(e){var n,r;const o=CoreUrl.parse(e);if(!o)return"";return null!==(r=(null!==(n=o.path)&&void 0!==n?n:"").split("/").pop())&&void 0!==r?r:""}static getPluginFileArgs(e){let n=[];if(CoreUrl.isPluginFileUrl(e)){n=e.substring(e.indexOf("/pluginfile.php")+16).split("/")}else if(CoreUrl.isTokenPluginFileUrl(e)){n=e.substring(e.indexOf("/tokenpluginfile.php")+21).split("/"),n.shift()}if(!(n.length<3))return n}static getUrlProtocol(e){var n;return null===(n=CoreUrl.parse(e))||void 0===n?void 0:n.protocol}static getUsernameFromUrl(e){if(e.indexOf("@")<0)return;const n=e.replace(/^[^?@/]*:\/\//,"").match(/[^@]*/);if(n&&n.length&&!n[0].match(/[/|?]/)){return n[0].split(":")[0]}}static isAbsoluteURL(e){return/^[^:]{2,}:\/\//i.test(e)||/^(tel:|mailto:|geo:)/.test(e)}static isDownloadableUrl(e){return CoreUrl.isPluginFileUrl(e)||CoreUrl.isTokenPluginFileUrl(e)||CoreUrl.isThemeImageUrl(e)||CoreUrl.isGravatarUrl(e)}static isGravatarUrl(e){return-1!==(null==e?void 0:e.indexOf("gravatar.com/avatar"))}static isHttpURL(e){return/^https?:\/\/.+/i.test(e)}static isLocalFileUrl(e){const n=CoreUrl.parse(e);return CoreUrl.isLocalFileUrlScheme((null==n?void 0:n.protocol)||"",(null==n?void 0:n.domain)||"")}static isLocalFileUrlScheme(e,n){return!!e&&("cdvfile"===(e=e.toLowerCase())||"file"===e||"filesystem"===e||e===a.CoreConstants.CONFIG.ioswebviewscheme||s.CorePlatform.isMobile()&&"http"===e&&"localhost"===n)}static isPluginFileUrl(e){return-1!==e.indexOf("/pluginfile.php")}static isTokenPluginFileUrl(e){return-1!==e.indexOf("/tokenpluginfile.php")}static isThemeImageUrl(e,n){return n?e.startsWith(`${n}/theme/image.php`):-1!==(null==e?void 0:e.indexOf("/theme/image.php"))}static getThemeImageUrlParam(e,n,r){if(!CoreUrl.isThemeImageUrl(e,r))return"";const o=e.match("/theme/image.php/(.*)");if(null!=o&&o[1]){const e=o[1].split("/");if(e.length<4)return"";const r=e.slice(3).join("/");switch(n){case"theme":return e[0];case"component":return e[1];case"rev":return e[2];case"image":return CoreUrl.removeUrlParts(r,["query","fragment"]);default:return CoreUrl.extractUrlParams(r)[n]||""}}const i=CoreUrl.extractUrlParams(e);switch(n){case"theme":return i[n]||"standard";case"component":return i[n]||"core";case"rev":return i[n]||"-1";case"svg":return i[n]||"1";default:return i[n]||""}}static removeUrlParts(e,n){return e?(Array.isArray(n)||(n=[n]),n.forEach((n=>{var r;switch(n){case"www":e=(e=e.replace(/^www./,"")).replace(/\/\/www./,"//");break;case"protocol":e=e.replace(/^(.*:)?\/\//,"");break;case"query":e=(null===(r=e.match(/^[^?]+/))||void 0===r?void 0:r[0])||"";break;case"fragment":e=e.split("#")[0]}})),e):e}static unfixPluginfileURL(e,n){return e?(e=e.replace(/&amp;/g,"&"),n&&0!==e.indexOf(i.Ni.addEndingSlash(n))?e:e=(e=(e=e.replace(/\/tokenpluginfile\.php\/[^/]+\//,"/pluginfile.php/")).replace(/\/webservice\/pluginfile\.php\//,"/pluginfile.php/")).replace(/([?&])token=[^&]*&?/,"$1")):""}}},81690:(e,n,r)=>{"use strict";r.d(n,{j:()=>CoreUtils});var o,i=r(79555),s=r(6787),a=r(58364),c=r(87809);class CoreUtils{constructor(){}static clone(e,n=0){if(n>=20)return CoreUtils.logger.error("Max depth reached when cloning object.",e),e;if(c.H.valueIsFileEntry(e))return e;if(Array.isArray(e)){const r=[];for(let o=0;o<e.length;o++)r[o]=CoreUtils.clone(e[o],n+1);return r}if(a.T.isObject(e)){if(e.toString&&-1!=CoreUtils.DONT_CLONE.indexOf(e.toString()))return e;const r={};for(const o in e)r[o]=CoreUtils.clone(e[o],n+1);return r}return e}static formatFloat(e){if(null==e||"boolean"==typeof e)return"";const n=i.HT.instant("core.decsep");return String(e).replace(".",n)}static formatTree(e,n="parent",r="id",o=0,i=5){const s={},a={},c=[];return e.forEach(((e,n)=>{const o=e[r];void 0===o&&CoreUtils.logger.error(`Node with incorrect ${r}:${o} found on formatTree`),void 0===e.children&&(e.children=[]),s[o]=n})),e.forEach((u=>{const p=u[r],f=u[n];if(void 0!==p&&void 0!==f||CoreUtils.logger.error(`Node with incorrect ${r}:${p}\n                    or ${n}:${f} found on formatTree`),f!==o){const r=e[s[f]];if(r)if(a[f]==i){const o=r[n];o?(e[s[o]].children.push(u),a[p]=a[f],u[n]=o):CoreUtils.logger.error(`Node parent of parent:${o} not found on formatTree`)}else r.children.push(u),a[p]=a[f]+1;else CoreUtils.logger.error(`Node parent:${f} not found on formatTree`)}else c.push(u),a[p]=1})),c}static getUniqueId(e){return CoreUtils.uniqueIds[e]||(CoreUtils.uniqueIds[e]=0),++CoreUtils.uniqueIds[e]}static isFalseOrZero(e){return void 0!==e&&(!1===e||"false"===e||0===parseInt(e,10))}static isTrueOrOne(e){return void 0!==e&&(!0===e||"true"===e||1===parseInt(e,10))}static makeMenuFromList(e,n,r=",",o){const i=e.split(r).map(((e,n)=>({label:e.trim(),value:n+1})));return n&&i.unshift({label:n,value:o||0}),i}static unformatFloat(e,n){if(void 0===e)return!1;if(null==e)return"";if(""==(e=(e=String(e)).trim()))return"";e=(e=e.replace(" ","")).replace(i.HT.instant("core.decsep"),".");const r=Number(e);return!(n&&(!isFinite(r)||isNaN(r)))&&r}static debounce(e,n){let r;return(...o)=>{clearTimeout(r),r=window.setTimeout((()=>e.apply(null,o)),n)}}static throttle(e,n){let r=!1;return(...o)=>{r||(e.apply(null,o),r=!0,setTimeout((()=>{r=!1}),n))}}}(o=CoreUtils).DONT_CLONE=["[object FileEntry]","[object DirectoryEntry]","[object DOMFileSystem]"],o.logger=s.CoreLogger.getInstance("CoreUtils"),o.uniqueIds={}},53794:(e,n,r)=>{"use strict";r.d(n,{H:()=>CoreWait});var o=r(10467),i=r(18725),s=r(18022);class CoreWait{constructor(){}static nextTick(){return(0,o.A)((function*(){return CoreWait.wait(0)}))()}static nextTicks(e=0){return(0,o.A)((function*(){for(let n=0;n<e;n++)yield CoreWait.wait(0)}))()}static wait(e){return new Promise((n=>setTimeout(n,e)))}static waitFor(e,n={}){const r="number"==typeof n?{interval:n}:n;if(e())return i.f.resolve();const s=Date.now();let a;return new i.f(function(){var n=(0,o.A)((function*(n){var o;a=window.setInterval((()=>{(e()||r.timeout&&!(Date.now()-s<r.timeout))&&(n(),window.clearInterval(a))}),null!==(o=r.interval)&&void 0!==o?o:50)}));return function(e){return n.apply(this,arguments)}}(),(()=>window.clearInterval(a)))}static waitForResizeDone(e,n,r=0){return(0,o.A)((function*(){if(s.CorePlatform.isIOS()&&(e=e||window.innerWidth,n=n||window.innerHeight,!(e!=window.innerWidth||n!=window.innerHeight||r>=10)))return yield CoreWait.wait(50),CoreWait.waitForResizeDone(e,n,r+1)}))()}static waitForImages(e){const n=Array.from(e.querySelectorAll("img"));if(0===n.length)return i.f.resolve(!1);let r=0,o=!1;const s=new WeakMap,imageCompleted=e=>{r++,r===n.length&&e(o)};return new i.f((e=>{for(const r of n){if(!r||r.complete){imageCompleted(e);continue}o=!0;const imgCompleted=()=>{r.removeEventListener("load",imgCompleted),r.removeEventListener("error",imgCompleted),imageCompleted(e)};r.addEventListener("load",imgCompleted),r.addEventListener("error",imgCompleted),s.set(r,imgCompleted)}}),(()=>{n.forEach((e=>{const n=s.get(e);n&&(e.removeEventListener("load",n),e.removeEventListener("error",n))}))}))}}},8019:(e,n,r)=>{"use strict";r.d(n,{i:()=>CoreWindow});var o=r(10467),i=r(10883),s=r(88436),a=r(52749),c=r(8014),u=r(86552);class CoreWindow{constructor(){}static confirmOpenBrowserIfNeeded(){return(0,o.A)((function*(){const{CoreLogger:e}=yield Promise.resolve().then(r.bind(r,6787));e.getInstance("CoreWindow").warn("confirmOpenBrowserIfNeeded has been deprecated since 5.0. Not used anymore.                 Use CoreOpener.openInBrowser and it will confirm if needed.")}))()}static open(e,n){return(0,o.A)((function*(){if(c.F.isLocalFileUrl(e)){const n=e.substring(e.lastIndexOf("/")+1);if(!s.CoreFileHelper.isOpenableInApp({filename:n}))try{yield s.CoreFileHelper.showConfirmOpenUnsupportedFile(!1,{filename:n})}catch{return}yield u.j.openFile(e)}else{let r=!1;"_system"!==n&&(r=yield i.CoreContentLinksHelper.handleLink(e,void 0,!0,!0)),r||(a.CoreSites.isLoggedIn()?yield a.CoreSites.getRequiredCurrentSite().openInBrowserWithAutoLogin(e):u.j.openInBrowser(e))}}))()}}},91416:(e,n,r)=>{"use strict";function toBoolean(e){return null!=e&&(""===e||!(!1===e||"false"===e||0===Number(e)))}r.d(n,{G:()=>toBoolean})},89312:(e,n,r)=>{"use strict";r.d(n,{A:()=>asyncInstance});var o=r(10467),i=r(25124);function isMethod(e){return"function"==typeof e}function asyncInstance(e,n){const r=function createAsyncInstanceWrapper(e){let n,r=null,s=null,a=null;return{get instance(){var e,n;return null!==(e=null===(n=r)||void 0===n?void 0:n.value)&&void 0!==e?e:void 0},get lazyMethods(){return s},get lazyOverrides(){return a},get eagerInstance(){return n},getInstance:()=>(0,o.A)((function*(){if(!r&&(r=new i._,e)){const n=yield e();r.resolve(n)}return r}))(),getProperty(e){var n=this;return(0,o.A)((function*(){return(yield n.getInstance())[e]}))()},setInstance(e){r?r.isSettled()&&r.reset():r=new i._,r.resolve(e)},setLazyMethods(e){s=e},setLazyOverrides(e){a=e},setEagerInstance(e){n=e},setLazyConstructor(n){if(!r)return e=n,void 0;r.isResolved()||Promise.resolve(n()).then((e=>{var n,o;return(null===(n=r)||void 0===n?void 0:n.isResolved())||(null===(o=r)||void 0===o?void 0:o.resolve(e))}))},resetInstance(){r&&r.reset()}}}(e);return n&&r.setEagerInstance(n),new Proxy(r,{get:(e,n,i)=>{var s,a;const c=n;if(c in e)return Reflect.get(e,c,i);if(r.instance){const e=Reflect.get(r.instance,c,i);return isMethod(e)?(0,o.A)((function*(...n){return e.call(r.instance,...n)})):e}return!r.eagerInstance||!(c in r.eagerInstance)||null!==(s=r.lazyOverrides)&&void 0!==s&&s.includes(c)?!r.lazyMethods||r.lazyMethods.includes(c)||null!==(a=r.lazyOverrides)&&void 0!==a&&a.includes(c)?(0,o.A)((function*(...e){const n=yield r.getInstance(),o=Reflect.get(n,c,i);if(!isMethod(o))throw new Error(`'${c.toString()}' is not a function`);return o.call(n,...e)})):void 0:Reflect.get(r.eagerInstance,c,i)}})}},35161:(e,n,r)=>{"use strict";function convertTextToHTMLElement(e){const n=document.createElement("template");return n.innerHTML=`<div>${e}</div>`,n.content.children[0]}r.d(n,{B:()=>convertTextToHTMLElement})},94339:(e,n,r)=>{"use strict";r.d(n,{yf:()=>a});var o=r(67374),i=r.n(o),s=r(18022);const a=new Proxy(((e,n,r,o)=>{if(s.CorePlatform.isAutomated()){const r=void 0===n?void 0:"string"==typeof n?n:"format"in n?n.format:n[0];return r?i().tz(e,r,"Australia/Perth"):i().tz(e,"Australia/Perth")}return"boolean"==typeof r?i()(e,n,r):i()(e,n,r,o)}),{get:(e,n)=>i()[n]})},54420:(e,n,r)=>{"use strict";r.d(n,{f:()=>fixOverlayAriaHidden});var o=r(10467),i=r(79555);function fixOverlayAriaHidden(e){return _fixOverlayAriaHidden.apply(this,arguments)}function _fixOverlayAriaHidden(){return(_fixOverlayAriaHidden=(0,o.A)((function*(e){yield e.onDidDismiss();var n;(yield Promise.all([i.W3.getTop(),i.IE.getTop(),i.GD.getTop(),i.hG.getTop(),i.Xi.getTop(),i.K_.getTop()])).find((e=>void 0!==e))||(null===(n=document.body.querySelector("ion-router-outlet"))||void 0===n||n.removeAttribute("aria-hidden"))}))).apply(this,arguments)}},49833:(e,n,r)=>{"use strict";function lazyMap(e){const n={};return new Proxy(n,{get:(r,o,i)=>(o in n||(r[o]=e(o.toString())),Reflect.get(r,o,i))})}r.d(n,{$:()=>lazyMap})},32867:(e,n,r)=>{"use strict";r.d(n,{g:()=>o});const o=new(r(54438).nKC)("CORE_REFRESH_CONTEXT")},83749:(e,n,r)=>{"use strict";r.d(n,{$X:()=>formControlValue,L$:()=>resolved,uV:()=>asyncObservable,wx:()=>zipIncludingComplete,yO:()=>ignoreErrors});var o=r(10467),i=r(71985),s=r(7673),a=r(5964),c=r(99437);function formControlValue(e){return e.valueChanges.pipe(function startWithOnSubscribed(e){return n=>new i.c((r=>(r.next(e()),n.subscribe((e=>r.next(e))))))}((()=>e.value)),(0,a.p)((e=>null!==e)))}function resolved(){return e=>new i.c((n=>{const r=e.subscribe(function(){var e=(0,o.A)((function*(e){const r=yield e;return n.next(r)}));return function(n){return e.apply(this,arguments)}}());return r}))}function asyncObservable(e){const n=e();return new i.c((e=>{n.then((n=>n.subscribe(e))).catch((n=>e.error(n)))}))}function ignoreErrors(e,n){return e.pipe((0,c.W)((()=>(0,s.of)(n))))}function zipIncludingComplete(...e){return new i.c((n=>{let r=0,o=!1,i=!1;const s=e.map((()=>({values:[],completed:!1}))),treatEmitted=(e=!1)=>{if(o||i)return;if(e){if(s.reduce(((e,n)=>e+(n.completed?1:0)),0)===s.length){i=!0;const e=s.reduce(((e,n)=>Math.max(e,n.values.length)),0);for(;r<e;)emitNextValue(),r++;return n.complete(),void 0}}s.some((e=>!e.completed&&!(r in e.values)))||(emitNextValue(),r++,e&&treatEmitted(!0))},emitNextValue=()=>{const e=s.map((e=>{var n;return null!==(n=e.values[r])&&void 0!==n?n:e.values[e.values.length-1]}));n.next(e)};return e.forEach(((e,r)=>{const i=s[r];i.subscription=e.subscribe({next:e=>{i.values.push(e),treatEmitted()},error:e=>{o=!0,n.error(e)},complete:()=>{i.completed=!0,treatEmitted(!0)}})})),()=>{s.forEach((e=>{var n;return null===(n=e.subscription)||void 0===n?void 0:n.unsubscribe()}))}}))}},20523:(e,n,r)=>{"use strict";function isSafeNumber(e){return"number"==typeof e&&!isNaN(e)}function safeNumber(e){if(isSafeNumber(e))return e}r.d(n,{J:()=>safeNumber,L:()=>isSafeNumber})},90381:(e,n,r)=>{"use strict";var o=r(54438),i=r(74431),s=r(10467),a=r(2910),c=r(82461),u=r(79555),p=r(36358),f=r(15324),g=r(10025),v=r(8019),C=r(18022),b=r(6787),w=r(25124),A=r(38132),_=r(27606),E=r(84015);function createElementIfNotDefined(e,n,r,o){return e.params.createElements&&Object.keys(o).forEach((i=>{if(!r[i]&&!0===r.auto){let s=(0,E.e)(e.el,`.${o[i]}`)[0];s||(s=(0,E.c)("div",o[i]),s.className=o[i],e.el.append(s)),r[i]=s,n[i]=s}})),r}function classesToSelector(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function appendSlide(e){const n=this,{params:r,slidesEl:o}=n;r.loop&&n.loopDestroy();const appendElement=e=>{if("string"==typeof e){const n=document.createElement("div");n.innerHTML=e,o.append(n.children[0]),n.innerHTML=""}else o.append(e)};if("object"==typeof e&&"length"in e)for(let n=0;n<e.length;n+=1)e[n]&&appendElement(e[n]);else appendElement(e);n.recalcSlides(),r.loop&&n.loopCreate(),r.observer&&!n.isElement||n.update()}function prependSlide(e){const n=this,{params:r,activeIndex:o,slidesEl:i}=n;r.loop&&n.loopDestroy();let s=o+1;const prependElement=e=>{if("string"==typeof e){const n=document.createElement("div");n.innerHTML=e,i.prepend(n.children[0]),n.innerHTML=""}else i.prepend(e)};if("object"==typeof e&&"length"in e){for(let n=0;n<e.length;n+=1)e[n]&&prependElement(e[n]);s=o+e.length}else prependElement(e);n.recalcSlides(),r.loop&&n.loopCreate(),r.observer&&!n.isElement||n.update(),n.slideTo(s,0,!1)}function addSlide(e,n){const r=this,{params:o,activeIndex:i,slidesEl:s}=r;let a=i;o.loop&&(a-=r.loopedSlides,r.loopDestroy(),r.recalcSlides());const c=r.slides.length;if(e<=0)return r.prependSlide(n),void 0;if(e>=c)return r.appendSlide(n),void 0;let u=a>e?a+1:a;const p=[];for(let n=c-1;n>=e;n-=1){const e=r.slides[n];e.remove(),p.unshift(e)}if("object"==typeof n&&"length"in n){for(let e=0;e<n.length;e+=1)n[e]&&s.append(n[e]);u=a>e?a+n.length:a}else s.append(n);for(let e=0;e<p.length;e+=1)s.append(p[e]);r.recalcSlides(),o.loop&&r.loopCreate(),o.observer&&!r.isElement||r.update(),r.slideTo(o.loop?u+r.loopedSlides:u,0,!1)}function removeSlide(e){const n=this,{params:r,activeIndex:o}=n;let i=o;r.loop&&(i-=n.loopedSlides,n.loopDestroy());let s,a=i;if("object"==typeof e&&"length"in e){for(let r=0;r<e.length;r+=1)s=e[r],n.slides[s]&&n.slides[s].remove(),s<a&&(a-=1);a=Math.max(a,0)}else s=e,n.slides[s]&&n.slides[s].remove(),s<a&&(a-=1),a=Math.max(a,0);n.recalcSlides(),r.loop&&n.loopCreate(),r.observer&&!n.isElement||n.update(),n.slideTo(r.loop?a+n.loopedSlides:a,0,!1)}function removeAllSlides(){const e=this,n=[];for(let r=0;r<e.slides.length;r+=1)n.push(r);e.removeSlide(n)}function effectInit(e){const{effect:n,swiper:r,on:o,setTranslate:i,setTransition:s,overwriteParams:a,perspective:c,recreateShadows:u,getEffectParams:p}=e;let f;o("beforeInit",(()=>{if(r.params.effect!==n)return;r.classNames.push(`${r.params.containerModifierClass}${n}`),c&&c()&&r.classNames.push(`${r.params.containerModifierClass}3d`);const e=a?a():{};Object.assign(r.params,e),Object.assign(r.originalParams,e)})),o("setTranslate",(()=>{r.params.effect===n&&i()})),o("setTransition",((e,o)=>{r.params.effect===n&&s(o)})),o("transitionEnd",(()=>{if(r.params.effect===n&&u){if(!p||!p().slideShadows)return;r.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),u()}})),o("virtualUpdate",(()=>{r.params.effect===n&&(r.slides.length||(f=!0),requestAnimationFrame((()=>{f&&r.slides&&r.slides.length&&(i(),f=!1)})))}))}function effectTarget(e,n){const r=(0,E.g)(n);return r!==n&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function effectVirtualTransitionEnd(e){let{swiper:n,duration:r,transformElements:o,allSlides:i}=e;const{activeIndex:s}=n;if(n.params.virtualTranslate&&0!==r){let e,r=!1;e=i?o:o.filter((e=>{const r=e.classList.contains("swiper-slide-transform")?(e=>{if(!e.parentElement)return n.slides.find((n=>n.shadowRoot&&n.shadowRoot===e.parentNode));return e.parentElement})(e):e;return n.getSlideIndex(r)===s})),e.forEach((e=>{(0,E.k)(e,(()=>{if(r)return;if(!n||n.destroyed)return;r=!0,n.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(e)}))}))}}function createShadow(e,n,r){const o=`swiper-slide-shadow${r?`-${r}`:""}${e?` swiper-slide-shadow-${e}`:""}`,i=(0,E.g)(n);let s=i.querySelector(`.${o.split(" ").join(".")}`);return s||(s=(0,E.c)("div",o.split(" ")),i.append(s)),s}const I=[function Virtual(e){let n,{swiper:r,extendParams:o,on:i,emit:s}=e;o({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const a=(0,_.g)();r.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const c=a.createElement("div");function renderSlide(e,n){const o=r.params.virtual;if(o.cache&&r.virtual.cache[n])return r.virtual.cache[n];let i;return o.renderSlide?(i=o.renderSlide.call(r,e,n),"string"==typeof i&&(c.innerHTML=i,i=c.children[0])):i=r.isElement?(0,E.c)("swiper-slide"):(0,E.c)("div",r.params.slideClass),i.setAttribute("data-swiper-slide-index",n),o.renderSlide||(i.innerHTML=e),o.cache&&(r.virtual.cache[n]=i),i}function update(e,n,o){const{slidesPerView:i,slidesPerGroup:a,centeredSlides:c,loop:u,initialSlide:p}=r.params;if(n&&!u&&p>0)return;const{addSlidesBefore:f,addSlidesAfter:g}=r.params.virtual,{from:v,to:C,slides:b,slidesGrid:w,offset:A}=r.virtual;r.params.cssMode||r.updateActiveIndex();const _=void 0===o?r.activeIndex||0:o;let I,T,P;I=r.rtlTranslate?"right":r.isHorizontal()?"left":"top",c?(T=Math.floor(i/2)+a+g,P=Math.floor(i/2)+a+f):(T=i+(a-1)+g,P=(u?i:a)+f);let k=_-P,x=_+T;u||(k=Math.max(k,0),x=Math.min(x,b.length-1));let F=(r.slidesGrid[k]||0)-(r.slidesGrid[0]||0);function onRendered(){r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),s("virtualUpdate")}if(u&&_>=P?(k-=P,c||(F+=r.slidesGrid[0])):u&&_<P&&(k=-P,c&&(F+=r.slidesGrid[0])),Object.assign(r.virtual,{from:k,to:x,offset:F,slidesGrid:r.slidesGrid,slidesBefore:P,slidesAfter:T}),v===k&&C===x&&!e)return r.slidesGrid!==w&&F!==A&&r.slides.forEach((e=>{e.style[I]=F-Math.abs(r.cssOverflowAdjustment())+"px"})),r.updateProgress(),s("virtualUpdate"),void 0;if(r.params.virtual.renderExternal)return r.params.virtual.renderExternal.call(r,{offset:F,from:k,to:x,slides:function getSlides(){const e=[];for(let n=k;n<=x;n+=1)e.push(b[n]);return e}()}),r.params.virtual.renderExternalUpdate?onRendered():s("virtualUpdate"),void 0;const R=[],N=[],getSlideIndex=e=>{let n=e;return e<0?n=b.length+e:n>=b.length&&(n-=b.length),n};if(e)r.slides.filter((e=>e.matches(`.${r.params.slideClass}, swiper-slide`))).forEach((e=>{e.remove()}));else for(let e=v;e<=C;e+=1)if(e<k||e>x){const n=getSlideIndex(e);r.slides.filter((e=>e.matches(`.${r.params.slideClass}[data-swiper-slide-index="${n}"], swiper-slide[data-swiper-slide-index="${n}"]`))).forEach((e=>{e.remove()}))}const L=u?2*b.length:b.length;for(let n=u?-b.length:0;n<L;n+=1)if(n>=k&&n<=x){const r=getSlideIndex(n);void 0===C||e?N.push(r):(n>C&&N.push(r),n<v&&R.push(r))}if(N.forEach((e=>{r.slidesEl.append(renderSlide(b[e],e))})),u)for(let e=R.length-1;e>=0;e-=1){const n=R[e];r.slidesEl.prepend(renderSlide(b[n],n))}else R.sort(((e,n)=>n-e)),R.forEach((e=>{r.slidesEl.prepend(renderSlide(b[e],e))}));(0,E.e)(r.slidesEl,".swiper-slide, swiper-slide").forEach((e=>{e.style[I]=F-Math.abs(r.cssOverflowAdjustment())+"px"})),onRendered()}i("beforeInit",(()=>{if(!r.params.virtual.enabled)return;let e;if(void 0===r.passedParams.virtual.slides){const n=[...r.slidesEl.children].filter((e=>e.matches(`.${r.params.slideClass}, swiper-slide`)));n&&n.length&&(r.virtual.slides=[...n],e=!0,n.forEach(((e,n)=>{e.setAttribute("data-swiper-slide-index",n),r.virtual.cache[n]=e,e.remove()})))}e||(r.virtual.slides=r.params.virtual.slides),r.classNames.push(`${r.params.containerModifierClass}virtual`),r.params.watchSlidesProgress=!0,r.originalParams.watchSlidesProgress=!0,update(!1,!0)})),i("setTranslate",(()=>{r.params.virtual.enabled&&(r.params.cssMode&&!r._immediateVirtual?(clearTimeout(n),n=setTimeout((()=>{update()}),100)):update())})),i("init update resize",(()=>{r.params.virtual.enabled&&r.params.cssMode&&(0,E.s)(r.wrapperEl,"--swiper-virtual-size",`${r.virtualSize}px`)})),Object.assign(r.virtual,{appendSlide:function appendSlide(e){if("object"==typeof e&&"length"in e)for(let n=0;n<e.length;n+=1)e[n]&&r.virtual.slides.push(e[n]);else r.virtual.slides.push(e);update(!0)},prependSlide:function prependSlide(e){const n=r.activeIndex;let o=n+1,i=1;if(Array.isArray(e)){for(let n=0;n<e.length;n+=1)e[n]&&r.virtual.slides.unshift(e[n]);o=n+e.length,i=e.length}else r.virtual.slides.unshift(e);if(r.params.virtual.cache){const e=r.virtual.cache,n={};Object.keys(e).forEach((r=>{const o=e[r],s=o.getAttribute("data-swiper-slide-index");s&&o.setAttribute("data-swiper-slide-index",parseInt(s,10)+i),n[parseInt(r,10)+i]=o})),r.virtual.cache=n}update(!0),r.slideTo(o,0)},removeSlide:function removeSlide(e){if(null==e)return;let n=r.activeIndex;if(Array.isArray(e))for(let o=e.length-1;o>=0;o-=1)r.params.virtual.cache&&(delete r.virtual.cache[e[o]],Object.keys(r.virtual.cache).forEach((n=>{n>e&&(r.virtual.cache[n-1]=r.virtual.cache[n],r.virtual.cache[n-1].setAttribute("data-swiper-slide-index",n-1),delete r.virtual.cache[n])}))),r.virtual.slides.splice(e[o],1),e[o]<n&&(n-=1),n=Math.max(n,0);else r.params.virtual.cache&&(delete r.virtual.cache[e],Object.keys(r.virtual.cache).forEach((n=>{n>e&&(r.virtual.cache[n-1]=r.virtual.cache[n],r.virtual.cache[n-1].setAttribute("data-swiper-slide-index",n-1),delete r.virtual.cache[n])}))),r.virtual.slides.splice(e,1),e<n&&(n-=1),n=Math.max(n,0);update(!0),r.slideTo(n,0)},removeAllSlides:function removeAllSlides(){r.virtual.slides=[],r.params.virtual.cache&&(r.virtual.cache={}),update(!0),r.slideTo(0,0)},update})},function Keyboard(e){let{swiper:n,extendParams:r,on:o,emit:i}=e;const s=(0,_.g)(),a=(0,_.a)();function handle(e){if(!n.enabled)return;const{rtlTranslate:r}=n;let o=e;o.originalEvent&&(o=o.originalEvent);const c=o.keyCode||o.charCode,u=n.params.keyboard.pageUpDown,p=u&&33===c,f=u&&34===c,g=37===c,v=39===c,C=38===c,b=40===c;if(!n.allowSlideNext&&(n.isHorizontal()&&v||n.isVertical()&&b||f))return!1;if(!n.allowSlidePrev&&(n.isHorizontal()&&g||n.isVertical()&&C||p))return!1;if(!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey||s.activeElement&&s.activeElement.nodeName&&("input"===s.activeElement.nodeName.toLowerCase()||"textarea"===s.activeElement.nodeName.toLowerCase()))){if(n.params.keyboard.onlyInViewport&&(p||f||g||v||C||b)){let e=!1;if((0,E.a)(n.el,`.${n.params.slideClass}, swiper-slide`).length>0&&0===(0,E.a)(n.el,`.${n.params.slideActiveClass}`).length)return;const o=n.el,i=o.clientWidth,s=o.clientHeight,c=a.innerWidth,u=a.innerHeight,p=(0,E.b)(o);r&&(p.left-=o.scrollLeft);const f=[[p.left,p.top],[p.left+i,p.top],[p.left,p.top+s],[p.left+i,p.top+s]];for(let n=0;n<f.length;n+=1){const r=f[n];if(r[0]>=0&&r[0]<=c&&r[1]>=0&&r[1]<=u){if(0===r[0]&&0===r[1])continue;e=!0}}if(!e)return}n.isHorizontal()?((p||f||g||v)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),((f||v)&&!r||(p||g)&&r)&&n.slideNext(),((p||g)&&!r||(f||v)&&r)&&n.slidePrev()):((p||f||C||b)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),(f||b)&&n.slideNext(),(p||C)&&n.slidePrev()),i("keyPress",c)}}function enable(){n.keyboard.enabled||(s.addEventListener("keydown",handle),n.keyboard.enabled=!0)}function disable(){n.keyboard.enabled&&(s.removeEventListener("keydown",handle),n.keyboard.enabled=!1)}n.keyboard={enabled:!1},r({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),o("init",(()=>{n.params.keyboard.enabled&&enable()})),o("destroy",(()=>{n.keyboard.enabled&&disable()})),Object.assign(n.keyboard,{enable,disable})},function Mousewheel(e){let{swiper:n,extendParams:r,on:o,emit:i}=e;const s=(0,_.a)();let a;r({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),n.mousewheel={enabled:!1};let c,u=(0,E.d)();const p=[];function handleMouseEnter(){n.enabled&&(n.mouseEntered=!0)}function handleMouseLeave(){n.enabled&&(n.mouseEntered=!1)}function animateSlider(e){return!(n.params.mousewheel.thresholdDelta&&e.delta<n.params.mousewheel.thresholdDelta)&&(!(n.params.mousewheel.thresholdTime&&(0,E.d)()-u<n.params.mousewheel.thresholdTime)&&(e.delta>=6&&(0,E.d)()-u<60||(e.direction<0?n.isEnd&&!n.params.loop||n.animating||(n.slideNext(),i("scroll",e.raw)):n.isBeginning&&!n.params.loop||n.animating||(n.slidePrev(),i("scroll",e.raw)),u=(new s.Date).getTime(),!1)))}function handle(e){let r=e,o=!0;if(!n.enabled)return;if(e.target.closest(`.${n.params.mousewheel.noMousewheelClass}`))return;const s=n.params.mousewheel;n.params.cssMode&&r.preventDefault();let u=n.el;"container"!==n.params.mousewheel.eventsTarget&&(u=document.querySelector(n.params.mousewheel.eventsTarget));const f=u&&u.contains(r.target);if(!n.mouseEntered&&!f&&!s.releaseOnEdges)return!0;r.originalEvent&&(r=r.originalEvent);let g=0;const v=n.rtlTranslate?-1:1,C=function normalize(e){let n=0,r=0,o=0,i=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(n=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(n=r,r=0),o=10*n,i=10*r,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(o=e.deltaX),e.shiftKey&&!o&&(o=i,i=0),(o||i)&&e.deltaMode&&(1===e.deltaMode?(o*=40,i*=40):(o*=800,i*=800)),o&&!n&&(n=o<1?-1:1),i&&!r&&(r=i<1?-1:1),{spinX:n,spinY:r,pixelX:o,pixelY:i}}(r);if(s.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(C.pixelX)>Math.abs(C.pixelY)))return!0;g=-C.pixelX*v}else{if(!(Math.abs(C.pixelY)>Math.abs(C.pixelX)))return!0;g=-C.pixelY}else g=Math.abs(C.pixelX)>Math.abs(C.pixelY)?-C.pixelX*v:-C.pixelY;if(0===g)return!0;s.invert&&(g=-g);let b=n.getTranslate()+g*s.sensitivity;if(b>=n.minTranslate()&&(b=n.minTranslate()),b<=n.maxTranslate()&&(b=n.maxTranslate()),o=!!n.params.loop||!(b===n.minTranslate()||b===n.maxTranslate()),o&&n.params.nested&&r.stopPropagation(),n.params.freeMode&&n.params.freeMode.enabled){const e={time:(0,E.d)(),delta:Math.abs(g),direction:Math.sign(g)},o=c&&e.time<c.time+500&&e.delta<=c.delta&&e.direction===c.direction;if(!o){c=void 0;let u=n.getTranslate()+g*s.sensitivity;const f=n.isBeginning,v=n.isEnd;if(u>=n.minTranslate()&&(u=n.minTranslate()),u<=n.maxTranslate()&&(u=n.maxTranslate()),n.setTransition(0),n.setTranslate(u),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!f&&n.isBeginning||!v&&n.isEnd)&&n.updateSlidesClasses(),n.params.loop&&n.loopFix({direction:e.direction<0?"next":"prev",byMousewheel:!0}),n.params.freeMode.sticky){clearTimeout(a),a=void 0,p.length>=15&&p.shift();const r=p.length?p[p.length-1]:void 0,o=p[0];if(p.push(e),r&&(e.delta>r.delta||e.direction!==r.direction))p.splice(0);else if(p.length>=15&&e.time-o.time<500&&o.delta-e.delta>=1&&e.delta<=6){const r=g>0?.8:.2;c=e,p.splice(0),a=(0,E.n)((()=>{!n.destroyed&&n.params&&n.slideToClosest(n.params.speed,!0,void 0,r)}),0)}a||(a=(0,E.n)((()=>{if(n.destroyed||!n.params)return;c=e,p.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)}),500))}if(o||i("scroll",r),n.params.autoplay&&n.params.autoplay.disableOnInteraction&&n.autoplay.stop(),s.releaseOnEdges&&(u===n.minTranslate()||u===n.maxTranslate()))return!0}}else{const r={time:(0,E.d)(),delta:Math.abs(g),direction:Math.sign(g),raw:e};p.length>=2&&p.shift();const o=p.length?p[p.length-1]:void 0;if(p.push(r),o?(r.direction!==o.direction||r.delta>o.delta||r.time>o.time+150)&&animateSlider(r):animateSlider(r),function releaseScroll(e){const r=n.params.mousewheel;if(e.direction<0){if(n.isEnd&&!n.params.loop&&r.releaseOnEdges)return!0}else if(n.isBeginning&&!n.params.loop&&r.releaseOnEdges)return!0;return!1}(r))return!0}return r.preventDefault?r.preventDefault():r.returnValue=!1,!1}function events(e){let r=n.el;"container"!==n.params.mousewheel.eventsTarget&&(r=document.querySelector(n.params.mousewheel.eventsTarget)),r[e]("mouseenter",handleMouseEnter),r[e]("mouseleave",handleMouseLeave),r[e]("wheel",handle)}function enable(){return n.params.cssMode?(n.wrapperEl.removeEventListener("wheel",handle),!0):!n.mousewheel.enabled&&(events("addEventListener"),n.mousewheel.enabled=!0,!0)}function disable(){return n.params.cssMode?(n.wrapperEl.addEventListener(event,handle),!0):!!n.mousewheel.enabled&&(events("removeEventListener"),n.mousewheel.enabled=!1,!0)}o("init",(()=>{!n.params.mousewheel.enabled&&n.params.cssMode&&disable(),n.params.mousewheel.enabled&&enable()})),o("destroy",(()=>{n.params.cssMode&&enable(),n.mousewheel.enabled&&disable()})),Object.assign(n.mousewheel,{enable,disable})},function Navigation(e){let{swiper:n,extendParams:r,on:o,emit:i}=e;function getEl(e){let r;return e&&"string"==typeof e&&n.isElement&&(r=n.el.querySelector(e)||n.hostEl.querySelector(e),r)?r:(e&&("string"==typeof e&&(r=[...document.querySelectorAll(e)]),n.params.uniqueNavElements&&"string"==typeof e&&r&&r.length>1&&1===n.el.querySelectorAll(e).length?r=n.el.querySelector(e):r&&1===r.length&&(r=r[0])),e&&!r?e:r)}function toggleEl(e,r){const o=n.params.navigation;(e=(0,E.m)(e)).forEach((e=>{e&&(e.classList[r?"add":"remove"](...o.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=r),n.params.watchOverflow&&n.enabled&&e.classList[n.isLocked?"add":"remove"](o.lockClass))}))}function update(){const{nextEl:e,prevEl:r}=n.navigation;if(n.params.loop)return toggleEl(r,!1),toggleEl(e,!1),void 0;toggleEl(r,n.isBeginning&&!n.params.rewind),toggleEl(e,n.isEnd&&!n.params.rewind)}function onPrevClick(e){e.preventDefault(),(!n.isBeginning||n.params.loop||n.params.rewind)&&(n.slidePrev(),i("navigationPrev"))}function onNextClick(e){e.preventDefault(),(!n.isEnd||n.params.loop||n.params.rewind)&&(n.slideNext(),i("navigationNext"))}function init(){const e=n.params.navigation;if(n.params.navigation=createElementIfNotDefined(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let r=getEl(e.nextEl),o=getEl(e.prevEl);Object.assign(n.navigation,{nextEl:r,prevEl:o}),r=(0,E.m)(r),o=(0,E.m)(o);const initButton=(r,o)=>{r&&r.addEventListener("click","next"===o?onNextClick:onPrevClick),!n.enabled&&r&&r.classList.add(...e.lockClass.split(" "))};r.forEach((e=>initButton(e,"next"))),o.forEach((e=>initButton(e,"prev")))}function destroy(){let{nextEl:e,prevEl:r}=n.navigation;e=(0,E.m)(e),r=(0,E.m)(r);const destroyButton=(e,r)=>{e.removeEventListener("click","next"===r?onNextClick:onPrevClick),e.classList.remove(...n.params.navigation.disabledClass.split(" "))};e.forEach((e=>destroyButton(e,"next"))),r.forEach((e=>destroyButton(e,"prev")))}r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,prevEl:null},o("init",(()=>{!1===n.params.navigation.enabled?disable():(init(),update())})),o("toEdge fromEdge lock unlock",(()=>{update()})),o("destroy",(()=>{destroy()})),o("enable disable",(()=>{let{nextEl:e,prevEl:r}=n.navigation;if(e=(0,E.m)(e),r=(0,E.m)(r),n.enabled)return update(),void 0;[...e,...r].filter((e=>!!e)).forEach((e=>e.classList.add(n.params.navigation.lockClass)))})),o("click",((e,r)=>{let{nextEl:o,prevEl:s}=n.navigation;o=(0,E.m)(o),s=(0,E.m)(s);const a=r.target;let c=s.includes(a)||o.includes(a);if(n.isElement&&!c){const e=r.path||r.composedPath&&r.composedPath();e&&(c=e.find((e=>o.includes(e)||s.includes(e))))}if(n.params.navigation.hideOnClick&&!c){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===a||n.pagination.el.contains(a)))return;let e;o.length?e=o[0].classList.contains(n.params.navigation.hiddenClass):s.length&&(e=s[0].classList.contains(n.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),[...o,...s].filter((e=>!!e)).forEach((e=>e.classList.toggle(n.params.navigation.hiddenClass)))}}));const disable=()=>{n.el.classList.add(...n.params.navigation.navigationDisabledClass.split(" ")),destroy()};Object.assign(n.navigation,{enable:()=>{n.el.classList.remove(...n.params.navigation.navigationDisabledClass.split(" ")),init(),update()},disable,update,init,destroy})},function Pagination(e){let{swiper:n,extendParams:r,on:o,emit:i}=e;const s="swiper-pagination";let a;r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),n.pagination={el:null,bullets:[]};let c=0;function isPaginationDisabled(){return!n.params.pagination.el||!n.pagination.el||Array.isArray(n.pagination.el)&&0===n.pagination.el.length}function setSideBullets(e,r){const{bulletActiveClass:o}=n.params.pagination;e&&(e=e[("prev"===r?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${o}-${r}`),(e=e[("prev"===r?"previous":"next")+"ElementSibling"])&&e.classList.add(`${o}-${r}-${r}`))}function onBulletClick(e){const r=e.target.closest(classesToSelector(n.params.pagination.bulletClass));if(!r)return;e.preventDefault();const o=(0,E.h)(r)*n.params.slidesPerGroup;if(n.params.loop){if(n.realIndex===o)return;const e=function getMoveDirection(e,n,r){return(n%=r)==1+(e%=r)?"next":n===e-1?"previous":void 0}(n.realIndex,o,n.slides.length);"next"===e?n.slideNext():"previous"===e?n.slidePrev():n.slideToLoop(o)}else n.slideTo(o)}function update(){const e=n.rtl,r=n.params.pagination;if(isPaginationDisabled())return;let o,s,u=n.pagination.el;u=(0,E.m)(u);const p=n.params.loop?Math.ceil((n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(s=n.previousRealIndex||0,o=n.params.slidesPerGroup>1?Math.floor(n.realIndex/n.params.slidesPerGroup):n.realIndex):void 0!==n.snapIndex?(o=n.snapIndex,s=n.previousSnapIndex):(s=n.previousIndex||0,o=n.activeIndex||0),"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){const i=n.pagination.bullets;let p,f,g;if(r.dynamicBullets&&(a=(0,E.f)(i[0],n.isHorizontal()?"width":"height",!0),u.forEach((e=>{e.style[n.isHorizontal()?"width":"height"]=a*(r.dynamicMainBullets+4)+"px"})),r.dynamicMainBullets>1&&void 0!==s&&(c+=o-(s||0),c>r.dynamicMainBullets-1?c=r.dynamicMainBullets-1:c<0&&(c=0)),p=Math.max(o-c,0),f=p+(Math.min(i.length,r.dynamicMainBullets)-1),g=(f+p)/2),i.forEach((e=>{const n=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${r.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...n)})),u.length>1)i.forEach((e=>{const i=(0,E.h)(e);i===o?e.classList.add(...r.bulletActiveClass.split(" ")):n.isElement&&e.setAttribute("part","bullet"),r.dynamicBullets&&(i>=p&&i<=f&&e.classList.add(...`${r.bulletActiveClass}-main`.split(" ")),i===p&&setSideBullets(e,"prev"),i===f&&setSideBullets(e,"next"))}));else{const e=i[o];if(e&&e.classList.add(...r.bulletActiveClass.split(" ")),n.isElement&&i.forEach(((e,n)=>{e.setAttribute("part",n===o?"bullet-active":"bullet")})),r.dynamicBullets){const e=i[p],n=i[f];for(let e=p;e<=f;e+=1)i[e]&&i[e].classList.add(...`${r.bulletActiveClass}-main`.split(" "));setSideBullets(e,"prev"),setSideBullets(n,"next")}}if(r.dynamicBullets){const o=Math.min(i.length,r.dynamicMainBullets+4),s=(a*o-a)/2-g*a,c=e?"right":"left";i.forEach((e=>{e.style[n.isHorizontal()?c:"top"]=`${s}px`}))}}u.forEach(((e,s)=>{if("fraction"===r.type&&(e.querySelectorAll(classesToSelector(r.currentClass)).forEach((e=>{e.textContent=r.formatFractionCurrent(o+1)})),e.querySelectorAll(classesToSelector(r.totalClass)).forEach((e=>{e.textContent=r.formatFractionTotal(p)}))),"progressbar"===r.type){let i;i=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";const s=(o+1)/p;let a=1,c=1;"horizontal"===i?a=s:c=s,e.querySelectorAll(classesToSelector(r.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${c})`,e.style.transitionDuration=`${n.params.speed}ms`}))}"custom"===r.type&&r.renderCustom?(e.innerHTML=r.renderCustom(n,o+1,p),0===s&&i("paginationRender",e)):(0===s&&i("paginationRender",e),i("paginationUpdate",e)),n.params.watchOverflow&&n.enabled&&e.classList[n.isLocked?"add":"remove"](r.lockClass)}))}function render(){const e=n.params.pagination;if(isPaginationDisabled())return;const r=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.grid&&n.params.grid.rows>1?n.slides.length/Math.ceil(n.params.grid.rows):n.slides.length;let o=n.pagination.el;o=(0,E.m)(o);let s="";if("bullets"===e.type){let o=n.params.loop?Math.ceil(r/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&o>r&&(o=r);for(let r=0;r<o;r+=1)s+=e.renderBullet?e.renderBullet.call(n,r,e.bulletClass):`<${e.bulletElement} ${n.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),n.pagination.bullets=[],o.forEach((r=>{"custom"!==e.type&&(r.innerHTML=s||""),"bullets"===e.type&&n.pagination.bullets.push(...r.querySelectorAll(classesToSelector(e.bulletClass)))})),"custom"!==e.type&&i("paginationRender",o[0])}function init(){n.params.pagination=createElementIfNotDefined(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const e=n.params.pagination;if(!e.el)return;let r;"string"==typeof e.el&&n.isElement&&(r=n.el.querySelector(e.el)),r||"string"!=typeof e.el||(r=[...document.querySelectorAll(e.el)]),r||(r=e.el),r&&0!==r.length&&(n.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(r)&&r.length>1&&(r=[...n.el.querySelectorAll(e.el)],r.length>1&&(r=r.find((e=>(0,E.a)(e,".swiper")[0]===n.el)))),Array.isArray(r)&&1===r.length&&(r=r[0]),Object.assign(n.pagination,{el:r}),r=(0,E.m)(r),r.forEach((r=>{"bullets"===e.type&&e.clickable&&r.classList.add(...(e.clickableClass||"").split(" ")),r.classList.add(e.modifierClass+e.type),r.classList.add(n.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(r.classList.add(`${e.modifierClass}${e.type}-dynamic`),c=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&r.classList.add(e.progressbarOppositeClass),e.clickable&&r.addEventListener("click",onBulletClick),n.enabled||r.classList.add(e.lockClass)})))}function destroy(){const e=n.params.pagination;if(isPaginationDisabled())return;let r=n.pagination.el;r&&(r=(0,E.m)(r),r.forEach((r=>{r.classList.remove(e.hiddenClass),r.classList.remove(e.modifierClass+e.type),r.classList.remove(n.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(r.classList.remove(...(e.clickableClass||"").split(" ")),r.removeEventListener("click",onBulletClick))}))),n.pagination.bullets&&n.pagination.bullets.forEach((n=>n.classList.remove(...e.bulletActiveClass.split(" "))))}o("changeDirection",(()=>{if(!n.pagination||!n.pagination.el)return;const e=n.params.pagination;let{el:r}=n.pagination;r=(0,E.m)(r),r.forEach((r=>{r.classList.remove(e.horizontalClass,e.verticalClass),r.classList.add(n.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),o("init",(()=>{!1===n.params.pagination.enabled?disable():(init(),render(),update())})),o("activeIndexChange",(()=>{void 0===n.snapIndex&&update()})),o("snapIndexChange",(()=>{update()})),o("snapGridLengthChange",(()=>{render(),update()})),o("destroy",(()=>{destroy()})),o("enable disable",(()=>{let{el:e}=n.pagination;e&&(e=(0,E.m)(e),e.forEach((e=>e.classList[n.enabled?"remove":"add"](n.params.pagination.lockClass))))})),o("lock unlock",(()=>{update()})),o("click",((e,r)=>{const o=r.target,s=(0,E.m)(n.pagination.el);if(n.params.pagination.el&&n.params.pagination.hideOnClick&&s&&s.length>0&&!o.classList.contains(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&o===n.navigation.nextEl||n.navigation.prevEl&&o===n.navigation.prevEl))return;const e=s[0].classList.contains(n.params.pagination.hiddenClass);i(!0===e?"paginationShow":"paginationHide"),s.forEach((e=>e.classList.toggle(n.params.pagination.hiddenClass)))}}));const disable=()=>{n.el.classList.add(n.params.pagination.paginationDisabledClass);let{el:e}=n.pagination;e&&(e=(0,E.m)(e),e.forEach((e=>e.classList.add(n.params.pagination.paginationDisabledClass)))),destroy()};Object.assign(n.pagination,{enable:()=>{n.el.classList.remove(n.params.pagination.paginationDisabledClass);let{el:e}=n.pagination;e&&(e=(0,E.m)(e),e.forEach((e=>e.classList.remove(n.params.pagination.paginationDisabledClass)))),init(),render(),update()},disable,render,update,init,destroy})},function Scrollbar(e){let{swiper:n,extendParams:r,on:o,emit:i}=e;const s=(0,_.g)();let a,c,u,p,f=!1,g=null,v=null;function setTranslate(){if(!n.params.scrollbar.el||!n.scrollbar.el)return;const{scrollbar:e,rtlTranslate:r}=n,{dragEl:o,el:i}=e,s=n.params.scrollbar;let a=c,p=(u-c)*(n.params.loop?n.progressLoop:n.progress);r?(p=-p,p>0?(a=c-p,p=0):-p+c>u&&(a=u+p)):p<0?(a=c+p,p=0):p+c>u&&(a=u-p),n.isHorizontal()?(o.style.transform=`translate3d(${p}px, 0, 0)`,o.style.width=`${a}px`):(o.style.transform=`translate3d(0px, ${p}px, 0)`,o.style.height=`${a}px`),s.hide&&(clearTimeout(g),i.style.opacity=1,g=setTimeout((()=>{i.style.opacity=0,i.style.transitionDuration="400ms"}),1e3))}function updateSize(){if(!n.params.scrollbar.el||!n.scrollbar.el)return;const{scrollbar:e}=n,{dragEl:r,el:o}=e;r.style.width="",r.style.height="",u=n.isHorizontal()?o.offsetWidth:o.offsetHeight,p=n.size/(n.virtualSize+n.params.slidesOffsetBefore-(n.params.centeredSlides?n.snapGrid[0]:0)),c="auto"===n.params.scrollbar.dragSize?u*p:parseInt(n.params.scrollbar.dragSize,10),n.isHorizontal()?r.style.width=`${c}px`:r.style.height=`${c}px`,o.style.display=p>=1?"none":"",n.params.scrollbar.hide&&(o.style.opacity=0),n.params.watchOverflow&&n.enabled&&e.el.classList[n.isLocked?"add":"remove"](n.params.scrollbar.lockClass)}function getPointerPosition(e){return n.isHorizontal()?e.clientX:e.clientY}function setDragPosition(e){const{scrollbar:r,rtlTranslate:o}=n,{el:i}=r;let s;s=(getPointerPosition(e)-(0,E.b)(i)[n.isHorizontal()?"left":"top"]-(null!==a?a:c/2))/(u-c),s=Math.max(Math.min(s,1),0),o&&(s=1-s);const p=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*s;n.updateProgress(p),n.setTranslate(p),n.updateActiveIndex(),n.updateSlidesClasses()}function onDragStart(e){const r=n.params.scrollbar,{scrollbar:o,wrapperEl:s}=n,{el:c,dragEl:u}=o;f=!0,a=e.target===u?getPointerPosition(e)-e.target.getBoundingClientRect()[n.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.style.transitionDuration="100ms",u.style.transitionDuration="100ms",setDragPosition(e),clearTimeout(v),c.style.transitionDuration="0ms",r.hide&&(c.style.opacity=1),n.params.cssMode&&(n.wrapperEl.style["scroll-snap-type"]="none"),i("scrollbarDragStart",e)}function onDragMove(e){const{scrollbar:r,wrapperEl:o}=n,{el:s,dragEl:a}=r;f&&(e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1,setDragPosition(e),o.style.transitionDuration="0ms",s.style.transitionDuration="0ms",a.style.transitionDuration="0ms",i("scrollbarDragMove",e))}function onDragEnd(e){const r=n.params.scrollbar,{scrollbar:o,wrapperEl:s}=n,{el:a}=o;f&&(f=!1,n.params.cssMode&&(n.wrapperEl.style["scroll-snap-type"]="",s.style.transitionDuration=""),r.hide&&(clearTimeout(v),v=(0,E.n)((()=>{a.style.opacity=0,a.style.transitionDuration="400ms"}),1e3)),i("scrollbarDragEnd",e),r.snapOnRelease&&n.slideToClosest())}function events(e){const{scrollbar:r,params:o}=n,i=r.el;if(!i)return;const a=!!o.passiveListeners&&{passive:!1,capture:!1},c=!!o.passiveListeners&&{passive:!0,capture:!1};if(!i)return;const u="on"===e?"addEventListener":"removeEventListener";i[u]("pointerdown",onDragStart,a),s[u]("pointermove",onDragMove,a),s[u]("pointerup",onDragEnd,c)}function init(){const{scrollbar:e,el:r}=n;n.params.scrollbar=createElementIfNotDefined(n,n.originalParams.scrollbar,n.params.scrollbar,{el:"swiper-scrollbar"});const o=n.params.scrollbar;if(!o.el)return;let i,a;if("string"==typeof o.el&&n.isElement&&(i=n.el.querySelector(o.el)),i||"string"!=typeof o.el)i||(i=o.el);else if(i=s.querySelectorAll(o.el),!i.length)return;n.params.uniqueNavElements&&"string"==typeof o.el&&i.length>1&&1===r.querySelectorAll(o.el).length&&(i=r.querySelector(o.el)),i.length>0&&(i=i[0]),i.classList.add(n.isHorizontal()?o.horizontalClass:o.verticalClass),i&&(a=i.querySelector(classesToSelector(n.params.scrollbar.dragClass)),a||(a=(0,E.c)("div",n.params.scrollbar.dragClass),i.append(a))),Object.assign(e,{el:i,dragEl:a}),o.draggable&&function enableDraggable(){n.params.scrollbar.el&&n.scrollbar.el&&events("on")}(),i&&i.classList[n.enabled?"remove":"add"](...(0,E.i)(n.params.scrollbar.lockClass))}function destroy(){const e=n.params.scrollbar,r=n.scrollbar.el;r&&r.classList.remove(...(0,E.i)(n.isHorizontal()?e.horizontalClass:e.verticalClass)),function disableDraggable(){n.params.scrollbar.el&&n.scrollbar.el&&events("off")}()}r({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),n.scrollbar={el:null,dragEl:null},o("changeDirection",(()=>{if(!n.scrollbar||!n.scrollbar.el)return;const e=n.params.scrollbar;let{el:r}=n.scrollbar;r=(0,E.m)(r),r.forEach((r=>{r.classList.remove(e.horizontalClass,e.verticalClass),r.classList.add(n.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),o("init",(()=>{!1===n.params.scrollbar.enabled?disable():(init(),updateSize(),setTranslate())})),o("update resize observerUpdate lock unlock changeDirection",(()=>{updateSize()})),o("setTranslate",(()=>{setTranslate()})),o("setTransition",((e,r)=>{!function setTransition(e){n.params.scrollbar.el&&n.scrollbar.el&&(n.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(r)})),o("enable disable",(()=>{const{el:e}=n.scrollbar;e&&e.classList[n.enabled?"remove":"add"](...(0,E.i)(n.params.scrollbar.lockClass))})),o("destroy",(()=>{destroy()}));const disable=()=>{n.el.classList.add(...(0,E.i)(n.params.scrollbar.scrollbarDisabledClass)),n.scrollbar.el&&n.scrollbar.el.classList.add(...(0,E.i)(n.params.scrollbar.scrollbarDisabledClass)),destroy()};Object.assign(n.scrollbar,{enable:()=>{n.el.classList.remove(...(0,E.i)(n.params.scrollbar.scrollbarDisabledClass)),n.scrollbar.el&&n.scrollbar.el.classList.remove(...(0,E.i)(n.params.scrollbar.scrollbarDisabledClass)),init(),updateSize(),setTranslate()},disable,updateSize,setTranslate,init,destroy})},function Parallax(e){let{swiper:n,extendParams:r,on:o}=e;r({parallax:{enabled:!1}});const i="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",setTransform=(e,r)=>{const{rtl:o}=n,i=o?-1:1,s=e.getAttribute("data-swiper-parallax")||"0";let a=e.getAttribute("data-swiper-parallax-x"),c=e.getAttribute("data-swiper-parallax-y");const u=e.getAttribute("data-swiper-parallax-scale"),p=e.getAttribute("data-swiper-parallax-opacity"),f=e.getAttribute("data-swiper-parallax-rotate");if(a||c?(a=a||"0",c=c||"0"):n.isHorizontal()?(a=s,c="0"):(c=s,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*r*i+"%":a*r*i+"px",c=c.indexOf("%")>=0?parseInt(c,10)*r+"%":c*r+"px",null!=p){const n=p-(p-1)*(1-Math.abs(r));e.style.opacity=n}let g=`translate3d(${a}, ${c}, 0px)`;if(null!=u){g+=` scale(${u-(u-1)*(1-Math.abs(r))})`}if(f&&null!=f){g+=` rotate(${f*r*-1}deg)`}e.style.transform=g},setTranslate=()=>{const{el:e,slides:r,progress:o,snapGrid:s}=n,a=(0,E.e)(e,i);n.isElement&&a.push(...(0,E.e)(n.hostEl,i)),a.forEach((e=>{setTransform(e,o)})),r.forEach(((e,r)=>{let a=e.progress;n.params.slidesPerGroup>1&&"auto"!==n.params.slidesPerView&&(a+=Math.ceil(r/2)-o*(s.length-1)),a=Math.min(Math.max(a,-1),1),e.querySelectorAll(`${i}, [data-swiper-parallax-rotate]`).forEach((e=>{setTransform(e,a)}))}))};o("beforeInit",(()=>{n.params.parallax.enabled&&(n.params.watchSlidesProgress=!0,n.originalParams.watchSlidesProgress=!0)})),o("init",(()=>{n.params.parallax.enabled&&setTranslate()})),o("setTranslate",(()=>{n.params.parallax.enabled&&setTranslate()})),o("setTransition",((e,r)=>{n.params.parallax.enabled&&!function(e){void 0===e&&(e=n.params.speed);const{el:r,hostEl:o}=n,s=[...r.querySelectorAll(i)];n.isElement&&s.push(...o.querySelectorAll(i)),s.forEach((n=>{let r=parseInt(n.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),n.style.transitionDuration=`${r}ms`}))}(r)}))},function Zoom(e){let{swiper:n,extendParams:r,on:o,emit:i}=e;const s=(0,_.a)();r({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),n.zoom={enabled:!1};let a,c,u=1,p=!1,f=!1,g={x:0,y:0};const v=[],C={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},b={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},w={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let A,I=1;function getDistanceBetweenTouches(){if(v.length<2)return 1;return Math.sqrt((v[1].pageX-v[0].pageX)**2+(v[1].pageY-v[0].pageY)**2)}function getMaxRatio(){const e=n.params.zoom,r=C.imageWrapEl.getAttribute("data-swiper-zoom")||e.maxRatio;if(e.limitToOriginalSize&&C.imageEl&&C.imageEl.naturalWidth){return Math.min(C.imageEl.naturalWidth/C.imageEl.offsetWidth,r)}return r}function eventWithinSlide(e){const r=function getSlideSelector(){return n.isElement?"swiper-slide":`.${n.params.slideClass}`}();return!!e.target.matches(r)||n.slides.filter((n=>n.contains(e.target))).length>0}function eventWithinZoomContainer(e){const r=`.${n.params.zoom.containerClass}`;return!!e.target.matches(r)||[...n.hostEl.querySelectorAll(r)].filter((n=>n.contains(e.target))).length>0}function onGestureStart(e){if("mouse"===e.pointerType&&v.splice(0,v.length),!eventWithinSlide(e))return;const r=n.params.zoom;if(a=!1,c=!1,v.push(e),!(v.length<2)){if(a=!0,C.scaleStart=getDistanceBetweenTouches(),!C.slideEl){C.slideEl=e.target.closest(`.${n.params.slideClass}, swiper-slide`),C.slideEl||(C.slideEl=n.slides[n.activeIndex]);let o=C.slideEl.querySelector(`.${r.containerClass}`);if(o&&(o=o.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),C.imageEl=o,C.imageWrapEl=o?(0,E.a)(C.imageEl,`.${r.containerClass}`)[0]:void 0,!C.imageWrapEl)return C.imageEl=void 0,void 0;C.maxRatio=getMaxRatio()}if(C.imageEl){const[e,n]=function getScaleOrigin(){if(v.length<2)return{x:null,y:null};const e=C.imageEl.getBoundingClientRect();return[(v[0].pageX+(v[1].pageX-v[0].pageX)/2-e.x-s.scrollX)/u,(v[0].pageY+(v[1].pageY-v[0].pageY)/2-e.y-s.scrollY)/u]}();C.originX=e,C.originY=n,C.imageEl.style.transitionDuration="0ms"}p=!0}}function onGestureChange(e){if(!eventWithinSlide(e))return;const r=n.params.zoom,o=n.zoom,i=v.findIndex((n=>n.pointerId===e.pointerId));i>=0&&(v[i]=e),v.length<2||(c=!0,C.scaleMove=getDistanceBetweenTouches(),C.imageEl&&(o.scale=C.scaleMove/C.scaleStart*u,o.scale>C.maxRatio&&(o.scale=C.maxRatio-1+(o.scale-C.maxRatio+1)**.5),o.scale<r.minRatio&&(o.scale=r.minRatio+1-(r.minRatio-o.scale+1)**.5),C.imageEl.style.transform=`translate3d(0,0,0) scale(${o.scale})`))}function onGestureEnd(e){if(!eventWithinSlide(e))return;if("mouse"===e.pointerType&&"pointerout"===e.type)return;const r=n.params.zoom,o=n.zoom,i=v.findIndex((n=>n.pointerId===e.pointerId));i>=0&&v.splice(i,1),a&&c&&(a=!1,c=!1,C.imageEl&&(o.scale=Math.max(Math.min(o.scale,C.maxRatio),r.minRatio),C.imageEl.style.transitionDuration=`${n.params.speed}ms`,C.imageEl.style.transform=`translate3d(0,0,0) scale(${o.scale})`,u=o.scale,p=!1,o.scale>1&&C.slideEl?C.slideEl.classList.add(`${r.zoomedSlideClass}`):o.scale<=1&&C.slideEl&&C.slideEl.classList.remove(`${r.zoomedSlideClass}`),1===o.scale&&(C.originX=0,C.originY=0,C.slideEl=void 0)))}function allowTouchMove(){n.touchEventsData.preventTouchMoveFromPointerMove=!1}function onTouchMove(e){const r="mouse"===e.pointerType&&n.params.zoom.panOnMouseMove;if(!eventWithinSlide(e)||!eventWithinZoomContainer(e))return;const o=n.zoom;if(!C.imageEl)return;if(!b.isTouched||!C.slideEl)return r&&onMouseMove(e),void 0;if(r)return onMouseMove(e),void 0;b.isMoved||(b.width=C.imageEl.offsetWidth||C.imageEl.clientWidth,b.height=C.imageEl.offsetHeight||C.imageEl.clientHeight,b.startX=(0,E.j)(C.imageWrapEl,"x")||0,b.startY=(0,E.j)(C.imageWrapEl,"y")||0,C.slideWidth=C.slideEl.offsetWidth,C.slideHeight=C.slideEl.offsetHeight,C.imageWrapEl.style.transitionDuration="0ms");const i=b.height*o.scale;b.minX=Math.min(C.slideWidth/2-b.width*o.scale/2,0),b.maxX=-b.minX,b.minY=Math.min(C.slideHeight/2-i/2,0),b.maxY=-b.minY,b.touchesCurrent.x=v.length>0?v[0].pageX:e.pageX,b.touchesCurrent.y=v.length>0?v[0].pageY:e.pageY;if(Math.max(Math.abs(b.touchesCurrent.x-b.touchesStart.x),Math.abs(b.touchesCurrent.y-b.touchesStart.y))>5&&(n.allowClick=!1),!b.isMoved&&!p){if(n.isHorizontal()&&(Math.floor(b.minX)===Math.floor(b.startX)&&b.touchesCurrent.x<b.touchesStart.x||Math.floor(b.maxX)===Math.floor(b.startX)&&b.touchesCurrent.x>b.touchesStart.x))return b.isTouched=!1,allowTouchMove(),void 0;if(!n.isHorizontal()&&(Math.floor(b.minY)===Math.floor(b.startY)&&b.touchesCurrent.y<b.touchesStart.y||Math.floor(b.maxY)===Math.floor(b.startY)&&b.touchesCurrent.y>b.touchesStart.y))return b.isTouched=!1,allowTouchMove(),void 0}e.cancelable&&e.preventDefault(),e.stopPropagation(),function preventTouchMove(){clearTimeout(A),n.touchEventsData.preventTouchMoveFromPointerMove=!0,A=setTimeout((()=>{n.destroyed||allowTouchMove()}))}(),b.isMoved=!0;const s=(o.scale-u)/(C.maxRatio-n.params.zoom.minRatio),{originX:a,originY:c}=C;b.currentX=b.touchesCurrent.x-b.touchesStart.x+b.startX+s*(b.width-2*a),b.currentY=b.touchesCurrent.y-b.touchesStart.y+b.startY+s*(b.height-2*c),b.currentX<b.minX&&(b.currentX=b.minX+1-(b.minX-b.currentX+1)**.8),b.currentX>b.maxX&&(b.currentX=b.maxX-1+(b.currentX-b.maxX+1)**.8),b.currentY<b.minY&&(b.currentY=b.minY+1-(b.minY-b.currentY+1)**.8),b.currentY>b.maxY&&(b.currentY=b.maxY-1+(b.currentY-b.maxY+1)**.8),w.prevPositionX||(w.prevPositionX=b.touchesCurrent.x),w.prevPositionY||(w.prevPositionY=b.touchesCurrent.y),w.prevTime||(w.prevTime=Date.now()),w.x=(b.touchesCurrent.x-w.prevPositionX)/(Date.now()-w.prevTime)/2,w.y=(b.touchesCurrent.y-w.prevPositionY)/(Date.now()-w.prevTime)/2,Math.abs(b.touchesCurrent.x-w.prevPositionX)<2&&(w.x=0),Math.abs(b.touchesCurrent.y-w.prevPositionY)<2&&(w.y=0),w.prevPositionX=b.touchesCurrent.x,w.prevPositionY=b.touchesCurrent.y,w.prevTime=Date.now(),C.imageWrapEl.style.transform=`translate3d(${b.currentX}px, ${b.currentY}px,0)`}function onTransitionEnd(){const e=n.zoom;C.slideEl&&n.activeIndex!==n.slides.indexOf(C.slideEl)&&(C.imageEl&&(C.imageEl.style.transform="translate3d(0,0,0) scale(1)"),C.imageWrapEl&&(C.imageWrapEl.style.transform="translate3d(0,0,0)"),C.slideEl.classList.remove(`${n.params.zoom.zoomedSlideClass}`),e.scale=1,u=1,C.slideEl=void 0,C.imageEl=void 0,C.imageWrapEl=void 0,C.originX=0,C.originY=0)}function onMouseMove(e){if(u<=1||!C.imageWrapEl)return;if(!eventWithinSlide(e)||!eventWithinZoomContainer(e))return;const n=s.getComputedStyle(C.imageWrapEl).transform,r=new s.DOMMatrix(n);if(!f)return f=!0,g.x=e.clientX,g.y=e.clientY,b.startX=r.e,b.startY=r.f,b.width=C.imageEl.offsetWidth||C.imageEl.clientWidth,b.height=C.imageEl.offsetHeight||C.imageEl.clientHeight,C.slideWidth=C.slideEl.offsetWidth,C.slideHeight=C.slideEl.offsetHeight,void 0;const o=-3*(e.clientX-g.x),i=-3*(e.clientY-g.y),a=b.height*u,c=C.slideHeight,p=Math.min(C.slideWidth/2-b.width*u/2,0),v=-p,w=Math.min(c/2-a/2,0),A=-w,_=Math.max(Math.min(b.startX+o,v),p),E=Math.max(Math.min(b.startY+i,A),w);C.imageWrapEl.style.transitionDuration="0ms",C.imageWrapEl.style.transform=`translate3d(${_}px, ${E}px, 0)`,g.x=e.clientX,g.y=e.clientY,b.startX=_,b.startY=E,b.currentX=_,b.currentY=E}function zoomIn(e){const r=n.zoom,o=n.params.zoom;if(!C.slideEl){e&&e.target&&(C.slideEl=e.target.closest(`.${n.params.slideClass}, swiper-slide`)),C.slideEl||(C.slideEl=n.params.virtual&&n.params.virtual.enabled&&n.virtual?(0,E.e)(n.slidesEl,`.${n.params.slideActiveClass}`)[0]:n.slides[n.activeIndex]);let r=C.slideEl.querySelector(`.${o.containerClass}`);r&&(r=r.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),C.imageEl=r,C.imageWrapEl=r?(0,E.a)(C.imageEl,`.${o.containerClass}`)[0]:void 0}if(!C.imageEl||!C.imageWrapEl)return;let i,a,c,p,f,g,v,w,A,_,I,T,P,k,x,F,R,N;n.params.cssMode&&(n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.touchAction="none"),C.slideEl.classList.add(`${o.zoomedSlideClass}`),void 0===b.touchesStart.x&&e?(i=e.pageX,a=e.pageY):(i=b.touchesStart.x,a=b.touchesStart.y);const L=u,H="number"==typeof e?e:null;1===u&&H&&(i=void 0,a=void 0,b.touchesStart.x=void 0,b.touchesStart.y=void 0);const U=getMaxRatio();r.scale=H||U,u=H||U,!e||1===u&&H?(v=0,w=0):(R=C.slideEl.offsetWidth,N=C.slideEl.offsetHeight,c=(0,E.b)(C.slideEl).left+s.scrollX,p=(0,E.b)(C.slideEl).top+s.scrollY,f=c+R/2-i,g=p+N/2-a,A=C.imageEl.offsetWidth||C.imageEl.clientWidth,_=C.imageEl.offsetHeight||C.imageEl.clientHeight,I=A*r.scale,T=_*r.scale,P=Math.min(R/2-I/2,0),k=Math.min(N/2-T/2,0),x=-P,F=-k,L>0&&H&&"number"==typeof b.currentX&&"number"==typeof b.currentY?(v=b.currentX*r.scale/L,w=b.currentY*r.scale/L):(v=f*r.scale,w=g*r.scale),v<P&&(v=P),v>x&&(v=x),w<k&&(w=k),w>F&&(w=F)),H&&1===r.scale&&(C.originX=0,C.originY=0),b.currentX=v,b.currentY=w,C.imageWrapEl.style.transitionDuration="300ms",C.imageWrapEl.style.transform=`translate3d(${v}px, ${w}px,0)`,C.imageEl.style.transitionDuration="300ms",C.imageEl.style.transform=`translate3d(0,0,0) scale(${r.scale})`}function zoomOut(){const e=n.zoom,r=n.params.zoom;if(!C.slideEl){C.slideEl=n.params.virtual&&n.params.virtual.enabled&&n.virtual?(0,E.e)(n.slidesEl,`.${n.params.slideActiveClass}`)[0]:n.slides[n.activeIndex];let e=C.slideEl.querySelector(`.${r.containerClass}`);e&&(e=e.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),C.imageEl=e,C.imageWrapEl=e?(0,E.a)(C.imageEl,`.${r.containerClass}`)[0]:void 0}C.imageEl&&C.imageWrapEl&&(n.params.cssMode&&(n.wrapperEl.style.overflow="",n.wrapperEl.style.touchAction=""),e.scale=1,u=1,b.currentX=void 0,b.currentY=void 0,b.touchesStart.x=void 0,b.touchesStart.y=void 0,C.imageWrapEl.style.transitionDuration="300ms",C.imageWrapEl.style.transform="translate3d(0,0,0)",C.imageEl.style.transitionDuration="300ms",C.imageEl.style.transform="translate3d(0,0,0) scale(1)",C.slideEl.classList.remove(`${r.zoomedSlideClass}`),C.slideEl=void 0,C.originX=0,C.originY=0,n.params.zoom.panOnMouseMove&&(g={x:0,y:0},f&&(f=!1,b.startX=0,b.startY=0)))}function zoomToggle(e){const r=n.zoom;r.scale&&1!==r.scale?zoomOut():zoomIn(e)}function getListeners(){return{passiveListener:!!n.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!n.params.passiveListeners||{passive:!1,capture:!0}}}function enable(){const e=n.zoom;if(e.enabled)return;e.enabled=!0;const{passiveListener:r,activeListenerWithCapture:o}=getListeners();n.wrapperEl.addEventListener("pointerdown",onGestureStart,r),n.wrapperEl.addEventListener("pointermove",onGestureChange,o),["pointerup","pointercancel","pointerout"].forEach((e=>{n.wrapperEl.addEventListener(e,onGestureEnd,r)})),n.wrapperEl.addEventListener("pointermove",onTouchMove,o)}function disable(){const e=n.zoom;if(!e.enabled)return;e.enabled=!1;const{passiveListener:r,activeListenerWithCapture:o}=getListeners();n.wrapperEl.removeEventListener("pointerdown",onGestureStart,r),n.wrapperEl.removeEventListener("pointermove",onGestureChange,o),["pointerup","pointercancel","pointerout"].forEach((e=>{n.wrapperEl.removeEventListener(e,onGestureEnd,r)})),n.wrapperEl.removeEventListener("pointermove",onTouchMove,o)}Object.defineProperty(n.zoom,"scale",{get:()=>I,set(e){if(I!==e){i("zoomChange",e,C.imageEl,C.slideEl)}I=e}}),o("init",(()=>{n.params.zoom.enabled&&enable()})),o("destroy",(()=>{disable()})),o("touchStart",((e,r)=>{n.zoom.enabled&&!function onTouchStart(e){if(!C.imageEl)return;if(b.isTouched)return;n.device.android&&e.cancelable&&e.preventDefault(),b.isTouched=!0;const r=v.length>0?v[0]:e;b.touchesStart.x=r.pageX,b.touchesStart.y=r.pageY}(r)})),o("touchEnd",((e,r)=>{n.zoom.enabled&&!function onTouchEnd(){const e=n.zoom;if(v.length=0,!C.imageEl)return;if(!b.isTouched||!b.isMoved)return b.isTouched=!1,b.isMoved=!1,void 0;b.isTouched=!1,b.isMoved=!1;let r=300,o=300;const i=b.currentX+w.x*r,s=b.currentY+w.y*o;0!==w.x&&(r=Math.abs((i-b.currentX)/w.x)),0!==w.y&&(o=Math.abs((s-b.currentY)/w.y));const a=Math.max(r,o);b.currentX=i,b.currentY=s;const c=b.height*e.scale;b.minX=Math.min(C.slideWidth/2-b.width*e.scale/2,0),b.maxX=-b.minX,b.minY=Math.min(C.slideHeight/2-c/2,0),b.maxY=-b.minY,b.currentX=Math.max(Math.min(b.currentX,b.maxX),b.minX),b.currentY=Math.max(Math.min(b.currentY,b.maxY),b.minY),C.imageWrapEl.style.transitionDuration=`${a}ms`,C.imageWrapEl.style.transform=`translate3d(${b.currentX}px, ${b.currentY}px,0)`}()})),o("doubleTap",((e,r)=>{!n.animating&&n.params.zoom.enabled&&n.zoom.enabled&&n.params.zoom.toggle&&zoomToggle(r)})),o("transitionEnd",(()=>{n.zoom.enabled&&n.params.zoom.enabled&&onTransitionEnd()})),o("slideChange",(()=>{n.zoom.enabled&&n.params.zoom.enabled&&n.params.cssMode&&onTransitionEnd()})),Object.assign(n.zoom,{enable,disable,in:zoomIn,out:zoomOut,toggle:zoomToggle})},function Controller(e){let{swiper:n,extendParams:r,on:o}=e;function LinearSpline(e,n){const r=function search(){let e,n,r;return(o,i)=>{for(n=-1,e=o.length;e-n>1;)r=e+n>>1,o[r]<=i?n=r:e=r;return e}}();let o,i;return this.x=e,this.y=n,this.lastIndex=e.length-1,this.interpolate=function interpolate(e){return e?(i=r(this.x,e),o=i-1,(e-this.x[o])*(this.y[i]-this.y[o])/(this.x[i]-this.x[o])+this.y[o]):0},this}function removeSpline(){n.controller.control&&n.controller.spline&&(n.controller.spline=void 0,delete n.controller.spline)}r({controller:{control:void 0,inverse:!1,by:"slide"}}),n.controller={control:void 0},o("beforeInit",(()=>{if("undefined"!=typeof window&&("string"==typeof n.params.controller.control||n.params.controller.control instanceof HTMLElement)){return("string"==typeof n.params.controller.control?[...document.querySelectorAll(n.params.controller.control)]:[n.params.controller.control]).forEach((e=>{if(n.controller.control||(n.controller.control=[]),e&&e.swiper)n.controller.control.push(e.swiper);else if(e){const r=`${n.params.eventsPrefix}init`,onControllerSwiper=o=>{n.controller.control.push(o.detail[0]),n.update(),e.removeEventListener(r,onControllerSwiper)};e.addEventListener(r,onControllerSwiper)}})),void 0}n.controller.control=n.params.controller.control})),o("update",(()=>{removeSpline()})),o("resize",(()=>{removeSpline()})),o("observerUpdate",(()=>{removeSpline()})),o("setTranslate",((e,r,o)=>{n.controller.control&&!n.controller.control.destroyed&&n.controller.setTranslate(r,o)})),o("setTransition",((e,r,o)=>{n.controller.control&&!n.controller.control.destroyed&&n.controller.setTransition(r,o)})),Object.assign(n.controller,{setTranslate:function setTranslate(e,r){const o=n.controller.control;let i,s;const a=n.constructor;function setControlledTranslate(e){if(e.destroyed)return;const r=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(!function getInterpolateFunction(e){n.controller.spline=n.params.loop?new LinearSpline(n.slidesGrid,e.slidesGrid):new LinearSpline(n.snapGrid,e.snapGrid)}(e),s=-n.controller.spline.interpolate(-r)),s&&"container"!==n.params.controller.by||(i=(e.maxTranslate()-e.minTranslate())/(n.maxTranslate()-n.minTranslate()),!Number.isNaN(i)&&Number.isFinite(i)||(i=1),s=(r-n.minTranslate())*i+e.minTranslate()),n.params.controller.inverse&&(s=e.maxTranslate()-s),e.updateProgress(s),e.setTranslate(s,n),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(o))for(let e=0;e<o.length;e+=1)o[e]!==r&&o[e]instanceof a&&setControlledTranslate(o[e]);else o instanceof a&&r!==o&&setControlledTranslate(o)},setTransition:function setTransition(e,r){const o=n.constructor,i=n.controller.control;let s;function setControlledTransition(r){r.destroyed||(r.setTransition(e,n),0!==e&&(r.transitionStart(),r.params.autoHeight&&(0,E.n)((()=>{r.updateAutoHeight()})),(0,E.k)(r.wrapperEl,(()=>{i&&r.transitionEnd()}))))}if(Array.isArray(i))for(s=0;s<i.length;s+=1)i[s]!==r&&i[s]instanceof o&&setControlledTransition(i[s]);else i instanceof o&&r!==i&&setControlledTransition(i)}})},function A11y(e){let{swiper:n,extendParams:r,on:o}=e;r({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),n.a11y={clicked:!1};let i,s,a=null,c=(new Date).getTime();function notify(e){const n=a;0!==n.length&&(n.innerHTML="",n.innerHTML=e)}function makeElFocusable(e){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function makeElNotFocusable(e){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function addElRole(e,n){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("role",n)}))}function addElRoleDescription(e,n){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("aria-roledescription",n)}))}function addElLabel(e,n){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("aria-label",n)}))}function disableEl(e){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function enableEl(e){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function onEnterOrSpaceKey(e){if(13!==e.keyCode&&32!==e.keyCode)return;const r=n.params.a11y,o=e.target;if(!n.pagination||!n.pagination.el||o!==n.pagination.el&&!n.pagination.el.contains(e.target)||e.target.matches(classesToSelector(n.params.pagination.bulletClass))){if(n.navigation&&n.navigation.prevEl&&n.navigation.nextEl){const e=(0,E.m)(n.navigation.prevEl);(0,E.m)(n.navigation.nextEl).includes(o)&&(n.isEnd&&!n.params.loop||n.slideNext(),notify(n.isEnd?r.lastSlideMessage:r.nextSlideMessage)),e.includes(o)&&(n.isBeginning&&!n.params.loop||n.slidePrev(),notify(n.isBeginning?r.firstSlideMessage:r.prevSlideMessage))}n.pagination&&o.matches(classesToSelector(n.params.pagination.bulletClass))&&o.click()}}function hasPagination(){return n.pagination&&n.pagination.bullets&&n.pagination.bullets.length}function hasClickablePagination(){return hasPagination()&&n.params.pagination.clickable}const initNavEl=(e,n,r)=>{makeElFocusable(e),"BUTTON"!==e.tagName&&(addElRole(e,"button"),e.addEventListener("keydown",onEnterOrSpaceKey)),addElLabel(e,r),function addElControls(e,n){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("aria-controls",n)}))}(e,n)},handlePointerDown=e=>{s&&s!==e.target&&!s.contains(e.target)&&(i=!0),n.a11y.clicked=!0},handlePointerUp=()=>{i=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{n.destroyed||(n.a11y.clicked=!1)}))}))},onVisibilityChange=e=>{c=(new Date).getTime()},handleFocus=e=>{if(n.a11y.clicked||!n.params.a11y.scrollOnFocus)return;if((new Date).getTime()-c<100)return;const r=e.target.closest(`.${n.params.slideClass}, swiper-slide`);if(!r||!n.slides.includes(r))return;s=r;const o=n.slides.indexOf(r)===n.activeIndex,a=n.params.watchSlidesProgress&&n.visibleSlides&&n.visibleSlides.includes(r);o||a||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(n.isHorizontal()?n.el.scrollLeft=0:n.el.scrollTop=0,requestAnimationFrame((()=>{i||(n.params.loop?n.slideToLoop(parseInt(r.getAttribute("data-swiper-slide-index")),0):n.slideTo(n.slides.indexOf(r),0),i=!1)})))},initSlides=()=>{const e=n.params.a11y;e.itemRoleDescriptionMessage&&addElRoleDescription(n.slides,e.itemRoleDescriptionMessage),e.slideRole&&addElRole(n.slides,e.slideRole);const r=n.slides.length;e.slideLabelMessage&&n.slides.forEach(((o,i)=>{const s=n.params.loop?parseInt(o.getAttribute("data-swiper-slide-index"),10):i;addElLabel(o,e.slideLabelMessage.replace(/\{\{index\}\}/,s+1).replace(/\{\{slidesLength\}\}/,r))}))},init=()=>{const e=n.params.a11y;n.el.append(a);const r=n.el;e.containerRoleDescriptionMessage&&addElRoleDescription(r,e.containerRoleDescriptionMessage),e.containerMessage&&addElLabel(r,e.containerMessage),e.containerRole&&addElRole(r,e.containerRole);const o=n.wrapperEl,i=e.id||o.getAttribute("id")||`swiper-wrapper-${function getRandomNumber(e){return void 0===e&&(e=16),"x".repeat(e).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}(16)}`,s=n.params.autoplay&&n.params.autoplay.enabled?"off":"polite";!function addElId(e,n){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("id",n)}))}(o,i),function addElLive(e,n){(e=(0,E.m)(e)).forEach((e=>{e.setAttribute("aria-live",n)}))}(o,s),initSlides();let{nextEl:c,prevEl:u}=n.navigation?n.navigation:{};if(c=(0,E.m)(c),u=(0,E.m)(u),c&&c.forEach((n=>initNavEl(n,i,e.nextSlideMessage))),u&&u.forEach((n=>initNavEl(n,i,e.prevSlideMessage))),hasClickablePagination()){(0,E.m)(n.pagination.el).forEach((e=>{e.addEventListener("keydown",onEnterOrSpaceKey)}))}(0,_.g)().addEventListener("visibilitychange",onVisibilityChange),n.el.addEventListener("focus",handleFocus,!0),n.el.addEventListener("focus",handleFocus,!0),n.el.addEventListener("pointerdown",handlePointerDown,!0),n.el.addEventListener("pointerup",handlePointerUp,!0)};o("beforeInit",(()=>{a=(0,E.c)("span",n.params.a11y.notificationClass),a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true")})),o("afterInit",(()=>{n.params.a11y.enabled&&init()})),o("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{n.params.a11y.enabled&&initSlides()})),o("fromEdge toEdge afterInit lock unlock",(()=>{n.params.a11y.enabled&&!function updateNavigation(){if(n.params.loop||n.params.rewind||!n.navigation)return;const{nextEl:e,prevEl:r}=n.navigation;r&&(n.isBeginning?(disableEl(r),makeElNotFocusable(r)):(enableEl(r),makeElFocusable(r))),e&&(n.isEnd?(disableEl(e),makeElNotFocusable(e)):(enableEl(e),makeElFocusable(e)))}()})),o("paginationUpdate",(()=>{n.params.a11y.enabled&&!function updatePagination(){const e=n.params.a11y;hasPagination()&&n.pagination.bullets.forEach((r=>{n.params.pagination.clickable&&(makeElFocusable(r),n.params.pagination.renderBullet||(addElRole(r,"button"),addElLabel(r,e.paginationBulletMessage.replace(/\{\{index\}\}/,(0,E.h)(r)+1)))),r.matches(classesToSelector(n.params.pagination.bulletActiveClass))?r.setAttribute("aria-current","true"):r.removeAttribute("aria-current")}))}()})),o("destroy",(()=>{n.params.a11y.enabled&&!function destroy(){a&&a.remove();let{nextEl:e,prevEl:r}=n.navigation?n.navigation:{};e=(0,E.m)(e),r=(0,E.m)(r),e&&e.forEach((e=>e.removeEventListener("keydown",onEnterOrSpaceKey))),r&&r.forEach((e=>e.removeEventListener("keydown",onEnterOrSpaceKey))),hasClickablePagination()&&(0,E.m)(n.pagination.el).forEach((e=>{e.removeEventListener("keydown",onEnterOrSpaceKey)}));(0,_.g)().removeEventListener("visibilitychange",onVisibilityChange),n.el&&"string"!=typeof n.el&&(n.el.removeEventListener("focus",handleFocus,!0),n.el.removeEventListener("pointerdown",handlePointerDown,!0),n.el.removeEventListener("pointerup",handlePointerUp,!0))}()}))},function History(e){let{swiper:n,extendParams:r,on:o}=e;r({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,s={};const slugify=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),getPathValues=e=>{const n=(0,_.a)();let r;r=e?new URL(e):n.location;const o=r.pathname.slice(1).split("/").filter((e=>""!==e)),i=o.length;return{key:o[i-2],value:o[i-1]}},setHistory=(e,r)=>{const o=(0,_.a)();if(!i||!n.params.history.enabled)return;let s;s=n.params.url?new URL(n.params.url):o.location;const a=n.virtual&&n.params.virtual.enabled?n.slidesEl.querySelector(`[data-swiper-slide-index="${r}"]`):n.slides[r];let c=slugify(a.getAttribute("data-history"));if(n.params.history.root.length>0){let r=n.params.history.root;"/"===r[r.length-1]&&(r=r.slice(0,r.length-1)),c=`${r}/${e?`${e}/`:""}${c}`}else s.pathname.includes(e)||(c=`${e?`${e}/`:""}${c}`);n.params.history.keepQuery&&(c+=s.search);const u=o.history.state;u&&u.value===c||(n.params.history.replaceState?o.history.replaceState({value:c},null,c):o.history.pushState({value:c},null,c))},scrollToSlide=(e,r,o)=>{if(r)for(let i=0,s=n.slides.length;i<s;i+=1){const s=n.slides[i];if(slugify(s.getAttribute("data-history"))===r){const r=n.getSlideIndex(s);n.slideTo(r,e,o)}}else n.slideTo(0,e,o)},setHistoryPopState=()=>{s=getPathValues(n.params.url),scrollToSlide(n.params.speed,s.value,!1)};o("init",(()=>{n.params.history.enabled&&(()=>{const e=(0,_.a)();if(n.params.history){if(!e.history||!e.history.pushState)return n.params.history.enabled=!1,n.params.hashNavigation.enabled=!0,void 0;if(i=!0,s=getPathValues(n.params.url),!s.key&&!s.value)return n.params.history.replaceState||e.addEventListener("popstate",setHistoryPopState),void 0;scrollToSlide(0,s.value,n.params.runCallbacksOnInit),n.params.history.replaceState||e.addEventListener("popstate",setHistoryPopState)}})()})),o("destroy",(()=>{n.params.history.enabled&&(()=>{const e=(0,_.a)();n.params.history.replaceState||e.removeEventListener("popstate",setHistoryPopState)})()})),o("transitionEnd _freeModeNoMomentumRelease",(()=>{i&&setHistory(n.params.history.key,n.activeIndex)})),o("slideChange",(()=>{i&&n.params.cssMode&&setHistory(n.params.history.key,n.activeIndex)}))},function HashNavigation(e){let{swiper:n,extendParams:r,emit:o,on:i}=e,s=!1;const a=(0,_.g)(),c=(0,_.a)();r({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(e,r){if(n.virtual&&n.params.virtual.enabled){const e=n.slides.find((e=>e.getAttribute("data-hash")===r));if(!e)return 0;return parseInt(e.getAttribute("data-swiper-slide-index"),10)}return n.getSlideIndex((0,E.e)(n.slidesEl,`.${n.params.slideClass}[data-hash="${r}"], swiper-slide[data-hash="${r}"]`)[0])}}});const onHashChange=()=>{o("hashChange");const e=a.location.hash.replace("#",""),r=n.virtual&&n.params.virtual.enabled?n.slidesEl.querySelector(`[data-swiper-slide-index="${n.activeIndex}"]`):n.slides[n.activeIndex];if(e!==(r?r.getAttribute("data-hash"):"")){const r=n.params.hashNavigation.getSlideIndex(n,e);if(void 0===r||Number.isNaN(r))return;n.slideTo(r)}},setHash=()=>{if(!s||!n.params.hashNavigation.enabled)return;const e=n.virtual&&n.params.virtual.enabled?n.slidesEl.querySelector(`[data-swiper-slide-index="${n.activeIndex}"]`):n.slides[n.activeIndex],r=e?e.getAttribute("data-hash")||e.getAttribute("data-history"):"";n.params.hashNavigation.replaceState&&c.history&&c.history.replaceState?(c.history.replaceState(null,null,`#${r}`||""),o("hashSet")):(a.location.hash=r||"",o("hashSet"))};i("init",(()=>{n.params.hashNavigation.enabled&&(()=>{if(!n.params.hashNavigation.enabled||n.params.history&&n.params.history.enabled)return;s=!0;const e=a.location.hash.replace("#","");if(e){const r=0,o=n.params.hashNavigation.getSlideIndex(n,e);n.slideTo(o||0,r,n.params.runCallbacksOnInit,!0)}n.params.hashNavigation.watchState&&c.addEventListener("hashchange",onHashChange)})()})),i("destroy",(()=>{n.params.hashNavigation.enabled&&void(n.params.hashNavigation.watchState&&c.removeEventListener("hashchange",onHashChange))})),i("transitionEnd _freeModeNoMomentumRelease",(()=>{s&&setHash()})),i("slideChange",(()=>{s&&n.params.cssMode&&setHash()}))},function Autoplay(e){let n,r,{swiper:o,extendParams:i,on:s,emit:a,params:c}=e;o.autoplay={running:!1,paused:!1,timeLeft:0},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,p,f,g,v,C,b,w,A=c&&c.autoplay?c.autoplay.delay:3e3,E=c&&c.autoplay?c.autoplay.delay:3e3,I=(new Date).getTime();function onTransitionEnd(e){o&&!o.destroyed&&o.wrapperEl&&e.target===o.wrapperEl&&(o.wrapperEl.removeEventListener("transitionend",onTransitionEnd),w||e.detail&&e.detail.bySwiperTouchMove||resume())}const calcTimeLeft=()=>{if(o.destroyed||!o.autoplay.running)return;o.autoplay.paused?p=!0:p&&(E=u,p=!1);const e=o.autoplay.paused?u:I+E-(new Date).getTime();o.autoplay.timeLeft=e,a("autoplayTimeLeft",e,e/A),r=requestAnimationFrame((()=>{calcTimeLeft()}))},run=e=>{if(o.destroyed||!o.autoplay.running)return;cancelAnimationFrame(r),calcTimeLeft();let i=void 0===e?o.params.autoplay.delay:e;A=o.params.autoplay.delay,E=o.params.autoplay.delay;const s=(()=>{let e;if(e=o.virtual&&o.params.virtual.enabled?o.slides.find((e=>e.classList.contains("swiper-slide-active"))):o.slides[o.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(s)&&s>0&&void 0===e&&(i=s,A=s,E=s),u=i;const c=o.params.speed,proceed=()=>{o&&!o.destroyed&&(o.params.autoplay.reverseDirection?!o.isBeginning||o.params.loop||o.params.rewind?(o.slidePrev(c,!0,!0),a("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(o.slides.length-1,c,!0,!0),a("autoplay")):!o.isEnd||o.params.loop||o.params.rewind?(o.slideNext(c,!0,!0),a("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(0,c,!0,!0),a("autoplay")),o.params.cssMode&&(I=(new Date).getTime(),requestAnimationFrame((()=>{run()}))))};return i>0?(clearTimeout(n),n=setTimeout((()=>{proceed()}),i)):requestAnimationFrame((()=>{proceed()})),i},start=()=>{I=(new Date).getTime(),o.autoplay.running=!0,run(),a("autoplayStart")},stop=()=>{o.autoplay.running=!1,clearTimeout(n),cancelAnimationFrame(r),a("autoplayStop")},pause=(e,r)=>{if(o.destroyed||!o.autoplay.running)return;clearTimeout(n),e||(b=!0);const proceed=()=>{a("autoplayPause"),o.params.autoplay.waitForTransition?o.wrapperEl.addEventListener("transitionend",onTransitionEnd):resume()};if(o.autoplay.paused=!0,r)return C&&(u=o.params.autoplay.delay),C=!1,proceed(),void 0;u=(u||o.params.autoplay.delay)-((new Date).getTime()-I),o.isEnd&&u<0&&!o.params.loop||(u<0&&(u=0),proceed())},resume=()=>{o.isEnd&&u<0&&!o.params.loop||o.destroyed||!o.autoplay.running||(I=(new Date).getTime(),b?(b=!1,run(u)):run(),o.autoplay.paused=!1,a("autoplayResume"))},onVisibilityChange=()=>{if(o.destroyed||!o.autoplay.running)return;const e=(0,_.g)();"hidden"===e.visibilityState&&(b=!0,pause(!0)),"visible"===e.visibilityState&&resume()},onPointerEnter=e=>{"mouse"===e.pointerType&&(b=!0,w=!0,o.animating||o.autoplay.paused||pause(!0))},onPointerLeave=e=>{"mouse"===e.pointerType&&(w=!1,o.autoplay.paused&&resume())};s("init",(()=>{o.params.autoplay.enabled&&(void(o.params.autoplay.pauseOnMouseEnter&&(o.el.addEventListener("pointerenter",onPointerEnter),o.el.addEventListener("pointerleave",onPointerLeave))),(0,_.g)().addEventListener("visibilitychange",onVisibilityChange),start())})),s("destroy",(()=>{void(o.el&&"string"!=typeof o.el&&(o.el.removeEventListener("pointerenter",onPointerEnter),o.el.removeEventListener("pointerleave",onPointerLeave))),(0,_.g)().removeEventListener("visibilitychange",onVisibilityChange),o.autoplay.running&&stop()})),s("_freeModeStaticRelease",(()=>{(g||b)&&resume()})),s("_freeModeNoMomentumRelease",(()=>{o.params.autoplay.disableOnInteraction?stop():pause(!0,!0)})),s("beforeTransitionStart",((e,n,r)=>{!o.destroyed&&o.autoplay.running&&(r||!o.params.autoplay.disableOnInteraction?pause(!0,!0):stop())})),s("sliderFirstMove",(()=>{if(!o.destroyed&&o.autoplay.running){if(o.params.autoplay.disableOnInteraction)return stop(),void 0;f=!0,g=!1,b=!1,v=setTimeout((()=>{b=!0,g=!0,pause(!0)}),200)}})),s("touchEnd",(()=>{if(!o.destroyed&&o.autoplay.running&&f){if(clearTimeout(v),clearTimeout(n),o.params.autoplay.disableOnInteraction)return g=!1,f=!1,void 0;g&&o.params.cssMode&&resume(),g=!1,f=!1}})),s("slideChange",(()=>{!o.destroyed&&o.autoplay.running&&(C=!0)})),Object.assign(o.autoplay,{start,stop,pause,resume})},function Thumb(e){let{swiper:n,extendParams:r,on:o}=e;r({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,s=!1;function onThumbClick(){const e=n.thumbs.swiper;if(!e||e.destroyed)return;const r=e.clickedIndex,o=e.clickedSlide;if(o&&o.classList.contains(n.params.thumbs.slideThumbActiveClass))return;if(null==r)return;let i;i=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):r,n.params.loop?n.slideToLoop(i):n.slideTo(i)}function init(){const{thumbs:e}=n.params;if(i)return!1;i=!0;const r=n.constructor;if(e.swiper instanceof r){if(e.swiper.destroyed)return i=!1,!1;n.thumbs.swiper=e.swiper,Object.assign(n.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(n.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),n.thumbs.swiper.update()}else if((0,E.l)(e.swiper)){const o=Object.assign({},e.swiper);Object.assign(o,{watchSlidesProgress:!0,slideToClickedSlide:!1}),n.thumbs.swiper=new r(o),s=!0}return n.thumbs.swiper.el.classList.add(n.params.thumbs.thumbsContainerClass),n.thumbs.swiper.on("tap",onThumbClick),!0}function update(e){const r=n.thumbs.swiper;if(!r||r.destroyed)return;const o="auto"===r.params.slidesPerView?r.slidesPerViewDynamic():r.params.slidesPerView;let i=1;const s=n.params.thumbs.slideThumbActiveClass;if(n.params.slidesPerView>1&&!n.params.centeredSlides&&(i=n.params.slidesPerView),n.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),r.slides.forEach((e=>e.classList.remove(s))),r.params.loop||r.params.virtual&&r.params.virtual.enabled)for(let e=0;e<i;e+=1)(0,E.e)(r.slidesEl,`[data-swiper-slide-index="${n.realIndex+e}"]`).forEach((e=>{e.classList.add(s)}));else for(let e=0;e<i;e+=1)r.slides[n.realIndex+e]&&r.slides[n.realIndex+e].classList.add(s);const a=n.params.thumbs.autoScrollOffset,c=a&&!r.params.loop;if(n.realIndex!==r.realIndex||c){const i=r.activeIndex;let s,u;if(r.params.loop){const e=r.slides.find((e=>e.getAttribute("data-swiper-slide-index")===`${n.realIndex}`));s=r.slides.indexOf(e),u=n.activeIndex>n.previousIndex?"next":"prev"}else s=n.realIndex,u=s>n.previousIndex?"next":"prev";c&&(s+="next"===u?a:-1*a),r.visibleSlidesIndexes&&r.visibleSlidesIndexes.indexOf(s)<0&&(r.params.centeredSlides?s=s>i?s-Math.floor(o/2)+1:s+Math.floor(o/2)-1:s>i&&1===r.params.slidesPerGroup,r.slideTo(s,e?0:void 0))}}n.thumbs={swiper:null},o("beforeInit",(()=>{const{thumbs:e}=n.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const r=(0,_.g)(),getThumbsElementAndInit=()=>{const o="string"==typeof e.swiper?r.querySelector(e.swiper):e.swiper;if(o&&o.swiper)e.swiper=o.swiper,init(),update(!0);else if(o){const r=`${n.params.eventsPrefix}init`,onThumbsSwiper=i=>{e.swiper=i.detail[0],o.removeEventListener(r,onThumbsSwiper),init(),update(!0),e.swiper.update(),n.update()};o.addEventListener(r,onThumbsSwiper)}return o},watchForThumbsToAppear=()=>{if(n.destroyed)return;getThumbsElementAndInit()||requestAnimationFrame(watchForThumbsToAppear)};requestAnimationFrame(watchForThumbsToAppear)}else init(),update(!0)})),o("slideChange update resize observerUpdate",(()=>{update()})),o("setTransition",((e,r)=>{const o=n.thumbs.swiper;o&&!o.destroyed&&o.setTransition(r)})),o("beforeDestroy",(()=>{const e=n.thumbs.swiper;e&&!e.destroyed&&s&&e.destroy()})),Object.assign(n.thumbs,{init,update})},function freeMode(e){let{swiper:n,extendParams:r,emit:o,once:i}=e;r({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(n,{freeMode:{onTouchStart:function onTouchStart(){if(n.params.cssMode)return;const e=n.getTranslate();n.setTranslate(e),n.setTransition(0),n.touchEventsData.velocities.length=0,n.freeMode.onTouchEnd({currentPos:n.rtl?n.translate:-n.translate})},onTouchMove:function onTouchMove(){if(n.params.cssMode)return;const{touchEventsData:e,touches:r}=n;0===e.velocities.length&&e.velocities.push({position:r[n.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:r[n.isHorizontal()?"currentX":"currentY"],time:(0,E.d)()})},onTouchEnd:function onTouchEnd(e){let{currentPos:r}=e;if(n.params.cssMode)return;const{params:s,wrapperEl:a,rtlTranslate:c,snapGrid:u,touchEventsData:p}=n,f=(0,E.d)()-p.touchStartTime;if(r<-n.minTranslate())return n.slideTo(n.activeIndex),void 0;if(r>-n.maxTranslate())return n.slideTo(n.slides.length<u.length?u.length-1:n.slides.length-1),void 0;if(s.freeMode.momentum){if(p.velocities.length>1){const e=p.velocities.pop(),r=p.velocities.pop(),o=e.time-r.time;n.velocity=(e.position-r.position)/o,n.velocity/=2,Math.abs(n.velocity)<s.freeMode.minimumVelocity&&(n.velocity=0),(o>150||(0,E.d)()-e.time>300)&&(n.velocity=0)}else n.velocity=0;n.velocity*=s.freeMode.momentumVelocityRatio,p.velocities.length=0;let e=1e3*s.freeMode.momentumRatio;let r=n.translate+n.velocity*e;c&&(r=-r);let f,g=!1;const v=20*Math.abs(n.velocity)*s.freeMode.momentumBounceRatio;let C;if(r<n.maxTranslate())s.freeMode.momentumBounce?(r+n.maxTranslate()<-v&&(r=n.maxTranslate()-v),f=n.maxTranslate(),g=!0,p.allowMomentumBounce=!0):r=n.maxTranslate(),s.loop&&s.centeredSlides&&(C=!0);else if(r>n.minTranslate())s.freeMode.momentumBounce?(r-n.minTranslate()>v&&(r=n.minTranslate()+v),f=n.minTranslate(),g=!0,p.allowMomentumBounce=!0):r=n.minTranslate(),s.loop&&s.centeredSlides&&(C=!0);else if(s.freeMode.sticky){let e;for(let n=0;n<u.length;n+=1)if(u[n]>-r){e=n;break}r=Math.abs(u[e]-r)<Math.abs(u[e-1]-r)||"next"===n.swipeDirection?u[e]:u[e-1],r=-r}if(C&&i("transitionEnd",(()=>{n.loopFix()})),0!==n.velocity){if(e=c?Math.abs((-r-n.translate)/n.velocity):Math.abs((r-n.translate)/n.velocity),s.freeMode.sticky){const o=Math.abs((c?-r:r)-n.translate),i=n.slidesSizesGrid[n.activeIndex];e=o<i?s.speed:o<2*i?1.5*s.speed:2.5*s.speed}}else if(s.freeMode.sticky)return n.slideToClosest(),void 0;s.freeMode.momentumBounce&&g?(n.updateProgress(f),n.setTransition(e),n.setTranslate(r),n.transitionStart(!0,n.swipeDirection),n.animating=!0,(0,E.k)(a,(()=>{n&&!n.destroyed&&p.allowMomentumBounce&&(o("momentumBounce"),n.setTransition(s.speed),setTimeout((()=>{n.setTranslate(f),(0,E.k)(a,(()=>{n&&!n.destroyed&&n.transitionEnd()}))}),0))}))):n.velocity?(o("_freeModeNoMomentumRelease"),n.updateProgress(r),n.setTransition(e),n.setTranslate(r),n.transitionStart(!0,n.swipeDirection),n.animating||(n.animating=!0,(0,E.k)(a,(()=>{n&&!n.destroyed&&n.transitionEnd()})))):n.updateProgress(r),n.updateActiveIndex(),n.updateSlidesClasses()}else{if(s.freeMode.sticky)return n.slideToClosest(),void 0;s.freeMode&&o("_freeModeNoMomentumRelease")}(!s.freeMode.momentum||f>=s.longSwipesMs)&&(o("_freeModeStaticRelease"),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses())}}})},function Grid(e){let n,r,o,i,{swiper:s,extendParams:a,on:c}=e;a({grid:{rows:1,fill:"column"}});const getSpaceBetween=()=>{let e=s.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*s.size:"string"==typeof e&&(e=parseFloat(e)),e};c("init",(()=>{i=s.params.grid&&s.params.grid.rows>1})),c("update",(()=>{const{params:e,el:n}=s,r=e.grid&&e.grid.rows>1;i&&!r?(n.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),o=1,s.emitContainerClasses()):!i&&r&&(n.classList.add(`${e.containerModifierClass}grid`),"column"===e.grid.fill&&n.classList.add(`${e.containerModifierClass}grid-column`),s.emitContainerClasses()),i=r})),s.grid={initSlides:e=>{const{slidesPerView:i}=s.params,{rows:a,fill:c}=s.params.grid,u=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:e.length;o=Math.floor(u/a),n=Math.floor(u/a)===u/a?u:Math.ceil(u/a)*a,"auto"!==i&&"row"===c&&(n=Math.max(n,i*a)),r=n/a},unsetSlides:()=>{s.slides&&s.slides.forEach((e=>{e.swiperSlideGridSet&&(e.style.height="",e.style[s.getDirectionLabel("margin-top")]="")}))},updateSlide:(e,i,a)=>{const{slidesPerGroup:c}=s.params,u=getSpaceBetween(),{rows:p,fill:f}=s.params.grid,g=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:a.length;let v,C,b;if("row"===f&&c>1){const r=Math.floor(e/(c*p)),o=e-p*c*r,s=0===r?c:Math.min(Math.ceil((g-r*p*c)/p),c);b=Math.floor(o/s),C=o-b*s+r*c,v=C+b*n/p,i.style.order=v}else"column"===f?(C=Math.floor(e/p),b=e-C*p,(C>o||C===o&&b===p-1)&&(b+=1,b>=p&&(b=0,C+=1))):(b=Math.floor(e/r),C=e-b*r);i.row=b,i.column=C,i.style.height=`calc((100% - ${(p-1)*u}px) / ${p})`,i.style[s.getDirectionLabel("margin-top")]=0!==b?u&&`${u}px`:"",i.swiperSlideGridSet=!0},updateWrapperSize:(e,r)=>{const{centeredSlides:o,roundLengths:i}=s.params,a=getSpaceBetween(),{rows:c}=s.params.grid;if(s.virtualSize=(e+a)*n,s.virtualSize=Math.ceil(s.virtualSize/c)-a,s.params.cssMode||(s.wrapperEl.style[s.getDirectionLabel("width")]=`${s.virtualSize+a}px`),o){const e=[];for(let n=0;n<r.length;n+=1){let o=r[n];i&&(o=Math.floor(o)),r[n]<s.virtualSize+r[0]&&e.push(o)}r.splice(0,r.length),r.push(...e)}}}},function Manipulation(e){let{swiper:n}=e;Object.assign(n,{appendSlide:appendSlide.bind(n),prependSlide:prependSlide.bind(n),addSlide:addSlide.bind(n),removeSlide:removeSlide.bind(n),removeAllSlides:removeAllSlides.bind(n)})},function EffectFade(e){let{swiper:n,extendParams:r,on:o}=e;r({fadeEffect:{crossFade:!1}}),effectInit({effect:"fade",swiper:n,on:o,setTranslate:()=>{const{slides:e}=n;for(let r=0;r<e.length;r+=1){const e=n.slides[r];let o=-e.swiperSlideOffset;n.params.virtualTranslate||(o-=n.translate);let i=0;n.isHorizontal()||(i=o,o=0);const s=n.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),a=effectTarget(0,e);a.style.opacity=s,a.style.transform=`translate3d(${o}px, ${i}px, 0px)`}},setTransition:e=>{const r=n.slides.map((e=>(0,E.g)(e)));r.forEach((n=>{n.style.transitionDuration=`${e}ms`})),effectVirtualTransitionEnd({swiper:n,duration:e,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!n.params.cssMode})})},function EffectCube(e){let{swiper:n,extendParams:r,on:o}=e;r({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const createSlideShadows=(e,n,r)=>{let o=e.querySelector(r?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),i=e.querySelector(r?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");o||(o=(0,E.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(r?"left":"top")).split(" ")),e.append(o)),i||(i=(0,E.c)("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(r?"right":"bottom")).split(" ")),e.append(i)),o&&(o.style.opacity=Math.max(-n,0)),i&&(i.style.opacity=Math.max(n,0))};effectInit({effect:"cube",swiper:n,on:o,setTranslate:()=>{const{el:e,wrapperEl:r,slides:o,width:i,height:s,rtlTranslate:a,size:c,browser:u}=n,p=(0,E.o)(n),f=n.params.cubeEffect,g=n.isHorizontal(),v=n.virtual&&n.params.virtual.enabled;let C,b=0;f.shadow&&(g?(C=n.wrapperEl.querySelector(".swiper-cube-shadow"),C||(C=(0,E.c)("div","swiper-cube-shadow"),n.wrapperEl.append(C)),C.style.height=`${i}px`):(C=e.querySelector(".swiper-cube-shadow"),C||(C=(0,E.c)("div","swiper-cube-shadow"),e.append(C))));for(let e=0;e<o.length;e+=1){const n=o[e];let r=e;v&&(r=parseInt(n.getAttribute("data-swiper-slide-index"),10));let i=90*r,s=Math.floor(i/360);a&&(i=-i,s=Math.floor(-i/360));const u=Math.max(Math.min(n.progress,1),-1);let C=0,w=0,A=0;r%4==0?(C=4*-s*c,A=0):(r-1)%4==0?(C=0,A=4*-s*c):(r-2)%4==0?(C=c+4*s*c,A=c):(r-3)%4==0&&(C=-c,A=3*c+4*c*s),a&&(C=-C),g||(w=C,C=0);const _=`rotateX(${p(g?0:-i)}deg) rotateY(${p(g?i:0)}deg) translate3d(${C}px, ${w}px, ${A}px)`;u<=1&&u>-1&&(b=90*r+90*u,a&&(b=90*-r-90*u)),n.style.transform=_,f.slideShadows&&createSlideShadows(n,u,g)}if(r.style.transformOrigin=`50% 50% -${c/2}px`,r.style["-webkit-transform-origin"]=`50% 50% -${c/2}px`,f.shadow)if(g)C.style.transform=`translate3d(0px, ${i/2+f.shadowOffset}px, ${-i/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${f.shadowScale})`;else{const e=Math.abs(b)-90*Math.floor(Math.abs(b)/90),n=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),r=f.shadowScale/n;C.style.transform=`scale3d(${f.shadowScale}, 1, ${r}) translate3d(0px, ${s/2+f.shadowOffset}px, ${-s/2/r}px) rotateX(-89.99deg)`}const w=(u.isSafari||u.isWebView)&&u.needPerspectiveFix?-c/2:0;r.style.transform=`translate3d(0px,0,${w}px) rotateX(${p(n.isHorizontal()?0:b)}deg) rotateY(${p(n.isHorizontal()?-b:0)}deg)`,r.style.setProperty("--swiper-cube-translate-z",`${w}px`)},setTransition:e=>{const{el:r,slides:o}=n;if(o.forEach((n=>{n.style.transitionDuration=`${e}ms`,n.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((n=>{n.style.transitionDuration=`${e}ms`}))})),n.params.cubeEffect.shadow&&!n.isHorizontal()){const n=r.querySelector(".swiper-cube-shadow");n&&(n.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=n.isHorizontal();n.slides.forEach((n=>{const r=Math.max(Math.min(n.progress,1),-1);createSlideShadows(n,r,e)}))},getEffectParams:()=>n.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function EffectFlip(e){let{swiper:n,extendParams:r,on:o}=e;r({flipEffect:{slideShadows:!0,limitRotation:!0}});const createSlideShadows=(e,r)=>{let o=n.isHorizontal()?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),i=n.isHorizontal()?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");o||(o=createShadow("flip",e,n.isHorizontal()?"left":"top")),i||(i=createShadow("flip",e,n.isHorizontal()?"right":"bottom")),o&&(o.style.opacity=Math.max(-r,0)),i&&(i.style.opacity=Math.max(r,0))};effectInit({effect:"flip",swiper:n,on:o,setTranslate:()=>{const{slides:e,rtlTranslate:r}=n,o=n.params.flipEffect,i=(0,E.o)(n);for(let s=0;s<e.length;s+=1){const a=e[s];let c=a.progress;n.params.flipEffect.limitRotation&&(c=Math.max(Math.min(a.progress,1),-1));const u=a.swiperSlideOffset;let p=-180*c,f=0,g=n.params.cssMode?-u-n.translate:-u,v=0;n.isHorizontal()?r&&(p=-p):(v=g,g=0,f=-p,p=0),a.style.zIndex=-Math.abs(Math.round(c))+e.length,o.slideShadows&&createSlideShadows(a,c);const C=`translate3d(${g}px, ${v}px, 0px) rotateX(${i(f)}deg) rotateY(${i(p)}deg)`;effectTarget(0,a).style.transform=C}},setTransition:e=>{const r=n.slides.map((e=>(0,E.g)(e)));r.forEach((n=>{n.style.transitionDuration=`${e}ms`,n.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((n=>{n.style.transitionDuration=`${e}ms`}))})),effectVirtualTransitionEnd({swiper:n,duration:e,transformElements:r})},recreateShadows:()=>{n.params.flipEffect,n.slides.forEach((e=>{let r=e.progress;n.params.flipEffect.limitRotation&&(r=Math.max(Math.min(e.progress,1),-1)),createSlideShadows(e,r)}))},getEffectParams:()=>n.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!n.params.cssMode})})},function EffectCoverflow(e){let{swiper:n,extendParams:r,on:o}=e;r({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),effectInit({effect:"coverflow",swiper:n,on:o,setTranslate:()=>{const{width:e,height:r,slides:o,slidesSizesGrid:i}=n,s=n.params.coverflowEffect,a=n.isHorizontal(),c=n.translate,u=a?e/2-c:r/2-c,p=a?s.rotate:-s.rotate,f=s.depth,g=(0,E.o)(n);for(let e=0,n=o.length;e<n;e+=1){const n=o[e],r=i[e],c=(u-n.swiperSlideOffset-r/2)/r,v="function"==typeof s.modifier?s.modifier(c):c*s.modifier;let C=a?p*v:0,b=a?0:p*v,w=-f*Math.abs(v),A=s.stretch;"string"==typeof A&&-1!==A.indexOf("%")&&(A=parseFloat(s.stretch)/100*r);let _=a?0:A*v,E=a?A*v:0,I=1-(1-s.scale)*Math.abs(v);Math.abs(E)<.001&&(E=0),Math.abs(_)<.001&&(_=0),Math.abs(w)<.001&&(w=0),Math.abs(C)<.001&&(C=0),Math.abs(b)<.001&&(b=0),Math.abs(I)<.001&&(I=0);const T=`translate3d(${E}px,${_}px,${w}px)  rotateX(${g(b)}deg) rotateY(${g(C)}deg) scale(${I})`;if(effectTarget(0,n).style.transform=T,n.style.zIndex=1-Math.abs(Math.round(v)),s.slideShadows){let e=n.querySelector(a?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),r=n.querySelector(a?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");e||(e=createShadow("coverflow",n,a?"left":"top")),r||(r=createShadow("coverflow",n,a?"right":"bottom")),e&&(e.style.opacity=v>0?v:0),r&&(r.style.opacity=-v>0?-v:0)}}},setTransition:e=>{n.slides.map((e=>(0,E.g)(e))).forEach((n=>{n.style.transitionDuration=`${e}ms`,n.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((n=>{n.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function EffectCreative(e){let{swiper:n,extendParams:r,on:o}=e;r({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const getTranslateValue=e=>"string"==typeof e?e:`${e}px`;effectInit({effect:"creative",swiper:n,on:o,setTranslate:()=>{const{slides:e,wrapperEl:r,slidesSizesGrid:o}=n,i=n.params.creativeEffect,{progressMultiplier:s}=i,a=n.params.centeredSlides,c=(0,E.o)(n);if(a){r.style.transform=`translateX(calc(50% - ${o[0]/2-n.params.slidesOffsetBefore||0}px))`}for(let r=0;r<e.length;r+=1){const o=e[r],u=o.progress,p=Math.min(Math.max(o.progress,-i.limitProgress),i.limitProgress);let f=p;a||(f=Math.min(Math.max(o.originalProgress,-i.limitProgress),i.limitProgress));const g=o.swiperSlideOffset,v=[n.params.cssMode?-g-n.translate:-g,0,0],C=[0,0,0];let b=!1;n.isHorizontal()||(v[1]=v[0],v[0]=0);let w={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};p<0?(w=i.next,b=!0):p>0&&(w=i.prev,b=!0),v.forEach(((e,n)=>{v[n]=`calc(${e}px + (${getTranslateValue(w.translate[n])} * ${Math.abs(p*s)}))`})),C.forEach(((e,n)=>{let r=w.rotate[n]*Math.abs(p*s);C[n]=r})),o.style.zIndex=-Math.abs(Math.round(u))+e.length;const A=v.join(", "),_=`rotateX(${c(C[0])}deg) rotateY(${c(C[1])}deg) rotateZ(${c(C[2])}deg)`,E=f<0?1+(1-w.opacity)*f*s:1-(1-w.opacity)*f*s,I=`translate3d(${A}) ${_} ${f<0?`scale(${1+(1-w.scale)*f*s})`:`scale(${1-(1-w.scale)*f*s})`}`;if(b&&w.shadow||!b){let e=o.querySelector(".swiper-slide-shadow");if(!e&&w.shadow&&(e=createShadow("creative",o)),e){e.style.opacity=Math.min(Math.max(Math.abs(i.shadowPerProgress?p*(1/i.limitProgress):p),0),1)}}const T=effectTarget(0,o);T.style.transform=I,T.style.opacity=E,w.origin&&(T.style.transformOrigin=w.origin)}},setTransition:e=>{const r=n.slides.map((e=>(0,E.g)(e)));r.forEach((n=>{n.style.transitionDuration=`${e}ms`,n.querySelectorAll(".swiper-slide-shadow").forEach((n=>{n.style.transitionDuration=`${e}ms`}))})),effectVirtualTransitionEnd({swiper:n,duration:e,transformElements:r,allSlides:!0})},perspective:()=>n.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!n.params.cssMode})})},function EffectCards(e){let{swiper:n,extendParams:r,on:o}=e;r({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),effectInit({effect:"cards",swiper:n,on:o,setTranslate:()=>{const{slides:e,activeIndex:r,rtlTranslate:o}=n,i=n.params.cardsEffect,{startTranslate:s,isTouched:a}=n.touchEventsData,c=o?-n.translate:n.translate;for(let u=0;u<e.length;u+=1){const p=e[u],f=p.progress,g=Math.min(Math.max(f,-4),4);let v=p.swiperSlideOffset;n.params.centeredSlides&&!n.params.cssMode&&(n.wrapperEl.style.transform=`translateX(${n.minTranslate()}px)`),n.params.centeredSlides&&n.params.cssMode&&(v-=e[0].swiperSlideOffset);let C=n.params.cssMode?-v-n.translate:-v,b=0;const w=-100*Math.abs(g);let A=1,_=-i.perSlideRotate*g,E=i.perSlideOffset-.75*Math.abs(g);const I=n.virtual&&n.params.virtual.enabled?n.virtual.from+u:u;if((I===r||I===r-1)&&g>0&&g<1&&(a||n.params.cssMode)&&c<s||(I===r||I===r+1)&&g<0&&g>-1&&(a||n.params.cssMode)&&c>s){const e=(1-Math.abs((Math.abs(g)-.5)/.5))**.5;_+=-28*g*e,A+=-.5*e,E+=96*e,b=-25*e*Math.abs(g)+"%"}if(C=g<0?`calc(${C}px ${o?"-":"+"} (${E*Math.abs(g)}%))`:g>0?`calc(${C}px ${o?"-":"+"} (-${E*Math.abs(g)}%))`:`${C}px`,!n.isHorizontal()){const e=b;b=C,C=e}const T=`\n        translate3d(${C}, ${b}, ${w}px)\n        rotateZ(${i.rotate?o?-_:_:0}deg)\n        scale(${g<0?""+(1+(1-A)*g):""+(1-(1-A)*g)})\n      `;if(i.slideShadows){let e=p.querySelector(".swiper-slide-shadow");e||(e=createShadow("cards",p)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(g)-.5)/.5,0),1))}p.style.zIndex=-Math.abs(Math.round(f))+e.length;effectTarget(0,p).style.transform=T}},setTransition:e=>{const r=n.slides.map((e=>(0,E.g)(e)));r.forEach((n=>{n.style.transitionDuration=`${e}ms`,n.querySelectorAll(".swiper-slide-shadow").forEach((n=>{n.style.transitionDuration=`${e}ms`}))})),effectVirtualTransitionEnd({swiper:n,duration:e,transformElements:r})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:3,centeredSlides:!0,virtualTranslate:!n.params.cssMode})})}];A.S.use(I);const T=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function isObject(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function extend(e,n){const r=["__proto__","constructor","prototype"];Object.keys(n).filter((e=>r.indexOf(e)<0)).forEach((r=>{void 0===e[r]?e[r]=n[r]:isObject(n[r])&&isObject(e[r])&&Object.keys(n[r]).length>0?n[r].__swiper__?e[r]=n[r]:extend(e[r],n[r]):e[r]=n[r]}))}function attrToProp(e){return void 0===e&&(e=""),e.replace(/-[a-z]/g,(e=>e.toUpperCase().replace("-","")))}const formatValue=e=>{if(parseFloat(e)===Number(e))return Number(e);if("true"===e)return!0;if(""===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("undefined"!==e){if("string"==typeof e&&e.includes("{")&&e.includes("}")&&e.includes('"')){let n;try{n=JSON.parse(e)}catch(r){n=e}return n}return e}},P=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function getParams(e,n,r){const o={},i={};extend(o,A.d);const s=[...T,"on"],a=s.map((e=>e.replace(/_/,"")));s.forEach((n=>{n=n.replace("_",""),void 0!==e[n]&&(i[n]=e[n])}));const c=[...e.attributes];return"string"==typeof n&&void 0!==r&&c.push({name:n,value:isObject(r)?{...r}:r}),c.forEach((e=>{const n=P.find((n=>e.name.startsWith(`${n}-`)));if(n){const r=attrToProp(n),o=attrToProp(e.name.split(`${n}-`)[1]);void 0===i[r]&&(i[r]={}),!0===i[r]&&(i[r]={enabled:!0}),i[r][o]=formatValue(e.value)}else{const n=attrToProp(e.name);if(!a.includes(n))return;const r=formatValue(e.value);i[n]&&P.includes(e.name)&&!isObject(r)?(i[n].constructor!==Object&&(i[n]={}),i[n].enabled=!!r):i[n]=r}})),extend(o,i),o.navigation?o.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==o.navigation?o.navigation:{}}:!1===o.navigation&&delete o.navigation,o.scrollbar?o.scrollbar={el:".swiper-scrollbar",...!0!==o.scrollbar?o.scrollbar:{}}:!1===o.scrollbar&&delete o.scrollbar,o.pagination?o.pagination={el:".swiper-pagination",...!0!==o.pagination?o.pagination:{}}:!1===o.pagination&&delete o.pagination,{params:o,passedParams:i}}const k=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}";const x="undefined"==typeof window||"undefined"==typeof HTMLElement?class DummyHTMLElement{}:HTMLElement,F='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',addStyle=(e,n)=>{if("undefined"!=typeof CSSStyleSheet&&e.adoptedStyleSheets){const r=new CSSStyleSheet;r.replaceSync(n),e.adoptedStyleSheets=[r]}else{const r=document.createElement("style");r.rel="stylesheet",r.textContent=n,e.appendChild(r)}};class SwiperContainer extends x{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return F}static get prevButtonSvg(){return F.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[k,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,n=[...this.querySelectorAll("[slot^=slide-]")].map((e=>parseInt(e.getAttribute("slot").split("slide-")[1],10)));if(this.slideSlots=n.length?Math.max(...n)+1:0,this.rendered)if(this.slideSlots>e)for(let n=e;n<this.slideSlots;n+=1){const e=document.createElement("swiper-slide");e.setAttribute("part",`slide slide-${n+1}`);const r=document.createElement("slot");r.setAttribute("name",`slide-${n+1}`),e.appendChild(r),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(e)}else if(this.slideSlots<e){const e=this.swiper.slides;for(let n=e.length-1;n>=0;n-=1)n>this.slideSlots&&e[n].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&addStyle(this.shadowRoot,e),this.cssLinks().forEach((e=>{if(this.shadowRoot.querySelector(`link[href="${e}"]`))return;const n=document.createElement("link");n.rel="stylesheet",n.href=e,this.shadowRoot.appendChild(n)}));const n=document.createElement("div");n.classList.add("swiper"),n.part="container",n.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map(((e,n)=>`\n        <swiper-slide part="slide slide-${n}">\n          <slot name="slide-${n}"></slot>\n        </swiper-slide>\n        `)).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function needsNavigation(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function needsPagination(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function needsScrollbar(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(n),this.rendered=!0}initialize(){var e=this;if(this.swiper&&this.swiper.initialized)return;const{params:n,passedParams:r}=getParams(this);this.swiperParams=n,this.passedParams=r,delete this.swiperParams.init,this.render(),this.swiper=new A.S(this.shadowRoot.querySelector(".swiper"),{...n.virtual?{}:{observer:!0},...n,touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&e.calcSlideSlots();const o=n.eventsPrefix?`${n.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];const c=new CustomEvent(o,{detail:s,bubbles:"hashChange"!==r,cancelable:!0});e.dispatchEvent(c)}})}connectedCallback(){this.swiper&&this.swiper.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1!==this.init&&"false"!==this.getAttribute("init")&&this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.swiper&&this.swiper.destroy&&this.swiper.destroy()}updateSwiperOnPropChange(e,n){const{params:r,passedParams:o}=getParams(this,e,n);this.passedParams=o,this.swiperParams=r,this.swiper&&this.swiper.params[e]===n||function updateSwiper(e){let{swiper:n,slides:r,passedParams:o,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:c,paginationEl:u}=e;const p=i.filter((e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e)),{params:f,pagination:g,navigation:v,scrollbar:C,virtual:b,thumbs:w}=n;let A,_,E,I,T,P,k,x;i.includes("thumbs")&&o.thumbs&&o.thumbs.swiper&&!o.thumbs.swiper.destroyed&&f.thumbs&&(!f.thumbs.swiper||f.thumbs.swiper.destroyed)&&(A=!0),i.includes("controller")&&o.controller&&o.controller.control&&f.controller&&!f.controller.control&&(_=!0),i.includes("pagination")&&o.pagination&&(o.pagination.el||u)&&(f.pagination||!1===f.pagination)&&g&&!g.el&&(E=!0),i.includes("scrollbar")&&o.scrollbar&&(o.scrollbar.el||c)&&(f.scrollbar||!1===f.scrollbar)&&C&&!C.el&&(I=!0),i.includes("navigation")&&o.navigation&&(o.navigation.prevEl||a)&&(o.navigation.nextEl||s)&&(f.navigation||!1===f.navigation)&&v&&!v.prevEl&&!v.nextEl&&(T=!0);const destroyModule=e=>{n[e]&&(n[e].destroy(),"navigation"===e?(n.isElement&&(n[e].prevEl.remove(),n[e].nextEl.remove()),f[e].prevEl=void 0,f[e].nextEl=void 0,n[e].prevEl=void 0,n[e].nextEl=void 0):(n.isElement&&n[e].el.remove(),f[e].el=void 0,n[e].el=void 0))};i.includes("loop")&&n.isElement&&(f.loop&&!o.loop?P=!0:!f.loop&&o.loop?k=!0:x=!0),p.forEach((e=>{if(isObject(f[e])&&isObject(o[e]))Object.assign(f[e],o[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in o[e])||o[e].enabled||destroyModule(e);else{const n=o[e];!0!==n&&!1!==n||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?f[e]=o[e]:!1===n&&destroyModule(e)}})),p.includes("controller")&&!_&&n.controller&&n.controller.control&&f.controller&&f.controller.control&&(n.controller.control=f.controller.control),i.includes("children")&&r&&b&&f.virtual.enabled?(b.slides=r,b.update(!0)):i.includes("virtual")&&b&&f.virtual.enabled&&(r&&(b.slides=r),b.update(!0)),i.includes("children")&&r&&f.loop&&(x=!0),A&&w.init()&&w.update(!0);_&&(n.controller.control=f.controller.control),E&&(!n.isElement||u&&"string"!=typeof u||(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),n.el.appendChild(u)),u&&(f.pagination.el=u),g.init(),g.render(),g.update()),I&&(!n.isElement||c&&"string"!=typeof c||(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),n.el.appendChild(c)),c&&(f.scrollbar.el=c),C.init(),C.updateSize(),C.setTranslate()),T&&(n.isElement&&(s&&"string"!=typeof s||(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=n.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),n.el.appendChild(s)),a&&"string"!=typeof a||(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=n.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),n.el.appendChild(a))),s&&(f.navigation.nextEl=s),a&&(f.navigation.prevEl=a),v.init(),v.update()),i.includes("allowSlideNext")&&(n.allowSlideNext=o.allowSlideNext),i.includes("allowSlidePrev")&&(n.allowSlidePrev=o.allowSlidePrev),i.includes("direction")&&n.changeDirection(o.direction,!1),(P||x)&&n.loopDestroy(),(k||x)&&n.loopCreate(),n.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[attrToProp(e)],..."navigation"===e&&o[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===e&&o[e]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===e&&o[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,n,r){this.swiper&&this.swiper.initialized&&("true"===n&&null===r&&(r=!1),this.updateSwiperOnPropChange(e,r))}static get observedAttributes(){return T.filter((e=>e.includes("_"))).map((e=>e.replace(/[A-Z]/g,(e=>`-${e}`)).replace("_","").toLowerCase()))}}T.forEach((e=>{"init"!==e&&(e=e.replace("_",""),Object.defineProperty(SwiperContainer.prototype,e,{configurable:!0,get(){return(this.passedParams||{})[e]},set(n){this.passedParams||(this.passedParams={}),this.passedParams[e]=n,this.swiper&&this.swiper.initialized&&this.updateSwiperOnPropChange(e,n)}}))}));class SwiperSlide extends x{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(addStyle(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),e){const e=document.createElement("div");e.classList.add("swiper-lazy-preloader"),e.part.add("preloader"),this.shadowRoot.appendChild(e)}}initialize(){this.render()}connectedCallback(){this.swiperLoopMoveDOM||this.initialize()}}"undefined"!=typeof window&&(window.SwiperElementRegisterParams=e=>{T.push(...e)});var R=r(53794),N=r(86552);void("undefined"!=typeof window&&(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",SwiperContainer),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",SwiperSlide)));let L=(()=>{var e;class AppComponent{constructor(){this.logger=b.CoreLogger.getInstance("AppComponent")}ngOnInit(){const e=window;C.CorePlatform.resume.subscribe((()=>{setTimeout((()=>{c.CoreLoginHelper.isWaitingForBrowser()&&!N.j.isInAppBrowserOpen()&&(c.CoreLoginHelper.stopWaitingForBrowser(),c.CoreLoginHelper.checkLogout())}),1e3)})),e.openWindowSafely=(e,n)=>{v.i.open(e,n)},e.onOverrideUrlLoading=e=>{v.i.open(e)},document.addEventListener("ionBackButton",(e=>{e.detail.register(-100,(0,s.A)((function*(){const e=f.CoreNavigator.getCurrentPath();if(e.startsWith("/main/"))return p.CoreApp.closeApp(),void 0;yield R.H.wait(50),f.CoreNavigator.getCurrentPath()==e&&p.CoreApp.closeApp()})))}));new MutationObserver((e=>{if(document.activeElement instanceof HTMLElement)for(const n of e)if(n.target instanceof HTMLElement&&"true"===n.target.ariaHidden&&n.target.contains(document.activeElement))return document.activeElement.blur(),void 0})).observe(document.body,{attributeFilter:["aria-hidden"],subtree:!0})}ngAfterViewInit(){var e=this;this.outlet&&(this.logger.debug("App component initialized"),g.O.once(this.outlet.activateEvents,(0,s.A)((function*(){yield C.CorePlatform.ready(),e.logger.debug("Hide splash screen"),u.St.hide(),e.setSystemUIColorsAfterSplash()}))))}setSystemUIColorsAfterSplash(){return(0,s.A)((function*(){if(!C.CorePlatform.isAndroid())return p.CoreApp.setSystemUIColors(),void 0;const e=new w._,n=window.setInterval((()=>{p.CoreApp.setSystemUIColors()}));return setTimeout((()=>{clearInterval(n),e.resolve()}),1e3),e}))()}}return(e=AppComponent).ɵfac=function AppComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["app-root"]],viewQuery:function AppComponent_Query(e,n){if(1&e&&o.GBs(a.Rg,5),2&e){let e;o.mGM(e=o.lsd())&&(n.outlet=e.first)}},standalone:!0,features:[o.aNF],decls:2,vars:0,template:function AppComponent_Template(e,n){1&e&&(o.j41(0,"ion-app"),o.nrm(1,"ion-router-outlet"),o.k0s())},dependencies:[a.bv,a.U1,a.Rg],encapsulation:2}),AppComponent})(),H=(()=>{var e;class TestingModule{}return(e=TestingModule).ɵfac=function TestingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({}),TestingModule})();var U=r(86914),B=r(63114),j=r(72575);let V=(()=>{var e;class AddonBlockActivityModulesHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockActivityModules",this.blockName="activity_modules"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockActivityModulesComponent:e}=yield Promise.all([r.e(72076),r.e(6003)]).then(r.bind(r,6003));return{title:"addon.block_activitymodules.pluginname",class:"addon-block-activitymodules",component:e}}))()}}return(e=AddonBlockActivityModulesHandlerService).ɵfac=(()=>{let n;return function AddonBlockActivityModulesHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockActivityModulesHandlerService})();const G=(0,u.Qd)(V);let z=(()=>{var e;class AddonBlockActivityModulesModule{}return(e=AddonBlockActivityModulesModule).ɵfac=function AddonBlockActivityModulesModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(G.instance)}}]}),AddonBlockActivityModulesModule})(),q=(()=>{var e;class AddonBlockActivityResultsHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockActivityResults",this.blockName="activity_results"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockActivityResultsComponent:e}=yield Promise.all([r.e(72076),r.e(56874)]).then(r.bind(r,56874));return{title:"addon.block_activityresults.pluginname",class:"addon-block-activity-results",component:e}}))()}}return(e=AddonBlockActivityResultsHandlerService).ɵfac=(()=>{let n;return function AddonBlockActivityResultsHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockActivityResultsHandlerService})();const W=(0,u.Qd)(q);let K=(()=>{var e;class AddonBlockActivityResultsModule{}return(e=AddonBlockActivityResultsModule).ɵfac=function AddonBlockActivityResultsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(W.instance)}}]}),AddonBlockActivityResultsModule})(),Q=(()=>{var e;class AddonBlockBadgesHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockBadges",this.blockName="badges"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockBadgesComponent:e}=yield Promise.all([r.e(72076),r.e(22985)]).then(r.bind(r,22985));return{title:"addon.block_badges.pluginname",class:"addon-block-badges",component:e}}))()}}return(e=AddonBlockBadgesHandlerService).ɵfac=(()=>{let n;return function AddonBlockBadgesHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockBadgesHandlerService})();const X=(0,u.Qd)(Q);let Y=(()=>{var e;class AddonBlockBadgesModule{}return(e=AddonBlockBadgesModule).ɵfac=function AddonBlockBadgesModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(X.instance)}}]}),AddonBlockBadgesModule})();var J=r(23732);let Z=(()=>{var e;class AddonBlockBlogMenuHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockBlogMenu",this.blockName="blog_menu"}isEnabled(){return(0,s.A)((function*(){return yield J.hU.isPluginEnabled()}))()}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockBlogMenuComponent:e}=yield Promise.all([r.e(72076),r.e(89674)]).then(r.bind(r,89674));return{title:"addon.block_blogmenu.pluginname",class:"addon-block-blog-menu",component:e}}))()}}return(e=AddonBlockBlogMenuHandlerService).ɵfac=(()=>{let n;return function AddonBlockBlogMenuHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockBlogMenuHandlerService})();const ee=(0,u.Qd)(Z);let te=(()=>{var e;class AddonBlockBlogMenuModule{}return(e=AddonBlockBlogMenuModule).ɵfac=function AddonBlockBlogMenuModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(ee.instance)}}]}),AddonBlockBlogMenuModule})(),ne=(()=>{var e;class AddonBlockBlogRecentHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockBlogRecent",this.blockName="blog_recent"}isEnabled(){return(0,s.A)((function*(){return yield J.hU.isPluginEnabled()}))()}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockBlogRecentComponent:e}=yield Promise.all([r.e(72076),r.e(6630)]).then(r.bind(r,6630));return{title:"addon.block_blogrecent.pluginname",class:"addon-block-blog-recent",component:e}}))()}}return(e=AddonBlockBlogRecentHandlerService).ɵfac=(()=>{let n;return function AddonBlockBlogRecentHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockBlogRecentHandlerService})();const re=(0,u.Qd)(ne);let oe=(()=>{var e;class AddonBlockBlogRecentModule{}return(e=AddonBlockBlogRecentModule).ɵfac=function AddonBlockBlogRecentModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(re.instance)}}]}),AddonBlockBlogRecentModule})();var ie=r(41094);let se=(()=>{var e;class AddonBlockBlogTagsHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockBlogTags",this.blockName="blog_tags"}isEnabled(){return(0,s.A)((function*(){const e=yield ie.CoreTag.areTagsAvailable();return(yield J.hU.isPluginEnabled())&&e}))()}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockBlogTagsComponent:e}=yield Promise.all([r.e(72076),r.e(68272)]).then(r.bind(r,68272));return{title:"addon.block_blogtags.pluginname",class:"addon-block-blog-tags",component:e}}))()}}return(e=AddonBlockBlogTagsHandlerService).ɵfac=(()=>{let n;return function AddonBlockBlogTagsHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockBlogTagsHandlerService})();const ae=(0,u.Qd)(se);let le=(()=>{var e;class AddonBlockBlogTagsModule{}return(e=AddonBlockBlogTagsModule).ɵfac=function AddonBlockBlogTagsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(ae.instance)}}]}),AddonBlockBlogTagsModule})();var de=r(99234);let ce=(()=>{var e;class AddonBlockCalendarMonthHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockCalendarMonth",this.blockName="calendar_month"}getDisplayData(e,n,o){return(0,s.A)((function*(){const e="course"===n?{courseId:o}:{},{CoreBlockOnlyTitleComponent:i}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_calendarmonth.pluginname",class:"addon-block-calendar-month",component:i,link:de.w3,linkParams:e,navOptions:{preferCurrentTab:!1}}}))()}}return(e=AddonBlockCalendarMonthHandlerService).ɵfac=(()=>{let n;return function AddonBlockCalendarMonthHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockCalendarMonthHandlerService})();const ue=(0,u.Qd)(ce);let pe=(()=>{var e;class AddonBlockCalendarMonthModule{}return(e=AddonBlockCalendarMonthModule).ɵfac=function AddonBlockCalendarMonthModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(ue.instance)}}]}),AddonBlockCalendarMonthModule})();var fe=r(52749);let ge=(()=>{var e;class AddonBlockCalendarUpcomingHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockCalendarUpcoming",this.blockName="calendar_upcoming"}getDisplayData(e,n,o){return(0,s.A)((function*(){const e={upcoming:!0};"course"===n&&o!==fe.CoreSites.getCurrentSiteHomeId()&&(e.courseId=o);const{CoreBlockOnlyTitleComponent:i}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_calendarupcoming.pluginname",class:"addon-block-calendar-upcoming",component:i,link:de.w3,linkParams:e}}))()}}return(e=AddonBlockCalendarUpcomingHandlerService).ɵfac=(()=>{let n;return function AddonBlockCalendarUpcomingHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockCalendarUpcomingHandlerService})();const me=(0,u.Qd)(ge);let he=(()=>{var e;class AddonBlockCalendarUpcomingModule{}return(e=AddonBlockCalendarUpcomingModule).ɵfac=function AddonBlockCalendarUpcomingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(me.instance)}}]}),AddonBlockCalendarUpcomingModule})();var ve=r(54638);let ye=(()=>{var e;class AddonBlockCommentsHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockComments",this.blockName="comments"}isEnabled(){return(0,s.A)((function*(){return yield ve.CoreComments.areCommentsEnabled()}))()}getDisplayData(e,n,o){return(0,s.A)((function*(){const{CoreBlockOnlyTitleComponent:e}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_comments.pluginname",class:"addon-block-comments",component:e,link:`comments/${n}/${o}/block_comments/0`,linkParams:{area:"page_comments"}}}))()}}return(e=AddonBlockCommentsHandlerService).ɵfac=(()=>{let n;return function AddonBlockCommentsHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockCommentsHandlerService})();const Ce=(0,u.Qd)(ye);let be=(()=>{var e;class AddonBlockCommentsModule{}return(e=AddonBlockCommentsModule).ɵfac=function AddonBlockCommentsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Ce.instance)}}]}),AddonBlockCommentsModule})();var we=r(12808);let Se=(()=>{var e;class AddonBlockCompletionStatusHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockCompletionStatus",this.blockName="completionstatus"}isEnabled(){return(0,s.A)((function*(){return we.AddonCourseCompletion.isCompletionEnabledInSite()}))()}getDisplayData(e,n,o){return(0,s.A)((function*(){if("course"!==n)return;if(!(yield we.AddonCourseCompletion.isPluginViewEnabledForCourse(o)))return;const{CoreBlockOnlyTitleComponent:e}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_completionstatus.pluginname",class:"addon-block-completion-status",component:e,link:"coursecompletion",linkParams:{courseId:o}}}))()}}return(e=AddonBlockCompletionStatusHandlerService).ɵfac=(()=>{let n;return function AddonBlockCompletionStatusHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockCompletionStatusHandlerService})();const Ae=(0,u.Qd)(Se);let _e=(()=>{var e;class AddonBlockCompletionStatusModule{}return(e=AddonBlockCompletionStatusModule).ɵfac=function AddonBlockCompletionStatusModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Ae.instance)}}]}),AddonBlockCompletionStatusModule})(),Ee=(()=>{var e;class AddonBlockCourseListHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockCourseList",this.blockName="course_list"}getDisplayData(){return(0,s.A)((function*(){const{CoreBlockOnlyTitleComponent:e}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"core.courses.mycourses",class:"addon-block-course-list",component:e,link:"courses/list",linkParams:{mode:"my"},navOptions:{preferCurrentTab:!1}}}))()}}return(e=AddonBlockCourseListHandlerService).ɵfac=(()=>{let n;return function AddonBlockCourseListHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockCourseListHandlerService})();const Ie=(0,u.Qd)(Ee);let De=(()=>{var e;class AddonBlockCourseListModule{}return(e=AddonBlockCourseListModule).ɵfac=function AddonBlockCourseListModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Ie.instance)}}]}),AddonBlockCourseListModule})(),Me=(()=>{var e;class AddonBlockGlossaryRandomHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockGlossaryRandom",this.blockName="glossary_random"}getDisplayData(e){return(0,s.A)((function*(){var n;const{CoreBlockPreRenderedComponent:o}=yield r.e(72076).then(r.bind(r,2638));return{title:(null===(n=e.contents)||void 0===n?void 0:n.title)||"addon.block_glossaryrandom.pluginname",class:"addon-block-glossary-random",component:o}}))()}}return(e=AddonBlockGlossaryRandomHandlerService).ɵfac=(()=>{let n;return function AddonBlockGlossaryRandomHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockGlossaryRandomHandlerService})();const Te=(0,u.Qd)(Me);let Pe=(()=>{var e;class AddonBlockGlossaryRandomModule{}return(e=AddonBlockGlossaryRandomModule).ɵfac=function AddonBlockGlossaryRandomModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Te.instance)}}]}),AddonBlockGlossaryRandomModule})(),ke=(()=>{var e;class AddonBlockHtmlHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockHtml",this.blockName="html"}getDisplayData(e){return(0,s.A)((function*(){var n;const{CoreBlockPreRenderedComponent:o}=yield r.e(72076).then(r.bind(r,2638));return{title:(null===(n=e.contents)||void 0===n?void 0:n.title)||"",class:"addon-block-html",component:o}}))()}}return(e=AddonBlockHtmlHandlerService).ɵfac=(()=>{let n;return function AddonBlockHtmlHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockHtmlHandlerService})();const xe=(0,u.Qd)(ke);let Fe=(()=>{var e;class AddonBlockHtmlModule{}return(e=AddonBlockHtmlModule).ɵfac=function AddonBlockHtmlModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(xe.instance)}}]}),AddonBlockHtmlModule})();var Oe=r(49697);let Re=(()=>{var e;class AddonBlockLearningPlansHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockLp",this.blockName="lp"}getDisplayData(){return(0,s.A)((function*(){const{CoreBlockOnlyTitleComponent:e}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_learningplans.pluginname",class:"addon-block-learning-plans",component:e,link:Oe.zJ,navOptions:{preferCurrentTab:!1}}}))()}}return(e=AddonBlockLearningPlansHandlerService).ɵfac=(()=>{let n;return function AddonBlockLearningPlansHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockLearningPlansHandlerService})();const Ne=(0,u.Qd)(Re);let Le=(()=>{var e;class AddonBlockLearningPlansModule{}return(e=AddonBlockLearningPlansModule).ɵfac=function AddonBlockLearningPlansModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Ne.instance)}}]}),AddonBlockLearningPlansModule})();var He=r(66110);let Ue=(()=>{var e;class AddonBlockMyOverviewHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockMyOverview",this.blockName="myoverview"}isEnabled(){return(0,s.A)((function*(){var e;return(null===(e=fe.CoreSites.getCurrentSite())||void 0===e?void 0:e.isVersionGreaterEqualThan("3.6"))||!He.CoreCourses.isMyCoursesDisabledInSite()}))()}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockMyOverviewComponent:e}=yield Promise.all([r.e(16449),r.e(72076),r.e(61936)]).then(r.bind(r,61936));return{title:"addon.block_myoverview.pluginname",class:"addon-block-myoverview",component:e}}))()}}return(e=AddonBlockMyOverviewHandlerService).ɵfac=(()=>{let n;return function AddonBlockMyOverviewHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockMyOverviewHandlerService})();const Be=(0,u.Qd)(Ue);let $e=(()=>{var e;class AddonBlockMyOverviewModule{}return(e=AddonBlockMyOverviewModule).ɵfac=function AddonBlockMyOverviewModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Be.instance)}}]}),AddonBlockMyOverviewModule})(),je=(()=>{var e;class AddonBlockNewsItemsHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockNewsItems",this.blockName="news_items"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockNewsItemsComponent:e}=yield Promise.all([r.e(72076),r.e(60582)]).then(r.bind(r,60582));return{title:"addon.block_newsitems.pluginname",class:"addon-block-news-items",component:e}}))()}}return(e=AddonBlockNewsItemsHandlerService).ɵfac=(()=>{let n;return function AddonBlockNewsItemsHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockNewsItemsHandlerService})();const Ve=(0,u.Qd)(je);let Ge=(()=>{var e;class AddonBlockNewsItemsModule{}return(e=AddonBlockNewsItemsModule).ɵfac=function AddonBlockNewsItemsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Ve.instance)}}]}),AddonBlockNewsItemsModule})(),ze=(()=>{var e;class AddonBlockOnlineUsersHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockOnlineUsers",this.blockName="online_users"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockOnlineUsersComponent:e}=yield Promise.all([r.e(72076),r.e(99270)]).then(r.bind(r,99270));return{title:"addon.block_onlineusers.pluginname",class:"addon-block-online-users",component:e}}))()}}return(e=AddonBlockOnlineUsersHandlerService).ɵfac=(()=>{let n;return function AddonBlockOnlineUsersHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockOnlineUsersHandlerService})();const qe=(0,u.Qd)(ze);let We=(()=>{var e;class AddonBlockOnlineUsersModule{}return(e=AddonBlockOnlineUsersModule).ɵfac=function AddonBlockOnlineUsersModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(qe.instance)}}]}),AddonBlockOnlineUsersModule})();var Ke=r(46050);let Qe=(()=>{var e;class AddonBlockPrivateFilesHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockPrivateFiles",this.blockName="private_files"}getDisplayData(){return(0,s.A)((function*(){const{CoreBlockOnlyTitleComponent:e}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_privatefiles.pluginname",class:"addon-block-private-files",component:e,link:Ke.x,linkParams:{root:"my"},navOptions:{preferCurrentTab:!1}}}))()}}return(e=AddonBlockPrivateFilesHandlerService).ɵfac=(()=>{let n;return function AddonBlockPrivateFilesHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockPrivateFilesHandlerService})();const Xe=(0,u.Qd)(Qe);let Ye=(()=>{var e;class AddonBlockPrivateFilesModule{}return(e=AddonBlockPrivateFilesModule).ɵfac=function AddonBlockPrivateFilesModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Xe.instance)}}]}),AddonBlockPrivateFilesModule})(),Je=(()=>{var e;class AddonBlockRecentActivityHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockRecentActivity",this.blockName="recent_activity"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockRecentActivityComponent:e}=yield Promise.all([r.e(72076),r.e(81411)]).then(r.bind(r,81411));return{title:"addon.block_recentactivity.pluginname",class:"addon-block-recent-activity",component:e}}))()}}return(e=AddonBlockRecentActivityHandlerService).ɵfac=(()=>{let n;return function AddonBlockRecentActivityHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockRecentActivityHandlerService})();const Ze=(0,u.Qd)(Je);let et=(()=>{var e;class AddonBlockRecentActivityModule{}return(e=AddonBlockRecentActivityModule).ɵfac=function AddonBlockRecentActivityModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Ze.instance)}}]}),AddonBlockRecentActivityModule})(),tt=(()=>{var e;class AddonBlockRecentlyAccessedCoursesHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockRecentlyAccessedCourses",this.blockName="recentlyaccessedcourses"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockRecentlyAccessedCoursesComponent:e}=yield Promise.all([r.e(16449),r.e(72076),r.e(23552)]).then(r.bind(r,23552));return{title:"addon.block_recentlyaccessedcourses.pluginname",class:"addon-block-recentlyaccessedcourses",component:e}}))()}}return(e=AddonBlockRecentlyAccessedCoursesHandlerService).ɵfac=(()=>{let n;return function AddonBlockRecentlyAccessedCoursesHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockRecentlyAccessedCoursesHandlerService})();const nt=(0,u.Qd)(tt);let rt=(()=>{var e;class AddonBlockRecentlyAccessedCoursesModule{}return(e=AddonBlockRecentlyAccessedCoursesModule).ɵfac=function AddonBlockRecentlyAccessedCoursesModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(nt.instance)}}]}),AddonBlockRecentlyAccessedCoursesModule})(),ot=(()=>{var e;class AddonBlockRecentlyAccessedItemsHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockRecentlyAccessedItems",this.blockName="recentlyaccesseditems"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockRecentlyAccessedItemsComponent:e}=yield Promise.all([r.e(72076),r.e(73288)]).then(r.bind(r,73288));return{title:"addon.block_recentlyaccesseditems.pluginname",class:"addon-block-recentlyaccesseditems",component:e}}))()}}return(e=AddonBlockRecentlyAccessedItemsHandlerService).ɵfac=(()=>{let n;return function AddonBlockRecentlyAccessedItemsHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockRecentlyAccessedItemsHandlerService})();const it=(0,u.Qd)(ot);let st=(()=>{var e;class AddonBlockRecentlyAccessedItemsModule{}return(e=AddonBlockRecentlyAccessedItemsModule).ɵfac=function AddonBlockRecentlyAccessedItemsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(it.instance)}}]}),AddonBlockRecentlyAccessedItemsModule})(),at=(()=>{var e;class AddonBlockRssClientHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockRssClient",this.blockName="rss_client"}getDisplayData(e){return(0,s.A)((function*(){var n;const{AddonBlockRssClientComponent:o}=yield Promise.all([r.e(72076),r.e(63688)]).then(r.bind(r,63688));return{title:(null===(n=e.contents)||void 0===n?void 0:n.title)||"addon.block_rssclient.pluginname",class:"addon-block-rss-client",component:o}}))()}}return(e=AddonBlockRssClientHandlerService).ɵfac=(()=>{let n;return function AddonBlockRssClientHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockRssClientHandlerService})();const lt=(0,u.Qd)(at);let dt=(()=>{var e;class AddonBlockRssClientModule{}return(e=AddonBlockRssClientModule).ɵfac=function AddonBlockRssClientModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(lt.instance)}}]}),AddonBlockRssClientModule})(),ct=(()=>{var e;class AddonBlockSelfCompletionHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockSelfCompletion",this.blockName="selfcompletion"}isEnabled(){return(0,s.A)((function*(){return we.AddonCourseCompletion.isCompletionEnabledInSite()}))()}getDisplayData(e,n,o){return(0,s.A)((function*(){if("course"!==n)return;if(!(yield we.AddonCourseCompletion.isPluginViewEnabledForCourse(o)))return;const{CoreBlockOnlyTitleComponent:e}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_selfcompletion.pluginname",class:"addon-block-self-completion",component:e,link:"coursecompletion",linkParams:{courseId:o}}}))()}}return(e=AddonBlockSelfCompletionHandlerService).ɵfac=(()=>{let n;return function AddonBlockSelfCompletionHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockSelfCompletionHandlerService})();const ut=(0,u.Qd)(ct);let pt=(()=>{var e;class AddonBlockSelfCompletionModule{}return(e=AddonBlockSelfCompletionModule).ɵfac=function AddonBlockSelfCompletionModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(ut.instance)}}]}),AddonBlockSelfCompletionModule})(),ft=(()=>{var e;class AddonBlockSiteMainMenuHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockSiteMainMenu",this.blockName="site_main_menu"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockSiteMainMenuComponent:e}=yield Promise.all([r.e(98054),r.e(72076),r.e(77820)]).then(r.bind(r,77820));return{title:"addon.block_sitemainmenu.pluginname",class:"addon-block-sitemainmenu",component:e}}))()}}return(e=AddonBlockSiteMainMenuHandlerService).ɵfac=(()=>{let n;return function AddonBlockSiteMainMenuHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockSiteMainMenuHandlerService})();const gt=(0,u.Qd)(ft);let mt=(()=>{var e;class AddonBlockSiteMainMenuModule{}return(e=AddonBlockSiteMainMenuModule).ɵfac=function AddonBlockSiteMainMenuModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(gt.instance)}}]}),AddonBlockSiteMainMenuModule})(),ht=(()=>{var e;class AddonBlockStarredCoursesHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockStarredCourses",this.blockName="starredcourses"}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockStarredCoursesComponent:e}=yield Promise.all([r.e(16449),r.e(72076),r.e(1227)]).then(r.bind(r,1227));return{title:"addon.starredcourses.pluginname",class:"addon-block-starredcourses",component:e}}))()}}return(e=AddonBlockStarredCoursesHandlerService).ɵfac=(()=>{let n;return function AddonBlockStarredCoursesHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockStarredCoursesHandlerService})();const vt=(0,u.Qd)(ht);let yt=(()=>{var e;class AddonBlockStarredCoursesModule{}return(e=AddonBlockStarredCoursesModule).ɵfac=function AddonBlockStarredCoursesModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(vt.instance)}}]}),AddonBlockStarredCoursesModule})(),Ct=(()=>{var e;class AddonBlockTagsHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockTags",this.blockName="tags"}isEnabled(){return(0,s.A)((function*(){return yield ie.CoreTag.areTagsAvailable()}))()}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockTagsComponent:e}=yield Promise.all([r.e(72076),r.e(84960)]).then(r.bind(r,84960));return{title:"addon.block_tags.pluginname",class:"addon-block-tags",component:e}}))()}}return(e=AddonBlockTagsHandlerService).ɵfac=(()=>{let n;return function AddonBlockTagsHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockTagsHandlerService})();const bt=(0,u.Qd)(Ct);let wt=(()=>{var e;class AddonBlockTagsModule{}return(e=AddonBlockTagsModule).ɵfac=function AddonBlockTagsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(bt.instance)}}]}),AddonBlockTagsModule})();var St=r(50572);let At=(()=>{var e;class AddonBlockTimelineHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockTimeline",this.blockName="timeline"}isEnabled(){return(0,s.A)((function*(){const e=!St.CoreCoursesDashboard.isDisabledInSite(),n=fe.CoreSites.getCurrentSite();return e&&(n&&n.isVersionGreaterEqualThan("3.6")||!He.CoreCourses.isMyCoursesDisabledInSite())}))()}getDisplayData(){return(0,s.A)((function*(){const{AddonBlockTimelineComponent:e}=yield Promise.all([r.e(75357),r.e(60235)]).then(r.bind(r,60235));return{title:"addon.block_timeline.pluginname",class:"addon-block-timeline",component:e}}))()}}return(e=AddonBlockTimelineHandlerService).ɵfac=(()=>{let n;return function AddonBlockTimelineHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockTimelineHandlerService})();const _t=(0,u.Qd)(At);let Et=(()=>{var e;class AddonBlockTimelineModule{}return(e=AddonBlockTimelineModule).ɵfac=function AddonBlockTimelineModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(_t.instance)}}]}),AddonBlockTimelineModule})();var It=r(30432),Dt=r(89014);let Mt=(()=>{var e;class AddonBlockGlobalSearchHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockGlobalSearch",this.blockName="globalsearch"}isEnabled(){return(0,s.A)((function*(){return Dt.CoreSearchGlobalSearch.isEnabled()}))()}getDisplayData(e,n,o){return(0,s.A)((function*(){const e="course"===n,{CoreBlockOnlyTitleComponent:i}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:e?"core.search":"addon.block_globalsearch.pluginname",class:"addon-block-globalsearch",component:i,link:It.fY,linkParams:e?{courseId:o}:{}}}))()}}return(e=AddonBlockGlobalSearchHandlerService).ɵfac=(()=>{let n;return function AddonBlockGlobalSearchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockGlobalSearchHandlerService})();const Tt=(0,u.Qd)(Mt);let Pt=(()=>{var e;class AddonBlockGlobalSearchModule{}return(e=AddonBlockGlobalSearchModule).ɵfac=function AddonBlockGlobalSearchModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Tt.instance)}}]}),AddonBlockGlobalSearchModule})();var kt=r(2216);let xt=(()=>{var e;class AddonBlockSearchForumsHandlerService extends j._{constructor(){super(...arguments),this.name="AddonBlockSearchForums",this.blockName="search_forums"}isEnabled(){return(0,s.A)((function*(){return Dt.CoreSearchGlobalSearch.isEnabled()}))()}getDisplayData(e,n,o){return(0,s.A)((function*(){if("course"!==n)return;const e=["mod_forum-activity","mod_forum-post"];if(!(yield Dt.CoreSearchGlobalSearch.getSearchAreas()).some((({id:n})=>e.includes(n))))return;const{CoreBlockOnlyTitleComponent:i}=yield Promise.all([r.e(72076),r.e(77886)]).then(r.bind(r,77886));return{title:"addon.block_searchforums.pluginname",class:"addon-block-search-forums",component:i,link:kt.t4,linkParams:{courseId:o}}}))()}}return(e=AddonBlockSearchForumsHandlerService).ɵfac=(()=>{let n;return function AddonBlockSearchForumsHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlockSearchForumsHandlerService})();const Ft=(0,u.Qd)(xt);let Ot=(()=>{var e;class AddonBlockSearchForumsModule{}return(e=AddonBlockSearchForumsModule).ɵfac=function AddonBlockSearchForumsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{B.CoreBlockDelegate.registerHandler(Ft.instance)}}]}),AddonBlockSearchForumsModule})(),Rt=(()=>{var e;class AddonBlockModule{}return(e=AddonBlockModule).ɵfac=function AddonBlockModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[z,K,Y,te,oe,le,pe,he,be,_e,De,Pt,Pe,Fe,Le,$e,Ge,We,Ye,et,rt,st,dt,Ot,pt,mt,yt,wt,Et]}),AddonBlockModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Rt,{imports:[z,K,Y,te,oe,le,pe,he,be,_e,De,Pt,Pe,Fe,Le,$e,Ge,We,Ye,et,rt,st,dt,Ot,pt,mt,yt,wt,Et]}));var Nt=r(33504),Lt=r(69342),Ht=r(78765),Ut=r(16844),Bt=r(42858),$t=r(95376),jt=r(88452),Vt=r(5784),Gt=r(44682),zt=r(94247),qt=r(88793),Wt=r(37184);let Kt=(()=>{var e;class AddonBlogCourseOptionHandlerService{constructor(){this.name="AddonBlog",this.priority=100}invalidateEnabledForCourse(e){return Gt.CoreCourse.invalidateCourseBlocks(e)}isEnabled(){return J.hU.isPluginEnabled()}isEnabledForCourse(e,n,r){return(0,s.A)((function*(){const n=yield zt.CoreCourseHelper.hasABlockNamed(e,"blog_menu");return n&&void 0!==(null==r?void 0:r.blogs)?r.blogs:n}))()}getDisplayData(){return{title:"addon.blog.blog",class:"addon-blog-handler",page:Wt.H5}}prefetch(e){return(0,s.A)((function*(){const n=fe.CoreSites.getCurrentSiteId(),r=yield J.hU.getEntries({courseid:e.id});yield Promise.all(r.entries.map(function(){var e=(0,s.A)((function*(e){let r=[];e.attachmentfiles&&e.attachmentfiles.length&&(r=e.attachmentfiles),e.summaryfiles&&e.summaryfiles.length&&(r=r.concat(e.summaryfiles)),r.length>0&&(yield qt.CoreFilepool.addFilesToQueue(n,r,e.module,e.id))}));return function(n){return e.apply(this,arguments)}}()))}))()}}return(e=AddonBlogCourseOptionHandlerService).ɵfac=function AddonBlogCourseOptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogCourseOptionHandlerService})();const Qt=(0,u.Qd)(Kt);var Xt=r(71112);let Yt=(()=>{var e;class AddonBlogEditEntryLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonBlogEditEntryLinkHandler",this.featureName="CoreUserDelegate_AddonBlog:blogs",this.pattern=/\/blog\/(add|edit)\.php/}getActions(e,n,r){const o={};return o.courseId=r.courseid,o.cmId=r.modid,[{action:(i=(0,s.A)((function*(e){var n;yield f.CoreNavigator.navigateToSitePath(`/blog/edit/${null!==(n=r.entryid)&&void 0!==n?n:0}`,{params:o,siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return J.hU.isPluginEnabled(e)}}return(e=AddonBlogEditEntryLinkHandlerService).ɵfac=(()=>{let n;return function AddonBlogEditEntryLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogEditEntryLinkHandlerService})();const Jt=(0,u.Qd)(Yt);let Zt=(()=>{var e;class AddonBlogIndexLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonBlogIndexLinkHandler",this.featureName="CoreUserDelegate_AddonBlog:blogs",this.pattern=/\/blog\/index\.php/}getActions(e,n,r){const o={};return r.userid&&(o.userId=parseInt(r.userid,10)),r.modid&&(o.cmId=parseInt(r.modid,10)),r.courseid&&(o.courseId=parseInt(r.courseid,10)),r.entryid&&(o.entryId=parseInt(r.entryid,10)),r.groupid&&(o.groupId=parseInt(r.groupid,10)),r.tagid&&(o.tagId=parseInt(r.tagid,10)),[{action:(i=(0,s.A)((function*(e){yield f.CoreNavigator.navigateToSitePath("/blog",{params:o,siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}isEnabled(e){return J.hU.isPluginEnabled(e)}}return(e=AddonBlogIndexLinkHandlerService).ɵfac=(()=>{let n;return function AddonBlogIndexLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogIndexLinkHandlerService})();const en=(0,u.Qd)(Zt);let tn=(()=>{var e;class AddonBlogMainMenuHandlerService{constructor(){this.name="AddonBlog",this.priority=500}isEnabled(){return(0,s.A)((function*(){return J.hU.isPluginEnabled()}))()}getDisplayData(){return{icon:"far-newspaper",title:"addon.blog.siteblogheading",page:Wt.H5,class:"addon-blog-handler"}}}return(e=AddonBlogMainMenuHandlerService).ɵfac=function AddonBlogMainMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogMainMenuHandlerService})();const nn=(0,u.Qd)(tn);var rn=r(92443);let on=(()=>{var e;class AddonBlogTagAreaHandlerService{constructor(){this.name="AddonBlogTagAreaHandler",this.type="core/post"}isEnabled(){return J.hU.isPluginEnabled()}parseContent(e){return(0,s.A)((function*(){return rn.CoreTagHelper.parseFeedContent(e)}))()}getComponent(){return(0,s.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=AddonBlogTagAreaHandlerService).ɵfac=function AddonBlogTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogTagAreaHandlerService})();const sn=(0,u.Qd)(on);let an=(()=>{var e;class AddonBlogUserHandlerService{constructor(){this.name="AddonBlog",this.priority=200,this.type=Vt.CoreUserProfileHandlerType.LIST_ITEM}isEnabled(){return J.hU.isPluginEnabled()}isEnabledForContext(e){return(0,s.A)((function*(){const n=fe.CoreSites.getCurrentSite();if(!n)return!1;if(e===Vt.CoreUserDelegateContext.USER_MENU){if(n.isFeatureDisabled("CoreUserDelegate_AddonBlog:account"))return!1}else if(n.isFeatureDisabled("CoreUserDelegate_AddonBlog:blogs"))return!1;return!0}))()}getDisplayData(){return{icon:"far-newspaper",title:"addon.blog.blogentries",class:"addon-blog-handler",action:(e,n,r,o)=>{e.preventDefault(),e.stopPropagation(),f.CoreNavigator.navigateToSitePath("/blog/index",{params:{courseId:o,userId:n.id}})}}}}return(e=AddonBlogUserHandlerService).ɵfac=function AddonBlogUserHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogUserHandlerService})();const ln=(0,u.Qd)(an);var dn=r(92908),cn=r(26135),un=r(85618);let pn=(()=>{var e;class AddonBlogSyncCronHandlerService{constructor(){this.name="AddonBlogSyncCronHandler"}execute(e,n){return un.a.syncAllEntries(e,n)}getInterval(){return un.a.syncInterval}}return(e=AddonBlogSyncCronHandlerService).ɵfac=function AddonBlogSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonBlogSyncCronHandlerService})();const fn=(0,u.Qd)(pn),gn=[{path:Wt.H5,loadChildren:()=>r.e(2920).then(r.bind(r,2920))}];let mn=(()=>{var e;class AddonBlogModule{}return(e=AddonBlogModule).ɵfac=function AddonBlogModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[dn.d],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{Nt.CoreContentLinksDelegate.registerHandler(en.instance),Nt.CoreContentLinksDelegate.registerHandler(Jt.instance),$t.CoreMainMenuDelegate.registerHandler(nn.instance),Vt.CoreUserDelegate.registerHandler(ln.instance),jt.CoreTagAreaDelegate.registerHandler(sn.instance),Ht.CoreCourseOptionsDelegate.registerHandler(Qt.instance),cn.CoreCronDelegate.register(fn.instance)}}],imports:[Bt.b.forChild(gn),Ut.I.forChild({children:gn}),Lt.l.forChild({children:gn})]}),AddonBlogModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(mn,{imports:[Bt.b,Ut.I,Lt.l]}));var hn=r(95476),vn=r(57492),yn=r(22063),Cn=r(59656);let bn=(()=>{var e;class AddonEnrolFeeHandlerService{constructor(){this.name="AddonEnrolFee",this.type="fee",this.enrolmentAction=Cn.CoreEnrolAction.BROWSER}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonEnrolFeeHandlerService).ɵfac=function AddonEnrolFeeHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonEnrolFeeHandlerService})();const wn=(0,u.Qd)(bn);let Sn=(()=>{var e;class AddonEnrolFeeModule{}return(e=AddonEnrolFeeModule).ɵfac=function AddonEnrolFeeModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Cn.CoreEnrolDelegate.registerHandler(wn.instance)}}]}),AddonEnrolFeeModule})();var An=r(83793),_n=r(33014),En=r(43411),In=r(4838),Dn=r(35132);let Mn=(()=>{var e;class AddonEnrolGuestHandlerService{constructor(){this.name="AddonEnrolGuest",this.type="guest",this.enrolmentAction=Cn.CoreEnrolAction.GUEST}isEnabled(){return(0,s.A)((function*(){return!0}))()}getInfoIcons(e){var n=this;return(0,s.A)((function*(){const r=yield In.CoreEnrol.getSupportedCourseEnrolmentMethods(e,{type:n.type});for(const e of r){return(yield An.AddonEnrolGuest.getGuestEnrolmentInfo(e.id)).passwordrequired?[{label:"addon.enrol_guest.guestaccess_withpassword",icon:"fas-key"}]:[{label:"addon.enrol_guest.guestaccess_withoutpassword",icon:"fas-unlock"}]}return[]}))()}canAccess(e){return(0,s.A)((function*(){const n=yield An.AddonEnrolGuest.getGuestEnrolmentInfo(e.id);return{canAccess:n.status&&(!n.passwordrequired||An.AddonEnrolGuest.isValidateGuestAccessPasswordAvailable()),requiresUserInput:n.passwordrequired}}))()}validateAccess(e){return(0,s.A)((function*(){const n=yield An.AddonEnrolGuest.getGuestEnrolmentInfo(e.id);if(!n.status)return!1;if(!n.passwordrequired)return!0;if(!An.AddonEnrolGuest.isValidateGuestAccessPasswordAvailable())return!1;const r=function(){var n=(0,s.A)((function*(n=""){const r=yield _n.CoreLoadings.show("core.loading",!0);try{const r=yield An.AddonEnrolGuest.validateGuestAccessPassword(e.id,n);let o=r.hint;return r.validated||o||(o="addon.enrol_guest.passwordinvalid"),{password:n,validated:r.validated,error:o}}finally{r.dismiss()}}));return function validatePassword(){return n.apply(this,arguments)}}();try{if(!(yield Dn.CorePrompts.promptPassword({title:e.name,validator:r})).validated)return!1}catch(e){if(e instanceof En.CoreWSError)throw e;return!1}return!0}))()}invalidate(e){return(0,s.A)((function*(){return An.AddonEnrolGuest.invalidateGuestEnrolmentInfo(e.id)}))()}}return(e=AddonEnrolGuestHandlerService).ɵfac=function AddonEnrolGuestHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonEnrolGuestHandlerService})();const Tn=(0,u.Qd)(Mn);let Pn=(()=>{var e;class AddonEnrolGuestModule{}return(e=AddonEnrolGuestModule).ɵfac=function AddonEnrolGuestModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Cn.CoreEnrolDelegate.registerHandler(Tn.instance)}}]}),AddonEnrolGuestModule})(),kn=(()=>{var e;class AddonEnrolPaypalHandlerService{constructor(){this.name="AddonEnrolPaypal",this.type="paypal",this.enrolmentAction=Cn.CoreEnrolAction.BROWSER}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonEnrolPaypalHandlerService).ɵfac=function AddonEnrolPaypalHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonEnrolPaypalHandlerService})();const xn=(0,u.Qd)(kn);let Fn=(()=>{var e;class AddonEnrolPaypalModule{}return(e=AddonEnrolPaypalModule).ɵfac=function AddonEnrolPaypalModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Cn.CoreEnrolDelegate.registerHandler(xn.instance)}}]}),AddonEnrolPaypalModule})();var On=r(65485),Rn=r(9538),Nn=r(25572);let Ln=(()=>{var e;class AddonEnrolSelfHandlerService{constructor(){this.name="AddonEnrolSelf",this.type="self",this.enrolmentAction=Cn.CoreEnrolAction.SELF}isEnabled(){return(0,s.A)((function*(){return!0}))()}getInfoIcons(e){var n=this;return(0,s.A)((function*(){const r=yield In.CoreEnrol.getSupportedCourseEnrolmentMethods(e,{type:n.type});let o=!1,i=!1;for(const e of r){if((yield On.AddonEnrolSelf.getSelfEnrolmentInfo(e.id)).enrolpassword?o=!0:i=!0,i&&o)break}const s=[];return i&&s.push({label:"addon.enrol_self.pluginname",icon:"fas-right-to-bracket"}),o&&s.push({label:"addon.enrol_self.pluginname",icon:"fas-key"}),s}))()}enrol(e){var n=this;return(0,s.A)((function*(){if(!(yield On.AddonEnrolSelf.getSelfEnrolmentInfo(e.id)).enrolpassword)try{yield Nn.CoreAlerts.confirm(u.HT.instant("addon.enrol_self.confirmselfenrol"),{header:e.name,okText:u.HT.instant("core.courses.enrolme")})}catch{return!1}try{return yield n.performEnrol(e)}catch{return!1}}))()}performEnrol(e){return(0,s.A)((function*(){const n=function(){var n=(0,s.A)((function*(n=""){const r=yield _n.CoreLoadings.show("core.loading",!0),o={password:n};try{o.validated=yield On.AddonEnrolSelf.selfEnrol(e.courseid,n,e.id)}catch(e){if(!e||e.errorcode!==Rn.CORE_COURSES_ENROL_INVALID_KEY)throw Nn.CoreAlerts.showError(e,{default:u.HT.instant("addon.enrol_self.errorselfenrol")}),e;o.validated=!1,o.error=e.message}finally{r.dismiss()}return o}));return function validatePassword(){return n.apply(this,arguments)}}();let r;try{r=yield n()}catch{return!1}if(!r.validated)try{if(!(yield Dn.CorePrompts.promptPassword({validator:n,title:e.name,placeholder:"addon.enrol_self.password",submit:"core.courses.enrolme"})).validated)return!1}catch{return!1}return!0}))()}invalidate(e){return(0,s.A)((function*(){return On.AddonEnrolSelf.invalidateSelfEnrolmentInfo(e.id)}))()}}return(e=AddonEnrolSelfHandlerService).ɵfac=function AddonEnrolSelfHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonEnrolSelfHandlerService})();const Hn=(0,u.Qd)(Ln);let Un=(()=>{var e;class AddonEnrolSelfModule{}return(e=AddonEnrolSelfModule).ɵfac=function AddonEnrolSelfModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Cn.CoreEnrolDelegate.registerHandler(Hn.instance)}}]}),AddonEnrolSelfModule})(),Bn=(()=>{var e;class AddonEnrolModule{}return(e=AddonEnrolModule).ɵfac=function AddonEnrolModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[Sn,Pn,Fn,Un]}),AddonEnrolModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Bn,{imports:[Sn,Pn,Fn,Un]}));var $n=r(31616),jn=r(2618);let Vn=(()=>{var e;class AddonFilterActivityNamesHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterActivityNamesHandler",this.filterName="activitynames"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterActivityNamesHandlerService).ɵfac=(()=>{let n;return function AddonFilterActivityNamesHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterActivityNamesHandlerService})();const Gn=(0,u.Qd)(Vn);let zn=(()=>{var e;class AddonFilterActivityNamesModule{}return(e=AddonFilterActivityNamesModule).ɵfac=function AddonFilterActivityNamesModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Gn.instance)}]}),AddonFilterActivityNamesModule})(),qn=(()=>{var e;class AddonFilterAlgebraHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterAlgebraHandler",this.filterName="algebra"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterAlgebraHandlerService).ɵfac=(()=>{let n;return function AddonFilterAlgebraHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterAlgebraHandlerService})();const Wn=(0,u.Qd)(qn);let Kn=(()=>{var e;class AddonFilterAlgebraModule{}return(e=AddonFilterAlgebraModule).ɵfac=function AddonFilterAlgebraModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Wn.instance)}]}),AddonFilterAlgebraModule})(),Qn=(()=>{var e;class AddonFilterCensorHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterCensorHandler",this.filterName="censor"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterCensorHandlerService).ɵfac=(()=>{let n;return function AddonFilterCensorHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterCensorHandlerService})();const Xn=(0,u.Qd)(Qn);let Yn=(()=>{var e;class AddonFilterCensorModule{}return(e=AddonFilterCensorModule).ɵfac=function AddonFilterCensorModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Xn.instance)}]}),AddonFilterCensorModule})(),Jn=(()=>{var e;class AddonFilterDataHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterDataHandler",this.filterName="data"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterDataHandlerService).ɵfac=(()=>{let n;return function AddonFilterDataHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterDataHandlerService})();const Zn=(0,u.Qd)(Jn);let er=(()=>{var e;class AddonFilterDataModule{}return(e=AddonFilterDataModule).ɵfac=function AddonFilterDataModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Zn.instance)}]}),AddonFilterDataModule})();var tr=r(94455),nr=r(8014),rr=r(11361),or=r(49882),ir=r(53867),sr=r(84412),ar=r(49588),lr=r(86654),dr=r(88695),cr=r(88436),ur=r(15060),pr=r(86198),fr=r(43570),gr=r(60177),mr=r(73955);function CoreH5PPlayerComponent_Conditional_0_Template(e,n){if(1&e&&o.nrm(0,"core-h5p-iframe",0),2&e){const e=o.XpG();o.Y8G("fileUrl",null==e.urlParams?null:e.urlParams.url)("displayOptions",e.displayOptions)("onlinePlayerUrl",e.src)("component",e.component)("componentId",e.componentId)("fileTimemodified",e.fileTimemodified)}}function CoreH5PPlayerComponent_Conditional_1_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"div",1)(1,"ion-button",2),o.nI1(2,"translate"),o.bIt("click",(function CoreH5PPlayerComponent_Conditional_1_Template_ion_button_click_1_listener(n){o.eBV(e);const r=o.XpG();return o.Njj(r.play(n))})),o.nrm(3,"ion-icon",3),o.k0s(),o.j41(4,"div",4)(5,"core-download-refresh",5),o.nI1(6,"async"),o.nI1(7,"async"),o.bIt("action",(function CoreH5PPlayerComponent_Conditional_1_Template_core_download_refresh_action_5_listener(){o.eBV(e);const n=o.XpG();return o.Njj(n.download())})),o.k0s()()()}if(2&e){const e=o.XpG();o.R7$(),o.Y8G("ariaLabel",o.bMT(2,5,"core.h5p.play")),o.R7$(4),o.Y8G("status",e.state)("enabled",o.bMT(6,7,e.canDownload$))("loading",o.bMT(7,9,e.calculating$))("canTrustDownload",!0)}}let hr=(()=>{var e;class CoreH5PPlayerComponent{constructor(e){this.autoPlay=!1,this.showPackage=!1,this.canDownload$=new sr.t(!1),this.calculating$=new sr.t(!0),this.nativeElement=e.nativeElement,this.logger=b.CoreLogger.getInstance("CoreH5PPlayerComponent"),this.site=fe.CoreSites.getRequiredCurrentSite(),this.siteId=this.site.getId(),this.siteCanDownload=this.site.canDownloadFiles()&&!ir.CoreH5P.isOfflineDisabledInSite()}ngOnInit(){this.handleAutoPlay()}ngOnChanges(e){e.src&&!this.showPackage&&this.handleAutoPlay()}handleAutoPlay(){var e=this;return(0,s.A)((function*(){if(yield e.checkCanDownload(),!e.autoPlay)return e.canDownload$.getValue()&&e.state&&cr.CoreFileHelper.isStateDownloaded(e.state)&&e.play(),void 0;e.play()}))()}play(e){var n=this;return(0,s.A)((function*(){if(null==e||e.preventDefault(),null==e||e.stopPropagation(),n.displayOptions=ir.CoreH5P.h5pPlayer.getDisplayOptionsFromUrlParams(n.urlParams),n.showPackage=!0,n.canDownload$.getValue()&&(n.state===i.DownloadStatus.OUTDATED||n.state===i.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED))try{yield n.attemptDownloadInBg()}catch(e){n.logger.error("Error downloading H5P in background",e)}}))()}download(){var e=this;return(0,s.A)((function*(){if(!tr.WE.isOnline())return Nn.CoreAlerts.showError(u.HT.instant("core.networkerrormsg")),void 0;if(e.urlParams)try{const n=yield ir.CoreH5P.h5pFramework.getMissingDependenciesForFile(e.urlParams.url);if(n.length>0)throw ir.CoreH5P.h5pFramework.buildMissingDependenciesErrorFromDBRecords(n);const r=yield rr.CorePluginFileDelegate.getFileSize({fileurl:e.urlParams.url},e.siteId);yield Nn.CoreAlerts.confirmDownloadSize({size:r,total:!0}),yield qt.CoreFilepool.addToQueueByUrl(e.siteId,e.urlParams.url,e.component,e.componentId)}catch(n){if(ar.CoreErrorHelper.isCanceledError(n))return;Nn.CoreAlerts.showError(n,{default:u.HT.instant("core.errordownloading")}),e.calculateState()}}))()}attemptDownloadInBg(){var e=this;return(0,s.A)((function*(){if(!(e.urlParams&&e.src&&e.siteCanDownload&&ir.CoreH5P.canGetTrustedH5PFileInSite()&&tr.WE.isOnline()))return;if((yield ir.CoreH5P.h5pFramework.getMissingDependenciesForFile(e.urlParams.url)).length>0)return;const n=yield rr.CorePluginFileDelegate.getFileSize({fileurl:e.urlParams.url},e.siteId);qt.CoreFilepool.shouldDownload(n)&&qt.CoreFilepool.addToQueueByUrl(e.siteId,e.urlParams.url,e.component,e.componentId)}))()}checkCanDownload(){var e=this;return(0,s.A)((function*(){var n;if(null===(n=e.observer)||void 0===n||n.off(),e.urlParams=nr.F.extractUrlParams(e.src||""),e.src&&e.siteCanDownload&&ir.CoreH5P.canGetTrustedH5PFileInSite()&&e.site.containsUrl(e.src)){yield e.calculateState();try{const n=yield qt.CoreFilepool.getFileEventNameByUrl(e.siteId,e.urlParams.url);e.observer=or.z.on(n,(()=>{e.calculateState()}))}catch{}}else e.calculating$.next(!1),e.canDownload$.next(!1)}))()}calculateState(){var e=this;return(0,s.A)((function*(){if(e.urlParams){e.calculating$.next(!0);try{const n=yield qt.CoreFilepool.getFileStateByUrl(e.siteId,e.urlParams.url);e.canDownload$.next(!0),e.state=n}catch{e.canDownload$.next(!1)}finally{e.calculating$.next(!1)}}}))()}getElement(){return this.nativeElement}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.off()}}return(e=CoreH5PPlayerComponent).ɵfac=function CoreH5PPlayerComponent_Factory(n){return new(n||e)(o.rXU(o.aKT))},e.ɵcmp=o.VBU({type:e,selectors:[["core-h5p-player"]],inputs:{src:"src",component:"component",componentId:"componentId",fileTimemodified:"fileTimemodified",autoPlay:"autoPlay"},standalone:!0,features:[o.OA$,o.aNF],decls:2,vars:1,consts:[[3,"fileUrl","displayOptions","onlinePlayerUrl","component","componentId","fileTimemodified"],[1,"core-h5p-placeholder"],["fill","clear",1,"core-h5p-placeholder-play-button","enlarge-on-hover",3,"click","ariaLabel"],["name","far-circle-play","slot","icon-only","aria-hidden","true"],[1,"core-h5p-placeholder-download-container"],[3,"action","status","enabled","loading","canTrustDownload"]],template:function CoreH5PPlayerComponent_Template(e,n){1&e&&o.DNE(0,CoreH5PPlayerComponent_Conditional_0_Template,1,6,"core-h5p-iframe",0)(1,CoreH5PPlayerComponent_Conditional_1_Template,8,11),2&e&&o.vxM(0,n.showPackage?0:n.urlParams?1:-1)},dependencies:[lr.n,a.Jm,a.iq,ur.Y,pr.t,fr.T,gr.Jj,mr.D9,dr.m],styles:["[_nghost-%COMP%]{--core-h5p-placeholder-bg-color: var(--gray-300);--core-h5p-placeholder-text-color: var(--ion-text-color)}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]{position:relative;width:100%;height:230px;background:url(/assets/img/icons/h5p.svg) center top 25px/100px auto no-repeat var(--core-h5p-placeholder-bg-color);color:var(--core-h5p-placeholder-text-color)}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:not([color=success]){color:var(--core-h5p-placeholder-text-color)}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   .core-h5p-placeholder-play-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   .core-h5p-placeholder-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   .core-h5p-placeholder-play-button[_ngcontent-%COMP%]{font-size:1.875rem;min-height:50px}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   .core-h5p-placeholder-download-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   .core-h5p-placeholder-download-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-right:.75em}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   .core-h5p-placeholder-download-container[_ngcontent-%COMP%]   core-download-refresh[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{margin:.4rem .2rem;padding:0 .5em;line-height:.67}[_nghost-%COMP%]   .core-h5p-placeholder[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:var(--core-h5p-placeholder-text-color)}"]}),CoreH5PPlayerComponent})();var vr=r(74691),yr=r(75383),Cr=r(81690);let br=(()=>{var e;class AddonFilterDisplayH5PHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterDisplayH5PHandler",this.filterName="displayh5p"}filter(e){return yr.Ni.processHTML(e,(e=>{Array.from(e.querySelectorAll("iframe.h5p-iframe")).forEach((e=>{var n;const r=document.createElement("div");r.classList.add("core-h5p-tmp-placeholder"),r.setAttribute("data-player-src",e.src),null===(n=e.parentElement)||void 0===n||n.replaceChild(r,e)}));Array.from(e.querySelectorAll("iframe.h5p-player")).forEach((e=>{e.src=nr.F.addParamsToUrl(e.src,{preventredirect:!1}),vr.P.addResizerScript();const n=Number(e.style.height),r=Number(e.getAttribute("height"));(!r||r<400)&&(!n||n<400)&&(e.style.height="400px")}))}))}handleHtml(e,n,r,o,i,s){Array.from(e.querySelectorAll("div.core-h5p-tmp-placeholder")).forEach((e=>{if(!e.parentElement)return;const n=o.createComponent(hr).instance,r=e.getAttribute("data-player-src")||"";n.src=r,n.component=i,n.componentId=s,n.autoPlay=Cr.j.isTrueOrOne(e.parentElement.dataset.mobileappAutoplay),e.parentElement.replaceChild(n.getElement(),e)}))}}return(e=AddonFilterDisplayH5PHandlerService).ɵfac=(()=>{let n;return function AddonFilterDisplayH5PHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterDisplayH5PHandlerService})();const wr=(0,u.Qd)(br);let Sr=(()=>{var e;class AddonFilterDisplayH5PModule{}return(e=AddonFilterDisplayH5PModule).ɵfac=function AddonFilterDisplayH5PModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(wr.instance)}]}),AddonFilterDisplayH5PModule})(),Ar=(()=>{var e;class AddonFilterEmailProtectHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterEmailProtectHandler",this.filterName="emailprotect"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterEmailProtectHandlerService).ɵfac=(()=>{let n;return function AddonFilterEmailProtectHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterEmailProtectHandlerService})();const _r=(0,u.Qd)(Ar);let Er=(()=>{var e;class AddonFilterEmailProtectModule{}return(e=AddonFilterEmailProtectModule).ɵfac=function AddonFilterEmailProtectModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(_r.instance)}]}),AddonFilterEmailProtectModule})(),Ir=(()=>{var e;class AddonFilterEmoticonHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterEmoticonHandler",this.filterName="emoticon"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterEmoticonHandlerService).ɵfac=(()=>{let n;return function AddonFilterEmoticonHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterEmoticonHandlerService})();const Dr=(0,u.Qd)(Ir);let Mr=(()=>{var e;class AddonFilterEmoticonModule{}return(e=AddonFilterEmoticonModule).ɵfac=function AddonFilterEmoticonModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Dr.instance)}]}),AddonFilterEmoticonModule})(),Tr=(()=>{var e;class AddonFilterGlossaryHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterGlossaryHandler",this.filterName="glossary"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterGlossaryHandlerService).ɵfac=(()=>{let n;return function AddonFilterGlossaryHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterGlossaryHandlerService})();const Pr=(0,u.Qd)(Tr);let kr=(()=>{var e;class AddonFilterGlossaryModule{}return(e=AddonFilterGlossaryModule).ɵfac=function AddonFilterGlossaryModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Pr.instance)}]}),AddonFilterGlossaryModule})();var xr=r(55554),Fr=r(82907);let Or=(()=>{var e;class AddonFilterMathJaxLoaderHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterMathJaxLoaderHandler",this.filterName="mathjaxloader",this.window=window,this.logger=b.CoreLogger.getInstance("AddonFilterMathJaxLoaderHandler")}initialize(){if(document.head.querySelector("#core-filter-mathjax-script"))return;this.window.MathJax={options:{enableMenu:!1},startup:{typeset:!1}};const e=document.createElement("script");e.id="core-filter-mathjax-script",e.src="assets/lib/mathjax/tex-mml-chtml.js",document.head.appendChild(e)}filter(e,n,r,o){var i=this;return(0,s.A)((function*(){const n=yield fe.CoreSites.getSite(o);if(!r.wsNotFiltered&&n.isVersionGreaterEqualThan("3.7"))return e;if(e.includes('class="filter_mathjaxloader_equation"'))return e;let s=!1;if(e.match(/\\[[(]/)||e.match(/\$\$/)){const n=i.wrapMathInNoLink(e);e=n.text,s=n.changed}return s?`<span class="filter_mathjaxloader_equation">${e}</span>`:e}))()}handleHtml(e){var n=this;return(0,s.A)((function*(){yield xr.g.ignoreErrors(xr.g.timeoutPromise(Fr.y.waitToBeInDOM(e),15e3)),yield n.typeset(e)}))()}insertSpan(e,n,r){return yr.Ni.substrReplace(e,`<span class="nolink">${e.substring(n,r+1)}</span>`,n,r-n+1)}shouldBeApplied(e,n){return!(!n||n.getId()!=fe.CoreSites.getCurrentSiteId())}typeset(e){var n=this;return(0,s.A)((function*(){const r=Array.from(e.getElementsByClassName("filter_mathjaxloader_equation"));r.length&&(n.initialize(),yield n.waitForReady(),yield Promise.all(r.map((e=>n.typesetNode(e)))))}))()}typesetNode(e){var n=this;return(0,s.A)((function*(){var r;if(e instanceof HTMLElement&&null!==(r=n.window.MathJax)&&void 0!==r&&r.typesetPromise)try{yield n.window.MathJax.typesetPromise([e])}catch(e){n.logger.error(e)}}))()}waitForReady(e=0){var n=this;return(0,s.A)((function*(){var r;null!==(r=n.window.MathJax)&&void 0!==r&&r.typesetPromise||e>=25||(yield R.H.wait(20+10*e),yield xr.g.ignoreErrors(n.waitForReady(e+1)))}))()}wrapMathInNoLink(e){let n=e.length,r=1,o=-1,i=!1,s=!1,a=-1,c=!1;for(;r<n;)-1===o?"\\"===e[r-1]?"["===e[r]?(o=r-1,i=!0):"("===e[r]?a=r-1:")"===e[r]&&a>-1&&(e=this.insertSpan(e,a,r),a=-1,r+=28,n+=28,c=!0):"$"===e[r-1]&&"$"===e[r]&&(o=r-1,s=!0):("\\"===e[r-1]&&"]"===e[r]&&i||"$"===e[r-1]&&"$"===e[r]&&s)&&(e=this.insertSpan(e,o,r),o=-1,i=!1,s=!1,r+=28,n+=28,c=!0),r++;return{text:e,changed:c}}}return(e=AddonFilterMathJaxLoaderHandlerService).ɵfac=(()=>{let n;return function AddonFilterMathJaxLoaderHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterMathJaxLoaderHandlerService})();const Rr=(0,u.Qd)(Or);let Nr=(()=>{var e,n;class AddonFilterMathJaxLoaderModule{}return(e=AddonFilterMathJaxLoaderModule).ɵfac=function AddonFilterMathJaxLoaderModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:(n=(0,s.A)((function*(){$n.CoreFilterDelegate.registerHandler(Rr.instance)})),function useValue(){return n.apply(this,arguments)})}]}),AddonFilterMathJaxLoaderModule})();var Lr=r(52012),Hr=r(89615);let Ur=(()=>{var e;class AddonFilterMediaPluginHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterMediaPluginHandler",this.filterName="mediaplugin"}filter(e){return yr.Ni.processHTML(e,(e=>{Array.from(e.querySelectorAll("video")).forEach((e=>{Lr.wK.treatYoutubeVideos(e)}))}))}handleHtml(e){Array.from(e.querySelectorAll("video, audio")).forEach((e=>{if(Hr.o.mediaUsesJavascriptPlayer(e))return Lr.wK.createPlayer(e),void 0;e.classList.remove("video-js"),e.removeAttribute("data-setup"),e.removeAttribute("data-setup-lazy")}))}}return(e=AddonFilterMediaPluginHandlerService).ɵfac=(()=>{let n;return function AddonFilterMediaPluginHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterMediaPluginHandlerService})();const Br=(0,u.Qd)(Ur);let $r=(()=>{var e;class AddonFilterMediaPluginModule{}return(e=AddonFilterMediaPluginModule).ɵfac=function AddonFilterMediaPluginModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{$n.CoreFilterDelegate.registerHandler(Br.instance)}}]}),AddonFilterMediaPluginModule})();var jr=r(46007);let Vr=(()=>{var e;class AddonFilterMultilangModule{}return(e=AddonFilterMultilangModule).ɵfac=function AddonFilterMultilangModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(jr.AddonFilterMultilangHandler.instance)}]}),AddonFilterMultilangModule})();var Gr=r(44301);let zr=(()=>{var e;class AddonFilterMultilang2Module{}return(e=AddonFilterMultilang2Module).ɵfac=function AddonFilterMultilang2Module_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Gr.AddonFilterMultilang2Handler.instance)}]}),AddonFilterMultilang2Module})(),qr=(()=>{var e;class AddonFilterTexHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterTexHandler",this.filterName="tex"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterTexHandlerService).ɵfac=(()=>{let n;return function AddonFilterTexHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterTexHandlerService})();const Wr=(0,u.Qd)(qr);let Kr=(()=>{var e;class AddonFilterTexModule{}return(e=AddonFilterTexModule).ɵfac=function AddonFilterTexModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Wr.instance)}]}),AddonFilterTexModule})(),Qr=(()=>{var e;class AddonFilterTidyHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterTidyHandler",this.filterName="tidy"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterTidyHandlerService).ɵfac=(()=>{let n;return function AddonFilterTidyHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterTidyHandlerService})();const Xr=(0,u.Qd)(Qr);let Yr=(()=>{var e;class AddonFilterTidyModule{}return(e=AddonFilterTidyModule).ɵfac=function AddonFilterTidyModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Xr.instance)}]}),AddonFilterTidyModule})(),Jr=(()=>{var e;class AddonFilterUrlToLinkHandlerService extends jn.r{constructor(){super(...arguments),this.name="AddonFilterUrlToLinkHandler",this.filterName="urltolink"}shouldBeApplied(e,n){return!1}}return(e=AddonFilterUrlToLinkHandlerService).ɵfac=(()=>{let n;return function AddonFilterUrlToLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonFilterUrlToLinkHandlerService})();const Zr=(0,u.Qd)(Jr);let eo=(()=>{var e;class AddonFilterUrlToLinkModule{}return(e=AddonFilterUrlToLinkModule).ɵfac=function AddonFilterUrlToLinkModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>$n.CoreFilterDelegate.registerHandler(Zr.instance)}]}),AddonFilterUrlToLinkModule})(),to=(()=>{var e;class AddonFilterModule{}return(e=AddonFilterModule).ɵfac=function AddonFilterModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[zn,Kn,Yn,er,Sr,Er,Mr,kr,Nr,$r,Vr,zr,Kr,Yr,eo]}),AddonFilterModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(to,{imports:[zn,Kn,Yn,er,Sr,Er,Mr,kr,Nr,$r,Vr,zr,Kr,Yr,eo]}));var no=r(11405),ro=r(41007),oo=r(75133),io=r(97086),so=r(30260),ao=r(91767);let lo=(()=>{var e;class AddonModBBBIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(ao.rU,ao.vi,"bn"),this.name="AddonModBBBIndexLinkHandlerService"}}return(e=AddonModBBBIndexLinkHandlerService).ɵfac=function AddonModBBBIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBBBIndexLinkHandlerService})();const co=(0,u.Qd)(lo);var uo=r(85720);let po=(()=>{var e;class AddonModBBBListLinkHandlerService extends uo.S{constructor(){super(ao.rU,ao.vi),this.name="AddonModBBBListLinkHandler"}}return(e=AddonModBBBListLinkHandlerService).ɵfac=function AddonModBBBListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBBBListLinkHandlerService})();const fo=(0,u.Qd)(po);var go=r(43130),mo=r(47101);let ho=(()=>{var e;class AddonModBBBModuleHandlerService extends go.j{constructor(){super(...arguments),this.name=ao.rU,this.modName=ao.vi,this.pageName=ao.TO,this.supportedFeatures={idnumber:!0,groups:!0,groupings:!0,mod_intro:!0,backup_moodle2:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,outcomes:!1,showdescription:!0,mod_purpose:"communication"}}isEnabled(){var e=this;return(0,s.A)((function*(){var n;if(yield mo.no.isPluginEnabled())return delete e.sitePluginHandler,e.name=ao.rU,!0;const{CoreSitePlugins:o}=yield Promise.resolve().then(r.bind(r,32832));return e.sitePluginHandler=o.getModuleHandlerInstance(e.modName),e.name=(null===(n=e.sitePluginHandler)||void 0===n?void 0:n.name)||e.name,!!e.sitePluginHandler}))()}getData(e,n,r,o){var _superprop_getGetData=()=>super.getData,i=this;return(0,s.A)((function*(){if(i.sitePluginHandler)return i.sitePluginHandler.getData(e,n,r,o);const s=yield _superprop_getGetData().call(i,e,n,r,o);return s.showDownloadButton=!1,s}))()}getMainComponent(){var e=this;return(0,s.A)((function*(){if(e.sitePluginHandler)return e.sitePluginHandler.getMainComponent();const{AddonModBBBIndexComponent:n}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(10524)]).then(r.bind(r,10524));return n}))()}}return(e=AddonModBBBModuleHandlerService).ɵfac=(()=>{let n;return function AddonModBBBModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBBBModuleHandlerService})();const vo=(0,u.Qd)(ho),yo=[{path:`${ao.TO}/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(10524),r.e(72076),r.e(91802)]).then(r.bind(r,91802))}];let Co=(()=>{var e;class AddonModBBBModule{}return(e=AddonModBBBModule).ɵfac=function AddonModBBBModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(vo.instance),Nt.CoreContentLinksDelegate.registerHandler(co.instance),Nt.CoreContentLinksDelegate.registerHandler(fo.instance)}}],imports:[Bt.b.forChild(yo)]}),AddonModBBBModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Co,{imports:[Bt.b]}));var bo=r(8979),wo=r(79313),So=r(492);let Ao=(()=>{var e;class AddonModBookModuleHandlerService extends go.j{constructor(){super(...arguments),this.name=So.Gn,this.modName=So.Iu,this.pageName=So._F,this.supportedFeatures={mod_archetype:1,groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"content"}}isEnabled(){return wo.A.isPluginEnabled()}getMainComponent(){return(0,s.A)((function*(){const{AddonModBookIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076)]).then(r.bind(r,78645));return e}))()}}return(e=AddonModBookModuleHandlerService).ɵfac=(()=>{let n;return function AddonModBookModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBookModuleHandlerService})();const _o=(0,u.Qd)(Ao);let Eo=(()=>{var e;class AddonModBookIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(So.Gn,So.Iu,"b"),this.name="AddonModBookLinkHandler"}getModNavOptions(e,n){return{nextNavigation:{path:"contents",options:{params:{chapterId:n.chapterid?parseInt(n.chapterid,10):void 0}}}}}getPageParams(e,n){return n.chapterid?{chapterId:parseInt(n.chapterid,10)}:{}}isEnabled(e){return wo.A.isPluginEnabled(e)}}return(e=AddonModBookIndexLinkHandlerService).ɵfac=function AddonModBookIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBookIndexLinkHandlerService})();const Io=(0,u.Qd)(Eo);let Do=(()=>{var e;class AddonModBookListLinkHandlerService extends uo.S{constructor(){super(So.Gn,So.Iu),this.name="AddonModBookListLinkHandler"}isEnabled(){return wo.A.isPluginEnabled()}}return(e=AddonModBookListLinkHandlerService).ɵfac=function AddonModBookListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBookListLinkHandlerService})();const Mo=(0,u.Qd)(Do);var To=r(32868);let Po=(()=>{var e;class AddonModBookPrefetchHandlerService extends To.CoreCourseResourcePrefetchHandlerBase{constructor(){super(...arguments),this.name=So.Gn,this.modName=So.Iu,this.component=So.iy,this.updatesNames=/^configuration$|^.*files$|^entries$/}downloadOrPrefetch(e,n,r){var _superprop_getDownloadOrPrefetch=()=>super.downloadOrPrefetch,o=this;return(0,s.A)((function*(){const i=[];i.push(_superprop_getDownloadOrPrefetch().call(o,e,n,r)),i.push(xr.g.ignoreErrors(wo.A.getBook(n,e.id))),yield Promise.all(i)}))()}getIntroFiles(e,n){var r=this;return(0,s.A)((function*(){const o=yield xr.g.ignoreErrors(wo.A.getBook(n,e.id));return r.getIntroFilesFromInstance(e,o)}))()}invalidateContent(e,n){return(0,s.A)((function*(){yield wo.A.invalidateContent(e,n)}))()}isEnabled(){return wo.A.isPluginEnabled()}}return(e=AddonModBookPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModBookPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBookPrefetchHandlerService})();const ko=(0,u.Qd)(Po);let xo=(()=>{var e;class AddonModBookTagAreaHandlerService{constructor(){this.name="AddonModBookTagAreaHandler",this.type="mod_book/book_chapters"}isEnabled(){return wo.A.isPluginEnabled()}parseContent(e){return(0,s.A)((function*(){const n=rn.CoreTagHelper.parseFeedContent(e);return yield Promise.all(n.map(function(){var e=(0,s.A)((function*(e){const n=e.url?nr.F.extractUrlParams(e.url):{};if(n.b&&!n.id){const r=parseInt(n.b,10),o=yield Gt.CoreCourse.getModuleBasicInfoByInstance(r,So.Iu,{readingStrategy:1});e.url+=`&id=${o.id}`}}));return function(n){return e.apply(this,arguments)}}())),n}))()}getComponent(){return(0,s.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=AddonModBookTagAreaHandlerService).ɵfac=function AddonModBookTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModBookTagAreaHandlerService})();const Fo=(0,u.Qd)(xo),Oo={name:"AddonModBookProvider",version:1,tables:[{name:"addon_mod_book_last_chapter_viewed",columns:[{name:"id",type:"INTEGER",primaryKey:!0},{name:"chapterid",type:"INTEGER",notNull:!0}]}]},Ro=[{path:So._F,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076),r.e(66793)]).then(r.bind(r,66793))},{path:":courseId/:cmId/contents",loadComponent:()=>Promise.all([r.e(72076),r.e(80801)]).then(r.bind(r,18735))}]}];let No=(()=>{var e;class AddonModBookModule{}return(e=AddonModBookModule).ɵfac=function AddonModBookModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[Oo],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(_o.instance),Nt.CoreContentLinksDelegate.registerHandler(Io.instance),Nt.CoreContentLinksDelegate.registerHandler(Mo.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(ko.instance),jt.CoreTagAreaDelegate.registerHandler(Fo.instance)}}],imports:[Bt.b.forChild(Ro)]}),AddonModBookModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(No,{imports:[Bt.b]}));var Lo=r(22535);let Ho=(()=>{var e;class AddonModChatIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Lo.L5,Lo.dE,"c"),this.name="AddonModChatIndexLinkHandlerService"}}return(e=AddonModChatIndexLinkHandlerService).ɵfac=function AddonModChatIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChatIndexLinkHandlerService})();const Uo=(0,u.Qd)(Ho);let Bo=(()=>{var e;class AddonModChatListLinkHandlerService extends uo.S{constructor(){super(Lo.L5,Lo.dE),this.name="AddonModChatListLinkHandler"}}return(e=AddonModChatListLinkHandlerService).ɵfac=function AddonModChatListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChatListLinkHandlerService})();const $o=(0,u.Qd)(Bo);let jo=(()=>{var e;class AddonModChatModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModChat",this.modName=Lo.dE,this.pageName=Lo.VU,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!0,backup_moodle2:!0,showdescription:!0,mod_purpose:"communication"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModChatIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(85996)]).then(r.bind(r,85996));return e}))()}}return(e=AddonModChatModuleHandlerService).ɵfac=(()=>{let n;return function AddonModChatModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChatModuleHandlerService})();const Vo=(0,u.Qd)(jo);var Go=r(80234),zo=r(94114),qo=r(6007),Wo=r(93417);const Ko=[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(85996),r.e(72076),r.e(4298)]).then(r.bind(r,4298))},{path:":courseId/:cmId/chat",loadComponent:()=>Promise.all([r.e(72076),r.e(81184)]).then(r.bind(r,81184)),canDeactivate:[qo.V]}],Qo=[...Ko,{path:":courseId/:cmId/sessions",loadComponent:()=>Promise.all([r.e(33285),r.e(93922)]).then(r.bind(r,93922))},{path:":courseId/:cmId/sessions/:sessionStart/:sessionEnd",loadComponent:()=>Promise.all([r.e(72076),r.e(15698)]).then(r.bind(r,15698))}],Xo=[...Ko,{path:":courseId/:cmId/sessions",loadComponent:()=>Promise.all([r.e(33285),r.e(93922)]).then(r.bind(r,93922)),loadChildren:()=>[{path:":sessionStart/:sessionEnd",loadComponent:()=>Promise.all([r.e(72076),r.e(15698)]).then(r.bind(r,15698))}]}],Yo=[{path:Lo.VU,loadChildren:()=>[...(0,zo.VI)(Qo,(()=>Wo.CoreScreen.isMobile)),...(0,zo.VI)(Xo,(()=>Wo.CoreScreen.isTablet))]}];let Jo=(()=>{var e;class AddonModChatModule{}return(e=AddonModChatModule).ɵfac=function AddonModChatModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{bo.CoreCourseModulePrefetchDelegate.registerHandler((0,Go.j)()),io.CoreCourseModuleDelegate.registerHandler(Vo.instance),Nt.CoreContentLinksDelegate.registerHandler(Uo.instance),Nt.CoreContentLinksDelegate.registerHandler($o.instance),zt.CoreCourseHelper.registerModuleReminderClick(Lo.vz)}}],imports:[Bt.b.forChild(Yo)]}),AddonModChatModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Jo,{imports:[Bt.b]}));var Zo=r(7529),ei=r(72890);let ti=(()=>{var e;class AddonModChoiceIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(ei.yw,ei._C),this.name="AddonModChoiceIndexLinkHandler"}}return(e=AddonModChoiceIndexLinkHandlerService).ɵfac=function AddonModChoiceIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoiceIndexLinkHandlerService})();const ni=(0,u.Qd)(ti);let ri=(()=>{var e;class AddonModChoiceListLinkHandlerService extends uo.S{constructor(){super(ei.yw,ei._C),this.name="AddonModChoiceListLinkHandler"}}return(e=AddonModChoiceListLinkHandlerService).ɵfac=function AddonModChoiceListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoiceListLinkHandlerService})();const oi=(0,u.Qd)(ri);let ii=(()=>{var e;class AddonModChoiceModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModChoice",this.modName=ei._C,this.pageName=ei.Q$,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"communication"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModChoiceIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(14279)]).then(r.bind(r,14279));return e}))()}}return(e=AddonModChoiceModuleHandlerService).ɵfac=(()=>{let n;return function AddonModChoiceModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoiceModuleHandlerService})();const si=(0,u.Qd)(ii);var ai=r(38911),li=r(98870),di=r(11793),ci=r(7265),ui=r(15221);let pi=(()=>{var e;class AddonModChoicePrefetchHandlerService extends ai.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModChoice",this.modName=ei._C,this.component=ei.ou,this.updatesNames=/^configuration$|^.*files$|^answers$/}prefetch(e,n,r){return this.prefetchPackage(e,n,(o=>this.prefetchChoice(e,n,!!r,o)))}prefetchChoice(e,n,r,o){var i=this;return(0,s.A)((function*(){const r={readingStrategy:2,siteId:o},s={cmId:e.id,...r},a=yield di.u.getChoice(n,e.id,r),c=i.getIntroFilesFromInstance(e,a);yield Promise.all([di.u.getOptions(a.id,s),i.prefetchResults(e.id,a.id,n,s),qt.CoreFilepool.addFilesToQueue(o,c,ei.ou,e.id)])}))()}prefetchResults(e,n,r,o){var i=this;return(0,s.A)((function*(){if(!(yield di.u.areGroupsSupported()))return yield i.prefetchResultsForGroup(n,r,0,o),void 0;const s=yield ui.CoreGroups.getActivityGroupInfo(e,!1);if(!s.separateGroups&&!s.visibleGroups)return yield i.prefetchResultsForGroup(n,r,0,o),void 0;yield Promise.all(s.groups.map((e=>i.prefetchResultsForGroup(n,r,e.id,o))))}))()}prefetchResultsForGroup(e,n,r,o){return(0,s.A)((function*(){const i=yield di.u.getResults(e,{...o,groupId:r}),s=[];i.forEach((e=>{e.userresponses.forEach((e=>{e.userid&&s.push(li.CoreUser.getProfile(e.userid,n,!1,o.siteId)),e.profileimageurl&&s.push(qt.CoreFilepool.addToQueueByUrl(o.siteId,e.profileimageurl).catch((()=>{})))}))})),yield Promise.all(s)}))()}getIntroFiles(e,n){var r=this;return(0,s.A)((function*(){const o=yield xr.g.ignoreErrors(di.u.getChoice(n,e.id));return r.getIntroFilesFromInstance(e,o)}))()}invalidateContent(e,n){return di.u.invalidateContent(e,n)}invalidateModule(e,n){return di.u.invalidateChoiceData(n)}sync(e,n,r){return ci.j.syncChoice(e.instance,void 0,r)}}return(e=AddonModChoicePrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModChoicePrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoicePrefetchHandlerService})();const fi=(0,u.Qd)(pi);let gi=(()=>{var e;class AddonModChoiceSyncCronHandlerService{constructor(){this.name="AddonModChoiceSyncCronHandler"}execute(e,n){return ci.j.syncAllChoices(e,n)}getInterval(){return ci.j.syncInterval}}return(e=AddonModChoiceSyncCronHandlerService).ɵfac=function AddonModChoiceSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChoiceSyncCronHandlerService})();const mi=(0,u.Qd)(gi),hi=[{path:`${ei.Q$}/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(14279),r.e(72076),r.e(9551)]).then(r.bind(r,9551))}];let vi=(()=>{var e;class AddonModChoiceModule{}return(e=AddonModChoiceModule).ɵfac=function AddonModChoiceModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[Zo.g],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(si.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(fi.instance),cn.CoreCronDelegate.register(mi.instance),Nt.CoreContentLinksDelegate.registerHandler(ni.instance),Nt.CoreContentLinksDelegate.registerHandler(oi.instance),zt.CoreCourseHelper.registerModuleReminderClick(ei.ou)}}],imports:[Bt.b.forChild(hi)]}),AddonModChoiceModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(vi,{imports:[Bt.b]}));var yi=r(15403),Ci=r(15723),bi=r(96665),wi=r(268),Si=r(95209);let Ai=(()=>{var e;class AddonModDataIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Si.zc,Si.t7,"d"),this.name="AddonModDataLinkHandler"}}return(e=AddonModDataIndexLinkHandlerService).ɵfac=function AddonModDataIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataIndexLinkHandlerService})();const _i=(0,u.Qd)(Ai);let Ei=(()=>{var e;class AddonModDataListLinkHandlerService extends uo.S{constructor(){super(Si.zc,Si.t7),this.name="AddonModDataListLinkHandler"}}return(e=AddonModDataListLinkHandlerService).ɵfac=function AddonModDataListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataListLinkHandlerService})();const Ii=(0,u.Qd)(Ei);let Di=(()=>{var e;class AddonModDataModuleHandlerService extends go.j{constructor(){super(...arguments),this.name=Si.zc,this.modName=Si.t7,this.pageName=Si.Fn,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,outcomes:!0,rate:!0,backup_moodle2:!0,showdescription:!0,comment:!0,mod_purpose:"collaboration"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModDataIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(74978),r.e(57934),r.e(9099),r.e(57266)]).then(r.bind(r,57266));return e}))()}}return(e=AddonModDataModuleHandlerService).ɵfac=(()=>{let n;return function AddonModDataModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataModuleHandlerService})();const Mi=(0,u.Qd)(Di);var Ti=r(96132),Pi=r(95495),ki=r(92145);let xi=(()=>{var e;class AddonModDataTagAreaHandlerService{constructor(){this.name="AddonModDataTagAreaHandler",this.type="mod_data/data_records"}isEnabled(){return(0,s.A)((function*(){return!0}))()}parseContent(e){return rn.CoreTagHelper.parseFeedContent(e)}getComponent(){return(0,s.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=AddonModDataTagAreaHandlerService).ɵfac=function AddonModDataTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataTagAreaHandlerService})();const Fi=(0,u.Qd)(xi);var Oi=r(82622);let Ri=(()=>{var e;class AddonModDataFieldCheckboxHandlerService{constructor(){this.name="AddonModDataFieldCheckboxHandler",this.type="checkbox"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldCheckboxComponent:e}=yield Promise.all([r.e(72076),r.e(40711)]).then(r.bind(r,40711));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`,o=`f_${e.id}_allreq`;if(n[r]){const e=[];return e.push({name:r,value:n[r]}),n[o]&&e.push({name:o,value:!0}),e}return[]}getFieldEditData(e,n){return[{fieldid:e.id,value:n[`f_${e.id}`]||[]}]}hasFieldDataChanged(e,n,r){const o=(null==r?void 0:r.content)||"";return n[`f_${e.id}`].join("##")!=o}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||!n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n){return e.content=n[""]&&n[""].join("##")||"",e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldCheckboxHandlerService).ɵfac=function AddonModDataFieldCheckboxHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldCheckboxHandlerService})();const Ni=(0,u.Qd)(Ri);let Li=(()=>{var e;class AddonModDataFieldCheckboxModule{}return(e=AddonModDataFieldCheckboxModule).ɵfac=function AddonModDataFieldCheckboxModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(Ni.instance)}}]}),AddonModDataFieldCheckboxModule})();var Hi=r(24742);let Ui=(()=>{var e;class AddonModDataFieldDateHandlerService{constructor(){this.name="AddonModDataFieldDateHandler",this.type="date"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldDateComponent:e}=yield Promise.all([r.e(72076),r.e(91493)]).then(r.bind(r,91493));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`,o=`f_${e.id}_z`;if(n[o]&&"string"==typeof n[r]){const e=n[r].substring(0,10).split("-");return[{name:`${r}_y`,value:e[0]},{name:`${r}_m`,value:e[1]},{name:`${r}_d`,value:e[2]},{name:o,value:1}]}return[]}getFieldEditData(e,n){const r=`f_${e.id}`;if("string"!=typeof n[r])return[];const o=n[r].substring(0,10).split("-");return[{fieldid:e.id,subfield:"year",value:o[0]},{fieldid:e.id,subfield:"month",value:o[1]},{fieldid:e.id,subfield:"day",value:o[2]}]}hasFieldDataChanged(e,n,r){const o=`f_${e.id}`;return(n[o]&&n[o].substring(0,10)||"")!=(r&&(null==r?void 0:r.content)&&Hi.j.toDatetimeFormat(1e3*parseInt(r.content,10)).substring(0,10)||"")}getFieldsNotifications(e,n){if(e.required&&(!n||n.length<2||!n[0].value||!n[1].value||!n[2].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n){if(n.day){let r=Date.UTC(parseInt(n.year,10),parseInt(n.month,10)-1,parseInt(n.day,10));r=Math.floor(r/1e3),e.content=String(r)||""}return e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldDateHandlerService).ɵfac=function AddonModDataFieldDateHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldDateHandlerService})();const Bi=(0,u.Qd)(Ui);let $i=(()=>{var e;class AddonModDataFieldDateModule{}return(e=AddonModDataFieldDateModule).ɵfac=function AddonModDataFieldDateModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(Bi.instance)}}]}),AddonModDataFieldDateModule})();var ji=r(16082),Vi=r(24942);let Gi=(()=>{var e;class AddonModDataFieldFileHandlerService{constructor(){this.name="AddonModDataFieldFileHandler",this.type="file"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldFileComponent:e}=yield Promise.all([r.e(72076),r.e(85473)]).then(r.bind(r,85473));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`;return n[r]?[{name:r,value:n[r]}]:[]}getFieldEditData(e){const n=this.getFieldEditFiles(e);return[{fieldid:e.id,subfield:"file",files:n}]}getFieldEditFiles(e){return Vi.CoreFileSession.getFiles(Si.$W,`${e.dataid}_${e.id}`)}hasFieldDataChanged(e,n,r){const o=Vi.CoreFileSession.getFiles(Si.$W,`${e.dataid}_${e.id}`)||[];let i=r&&r.files||[];return i.length&&(i=[i[0]]),ji.CoreFileUploader.areFileListDifferent(o,i)}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||!n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n,r){const o=null==n?void 0:n.file;return o&&o.offline>0&&r&&(null==r?void 0:r.length)>0?(e.content=r[0].name,e.files=[r[0]]):o&&o.online&&o.online.length>0&&(e.content=o.online[0].filename||"",e.files=[o.online[0]]),e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldFileHandlerService).ɵfac=function AddonModDataFieldFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldFileHandlerService})();const zi=(0,u.Qd)(Gi);let qi=(()=>{var e;class AddonModDataFieldFileModule{}return(e=AddonModDataFieldFileModule).ɵfac=function AddonModDataFieldFileModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(zi.instance)}}]}),AddonModDataFieldFileModule})(),Wi=(()=>{var e;class AddonModDataFieldLatlongHandlerService{constructor(){this.name="AddonModDataFieldLatlongHandler",this.type="latlong"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldLatlongComponent:e}=yield Promise.all([r.e(72076),r.e(93055)]).then(r.bind(r,93055));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`;return n[r]?[{name:r,value:n[r]}]:[]}getFieldEditData(e,n){const r=`f_${e.id}`;return[{fieldid:e.id,subfield:"0",value:n[`${r}_0`]||""},{fieldid:e.id,subfield:"1",value:n[`${r}_1`]||""}]}hasFieldDataChanged(e,n,r){const o=`f_${e.id}`;return(n[`${o}_0`]||"")!=(r&&r.content||"")||(n[`${o}_1`]||"")!=(r&&r.content1||"")}getFieldsNotifications(e,n){let r=0;return n.forEach((e=>{void 0!==e.value&&""!=e.value&&r++})),1==r?u.HT.instant("addon.mod_data.latlongboth"):e.required&&0==r?u.HT.instant("addon.mod_data.errormustsupplyvalue"):void 0}overrideData(e,n){return e.content=n[0]||"",e.content1=n[1]||"",e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldLatlongHandlerService).ɵfac=function AddonModDataFieldLatlongHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldLatlongHandlerService})();const Ki=(0,u.Qd)(Wi);let Qi=(()=>{var e;class AddonModDataFieldLatlongModule{}return(e=AddonModDataFieldLatlongModule).ɵfac=function AddonModDataFieldLatlongModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(Ki.instance)}}]}),AddonModDataFieldLatlongModule})(),Xi=(()=>{var e;class AddonModDataFieldMenuHandlerService{constructor(){this.name="AddonModDataFieldMenuHandler",this.type="menu"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldMenuComponent:e}=yield Promise.all([r.e(72076),r.e(15871)]).then(r.bind(r,15871));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`;return n[r]?[{name:r,value:n[r]}]:[]}getFieldEditData(e,n){const r=`f_${e.id}`;return n[r]?[{fieldid:e.id,value:n[r]}]:[]}hasFieldDataChanged(e,n,r){return(n[`f_${e.id}`]||"")!=((null==r?void 0:r.content)||"")}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||!n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n){return e.content=n[""]||"",e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldMenuHandlerService).ɵfac=function AddonModDataFieldMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldMenuHandlerService})();const Yi=(0,u.Qd)(Xi);let Ji=(()=>{var e;class AddonModDataFieldMenuModule{}return(e=AddonModDataFieldMenuModule).ɵfac=function AddonModDataFieldMenuModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(Yi.instance)}}]}),AddonModDataFieldMenuModule})(),Zi=(()=>{var e;class AddonModDataFieldMultimenuHandlerService{constructor(){this.name="AddonModDataFieldMultimenuHandler",this.type="multimenu"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldMultimenuComponent:e}=yield Promise.all([r.e(72076),r.e(37407)]).then(r.bind(r,37407));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`,o=`f_${e.id}_allreq`;if(n[r]){const e=[];return e.push({name:r,value:n[r]}),n[o]&&e.push({name:o,value:!0}),e}return[]}getFieldEditData(e,n){return[{fieldid:e.id,value:n[`f_${e.id}`]||[]}]}hasFieldDataChanged(e,n,r){const o=(null==r?void 0:r.content)||"";return n[`f_${e.id}`].join("##")!=o}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||!n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n){return e.content=n[""]&&n[""].join("##")||"",e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldMultimenuHandlerService).ɵfac=function AddonModDataFieldMultimenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldMultimenuHandlerService})();const es=(0,u.Qd)(Zi);let ts=(()=>{var e;class AddonModDataFieldMultimenuModule{}return(e=AddonModDataFieldMultimenuModule).ɵfac=function AddonModDataFieldMultimenuModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(es.instance)}}]}),AddonModDataFieldMultimenuModule})(),ns=(()=>{var e;class AddonModDataFieldTextHandlerService{constructor(){this.name="AddonModDataFieldTextHandler",this.type="text"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldTextComponent:e}=yield Promise.all([r.e(72076),r.e(61899)]).then(r.bind(r,61899));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`;return n[r]?[{name:r,value:n[r]}]:[]}getFieldEditData(e,n,r){var o;return[{fieldid:e.id,value:null!==(o=n[`f_${e.id}`])&&void 0!==o?o:""}]}hasFieldDataChanged(e,n,r){var o,i;return(null!==(o=n[`f_${e.id}`])&&void 0!==o?o:"")!==(null!==(i=null==r?void 0:r.content)&&void 0!==i?i:"")}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||!n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n){var r;return e.content=null!==(r=n[""])&&void 0!==r?r:"",e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldTextHandlerService).ɵfac=function AddonModDataFieldTextHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldTextHandlerService})();const rs=(0,u.Qd)(ns);let os=(()=>{var e;class AddonModDataFieldNumberHandlerService extends ns{constructor(){super(...arguments),this.name="AddonModDataFieldNumberHandler",this.type="number"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldNumberComponent:e}=yield Promise.all([r.e(72076),r.e(74391)]).then(r.bind(r,74391));return e}))()}hasFieldDataChanged(e,n,r){var o,i;return(null!==(o=n[`f_${e.id}`])&&void 0!==o?o:"")!==(null!==(i=null==r?void 0:r.content)&&void 0!==i?i:"")}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||""===n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}}return(e=AddonModDataFieldNumberHandlerService).ɵfac=(()=>{let n;return function AddonModDataFieldNumberHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldNumberHandlerService})();const is=(0,u.Qd)(os);let ss=(()=>{var e;class AddonModDataFieldNumberModule{}return(e=AddonModDataFieldNumberModule).ɵfac=function AddonModDataFieldNumberModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(is.instance)}}]}),AddonModDataFieldNumberModule})(),as=(()=>{var e;class AddonModDataFieldPictureHandlerService{constructor(){this.name="AddonModDataFieldPictureHandler",this.type="picture"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldPictureComponent:e}=yield Promise.all([r.e(72076),r.e(11023)]).then(r.bind(r,11023));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`;return n[r]?[{name:r,value:n[r]}]:[]}getFieldEditData(e,n){const r=this.getFieldEditFiles(e);return[{fieldid:e.id,subfield:"file",files:r},{fieldid:e.id,subfield:"alttext",value:n[`f_${e.id}_alttext`]}]}getFieldEditFiles(e){return Vi.CoreFileSession.getFiles(Si.$W,`${e.dataid}_${e.id}`)}hasFieldDataChanged(e,n,r){if((n[`f_${e.id}_alttext`]||"")!=((null==r?void 0:r.content1)||""))return!0;const o=this.getFieldEditFiles(e)||[];let i=(null==r?void 0:r.files)||[];if(i.length>0){const e=(null==r?void 0:r.content)||"",n=i.find((n=>("name"in n?n.name:n.filename)==e));n&&(i=[n])}return ji.CoreFileUploader.areFileListDifferent(o,i)}getFieldsNotifications(e,n){if(!e.required)return;if(!n||!n.length)return u.HT.instant("addon.mod_data.errormustsupplyvalue");return n.some((e=>void 0!==e.subfield&&"file"==e.subfield&&!!e.value))?void 0:u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n,r){const o=null==n?void 0:n.file;return o&&o.offline>0&&r&&(null==r?void 0:r.length)>0?(e.content=r[0].name,e.files=[r[0]]):o&&o.online&&o.online.length>0&&(e.content=o.online[0].filename||"",e.files=[o.online[0]]),e.content1=n.alttext||"",e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldPictureHandlerService).ɵfac=function AddonModDataFieldPictureHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldPictureHandlerService})();const ls=(0,u.Qd)(as);let ds=(()=>{var e;class AddonModDataFieldPictureModule{}return(e=AddonModDataFieldPictureModule).ɵfac=function AddonModDataFieldPictureModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(ls.instance)}}]}),AddonModDataFieldPictureModule})(),cs=(()=>{var e;class AddonModDataFieldRadiobuttonHandlerService{constructor(){this.name="AddonModDataFieldRadiobuttonHandler",this.type="radiobutton"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldRadiobuttonComponent:e}=yield Promise.all([r.e(72076),r.e(57503)]).then(r.bind(r,57503));return e}))()}getFieldSearchData(e,n){const r=`f_${e.id}`;return n[r]?[{name:r,value:n[r]}]:[]}getFieldEditData(e,n){return[{fieldid:e.id,value:n[`f_${e.id}`]||""}]}hasFieldDataChanged(e,n,r){return(n[`f_${e.id}`]||"")!=((null==r?void 0:r.content)||"")}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||!n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n){return e.content=n[""]||"",e}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModDataFieldRadiobuttonHandlerService).ɵfac=function AddonModDataFieldRadiobuttonHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldRadiobuttonHandlerService})();const us=(0,u.Qd)(cs);let ps=(()=>{var e;class AddonModDataFieldRadiobuttonModule{}return(e=AddonModDataFieldRadiobuttonModule).ɵfac=function AddonModDataFieldRadiobuttonModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(us.instance)}}]}),AddonModDataFieldRadiobuttonModule})(),fs=(()=>{var e;class AddonModDataFieldTextModule{}return(e=AddonModDataFieldTextModule).ɵfac=function AddonModDataFieldTextModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(rs.instance)}}]}),AddonModDataFieldTextModule})(),gs=(()=>{var e;class AddonModDataFieldTextareaHandlerService extends ns{constructor(){super(...arguments),this.name="AddonModDataFieldTextareaHandler",this.type="textarea"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldTextareaComponent:e}=yield Promise.all([r.e(41450),r.e(72076),r.e(18653)]).then(r.bind(r,18653));return e}))()}getFieldEditData(e,n,r){const o=`f_${e.id}`,i=this.getFieldEditFiles(e,n,r);let s=cr.CoreFileHelper.restorePluginfileUrls(n[o]||"",i);return s=yr.Ni.formatHtmlLines(s),Fr.y.htmlIsBlank(s)&&(s=""),[{fieldid:e.id,value:s},{fieldid:e.id,subfield:"content1",value:1},{fieldid:e.id,subfield:"itemid",files:i}]}getFieldEditFiles(e,n,r){return r&&r.files||[]}getFieldsNotifications(e,n){if(!e.required)return;if(!n||!n.length)return u.HT.instant("addon.mod_data.errormustsupplyvalue");const r=n.find((e=>""==e.subfield));return!r||Fr.y.htmlIsBlank(r.value||"")?u.HT.instant("addon.mod_data.errormustsupplyvalue"):void 0}overrideData(e,n){return e.content=n[""]||"",e.content.length>0&&e.files&&e.files.length>0&&(e.content=cr.CoreFileHelper.replacePluginfileUrls(e.content,e.files)),e}}return(e=AddonModDataFieldTextareaHandlerService).ɵfac=(()=>{let n;return function AddonModDataFieldTextareaHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldTextareaHandlerService})();const ms=(0,u.Qd)(gs);let hs=(()=>{var e;class AddonModDataFieldTextareaModule{}return(e=AddonModDataFieldTextareaModule).ɵfac=function AddonModDataFieldTextareaModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(ms.instance)}}]}),AddonModDataFieldTextareaModule})(),vs=(()=>{var e;class AddonModDataFieldUrlHandlerService extends ns{constructor(){super(...arguments),this.name="AddonModDataFieldUrlHandler",this.type="url"}getComponent(){return(0,s.A)((function*(){const{AddonModDataFieldUrlComponent:e}=yield Promise.all([r.e(72076),r.e(23851)]).then(r.bind(r,23851));return e}))()}getFieldEditData(e,n){const r=`f_${e.id}`;return[{fieldid:e.id,subfield:"0",value:n[r]&&n[r].trim()||""}]}getFieldsNotifications(e,n){if(e.required&&(!n||!n.length||!n[0].value))return u.HT.instant("addon.mod_data.errormustsupplyvalue")}overrideData(e,n){return e.content=n[0]||"",e}}return(e=AddonModDataFieldUrlHandlerService).ɵfac=(()=>{let n;return function AddonModDataFieldUrlHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModDataFieldUrlHandlerService})();const ys=(0,u.Qd)(vs);let Cs=(()=>{var e;class AddonModDataFieldUrlModule{}return(e=AddonModDataFieldUrlModule).ɵfac=function AddonModDataFieldUrlModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Oi.R.registerHandler(ys.instance)}}]}),AddonModDataFieldUrlModule})(),bs=(()=>{var e;class AddonModDataFieldModule{}return(e=AddonModDataFieldModule).ɵfac=function AddonModDataFieldModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[Li,$i,qi,Qi,Ji,ts,ss,ds,ps,fs,hs,Cs]}),AddonModDataFieldModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(bs,{imports:[Li,$i,qi,Qi,Ji,ts,ss,ds,ps,fs,hs,Cs]}));const ws=[{path:Si.Fn,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(74978),r.e(57934),r.e(9099),r.e(57266),r.e(72076),r.e(9476)]).then(r.bind(r,9476))},{path:":courseId/:cmId/edit",loadComponent:()=>Promise.all([r.e(74978),r.e(57934),r.e(77042)]).then(r.bind(r,77042)),canDeactivate:[qo.V]},{path:":courseId/:cmId/edit/:entryId",loadComponent:()=>Promise.all([r.e(74978),r.e(57934),r.e(77042)]).then(r.bind(r,77042)),canDeactivate:[qo.V]},{path:":courseId/:cmId/:entryId",loadComponent:()=>Promise.all([r.e(74978),r.e(57934),r.e(72076),r.e(41100)]).then(r.bind(r,41100))}]}];let Ss=(()=>{var e;class AddonModDataModule{}return(e=AddonModDataModule).ɵfac=function AddonModDataModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[yi.z],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{bo.CoreCourseModulePrefetchDelegate.registerHandler((0,Ti.j)()),cn.CoreCronDelegate.register((0,ki.c)()),Nt.CoreContentLinksDelegate.registerHandler((0,Ci.R)()),Nt.CoreContentLinksDelegate.registerHandler((0,bi.L)()),Nt.CoreContentLinksDelegate.registerHandler((0,Pi.P)()),Nt.CoreContentLinksDelegate.registerHandler((0,wi.m)()),io.CoreCourseModuleDelegate.registerHandler(Mi.instance),Nt.CoreContentLinksDelegate.registerHandler(_i.instance),Nt.CoreContentLinksDelegate.registerHandler(Ii.instance),jt.CoreTagAreaDelegate.registerHandler(Fi.instance),zt.CoreCourseHelper.registerModuleReminderClick(Si.$W)}}],imports:[Bt.b.forChild(ws),bs]}),AddonModDataModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Ss,{imports:[Bt.b,bs]}));var As=r(71758),_s=r(59721),Es=r(19634);let Is=(()=>{var e;class AddonModFeedbackAnalysisLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModFeedbackAnalysisLinkHandler",this.featureName=Es.h2,this.pattern=/\/mod\/feedback\/analysis\.php.*([&?]id=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show(),o=Number(r.id);try{const n=yield Gt.CoreCourse.getModule(o,void 0,void 0,!1,!1,e);yield f.CoreNavigator.navigateToSitePath(`${Es.qY}/${n.course}/${n.id}`,{params:{module:n,tab:Es.sT.ANALYSIS},siteId:e})}catch(e){Nn.CoreAlerts.showError(e,{default:"Error opening link."})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return void 0!==r.id}))()}}return(e=AddonModFeedbackAnalysisLinkHandlerService).ɵfac=(()=>{let n;return function AddonModFeedbackAnalysisLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackAnalysisLinkHandlerService})();const Ds=(0,u.Qd)(Is);let Ms=(()=>{var e;class AddonModFeedbackCompleteLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModFeedbackCompleteLinkHandler",this.featureName=Es.h2,this.pattern=/\/mod\/feedback\/complete\.php.*([?&](id|gopage)=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show(),o=Number(r.id);try{const n=yield Gt.CoreCourse.getModuleBasicInfo(o,{siteId:e,readingStrategy:1});yield f.CoreNavigator.navigateToSitePath(`${Es.qY}/${n.course}/${n.id}/form`,{params:{page:void 0!==r.gopage?Number(r.gopage):void 0},siteId:e})}catch(e){Nn.CoreAlerts.showError(e,{default:"Error opening link."})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return void 0!==r.id}))()}}return(e=AddonModFeedbackCompleteLinkHandlerService).ɵfac=(()=>{let n;return function AddonModFeedbackCompleteLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackCompleteLinkHandlerService})();const Ts=(0,u.Qd)(Ms);let Ps=(()=>{var e;class AddonModFeedbackIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Es.SK,Es.IR),this.name="AddonModFeedbackLinkHandler"}}return(e=AddonModFeedbackIndexLinkHandlerService).ɵfac=function AddonModFeedbackIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackIndexLinkHandlerService})();const ks=(0,u.Qd)(Ps);let xs=(()=>{var e;class AddonModFeedbackListLinkHandlerService extends uo.S{constructor(){super(Es.SK,Es.IR),this.name="AddonModFeedbackListLinkHandler"}}return(e=AddonModFeedbackListLinkHandlerService).ɵfac=function AddonModFeedbackListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackListLinkHandlerService})();const Fs=(0,u.Qd)(xs);let Os=(()=>{var e;class AddonModFeedbackModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModFeedback",this.modName=Es.IR,this.pageName=Es.qY,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"communication"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModFeedbackIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(91983)]).then(r.bind(r,91983));return e}))()}}return(e=AddonModFeedbackModuleHandlerService).ɵfac=(()=>{let n;return function AddonModFeedbackModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackModuleHandlerService})();const Rs=(0,u.Qd)(Os);var Ns=r(4593),Ls=r(99073);let Hs=(()=>{var e;class AddonModFeedbackPrefetchHandlerService extends ai.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModFeedback",this.modName=Es.IR,this.component=Es.yH,this.updatesNames=/^configuration$|^.*files$|^attemptsfinished|^attemptsunfinished$/}getFiles(e,n){var r=this;return(0,s.A)((function*(){let o=[];const i=yield Ns.o.getFeedback(n,e.id);o=i.pageaftersubmitfiles||[],o=o.concat(r.getIntroFilesFromInstance(e,i));try{(yield Ns.o.getItems(i.id)).items.forEach((e=>{o=o.concat(e.itemfiles)}))}catch(e){}return o}))()}getIntroFiles(e,n){var r=this;return(0,s.A)((function*(){const o=yield xr.g.ignoreErrors(Ns.o.getFeedback(n,e.id));return r.getIntroFilesFromInstance(e,o)}))()}invalidateContent(e,n){return Ns.o.invalidateContent(e,n)}invalidateModule(e,n){return Ns.o.invalidateFeedbackData(n)}isDownloadable(e,n){return(0,s.A)((function*(){const r=yield Ns.o.getFeedback(n,e.id),o=Hi.j.timestamp();if(r.timeopen&&r.timeopen>o)return!1;if(r.timeclose&&r.timeclose<o)return!1;return(yield Ns.o.getFeedbackAccessInformation(r.id,{cmId:e.id})).isopen}))()}prefetch(e,n){return this.prefetchPackage(e,n,(r=>this.prefetchFeedback(e,n,r)))}prefetchFeedback(e,n,r){var o=this;return(0,s.A)((function*(){const i={readingStrategy:2,siteId:r},s={cmId:e.id,...i},a=yield Ns.o.getFeedback(n,e.id,i);let c=a.pageaftersubmitfiles||[];c=c.concat(o.getIntroFilesFromInstance(e,a));const u=yield Ns.o.getFeedbackAccessInformation(a.id,s),p=[];(u.canedititems||u.canviewreports)&&(p.push(Ns.o.getAnalysis(a.id,s)),p.push(o.prefetchAllGroupsAnalysis(a,u,s))),p.push(Ns.o.getItems(a.id,i).then((n=>(n.items.forEach((e=>{c=c.concat(e.itemfiles)})),qt.CoreFilepool.addFilesToQueue(r,c,o.component,e.id))))),u.cancomplete&&u.cansubmit&&!u.isempty&&p.push(Ns.o.processPageOnline(a.id,0,{},!1,r).then((()=>Promise.all([Ns.o.getCurrentValues(a.id,s),Ns.o.getResumePage(a.id,s)])))),yield Promise.all(p)}))()}prefetchAllGroupsAnalysis(e,n,r){return(0,s.A)((function*(){const o=yield ui.CoreGroups.getActivityGroupInfo(e.coursemodule,!0,void 0,r.siteId,!0),i=[];o.groups&&0!=o.groups.length||(o.groups=[{id:0,name:""}]),o.groups.forEach((o=>{const s={groupId:o.id,...r};i.push(Ns.o.getAnalysis(e.id,s)),i.push(Ns.o.getAllResponsesAnalysis(e.id,s)),n.isanonymous||i.push(Ns.o.getAllNonRespondents(e.id,s))})),yield Promise.all(i)}))()}sync(e,n,r){return Ls.V.syncFeedback(e.instance,r)}}return(e=AddonModFeedbackPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModFeedbackPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackPrefetchHandlerService})();const Us=(0,u.Qd)(Hs);let Bs=(()=>{var e;class AddonModFeedbackPrintLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModFeedbackPrintLinkHandler",this.featureName=Es.h2,this.pattern=/\/mod\/feedback\/print\.php.*([?&](id)=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show(),o=Number(r.id);try{const n=yield Gt.CoreCourse.getModuleBasicInfo(o,{siteId:e,readingStrategy:1});yield f.CoreNavigator.navigateToSitePath(`${Es.qY}/${n.course}/${n.id}/form`,{params:{preview:!0},siteId:e})}catch(e){Nn.CoreAlerts.showError(e,{default:"Error opening link."})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return void 0!==r.id}))()}}return(e=AddonModFeedbackPrintLinkHandlerService).ɵfac=(()=>{let n;return function AddonModFeedbackPrintLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackPrintLinkHandlerService})();const $s=(0,u.Qd)(Bs);var js=r(2538);let Vs=(()=>{var e;class AddonModFeedbackPushClickHandlerService{constructor(){this.name="AddonModFeedbackPushClickHandler",this.priority=200,this.featureName=Es.h2}handles(e){return(0,s.A)((function*(){return!(!Cr.j.isTrueOrOne(e.notif)||"mod_feedback"!=e.moodlecomponent||"submission"!=e.name&&"message"!=e.name)}))()}handleClick(e){const n=nr.F.extractUrlParams(e.contexturl),r=Number(e.courseid),o=Number(n.id);return"submission"==e.name?js._.handleShowEntriesLink(n,e.site):zt.CoreCourseHelper.navigateToModule(o,{courseId:r,siteId:e.site})}}return(e=AddonModFeedbackPushClickHandlerService).ɵfac=function AddonModFeedbackPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackPushClickHandlerService})();const Gs=(0,u.Qd)(Vs);let zs=(()=>{var e;class AddonModFeedbackShowEntriesLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModFeedbackShowEntriesLinkHandler",this.featureName=Es.h2,this.pattern=/\/mod\/feedback\/show_entries\.php.*([?&](id|showcompleted)=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){yield js._.handleShowEntriesLink(r,e)})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return void 0!==r.id}))()}}return(e=AddonModFeedbackShowEntriesLinkHandlerService).ɵfac=(()=>{let n;return function AddonModFeedbackShowEntriesLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackShowEntriesLinkHandlerService})();const qs=(0,u.Qd)(zs);let Ws=(()=>{var e;class AddonModFeedbackShowNonRespondentsLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModFeedbackShowNonRespondentsLinkHandler",this.featureName=Es.h2,this.pattern=/\/mod\/feedback\/show_nonrespondents\.php.*([?&](id)=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show(),o=Number(r.id);try{const n=yield Gt.CoreCourse.getModuleBasicInfo(o,{siteId:e,readingStrategy:1});yield f.CoreNavigator.navigateToSitePath(`${Es.qY}/${n.course}/${n.id}/nonrespondents`,{siteId:e})}catch(e){Nn.CoreAlerts.showError(e,{default:"Error opening link."})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return void 0!==r.id}))()}}return(e=AddonModFeedbackShowNonRespondentsLinkHandlerService).ɵfac=(()=>{let n;return function AddonModFeedbackShowNonRespondentsLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackShowNonRespondentsLinkHandlerService})();const Ks=(0,u.Qd)(Ws);let Qs=(()=>{var e;class AddonModFeedbackSyncCronHandlerService{constructor(){this.name="AddonModFeedbackSyncCronHandler"}execute(e,n){return Ls.V.syncAllFeedbacks(e,n)}getInterval(){return Ls.V.syncInterval}}return(e=AddonModFeedbackSyncCronHandlerService).ɵfac=function AddonModFeedbackSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFeedbackSyncCronHandlerService})();const Xs=(0,u.Qd)(Qs),Ys=[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(91983),r.e(72076),r.e(88887)]).then(r.bind(r,88887))},{path:":courseId/:cmId/form",loadComponent:()=>r.e(97861).then(r.bind(r,97861)),canDeactivate:[qo.V]},{path:":courseId/:cmId/nonrespondents",loadComponent:()=>r.e(12385).then(r.bind(r,12385))}],Js=[...Ys,{path:":courseId/:cmId/attempts",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(84941)]).then(r.bind(r,84941))},{path:":courseId/:cmId/attempts/:attemptId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(14647)]).then(r.bind(r,14647))}],Zs=[...Ys,{path:":courseId/:cmId/attempts",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(84941)]).then(r.bind(r,84941)),loadChildren:()=>[{path:":attemptId",loadComponent:()=>Promise.all([r.e(33285),r.e(72076),r.e(14647)]).then(r.bind(r,14647))}]}],ea=[{path:Es.qY,loadChildren:()=>[...(0,zo.VI)(Js,(()=>Wo.CoreScreen.isMobile)),...(0,zo.VI)(Zs,(()=>Wo.CoreScreen.isTablet))]}];let ta=(()=>{var e;class AddonModFeedbackModule{}return(e=AddonModFeedbackModule).ɵfac=function AddonModFeedbackModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[_s.g],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(Rs.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(Us.instance),cn.CoreCronDelegate.register(Xs.instance),Nt.CoreContentLinksDelegate.registerHandler(ks.instance),Nt.CoreContentLinksDelegate.registerHandler(Fs.instance),Nt.CoreContentLinksDelegate.registerHandler(Ds.instance),Nt.CoreContentLinksDelegate.registerHandler(Ts.instance),Nt.CoreContentLinksDelegate.registerHandler($s.instance),Nt.CoreContentLinksDelegate.registerHandler(qs.instance),Nt.CoreContentLinksDelegate.registerHandler(Ks.instance),As.CorePushNotificationsDelegate.registerClickHandler(Gs.instance),zt.CoreCourseHelper.registerModuleReminderClick(Es.yH)}}],imports:[Bt.b.forChild(ea)]}),AddonModFeedbackModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(ta,{imports:[Bt.b]}));var na=r(91793);let ra=(()=>{var e;class AddonModFolderIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(na.DE,na.lD,"f"),this.name="AddonModFolderLinkHandler"}}return(e=AddonModFolderIndexLinkHandlerService).ɵfac=function AddonModFolderIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFolderIndexLinkHandlerService})();const oa=(0,u.Qd)(ra);let ia=(()=>{var e;class AddonModFolderListLinkHandlerService extends uo.S{constructor(){super(na.DE,na.lD),this.name="AddonModFolderListLinkHandler"}}return(e=AddonModFolderListLinkHandlerService).ɵfac=function AddonModFolderListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFolderListLinkHandlerService})();const sa=(0,u.Qd)(ia);var aa=r(35161);let la=(()=>{var e;class AddonModFolderModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModFolder",this.modName=na.lD,this.pageName=na.F7,this.supportedFeatures={mod_archetype:1,groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"content"}}getData(e,n,r,o){var _superprop_getGetData=()=>super.getData,i=this;return(0,s.A)((function*(){const a=yield _superprop_getGetData().call(i,e,n,r,o);if(e.description){const n=(0,aa.B)(e.description);Array.from(n.querySelectorAll(".foldertree, .folderbuttons, .tertiary-navigation")).forEach((e=>e.remove())),e.description=n.innerHTML}return a.action=function(){var e=(0,s.A)((function*(e,n,r,o){(o=o||{}).params=o.params||{},Object.assign(o.params,{module:n});const s=`/${r}/${n.id}`;yield f.CoreNavigator.navigateToSitePath(i.pageName+s,o)}));return function(n,r,o,i){return e.apply(this,arguments)}}(),a}))()}getMainComponent(){return(0,s.A)((function*(){const{AddonModFolderIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076)]).then(r.bind(r,23835));return e}))()}}return(e=AddonModFolderModuleHandlerService).ɵfac=(()=>{let n;return function AddonModFolderModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFolderModuleHandlerService})();const da=(0,u.Qd)(la);let ca=(()=>{var e;class AddonModFolderPluginFileHandlerService{constructor(){this.name="AddonModFolderPluginFileHandler",this.component="mod_folder"}getComponentRevisionRegExp(e){if("content"==e[2])return new RegExp("/mod_folder/content/([0-9]+)/")}getComponentRevisionReplace(){return"/mod_folder/content/0/"}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModFolderPluginFileHandlerService).ɵfac=function AddonModFolderPluginFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFolderPluginFileHandlerService})();const ua=(0,u.Qd)(ca);var pa=r(99577);let fa=(()=>{var e;class AddonModFolderPrefetchHandlerService extends To.CoreCourseResourcePrefetchHandlerBase{constructor(){super(...arguments),this.name=na.DE,this.modName=na.lD,this.component=na.B9}downloadOrPrefetch(e,n,r){var _superprop_getDownloadOrPrefetch=()=>super.downloadOrPrefetch,o=this;return(0,s.A)((function*(){const i=[];i.push(_superprop_getDownloadOrPrefetch().call(o,e,n,r)),i.push(pa.B.getFolder(n,e.id)),yield Promise.all(i)}))()}invalidateContent(e,n){return(0,s.A)((function*(){return pa.B.invalidateContent(e,n)}))()}invalidateModule(e,n){return(0,s.A)((function*(){const r=[];r.push(pa.B.invalidateFolderData(n)),r.push(Gt.CoreCourse.invalidateModule(e.id)),yield Promise.all(r)}))()}}return(e=AddonModFolderPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModFolderPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFolderPrefetchHandlerService})();const ga=(0,u.Qd)(fa),ma=[{path:na.F7,loadChildren:()=>[{path:":courseId/:cmId/:hash",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076),r.e(69660)]).then(r.bind(r,69660))},{path:":courseId/:cmId",redirectTo:":courseId/:cmId/",pathMatch:"full"}]}];let ha=(()=>{var e;class AddonModFolderModule{}return(e=AddonModFolderModule).ɵfac=function AddonModFolderModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(da.instance),Nt.CoreContentLinksDelegate.registerHandler(oa.instance),Nt.CoreContentLinksDelegate.registerHandler(sa.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(ga.instance),rr.CorePluginFileDelegate.registerHandler(ua.instance)}}],imports:[Bt.b.forChild(ma)]}),AddonModFolderModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(ha,{imports:[Bt.b]}));var va=r(74117),ya=r(16179);let Ca=(()=>{var e;class AddonModForumModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModForum",this.modName=kt.kz,this.pageName=kt.Yj,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,outcomes:!0,rate:!0,backup_moodle2:!0,showdescription:!0,plagiarism:!0,grade_advanced_grading:!0,mod_purpose:"collaboration",canuninstall:!1}}getData(e,n){var _superprop_getGetData=()=>super.getData,r=this;return(0,s.A)((function*(){const o=yield _superprop_getGetData().call(r,e,n),i=e.customdata?yr.Ni.parseJSON(e.customdata,{}):{},s="string"!=typeof i&&void 0!==i.trackingtype?Number(i.trackingtype):void 0;if(0===s)return o.extraBadge="",o;if(1===s){if(0===(yield li.CoreUser.getProfile(fe.CoreSites.getCurrentSiteUserId())).trackforums)return o.extraBadge="",o}if("afterlink"in e&&e.afterlink){const n=/>(\d+)[^<]+/.exec(e.afterlink);o.extraBadge=n?u.HT.instant("addon.mod_forum.unreadpostsnumber",{$a:n[1]}):""}else r.updateExtraBadge(o,n,e.id);const a=or.z.on(kt.C7,(i=>{i.courseId===n&&i.moduleId===e.id&&r.updateExtraBadge(o,i.courseId,i.moduleId,i.siteId)}),fe.CoreSites.getCurrentSiteId());return o.onDestroy=()=>a.off(),o}))()}getMainComponent(){return(0,s.A)((function*(){const{AddonModForumIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(33285),r.e(93593)]).then(r.bind(r,93593));return e}))()}displayRefresherInSingleActivity(){return!1}updateExtraBadge(e,n,r,o){return(0,s.A)((function*(){if(o=o||fe.CoreSites.getCurrentSiteId()){e.extraBadge=u.HT.instant("core.loading");try{const i=yield ya.AddonModForum.getForum(n,r,{readingStrategy:3,siteId:o});e.extraBadge=i.unreadpostscount?u.HT.instant("addon.mod_forum.unreadpostsnumber",{$a:i.unreadpostscount}):""}catch{e.extraBadge=""}}}))()}}return(e=AddonModForumModuleHandlerService).ɵfac=(()=>{let n;return function AddonModForumModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumModuleHandlerService})();const ba=(0,u.Qd)(Ca);var wa=r(90741),Sa=r(57095),Aa=r(86275);let _a=(()=>{var e;class AddonModForumSyncCronHandlerService{constructor(){this.name="AddonModForumSyncCronHandler"}execute(e,n){return Aa.F.syncAllForums(e,n)}getInterval(){return Aa.F.syncInterval}}return(e=AddonModForumSyncCronHandlerService).ɵfac=function AddonModForumSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumSyncCronHandlerService})();const Ea=(0,u.Qd)(_a);let Ia=(()=>{var e;class AddonModForumDiscussionLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModForumDiscussionLinkHandler",this.featureName=kt.Xz,this.pattern=/\/mod\/forum\/discuss\.php.*([&?]d=\d+)/}getActions(e,n,r,o,i){return i=i||{},[{action:(a=(0,s.A)((function*(e){var n,s,a;const c=parseInt(r.d,10),u=(null===(n=i)||void 0===n?void 0:n.cmid)&&Number(i.cmid);o=Number(o||r.courseid||r.cid);const p={forumId:(null===(s=i)||void 0===s?void 0:s.instance)&&parseInt(i.instance,10),cmId:u,courseId:o};var g;(null!==(a=i)&&void 0!==a&&a.postid||r.urlHash)&&(p.postId=parseInt((null===(g=i)||void 0===g?void 0:g.postid)||r.urlHash.replace("p",""))),r.parent&&(p.parent=parseInt(r.parent)),yield f.CoreNavigator.navigateToSitePath(`${kt.Yj}/discussion/${c}`,{siteId:e,params:p})})),function action(e){return a.apply(this,arguments)})}];var a}}return(e=AddonModForumDiscussionLinkHandlerService).ɵfac=(()=>{let n;return function AddonModForumDiscussionLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumDiscussionLinkHandlerService})();const Da=(0,u.Qd)(Ia);let Ma=(()=>{var e;class AddonModForumIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(kt.Ep,kt.kz,"f"),this.name="AddonModForumIndexLinkHandler"}}return(e=AddonModForumIndexLinkHandlerService).ɵfac=function AddonModForumIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumIndexLinkHandlerService})();const Ta=(0,u.Qd)(Ma);let Pa=(()=>{var e;class AddonModForumListLinkHandlerService extends uo.S{constructor(){super(kt.Ep,kt.kz),this.name="AddonModForumListLinkHandler"}}return(e=AddonModForumListLinkHandlerService).ɵfac=function AddonModForumListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumListLinkHandlerService})();const ka=(0,u.Qd)(Pa);let xa=(()=>{var e;class AddonModForumPostLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModForumPostLinkHandler",this.featureName=kt.Xz,this.pattern=/\/mod\/forum\/post\.php.*([?&](forum)=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show(),o=parseInt(r.forum,10);try{const n=yield Gt.CoreCourse.getModuleBasicInfoByInstance(o,kt.kz,{siteId:e,readingStrategy:1});yield f.CoreNavigator.navigateToSitePath(`${kt.Yj}/${n.course}/${n.id}/new/0`,{siteId:e,params:{forumId:n.instance}})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return void 0!==r.forum}))()}}return(e=AddonModForumPostLinkHandlerService).ɵfac=(()=>{let n;return function AddonModForumPostLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumPostLinkHandlerService})();const Fa=(0,u.Qd)(xa);let Oa=(()=>{var e;class AddonModForumTagAreaHandlerService{constructor(){this.name="AddonModForumTagAreaHandler",this.type="mod_forum/forum_posts"}isEnabled(){return(0,s.A)((function*(){return!0}))()}parseContent(e){return rn.CoreTagHelper.parseFeedContent(e)}getComponent(){return(0,s.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=AddonModForumTagAreaHandlerService).ɵfac=function AddonModForumTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumTagAreaHandlerService})();const Ra=(0,u.Qd)(Oa);var Na=r(20523);let La=(()=>{var e;class AddonModForumPushClickHandlerService{constructor(){this.name="AddonModForumPushClickHandler",this.priority=200,this.featureName=kt.Xz}handles(e){return(0,s.A)((function*(){var n;return Cr.j.isTrueOrOne(e.notif)&&"mod_forum"==e.moodlecomponent&&"posts"==e.name&&!!(e.contexturl||null!==(n=e.customdata)&&void 0!==n&&n.discussionid)}))()}handleClick(e){return(0,s.A)((function*(){const n=nr.F.extractUrlParams(e.contexturl),r=e.customdata||{},o=Number(e.courseid),i=Number(n.d||r.discussionid),s=r.cmid&&Number(r.cmid),a={forumId:Number(r.instance),cmId:s,courseId:o};(0,Na.L)(i)&&((r.postid||n.urlHash)&&(a.postId=Number(r.postid||n.urlHash.replace("p",""))),yield xr.g.ignoreErrors(ya.AddonModForum.invalidateDiscussionPosts(i,void 0,e.site)),yield f.CoreNavigator.navigateToSitePath(`${kt.Yj}/discussion/${i}`,{siteId:e.site,params:a}))}))()}}return(e=AddonModForumPushClickHandlerService).ɵfac=function AddonModForumPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModForumPushClickHandlerService})();const Ha=(0,u.Qd)(La);var Ua=r(86123);const Ba={loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(33285),r.e(41450),r.e(72076),r.e(83781)]).then(r.bind(r,83781)),canDeactivate:[qo.V]},$a={loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(33285),r.e(41450),r.e(72076),r.e(79367)]).then(r.bind(r,79367)),canDeactivate:[qo.V]},ja=[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(33285),r.e(93593),r.e(72076),r.e(45021)]).then(r.bind(r,45021))},{path:":courseId/:cmId/new/:timeCreated",...Ba},{path:":courseId/:cmId/:discussionId",...$a},{path:"discussion/:discussionId",...$a}],Va=[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(33285),r.e(93593),r.e(72076),r.e(45021)]).then(r.bind(r,45021)),loadChildren:()=>[{path:"new/:timeCreated",...Ba},{path:":discussionId",...$a}]}],Ga=[{path:kt.t4,loadComponent:()=>Promise.all([r.e(75357),r.e(60627),r.e(96455)]).then(r.bind(r,96455))},{path:`${kt.Yj}/discussion/:discussionId`,data:{swipeEnabled:!1},...$a},{path:kt.Yj,loadChildren:()=>[...(0,zo.VI)(ja,(()=>Wo.CoreScreen.isMobile)),...(0,zo.VI)(Va,(()=>Wo.CoreScreen.isTablet))]},...(0,zo.VI)([{path:`${Ua.CORE_COURSE_CONTENTS_PATH}/${kt.Yj}/new/:timeCreated`,data:{discussionsPathPrefix:`${kt.Yj}/`},...Ba},{path:`${Ua.CORE_COURSE_CONTENTS_PATH}/${kt.Yj}/:discussionId`,data:{discussionsPathPrefix:`${kt.Yj}/`},...$a}],(()=>Wo.CoreScreen.isMobile))],za=(0,zo.VI)([{path:`${kt.Yj}/new/:timeCreated`,...Ba,data:{discussionsPathPrefix:`${kt.Yj}/`}},{path:`${kt.Yj}/:discussionId`,data:{discussionsPathPrefix:`${kt.Yj}/`},...$a}],(()=>Wo.CoreScreen.isTablet));let qa=(()=>{var e;class AddonModForumModule{}return(e=AddonModForumModule).ɵfac=function AddonModForumModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[wa.em],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(ba.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(Sa.V.instance),cn.CoreCronDelegate.register(Ea.instance),Nt.CoreContentLinksDelegate.registerHandler(Da.instance),Nt.CoreContentLinksDelegate.registerHandler(Ta.instance),Nt.CoreContentLinksDelegate.registerHandler(ka.instance),Nt.CoreContentLinksDelegate.registerHandler(Fa.instance),jt.CoreTagAreaDelegate.registerHandler(Ra.instance),As.CorePushNotificationsDelegate.registerClickHandler(Ha.instance),zt.CoreCourseHelper.registerModuleReminderClick(kt.CT)}}],imports:[Bt.b.forChild(Ga),va.l.forChild({children:za})]}),AddonModForumModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(qa,{imports:[Bt.b,va.l]}));var Wa=r(24155),Ka=r(59829);let Qa=(()=>{var e;class AddonModGlossaryEditLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModGlossaryEditLinkHandler",this.featureName=Ka.Oc,this.pattern=/\/mod\/glossary\/edit\.php.*([?&](cmid)=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show(),o=Number(r.cmid);try{const n=yield Gt.CoreCourse.getModuleBasicInfo(o,{siteId:e,readingStrategy:1});yield f.CoreNavigator.navigateToSitePath(`${Ka.Z9}/${n.course}/${n.id}/entry/new`,{siteId:e})}catch(e){Nn.CoreAlerts.showError(e,{default:u.HT.instant("addon.mod_glossary.errorloadingglossary")})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return void 0!==r.cmid}))()}}return(e=AddonModGlossaryEditLinkHandlerService).ɵfac=(()=>{let n;return function AddonModGlossaryEditLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryEditLinkHandlerService})();const Xa=(0,u.Qd)(Qa);var Ya=r(21113);let Ja=(()=>{var e;class AddonModGlossaryEntryLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModGlossaryEntryLinkHandler",this.featureName=Ka.Oc,this.pattern=/\/mod\/glossary\/(showentry|view)\.php.*([&?](eid|g|mode|hook)=\d+)/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show();try{const n=Number("entry"==r.mode?r.hook:r.eid),o=yield Ya.$.getEntry(n,{siteId:e,readingStrategy:1}),i=yield Gt.CoreCourse.getModuleBasicInfoByInstance(o.entry.glossaryid,Ka.hd,{siteId:e,readingStrategy:1});yield f.CoreNavigator.navigateToSitePath(`${Ka.Z9}/entry/${n}`,{siteId:e,params:{courseId:i.course,cmId:i.id}})}catch(e){Nn.CoreAlerts.showError(e,{default:u.HT.instant("addon.mod_glossary.errorloadingentry")})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}];var o}}return(e=AddonModGlossaryEntryLinkHandlerService).ɵfac=(()=>{let n;return function AddonModGlossaryEntryLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryEntryLinkHandlerService})();const Za=(0,u.Qd)(Ja);let el=(()=>{var e;class AddonModGlossaryIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Ka.XG,Ka.hd,"g"),this.name="AddonModGlossaryIndexLinkHandler"}isEnabled(e,n,r){return(0,s.A)((function*(){return!r.hook&&!r.eid}))()}}return(e=AddonModGlossaryIndexLinkHandlerService).ɵfac=function AddonModGlossaryIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryIndexLinkHandlerService})();const tl=(0,u.Qd)(el);let nl=(()=>{var e;class AddonModGlossaryListLinkHandlerService extends uo.S{constructor(){super(Ka.XG,Ka.hd),this.name="AddonModGlossaryListLinkHandler"}}return(e=AddonModGlossaryListLinkHandlerService).ɵfac=function AddonModGlossaryListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryListLinkHandlerService})();const rl=(0,u.Qd)(nl);let ol=(()=>{var e;class AddonModGlossaryModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModGlossary",this.modName=Ka.hd,this.pageName=Ka.Z9,this.supportedFeatures={groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,outcomes:!0,rate:!0,backup_moodle2:!0,showdescription:!0,comment:!0,mod_purpose:"collaboration"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModGlossaryIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(33285),r.e(75357),r.e(14198)]).then(r.bind(r,14198));return e}))()}displayRefresherInSingleActivity(){return!1}}return(e=AddonModGlossaryModuleHandlerService).ɵfac=(()=>{let n;return function AddonModGlossaryModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryModuleHandlerService})();const il=(0,u.Qd)(ol);var sl=r(88712),al=r(81097);let ll=(()=>{var e;class AddonModGlossarySyncCronHandlerService{constructor(){this.name="AddonModGlossarySyncCronHandler"}execute(e,n){return al.a.syncAllGlossaries(e,n)}getInterval(){return al.a.syncInterval}}return(e=AddonModGlossarySyncCronHandlerService).ɵfac=function AddonModGlossarySyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossarySyncCronHandlerService})();const dl=(0,u.Qd)(ll);let cl=(()=>{var e;class AddonModGlossaryTagAreaHandlerService{constructor(){this.name="AddonModGlossaryTagAreaHandler",this.type="mod_glossary/glossary_entries"}isEnabled(){return(0,s.A)((function*(){return!0}))()}parseContent(e){return rn.CoreTagHelper.parseFeedContent(e)}getComponent(){return(0,s.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=AddonModGlossaryTagAreaHandlerService).ɵfac=function AddonModGlossaryTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModGlossaryTagAreaHandlerService})();const ul=(0,u.Qd)(cl),pl=[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(33285),r.e(75357),r.e(14198),r.e(72076),r.e(22552)]).then(r.bind(r,22552))},{path:":courseId/:cmId/entry/:entrySlug",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(33285),r.e(72076),r.e(12832)]).then(r.bind(r,12832))}],fl=[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(33285),r.e(75357),r.e(14198),r.e(72076),r.e(22552)]).then(r.bind(r,22552)),loadChildren:()=>[{path:"entry/:entrySlug",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(33285),r.e(72076),r.e(12832)]).then(r.bind(r,12832))}]}],gl={loadComponent:()=>Promise.all([r.e(41450),r.e(89398)]).then(r.bind(r,89398)),canDeactivate:[qo.V]},ml=[{path:`${Ka.Z9}/entry/:entrySlug`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(33285),r.e(72076),r.e(12832)]).then(r.bind(r,12832))},{path:Ka.Z9,loadChildren:()=>[{path:":courseId/:cmId/entry/new",...gl},{path:":courseId/:cmId/entry/:entrySlug/edit",...gl},...(0,zo.VI)(pl,(()=>Wo.CoreScreen.isMobile)),...(0,zo.VI)(fl,(()=>Wo.CoreScreen.isTablet))]},{path:`${Ua.CORE_COURSE_CONTENTS_PATH}/${Ka.Z9}/entry/new`,data:{glossaryPathPrefix:`${Ka.Z9}/`},...gl},{path:`${Ua.CORE_COURSE_CONTENTS_PATH}/${Ka.Z9}/entry/:entrySlug/edit`,data:{glossaryPathPrefix:`${Ka.Z9}/`},...gl},...(0,zo.VI)([{path:`${Ua.CORE_COURSE_CONTENTS_PATH}/${Ka.Z9}/entry/:entrySlug`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(33285),r.e(72076),r.e(12832)]).then(r.bind(r,12832)),data:{glossaryPathPrefix:`${Ka.Z9}/`}}],(()=>Wo.CoreScreen.isMobile))],hl=(0,zo.VI)([{path:`${Ka.Z9}/entry/:entrySlug`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(33285),r.e(72076),r.e(12832)]).then(r.bind(r,12832)),data:{glossaryPathPrefix:`${Ka.Z9}/`}}],(()=>Wo.CoreScreen.isTablet));let vl=(()=>{var e;class AddonModGlossaryModule{}return(e=AddonModGlossaryModule).ɵfac=function AddonModGlossaryModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[Wa.em,Wa.gr],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(il.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(sl.A.instance),cn.CoreCronDelegate.register(dl.instance),Nt.CoreContentLinksDelegate.registerHandler(tl.instance),Nt.CoreContentLinksDelegate.registerHandler(rl.instance),Nt.CoreContentLinksDelegate.registerHandler(Xa.instance),Nt.CoreContentLinksDelegate.registerHandler(Za.instance),jt.CoreTagAreaDelegate.registerHandler(ul.instance),zt.CoreCourseHelper.registerModuleReminderClick(Ka.pV)}}],imports:[Bt.b.forChild(ml),va.l.forChild({children:hl})]}),AddonModGlossaryModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(vl,{imports:[Bt.b,va.l]}));var yl=r(9153);let Cl=(()=>{var e;class AddonModH5PActivityIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(yl.hS,yl.P$),this.name="AddonModH5PActivityIndexLinkHandler"}}return(e=AddonModH5PActivityIndexLinkHandlerService).ɵfac=function AddonModH5PActivityIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModH5PActivityIndexLinkHandlerService})();const bl=(0,u.Qd)(Cl);var wl=r(34961);let Sl=(()=>{var e;class AddonModH5PActivityModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModH5PActivity",this.modName=yl.P$,this.pageName=yl.zr,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,showdescription:!0,completion_tracks_views:!0,modedit_default_completion:!0,grade_has_grade:!0,outcomes:!0,backup_moodle2:!0,mod_purpose:"interactivecontent"}}isEnabled(){return wl.R.isPluginEnabled()}getMainComponent(){return(0,s.A)((function*(){const{AddonModH5PActivityIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(96698)]).then(r.bind(r,96698));return e}))()}}return(e=AddonModH5PActivityModuleHandlerService).ɵfac=(()=>{let n;return function AddonModH5PActivityModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModH5PActivityModuleHandlerService})();const Al=(0,u.Qd)(Sl);var _l=r(59863),El=r(65630);let Il=(()=>{var e;class AddonModH5PActivityPrefetchHandlerService extends ai.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModH5PActivity",this.modName=yl.P$,this.component=yl.tU,this.updatesNames=/^configuration$|^.*files$|^tracks$|^usertracks$/}getFiles(e,n){var r=this;return(0,s.A)((function*(){const o=yield wl.R.getH5PActivity(n,e.id),i=vr.P.decodeDisplayOptions(o.displayoptions);return[yield wl.R.getDeployedFile(o,{displayOptions:i})].concat(r.getIntroFilesFromInstance(e,o))}))()}invalidateModule(){return(0,s.A)((function*(){}))()}isDownloadable(){return(0,s.A)((function*(){var e;return!(null===(e=fe.CoreSites.getCurrentSite())||void 0===e||!e.canDownloadFiles()||ir.CoreH5P.isOfflineDisabledInSite())}))()}isEnabled(){return wl.R.isPluginEnabled()}prefetch(e,n){return this.prefetchPackage(e,n,(r=>this.prefetchActivity(e,n,r)))}prefetchActivity(e,n,r){var o=this;return(0,s.A)((function*(){const i=yield wl.R.getH5PActivity(n,e.id,{readingStrategy:2,siteId:r}),s=o.getIntroFilesFromInstance(e,i);yield Promise.all([o.prefetchWSData(i,r),qt.CoreFilepool.addFilesToQueue(r,s,yl.tU,e.id),o.prefetchMainFile(e,i,r),ir.CoreH5P.getCustomCssSrc(r)])}))()}prefetchMainFile(e,n,r){return(0,s.A)((function*(){const o=vr.P.decodeDisplayOptions(n.displayoptions),s=yield wl.R.getDeployedFile(n,{displayOptions:o,ignoreCache:!0,siteId:r}),a=yield wl.R.getMissingDependencies(e.id,s,r);if(a.length>0)throw ir.CoreH5P.h5pFramework.buildMissingDependenciesErrorFromDBRecords(a);if(wl.R.isSaveStateEnabled(n)){(yield qt.CoreFilepool.getFileStateByUrl(r,cr.CoreFileHelper.getFileUrl(s)))!==i.DownloadStatus.DOWNLOADED&&(yield xr.g.ignoreErrors(_l.CoreXAPIOffline.deleteStates(yl.$J,{itemId:n.context,siteId:r})))}yield qt.CoreFilepool.addFilesToQueue(r,[s],yl.tU,e.id)}))()}prefetchWSData(e,n){var r=this;return(0,s.A)((function*(){const o=yield wl.R.getAccessInformation(e.id,{cmId:e.coursemodule,readingStrategy:1,siteId:n});yield Promise.all([r.prefetchAttempts(e,o,n),r.prefetchState(e,o,n)])}))()}prefetchAttempts(e,n,r){return(0,s.A)((function*(){const o={cmId:e.coursemodule,readingStrategy:2,siteId:r};if(n.canreviewattempts){if(!(yield wl.R.canGetUsersAttempts(r)))return;const n=(yield wl.R.getAllUsersAttempts(e.id,o)).map((e=>e.userid));yield li.CoreUser.prefetchProfiles(n,e.course,r)}else{if(!e.enabletracking)return;const n=yield fe.CoreSites.getSite(r);yield Promise.all([wl.R.getAllAttemptsResults(e.id,o),li.CoreUser.prefetchProfiles([n.getUserId()],e.course,r)])}}))()}prefetchState(e,n,r){return(0,s.A)((function*(){wl.R.isSaveStateEnabled(e,n)&&(yield El.CoreXAPI.getStateFromServer(yl.$J,e.context,yl.HB,{appComponent:yl.tU,appComponentId:e.coursemodule,readingStrategy:2,siteId:r}))}))()}removeFiles(e,n){var _superprop_getRemoveFiles=()=>super.removeFiles,r=this;return(0,s.A)((function*(){yield Promise.all([_superprop_getRemoveFiles().call(r,e,n),xr.g.ignoreErrors(ir.CoreH5P.h5pFramework.deleteMissingDependenciesForComponent(yl.tU,e.id))])}))()}}return(e=AddonModH5PActivityPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModH5PActivityPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModH5PActivityPrefetchHandlerService})();const Dl=(0,u.Qd)(Il);let Ml=(()=>{var e;class AddonModH5PActivityReportLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModH5PActivityReportLinkHandler",this.featureName=yl.mz,this.pattern=/\/mod\/h5pactivity\/report\.php.*([&?]a=\d+)/}getActions(e,n,r){var o,i=this;return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show();try{const n=Number(r.a),o=yield Gt.CoreCourse.getModuleBasicInfoByInstance(n,yl.P$,{siteId:e,readingStrategy:1});if(void 0!==r.attemptid)i.openAttemptResults(o.id,Number(r.attemptid),o.course,e);else{const s=r.userid?Number(r.userid):void 0;yield i.openUserAttempts(o.id,o.course,n,e,s)}}catch(e){Nn.CoreAlerts.showError(e,{default:"Error processing link."})}finally{n.dismiss()}})),function action(e){return o.apply(this,arguments)})}]}isEnabled(){return wl.R.isPluginEnabled()}openAttemptResults(e,n,r,o){return(0,s.A)((function*(){const i=`${yl.zr}/${r}/${e}/attemptresults/${n}`;yield f.CoreNavigator.navigateToSitePath(i,{siteId:o})}))()}openUserAttempts(e,n,r,o,i){return(0,s.A)((function*(){let s,a=!1;if(!i&&(i=fe.CoreSites.getCurrentSiteUserId(),a=yield wl.R.canGetUsersAttempts(o),a)){const n=yield xr.g.ignoreErrors(wl.R.getAccessInformation(r,{cmId:e,siteId:o}));a=!(null==n||!n.canreviewattempts)}s=a?`${yl.zr}/${n}/${e}/users`:`${yl.zr}/${n}/${e}/userattempts/${i}`,f.CoreNavigator.navigateToSitePath(s,{siteId:o})}))()}}return(e=AddonModH5PActivityReportLinkHandlerService).ɵfac=(()=>{let n;return function AddonModH5PActivityReportLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModH5PActivityReportLinkHandlerService})();const Tl=(0,u.Qd)(Ml);var Pl=r(8257);let kl=(()=>{var e;class AddonModH5PActivitySyncCronHandlerService{constructor(){this.name="AddonModH5PActivitySyncCronHandler"}execute(e,n){return Pl.U.syncAllActivities(e,n)}getInterval(){return Pl.U.syncInterval}}return(e=AddonModH5PActivitySyncCronHandlerService).ɵfac=function AddonModH5PActivitySyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModH5PActivitySyncCronHandlerService})();const xl=(0,u.Qd)(kl),Fl=[{path:yl.zr,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(96698),r.e(72076),r.e(83052)]).then(r.bind(r,83052)),canDeactivate:[qo.V]},{path:":courseId/:cmId/userattempts/:userId",loadComponent:()=>Promise.all([r.e(72076),r.e(53864)]).then(r.bind(r,53864))},{path:":courseId/:cmId/attemptresults/:attemptId",loadComponent:()=>Promise.all([r.e(72076),r.e(5536)]).then(r.bind(r,5536))},{path:":courseId/:cmId/users",loadComponent:()=>Promise.all([r.e(72076),r.e(37216)]).then(r.bind(r,37216))}]}];let Ol=(()=>{var e;class AddonModH5PActivityModule{}return(e=AddonModH5PActivityModule).ɵfac=function AddonModH5PActivityModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(Al.instance),Nt.CoreContentLinksDelegate.registerHandler(bl.instance),Nt.CoreContentLinksDelegate.registerHandler(Tl.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(Dl.instance),cn.CoreCronDelegate.register(xl.instance)}}],imports:[Bt.b.forChild(Fl)]}),AddonModH5PActivityModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Ol,{imports:[Bt.b]}));var Rl=r(99201),Nl=r(62925);let Ll=(()=>{var e;class AddonModImscpIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Nl.Xh,Nl.fl,"i"),this.name="AddonModImscpLinkHandler"}isEnabled(e){return Rl.x.isPluginEnabled(e)}}return(e=AddonModImscpIndexLinkHandlerService).ɵfac=function AddonModImscpIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModImscpIndexLinkHandlerService})();const Hl=(0,u.Qd)(Ll);let Ul=(()=>{var e;class AddonModImscpListLinkHandlerService extends uo.S{constructor(){super(Nl.Xh,Nl.fl),this.name="AddonModImscpListLinkHandler"}isEnabled(e){return Rl.x.isPluginEnabled(e)}}return(e=AddonModImscpListLinkHandlerService).ɵfac=function AddonModImscpListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModImscpListLinkHandlerService})();const Bl=(0,u.Qd)(Ul);let $l=(()=>{var e;class AddonModImscpModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModImscp",this.modName=Nl.fl,this.pageName=Nl.f9,this.supportedFeatures={mod_archetype:1,groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"interactivecontent"}}isEnabled(){return Rl.x.isPluginEnabled()}getMainComponent(){return(0,s.A)((function*(){const{AddonModImscpIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076)]).then(r.bind(r,14110));return e}))()}}return(e=AddonModImscpModuleHandlerService).ɵfac=(()=>{let n;return function AddonModImscpModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModImscpModuleHandlerService})();const jl=(0,u.Qd)($l);let Vl=(()=>{var e;class AddonModImscpPluginFileHandlerService{constructor(){this.name="AddonModImscpPluginFileHandler",this.component="mod_imscp"}getComponentRevisionRegExp(e){return"content"==e[2]?new RegExp("/mod_imscp/content/([0-9]+)/"):"backup"==e[2]?new RegExp("/mod_imscp/backup/([0-9]+)/"):void 0}getComponentRevisionReplace(e){return`/mod_imscp/${e[2]}/0/`}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModImscpPluginFileHandlerService).ɵfac=function AddonModImscpPluginFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModImscpPluginFileHandlerService})();const Gl=(0,u.Qd)(Vl);let zl=(()=>{var e;class AddonModImscpPrefetchHandlerService extends To.CoreCourseResourcePrefetchHandlerBase{constructor(){super(...arguments),this.name=Nl.Xh,this.modName=Nl.fl,this.component=Nl.VI}downloadOrPrefetch(e,n,r){var _superprop_getDownloadOrPrefetch=()=>super.downloadOrPrefetch,o=this;return(0,s.A)((function*(){const i=fe.CoreSites.getCurrentSiteId(),s=yield qt.CoreFilepool.getPackageDirPathByUrl(i,e.url),a=[];a.push(_superprop_getDownloadOrPrefetch().call(o,e,n,r,s)),a.push(Rl.x.getImscp(n,e.id,{readingStrategy:2,siteId:i})),yield Promise.all(a)}))()}getIntroFiles(e,n){var r=this;return(0,s.A)((function*(){const o=yield xr.g.ignoreErrors(Rl.x.getImscp(n,e.id));return r.getIntroFilesFromInstance(e,o)}))()}invalidateContent(e,n){return(0,s.A)((function*(){return Rl.x.invalidateContent(e,n)}))()}invalidateModule(e,n){return(0,s.A)((function*(){const r=[];r.push(Rl.x.invalidateImscpData(n)),r.push(Gt.CoreCourse.invalidateModule(e.id)),yield Promise.all(r)}))()}isEnabled(){return Rl.x.isPluginEnabled()}isFileDownloadable(e){return Rl.x.isFileDownloadable(e)}}return(e=AddonModImscpPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModImscpPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModImscpPrefetchHandlerService})();const ql=(0,u.Qd)(zl),Wl=[{path:Nl.f9,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076),r.e(40320)]).then(r.bind(r,40320))},{path:":courseId/:cmId/view",loadComponent:()=>r.e(25236).then(r.bind(r,25236))}]}];let Kl=(()=>{var e;class AddonModImscpModule{}return(e=AddonModImscpModule).ɵfac=function AddonModImscpModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(jl.instance),Nt.CoreContentLinksDelegate.registerHandler(Hl.instance),Nt.CoreContentLinksDelegate.registerHandler(Bl.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(ql.instance),rr.CorePluginFileDelegate.registerHandler(Gl.instance)}}],imports:[Bt.b.forChild(Wl)]}),AddonModImscpModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Kl,{imports:[Bt.b]}));const Ql="AddonModLabel",Xl="mmaModLabel",Yl="label";let Jl=(()=>{var e;class AddonModLabelIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Ql,Yl,"l"),this.name="AddonModLabelLinkHandler"}}return(e=AddonModLabelIndexLinkHandlerService).ɵfac=function AddonModLabelIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLabelIndexLinkHandlerService})();const Zl=(0,u.Qd)(Jl);let ed=(()=>{var e;class AddonModLabelModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModLabel",this.modName=Yl,this.supportedFeatures={idnumber:!0,groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!1,grade_has_grade:!1,outcomes:!1,mod_archetype:1,backup_moodle2:!0,viewlink:!0,mod_purpose:"content"}}getData(e){const n=e.description||"";return e.description="",{icon:this.getIconSrc(),title:n,a11yTitle:"",class:"addon-mod-label-handler",hasCustomCmListItem:!0}}getMainComponent(){return(0,s.A)((function*(){}))()}manualCompletionAlwaysShown(){return(0,s.A)((function*(){return!0}))()}getIconSrc(){return""}}return(e=AddonModLabelModuleHandlerService).ɵfac=(()=>{let n;return function AddonModLabelModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLabelModuleHandlerService})();const td=(0,u.Qd)(ed);var nd=r(95384);let rd=(()=>{var e;class AddonModLabelProvider{getLabelDataCacheKey(e){return`${AddonModLabelProvider.ROOT_CACHE_KEY}label:${e}`}getLabel(e,n,r={}){var o=this;return(0,s.A)((function*(){const s=yield fe.CoreSites.getSite(r.siteId),a={courseids:[e]},c={cacheKey:o.getLabelDataCacheKey(e),updateFrequency:i.CoreCacheUpdateFrequency.RARELY,component:Xl,...fe.CoreSites.getReadingStrategyPreSets(r.readingStrategy)},u=yield s.read("mod_label_get_labels_by_courses",a,c);return nd.CoreCourseModuleHelper.getActivityByCmId(u.labels,n)}))()}invalidateLabelData(e,n){var r=this;return(0,s.A)((function*(){const o=yield fe.CoreSites.getSite(n);yield o.invalidateWsCacheForKey(r.getLabelDataCacheKey(e))}))()}invalidateContent(e,n,r){var o=this;return(0,s.A)((function*(){r=r||fe.CoreSites.getCurrentSiteId();const i=[];i.push(o.invalidateLabelData(n,r)),i.push(qt.CoreFilepool.invalidateFilesByComponent(r,Xl,e,!0)),yield xr.g.allPromises(i)}))()}}return(e=AddonModLabelProvider).ROOT_CACHE_KEY="mmaModLabel:",e.ɵfac=function AddonModLabelProvider_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLabelProvider})();const od=(0,u.Qd)(rd);let id=(()=>{var e;class AddonModLabelPrefetchHandlerService extends To.CoreCourseResourcePrefetchHandlerBase{constructor(){super(...arguments),this.name=Ql,this.modName=Yl,this.component=Xl,this.updatesNames=/^.*files$/}getIntroFiles(e,n,r){var o=this;return(0,s.A)((function*(){const i=yield od.getLabel(n,e.id,{readingStrategy:r?2:void 0});return o.getIntroFilesFromInstance(e,i)}))()}invalidateContent(e,n){return(0,s.A)((function*(){yield od.invalidateContent(e,n)}))()}invalidateModule(e,n){return(0,s.A)((function*(){const r=[];r.push(od.invalidateLabelData(n)),r.push(Gt.CoreCourse.invalidateModule(e.id)),yield xr.g.allPromises(r)}))()}loadContents(e){return(0,s.A)((function*(){e.contents=[]}))()}}return(e=AddonModLabelPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModLabelPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLabelPrefetchHandlerService})();const sd=(0,u.Qd)(id);let ad=(()=>{var e;class AddonModLabelModule{}return(e=AddonModLabelModule).ɵfac=function AddonModLabelModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(td.instance),Nt.CoreContentLinksDelegate.registerHandler(Zl.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(sd.instance)}}]}),AddonModLabelModule})();var ld=r(38115),dd=r(80447),cd=r(21509),ud=r(55101);let pd=(()=>{var e;class AddonModLessonGradeLinkHandlerService extends dd.CoreContentLinksModuleGradeHandler{constructor(){super(ud.JL,ud.Hm),this.name="AddonModLessonGradeLinkHandler",this.canReview=!0}goToReview(e,n,r,o){return(0,s.A)((function*(){const e=Number(n.id),r=Number(n.userid)||0,i=yield _n.CoreLoadings.show();try{const n=yield Gt.CoreCourse.getModuleBasicInfo(e,{siteId:o,readingStrategy:1});(yield cd.N.getAccessInformation(n.instance,{cmId:n.id,siteId:o})).canviewreports?f.CoreNavigator.navigateToSitePath(`${ud.Lc}/${n.course}/${n.id}/user-retake/${r}`,{siteId:o}):zt.CoreCourseHelper.navigateToModule(n.id,{courseId:n.course,siteId:o})}catch(e){Nn.CoreAlerts.showError(e,{default:u.HT.instant("core.course.errorgetmodule")})}finally{i.dismiss()}}))()}}return(e=AddonModLessonGradeLinkHandlerService).ɵfac=function AddonModLessonGradeLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonGradeLinkHandlerService})();const fd=(0,u.Qd)(pd);let gd=(()=>{var e;class AddonModLessonIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(ud.JL,ud.Hm),this.name="AddonModLessonIndexLinkHandler"}getActions(e,n,r,o){var i=this;const a=Number(o||r.courseid||r.cid);return[{action:(c=(0,s.A)((function*(e){r.userpassword?yield i.navigateToModuleWithPassword(parseInt(r.id,10),a,r.userpassword,e):yield zt.CoreCourseHelper.navigateToModule(parseInt(r.id,10),{courseId:o,siteId:e})})),function action(e){return c.apply(this,arguments)})}];var c}navigateToModuleWithPassword(e,n,r,o){return(0,s.A)((function*(){const i=yield _n.CoreLoadings.show();try{const n=yield Gt.CoreCourse.getModuleBasicInfo(e,{siteId:o,readingStrategy:1});yield xr.g.ignoreErrors(cd.N.storePassword(n.instance,r,o)),yield zt.CoreCourseHelper.navigateToModule(e,{courseId:n.course,siteId:o})}catch{yield zt.CoreCourseHelper.navigateToModule(e,{courseId:n,siteId:o})}finally{i.dismiss()}}))()}}return(e=AddonModLessonIndexLinkHandlerService).ɵfac=function AddonModLessonIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonIndexLinkHandlerService})();const md=(0,u.Qd)(gd);let hd=(()=>{var e;class AddonModLessonListLinkHandlerService extends uo.S{constructor(){super(ud.JL,ud.Hm),this.name="AddonModLessonListLinkHandler"}}return(e=AddonModLessonListLinkHandlerService).ɵfac=function AddonModLessonListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonListLinkHandlerService})();const vd=(0,u.Qd)(hd);let yd=(()=>{var e;class AddonModLessonModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModLesson",this.modName=ud.Hm,this.pageName=ud.Lc,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,outcomes:!0,backup_moodle2:!0,showdescription:!0,mod_purpose:"interactivecontent"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModLessonIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(10190)]).then(r.bind(r,10190));return e}))()}}return(e=AddonModLessonModuleHandlerService).ɵfac=(()=>{let n;return function AddonModLessonModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonModuleHandlerService})();const Cd=(0,u.Qd)(yd);var bd=r(15712),wd=r(27338),Sd=r(97383);let Ad=(()=>{var e;class AddonModLessonPushClickHandlerService{constructor(){this.name="AddonModLessonPushClickHandler",this.priority=200,this.featureName=ud.YJ}handles(e){return(0,s.A)((function*(){var n;return!(!Cr.j.isTrueOrOne(e.notif)||"mod_lesson"!=e.moodlecomponent||"graded_essay"!=e.name||null===(n=e.customdata)||void 0===n||!n.cmid)&&wd.CoreGrades.isPluginEnabledForCourse(Number(e.courseid),e.site)}))()}handleClick(e){return(0,s.A)((function*(){const n=e.customdata||{},r=Number(e.courseid),o=Number(n.cmid);if((0,Na.L)(o))return Sd.CoreGradesHelper.goToGrades(r,void 0,o,e.site)}))()}}return(e=AddonModLessonPushClickHandlerService).ɵfac=function AddonModLessonPushClickHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonPushClickHandlerService})();const _d=(0,u.Qd)(Ad);let Ed=(()=>{var e;class AddonModLessonReportLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModLessonReportLinkHandler",this.featureName=ud.YJ,this.pattern=/\/mod\/lesson\/report\.php.*([&?]id=\d+)/}getActions(e,n,r){var o,i=this;return[{action:(o=(0,s.A)((function*(e){r.action&&"reportoverview"!=r.action?"reportdetail"==r.action&&(yield i.openUserRetake(Number(r.id),Number(r.userid),Number(r.try),e)):yield i.openReportOverview(Number(r.id),Number(r.group),e)})),function action(e){return o.apply(this,arguments)})}]}isEnabled(e,n,r){return(0,s.A)((function*(){return!("reportdetail"==r.action&&!r.userid)}))()}openReportOverview(e,n,r){return(0,s.A)((function*(){const o=yield _n.CoreLoadings.show();try{const o=yield Gt.CoreCourse.getModule(e,void 0,void 0,!1,!1,r),i={module:o,action:"report",group:void 0===n||isNaN(n)?null:n};f.CoreNavigator.navigateToSitePath(`${ud.Lc}/${o.course}/${o.id}`,{params:i,siteId:r})}catch(e){Nn.CoreAlerts.showError(e,{default:"Error processing link."})}finally{o.dismiss()}}))()}openUserRetake(e,n,r,o){return(0,s.A)((function*(){const i=yield _n.CoreLoadings.show();try{const i=yield Gt.CoreCourse.getModuleBasicInfo(e,{siteId:o,readingStrategy:1});f.CoreNavigator.navigateToSitePath(`${ud.Lc}/${i.course}/${i.id}/user-retake/${n}`,{params:{retake:null!=r?r:0},siteId:o})}catch(e){Nn.CoreAlerts.showError(e,{default:"Error processing link."})}finally{i.dismiss()}}))()}}return(e=AddonModLessonReportLinkHandlerService).ɵfac=(()=>{let n;return function AddonModLessonReportLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonReportLinkHandlerService})();const Id=(0,u.Qd)(Ed);var Dd=r(35661);let Md=(()=>{var e;class AddonModLessonSyncCronHandlerService{constructor(){this.name="AddonModLessonSyncCronHandler"}execute(e,n){return Dd._.syncAllLessons(e,n)}getInterval(){return Dd._.syncInterval}}return(e=AddonModLessonSyncCronHandlerService).ɵfac=function AddonModLessonSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLessonSyncCronHandlerService})();const Td=(0,u.Qd)(Md),Pd=[{path:ud.Lc,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(10190),r.e(72076),r.e(65712)]).then(r.bind(r,65712))},{path:":courseId/:cmId/player",loadComponent:()=>Promise.all([r.e(41450),r.e(54352)]).then(r.bind(r,54352)),canDeactivate:[qo.V]},{path:":courseId/:cmId/user-retake/:userId",loadComponent:()=>r.e(35792).then(r.bind(r,35792))}]}];let kd=(()=>{var e;class AddonModLessonModule{}return(e=AddonModLessonModule).ɵfac=function AddonModLessonModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[ld.em,ld.gr,ld.k6],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(Cd.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(bd.o.instance),cn.CoreCronDelegate.register(Td.instance),Nt.CoreContentLinksDelegate.registerHandler(fd.instance),Nt.CoreContentLinksDelegate.registerHandler(md.instance),Nt.CoreContentLinksDelegate.registerHandler(vd.instance),Nt.CoreContentLinksDelegate.registerHandler(Id.instance),As.CorePushNotificationsDelegate.registerClickHandler(_d.instance),zt.CoreCourseHelper.registerModuleReminderClick(ud.tj)}}],imports:[Bt.b.forChild(Pd)]}),AddonModLessonModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(kd,{imports:[Bt.b]}));var xd=r(50978);let Fd=(()=>{var e;class AddonModLtiIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(xd.w0,xd.OJ,"l"),this.name="AddonModLtiIndexLinkHandlerService"}}return(e=AddonModLtiIndexLinkHandlerService).ɵfac=function AddonModLtiIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLtiIndexLinkHandlerService})();const Od=(0,u.Qd)(Fd);let Rd=(()=>{var e;class AddonModLtiListLinkHandlerService extends uo.S{constructor(){super(xd.w0,xd.OJ),this.name="AddonModLtiListLinkHandler"}}return(e=AddonModLtiListLinkHandlerService).ɵfac=function AddonModLtiListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLtiListLinkHandlerService})();const Nd=(0,u.Qd)(Rd);var Ld=r(84048);let Hd=(()=>{var e;class AddonModLtiModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModLti",this.modName=xd.OJ,this.pageName=xd.Oz,this.supportedFeatures={groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!0,outcomes:!0,backup_moodle2:!0,showdescription:!0,mod_purpose:"other"}}getData(e,n,r,o){var _superprop_getGetData=()=>super.getData,i=this;return(0,s.A)((function*(){const s=yield _superprop_getGetData().call(i,e,n,r,o);return s.showDownloadButton=!1,s.button={icon:"fas-up-right-from-square",label:"addon.mod_lti.launchactivity",action:(e,n,r)=>{Ld.c.getDataAndLaunch(r,n),nd.CoreCourseModuleHelper.storeModuleViewed(r,n.id)}},s}))()}getMainComponent(){return(0,s.A)((function*(){const{AddonModLtiIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076),r.e(69006)]).then(r.bind(r,49983));return e}))()}getIconSrc(e,n){var r,o;return null!==(r=null!==(o=null==e?void 0:e.modicon)&&void 0!==o?o:n)&&void 0!==r?r:nd.CoreCourseModuleHelper.getModuleIconSrc(this.modName)}}return(e=AddonModLtiModuleHandlerService).ɵfac=(()=>{let n;return function AddonModLtiModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLtiModuleHandlerService})();const Ud=(0,u.Qd)(Hd);var Bd=r(52391);let $d=(()=>{var e;class AddonModLtiPrefetchHandlerService extends ai.CoreCourseActivityPrefetchHandlerBase{constructor(){super(...arguments),this.name="AddonModLti",this.modName=xd.OJ,this.component=xd.qe}download(){return(0,s.A)((function*(){}))()}invalidateModule(e,n){return Bd.u.invalidateLti(n)}isDownloadable(){return(0,s.A)((function*(){return!1}))()}prefetch(){return(0,s.A)((function*(){}))()}}return(e=AddonModLtiPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModLtiPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModLtiPrefetchHandlerService})();const jd=(0,u.Qd)($d),Vd=[{path:`${xd.Oz}/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076),r.e(81872)]).then(r.bind(r,74919))}];let Gd=(()=>{var e;class AddonModLtiModule{}return(e=AddonModLtiModule).ɵfac=function AddonModLtiModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(Ud.instance),Nt.CoreContentLinksDelegate.registerHandler(Od.instance),Nt.CoreContentLinksDelegate.registerHandler(Nd.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(jd.instance),Ld.c.watchPendingCompletions()}}],imports:[Bt.b.forChild(Vd)]}),AddonModLtiModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Gd,{imports:[Bt.b]}));var zd=r(91921),qd=r(35794);let Wd=(()=>{var e;class AddonModPageIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(qd.w1,qd.IR,"p"),this.name="AddonModPageLinkHandler"}isEnabled(e){return zd._.isPluginEnabled(e)}}return(e=AddonModPageIndexLinkHandlerService).ɵfac=function AddonModPageIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModPageIndexLinkHandlerService})();const Kd=(0,u.Qd)(Wd);let Qd=(()=>{var e;class AddonModPageListLinkHandlerService extends uo.S{constructor(){super(qd.w1,qd.IR),this.name="AddonModPageListLinkHandler"}isEnabled(e){return zd._.isPluginEnabled(e)}}return(e=AddonModPageListLinkHandlerService).ɵfac=function AddonModPageListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModPageListLinkHandlerService})();const Xd=(0,u.Qd)(Qd);let Yd=(()=>{var e;class AddonModPageModuleHandlerService extends go.j{constructor(){super(...arguments),this.name=qd.w1,this.modName=qd.IR,this.pageName=qd.kR,this.supportedFeatures={mod_archetype:1,groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"content"}}isEnabled(){return zd._.isPluginEnabled()}getMainComponent(){return(0,s.A)((function*(){const{AddonModPageIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076)]).then(r.bind(r,54164));return e}))()}}return(e=AddonModPageModuleHandlerService).ɵfac=(()=>{let n;return function AddonModPageModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModPageModuleHandlerService})();const Jd=(0,u.Qd)(Yd);let Zd=(()=>{var e;class AddonModPagePluginFileHandlerService{constructor(){this.name="AddonModPagePluginFileHandler",this.component=qd.kR}getComponentRevisionRegExp(e){if("content"===e[2])return new RegExp("/mod_page/content/([0-9]+)/")}getComponentRevisionReplace(){return"/mod_page/content/0/"}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModPagePluginFileHandlerService).ɵfac=function AddonModPagePluginFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModPagePluginFileHandlerService})();const ec=(0,u.Qd)(Zd);let tc=(()=>{var e;class AddonModPagePrefetchHandlerService extends To.CoreCourseResourcePrefetchHandlerBase{constructor(){super(...arguments),this.name=qd.w1,this.modName=qd.IR,this.component=qd.C7,this.updatesNames=/^configuration$|^.*files$/}downloadOrPrefetch(e,n,r){var _superprop_getDownloadOrPrefetch=()=>super.downloadOrPrefetch,o=this;return(0,s.A)((function*(){const i=[];i.push(_superprop_getDownloadOrPrefetch().call(o,e,n,r)),i.push(zd._.getPageData(n,e.id)),yield Promise.all(i)}))()}invalidateContent(e,n){return(0,s.A)((function*(){yield zd._.invalidateContent(e,n)}))()}invalidateModule(e,n){return(0,s.A)((function*(){const r=[];r.push(zd._.invalidatePageData(n)),r.push(Gt.CoreCourse.invalidateModule(e.id)),yield xr.g.allPromises(r)}))()}isEnabled(){return zd._.isPluginEnabled()}}return(e=AddonModPagePrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModPagePrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModPagePrefetchHandlerService})();const nc=(0,u.Qd)(tc),rc=[{path:`${qd.kR}/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076),r.e(33815)]).then(r.bind(r,33815))}];let oc=(()=>{var e;class AddonModPageModule{}return(e=AddonModPageModule).ɵfac=function AddonModPageModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(Jd.instance),Nt.CoreContentLinksDelegate.registerHandler(Kd.instance),Nt.CoreContentLinksDelegate.registerHandler(Xd.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(nc.instance),rr.CorePluginFileDelegate.registerHandler(ec.instance)}}],imports:[Bt.b.forChild(rc)]}),AddonModPageModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(oc,{imports:[Bt.b]}));let ic=(()=>{var e;class AddonModQbankModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModQbank",this.modName="qbank",this.supportedFeatures={backup_moodle2:!0,publishesquestions:!0,showdescription:!0,usesquestions:!0,candisplay:!1,canuninstall:!1,comment:!1,completion_has_rules:!1,completion_tracks_views:!1,controlsgradevisbility:!1,outcomes:!1,modedit_default_completion:!1,mod_purpose:"content",viewlink:!0}}getData(e){return{title:e.name}}getMainComponent(){return(0,s.A)((function*(){}))()}}return(e=AddonModQbankModuleHandlerService).ɵfac=(()=>{let n;return function AddonModQbankModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModQbankModuleHandlerService})();const sc=(0,u.Qd)(ic);let ac=(()=>{var e;class AddonModQbankModule{}return(e=AddonModQbankModule).ɵfac=function AddonModQbankModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(sc.instance)}}]}),AddonModQbankModule})();var lc=r(43266),dc=r(85105),cc=r(37057);let uc=(()=>{var e;class AddonModResourceIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(cc.Xi,cc.NB,"r"),this.name="AddonModResourceLinkHandler"}isEnabled(e){return dc.x.isPluginEnabled(e)}}return(e=AddonModResourceIndexLinkHandlerService).ɵfac=function AddonModResourceIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModResourceIndexLinkHandlerService})();const pc=(0,u.Qd)(uc);let fc=(()=>{var e;class AddonModResourceListLinkHandlerService extends uo.S{constructor(){super(cc.Xi,cc.NB),this.name="AddonModResourceListLinkHandler"}isEnabled(e){return dc.x.isPluginEnabled(e)}}return(e=AddonModResourceListLinkHandlerService).ɵfac=function AddonModResourceListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModResourceListLinkHandlerService})();const gc=(0,u.Qd)(fc);var mc=r(12364),hc=r(34890);let vc=(()=>{var e;class AddonModResourceModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModResource",this.modName=cc.NB,this.pageName=cc.xV,this.supportedFeatures={mod_archetype:1,groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"content"}}isEnabled(){return dc.x.isPluginEnabled()}getData(e,n,r,o){var _superprop_getGetData=()=>super.getData,a=this;return(0,s.A)((function*(){const c=cr.CoreFileHelper.defaultIsOpenWithPicker(),p=yield _superprop_getGetData().call(a,e,n,r,o);var f;p.updateStatus=n=>{p.button&&(p.button.hidden=n!==i.DownloadStatus.DOWNLOADED||hc.j.isDisplayedInIframe(e))},p.button={hidden:!0,icon:c?"fas-share-from-square":"fas-file",label:e.name+": "+u.HT.instant(c?"core.openwith":"addon.mod_resource.openthefile"),action:(f=(0,s.A)((function*(e,n,r){(yield a.hideOpenButton(n))||(hc.j.openModuleFile(n,r),nd.CoreCourseModuleHelper.storeModuleViewed(r,n.id))})),function action(e,n,r){return f.apply(this,arguments)})};const[g,v]=yield Promise.all([xr.g.ignoreErrors(a.hideOpenButton(e)),xr.g.ignoreErrors(hc.j.getAfterLinkDetails(e,n))]);return void 0!==g&&(p.button.hidden=g),void 0!==v&&(p.extraBadge=v),p.icon=a.getIconSrc(e),p}))()}hideOpenButton(e){var n=this;return(0,s.A)((function*(){e.contentsinfo||(yield Gt.CoreCourse.loadModuleContents(e,void 0,void 0,!1,!1,void 0,n.modName));return(yield bo.CoreCourseModulePrefetchDelegate.getModuleStatus(e,e.course))!==i.DownloadStatus.DOWNLOADED||hc.j.isDisplayedInIframe(e)}))()}manualCompletionAlwaysShown(e){var n=this;return(0,s.A)((function*(){return!(yield n.hideOpenButton(e))}))()}getIconSrc(e){if(!e)return;let n="";if(e.contentsinfo){const r=e.contentsinfo.mimetypes[0];r&&(n=mc.A.getMimetypeIcon(r,fe.CoreSites.getCurrentSite()))}else if(e.contents&&e.contents[0]){n=mc.A.getFileIcon(e.contents[0].filename||"",fe.CoreSites.getCurrentSite())}return nd.CoreCourseModuleHelper.getModuleIconSrc(e.modname,e.modicon,n)}getMainComponent(){return(0,s.A)((function*(){const{AddonModResourceIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(43226)]).then(r.bind(r,43226));return e}))()}}return(e=AddonModResourceModuleHandlerService).ɵfac=(()=>{let n;return function AddonModResourceModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModResourceModuleHandlerService})();const yc=(0,u.Qd)(vc);let Cc=(()=>{var e;class AddonModResourcePluginFileHandlerService{constructor(){this.name="AddonModResourcePluginFileHandler",this.component="mod_resource"}getComponentRevisionRegExp(e){if("content"==e[2])return new RegExp("/mod_resource/content/([0-9]+)/")}getComponentRevisionReplace(){return"/mod_resource/content/0/"}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModResourcePluginFileHandlerService).ɵfac=function AddonModResourcePluginFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModResourcePluginFileHandlerService})();const bc=(0,u.Qd)(Cc);let wc=(()=>{var e;class AddonModResourcePrefetchHandlerService extends To.CoreCourseResourcePrefetchHandlerBase{constructor(){super(...arguments),this.name=cc.Xi,this.modName=cc.NB,this.component=cc.Bv}determineStatus(e,n){if(n===i.DownloadStatus.DOWNLOADED&&e)if("contentsinfo"in e&&e.contentsinfo){if(e.contentsinfo.repositorytype)return i.DownloadStatus.OUTDATED}else if(e.contents){const n=e.contents[0];if(n&&n.isexternalfile)return i.DownloadStatus.OUTDATED}return n}downloadOrPrefetch(e,n,r){var _superprop_getDownloadOrPrefetch=()=>super.downloadOrPrefetch,o=this;return(0,s.A)((function*(){let i;hc.j.isDisplayedInIframe(e)&&void 0!==e.url&&(i=yield qt.CoreFilepool.getPackageDirPathByUrl(fe.CoreSites.getCurrentSiteId(),e.url));const s=[];s.push(_superprop_getDownloadOrPrefetch().call(o,e,n,r,i)),s.push(dc.x.getResourceData(n,e.id)),yield Promise.all(s)}))()}invalidateContent(e,n){return(0,s.A)((function*(){yield dc.x.invalidateContent(e,n)}))()}invalidateModule(e,n){var r=this;return(0,s.A)((function*(){const o=[];o.push(dc.x.invalidateResourceData(n)),o.push(Gt.CoreCourse.invalidateModule(e.id,void 0,r.modName)),yield Promise.all(o)}))()}isDownloadable(e,n){var r=this;return(0,s.A)((function*(){var o;return!(null===(o=fe.CoreSites.getCurrentSite())||void 0===o||!o.isVersionGreaterEqualThan("3.7"))||(yield r.loadContents(e,n,!1),!hc.j.isNextcloudFile(e))}))()}isEnabled(){return(0,s.A)((function*(){return dc.x.isPluginEnabled()}))()}}return(e=AddonModResourcePrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModResourcePrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModResourcePrefetchHandlerService})();const Sc=(0,u.Qd)(wc),Ac=[{path:`${cc.xV}/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(43226),r.e(72076),r.e(68044)]).then(r.bind(r,68044))}];let _c=(()=>{var e;class AddonModResourceModule{}return(e=AddonModResourceModule).ɵfac=function AddonModResourceModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(yc.instance),Nt.CoreContentLinksDelegate.registerHandler(pc.instance),Nt.CoreContentLinksDelegate.registerHandler(gc.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(Sc.instance),rr.CorePluginFileDelegate.registerHandler(bc.instance)}}],imports:[Bt.b.forChild(Ac)]}),AddonModResourceModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(_c,{imports:[Bt.b]}));var Ec=r(1823),Ic=r(50891);let Dc=(()=>{var e;class AddonModScormGradeLinkHandlerService extends dd.CoreContentLinksModuleGradeHandler{constructor(){super(Ic.Rz,Ic.b8),this.name="AddonModScormGradeLinkHandler",this.canReview=!1}}return(e=AddonModScormGradeLinkHandlerService).ɵfac=function AddonModScormGradeLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormGradeLinkHandlerService})();const Mc=(0,u.Qd)(Dc);let Tc=(()=>{var e;class AddonModScormIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Ic.Rz,Ic.b8,"a"),this.name="AddonModScormIndexLinkHandler"}}return(e=AddonModScormIndexLinkHandlerService).ɵfac=function AddonModScormIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormIndexLinkHandlerService})();const Pc=(0,u.Qd)(Tc);let kc=(()=>{var e;class AddonModScormListLinkHandlerService extends uo.S{constructor(){super(Ic.Rz,Ic.b8),this.name="AddonModScormListLinkHandler"}}return(e=AddonModScormListLinkHandlerService).ɵfac=function AddonModScormListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormListLinkHandlerService})();const xc=(0,u.Qd)(kc);let Fc=(()=>{var e;class AddonModScormModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModScorm",this.modName=Ic.b8,this.pageName=Ic.T2,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!0,outcomes:!0,backup_moodle2:!0,showdescription:!0,mod_purpose:"interactivecontent"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModScormIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(79080)]).then(r.bind(r,79080));return e}))()}}return(e=AddonModScormModuleHandlerService).ɵfac=(()=>{let n;return function AddonModScormModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormModuleHandlerService})();const Oc=(0,u.Qd)(Fc);let Rc=(()=>{var e;class AddonModScormPlayerLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonModScormPlayerLinkHandler",this.featureName=Ic.I7,this.pattern=/\/mod\/scorm\/player\.php.*([?&](id|a)=\d+)/}getActions(e,n,r,o){return[{action:(i=(0,s.A)((function*(e){const n=Number(r.id),i=Number(r.a);if(o=Number(o||r.courseid||r.cid),!n&&!i)return;const s={params:{autoPlay:!0,mode:r.mode||void 0,newAttempt:"on"===r.newattempt,organizationId:r.currentorg,scoId:Number(r.scoid)||void 0}};n?yield zt.CoreCourseHelper.navigateToModule(n,{courseId:o,modNavOptions:s,siteId:e}):yield zt.CoreCourseHelper.navigateToModuleByInstance(i,"scorm",{courseId:o,modNavOptions:s,siteId:e})})),function action(e){return i.apply(this,arguments)})}];var i}}return(e=AddonModScormPlayerLinkHandlerService).ɵfac=(()=>{let n;return function AddonModScormPlayerLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormPlayerLinkHandlerService})();const Nc=(0,u.Qd)(Rc);let Lc=(()=>{var e;class AddonModScormPluginFileHandlerService{constructor(){this.name="AddonModScormPluginFileHandler",this.component="mod_scorm"}getComponentRevisionRegExp(e){if("content"==e[2])return new RegExp("/mod_scorm/content/([0-9]+)/")}getComponentRevisionReplace(){return"/mod_scorm/content/0/"}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonModScormPluginFileHandlerService).ɵfac=function AddonModScormPluginFileHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormPluginFileHandlerService})();const Hc=(0,u.Qd)(Lc);var Uc=r(60438),Bc=r(98045);let $c=(()=>{var e;class AddonModScormSyncCronHandlerService{constructor(){this.name="AddonModScormSyncCronHandler"}execute(e,n){return Bc.S.syncAllScorms(e,n)}getInterval(){return Bc.S.syncInterval}}return(e=AddonModScormSyncCronHandlerService).ɵfac=function AddonModScormSyncCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModScormSyncCronHandlerService})();const jc=(0,u.Qd)($c),Vc=[{path:Ic.T2,loadChildren:()=>[{path:":courseId/:cmId",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(79080),r.e(72076),r.e(84726)]).then(r.bind(r,84726))},{path:":courseId/:cmId/player",loadComponent:()=>r.e(66562).then(r.bind(r,66562))},{path:":courseId/:cmId/online-player",loadComponent:()=>r.e(37670).then(r.bind(r,37670))}]}];let Gc=(()=>{var e;class AddonModScormModule{}return(e=AddonModScormModule).ɵfac=function AddonModScormModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[Ec.gr],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(Oc.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(Uc._.instance),cn.CoreCronDelegate.register(jc.instance),Nt.CoreContentLinksDelegate.registerHandler(Mc.instance),Nt.CoreContentLinksDelegate.registerHandler(Pc.instance),Nt.CoreContentLinksDelegate.registerHandler(xc.instance),Nt.CoreContentLinksDelegate.registerHandler(Nc.instance),rr.CorePluginFileDelegate.registerHandler(Hc.instance),zt.CoreCourseHelper.registerModuleReminderClick(Ic.RL)}}],imports:[Bt.b.forChild(Vc)]}),AddonModScormModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Gc,{imports:[Bt.b]}));const zc="AddonModSubsection";let qc=(()=>{var e;class AddonModSubsectionIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(zc,"subsection","id"),this.name="AddonModSubsectionLinkHandler"}openSubsection(e,n,r){return(0,s.A)((function*(){const o={sectionId:e};r&&r!==fe.CoreSites.getCurrentSiteId()||!Gt.CoreCourse.currentViewIsCourse(n)?yield zt.CoreCourseHelper.getAndOpenCourse(n,o,r):Gt.CoreCourse.selectCourseTab("",o)}))()}getActions(e,n,r,o){var i,a=this;return[{action:(i=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show(),i=Number(r.id);try{const n=yield Gt.CoreCourse.getModule(i,o,void 0,!0,!1,e);yield a.openSubsection(n.section,n.course,e)}catch(e){Nn.CoreAlerts.showError(e,{default:"Error opening link."})}finally{n.dismiss()}})),function action(e){return i.apply(this,arguments)})}]}}return(e=AddonModSubsectionIndexLinkHandlerService).ɵfac=function AddonModSubsectionIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModSubsectionIndexLinkHandlerService})();const Wc=(0,u.Qd)(qc);let Kc=(()=>{var e;class AddonModSubsectionModule{}return(e=AddonModSubsectionModule).ɵfac=function AddonModSubsectionModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Nt.CoreContentLinksDelegate.registerHandler(Wc.instance)}}]}),AddonModSubsectionModule})();var Qc=r(25191),Xc=r(67039);let Yc=(()=>{var e;class AddonModSurveyIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Xc.TV,Xc.FY),this.name="AddonModSurveyLinkHandler"}}return(e=AddonModSurveyIndexLinkHandlerService).ɵfac=function AddonModSurveyIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModSurveyIndexLinkHandlerService})();const Jc=(0,u.Qd)(Yc);let Zc=(()=>{var e;class AddonModSurveyListLinkHandlerService extends uo.S{constructor(){super(Xc.TV,Xc.FY),this.name="AddonModSurveyListLinkHandler"}}return(e=AddonModSurveyListLinkHandlerService).ɵfac=function AddonModSurveyListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModSurveyListLinkHandlerService})();const eu=(0,u.Qd)(Zc);let tu=(()=>{var e;class AddonModSurveyModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModSurvey",this.modName=Xc.FY,this.pageName=Xc.Ny,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,completion_has_rules:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"communication"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModSurveyIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(51877),r.e(42546)]).then(r.bind(r,42546));return e}))()}}return(e=AddonModSurveyModuleHandlerService).ɵfac=(()=>{let n;return function AddonModSurveyModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModSurveyModuleHandlerService})();const nu=(0,u.Qd)(tu);var ru=r(97810),ou=r(52323);const iu=[{path:`${Xc.Ny}/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(51877),r.e(42546),r.e(72076),r.e(81650)]).then(r.bind(r,81650))}];let su=(()=>{var e;class AddonModSurveyModule{}return(e=AddonModSurveyModule).ɵfac=function AddonModSurveyModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[Qc.P],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{bo.CoreCourseModulePrefetchDelegate.registerHandler((0,ru.j)()),cn.CoreCronDelegate.register((0,ou.c)()),io.CoreCourseModuleDelegate.registerHandler(nu.instance),Nt.CoreContentLinksDelegate.registerHandler(Jc.instance),Nt.CoreContentLinksDelegate.registerHandler(eu.instance)}}],imports:[Bt.b.forChild(iu)]}),AddonModSurveyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(su,{imports:[Bt.b]}));var au=r(27392);let lu=(()=>{var e;class AddonModUrlIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(au.KY,au.Mt,"u"),this.name="AddonModUrlLinkHandler",this.useModNameToGetModule=!0}}return(e=AddonModUrlIndexLinkHandlerService).ɵfac=function AddonModUrlIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModUrlIndexLinkHandlerService})();const du=(0,u.Qd)(lu);let cu=(()=>{var e;class AddonModUrlListLinkHandlerService extends uo.S{constructor(){super(au.KY,au.Mt),this.name="AddonModUrlListLinkHandler"}}return(e=AddonModUrlListLinkHandlerService).ɵfac=function AddonModUrlListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModUrlListLinkHandlerService})();const uu=(0,u.Qd)(cu);var pu=r(10883),fu=r(73235),gu=r(16260),mu=r(22693);let hu=(()=>{var e;class AddonModUrlModuleHandlerService extends go.j{constructor(){super(...arguments),this.name=au.KY,this.modName=au.Mt,this.pageName=au.Qb,this.supportedFeatures={mod_archetype:1,groups:!1,groupings:!1,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!1,backup_moodle2:!0,showdescription:!0,mod_purpose:"content"}}getData(e){var n=this;return(0,s.A)((function*(){const r=function(){var e=(0,s.A)((function*(e,r){yield n.logView(e),nd.CoreCourseModuleHelper.storeModuleViewed(r,e.id);const o=yield n.getModuleMainFile(e);o&&gu.Q.open(o.fileurl)}));return function openUrl(n,r){return e.apply(this,arguments)}}(),o={icon:nd.CoreCourseModuleHelper.getModuleIconSrc(e.modname,e.modicon),title:e.name,class:"addon-mod_url-handler",showDownloadButton:!1,action:(i=(0,s.A)((function*(e,o,i,s){const a=yield _n.CoreLoadings.show();try{(yield n.shouldOpenLink(o))?r(o,i):n.openActivityPage(o,o.course,s)}finally{a.dismiss()}})),function action(e,n,r,o){return i.apply(this,arguments)}),button:{icon:"fas-link",label:"core.openmodinbrowser",action:(e,n,o)=>{r(n,o)}}};var i;try{o.icon=yield n.getIconSrc(e,o.icon)}catch{}return o}))()}getIconSrc(e,n){var r=this;return(0,s.A)((function*(){if(!e)return n;if(nr.F.getThemeImageUrlParam(e.modicon,"component")===r.modName)return n;let o,i=nr.F.getThemeImageUrlParam(e.modicon,"image");if(i.startsWith("f/")){var s;i=i.substring(2).replace(/-[0-9]+$/,""),i=null!==(s=mc.A.getExtensionType(i))&&void 0!==s?s:i,o=mc.A.getFileIconForType(i,fe.CoreSites.getCurrentSite())}else{const n=yield r.getModuleMainFile(e);o=n?fu.k.guessIcon(n.fileurl):void 0}return nd.CoreCourseModuleHelper.getModuleIconSrc(e.modname,e.modicon,o)}))()}getModuleMainFile(e){return(0,s.A)((function*(){var n,r;if(e){if(null!==(n=e.contents)&&void 0!==n&&n[0])return e.contents[0];try{const n=yield Gt.CoreCourse.getModuleContents(e,void 0,void 0,!0,!1,void 0,"url");e.contents=n}catch{const n=yield Gt.CoreCourse.getModule(e.id,e.course,void 0,!0,!1,void 0,"url");e.contents=n.contents}return null===(r=e.contents)||void 0===r?void 0:r[0]}}))()}getMainComponent(){return(0,s.A)((function*(){const{AddonModUrlIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076)]).then(r.bind(r,14561));return e}))()}shouldOpenLink(e){var n=this;return(0,s.A)((function*(){try{const r=yield n.getModuleMainFile(e);if(!r)return!1;if(yield pu.CoreContentLinksHelper.canHandleLink(r.fileurl,e.course,void 0,!0))return!0;{const n=yield xr.g.ignoreErrors(fu.k.getUrl(e.course,e.id)),r=fu.k.getFinalDisplayType(n);return 5===r||6===r}}catch{return!1}}))()}manualCompletionAlwaysShown(e){return this.shouldOpenLink(e)}logView(e){return(0,s.A)((function*(){try{e.instance&&(yield fu.k.logView(e.instance),Gt.CoreCourse.checkModuleCompletion(e.course,e.completiondata))}catch{}mu.OF.logEvent({type:mu.qr.VIEW_ITEM,ws:"mod_url_view_url",name:e.name,data:{id:e.instance,category:"url"},url:`/mod/url/view.php?id=${e.id}`})}))()}}return(e=AddonModUrlModuleHandlerService).ɵfac=(()=>{let n;return function AddonModUrlModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModUrlModuleHandlerService})();const vu=(0,u.Qd)(hu);let yu=(()=>{var e;class AddonModUrlPrefetchHandlerService extends To.CoreCourseResourcePrefetchHandlerBase{constructor(){super(...arguments),this.name=au.KY,this.modName=au.Mt,this.component=au.mb}invalidateModule(e){return Gt.CoreCourse.invalidateModule(e.id,void 0,this.modName)}isDownloadable(){return(0,s.A)((function*(){return!1}))()}}return(e=AddonModUrlPrefetchHandlerService).ɵfac=(()=>{let n;return function AddonModUrlPrefetchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModUrlPrefetchHandlerService})();const Cu=(0,u.Qd)(yu),bu=[{path:`${au.Qb}/:courseId/:cmId`,loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(72076),r.e(46757)]).then(r.bind(r,46757))}];let wu=(()=>{var e;class AddonModUrlModule{}return(e=AddonModUrlModule).ɵfac=function AddonModUrlModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{io.CoreCourseModuleDelegate.registerHandler(vu.instance),Nt.CoreContentLinksDelegate.registerHandler(du.instance),Nt.CoreContentLinksDelegate.registerHandler(uu.instance),bo.CoreCourseModulePrefetchDelegate.registerHandler(Cu.instance)}}],imports:[Bt.b.forChild(bu)]}),AddonModUrlModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(wu,{imports:[Bt.b]}));var Su=r(95531),Au=r(93320),_u=r(32208),Eu=r(51069);let Iu=(()=>{var e;class AddonModWikiIndexLinkHandlerService extends so.CoreContentLinksModuleIndexHandler{constructor(){super(Eu.Rv,Eu.Pe,"wid"),this.name="AddonModWikiIndexLinkHandler"}getPageParams(e,n){return{groupId:n.group||"0"===n.group?Number(n.group):void 0,userId:n.uid||"0"===n.uid?Number(n.uid):void 0,pageTitle:n.title}}}return(e=AddonModWikiIndexLinkHandlerService).ɵfac=function AddonModWikiIndexLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModWikiIndexLinkHandlerService})();const Du=(0,u.Qd)(Iu);let Mu=(()=>{var e;class AddonModWikiListLinkHandlerService extends uo.S{constructor(){super(Eu.Rv,Eu.Pe),this.name="AddonModWikiListLinkHandler"}}return(e=AddonModWikiListLinkHandlerService).ɵfac=function AddonModWikiListLinkHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModWikiListLinkHandlerService})();const Tu=(0,u.Qd)(Mu);let Pu=(()=>{var e;class AddonModWikiModuleHandlerService extends go.j{constructor(){super(...arguments),this.name="AddonModWiki",this.modName=Eu.Pe,this.pageName=Eu.Jb,this.supportedFeatures={groups:!0,groupings:!0,mod_intro:!0,completion_tracks_views:!0,grade_has_grade:!1,outcomes:!1,rate:!1,backup_moodle2:!0,showdescription:!0,comment:!0,mod_purpose:"collaboration"}}getMainComponent(){return(0,s.A)((function*(){const{AddonModWikiIndexComponent:e}=yield Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(67981),r.e(84078)]).then(r.bind(r,84078));return e}))()}}return(e=AddonModWikiModuleHandlerService).ɵfac=(()=>{let n;return function AddonModWikiModuleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModWikiModuleHandlerService})();const ku=(0,u.Qd)(Pu);var xu=r(63036),Fu=r(90784),Ou=r(80629);let Ru=(()=>{var e;class AddonModWikiTagAreaHandlerService{constructor(){this.name="AddonModWikiTagAreaHandler",this.type="mod_wiki/wiki_pages"}isEnabled(){return(0,s.A)((function*(){return!0}))()}parseContent(e){return rn.CoreTagHelper.parseFeedContent(e)}getComponent(){return(0,s.A)((function*(){const{CoreTagFeedComponent:e}=yield r.e(81543).then(r.bind(r,81543));return e}))()}}return(e=AddonModWikiTagAreaHandlerService).ɵfac=function AddonModWikiTagAreaHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModWikiTagAreaHandlerService})();const Nu=(0,u.Qd)(Ru),Lu=[{path:Eu.Jb,loadChildren:()=>[{path:":courseId/:cmId",redirectTo:":courseId/:cmId/page/root"},{path:":courseId/:cmId/page/:hash",loadComponent:()=>Promise.all([r.e(98054),r.e(89752),r.e(51024),r.e(36549),r.e(67981),r.e(84078),r.e(72076)]).then(r.bind(r,49072))},{path:":courseId/:cmId/edit",loadComponent:()=>Promise.all([r.e(41450),r.e(67981),r.e(53966)]).then(r.bind(r,53966)),canDeactivate:[qo.V]}]}];let Hu=(()=>{var e;class AddonModWikiModule{}return(e=AddonModWikiModule).ɵfac=function AddonModWikiModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:fe.CORE_SITE_SCHEMAS,useValue:[Su.g],multi:!0},{provide:o.hnV,multi:!0,useValue:()=>{Nt.CoreContentLinksDelegate.registerHandler((0,Au.E)()),Nt.CoreContentLinksDelegate.registerHandler((0,_u.m)()),Nt.CoreContentLinksDelegate.registerHandler((0,xu.I)()),bo.CoreCourseModulePrefetchDelegate.registerHandler((0,Fu.j)()),cn.CoreCronDelegate.register((0,Ou.c)()),io.CoreCourseModuleDelegate.registerHandler(ku.instance),Nt.CoreContentLinksDelegate.registerHandler(Du.instance),Nt.CoreContentLinksDelegate.registerHandler(Tu.instance),jt.CoreTagAreaDelegate.registerHandler(Nu.instance),zt.CoreCourseHelper.registerModuleReminderClick(Eu.dD)}}],imports:[Bt.b.forChild(Lu)]}),AddonModWikiModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Hu,{imports:[Bt.b]}));var Uu=r(15230);let Bu=(()=>{var e;class AddonModModule{}return(e=AddonModModule).ɵfac=function AddonModModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[oo.yd,Co,No,Jo,vi,Ss,ta,ha,qa,vl,Ol,Kl,ad,kd,Gd,oc,ac,lc.O,_c,Gc,Kc,su,wu,Hu,Uu.yN]}),AddonModModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Bu,{imports:[oo.yd,Co,No,Jo,vi,Ss,ta,ha,qa,vl,Ol,Kl,ad,kd,Gd,oc,ac,lc.O,_c,Gc,Kc,su,wu,Hu,Uu.yN]}));var $u=r(53032),ju=r(55388),Vu=r(86084),Gu=r(13482),zu=r(69319);let qu=(()=>{var e;class AddonQbehaviourAdaptiveHandlerService{constructor(){this.name="AddonQbehaviourAdaptive",this.type="adaptive"}handleQuestion(e){zu.CoreQuestionHelper.extractQbehaviourButtons(e)}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourAdaptiveHandlerService).ɵfac=function AddonQbehaviourAdaptiveHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourAdaptiveHandlerService})();const Wu=(0,u.Qd)(qu);let Ku=(()=>{var e;class AddonQbehaviourAdaptiveModule{}return(e=AddonQbehaviourAdaptiveModule).ɵfac=function AddonQbehaviourAdaptiveModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(Wu.instance)}}]}),AddonQbehaviourAdaptiveModule})(),Qu=(()=>{var e;class AddonQbehaviourAdaptiveNoPenaltyHandlerService{constructor(){this.name="AddonQbehaviourAdaptiveNoPenalty",this.type="adaptivenopenalty"}handleQuestion(e){zu.CoreQuestionHelper.extractQbehaviourButtons(e)}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourAdaptiveNoPenaltyHandlerService).ɵfac=function AddonQbehaviourAdaptiveNoPenaltyHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourAdaptiveNoPenaltyHandlerService})();const Xu=(0,u.Qd)(Qu);let Yu=(()=>{var e;class AddonQbehaviourAdaptiveNoPenaltyModule{}return(e=AddonQbehaviourAdaptiveNoPenaltyModule).ɵfac=function AddonQbehaviourAdaptiveNoPenaltyModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(Xu.instance)}}]}),AddonQbehaviourAdaptiveNoPenaltyModule})();var Ju=r(54090),Zu=r(89857);let ep=(()=>{var e;class AddonQbehaviourDeferredFeedbackHandlerService{constructor(){this.name="AddonQbehaviourDeferredFeedback",this.type="deferredfeedback"}determineNewState(e,n,r,o,i){return this.determineNewStateDeferred(e,n,r,o,i)}determineNewStateDeferred(e,n,r,o,i,a,c){return(0,s.A)((function*(){let s=r;try{s=yield Ju.CoreQuestion.getQuestion(e,n,r.slot,i)}catch(e){}const u=Ju.CoreQuestion.getState(s.state);if(u.finished||!u.active)return u;const p=Ju.CoreQuestion.getBasicAnswers(r.answers||{});if(s.state){const s=yield Ju.CoreQuestion.getQuestionAnswers(e,n,r.slot,!1,i),a=Ju.CoreQuestion.convertAnswersArrayToObject(s,!0),f=Ju.CoreQuestion.getBasicAnswers(a);let g=!1;if(g=c?c(r,a,f,r.answers||{},p,e,o):Zu.CoreQuestionDelegate.isSameResponse(r,f,p,e,o),g)return u}let f,g;if(f=a?a(r,r.answers||{},e,o):Zu.CoreQuestionDelegate.isCompleteResponse(r,p,e,o),f<0)g="cannotdeterminestatus";else if(f>0)g="complete";else{const n=Zu.CoreQuestionDelegate.isGradableResponse(r,p,e,o);g=n<0?"cannotdeterminestatus":n>0?"invalid":"todo"}return Ju.CoreQuestion.getState(g)}))()}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourDeferredFeedbackHandlerService).ɵfac=function AddonQbehaviourDeferredFeedbackHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourDeferredFeedbackHandlerService})();const tp=(0,u.Qd)(ep);var np=r(91416),rp=r(89417);function AddonQbehaviourDeferredCBMComponent_div_0_ion_item_7_Template(e,n){if(1&e&&(o.j41(0,"ion-item",5)(1,"ion-radio",6),o.EFF(2),o.k0s()()),2&e){const e=n.$implicit;o.R7$(),o.FS9("id",e.id),o.Y8G("value",e.value)("disabled",e.disabled),o.R7$(),o.SpI(" ",e.text," ")}}function AddonQbehaviourDeferredCBMComponent_div_0_Template(e,n){if(1&e){const e=o.RV6();o.j41(0,"div")(1,"ion-item",1)(2,"ion-label")(3,"p"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()(),o.j41(6,"ion-radio-group",2),o.mxI("ngModelChange",(function AddonQbehaviourDeferredCBMComponent_div_0_Template_ion_radio_group_ngModelChange_6_listener(n){o.eBV(e);const r=o.XpG();return o.DH7(r.question.behaviourCertaintySelected,n)||(r.question.behaviourCertaintySelected=n),o.Njj(n)})),o.DNE(7,AddonQbehaviourDeferredCBMComponent_div_0_ion_item_7_Template,3,4,"ion-item",3),o.k0s(),o.nrm(8,"input",4),o.k0s()}if(2&e){const e=o.XpG();o.R7$(4),o.JRh(o.bMT(5,6,"core.question.certainty")),o.R7$(2),o.R50("ngModel",e.question.behaviourCertaintySelected),o.Y8G("name",e.question.behaviourCertaintyOptions[0].name),o.R7$(),o.Y8G("ngForOf",e.question.behaviourCertaintyOptions),o.R7$(),o.Y8G("ngModel",e.question.behaviourCertaintySelected),o.BMQ("name",e.question.behaviourCertaintyOptions[0].name)}}let op=(()=>{var e;class AddonQbehaviourDeferredCBMComponent{constructor(){this.offlineEnabled=!1,this.review=!1,this.buttonClicked=new o.bkB,this.onAbort=new o.bkB}}return(e=AddonQbehaviourDeferredCBMComponent).ɵfac=function AddonQbehaviourDeferredCBMComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["addon-qbehaviour-deferredcbm"]],inputs:{question:"question",component:"component",componentId:"componentId",attemptId:"attemptId",offlineEnabled:[o.Mj6.HasDecoratorInputTransform,"offlineEnabled","offlineEnabled",np.G],contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId",review:[o.Mj6.HasDecoratorInputTransform,"review","review",np.G],preferredBehaviour:"preferredBehaviour"},outputs:{buttonClicked:"buttonClicked",onAbort:"onAbort"},standalone:!0,features:[o.GFd,o.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ion-text-wrap","addon-qbehaviour-deferredcbm-certainty-title"],[3,"ngModelChange","ngModel","name"],["class","ion-text-wrap",4,"ngFor","ngForOf"],["type","hidden",3,"ngModel"],[1,"ion-text-wrap"],[3,"id","value","disabled"]],template:function AddonQbehaviourDeferredCBMComponent_Template(e,n){1&e&&o.DNE(0,AddonQbehaviourDeferredCBMComponent_div_0_Template,9,8,"div",0),2&e&&o.Y8G("ngIf",n.question&&n.question.behaviourCertaintyOptions&&n.question.behaviourCertaintyOptions.length)},dependencies:[lr.n,gr.Sq,gr.bT,rp.me,rp.BC,rp.vS,a.uz,a.he,a.KO,a.f0,a.Je,mr.D9],encapsulation:2}),AddonQbehaviourDeferredCBMComponent})(),ip=(()=>{var e;class AddonQbehaviourDeferredCBMHandlerService{constructor(){this.name="AddonQbehaviourDeferredCBM",this.type="deferredcbm"}determineNewState(e,n,r,o,i){return tp.determineNewStateDeferred(e,n,r,o,i,((...e)=>this.isCompleteResponse(...e)),((...e)=>this.isSameResponse(...e)))}handleQuestion(e){if(zu.CoreQuestionHelper.extractQbehaviourCBM(e))return[op]}isCompleteResponse(e,n,r,o){const i=Zu.CoreQuestionDelegate.isCompleteResponse(e,n,r,o);return i>0?n["-certainty"]?1:0:i}isEnabled(){return(0,s.A)((function*(){return!0}))()}isSameResponse(e,n,r,o,i,s,a){const c=Zu.CoreQuestionDelegate.isSameResponse(e,r,i,s,a);return c?n["-certainty"]==o["-certainty"]:c}}return(e=AddonQbehaviourDeferredCBMHandlerService).ɵfac=function AddonQbehaviourDeferredCBMHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourDeferredCBMHandlerService})();const sp=(0,u.Qd)(ip);let ap=(()=>{var e;class AddonQbehaviourDeferredCBMModule{}return(e=AddonQbehaviourDeferredCBMModule).ɵfac=function AddonQbehaviourDeferredCBMModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(sp.instance)}}]}),AddonQbehaviourDeferredCBMModule})(),lp=(()=>{var e;class AddonQbehaviourDeferredFeedbackModule{}return(e=AddonQbehaviourDeferredFeedbackModule).ɵfac=function AddonQbehaviourDeferredFeedbackModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(tp.instance)}}]}),AddonQbehaviourDeferredFeedbackModule})(),dp=(()=>{var e;class AddonQbehaviourImmediateCBMHandlerService{constructor(){this.name="AddonQbehaviourImmediateCBM",this.type="immediatecbm"}handleQuestion(e){if(zu.CoreQuestionHelper.extractQbehaviourButtons(e),zu.CoreQuestionHelper.extractQbehaviourCBM(e))return[op]}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourImmediateCBMHandlerService).ɵfac=function AddonQbehaviourImmediateCBMHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourImmediateCBMHandlerService})();const cp=(0,u.Qd)(dp);let up=(()=>{var e;class AddonQbehaviourImmediateCBMModule{}return(e=AddonQbehaviourImmediateCBMModule).ɵfac=function AddonQbehaviourImmediateCBMModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(cp.instance)}}]}),AddonQbehaviourImmediateCBMModule})(),pp=(()=>{var e;class AddonQbehaviourImmediateFeedbackHandlerService{constructor(){this.name="AddonQbehaviourImmediateFeedback",this.type="immediatefeedback"}handleQuestion(e){zu.CoreQuestionHelper.extractQbehaviourButtons(e)}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourImmediateFeedbackHandlerService).ɵfac=function AddonQbehaviourImmediateFeedbackHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourImmediateFeedbackHandlerService})();const fp=(0,u.Qd)(pp);let gp=(()=>{var e;class AddonQbehaviourImmediateFeedbackModule{}return(e=AddonQbehaviourImmediateFeedbackModule).ɵfac=function AddonQbehaviourImmediateFeedbackModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(fp.instance)}}]}),AddonQbehaviourImmediateFeedbackModule})();function AddonQbehaviourInformationItemComponent_input_0_Template(e,n){if(1&e&&o.nrm(0,"input",1),2&e){const e=o.XpG();o.Y8G("name",e.question.behaviourSeenInput.name)("value",e.question.behaviourSeenInput.value)}}let mp=(()=>{var e;class AddonQbehaviourInformationItemComponent{constructor(){this.offlineEnabled=!1,this.review=!1,this.buttonClicked=new o.bkB,this.onAbort=new o.bkB}}return(e=AddonQbehaviourInformationItemComponent).ɵfac=function AddonQbehaviourInformationItemComponent_Factory(n){return new(n||e)},e.ɵcmp=o.VBU({type:e,selectors:[["addon-qbehaviour-informationitem"]],inputs:{question:"question",component:"component",componentId:"componentId",attemptId:"attemptId",offlineEnabled:[o.Mj6.HasDecoratorInputTransform,"offlineEnabled","offlineEnabled",np.G],contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId",review:[o.Mj6.HasDecoratorInputTransform,"review","review",np.G],preferredBehaviour:"preferredBehaviour"},outputs:{buttonClicked:"buttonClicked",onAbort:"onAbort"},standalone:!0,features:[o.GFd,o.aNF],decls:1,vars:1,consts:[["type","hidden",3,"name","value",4,"ngIf"],["type","hidden",3,"name","value"]],template:function AddonQbehaviourInformationItemComponent_Template(e,n){1&e&&o.DNE(0,AddonQbehaviourInformationItemComponent_input_0_Template,1,2,"input",0),2&e&&o.Y8G("ngIf",n.question&&n.question.behaviourSeenInput)},dependencies:[lr.n,gr.bT],encapsulation:2}),AddonQbehaviourInformationItemComponent})(),hp=(()=>{var e;class AddonQbehaviourInformationItemHandlerService{constructor(){this.name="AddonQbehaviourInformationItem",this.type="informationitem"}determineNewState(e,n,r){var o;return null!==(o=r.answers)&&void 0!==o&&o["-seen"]?Ju.CoreQuestion.getState("complete"):Ju.CoreQuestion.getState(r.state||"todo")}handleQuestion(e){if(zu.CoreQuestionHelper.extractQbehaviourSeenInput(e))return[mp]}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourInformationItemHandlerService).ɵfac=function AddonQbehaviourInformationItemHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourInformationItemHandlerService})();const vp=(0,u.Qd)(hp);let yp=(()=>{var e;class AddonQbehaviourInformationItemModule{}return(e=AddonQbehaviourInformationItemModule).ɵfac=function AddonQbehaviourInformationItemModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(vp.instance)}}]}),AddonQbehaviourInformationItemModule})(),Cp=(()=>{var e;class AddonQbehaviourInteractiveCountbackHandlerService{constructor(){this.name="AddonQbehaviourInteractiveCountback",this.type="interactivecountback"}handleQuestion(e){zu.CoreQuestionHelper.extractQbehaviourButtons(e)}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourInteractiveCountbackHandlerService).ɵfac=function AddonQbehaviourInteractiveCountbackHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourInteractiveCountbackHandlerService})();const bp=(0,u.Qd)(Cp);let wp=(()=>{var e;class AddonQbehaviourInteractiveCountbackModule{}return(e=AddonQbehaviourInteractiveCountbackModule).ɵfac=function AddonQbehaviourInteractiveCountbackModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(bp.instance)}}]}),AddonQbehaviourInteractiveCountbackModule})(),Sp=(()=>{var e;class AddonQbehaviourInteractiveHandlerService{constructor(){this.name="AddonQbehaviourInteractive",this.type="interactive"}handleQuestion(e){zu.CoreQuestionHelper.extractQbehaviourButtons(e)}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourInteractiveHandlerService).ɵfac=function AddonQbehaviourInteractiveHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourInteractiveHandlerService})();const Ap=(0,u.Qd)(Sp);let _p=(()=>{var e;class AddonQbehaviourInteractiveModule{}return(e=AddonQbehaviourInteractiveModule).ɵfac=function AddonQbehaviourInteractiveModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(Ap.instance)}}]}),AddonQbehaviourInteractiveModule})(),Ep=(()=>{var e;class AddonQbehaviourManualGradedHandlerService{constructor(){this.name="AddonQbehaviourManualGraded",this.type="manualgraded"}determineNewState(e,n,r,o,i){return tp.determineNewStateDeferred(e,n,r,o,i)}isEnabled(){return(0,s.A)((function*(){return!0}))()}}return(e=AddonQbehaviourManualGradedHandlerService).ɵfac=function AddonQbehaviourManualGradedHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQbehaviourManualGradedHandlerService})();const Ip=(0,u.Qd)(Ep);let Dp=(()=>{var e;class AddonQbehaviourManualGradedModule{}return(e=AddonQbehaviourManualGradedModule).ɵfac=function AddonQbehaviourManualGradedModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Gu.CoreQuestionBehaviourDelegate.registerHandler(Ip.instance)}}]}),AddonQbehaviourManualGradedModule})(),Mp=(()=>{var e;class AddonQbehaviourModule{}return(e=AddonQbehaviourModule).ɵfac=function AddonQbehaviourModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[Ku,Yu,ap,lp,up,gp,yp,wp,_p,Dp]}),AddonQbehaviourModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Mp,{imports:[Ku,Yu,ap,lp,up,gp,yp,wp,_p,Dp]}));var Tp=r(58364);let Pp=(()=>{var e;class AddonQtypeNumericalHandlerService{constructor(){this.name="AddonQtypeNumerical",this.type="qtype_numerical"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeNumericalComponent:e}=yield Promise.all([r.e(1762),r.e(79371)]).then(r.bind(r,79371));return e}))()}hasSeparateUnitField(e){if(!e.parsedSettings){const n=(0,aa.B)(e.html);return!(!n.querySelector("select[name*=unit]")&&!n.querySelector('input[type="radio"]'))}return e.parsedSettings.unitdisplay===AddonQtypeNumericalHandlerService.UNITRADIO||e.parsedSettings.unitdisplay===AddonQtypeNumericalHandlerService.UNITSELECT}isCompleteResponse(e,n){if(!this.isGradableResponse(e,n))return 0;const{answer:r,unit:o}=this.parseAnswer(e,n.answer);return null===r?0:e.parsedSettings?e.parsedSettings.unitdisplay!==AddonQtypeNumericalHandlerService.UNITINPUT&&o||this.hasSeparateUnitField(e)&&!this.isValidValue(n.unit)?0:e.parsedSettings.unitdisplay!==AddonQtypeNumericalHandlerService.UNITINPUT||e.parsedSettings.unitgradingtype!==AddonQtypeNumericalHandlerService.UNITGRADED||this.isValidValue(o)?1:0:this.hasSeparateUnitField(e)?this.isValidValue(n.unit)?1:0:-1}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){return this.isValidValue(n.answer)?1:0}isSameResponse(e,n,r){return Tp.T.sameAtKeyMissingIsBlank(n,r,"answer")&&Tp.T.sameAtKeyMissingIsBlank(n,r,"unit")}isValidValue(e){return!!e||"0"===e||0===e}parseAnswer(e,n){if(!n)return{answer:null,unit:null};let r="[+-]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[-+]?\\d+)?";n=-1!==(n=(n=n.replace(/ /g,"")).replace(/(?:e|E|(?:x|\*|×)10(?:\^|\*\*))([+-]?\d+)/,"e$1")).indexOf(".")||n.split(",").length-1>1?n.replace(",",""):n.replace(",",".");let o=!1,i=null;if(e.parsedSettings&&null!==e.parsedSettings.unitsleft?(o="1"===e.parsedSettings.unitsleft,r=o?`${r}$`:`^${r}`,i=n.match(new RegExp(r))):(i=n.match(new RegExp(`^${r}`)),i||(o=!0,i=n.match(new RegExp(`${r}$`)))),!i)return{answer:null,unit:null};const s=i[0],a=o?n.substring(0,n.length-i[0].length):n.substring(i[0].length);return{answer:Number(s),unit:a}}getValidationError(e,n){if(0===this.isGradableResponse(e,n))return u.HT.instant("addon.qtype_numerical.pleaseenterananswer");const{answer:r,unit:o}=this.parseAnswer(e,n.answer);return null===r?u.HT.instant("addon.qtype_numerical.invalidnumber"):this.hasSeparateUnitField(e)&&!this.isValidValue(n.unit)?u.HT.instant("addon.qtype_numerical.unitnotselected"):e.parsedSettings?e.parsedSettings.unitdisplay!==AddonQtypeNumericalHandlerService.UNITINPUT&&o?u.HT.instant("addon.qtype_numerical.invalidnumbernounit"):e.parsedSettings.unitdisplay!==AddonQtypeNumericalHandlerService.UNITINPUT||e.parsedSettings.unitgradingtype!==AddonQtypeNumericalHandlerService.UNITGRADED||this.isValidValue(o)?void 0:u.HT.instant("addon.qtype_numerical.invalidnumber"):void 0}}return(e=AddonQtypeNumericalHandlerService).UNITINPUT="0",e.UNITRADIO="1",e.UNITSELECT="2",e.UNITNONE="3",e.UNITGRADED="1",e.UNITOPTIONAL="0",e.ɵfac=function AddonQtypeNumericalHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeNumericalHandlerService})();const kp=(0,u.Qd)(Pp);let xp=(()=>{var e;class AddonQtypeCalculatedHandlerService extends Pp{constructor(){super(...arguments),this.name="AddonQtypeCalculated",this.type="qtype_calculated"}}return(e=AddonQtypeCalculatedHandlerService).ɵfac=(()=>{let n;return function AddonQtypeCalculatedHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeCalculatedHandlerService})();const Fp=(0,u.Qd)(xp);let Op=(()=>{var e;class AddonQtypeCalculatedModule{}return(e=AddonQtypeCalculatedModule).ɵfac=function AddonQtypeCalculatedModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Fp.instance)}}]}),AddonQtypeCalculatedModule})(),Rp=(()=>{var e;class AddonQtypeMultichoiceHandlerService{constructor(){this.name="AddonQtypeMultichoice",this.type="qtype_multichoice"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeMultichoiceComponent:e}=yield Promise.all([r.e(1762),r.e(759)]).then(r.bind(r,759));return e}))()}isCompleteResponse(e,n){let r=!0,o=!1;for(const e in n)-1!==e.indexOf("choice")&&(r=!1,Cr.j.isTrueOrOne(n[e])&&(o=!0));return r?this.isCompleteResponseSingle(n):o?1:0}isCompleteResponseSingle(e){return e.answer&&""!==e.answer?1:0}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){return this.isCompleteResponse(e,n)}isGradableResponseSingle(e){return this.isCompleteResponseSingle(e)}isSameResponse(e,n,r){let o=!0,i=!0;for(const e in r)if(-1!==e.indexOf("choice")&&(o=!1,!Tp.T.sameAtKeyMissingIsBlank(n,r,e))){i=!1;break}return o?this.isSameResponseSingle(n,r):i}isSameResponseSingle(e,n){return Tp.T.sameAtKeyMissingIsBlank(e,n,"answer")}prepareAnswers(e,n){e&&!e.multi&&e.optionsName&&void 0!==n[e.optionsName]&&!n[e.optionsName]&&delete n[e.optionsName]}getValidationError(e,n){if(1!==this.isGradableResponse(e,n))return u.HT.instant(e.multi?"addon.qtype_multichoice.pleaseselectatleastoneanswer":"addon.qtype_multichoice.pleaseselectananswer")}}return(e=AddonQtypeMultichoiceHandlerService).ɵfac=function AddonQtypeMultichoiceHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeMultichoiceHandlerService})();const Np=(0,u.Qd)(Rp);let Lp=(()=>{var e;class AddonQtypeCalculatedMultiHandlerService{constructor(){this.name="AddonQtypeCalculatedMulti",this.type="qtype_calculatedmulti"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeMultichoiceComponent:e}=yield Promise.all([r.e(1762),r.e(759)]).then(r.bind(r,759));return e}))()}isCompleteResponse(e,n){return Np.isCompleteResponseSingle(n)}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){return Np.isGradableResponseSingle(n)}isSameResponse(e,n,r){return Np.isSameResponseSingle(n,r)}getValidationError(e,n){return Np.getValidationError(e,n)}}return(e=AddonQtypeCalculatedMultiHandlerService).ɵfac=function AddonQtypeCalculatedMultiHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeCalculatedMultiHandlerService})();const Hp=(0,u.Qd)(Lp);let Up=(()=>{var e;class AddonQtypeCalculatedMultiModule{}return(e=AddonQtypeCalculatedMultiModule).ɵfac=function AddonQtypeCalculatedMultiModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Hp.instance)}}]}),AddonQtypeCalculatedMultiModule})(),Bp=(()=>{var e;class AddonQtypeCalculatedSimpleHandlerService extends Pp{constructor(){super(...arguments),this.name="AddonQtypeCalculatedSimple",this.type="qtype_calculatedsimple"}}return(e=AddonQtypeCalculatedSimpleHandlerService).ɵfac=(()=>{let n;return function AddonQtypeCalculatedSimpleHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeCalculatedSimpleHandlerService})();const $p=(0,u.Qd)(Bp);let jp=(()=>{var e;class AddonQtypeCalculatedSimpleModule{}return(e=AddonQtypeCalculatedSimpleModule).ɵfac=function AddonQtypeCalculatedSimpleModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler($p.instance)}}]}),AddonQtypeCalculatedSimpleModule})(),Vp=(()=>{var e;class AddonQtypeDdImageOrTextHandlerService{constructor(){this.name="AddonQtypeDdImageOrText",this.type="qtype_ddimageortext"}getBehaviour(e,n){return"interactive"===n?"interactivecountback":n}getComponent(){return(0,s.A)((function*(){const{AddonQtypeDdImageOrTextComponent:e}=yield Promise.all([r.e(1762),r.e(16069)]).then(r.bind(r,16069));return e}))()}isCompleteResponse(e,n){for(const e in n){const r=n[e];if(!r||"0"===r)return 0}return 1}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){for(const e in n){const r=n[e];if(r&&"0"!==r)return 1}return 0}isSameResponse(e,n,r){return Ju.CoreQuestion.compareAllAnswers(n,r)}getValidationError(e,n){if(1!==this.isCompleteResponse(e,n))return u.HT.instant("addon.qtype_ddimageortext.pleasedraganimagetoeachdropregion")}}return(e=AddonQtypeDdImageOrTextHandlerService).ɵfac=function AddonQtypeDdImageOrTextHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeDdImageOrTextHandlerService})();const Gp=(0,u.Qd)(Vp);let zp=(()=>{var e;class AddonQtypeDdImageOrTextModule{}return(e=AddonQtypeDdImageOrTextModule).ɵfac=function AddonQtypeDdImageOrTextModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Gp.instance)}}]}),AddonQtypeDdImageOrTextModule})(),qp=(()=>{var e;class AddonQtypeDdMarkerHandlerService{constructor(){this.name="AddonQtypeDdMarker",this.type="qtype_ddmarker"}getBehaviour(e,n){return"interactive"===n?"interactivecountback":n}getComponent(){return(0,s.A)((function*(){const{AddonQtypeDdMarkerComponent:e}=yield Promise.all([r.e(1762),r.e(13550)]).then(r.bind(r,13550));return e}))()}isCompleteResponse(e,n){for(const e in n)if(":sequencecheck"!==e&&n[e])return 1;return 0}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){return this.isCompleteResponse(e,n)}isSameResponse(e,n,r){return Ju.CoreQuestion.compareAllAnswers(n,r)}getAdditionalDownloadableFiles(e,n){const r=e;return zu.CoreQuestionHelper.extractQuestionScripts(r,n),r.amdArgs&&"string"==typeof r.amdArgs[1]?[{fileurl:r.amdArgs[1]}]:[]}getValidationError(e,n){if(1!==this.isCompleteResponse(e,n))return u.HT.instant("addon.qtype_ddmarker.pleasedragatleastonemarker")}}return(e=AddonQtypeDdMarkerHandlerService).ɵfac=function AddonQtypeDdMarkerHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeDdMarkerHandlerService})();const Wp=(0,u.Qd)(qp);let Kp=(()=>{var e;class AddonQtypeDdMarkerModule{}return(e=AddonQtypeDdMarkerModule).ɵfac=function AddonQtypeDdMarkerModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Wp.instance)}}]}),AddonQtypeDdMarkerModule})(),Qp=(()=>{var e;class AddonQtypeGapSelectHandlerService{constructor(){this.name="AddonQtypeGapSelect",this.type="qtype_gapselect"}getBehaviour(e,n){return"interactive"===n?"interactivecountback":n}getComponent(){return(0,s.A)((function*(){const{AddonQtypeGapSelectComponent:e}=yield Promise.all([r.e(1762),r.e(74739)]).then(r.bind(r,74739));return e}))()}isCompleteResponse(e,n){for(const e in n){const r=n[e];if(!r||"0"===r)return 0}return 1}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){for(const e in n){const r=n[e];if(r&&"0"!==r)return 1}return 0}isSameResponse(e,n,r){return Ju.CoreQuestion.compareAllAnswers(n,r)}getValidationError(e,n){if(1!==this.isCompleteResponse(e,n))return u.HT.instant("addon.qtype_gapselect.pleaseputananswerineachbox")}}return(e=AddonQtypeGapSelectHandlerService).ɵfac=function AddonQtypeGapSelectHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeGapSelectHandlerService})();const Xp=(0,u.Qd)(Qp);let Yp=(()=>{var e;class AddonQtypeDdwtosHandlerService extends Qp{constructor(){super(...arguments),this.name="AddonQtypeDdwtos",this.type="qtype_ddwtos"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeDdwtosComponent:e}=yield Promise.all([r.e(1762),r.e(65724)]).then(r.bind(r,65724));return e}))()}}return(e=AddonQtypeDdwtosHandlerService).ɵfac=(()=>{let n;return function AddonQtypeDdwtosHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeDdwtosHandlerService})();const Jp=(0,u.Qd)(Yp);let Zp=(()=>{var e;class AddonQtypeDdwtosModule{}return(e=AddonQtypeDdwtosModule).ɵfac=function AddonQtypeDdwtosModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Jp.instance)}}]}),AddonQtypeDdwtosModule})(),ef=(()=>{var e;class AddonQtypeDescriptionHandlerService{constructor(){this.name="AddonQtypeDescription",this.type="qtype_description"}getBehaviour(){return"informationitem"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeDescriptionComponent:e}=yield Promise.all([r.e(1762),r.e(89123)]).then(r.bind(r,89123));return e}))()}isEnabled(){return(0,s.A)((function*(){return!0}))()}validateSequenceCheck(){return!0}}return(e=AddonQtypeDescriptionHandlerService).ɵfac=function AddonQtypeDescriptionHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeDescriptionHandlerService})();const tf=(0,u.Qd)(ef);let nf=(()=>{var e;class AddonQtypeDescriptionModule{}return(e=AddonQtypeDescriptionModule).ɵfac=function AddonQtypeDescriptionModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(tf.instance)}}]}),AddonQtypeDescriptionModule})(),rf=(()=>{var e;class AddonQtypeEssayHandlerService{constructor(){this.name="AddonQtypeEssay",this.type="qtype_essay"}clearTmpData(e,n,r){const o=Ju.CoreQuestion.getQuestionComponentId(e,r),i=Vi.CoreFileSession.getFiles(n,o);Vi.CoreFileSession.clearFiles(n,o),ji.CoreFileUploader.clearTmpFiles(i)}deleteOfflineData(e,n,r,o){return zu.CoreQuestionHelper.deleteStoredQuestionFiles(e,n,r,o)}getAdditionalDownloadableFiles(e){return e.responsefileareas?e.responsefileareas.reduce(((e,n)=>e.concat(n.files||[])),[]):[]}getAllowedOptions(e){if(e.parsedSettings)return{text:"noinline"!==e.parsedSettings.responseformat,attachments:"0"!==e.parsedSettings.attachments};const n=(0,aa.B)(e.html);return{text:!!n.querySelector("textarea[name*=_answer]"),attachments:!!n.querySelector("div[id*=filemanager]")}}getBehaviour(){return"manualgraded"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeEssayComponent:e}=yield Promise.all([r.e(41450),r.e(1762),r.e(43999)]).then(r.bind(r,43999));return e}))()}getPreventSubmitMessage(e){const n=(0,aa.B)(e.html),r=void 0!==e.responsefileareas;return!r&&n.querySelector("div[id*=filemanager]")?"core.question.errorattachmentsnotsupportedinsite":!r&&zu.CoreQuestionHelper.hasDraftFileUrls(n.innerHTML)?"core.question.errorembeddedfilesnotsupportedinsite":void 0}getValidationError(e,n,r,o,i){return void 0===n.answer?r:n.answer&&1!==this.isCompleteResponse(e,n,o,i)?this.checkInputWordCount(e,n.answer,r):void 0}checkInputWordCount(e,n,r){if(!e.parsedSettings||void 0===e.parsedSettings.maxwordlimit||void 0===e.parsedSettings.minwordlimit)return r;const o=Number(e.parsedSettings.minwordlimit),i=Number(e.parsedSettings.maxwordlimit);if(!i&&!o)return;const s=yr.Ni.countWords(n);return i&&s>i?u.HT.instant("addon.qtype_essay.maxwordlimitboundary",{$a:{limit:i,count:s}}):s<o?u.HT.instant("addon.qtype_essay.minwordlimitboundary",{$a:{limit:o,count:s}}):void 0}isCompleteResponse(e,n,r,o){const i=!!n.answer,s=void 0!==e.responsefileareas,a=this.getAllowedOptions(e);if(i&&this.checkInputWordCount(e,n.answer,void 0))return 0;if(!a.attachments)return i?1:0;if(!s||!e.parsedSettings)return-1;const c=Ju.CoreQuestion.getQuestionComponentId(e,o),u=Vi.CoreFileSession.getFiles(r,c);return a.text?(i||"0"===e.parsedSettings.responserequired)&&u&&u.length>=Number(e.parsedSettings.attachmentsrequired)?1:0:u&&u.length>=Number(e.parsedSettings.attachmentsrequired)?1:0}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n,r,o){if(void 0===e.responsefileareas)return-1;const i=Ju.CoreQuestion.getQuestionComponentId(e,o),s=Vi.CoreFileSession.getFiles(r,i);return n.answer&&""!==n.answer||s&&s.length>0?1:0}isSameResponse(e,n,r,o,i){const s=void 0!==e.responsefileareas,a=this.getAllowedOptions(e),c=!a.text||Tp.T.sameAtKeyMissingIsBlank(n,r,"answer");if(!a.attachments||!s||!c)return c;const u=Ju.CoreQuestion.getQuestionComponentId(e,i),p=Vi.CoreFileSession.getFiles(o,u),f=zu.CoreQuestionHelper.getResponseFileAreaFiles(e,"attachments");return!ji.CoreFileUploader.areFileListDifferent(p,f)}prepareAnswers(e,n,r,o,i,a){var c=this;return(0,s.A)((function*(){const s=(0,aa.B)(e.html),u=s.querySelector(".attachments input[name*=_attachments]"),p=s.querySelector("textarea[name*=_answer]");p&&void 0!==n[p.name]&&(yield c.prepareTextAnswer(e,n,p,a)),u&&(yield c.prepareAttachments(e,n,r,o,i,u,a))}))()}prepareAttachments(e,n,r,o,i,a,c){return(0,s.A)((function*(){const s=Ju.CoreQuestion.getQuestionComponentId(e,i),u=Vi.CoreFileSession.getFiles(o,s),p=Number(a.value);if(r){const r=Ju.CoreQuestion.getQuestionFolder(e.type,o,s,c),i=yield ji.CoreFileUploader.storeFilesToUpload(r,u);n[`${a.name}_offline`]=JSON.stringify(i)}else{const n=zu.CoreQuestionHelper.getResponseFileAreaFiles(e,"attachments"),r=ji.CoreFileUploader.getFilesToDelete(n,u);r.length>0&&(yield ji.CoreFileUploader.deleteDraftFiles(p,r,c)),yield ji.CoreFileUploader.uploadFiles(p,u,c)}}))()}prepareSyncData(e,n,r,o,i){return(0,s.A)((function*(){const s=(0,aa.B)(e.html).querySelector(".attachments input[name*=_attachments]");if(s&&(n.attachments=s.value),!n||!n.attachments_offline)return;const a=yr.Ni.parseJSON(n.attachments_offline,{online:[],offline:0});delete n.attachments_offline;const c=zu.CoreQuestionHelper.getResponseFileAreaFiles(e,"attachments"),u=ji.CoreFileUploader.getFilesToDelete(c,a.online);if(u.length>0&&(yield ji.CoreFileUploader.deleteDraftFiles(Number(n.attachments),u,i)),!a.offline)return;const p=yield zu.CoreQuestionHelper.getStoredQuestionFiles(e,r,o,i);yield ji.CoreFileUploader.uploadFiles(Number(n.attachments),[...a.online,...p],i)}))()}prepareTextAnswer(e,n,r,o){return(0,s.A)((function*(){if(zu.CoreQuestionHelper.hasDraftFileUrls(e.html)&&e.responsefileareas){const i=yield fe.CoreSites.getSite(o);n[r.name]=cr.CoreFileHelper.restoreDraftfileUrls(i.getURL(),n[r.name],e.html,zu.CoreQuestionHelper.getResponseFileAreaFiles(e,"answer"))}let i=!1;if(void 0!==e.isPlainText)i=e.isPlainText;else if(e.parsedSettings)i="monospaced"===e.parsedSettings.responseformat||"plain"===e.parsedSettings.responseformat;else{const n=(0,aa.B)(e.html);i=!!n.querySelector(".qtype_essay_monospaced")||!!n.querySelector(".qtype_essay_plain")}i||(n[r.name]=yr.Ni.formatHtmlLines(n[r.name]||""))}))()}}return(e=AddonQtypeEssayHandlerService).ɵfac=function AddonQtypeEssayHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeEssayHandlerService})();const sf=(0,u.Qd)(rf);let af=(()=>{var e;class AddonQtypeEssayModule{}return(e=AddonQtypeEssayModule).ɵfac=function AddonQtypeEssayModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(sf.instance)}}]}),AddonQtypeEssayModule})(),lf=(()=>{var e;class AddonQtypeGapSelectModule{}return(e=AddonQtypeGapSelectModule).ɵfac=function AddonQtypeGapSelectModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Xp.instance)}}]}),AddonQtypeGapSelectModule})(),df=(()=>{var e;class AddonQtypeMatchHandlerService{constructor(){this.name="AddonQtypeMatch",this.type="qtype_match"}getBehaviour(e,n){return"interactive"===n?"interactivecountback":n}getComponent(){return(0,s.A)((function*(){const{AddonQtypeMatchComponent:e}=yield Promise.all([r.e(1762),r.e(59219)]).then(r.bind(r,59219));return e}))()}isCompleteResponse(e,n){for(const e in n){const r=n[e];if(!r||"0"===r)return 0}return 1}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){for(const e in n){const r=n[e];if(r&&"0"!==r)return 1}return 0}isSameResponse(e,n,r){return Ju.CoreQuestion.compareAllAnswers(n,r)}getValidationError(e,n){if(1!==this.isCompleteResponse(e,n))return u.HT.instant("addon.qtype_match.pleaseananswerallparts")}}return(e=AddonQtypeMatchHandlerService).ɵfac=function AddonQtypeMatchHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeMatchHandlerService})();const cf=(0,u.Qd)(df);let uf=(()=>{var e;class AddonQtypeMatchModule{}return(e=AddonQtypeMatchModule).ɵfac=function AddonQtypeMatchModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(cf.instance)}}]}),AddonQtypeMatchModule})(),pf=(()=>{var e;class AddonQtypeMultiAnswerHandlerService{constructor(){this.name="AddonQtypeMultiAnswer",this.type="qtype_multianswer"}getBehaviour(e,n){return"interactive"===n?"interactivecountback":n}getComponent(){return(0,s.A)((function*(){const{AddonQtypeMultiAnswerComponent:e}=yield Promise.all([r.e(1762),r.e(33375)]).then(r.bind(r,33375));return e}))()}isCompleteResponse(e,n){const r=Ju.CoreQuestion.getBasicAnswers(zu.CoreQuestionHelper.getAllInputNamesFromHtml(e.html||""));for(const e in r){if(!n[e])return 0}return 1}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){for(const e in n){const r=n[e];if(r||!1===r)return 1}return 0}isSameResponse(e,n,r){return Ju.CoreQuestion.compareAllAnswers(n,r)}validateSequenceCheck(e,n){const r=Number(n);return e.sequencecheck===r||2===e.sequencecheck&&"todo"===e.state&&1===r}getValidationError(e,n){if(1!==this.isCompleteResponse(e,n))return u.HT.instant("addon.qtype_multianswer.pleaseananswerallparts")}}return(e=AddonQtypeMultiAnswerHandlerService).ɵfac=function AddonQtypeMultiAnswerHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeMultiAnswerHandlerService})();const ff=(0,u.Qd)(pf);let gf=(()=>{var e;class AddonQtypeMultiAnswerModule{}return(e=AddonQtypeMultiAnswerModule).ɵfac=function AddonQtypeMultiAnswerModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(ff.instance)}}]}),AddonQtypeMultiAnswerModule})(),mf=(()=>{var e;class AddonQtypeMultichoiceModule{}return(e=AddonQtypeMultichoiceModule).ɵfac=function AddonQtypeMultichoiceModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Np.instance)}}]}),AddonQtypeMultichoiceModule})(),hf=(()=>{var e;class AddonQtypeNumericalModule{}return(e=AddonQtypeNumericalModule).ɵfac=function AddonQtypeNumericalModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(kp.instance)}}]}),AddonQtypeNumericalModule})(),vf=(()=>{var e;class AddonQtypeOrderingHandlerService{constructor(){this.name="AddonQtypeOrdering",this.type="qtype_ordering"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeOrderingComponent:e}=yield Promise.all([r.e(1762),r.e(99965)]).then(r.bind(r,99965));return e}))()}isCompleteResponse(){return 1}isEnabled(){return(0,s.A)((function*(){var e;return!(null===(e=fe.CoreSites.getCurrentSite())||void 0===e||!e.isVersionGreaterEqualThan("4.4"))}))()}isGradableResponse(){return 1}isSameResponse(e,n,r){return Ju.CoreQuestion.compareAllAnswers(n,r)}}return(e=AddonQtypeOrderingHandlerService).ɵfac=function AddonQtypeOrderingHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeOrderingHandlerService})();const yf=(0,u.Qd)(vf);let Cf=(()=>{var e;class AddonQtypeOrderingModule{}return(e=AddonQtypeOrderingModule).ɵfac=function AddonQtypeOrderingModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(yf.instance)}}]}),AddonQtypeOrderingModule})(),bf=(()=>{var e;class AddonQtypeRandomSaMatchHandlerService extends df{constructor(){super(...arguments),this.name="AddonQtypeRandomSaMatch",this.type="qtype_randomsamatch"}}return(e=AddonQtypeRandomSaMatchHandlerService).ɵfac=(()=>{let n;return function AddonQtypeRandomSaMatchHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeRandomSaMatchHandlerService})();const wf=(0,u.Qd)(bf);let Sf=(()=>{var e;class AddonQtypeRandomSaMatchModule{}return(e=AddonQtypeRandomSaMatchModule).ɵfac=function AddonQtypeRandomSaMatchModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(wf.instance)}}]}),AddonQtypeRandomSaMatchModule})(),Af=(()=>{var e;class AddonQtypeShortAnswerHandlerService{constructor(){this.name="AddonQtypeShortAnswer",this.type="qtype_shortanswer"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeShortAnswerComponent:e}=yield Promise.all([r.e(1762),r.e(8315)]).then(r.bind(r,8315));return e}))()}isCompleteResponse(e,n){return n.answer?1:0}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){return this.isCompleteResponse(e,n)}isSameResponse(e,n,r){return Tp.T.sameAtKeyMissingIsBlank(n,r,"answer")}getValidationError(e,n){if(1!==this.isGradableResponse(e,n))return u.HT.instant("addon.qtype_shortanswer.pleaseenterananswer")}}return(e=AddonQtypeShortAnswerHandlerService).ɵfac=function AddonQtypeShortAnswerHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeShortAnswerHandlerService})();const _f=(0,u.Qd)(Af);let Ef=(()=>{var e;class AddonQtypeShortAnswerModule{}return(e=AddonQtypeShortAnswerModule).ɵfac=function AddonQtypeShortAnswerModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(_f.instance)}}]}),AddonQtypeShortAnswerModule})(),If=(()=>{var e;class AddonQtypeTrueFalseHandlerService{constructor(){this.name="AddonQtypeTrueFalse",this.type="qtype_truefalse"}getComponent(){return(0,s.A)((function*(){const{AddonQtypeMultichoiceComponent:e}=yield Promise.all([r.e(1762),r.e(759)]).then(r.bind(r,759));return e}))()}isCompleteResponse(e,n){return n.answer?1:0}isEnabled(){return(0,s.A)((function*(){return!0}))()}isGradableResponse(e,n){return this.isCompleteResponse(e,n)}isSameResponse(e,n,r){return Tp.T.sameAtKeyMissingIsBlank(n,r,"answer")}prepareAnswers(e,n){e&&e.optionsName&&void 0!==n[e.optionsName]&&!n[e.optionsName]&&delete n[e.optionsName]}getValidationError(e,n){if(1!==this.isGradableResponse(e,n))return u.HT.instant("addon.qtype_truefalse.pleaseselectananswer")}}return(e=AddonQtypeTrueFalseHandlerService).ɵfac=function AddonQtypeTrueFalseHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonQtypeTrueFalseHandlerService})();const Df=(0,u.Qd)(If);let Mf=(()=>{var e;class AddonQtypeTrueFalseModule{}return(e=AddonQtypeTrueFalseModule).ɵfac=function AddonQtypeTrueFalseModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zu.CoreQuestionDelegate.registerHandler(Df.instance)}}]}),AddonQtypeTrueFalseModule})(),Tf=(()=>{var e;class AddonQtypeModule{}return(e=AddonQtypeModule).ɵfac=function AddonQtypeModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[Op,Up,jp,zp,Kp,Zp,nf,af,lf,uf,gf,mf,hf,Cf,Sf,Ef,Mf]}),AddonQtypeModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Tf,{imports:[Op,Up,jp,zp,Kp,Zp,nf,af,lf,uf,gf,mf,hf,Cf,Sf,Ef,Mf]}));var Pf=r(79118),kf=r(99121);const xf="mmaRemoteStyles";let Ff=(()=>{var e;class AddonRemoteThemesHandlerService{constructor(){this.name="mobilecssurl",this.priority=1e3,this.logger=b.CoreLogger.getInstance("AddonRemoteThemes")}isEnabled(e,n){return(0,s.A)((function*(){return!0}))()}getStyle(e,n){var r=this;return(0,s.A)((function*(){if(e===Pf.CoreStylesService.TMP_SITE_ID)return n?r.getRemoteStyles(n.mobilecssurl):"";const o=(yield fe.CoreSites.getSite(e)).getInfo();if(null==o||!o.mobilecssurl)return""===(null==o?void 0:o.mobilecssurl)&&qt.CoreFilepool.removeFilesByComponent(e,xf,1),"";const i=yield r.downloadFileAndRemoveOld(e,o.mobilecssurl);r.logger.debug("Loading styles from: ",i);const s=yield r.getRemoteStyles(i);return""!=s&&xr.g.ignoreErrors(qt.CoreFilepool.treatCSSCode(e,o.mobilecssurl,s,xf,1)),s}))()}getRemoteStyles(e){return(0,s.A)((function*(){return e?kf.CoreWS.getText(e):""}))()}downloadFileAndRemoveOld(e,n){return(0,s.A)((function*(){try{(yield qt.CoreFilepool.getFileStateByUrl(e,n))===i.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED&&(yield qt.CoreFilepool.removeFilesByComponent(e,xf,1))}catch{}return qt.CoreFilepool.downloadUrl(e,n,!1,xf,1)}))()}}return(e=AddonRemoteThemesHandlerService).ɵfac=function AddonRemoteThemesHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonRemoteThemesHandlerService})();const Of=(0,u.Qd)(Ff);let Rf=(()=>{var e;class AddonRemoteThemesModule{}return(e=AddonRemoteThemesModule).ɵfac=function AddonRemoteThemesModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Pf.CoreStyles.registerStyleHandler(Of.instance)}}]}),AddonRemoteThemesModule})(),Nf=(()=>{var e;class AddonReportInsightsService{canSendActionInSite(e){var n=this;return(0,s.A)((function*(){const r=yield fe.CoreSites.getSite(e);return n.canSendAction(r)}))()}canSendAction(e){var n;return!(null===(n=e=e||fe.CoreSites.getCurrentSite())||void 0===n||!n.wsAvailable("report_insights_action_executed"))}sendActionExecuted(e,n,r){return(0,s.A)((function*(){var o;const i=yield fe.CoreSites.getSite(r),s={actionname:e,predictionids:n},a=yield i.write("report_insights_action_executed",s);if(null!==(o=a.warnings)&&void 0!==o&&o.length)throw new En.CoreWSError(a.warnings[0])}))()}}return(e=AddonReportInsightsService).ɵfac=function AddonReportInsightsService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonReportInsightsService})();const Lf=(0,u.Qd)(Nf);var Hf=r(47551);const Uf={fixed:"addon.report_insights.fixedack",incorrectlyflagged:"addon.report_insights.incorrectlyflagged",notapplicable:"addon.report_insights.notapplicable",notuseful:"addon.report_insights.notuseful",useful:"addon.report_insights.useful"};let Bf=(()=>{var e;class AddonReportInsightsActionLinkHandlerService extends Xt.CoreContentLinksHandlerBase{constructor(){super(...arguments),this.name="AddonReportInsightsActionLinkHandler",this.pattern=/\/report\/insights\/action\.php/}getActions(e,n,r){return[{action:(o=(0,s.A)((function*(e){const n=yield _n.CoreLoadings.show("core.sending",!0);try{yield Lf.sendActionExecuted(r.action,[Number(r.predictionid)],e)}catch(e){return Nn.CoreAlerts.showError(e),void 0}finally{n.dismiss()}if(Uf[r.action])Hf.CoreToasts.show({message:u.HT.instant("addon.report_insights.actionsaved",{$a:u.HT.instant(Uf[r.action])})});else if(r.forwardurl){const n=decodeURIComponent(r.forwardurl);yield pu.CoreContentLinksHelper.visitLink(n,{siteId:e})}else Hf.CoreToasts.show({message:"core.success",translateMessage:!0})})),function action(e){return o.apply(this,arguments)})}];var o}isEnabled(e,n,r){return(0,s.A)((function*(){return!(!r.action||!r.predictionid)&&Lf.canSendActionInSite(e)}))()}}return(e=AddonReportInsightsActionLinkHandlerService).ɵfac=(()=>{let n;return function AddonReportInsightsActionLinkHandlerService_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonReportInsightsActionLinkHandlerService})();const $f=(0,u.Qd)(Bf);let jf=(()=>{var e;class AddonReportInsightsModule{}return(e=AddonReportInsightsModule).ɵfac=function AddonReportInsightsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Nt.CoreContentLinksDelegate.registerHandler($f.instance)}}]}),AddonReportInsightsModule})(),Vf=(()=>{var e;class AddonReportModule{}return(e=AddonReportModule).ɵfac=function AddonReportModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[jf]}),AddonReportModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Vf,{imports:[jf]}));var Gf=r(49450),zf=r(63196),qf=r(26556);let Wf=(()=>{var e;class AddonStorageManagerSettingsHandlerService{constructor(){this.name="AddonStorageManager",this.priority=400}isEnabled(){return(0,s.A)((function*(){return!0}))()}getDisplayData(){return{icon:"fas-box-archive",title:"addon.storagemanager.managedownloads",page:qf.P,class:"addon-storagemanager-settings-handler"}}}return(e=AddonStorageManagerSettingsHandlerService).ɵfac=function AddonStorageManagerSettingsHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonStorageManagerSettingsHandlerService})();const Kf=(0,u.Qd)(Wf),Qf=[{path:qf.P,loadComponent:()=>r.e(60981).then(r.bind(r,60981))},{path:`${qf.P}/:courseId`,loadComponent:()=>r.e(68833).then(r.bind(r,68833))}];let Xf=(()=>{var e;class AddonStorageManagerModule{}return(e=AddonStorageManagerModule).ɵfac=function AddonStorageManagerModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{zf.CoreSettingsDelegate.registerHandler(Kf.instance)}}],imports:[Bt.b.forChild(Qf),Gf.h.forChild(Qf)]}),AddonStorageManagerModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(Xf,{imports:[Bt.b,Gf.h]}));let Yf=(()=>{var e;class AddonUserProfileFieldCheckboxHandlerService{constructor(){this.name="AddonUserProfileFieldCheckbox",this.type="checkbox"}isEnabled(){return(0,s.A)((function*(){return!0}))()}getData(e,n,r,o){return(0,s.A)((function*(){const n=`profile_field_${e.shortname}`;if(void 0!==o[n])return{type:"checkbox",name:n,value:o[n]?1:0}}))()}getComponent(){return(0,s.A)((function*(){const{AddonUserProfileFieldCheckboxComponent:e}=yield Promise.all([r.e(72076),r.e(76142)]).then(r.bind(r,76142));return e}))()}}return(e=AddonUserProfileFieldCheckboxHandlerService).ɵfac=function AddonUserProfileFieldCheckboxHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonUserProfileFieldCheckboxHandlerService})();const Jf=(0,u.Qd)(Yf);var Zf=r(999);let eg=(()=>{var e;class AddonUserProfileFieldCheckboxModule{}return(e=AddonUserProfileFieldCheckboxModule).ɵfac=function AddonUserProfileFieldCheckboxModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zf.CoreUserProfileFieldDelegate.registerHandler(Jf.instance)}}]}),AddonUserProfileFieldCheckboxModule})();var tg=r(94339);let ng=(()=>{var e;class AddonUserProfileFieldDatetimeHandlerService{constructor(){this.name="AddonUserProfileFieldDatetime",this.type="datetime"}isEnabled(){return(0,s.A)((function*(){return!0}))()}getData(e,n,r,o){return(0,s.A)((function*(){const n=`profile_field_${e.shortname}`;if(o[n])return{type:"datetime",name:`profile_field_${e.shortname}`,value:(0,tg.yf)(o[n]).unix()}}))()}getComponent(){return(0,s.A)((function*(){const{AddonUserProfileFieldDatetimeComponent:e}=yield Promise.all([r.e(72076),r.e(12722)]).then(r.bind(r,12722));return e}))()}}return(e=AddonUserProfileFieldDatetimeHandlerService).ɵfac=function AddonUserProfileFieldDatetimeHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonUserProfileFieldDatetimeHandlerService})();const rg=(0,u.Qd)(ng);let og=(()=>{var e;class AddonUserProfileFieldDatetimeModule{}return(e=AddonUserProfileFieldDatetimeModule).ɵfac=function AddonUserProfileFieldDatetimeModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zf.CoreUserProfileFieldDelegate.registerHandler(rg.instance)}}]}),AddonUserProfileFieldDatetimeModule})(),ig=(()=>{var e;class AddonUserProfileFieldMenuHandlerService{constructor(){this.name="AddonUserProfileFieldMenu",this.type="menu"}isEnabled(){return(0,s.A)((function*(){return!0}))()}getData(e,n,r,o){return(0,s.A)((function*(){const n=`profile_field_${e.shortname}`;if(o[n])return{type:"menu",name:n,value:o[n]}}))()}getComponent(){return(0,s.A)((function*(){const{AddonUserProfileFieldMenuComponent:e}=yield Promise.all([r.e(72076),r.e(31022)]).then(r.bind(r,31022));return e}))()}}return(e=AddonUserProfileFieldMenuHandlerService).ɵfac=function AddonUserProfileFieldMenuHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonUserProfileFieldMenuHandlerService})();const sg=(0,u.Qd)(ig);let ag=(()=>{var e;class AddonUserProfileFieldMenuModule{}return(e=AddonUserProfileFieldMenuModule).ɵfac=function AddonUserProfileFieldMenuModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zf.CoreUserProfileFieldDelegate.registerHandler(sg.instance)}}]}),AddonUserProfileFieldMenuModule})(),lg=(()=>{var e;class AddonUserProfileFieldSocialHandlerService{constructor(){this.name="AddonUserProfileFieldSocial",this.type="social"}isEnabled(){return(0,s.A)((function*(){return!0}))()}getData(e,n,r,o){return(0,s.A)((function*(){const n=`profile_field_${e.shortname}`;return{type:"social",name:n,value:yr.Ni.cleanTags(o[n])}}))()}getComponent(){return(0,s.A)((function*(){const{AddonUserProfileFieldSocialComponent:e}=yield Promise.all([r.e(72076),r.e(98598)]).then(r.bind(r,98598));return e}))()}}return(e=AddonUserProfileFieldSocialHandlerService).ɵfac=function AddonUserProfileFieldSocialHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonUserProfileFieldSocialHandlerService})();const dg=(0,u.Qd)(lg);let cg=(()=>{var e;class AddonUserProfileFieldSocialModule{}return(e=AddonUserProfileFieldSocialModule).ɵfac=function AddonUserProfileFieldSocialModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zf.CoreUserProfileFieldDelegate.registerHandler(dg.instance)}}]}),AddonUserProfileFieldSocialModule})(),ug=(()=>{var e;class AddonUserProfileFieldTextareaHandlerService{constructor(){this.name="AddonUserProfileFieldTextarea",this.type="textarea"}isEnabled(){return(0,s.A)((function*(){return!0}))()}getData(e,n,r,o){return(0,s.A)((function*(){const n=`profile_field_${e.shortname}`;if(o[n]){let e=o[n]||"";return e=yr.Ni.formatHtmlLines(e),{type:"textarea",name:n,value:JSON.stringify({text:e,format:yr.C9})}}}))()}getComponent(){return(0,s.A)((function*(){const{AddonUserProfileFieldTextareaComponent:e}=yield Promise.all([r.e(41450),r.e(72076),r.e(55584)]).then(r.bind(r,55584));return e}))()}}return(e=AddonUserProfileFieldTextareaHandlerService).ɵfac=function AddonUserProfileFieldTextareaHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonUserProfileFieldTextareaHandlerService})();const pg=(0,u.Qd)(ug);let fg=(()=>{var e;class AddonUserProfileFieldTextareaModule{}return(e=AddonUserProfileFieldTextareaModule).ɵfac=function AddonUserProfileFieldTextareaModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zf.CoreUserProfileFieldDelegate.registerHandler(pg.instance)}}]}),AddonUserProfileFieldTextareaModule})(),gg=(()=>{var e;class AddonUserProfileFieldTextHandlerService{constructor(){this.name="AddonUserProfileFieldText",this.type="text"}isEnabled(){return(0,s.A)((function*(){return!0}))()}getData(e,n,r,o){return(0,s.A)((function*(){const n=`profile_field_${e.shortname}`;return{type:"text",name:n,value:yr.Ni.cleanTags(o[n])}}))()}getComponent(){return(0,s.A)((function*(){const{AddonUserProfileFieldTextComponent:e}=yield Promise.all([r.e(72076),r.e(44158)]).then(r.bind(r,44158));return e}))()}}return(e=AddonUserProfileFieldTextHandlerService).ɵfac=function AddonUserProfileFieldTextHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonUserProfileFieldTextHandlerService})();const mg=(0,u.Qd)(gg);let hg=(()=>{var e;class AddonUserProfileFieldTextModule{}return(e=AddonUserProfileFieldTextModule).ɵfac=function AddonUserProfileFieldTextModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[{provide:o.hnV,multi:!0,useValue:()=>{Zf.CoreUserProfileFieldDelegate.registerHandler(mg.instance)}}]}),AddonUserProfileFieldTextModule})(),vg=(()=>{var e;class AddonUserProfileFieldModule{}return(e=AddonUserProfileFieldModule).ɵfac=function AddonUserProfileFieldModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[eg,og,ag,cg,fg,hg]}),AddonUserProfileFieldModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(vg,{imports:[eg,og,ag,cg,fg,hg]}));let yg=(()=>{var e;class AddonsModule{}return(e=AddonsModule).ɵfac=function AddonsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({imports:[U.j,Rt,mn,hn.d,vn.S,yn.O,Bn,to,no.$,ro.B,Bu,$u.C,ju.J,Vu.x,Mp,Tf,Rf,Vf,Xf,vg]}),AddonsModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&o.Obh(yg,{imports:[U.j,Rt,mn,hn.d,vn.S,yn.O,Bn,to,no.$,ro.B,Bu,$u.C,ju.J,Vu.x,Mp,Tf,Rf,Vf,Xf,vg]}));var Cg=r(57200),bg=r(99842);class TranslateHttpLoader{constructor(e,n="/assets/i18n/",r=".json"){(0,bg.A)(this,"http",void 0),(0,bg.A)(this,"prefix",void 0),(0,bg.A)(this,"suffix",void 0),this.http=e,this.prefix=n,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}var wg=r(21626),Sg=r(90617);const shadow=e=>e.shadowRoot||e;var Ag=r(345),_g=r(49969);const Eg="\n - ";function invalidTimingValue(e){return new o.wOt(3e3,ngDevMode&&`The provided timing value "${e}" is invalid.`)}const Ig=new Set(["-moz-outline-radius","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-ms-grid-columns","-ms-grid-rows","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke","-webkit-text-stroke-color","accent-color","all","backdrop-filter","background","background-color","background-position","background-size","block-size","border","border-block-end","border-block-end-color","border-block-end-width","border-block-start","border-block-start-color","border-block-start-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-color","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-slice","border-image-width","border-inline-end","border-inline-end-color","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-width","border-left","border-left-color","border-left-width","border-radius","border-right","border-right-color","border-right-width","border-start-end-radius","border-start-start-radius","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-width","border-width","bottom","box-shadow","caret-color","clip","clip-path","color","column-count","column-gap","column-rule","column-rule-color","column-rule-width","column-width","columns","filter","flex","flex-basis","flex-grow","flex-shrink","font","font-size","font-size-adjust","font-stretch","font-variation-settings","font-weight","gap","grid-column-gap","grid-gap","grid-row-gap","grid-template-columns","grid-template-rows","height","inline-size","input-security","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","left","letter-spacing","line-clamp","line-height","margin","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","mask","mask-border","mask-position","mask-size","max-block-size","max-height","max-inline-size","max-lines","max-width","min-block-size","min-height","min-inline-size","min-width","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","outline","outline-color","outline-offset","outline-width","padding","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","perspective","perspective-origin","right","rotate","row-gap","scale","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-coordinate","scroll-snap-destination","scrollbar-color","shape-image-threshold","shape-margin","shape-outside","tab-size","text-decoration","text-decoration-color","text-decoration-thickness","text-emphasis","text-emphasis-color","text-indent","text-shadow","text-underline-offset","top","transform","transform-origin","translate","vertical-align","visibility","width","word-spacing","z-index","zoom"]);function optimizeGroupPlayer(e){switch(e.length){case 0:return new _g.sf;case 1:return e[0];default:return new _g.ui(e)}}function normalizeKeyframes$1(e,n,r=new Map,i=new Map){const s=[],a=[];let c=-1,u=null;if(n.forEach((n=>{const o=n.get("offset"),p=o==c,f=p&&u||new Map;n.forEach(((n,o)=>{let a=o,c=n;if("offset"!==o)switch(a=e.normalizePropertyName(a,s),c){case _g.FX:c=r.get(o);break;case _g.kp:c=i.get(o);break;default:c=e.normalizeStyleValue(o,a,c,s)}f.set(a,c)})),p||a.push(f),u=f,c=o})),s.length)throw function animationFailed(e){return new o.wOt(3502,ngDevMode&&`Unable to animate due to the following errors:${Eg}${e.map((e=>e.message)).join(Eg)}`)}(s);return a}function listenOnPlayer(e,n,r,o){switch(n){case"start":e.onStart((()=>o(r&&copyAnimationEvent(r,"start",e))));break;case"done":e.onDone((()=>o(r&&copyAnimationEvent(r,"done",e))));break;case"destroy":e.onDestroy((()=>o(r&&copyAnimationEvent(r,"destroy",e))))}}function copyAnimationEvent(e,n,r){const o=r.totalTime,i=makeAnimationEvent(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,null==o?e.totalTime:o,!!r.disabled),s=e._data;return null!=s&&(i._data=s),i}function makeAnimationEvent(e,n,r,o,i="",s=0,a){return{element:e,triggerName:n,fromState:r,toState:o,phaseName:i,totalTime:s,disabled:!!a}}function getOrSetDefaultValue(e,n,r){let o=e.get(n);return o||e.set(n,o=r),o}function parseTimelineCommand(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const Dg=(()=>"undefined"==typeof document?null:document.documentElement)();function getParentElement(e){const n=e.parentNode||e.host||null;return n===Dg?null:n}let Mg=null,Tg=!1;function validateStyleProperty(e){Mg||(Mg=function getBodyNode(){if("undefined"!=typeof document)return document.body;return null}()||{},Tg=!!Mg.style&&"WebkitAppearance"in Mg.style);let n=!0;if(Mg.style&&!function containsVendorPrefix(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Mg.style,!n&&Tg)){n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Mg.style}return n}function containsElement(e,n){for(;n;){if(n===e)return!0;n=getParentElement(n)}return!1}function invokeQuery(e,n,r){if(r)return Array.from(e.querySelectorAll(n));const o=e.querySelector(n);return o?[o]:[]}let Pg=(()=>{var e;class NoopAnimationDriver{validateStyleProperty(e){return validateStyleProperty(e)}matchesElement(e,n){return!1}containsElement(e,n){return containsElement(e,n)}getParentElement(e){return getParentElement(e)}query(e,n,r){return invokeQuery(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,i,s=[],a){return new _g.sf(r,o)}}return(e=NoopAnimationDriver).ɵfac=function _NoopAnimationDriver_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),NoopAnimationDriver})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class AnimationDriver{}AnimationDriver.NOOP=new Pg;class AnimationStyleNormalizer{}const kg="ng-enter",xg="ng-leave",Fg="ng-trigger",Og=".ng-trigger",Rg="ng-animating",Ng=".ng-animating";function resolveTimingValue(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:_convertTimeValueToMS(parseFloat(n[1]),n[2])}function _convertTimeValueToMS(e,n){return"s"===n?1e3*e:e}function resolveTiming(e,n,r){return e.hasOwnProperty("duration")?e:function parseTimeExpression(e,n,r){const i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let s,a=0,c="";if("string"==typeof e){const r=e.match(i);if(null===r)return n.push(invalidTimingValue(e)),{duration:0,delay:0,easing:""};s=_convertTimeValueToMS(parseFloat(r[1]),r[2]);const o=r[3];null!=o&&(a=_convertTimeValueToMS(parseFloat(o),r[4]));const u=r[5];u&&(c=u)}else s=e;if(!r){let r=!1,i=n.length;s<0&&(n.push(function negativeStepValue(){return new o.wOt(3100,ngDevMode&&"Duration values below 0 are not allowed for this animation step.")}()),r=!0),a<0&&(n.push(function negativeDelayValue(){return new o.wOt(3101,ngDevMode&&"Delay values below 0 are not allowed for this animation step.")}()),r=!0),r&&n.splice(i,0,invalidTimingValue(e))}return{duration:s,delay:a,easing:c}}(e,n,r)}function setStyles(e,n,r){n.forEach(((n,o)=>{const i=dashCaseToCamelCase(o);r&&!r.has(o)&&r.set(o,e.style[i]),e.style[i]=n}))}function eraseStyles(e,n){n.forEach(((n,r)=>{const o=dashCaseToCamelCase(r);e.style[o]=""}))}function normalizeAnimationEntry(e){return Array.isArray(e)?1==e.length?e[0]:(0,_g.K2)(e):e}function validateStyleParams(e,n,r){const i=n.params||{},s=extractStyleParams(e);s.length&&s.forEach((e=>{i.hasOwnProperty(e)||r.push(function invalidStyleParams(e){return new o.wOt(3001,ngDevMode&&`Unable to resolve the local animation param ${e} in the given list of values`)}(e))}))}const Lg=new RegExp("{{\\s*(.+?)\\s*}}","g");function extractStyleParams(e){let n=[];if("string"==typeof e){let r;for(;r=Lg.exec(e);)n.push(r[1]);Lg.lastIndex=0}return n}function interpolateParams(e,n,r){const i=`${e}`,s=i.replace(Lg,((e,i)=>{let s=n[i];return null==s&&(r.push(function invalidParamValue(e){return new o.wOt(3003,ngDevMode&&`Please provide a value for the animation param ${e}`)}(i)),s=""),s.toString()}));return s==i?e:s}const Hg=/-+([a-z0-9])/g;function dashCaseToCamelCase(e){return e.replace(Hg,((...e)=>e[1].toUpperCase()))}function visitDslNode(e,n,r){switch(n.type){case _g.If.Trigger:return e.visitTrigger(n,r);case _g.If.State:return e.visitState(n,r);case _g.If.Transition:return e.visitTransition(n,r);case _g.If.Sequence:return e.visitSequence(n,r);case _g.If.Group:return e.visitGroup(n,r);case _g.If.Animate:return e.visitAnimate(n,r);case _g.If.Keyframes:return e.visitKeyframes(n,r);case _g.If.Style:return e.visitStyle(n,r);case _g.If.Reference:return e.visitReference(n,r);case _g.If.AnimateChild:return e.visitAnimateChild(n,r);case _g.If.AnimateRef:return e.visitAnimateRef(n,r);case _g.If.Query:return e.visitQuery(n,r);case _g.If.Stagger:return e.visitStagger(n,r);default:throw function invalidNodeType(e){return new o.wOt(3004,ngDevMode&&`Unable to resolve animation metadata node #${e}`)}(n.type)}}function computeStyle(e,n){return window.getComputedStyle(e)[n]}const Ug=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WebAnimationsStyleNormalizer extends AnimationStyleNormalizer{normalizePropertyName(e,n){return dashCaseToCamelCase(e)}normalizeStyleValue(e,n,r,i){let s="";const a=r.toString().trim();if(Ug.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const n=r.match(/^[+-]?[\d\.]+([a-z]*)$/);n&&0==n[1].length&&i.push(function invalidCssUnitValue(e,n){return new o.wOt(3005,ngDevMode&&`Please provide a CSS unit value for ${e}:${n}`)}(e,r))}return a+s}}function createListOfWarnings(e){const n="\n - ";return`${n}${e.filter(Boolean).map((e=>e)).join(n)}`}const Bg="*";function parseTransitionExpr(e,n){const r=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((e=>function parseInnerTransitionStr(e,n,r){if(":"==e[0]){const i=function parseAnimationAlias(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return n.push(function invalidTransitionAlias(e){return new o.wOt(3016,ngDevMode&&`The transition alias value "${e}" is not supported`)}(e)),"* => *"}}(e,r);if("function"==typeof i)return n.push(i),void 0;e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return r.push(function invalidExpression(e){return new o.wOt(3015,ngDevMode&&`The provided transition expression "${e}" is not supported`)}(e)),n;const s=i[1],a=i[2],c=i[3];n.push(makeLambdaFromStates(s,c));const u=s==Bg&&c==Bg;"<"!=a[0]||u||n.push(makeLambdaFromStates(c,s));return}(e,r,n))):r.push(e),r}const $g=new Set(["true","1"]),jg=new Set(["false","0"]);function makeLambdaFromStates(e,n){const r=$g.has(e)||jg.has(e),o=$g.has(n)||jg.has(n);return(i,s)=>{let a=e==Bg||e==i,c=n==Bg||n==s;return!a&&r&&"boolean"==typeof i&&(a=i?$g.has(e):jg.has(e)),!c&&o&&"boolean"==typeof s&&(c=s?$g.has(n):jg.has(n)),a&&c}}const Vg=":self",Gg=new RegExp(`s*${Vg}s*,?`,"g");function buildAnimationAst(e,n,r,o){return new AnimationAstBuilderVisitor(e).build(n,r,o)}class AnimationAstBuilderVisitor{constructor(e){this._driver=e}build(e,n,r){const o=new AnimationAstBuilderContext(n);this._resetContextStyleTimingState(o);const i=visitDslNode(this,normalizeAnimationEntry(e),o);return("undefined"==typeof ngDevMode||ngDevMode)&&o.unsupportedCSSPropertiesFound.size&&!function pushUnrecognizedPropertiesWarning(e,n){n.length&&e.push(`The following provided properties are not recognized: ${n.join(", ")}`)}(r,[...o.unsupportedCSSPropertiesFound.keys()]),i}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&n.errors.push(function invalidTrigger(){return new o.wOt(3006,ngDevMode&&"animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))")}()),e.definitions.forEach((e=>{if(this._resetContextStyleTimingState(n),e.type==_g.If.State){const r=e,o=r.name;o.toString().split(/\s*,\s*/).forEach((e=>{r.name=e,s.push(this.visitState(r,n))})),r.name=o}else if(e.type==_g.If.Transition){const o=this.visitTransition(e,n);r+=o.queryCount,i+=o.depCount,a.push(o)}else n.errors.push(function invalidDefinition(){return new o.wOt(3007,ngDevMode&&"only state() and transition() definitions can sit inside of a trigger()")}())})),{type:_g.If.Trigger,name:e.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=i||{};r.styles.forEach((e=>{e instanceof Map&&e.forEach((e=>{extractStyleParams(e).forEach((e=>{a.hasOwnProperty(e)||s.add(e)}))}))})),s.size&&n.errors.push(function invalidState(e,n){return new o.wOt(3008,ngDevMode&&`state("${e}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}(e.name,[...s.values()]))}return{type:_g.If.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=visitDslNode(this,normalizeAnimationEntry(e.animation),n),o=parseTransitionExpr(e.expr,n.errors);return{type:_g.If.Transition,matchers:o,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:normalizeAnimationOptions(e.options)}}visitSequence(e,n){return{type:_g.If.Sequence,steps:e.steps.map((e=>visitDslNode(this,e,n))),options:normalizeAnimationOptions(e.options)}}visitGroup(e,n){const r=n.currentTime;let o=0;const i=e.steps.map((e=>{n.currentTime=r;const i=visitDslNode(this,e,n);return o=Math.max(o,n.currentTime),i}));return n.currentTime=o,{type:_g.If.Group,steps:i,options:normalizeAnimationOptions(e.options)}}visitAnimate(e,n){const r=function constructTimingAst(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e){return makeTimingAst(resolveTiming(e,n).duration,0,"")}const r=e;if(r.split(/\s+/).some((e=>"{"==e.charAt(0)&&"{"==e.charAt(1)))){const e=makeTimingAst(0,0,"");return e.dynamic=!0,e.strValue=r,e}const o=resolveTiming(r,n);return makeTimingAst(o.duration,o.delay,o.easing)}(e.timings,n.errors);let o;n.currentAnimateTimings=r;let i=e.styles?e.styles:(0,_g.iF)({});if(i.type==_g.If.Keyframes)o=this.visitKeyframes(i,n);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};r.easing&&(e.easing=r.easing),i=(0,_g.iF)(e)}n.currentTime+=r.duration+r.delay;const a=this.visitStyle(i,n);a.isEmptyStep=s,o=a}return n.currentAnimateTimings=null,{type:_g.If.Animate,timings:r,style:o,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let e of i)"string"==typeof e?e===_g.kp?r.push(e):n.errors.push((s=e,new o.wOt(3002,ngDevMode&&`The provided style string value ${s} is not allowed.`))):r.push(new Map(Object.entries(e)));var s;let a=!1,c=null;return r.forEach((e=>{if(e instanceof Map&&(e.has("easing")&&(c=e.get("easing"),e.delete("easing")),!a))for(let n of e.values())if(n.toString().indexOf("{{")>=0){a=!0;break}})),{type:_g.If.Style,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((r,a)=>{if(("undefined"==typeof ngDevMode||ngDevMode)&&!this._driver.validateStyleProperty(a))return e.delete(a),n.unsupportedCSSPropertiesFound.add(a),void 0;const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(a);let p=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(function invalidParallelAnimation(e,n,r,i,s){return new o.wOt(3010,ngDevMode&&`The CSS property "${e}" that exists between the times of "${n}ms" and "${r}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${s}ms"`)}(a,u.startTime,u.endTime,s,i)),p=!1),s=u.startTime),p&&c.set(a,{startTime:s,endTime:i}),n.options&&validateStyleParams(r,n.options,n.errors)}))}))}visitKeyframes(e,n){const r={type:_g.If.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function invalidKeyframes(){return new o.wOt(3011,ngDevMode&&"keyframes() must be placed inside of a call to animate()")}()),r;let i=0;const s=[];let a=!1,c=!1,u=0;const p=e.steps.map((e=>{const r=this._makeStyleAst(e,n);let o=null!=r.offset?r.offset:function consumeOffset(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach((e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}}));else if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}return n}(r.styles),p=0;return null!=o&&(i++,p=r.offset=o),c=c||p<0||p>1,a=a||p<u,u=p,s.push(p),r}));c&&n.errors.push(function invalidOffset(){return new o.wOt(3012,ngDevMode&&"Please ensure that all keyframe offsets are between 0 and 1")}()),a&&n.errors.push(function keyframeOffsetsOutOfOrder(){return new o.wOt(3200,ngDevMode&&"Please ensure that all keyframe offsets are in order")}());const f=e.steps.length;let g=0;i>0&&i<f?n.errors.push(function keyframesMissingOffsets(){return new o.wOt(3202,ngDevMode&&"Not all style() steps within the declared keyframes() contain offsets")}()):0==i&&(g=1/(f-1));const v=f-1,C=n.currentTime,b=n.currentAnimateTimings,w=b.duration;return p.forEach(((e,o)=>{const i=g>0?o==v?1:g*o:s[o],a=i*w;n.currentTime=C+b.delay+a,b.duration=a,this._validateStyleAst(e,n),e.offset=i,r.styles.push(e)})),r}visitReference(e,n){return{type:_g.If.Reference,animation:visitDslNode(this,normalizeAnimationEntry(e.animation),n),options:normalizeAnimationOptions(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:_g.If.AnimateChild,options:normalizeAnimationOptions(e.options)}}visitAnimateRef(e,n){return{type:_g.If.AnimateRef,animation:this.visitReference(e.animation,n),options:normalizeAnimationOptions(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,o=e.options||{};n.queryCount++,n.currentQuery=e;const[i,s]=function normalizeSelector(e){const n=!!e.split(/\s*,\s*/).find((e=>e==Vg));n&&(e=e.replace(Gg,""));return e=e.replace(/@\*/g,Og).replace(/@\w+/g,(e=>Og+"-"+e.slice(1))).replace(/:animating/g,Ng),[e,n]}(e.selector);n.currentQuerySelector=r.length?r+" "+i:i,getOrSetDefaultValue(n.collectedStyles,n.currentQuerySelector,new Map);const a=visitDslNode(this,normalizeAnimationEntry(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:_g.If.Query,selector:i,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:normalizeAnimationOptions(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function invalidStagger(){return new o.wOt(3013,ngDevMode&&"stagger() can only be used inside of query()")}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:resolveTiming(e.timings,n.errors,!0);return{type:_g.If.Stagger,animation:visitDslNode(this,normalizeAnimationEntry(e.animation),n),timings:r,options:null}}}class AnimationAstBuilderContext{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function normalizeAnimationOptions(e){return e?(e={...e}).params&&(e.params=function normalizeParams(e){return e?{...e}:null}(e.params)):e={},e}function makeTimingAst(e,n,r){return{duration:e,delay:n,easing:r}}function createTimelineInstruction(e,n,r,o,i,s,a=null,c=!1){return{type:1,element:e,keyframes:n,preStyleProps:r,postStyleProps:o,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:c}}class ElementInstructionMap{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zg=new RegExp(":enter","g"),qg=new RegExp(":leave","g");function buildAnimationTimelines(e,n,r,o,i,s=new Map,a=new Map,c,u,p=[]){return(new AnimationTimelineBuilderVisitor).buildKeyframes(e,n,r,o,i,s,a,c,u,p)}class AnimationTimelineBuilderVisitor{buildKeyframes(e,n,r,o,i,s,a,c,u,p=[]){u=u||new ElementInstructionMap;const f=new AnimationTimelineContext(e,n,u,o,i,p,[]);f.options=c;const g=c.delay?resolveTimingValue(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,c),visitDslNode(this,r,f);const v=f.timelines.filter((e=>e.containsAnimation()));if(v.length&&a.size){let e;for(let r=v.length-1;r>=0;r--){const o=v[r];if(o.element===n){e=o;break}}e&&!e.allowOnlyTimelineStyles()&&e.setStyles([a],null,f.errors,c)}return v.length?v.map((e=>e.buildKeyframes())):[createTimelineInstruction(n,[],[],[],0,g,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const o=n.createSubContext(e.options),i=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,o,o.options);i!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const e=null==i?void 0:i.delay;if(e){var o;const s="number"==typeof e?e:resolveTimingValue(interpolateParams(e,null!==(o=null==i?void 0:i.params)&&void 0!==o?o:{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime;const i=null!=r.duration?resolveTimingValue(r.duration):null,s=null!=r.delay?resolveTimingValue(r.delay):null;return 0!==i&&e.forEach((e=>{const r=n.appendInstructionToTimeline(e,i,s);o=Math.max(o,r.duration+r.delay)})),o}visitReference(e,n){n.updateOptions(e.options,!0),visitDslNode(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let o=n;const i=e.options;if(i&&(i.params||i.delay)&&(o=n.createSubContext(i),o.transformIntoNewTimeline(),null!=i.delay)){o.previousNode.type==_g.If.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Wg);const e=resolveTimingValue(i.delay);o.delayNextStep(e)}e.steps.length&&(e.steps.forEach((e=>visitDslNode(this,e,o))),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let o=n.currentTimeline.currentTime;const i=e.options&&e.options.delay?resolveTimingValue(e.options.delay):0;e.steps.forEach((s=>{const a=n.createSubContext(e.options);i&&a.delayNextStep(i),visitDslNode(this,s,a),o=Math.max(o,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((e=>n.currentTimeline.mergeTimelineCollectedStyles(e))),n.transformIntoNewTimeline(o),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return resolveTiming(n.params?interpolateParams(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),o=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),o.snapshotCurrentStyles());const i=e.style;i.type==_g.If.Keyframes?this.visitKeyframes(i,n):(n.incrementTime(r.duration),this.visitStyle(i,n),o.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,o=n.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();const i=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(i):r.setStyles(e.styles,i,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,o=n.currentTimeline.duration,i=r.duration,s=n.createSubContext().currentTimeline;s.easing=r.easing,e.styles.forEach((e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,n.errors,n.options),s.applyStylesToKeyframe()})),n.currentTimeline.mergeTimelineCollectedStyles(s),n.transformIntoNewTimeline(o+i),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,o=e.options||{},i=o.delay?resolveTimingValue(o.delay):0;i&&(n.previousNode.type===_g.If.Style||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Wg);let s=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach(((r,o)=>{n.currentQueryIndex=o;const a=n.createSubContext(e.options,r);i&&a.delayNextStep(i),r===n.element&&(c=a.currentTimeline),visitDslNode(this,e.animation,a),a.currentTimeline.applyStylesToKeyframe();s=Math.max(s,a.currentTimeline.currentTime)})),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,o=n.currentTimeline,i=e.timings,s=Math.abs(i.duration),a=s*(n.currentQueryTotal-1);let c=s*n.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=n.currentTimeline;c&&u.delayNextStep(c);const p=u.currentTime;visitDslNode(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=o.currentTime-p+(o.startTime-r.currentTimeline.startTime)}}const Wg={};class AnimationTimelineContext{constructor(e,n,r,o,i,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=i,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new TimelineBuilder(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=resolveTimingValue(r.duration)),null!=r.delay&&(o.delay=resolveTimingValue(r.delay));const i=r.params;if(i){let e=o.params;e||(e=this.options.params={}),Object.keys(i).forEach((r=>{n&&e.hasOwnProperty(r)||(e[r]=interpolateParams(i[r],e,this.errors))}))}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach((e=>{r[e]=n[e]}))}}return e}createSubContext(e=null,n,r){const o=n||this.element,i=new AnimationTimelineContext(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Wg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const o={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},i=new SubTimelineBuilder(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(i),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,a){let c=[];if(i&&c.push(this.element),e.length>0){e=(e=e.replace(zg,"."+this._enterClassName)).replace(qg,"."+this._leaveClassName);let n=this._driver.query(this.element,e,1!=r);0!==r&&(n=r<0?n.slice(n.length+r,n.length):n.slice(0,r)),c.push(...n)}return s||0!=c.length||a.push(function invalidQuery(e){return new o.wOt(3014,ngDevMode&&`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`)}(n)),c}}class TimelineBuilder{constructor(e,n,r,o){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new TimelineBuilder(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||_g.kp),this._currentKeyframe.set(e,_g.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,o){n&&this._previousKeyframe.set("easing",n);const i=o&&o.params||{},s=function flattenStyles(e,n){const r=new Map;let o;return e.forEach((e=>{if("*"===e){null!=o?o:o=n.keys();for(let e of o)r.set(e,_g.kp)}else for(let[n,o]of e)r.set(n,o)})),r}(e,this._globalTimelineStyles);for(let[e,n]of s){const o=interpolateParams(n,i,r);var a;if(this._pendingStyles.set(e,o),!this._localTimelineStyles.has(e))this._backFill.set(e,null!==(a=this._globalTimelineStyles.get(e))&&void 0!==a?a:_g.kp);this._updateStyle(e,o)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach(((e,n)=>{this._currentKeyframe.set(n,e)})),this._pendingStyles.clear(),this._localTimelineStyles.forEach(((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)})))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach(((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)}))}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach(((i,s)=>{const a=new Map([...this._backFill,...i]);a.forEach(((r,o)=>{r===_g.FX?e.add(o):r===_g.kp&&n.add(o)})),r||a.set("offset",s/this.duration),o.push(a)}));const i=[...e.values()],s=[...n.values()];if(r){const e=o[0],n=new Map(e);e.set("offset",0),n.set("offset",1),o=[e,n]}return createTimelineInstruction(this.element,o,i,s,this.duration,this.startTime,this.easing,!1)}}class SubTimelineBuilder extends TimelineBuilder{constructor(e,n,r,o,i,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=i,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&n){const i=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),i.push(c);const u=new Map(e[0]);u.set("offset",roundOffset(a)),i.push(u);const p=e.length-1;for(let o=1;o<=p;o++){let a=new Map(e[o]);const c=a.get("offset");a.set("offset",roundOffset((n+c*r)/s)),i.push(a)}r=s,n=0,o="",e=i}return createTimelineInstruction(this.element,e,this.preStyleProps,this.postStyleProps,r,n,o,!0)}}function roundOffset(e,n=3){const r=Math.pow(10,n-1);return Math.round(e*r)/r}function createTransitionInstruction(e,n,r,o,i,s,a,c,u,p,f,g,v){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:r,fromStyles:s,toState:o,toStyles:a,timelines:c,queriedElements:u,preStyleProps:p,postStyleProps:f,totalTime:g,errors:v}}const Kg={};class AnimationTransitionFactory{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,o){return function oneOrMoreTransitionsMatch(e,n,r,o,i){return e.some((e=>e(n,r,o,i)))}(this.ast.matchers,e,n,r,o)}buildStyles(e,n,r){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(null==e?void 0:e.toString())||o),o?o.buildStyles(n,r):new Map}build(e,n,r,o,i,s,a,c,u,p){var f;const g=[],v=this.ast.options&&this.ast.options.params||Kg,C=this.buildStyles(r,a&&a.params||Kg,g),b=c&&c.params||Kg,w=this.buildStyles(o,b,g),A=new Set,_=new Map,E=new Map,I="void"===o,T={params:applyParamDefaults(b,v),delay:null===(f=this.ast.options)||void 0===f?void 0:f.delay},P=p?[]:buildAnimationTimelines(e,n,this.ast.animation,i,s,C,w,T,u,g);let k=0;return P.forEach((e=>{k=Math.max(e.duration+e.delay,k)})),g.length?createTransitionInstruction(n,this._triggerName,r,o,I,C,w,[],[],_,E,k,g):(P.forEach((e=>{const r=e.element,o=getOrSetDefaultValue(_,r,new Set);e.preStyleProps.forEach((e=>o.add(e)));const i=getOrSetDefaultValue(E,r,new Set);e.postStyleProps.forEach((e=>i.add(e))),r!==n&&A.add(r)})),("undefined"==typeof ngDevMode||ngDevMode)&&function checkNonAnimatableInTimelines(e,n,r){if(!r.validateAnimatableStyleProperty)return;const o=new Set(["easing"]),i=new Set;e.forEach((({keyframes:e})=>{const n=new Map;e.forEach((e=>{const s=Array.from(e.entries()).filter((([e])=>!o.has(e)));for(const[e,o]of s)if(!r.validateAnimatableStyleProperty(e))if(n.has(e)&&!i.has(e)){n.get(e)!==o&&i.add(e)}else n.set(e,o)}))})),i.size>0&&console.warn(`Warning: The animation trigger "${n}" is attempting to animate the following not animatable properties: `+Array.from(i).join(", ")+"\n(to check the list of all animatable properties visit https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animated_properties)")}(P,this._triggerName,e),createTransitionInstruction(n,this._triggerName,r,o,I,C,w,P,[...A.values()],_,E,k))}}function applyParamDefaults(e,n){const r={...n};return Object.entries(e).forEach((([e,n])=>{null!=n&&(r[e]=n)})),r}class AnimationStateStyles{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,o=applyParamDefaults(e,this.defaultParams);return this.styles.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,i)=>{e&&(e=interpolateParams(e,o,n));const s=this.normalizer.normalizePropertyName(i,n);e=this.normalizer.normalizeStyleValue(i,s,e,n),r.set(i,e)}))})),r}}class AnimationTrigger{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach((e=>{this.states.set(e.name,new AnimationStateStyles(e.style,e.options&&e.options.params||{},r))})),balanceProperties(this.states,"true","1"),balanceProperties(this.states,"false","0"),n.transitions.forEach((n=>{this.transitionFactories.push(new AnimationTransitionFactory(e,n,this.states))})),this.fallbackTransition=function createFallbackTransition(e,n,r){return new AnimationTransitionFactory(e,{type:_g.If.Transition,animation:{type:_g.If.Sequence,steps:[],options:null},matchers:[(e,n)=>!0],options:null,queryCount:0,depCount:0},n)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,o){return this.transitionFactories.find((i=>i.match(e,n,r,o)))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function balanceProperties(e,n,r){e.has(n)?e.has(r)||e.set(r,e.get(n)):e.has(r)&&e.set(n,e.get(r))}const Qg=new ElementInstructionMap;class TimelineAnimationEngine{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],i=[],s=buildAnimationAst(this._driver,n,r,i);if(r.length)throw function registerFailed(e){return new o.wOt(3503,ngDevMode&&`Unable to build the animation due to the following errors: ${e.map((e=>e.message)).join("\n")}`)}(r);i.length&&!function warnRegister(e){("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`Animation built with the following warnings:${createListOfWarnings(e)}`)}(i),this._animations.set(e,s)}_buildPlayer(e,n,r){const o=e.element,i=normalizeKeyframes$1(this._normalizer,e.keyframes,n,r);return this._driver.animate(o,i,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let a;const c=new Map;if(s?(a=buildAnimationTimelines(this._driver,n,s,kg,xg,new Map,new Map,r,Qg,i),a.forEach((e=>{const n=getOrSetDefaultValue(c,e.element,new Map);e.postStyleProps.forEach((e=>n.set(e,null)))}))):(i.push(function missingOrDestroyedAnimation(){return new o.wOt(3300,ngDevMode&&"The requested animation doesn't exist or has already been destroyed")}()),a=[]),i.length)throw function createAnimationFailed(e){return new o.wOt(3504,ngDevMode&&`Unable to create the animation due to the following errors:${e.map((e=>e.message)).join("\n")}`)}(i);c.forEach(((e,n)=>{e.forEach(((r,o)=>{e.set(o,this._driver.computeStyle(n,o,_g.kp))}))}));const u=a.map((e=>{const n=c.get(e.element);return this._buildPlayer(e,new Map,n)})),p=optimizeGroupPlayer(u);return this._playersById.set(e,p),p.onDestroy((()=>this.destroy(e))),this.players.push(p),p}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function missingPlayer(e){return new o.wOt(3301,ngDevMode&&`Unable to find the timeline player referenced by ${e}`)}(e);return n}listen(e,n,r,o){const i=makeAnimationEvent(n,"","","");return listenOnPlayer(this._getPlayer(e),r,i,o),()=>{}}command(e,n,r,o){if("register"==r)return this.register(e,o[0]),void 0;if("create"==r){return this.create(e,n,o[0]||{}),void 0}const i=this._getPlayer(e);switch(r){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const Xg="ng-animate-queued",Yg="ng-animate-disabled",Jg=[],Zg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},em={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tm="__ng_removed";class StateValue{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function normalizeTriggerValue(e){return null!=e?e:null}(r?e.value:e),r){const{value:n,...r}=e;this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const e=this.options.params;Object.keys(n).forEach((r=>{null==e[r]&&(e[r]=n[r])}))}}}const nm="void",rm=new StateValue(nm);class AnimationTransitionNamespace{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,addClass(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function missingTrigger(e,n){return new o.wOt(3302,ngDevMode&&`Unable to listen on the animation trigger event "${e}" because the animation trigger "${n}" doesn't exist!`)}(r,n);if(null==r||0==r.length)throw function missingEvent(e){return new o.wOt(3303,ngDevMode&&`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`)}(n);if(!function isTriggerEventValid(e){return"start"==e||"done"==e}(r))throw function unsupportedTriggerEvent(e,n){return new o.wOt(3400,ngDevMode&&`The provided animation trigger event "${e}" for the animation trigger "${n}" is not supported!`)}(r,n);const s=getOrSetDefaultValue(this._elementListeners,e,[]),a={name:n,phase:r,callback:i};s.push(a);const c=getOrSetDefaultValue(this._engine.statesByElement,e,new Map);return c.has(n)||(addClass(e,Fg),addClass(e,Fg+"-"+n),c.set(n,rm)),()=>{this._engine.afterFlush((()=>{const e=s.indexOf(a);e>=0&&s.splice(e,1),this._triggers.has(n)||c.delete(n)}))}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function unregisteredTrigger(e){return new o.wOt(3401,ngDevMode&&`The provided animation trigger "${e}" has not been registered!`)}(e);return n}trigger(e,n,r,o=!0){const i=this._getTrigger(n),s=new TransitionAnimationPlayer(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(addClass(e,Fg),addClass(e,Fg+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n);const u=new StateValue(r,this.id);!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=rm);if(!(u.value===nm)&&c.value===u.value){if(!function objEquals(e,n){const r=Object.keys(e),o=Object.keys(n);if(r.length!=o.length)return!1;for(let o=0;o<r.length;o++){const i=r[o];if(!n.hasOwnProperty(i)||e[i]!==n[i])return!1}return!0}(c.params,u.params)){const n=[],r=i.matchStyles(c.value,c.params,n),o=i.matchStyles(u.value,u.params,n);n.length?this._engine.reportError(n):this._engine.afterFlush((()=>{eraseStyles(e,r),setStyles(e,o)}))}return}const p=getOrSetDefaultValue(this._engine.playersByElement,e,[]);p.forEach((e=>{e.namespaceId==this.id&&e.triggerName==n&&e.queued&&e.destroy()}));let f=i.matchTransition(c.value,u.value,e,u.params),g=!1;if(!f){if(!o)return;f=i.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:u,player:s,isFallbackTransition:g}),g||(addClass(e,Xg),s.onStart((()=>{removeClass(e,Xg)}))),s.onDone((()=>{let n=this.players.indexOf(s);n>=0&&this.players.splice(n,1);const r=this._engine.playersByElement.get(e);if(r){let e=r.indexOf(s);e>=0&&r.splice(e,1)}})),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach((n=>n.delete(e))),this._elementListeners.forEach(((n,r)=>{this._elementListeners.set(r,n.filter((n=>n.name!=e)))}))}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach((e=>e.destroy())),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Og,!0);r.forEach((e=>{if(e[tm])return;const r=this._engine.fetchNamespacesByElement(e);r.size?r.forEach((r=>r.triggerLeaveAnimation(e,n,!1,!0))):this.clearElementCache(e)})),this._engine.afterFlushAnimationsDone((()=>r.forEach((e=>this.clearElementCache(e)))))}triggerLeaveAnimation(e,n,r,o){const i=this._engine.statesByElement.get(e),s=new Map;if(i){const a=[];if(i.forEach(((n,r)=>{if(s.set(r,n.value),this._triggers.has(r)){const n=this.trigger(e,r,nm,o);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&optimizeGroupPlayer(a).onDone((()=>this._engine.processLeaveNode(e))),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const o=new Set;n.forEach((n=>{const i=n.name;if(o.has(i))return;o.add(i);const s=this._triggers.get(i).fallbackTransition,a=r.get(i)||rm,c=new StateValue(nm),u=new TransitionAnimationPlayer(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:a,toState:c,player:u,isFallbackTransition:!0})}))}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let o=!1;if(r.totalAnimations){const n=r.players.length?r.playersByQueriedElement.get(e):[];if(n&&n.length)o=!0;else{let n=e;for(;n=n.parentNode;){if(r.statesByElement.get(n)){o=!0;break}}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,n);else{const o=e[tm];o&&o!==Zg||(r.afterFlush((()=>this.clearElementCache(e))),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){addClass(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach((r=>{const o=r.player;if(o.destroyed)return;const i=r.element,s=this._elementListeners.get(i);s&&s.forEach((n=>{if(n.name==r.triggerName){const o=makeAnimationEvent(i,r.triggerName,r.fromState.value,r.toState.value);o._data=e,listenOnPlayer(r.player,n.phase,o,n.callback)}})),o.markedForDestroy?this._engine.afterFlush((()=>{o.destroy()})):n.push(r)})),this._queue=[],n.sort(((e,n)=>{const r=e.transition.ast.depCount,o=n.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(e.element,n.element)?1:-1}))}destroy(e){this.players.forEach((e=>e.destroy())),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class TransitionAnimationEngine{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,o){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,n)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach((n=>{n.players.forEach((n=>{n.queued&&e.push(n)}))})),e}createNamespace(e,n){const r=new AnimationTransitionNamespace(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let i=!1,s=this.driver.getParentElement(n);for(;s;){const n=o.get(s);if(n){const o=r.indexOf(n);r.splice(o+1,0,e),i=!0;break}s=this.driver.getParentElement(s)}i||r.unshift(e)}else r.push(e);return o.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let o=this._namespaceLookup[e];o&&o.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush((()=>{})),this.afterFlushAnimationsDone((()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1),r.destroy(n),delete this._namespaceLookup[e]})))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let e of r.values())if(e.namespaceId){const r=this._fetchNamespace(e.namespaceId);r&&n.add(r)}return n}trigger(e,n,r,o){if(isElementNode(n)){const i=this._fetchNamespace(e);if(i)return i.trigger(n,r,o),!0}return!1}insertNode(e,n,r,o){if(!isElementNode(n))return;const i=n[tm];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(n);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}o&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),addClass(e,Yg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),removeClass(e,Yg))}removeNode(e,n,r){if(isElementNode(n)){var o;null===(o=this.scheduler)||void 0===o||o.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,o,i){this.collectedLeaveElements.push(n),n[tm]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:i}}listen(e,n,r,o,i){return isElementNode(n)?this._fetchNamespace(e).listen(n,r,o,i):()=>{}}_buildInstruction(e,n,r,o,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,n,i)}destroyInnerAnimations(e){let n=this.driver.query(e,Og,!0);n.forEach((e=>this.destroyActiveAnimationsForElement(e))),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,Ng,!0),n.forEach((e=>this.finishActiveQueriedAnimationOnElement(e))))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach((e=>{e.queued?e.markedForDestroy=!0:e.destroy()}))}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach((e=>e.finish()))}whenRenderingDone(){return new Promise((e=>{if(this.players.length)return optimizeGroupPlayer(this.players).onDone((()=>e()));e()}))}processLeaveNode(e){var n;const r=e[tm];if(r&&r.setForRemoval){if(e[tm]=Zg,r.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(r.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}null!==(n=e.classList)&&void 0!==n&&n.contains(Yg)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((e=>{this.markElementAsDisabled(e,!1)}))}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(((e,n)=>this._balanceNamespaceList(e,n))),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++){addClass(this.collectedEnterElements[e],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let e=0;e<r.length;e++)r[e]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){this.processLeaveNode(this.collectedLeaveElements[e])}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((e=>e())),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],n.length?optimizeGroupPlayer(n).onDone((()=>{e.forEach((e=>e()))})):e.forEach((e=>e()))}}reportError(e){throw function triggerTransitionsFailed(e){return new o.wOt(3402,ngDevMode&&`Unable to process animations due to the following failed trigger transitions\n ${e.map((e=>e.message)).join("\n")}`)}(e)}_flushAnimations(e,n){const r=new ElementInstructionMap,i=[],s=new Map,a=[],c=new Map,u=new Map,p=new Map,f=new Set;this.disabledNodes.forEach((e=>{f.add(e);const n=this.driver.query(e,".ng-animate-queued",!0);for(let e=0;e<n.length;e++)f.add(n[e])}));const g=this.bodyNode,v=Array.from(this.statesByElement.keys()),C=buildRootMap(v,this.collectedEnterElements),b=new Map;let w=0;C.forEach(((e,n)=>{const r=kg+w++;b.set(n,r),e.forEach((e=>addClass(e,r)))}));const A=[],_=new Set,E=new Set;for(let e=0;e<this.collectedLeaveElements.length;e++){const n=this.collectedLeaveElements[e],r=n[tm];r&&r.setForRemoval&&(A.push(n),_.add(n),r.hasAnimation?this.driver.query(n,".ng-star-inserted",!0).forEach((e=>_.add(e))):E.add(n))}const I=new Map,T=buildRootMap(v,Array.from(_));T.forEach(((e,n)=>{const r=xg+w++;I.set(n,r),e.forEach((e=>addClass(e,r)))})),e.push((()=>{C.forEach(((e,n)=>{const r=b.get(n);e.forEach((e=>removeClass(e,r)))})),T.forEach(((e,n)=>{const r=I.get(n);e.forEach((e=>removeClass(e,r)))})),A.forEach((e=>{this.processLeaveNode(e)}))}));const P=[],k=[];for(let e=this._namespaceList.length-1;e>=0;e--){this._namespaceList[e].drainQueuedTransitions(n).forEach((e=>{const n=e.player,o=e.element;if(P.push(n),this.collectedEnterElements.length){const r=o[tm];if(r&&r.setForMove){if(r.previousTriggersValues&&r.previousTriggersValues.has(e.triggerName)){const n=r.previousTriggersValues.get(e.triggerName),o=this.statesByElement.get(e.element);if(o&&o.has(e.triggerName)){const r=o.get(e.triggerName);r.value=n,o.set(e.triggerName,r)}}return n.destroy(),void 0}}const s=!g||!this.driver.containsElement(g,o),f=I.get(o),v=b.get(o),C=this._buildInstruction(e,r,v,f,s);if(C.errors&&C.errors.length)return k.push(C),void 0;if(s)return n.onStart((()=>eraseStyles(o,C.fromStyles))),n.onDestroy((()=>setStyles(o,C.toStyles))),i.push(n),void 0;if(e.isFallbackTransition)return n.onStart((()=>eraseStyles(o,C.fromStyles))),n.onDestroy((()=>setStyles(o,C.toStyles))),i.push(n),void 0;const w=[];C.timelines.forEach((e=>{e.stretchStartingKeyframe=!0,this.disabledNodes.has(e.element)||w.push(e)})),C.timelines=w,r.append(o,C.timelines);a.push({instruction:C,player:n,element:o}),C.queriedElements.forEach((e=>getOrSetDefaultValue(c,e,[]).push(n))),C.preStyleProps.forEach(((e,n)=>{if(e.size){let r=u.get(n);r||u.set(n,r=new Set),e.forEach(((e,n)=>r.add(n)))}})),C.postStyleProps.forEach(((e,n)=>{let r=p.get(n);r||p.set(n,r=new Set),e.forEach(((e,n)=>r.add(n)))}))}))}if(k.length){const e=[];k.forEach((n=>{e.push(function transitionFailed(e,n){return new o.wOt(3505,ngDevMode&&`@${e} has failed due to:\n ${n.map((e=>e.message)).join("\n- ")}`)}(n.triggerName,n.errors))})),P.forEach((e=>e.destroy())),this.reportError(e)}const x=new Map,F=new Map;a.forEach((e=>{const n=e.element;r.has(n)&&(F.set(n,n),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))})),i.forEach((e=>{const n=e.element;this._getPreviousPlayers(n,!1,e.namespaceId,e.triggerName,null).forEach((e=>{getOrSetDefaultValue(x,n,[]).push(e),e.destroy()}))}));const R=A.filter((e=>replacePostStylesAsPre(e,u,p))),N=new Map;cloakAndComputeStyles(N,this.driver,E,p,_g.kp).forEach((e=>{replacePostStylesAsPre(e,u,p)&&R.push(e)}));const L=new Map;C.forEach(((e,n)=>{cloakAndComputeStyles(L,this.driver,new Set(e),u,_g.FX)})),R.forEach((e=>{var n,r;const o=N.get(e),i=L.get(e);N.set(e,new Map([...null!==(n=null==o?void 0:o.entries())&&void 0!==n?n:[],...null!==(r=null==i?void 0:i.entries())&&void 0!==r?r:[]]))}));const H=[],U=[],B={};a.forEach((e=>{const{element:n,player:o,instruction:a}=e;if(r.has(n)){if(f.has(n))return o.onDestroy((()=>setStyles(n,a.toStyles))),o.disabled=!0,o.overrideTotalTime(a.totalTime),i.push(o),void 0;let e=B;if(F.size>1){let r=n;const o=[];for(;r=r.parentNode;){const n=F.get(r);if(n){e=n;break}o.push(r)}o.forEach((n=>F.set(n,e)))}const r=this._buildAnimation(o.namespaceId,a,x,s,L,N);if(o.setRealPlayer(r),e===B)H.push(o);else{const n=this.playersByElement.get(e);n&&n.length&&(o.parentPlayer=optimizeGroupPlayer(n)),i.push(o)}}else eraseStyles(n,a.fromStyles),o.onDestroy((()=>setStyles(n,a.toStyles))),U.push(o),f.has(n)&&i.push(o)})),U.forEach((e=>{const n=s.get(e.element);if(n&&n.length){const r=optimizeGroupPlayer(n);e.setRealPlayer(r)}})),i.forEach((e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(let e=0;e<A.length;e++){const n=A[e],r=n[tm];if(removeClass(n,xg),r&&r.hasAnimation)continue;let o=[];if(c.size){let e=c.get(n);e&&e.length&&o.push(...e);let r=this.driver.query(n,Ng,!0);for(let e=0;e<r.length;e++){let n=c.get(r[e]);n&&n.length&&o.push(...n)}}const i=o.filter((e=>!e.destroyed));i.length?removeNodesAfterAnimationDone(this,n,i):this.processLeaveNode(n)}return A.length=0,H.forEach((e=>{this.players.push(e),e.onDone((()=>{e.destroy();const n=this.players.indexOf(e);this.players.splice(n,1)})),e.play()})),H}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,o,i){let s=[];if(n){const n=this.playersByQueriedElement.get(e);n&&(s=n)}else{const n=this.playersByElement.get(e);if(n){const e=!i||i==nm;n.forEach((n=>{n.queued||(e||n.triggerName==o)&&s.push(n)}))}}return(r||o)&&(s=s.filter((e=>(!r||r==e.namespaceId)&&(!o||o==e.triggerName)))),s}_beforeAnimationBuild(e,n,r){const o=n.element,i=n.isRemovalTransition?void 0:e,s=n.isRemovalTransition?void 0:n.triggerName;for(const e of n.timelines){const a=e.element,c=a!==o,u=getOrSetDefaultValue(r,a,[]);this._getPreviousPlayers(a,c,i,s,n.toState).forEach((e=>{const n=e.getRealPlayer();n.beforeDestroy&&n.beforeDestroy(),e.destroy(),u.push(e)}))}eraseStyles(o,n.fromStyles)}_buildAnimation(e,n,r,o,i,s){const a=n.triggerName,c=n.element,u=[],p=new Set,f=new Set,g=n.timelines.map((n=>{const g=n.element;p.add(g);const v=g[tm];if(v&&v.removedBeforeQueried)return new _g.sf(n.duration,n.delay);const C=g!==c,b=function flattenGroupPlayers(e){const n=[];return _flattenGroupPlayersRecur(e,n),n}((r.get(g)||Jg).map((e=>e.getRealPlayer()))).filter((e=>!!e.element&&e.element===g)),w=i.get(g),A=s.get(g),_=normalizeKeyframes$1(this._normalizer,n.keyframes,w,A),E=this._buildPlayer(n,_,b);if(n.subTimeline&&o&&f.add(g),C){const n=new TransitionAnimationPlayer(e,a,g);n.setRealPlayer(E),u.push(n)}return E}));u.forEach((e=>{getOrSetDefaultValue(this.playersByQueriedElement,e.element,[]).push(e),e.onDone((()=>function deleteOrUnsetInMap(e,n,r){let o=e.get(n);if(o){if(o.length){const e=o.indexOf(r);o.splice(e,1)}0==o.length&&e.delete(n)}return o}(this.playersByQueriedElement,e.element,e)))})),p.forEach((e=>addClass(e,Rg)));const v=optimizeGroupPlayer(g);return v.onDestroy((()=>{p.forEach((e=>removeClass(e,Rg))),setStyles(c,n.toStyles)})),f.forEach((e=>{getOrSetDefaultValue(o,e,[]).push(v)})),v}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new _g.sf(e.duration,e.delay)}}class TransitionAnimationPlayer{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new _g.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach(((n,r)=>{n.forEach((n=>listenOnPlayer(e,r,void 0,n)))})),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart((()=>n.triggerCallback("start"))),e.onDone((()=>this.finish())),e.onDestroy((()=>this.destroy()))}_queueEvent(e,n){getOrSetDefaultValue(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function isElementNode(e){return e&&1===e.nodeType}function cloakElement(e,n){const r=e.style.display;return e.style.display=null!=n?n:"none",r}function cloakAndComputeStyles(e,n,r,o,i){const s=[];r.forEach((e=>s.push(cloakElement(e))));const a=[];o.forEach(((r,o)=>{const s=new Map;r.forEach((e=>{const r=n.computeStyle(o,e,i);s.set(e,r),r&&0!=r.length||(o[tm]=em,a.push(o))})),e.set(o,s)}));let c=0;return r.forEach((e=>cloakElement(e,s[c++]))),a}function buildRootMap(e,n){const r=new Map;if(e.forEach((e=>r.set(e,[]))),0==n.length)return r;const o=new Set(n),i=new Map;function getRoot(e){if(!e)return 1;let n=i.get(e);if(n)return n;const s=e.parentNode;return n=r.has(s)?s:o.has(s)?1:getRoot(s),i.set(e,n),n}return n.forEach((e=>{const n=getRoot(e);1!==n&&r.get(n).push(e)})),r}function addClass(e,n){var r;null===(r=e.classList)||void 0===r||r.add(n)}function removeClass(e,n){var r;null===(r=e.classList)||void 0===r||r.remove(n)}function removeNodesAfterAnimationDone(e,n,r){optimizeGroupPlayer(r).onDone((()=>e.processLeaveNode(n)))}function _flattenGroupPlayersRecur(e,n){for(let r=0;r<e.length;r++){const o=e[r];o instanceof _g.ui?_flattenGroupPlayersRecur(o.players,n):n.push(o)}}function replacePostStylesAsPre(e,n,r){const o=r.get(e);if(!o)return!1;let i=n.get(e);return i?o.forEach((e=>i.add(e))):n.set(e,o),r.delete(e),!0}class AnimationEngine{constructor(e,n,r,o){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(e,n)=>{},this._transitionEngine=new TransitionAnimationEngine(e.body,n,r,o),this._timelineEngine=new TimelineAnimationEngine(e.body,n,r),this._transitionEngine.onRemovalComplete=(e,n)=>this.onRemovalComplete(e,n)}registerTrigger(e,n,r,i,s){const a=e+"-"+i;let c=this._triggerCache[a];if(!c){const e=[],n=[],r=buildAnimationAst(this._driver,s,e,n);if(e.length)throw function triggerBuildFailed(e,n){return new o.wOt(3404,ngDevMode&&`The animation trigger "${e}" has failed to build due to the following errors:\n - ${n.map((e=>e.message)).join("\n - ")}`)}(i,e);n.length&&!function warnTriggerBuild(e,n){("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`The animation trigger "${e}" has built with the following warnings:${createListOfWarnings(n)}`)}(i,n),c=function buildTrigger(e,n,r){return new AnimationTrigger(e,n,r)}(i,r,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(n,i,c)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,o){this._transitionEngine.insertNode(e,n,r,o)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,o){if("@"==r.charAt(0)){const[e,i]=parseTimelineCommand(r);this._timelineEngine.command(e,n,i,o)}else this._transitionEngine.trigger(e,n,r,o)}listen(e,n,r,o,i){if("@"==r.charAt(0)){const[e,o]=parseTimelineCommand(r);return this._timelineEngine.listen(e,n,o,i)}return this._transitionEngine.listen(e,n,r,o,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class SpecialCasedStyles{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=SpecialCasedStyles.initialStylesByElement.get(e);o||SpecialCasedStyles.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&setStyles(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(setStyles(this._element,this._initialStyles),this._endStyles&&(setStyles(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(SpecialCasedStyles.initialStylesByElement.delete(this._element),this._startStyles&&(eraseStyles(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(eraseStyles(this._element,this._endStyles),this._endStyles=null),setStyles(this._element,this._initialStyles),this._state=3)}}function filterNonAnimatableStyles(e){let n=null;return e.forEach(((e,r)=>{(function isNonAnimatableStyle(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,e))})),n}SpecialCasedStyles.initialStylesByElement=new WeakMap;class WebAnimationsPlayer{constructor(e,n,r,o){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const onFinish=()=>this._onFinish();this.domPlayer.addEventListener("finish",onFinish),this.onDestroy((()=>{this.domPlayer.removeEventListener("finish",onFinish)}))}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach((e=>{n.push(Object.fromEntries(e))})),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((e=>e())),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){var e;return+(null!==(e=this.domPlayer.currentTime)&&void 0!==e?e:0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;if(this.hasStarted()){this._finalKeyframe.forEach(((n,r)=>{"offset"!==r&&e.set(r,this._finished?n:computeStyle(this.element,r))}))}this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach((e=>e())),n.length=0}}class WebAnimationsDriver{validateStyleProperty(e){return"undefined"!=typeof ngDevMode&&!ngDevMode||validateStyleProperty(e)}validateAnimatableStyleProperty(e){if("undefined"==typeof ngDevMode||ngDevMode){return function validateWebAnimatableStyleProperty(e){return Ig.has(e)}(function camelCaseToDashCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}(e))}return!0}matchesElement(e,n){return!1}containsElement(e,n){return containsElement(e,n)}getParentElement(e){return getParentElement(e)}query(e,n,r){return invokeQuery(e,n,r)}computeStyle(e,n,r){return computeStyle(e,n)}animate(e,n,r,o,i,s=[]){const a={duration:r,delay:o,fill:0==o?"both":"forwards"};i&&(a.easing=i);const c=new Map,u=s.filter((e=>e instanceof WebAnimationsPlayer));(function allowPreviousPlayerStylesMerge(e,n){return 0===e||0===n})(r,o)&&u.forEach((e=>{e.currentSnapshot.forEach(((e,n)=>c.set(n,e)))}));let p=function normalizeKeyframes(e){return e.length?e[0]instanceof Map?e:e.map((e=>new Map(Object.entries(e)))):[]}(n).map((e=>new Map(e)));p=function balancePreviousStylesIntoKeyframes(e,n,r){if(r.size&&n.length){let o=n[0],i=[];if(r.forEach(((e,n)=>{o.has(n)||i.push(n),o.set(n,e)})),i.length)for(let r=1;r<n.length;r++){let o=n[r];i.forEach((n=>o.set(n,computeStyle(e,n))))}}return n}(e,p,c);const f=function packageNonAnimatableStyles(e,n){let r=null,o=null;return Array.isArray(n)&&n.length?(r=filterNonAnimatableStyles(n[0]),n.length>1&&(o=filterNonAnimatableStyles(n[n.length-1]))):n instanceof Map&&(r=filterNonAnimatableStyles(n)),r||o?new SpecialCasedStyles(e,r,o):null}(e,p);return new WebAnimationsPlayer(e,p,a,f)}}const om="@",im="@.disabled";class BaseAnimationRenderer{constructor(e,n,r,o){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=o,this.ɵtype=0}get data(){return this.delegate.data}destroyNode(e){var n,r;null===(n=(r=this.delegate).destroyNode)||void 0===n||n.call(r,e)}destroy(){var e;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone((()=>{queueMicrotask((()=>{this.delegate.destroy()}))})),null===(e=this._onDestroy)||void 0===e||e.call(this)}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,o=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,o)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,o){this.delegate.setAttribute(e,n,r,o)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,o){this.delegate.setStyle(e,n,r,o)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==om&&n==im?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class AnimationRenderer extends BaseAnimationRenderer{constructor(e,n,r,o,i){super(n,r,o,i),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==om?"."==n.charAt(1)&&n==im?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==om){const o=function resolveElementFromTarget(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=n.slice(1),s="";return i.charAt(0)!=om&&([i,s]=function parseTriggerCallbackName(e){const n=e.indexOf("."),r=e.substring(0,n),o=e.slice(n+1);return[r,o]}(i)),this.engine.listen(this.namespaceId,o,i,s,(e=>{this.factory.scheduleListenerCallback(e._data||-1,r,e)}))}return this.delegate.listen(e,n,r)}}class AnimationRendererFactory{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(e,n)=>{const r=null==n?void 0:n.parentNode(e);r&&n.removeChild(r,e)}}createRenderer(e,n){var r;const o=this.delegate.createRenderer(e,n);if(!e||null==n||null===(r=n.data)||void 0===r||!r.animation){const e=this._rendererCache;let n=e.get(o);if(!n){n=new BaseAnimationRenderer("",o,this.engine,(()=>e.delete(o))),e.set(o,n)}return n}const i=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const registerTrigger=n=>{Array.isArray(n)?n.forEach(registerTrigger):this.engine.registerTrigger(i,s,e,n.name,n)};return n.data.animation.forEach(registerTrigger),new AnimationRenderer(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask((()=>{this._microtaskId++}))}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId)return this._zone.run((()=>n(r))),void 0;const o=this._animationCallbacksBuffer;0==o.length&&queueMicrotask((()=>{this._zone.run((()=>{o.forEach((e=>{const[n,r]=e;n(r)})),this._animationCallbacksBuffer=[]}))})),o.push([n,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)})),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let sm=(()=>{var e;class InjectableAnimationEngine extends AnimationEngine{constructor(e,n,r){super(e,n,r,(0,o.WQX)(o.An2,{optional:!0}))}ngOnDestroy(){this.flush()}}return(e=InjectableAnimationEngine).ɵfac=function _InjectableAnimationEngine_Factory(n){return new(n||e)(o.KVO(gr.qQ),o.KVO(AnimationDriver),o.KVO(AnimationStyleNormalizer))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),InjectableAnimationEngine})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const am=[{provide:AnimationStyleNormalizer,useFactory:function instantiateDefaultStyleNormalizer(){return new WebAnimationsStyleNormalizer}},{provide:AnimationEngine,useClass:sm},{provide:o._9s,useFactory:function instantiateRendererFactory(e,n,r){return new AnimationRendererFactory(e,n,r)},deps:[Ag.B7,AnimationEngine,o.SKi]}],lm=[{provide:AnimationDriver,useFactory:()=>new WebAnimationsDriver},{provide:o.bc$,useValue:"BrowserAnimations"},...am];(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let dm=(()=>{var e;class CoreSiteInfoCronHandlerService{constructor(){this.name="CoreSiteInfoCronHandler"}execute(e){return(0,s.A)((function*(){if(e)yield fe.CoreSites.updateSiteInfo(e);else{const e=yield fe.CoreSites.getSitesIds();yield Promise.all(e.map((e=>fe.CoreSites.updateSiteInfo(e))))}}))()}getInterval(){return 108e5}isSync(){return!1}}return(e=CoreSiteInfoCronHandlerService).ɵfac=function CoreSiteInfoCronHandlerService_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreSiteInfoCronHandlerService})();const cm=(0,u.Qd)(dm);var um=r(12872),pm=r(21182);i.CoreConstants.BUILD.isProduction&&(0,o.SmG)(),(0,Ag.B8)(L,{providers:[(0,o.oKB)(Ag.Bb,a.bv.forRoot({navAnimation:(e,n)=>{const r="opacity",o="transform",i="0%",s=.8,a="rtl"===e.ownerDocument.dir,c=a?"-99.5%":"99.5%",u=a?"33%":"-33%",p=n.enteringEl,f=n.leavingEl,g="back"===n.direction,v=p.querySelector(":scope > ion-content"),C=p.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),b=p.querySelectorAll(":scope > ion-header > ion-toolbar"),w=(0,Sg.JI)(),A=(0,Sg.JI)();if(w.addElement(p).duration(n.duration||540).easing(n.easing||"cubic-bezier(0.32,0.72,0,1)").fill("both").beforeRemoveClass("ion-page-invisible"),f&&e){const n=(0,Sg.JI)();n.addElement(e),w.addAnimation(n)}if(v||0!==b.length||0!==C.length?(A.addElement(v||[]),A.addElement(C)):A.addElement(p.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||[]),w.addAnimation(A),A.beforeAddClass("animating").afterRemoveClass("animating"),g?A.beforeClearStyles([r]).fromTo("transform",`translateX(${u})`,`translateX(${i})`).fromTo(r,s,1):A.beforeClearStyles([r]).fromTo("transform",`translateX(${c})`,`translateX(${i})`),v){const e=shadow(v).querySelector(".transition-effect");if(e){const n=e.querySelector(".transition-cover"),o=e.querySelector(".transition-shadow");if(!n||!o)return w;const i=(0,Sg.JI)(),s=(0,Sg.JI)(),a=(0,Sg.JI)();i.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),s.addElement(n).beforeClearStyles([r]).fromTo(r,0,.1),a.addElement(o).beforeClearStyles([r]).fromTo(r,.03,.7),i.addAnimation([s,a]),A.addAnimation([i])}}const _=p.querySelector("ion-header[collapsible]");if(b.forEach((e=>{const n=(0,Sg.JI)();n.addElement(e),w.addAnimation(n);const o=(0,Sg.JI)();o.addElement(e.querySelector("ion-title")||[]);const s=(0,Sg.JI)(),p=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]"));s.addElement(p);const f=(0,Sg.JI)();f.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const v=(0,Sg.JI)();v.addElement(shadow(e).querySelector(".toolbar-background")||[]);const C=(0,Sg.JI)(),b=e.querySelector("ion-back-button");if(b&&C.addElement(b),n.addAnimation([o,s,f,v,C]),s.fromTo(r,.01,1),f.fromTo(r,.01,1),g)o.fromTo("transform",`translateX(${u})`,`translateX(${i})`).fromTo(r,.01,1),f.fromTo("transform",`translateX(${u})`,`translateX(${i})`),C.fromTo(r,.01,1);else if(_||o.fromTo("transform",`translateX(${c})`,`translateX(${i})`).fromTo(r,.01,1),f.fromTo("transform",`translateX(${c})`,`translateX(${i})`),v.beforeClearStyles([r,"transform"]),v.fromTo(r,.01,"var(--opacity)"),C.fromTo(r,.01,1),b){const e=(0,Sg.JI)();e.addElement(shadow(b).querySelector(".button-text")||[]).fromTo("transform",a?"translateX(-100px)":"translateX(100px)","translateX(0px)"),n.addAnimation(e)}})),f){const e=(0,Sg.JI)();e.beforeAddClass("animating").afterRemoveClass("animating");const n=f.querySelector(":scope > ion-content"),c=f.querySelectorAll(":scope > ion-header > ion-toolbar"),p=f.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");n||0!==c.length||0!==p.length?(e.addElement(n||[]),e.addElement(p)):e.addElement(f.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||[]),w.addAnimation(e);const v=!!n&&""!==n.style.transform;if(g){v?e.to("transform",a?"translateX(-100%)":"translateX(100%)").fromTo(r,1,s):e.beforeClearStyles([r]).fromTo("transform",`translateX(${i})`,a?"translateX(-100%)":"translateX(100%)");const n=(0,Sg._Y)(f);w.afterAddWrite((()=>{"normal"===w.getDirection()&&n.style.setProperty("display","none")}))}else v?e.to("transform",a?"translateX(100%)":"translateX(-100%)").fromTo(r,1,s):e.fromTo("transform",`translateX(${i})`,`translateX(${u})`).fromTo(r,1,s);if(n){const o=shadow(n).querySelector(".transition-effect");if(o){const n=o.querySelector(".transition-cover"),i=o.querySelector(".transition-shadow"),s=(0,Sg.JI)(),a=(0,Sg.JI)(),c=(0,Sg.JI)();s.addElement(o).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(n||[]).beforeClearStyles([r]).fromTo(r,.1,0),c.addElement(i||[]).beforeClearStyles([r]).fromTo(r,.7,.03),s.addAnimation([a,c]),e.addAnimation([s])}}c.forEach((e=>{const n=(0,Sg.JI)();n.addElement(e);const s=(0,Sg.JI)();s.addElement(e.querySelector("ion-title")||[]);const c=(0,Sg.JI)(),p=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]"));c.addElement(p);const f=(0,Sg.JI)(),v=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");v.length>0&&f.addElement(v);const C=(0,Sg.JI)();C.addElement(shadow(e).querySelector(".toolbar-background")||[]);const b=(0,Sg.JI)(),A=e.querySelector("ion-back-button");if(A&&b.addElement(A),n.addAnimation([s,c,f,b,C]),w.addAnimation(n),b.fromTo(r,.99,0),c.fromTo(r,.99,0),f.fromTo(r,.99,0),g){if(s.fromTo("transform",`translateX(${i})`,a?"translateX(-100%)":"translateX(100%)").fromTo(r,.99,0),f.fromTo("transform",`translateX(${i})`,a?"translateX(-100%)":"translateX(100%)"),C.beforeClearStyles([r,"transform"]),C.fromTo(r,"var(--opacity)",0),A){const e=(0,Sg.JI)();e.addElement(shadow(A).querySelector(".button-text")||[]).fromTo("transform",`translateX(${i})`,`translateX(${(a?-124:124)+"px"})`),n.addAnimation(e)}}else s.fromTo("transform",`translateX(${i})`,`translateX(${u})`).fromTo(r,.99,0).afterClearStyles([o,r]),f.fromTo("transform",`translateX(${i})`,`translateX(${u})`).afterClearStyles([o,r]),b.afterClearStyles([r]),s.afterClearStyles([r]),c.afterClearStyles([r])}))}return w},innerHTMLTemplatesEnabled:!0,sanitizerEnabled:!0}),mr.h.forRoot({loader:{provide:mr.Wr,useFactory:function createTranslateLoader(e){return new TranslateHttpLoader(e,"./assets/lang/",".json")},deps:[wg.Qq]}}),zo.uH,Cg.Ui,yg,H),{provide:pm.b,useClass:um.jM},{provide:o.hnV,multi:!0,useValue:()=>{cn.CoreCronDelegate.register(cm.instance)}},function provideAnimations(){return(0,o.ngT)("NgEagerAnimations"),[...lm]}(),(0,wg.$R)((0,wg.Sx)())]}).catch((e=>{console.log(e)}))},67374:function(e){!void(e.exports=function(){"use strict";var e=1e3,n=6e4,r=36e5,o="millisecond",i="second",s="minute",a="hour",c="day",u="week",p="month",f="quarter",g="year",v="date",C="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var n=["th","st","nd","rd"],r=e%100;return"["+e+(n[(r-20)%10]||n[r]||n[0])+"]"}},m=function(e,n,r){var o=String(e);return!o||o.length>=n?e:""+Array(n+1-o.length).join(r)+e},_={s:m,z:function(e){var n=-e.utcOffset(),r=Math.abs(n),o=Math.floor(r/60),i=r%60;return(n<=0?"+":"-")+m(o,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,p),i=n-o<0,s=e.clone().add(r+(i?-1:1),p);return+(-(r+(n-o)/(i?o-s:s-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:p,y:g,w:u,d:c,D:v,h:a,m:s,s:i,ms:o,Q:f}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},E="en",I={};I[E]=A;var T="$isDayjsObject",S=function(e){return e instanceof x||!(!e||!e[T])},P=function t(e,n,r){var o;if(!e)return E;if("string"==typeof e){var i=e.toLowerCase();I[i]&&(o=i),n&&(I[i]=n,o=i);var s=e.split("-");if(!o&&s.length>1)return t(s[0])}else{var a=e.name;I[a]=e,o=a}return!r&&o&&(E=o),o||!r&&E},O=function(e,n){if(S(e))return e.clone();var r="object"==typeof n?n:{};return r.date=e,r.args=arguments,new x(r)},k=_;k.l=P,k.i=S,k.w=function(e,n){return O(e,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var x=function(){function M(e){this.$L=P(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[T]=!0}var A=M.prototype;return A.parse=function(e){this.$d=function(e){var n=e.date,r=e.utc;if(null===n)return new Date(NaN);if(k.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var o=n.match(b);if(o){var i=o[2]-1||0,s=(o[7]||"0").substring(0,3);return r?new Date(Date.UTC(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)):new Date(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)}}return new Date(n)}(e),this.init()},A.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},A.$utils=function(){return k},A.isValid=function(){return!(this.$d.toString()===C)},A.isSame=function(e,n){var r=O(e);return this.startOf(n)<=r&&r<=this.endOf(n)},A.isAfter=function(e,n){return O(e)<this.startOf(n)},A.isBefore=function(e,n){return this.endOf(n)<O(e)},A.$g=function(e,n,r){return k.u(e)?this[n]:this.set(r,e)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(e,n){var r=this,o=!!k.u(n)||n,f=k.p(e),l=function(e,n){var i=k.w(r.$u?Date.UTC(r.$y,n,e):new Date(r.$y,n,e),r);return o?i:i.endOf(c)},$=function(e,n){return k.w(r.toDate()[e].apply(r.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(n)),r)},C=this.$W,b=this.$M,w=this.$D,A="set"+(this.$u?"UTC":"");switch(f){case g:return o?l(1,0):l(31,11);case p:return o?l(1,b):l(0,b+1);case u:var _=this.$locale().weekStart||0,E=(C<_?C+7:C)-_;return l(o?w-E:w+(6-E),b);case c:case v:return $(A+"Hours",0);case a:return $(A+"Minutes",1);case s:return $(A+"Seconds",2);case i:return $(A+"Milliseconds",3);default:return this.clone()}},A.endOf=function(e){return this.startOf(e,!1)},A.$set=function(e,n){var r,u=k.p(e),f="set"+(this.$u?"UTC":""),C=(r={},r[c]=f+"Date",r[v]=f+"Date",r[p]=f+"Month",r[g]=f+"FullYear",r[a]=f+"Hours",r[s]=f+"Minutes",r[i]=f+"Seconds",r[o]=f+"Milliseconds",r)[u],b=u===c?this.$D+(n-this.$W):n;if(u===p||u===g){var w=this.clone().set(v,1);w.$d[C](b),w.init(),this.$d=w.set(v,Math.min(this.$D,w.daysInMonth())).$d}else C&&this.$d[C](b);return this.init(),this},A.set=function(e,n){return this.clone().$set(e,n)},A.get=function(e){return this[k.p(e)]()},A.add=function(o,f){var v,C=this;o=Number(o);var b=k.p(f),y=function(e){var n=O(C);return k.w(n.date(n.date()+Math.round(e*o)),C)};if(b===p)return this.set(p,this.$M+o);if(b===g)return this.set(g,this.$y+o);if(b===c)return y(1);if(b===u)return y(7);var w=(v={},v[s]=n,v[a]=r,v[i]=e,v)[b]||1,A=this.$d.getTime()+o*w;return k.w(A,this)},A.subtract=function(e,n){return this.add(-1*e,n)},A.format=function(e){var n=this,r=this.$locale();if(!this.isValid())return r.invalidDate||C;var o=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),s=this.$H,a=this.$m,c=this.$M,u=r.weekdays,p=r.months,h=function(e,r,i,s){return e&&(e[r]||e(n,o))||i[r].slice(0,s)},d=function(e){return k.s(s%12||12,e,"0")},f=r.meridiem||function(e,n,r){var o=e<12?"AM":"PM";return r?o.toLowerCase():o};return o.replace(w,(function(e,o){return o||function(e){switch(e){case"YY":return String(n.$y).slice(-2);case"YYYY":return k.s(n.$y,4,"0");case"M":return c+1;case"MM":return k.s(c+1,2,"0");case"MMM":return h(r.monthsShort,c,p,3);case"MMMM":return h(p,c);case"D":return n.$D;case"DD":return k.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return h(r.weekdaysMin,n.$W,u,2);case"ddd":return h(r.weekdaysShort,n.$W,u,3);case"dddd":return u[n.$W];case"H":return String(s);case"HH":return k.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(s,a,!0);case"A":return f(s,a,!1);case"m":return String(a);case"mm":return k.s(a,2,"0");case"s":return String(n.$s);case"ss":return k.s(n.$s,2,"0");case"SSS":return k.s(n.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(o,v,C){var b,w=this,A=k.p(v),_=O(o),E=(_.utcOffset()-this.utcOffset())*n,I=this-_,D=function(){return k.m(w,_)};switch(A){case g:b=D()/12;break;case p:b=D();break;case f:b=D()/3;break;case u:b=(I-E)/6048e5;break;case c:b=(I-E)/864e5;break;case a:b=I/r;break;case s:b=I/n;break;case i:b=I/e;break;default:b=I}return C?b:k.a(b)},A.daysInMonth=function(){return this.endOf(p).$D},A.$locale=function(){return I[this.$L]},A.locale=function(e,n){if(!e)return this.$L;var r=this.clone(),o=P(e,n,!0);return o&&(r.$L=o),r},A.clone=function(){return k.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},M}(),F=x.prototype;return O.prototype=F,[["$ms",o],["$s",i],["$m",s],["$H",a],["$W",c],["$M",p],["$y",g],["$D",v]].forEach((function(e){F[e[1]]=function(n){return this.$g(n,e[0],e[1])}})),O.extend=function(e,n){return e.$i||(e(n,x,O),e.$i=!0),O},O.locale=P,O.isDayjs=S,O.unix=function(e){return O(1e3*e)},O.en=I[E],O.Ls=I,O.p={},O}())},84412:(e,n,r)=>{"use strict";r.d(n,{t:()=>BehaviorSubject});var o=r(21413);class BehaviorSubject extends o.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}},71985:(e,n,r)=>{"use strict";r.d(n,{c:()=>f});var o=r(47707),i=r(18359),s=r(3494),a=r(71203),c=r(41026),u=r(98071),p=r(49786);let f=(()=>{class Observable{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new Observable;return n.source=this,n.operator=e,n}subscribe(e,n,r){const s=function isSubscriber(e){return e&&e instanceof o.vU||function isObserver(e){return e&&(0,u.T)(e.next)&&(0,u.T)(e.error)&&(0,u.T)(e.complete)}(e)&&(0,i.Uv)(e)}(e)?e:new o.Ms(e,n,r);return(0,p.Y)((()=>{const{operator:e,source:n}=this;s.add(e?e.call(s,n):n?this._subscribe(s):this._trySubscribe(s))})),s}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=getPromiseCtor(n))(((n,r)=>{const i=new o.Ms({next:n=>{try{e(n)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});this.subscribe(i)}))}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[s.s](){return this}pipe(...e){return(0,a.m)(e)(this)}toPromise(e){return new(e=getPromiseCtor(e))(((e,n)=>{let r;this.subscribe((e=>r=e),(e=>n(e)),(()=>e(r)))}))}}return Observable.create=e=>new Observable(e),Observable})();function getPromiseCtor(e){var n;return null!==(n=null!=e?e:c.$.Promise)&&void 0!==n?n:Promise}},21413:(e,n,r)=>{"use strict";r.d(n,{B:()=>u});var o=r(71985),i=r(18359);const s=(0,r(81853).L)((e=>function ObjectUnsubscribedErrorImpl(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));var a=r(57908),c=r(49786);let u=(()=>{class Subject extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new AnonymousSubject(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new s}next(e){(0,c.Y)((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}}))}error(e){(0,c.Y)((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}}))}complete(){(0,c.Y)((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?i.Kn:(this.currentObservers=null,o.push(e),new i.yU((()=>{this.currentObservers=null,(0,a.o)(o,e)})))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new o.c;return e.source=this,e}}return Subject.create=(e,n)=>new AnonymousSubject(e,n),Subject})();class AnonymousSubject extends u{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r?void 0:r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r?void 0:r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n?void 0:n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:i.Kn}}},47707:(e,n,r)=>{"use strict";r.d(n,{Ms:()=>SafeSubscriber,vU:()=>Subscriber});var o=r(98071),i=r(18359),s=r(41026),a=r(45334),c=r(85343);const u=createNotification("C",void 0,void 0);function createNotification(e,n,r){return{kind:e,value:n,error:r}}var p=r(19270),f=r(49786);class Subscriber extends i.yU{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,(0,i.Uv)(e)&&e.add(this)):this.destination=v}static create(e,n,r){return new SafeSubscriber(e,n,r)}next(e){this.isStopped?handleStoppedNotification(function nextNotification(e){return createNotification("N",e,void 0)}(e),this):this._next(e)}error(e){this.isStopped?handleStoppedNotification(function errorNotification(e){return createNotification("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?handleStoppedNotification(u,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g=Function.prototype.bind;function bind(e,n){return g.call(e,n)}class ConsumerObserver{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(e){handleUnhandledError(e)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(e){handleUnhandledError(e)}else handleUnhandledError(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){handleUnhandledError(e)}}}class SafeSubscriber extends Subscriber{constructor(e,n,r){let i;if(super(),(0,o.T)(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let n;this&&s.$.useDeprecatedNextContext?(n=Object.create(e),n.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bind(e.next,n),error:e.error&&bind(e.error,n),complete:e.complete&&bind(e.complete,n)}):i=e}this.destination=new ConsumerObserver(i)}}function handleUnhandledError(e){s.$.useDeprecatedSynchronousErrorHandling?(0,f.l)(e):(0,a.m)(e)}function handleStoppedNotification(e,n){const{onStoppedNotification:r}=s.$;r&&p.f.setTimeout((()=>r(e,n)))}const v={closed:!0,next:c.l,error:function defaultErrorHandler(e){throw e},complete:c.l}},18359:(e,n,r)=>{"use strict";r.d(n,{Kn:()=>a,yU:()=>Subscription,Uv:()=>isSubscription});var o=r(98071);const i=(0,r(81853).L)((e=>function UnsubscriptionErrorImpl(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map(((e,n)=>`${n+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n}));var s=r(57908);class Subscription{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const e of n)e.remove(this);else n.remove(this);const{initialTeardown:r}=this;if((0,o.T)(r))try{r()}catch(n){e=n instanceof i?n.errors:[n]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const n of s)try{execFinalizer(n)}catch(n){e=null!=e?e:[],n instanceof i?e=[...e,...n.errors]:e.push(n)}}if(e)throw new i(e)}}add(e){var n;if(e&&e!==this)if(this.closed)execFinalizer(e);else{if(e instanceof Subscription){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&(0,s.o)(n,e)}remove(e){const{_finalizers:n}=this;n&&(0,s.o)(n,e),e instanceof Subscription&&e._removeParent(this)}}Subscription.EMPTY=(()=>{const e=new Subscription;return e.closed=!0,e})();const a=Subscription.EMPTY;function isSubscription(e){return e instanceof Subscription||e&&"closed"in e&&(0,o.T)(e.remove)&&(0,o.T)(e.add)&&(0,o.T)(e.unsubscribe)}function execFinalizer(e){(0,o.T)(e)?e():e.unsubscribe()}},41026:(e,n,r)=>{"use strict";r.d(n,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},54843:(e,n,r)=>{"use strict";r.d(n,{_:()=>firstValueFrom});var o=r(9350),i=r(47707);function firstValueFrom(e,n){const r="object"==typeof n;return new Promise(((s,a)=>{const c=new i.Ms({next:e=>{s(e),c.unsubscribe()},error:a,complete:()=>{r?s(n.defaultValue):a(new o.G)}});e.subscribe(c)}))}},84572:(e,n,r)=>{"use strict";r.d(n,{z:()=>combineLatest});var o=r(71985),i=r(93073),s=r(86648),a=r(33669),c=r(6450),u=r(9326),p=r(58496),f=r(54360),g=r(45225);function combineLatest(...e){const n=(0,u.lI)(e),r=(0,u.ms)(e),{args:g,keys:v}=(0,i.D)(e);if(0===g.length)return(0,s.H)([],n);const C=new o.c(function combineLatestInit(e,n,r=a.D){return o=>{maybeSchedule(n,(()=>{const{length:i}=e,a=new Array(i);let c=i,u=i;for(let p=0;p<i;p++)maybeSchedule(n,(()=>{const i=(0,s.H)(e[p],n);let g=!1;i.subscribe((0,f._)(o,(e=>{a[p]=e,g||(g=!0,u--),u||o.next(r(a.slice()))}),(()=>{--c||o.complete()})))}),o)}),o)}}(g,n,v?e=>(0,p.e)(v,e):a.D));return r?C.pipe((0,c.I)(r)):C}function maybeSchedule(e,n,r){e?(0,g.N)(r,e,n):n()}},28793:(e,n,r)=>{"use strict";r.d(n,{x:()=>concat});var o=r(26365);var i=r(9326),s=r(86648);function concat(...e){return function concatAll(){return(0,o.U)(1)}()((0,s.H)(e,(0,i.lI)(e)))}},59030:(e,n,r)=>{"use strict";r.d(n,{v:()=>defer});var o=r(71985),i=r(58750);function defer(e){return new o.c((n=>{(0,i.Tg)(e()).subscribe(n)}))}},983:(e,n,r)=>{"use strict";r.d(n,{w:()=>o});const o=new(r(71985).c)((e=>e.complete()))},27468:(e,n,r)=>{"use strict";r.d(n,{p:()=>forkJoin});var o=r(71985),i=r(93073),s=r(58750),a=r(9326),c=r(54360),u=r(6450),p=r(58496);function forkJoin(...e){const n=(0,a.ms)(e),{args:r,keys:f}=(0,i.D)(e),g=new o.c((e=>{const{length:n}=r;if(!n)return e.complete(),void 0;const o=new Array(n);let i=n,a=n;for(let u=0;u<n;u++){let n=!1;(0,s.Tg)(r[u]).subscribe((0,c._)(e,(e=>{n||(n=!0,a--),o[u]=e}),(()=>i--),void 0,(()=>{i&&n||(a||e.next(f?(0,p.e)(f,o):o),e.complete())})))}}));return n?g.pipe((0,u.I)(n)):g}},86648:(e,n,r)=>{"use strict";r.d(n,{H:()=>from});var o=r(58750),i=r(45225),s=r(39974),a=r(54360);function observeOn(e,n=0){return(0,s.N)(((r,o)=>{r.subscribe((0,a._)(o,(r=>(0,i.N)(o,e,(()=>o.next(r)),n)),(()=>(0,i.N)(o,e,(()=>o.complete()),n)),(r=>(0,i.N)(o,e,(()=>o.error(r)),n))))}))}function subscribeOn(e,n=0){return(0,s.N)(((r,o)=>{o.add(e.schedule((()=>r.subscribe(o)),n))}))}var c=r(71985);var u=r(4761),p=r(98071);function scheduleAsyncIterable(e,n){if(!e)throw new Error("Iterable cannot be null");return new c.c((r=>{(0,i.N)(r,n,(()=>{const o=e[Symbol.asyncIterator]();(0,i.N)(r,n,(()=>{o.next().then((e=>{e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}var f=r(55055),g=r(59858),v=r(47441),C=r(85397),b=r(37953),w=r(50591),A=r(15196);function scheduled(e,n){if(null!=e){if((0,f.l)(e))return function scheduleObservable(e,n){return(0,o.Tg)(e).pipe(subscribeOn(n),observeOn(n))}(e,n);if((0,v.X)(e))return function scheduleArray(e,n){return new c.c((r=>{let o=0;return n.schedule((function(){o===e.length?r.complete():(r.next(e[o++]),r.closed||this.schedule())}))}))}(e,n);if((0,g.y)(e))return function schedulePromise(e,n){return(0,o.Tg)(e).pipe(subscribeOn(n),observeOn(n))}(e,n);if((0,b.T)(e))return scheduleAsyncIterable(e,n);if((0,C.x)(e))return function scheduleIterable(e,n){return new c.c((r=>{let o;return(0,i.N)(r,n,(()=>{o=e[u.l](),(0,i.N)(r,n,(()=>{let e,n;try{({value:e,done:n}=o.next())}catch(e){return r.error(e),void 0}n?r.complete():r.next(e)}),0,!0)})),()=>(0,p.T)(null==o?void 0:o.return)&&o.return()}))}(e,n);if((0,A.U)(e))return function scheduleReadableStreamLike(e,n){return scheduleAsyncIterable((0,A.C)(e),n)}(e,n)}throw(0,w.L)(e)}function from(e,n){return n?scheduled(e,n):(0,o.Tg)(e)}},33726:(e,n,r)=>{"use strict";r.d(n,{R:()=>fromEvent});var o=r(58750),i=r(71985),s=r(31397),a=r(47441),c=r(98071),u=r(6450);const p=["addListener","removeListener"],f=["addEventListener","removeEventListener"],g=["on","off"];function fromEvent(e,n,r,v){if((0,c.T)(r)&&(v=r,r=void 0),v)return fromEvent(e,n,r).pipe((0,u.I)(v));const[C,b]=function isEventTarget(e){return(0,c.T)(e.addEventListener)&&(0,c.T)(e.removeEventListener)}(e)?f.map((o=>i=>e[o](n,i,r))):function isNodeStyleEventEmitter(e){return(0,c.T)(e.addListener)&&(0,c.T)(e.removeListener)}(e)?p.map(toCommonHandlerRegistry(e,n)):function isJQueryStyleEventEmitter(e){return(0,c.T)(e.on)&&(0,c.T)(e.off)}(e)?g.map(toCommonHandlerRegistry(e,n)):[];if(!C&&(0,a.X)(e))return(0,s.Z)((e=>fromEvent(e,n,r)))((0,o.Tg)(e));if(!C)throw new TypeError("Invalid event target");return new i.c((e=>{const handler=(...n)=>e.next(1<n.length?n:n[0]);return C(handler),()=>b(handler)}))}function toCommonHandlerRegistry(e,n){return r=>o=>e[r](n,o)}},58750:(e,n,r)=>{"use strict";r.d(n,{Tg:()=>innerFrom});var o=r(31635),i=r(47441),s=r(59858),a=r(71985),c=r(55055),u=r(37953),p=r(50591),f=r(85397),g=r(15196),v=r(98071),C=r(45334),b=r(3494);function innerFrom(e){if(e instanceof a.c)return e;if(null!=e){if((0,c.l)(e))return function fromInteropObservable(e){return new a.c((n=>{const r=e[b.s]();if((0,v.T)(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if((0,i.X)(e))return function fromArrayLike(e){return new a.c((n=>{for(let r=0;r<e.length&&!n.closed;r++)n.next(e[r]);n.complete()}))}(e);if((0,s.y)(e))return function fromPromise(e){return new a.c((n=>{e.then((e=>{n.closed||(n.next(e),n.complete())}),(e=>n.error(e))).then(null,C.m)}))}(e);if((0,u.T)(e))return fromAsyncIterable(e);if((0,f.x)(e))return function fromIterable(e){return new a.c((n=>{for(const r of e)if(n.next(r),n.closed)return;n.complete()}))}(e);if((0,g.U)(e))return function fromReadableStreamLike(e){return fromAsyncIterable((0,g.C)(e))}(e)}throw(0,p.L)(e)}function fromAsyncIterable(e){return new a.c((n=>{(function process(e,n){var r,i,s,a;return(0,o.sH)(this,void 0,void 0,(function*(){try{for(r=(0,o.xN)(e);!(i=yield r.next()).done;){if(n.next(i.value),n.closed)return}}catch(e){s={error:e}}finally{try{i&&!i.done&&(a=r.return)&&(yield a.call(r))}finally{if(s)throw s.error}}n.complete()}))})(e,n).catch((e=>n.error(e)))}))}},7673:(e,n,r)=>{"use strict";r.d(n,{of:()=>of});var o=r(9326),i=r(86648);function of(...e){const n=(0,o.lI)(e);return(0,i.H)(e,n)}},54360:(e,n,r)=>{"use strict";r.d(n,{_:()=>createOperatorSubscriber});var o=r(47707);function createOperatorSubscriber(e,n,r,o,i){return new OperatorSubscriber(e,n,r,o,i)}class OperatorSubscriber extends o.vU{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(r){try{n(r)}catch(n){e.error(n)}}:super._next,this._error=o?function(n){try{o(n)}catch(n){e.error(n)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(n){e.error(n)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}},99437:(e,n,r)=>{"use strict";r.d(n,{W:()=>catchError});var o=r(58750),i=r(54360),s=r(39974);function catchError(e){return(0,s.N)(((n,r)=>{let s,a=null,c=!1;a=n.subscribe((0,i._)(r,void 0,void 0,(i=>{s=(0,o.Tg)(e(i,catchError(e)(n))),a?(a.unsubscribe(),a=null,s.subscribe(r)):c=!0}))),c&&(a.unsubscribe(),a=null,s.subscribe(r))}))}},70274:(e,n,r)=>{"use strict";r.d(n,{H:()=>concatMap});var o=r(31397),i=r(98071);function concatMap(e,n){return(0,i.T)(n)?(0,o.Z)(e,n,1):(0,o.Z)(e,1)}},23294:(e,n,r)=>{"use strict";r.d(n,{F:()=>distinctUntilChanged});var o=r(33669),i=r(39974),s=r(54360);function distinctUntilChanged(e,n=o.D){return e=null!=e?e:defaultCompare,(0,i.N)(((r,o)=>{let i,a=!0;r.subscribe((0,s._)(o,(r=>{const s=n(r);!a&&e(i,s)||(a=!1,i=s,o.next(r))})))}))}function defaultCompare(e,n){return e===n}},5964:(e,n,r)=>{"use strict";r.d(n,{p:()=>filter});var o=r(39974),i=r(54360);function filter(e,n){return(0,o.N)(((r,o)=>{let s=0;r.subscribe((0,i._)(o,(r=>e.call(n,r,s++)&&o.next(r))))}))}},70980:(e,n,r)=>{"use strict";r.d(n,{j:()=>finalize});var o=r(39974);function finalize(e){return(0,o.N)(((n,r)=>{try{n.subscribe(r)}finally{r.add(e)}}))}},96354:(e,n,r)=>{"use strict";r.d(n,{T:()=>map});var o=r(39974),i=r(54360);function map(e,n){return(0,o.N)(((r,o)=>{let s=0;r.subscribe((0,i._)(o,(r=>{o.next(e.call(n,r,s++))})))}))}},73703:(e,n,r)=>{"use strict";r.d(n,{u:()=>mapTo});var o=r(96354);function mapTo(e){return(0,o.T)((()=>e))}},26365:(e,n,r)=>{"use strict";r.d(n,{U:()=>mergeAll});var o=r(31397),i=r(33669);function mergeAll(e=1/0){return(0,o.Z)(i.D,e)}},31397:(e,n,r)=>{"use strict";r.d(n,{Z:()=>mergeMap});var o=r(96354),i=r(58750),s=r(39974),a=r(45225),c=r(54360);var u=r(98071);function mergeMap(e,n,r=1/0){return(0,u.T)(n)?mergeMap(((r,s)=>(0,o.T)(((e,o)=>n(r,e,s,o)))((0,i.Tg)(e(r,s)))),r):("number"==typeof n&&(r=n),(0,s.N)(((n,o)=>function mergeInternals(e,n,r,o,s,u,p,f){const g=[];let v=0,C=0,b=!1;const checkComplete=()=>{!b||g.length||v||n.complete()},outerNext=e=>v<o?doInnerSub(e):g.push(e),doInnerSub=e=>{u&&n.next(e),v++;let f=!1;(0,i.Tg)(r(e,C++)).subscribe((0,c._)(n,(e=>{null==s?void 0:s(e),u?outerNext(e):n.next(e)}),(()=>{f=!0}),void 0,(()=>{if(f)try{for(v--;g.length&&v<o;){const e=g.shift();p?(0,a.N)(n,p,(()=>doInnerSub(e))):doInnerSub(e)}checkComplete()}catch(e){n.error(e)}})))};return e.subscribe((0,c._)(n,outerNext,(()=>{b=!0,checkComplete()}))),()=>{null==f?void 0:f()}}(n,o,e,r))))}},97647:(e,n,r)=>{"use strict";r.d(n,{u:()=>share});var o=r(58750),i=r(21413),s=r(47707),a=r(39974);function share(e={}){const{connector:n=()=>new i.B,resetOnError:r=!0,resetOnComplete:c=!0,resetOnRefCountZero:u=!0}=e;return e=>{let i,p,f,g=0,v=!1,C=!1;const cancelReset=()=>{null==p?void 0:p.unsubscribe(),p=void 0},reset=()=>{cancelReset(),i=f=void 0,v=C=!1},resetAndUnsubscribe=()=>{const e=i;reset(),null==e||e.unsubscribe()};return(0,a.N)(((e,a)=>{g++,C||v||cancelReset();const b=f=null!=f?f:n();a.add((()=>{g--,0!==g||C||v||(p=handleReset(resetAndUnsubscribe,u))})),b.subscribe(a),!i&&g>0&&(i=new s.Ms({next:e=>b.next(e),error:e=>{C=!0,cancelReset(),p=handleReset(reset,r,e),b.error(e)},complete:()=>{v=!0,cancelReset(),p=handleReset(reset,c),b.complete()}}),(0,o.Tg)(e).subscribe(i))}))(e)}}function handleReset(e,n,...r){if(!0===n)return e(),void 0;if(!1===n)return;const i=new s.Ms({next:()=>{i.unsubscribe(),e()}});return(0,o.Tg)(n(...r)).subscribe(i)}},76496:(e,n,r)=>{"use strict";r.d(n,{t:()=>shareReplay});var o=r(21413),i=r(86129);class ReplaySubject extends o.B{constructor(e=1/0,n=1/0,r=i.U){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let n=0;n<i.length&&!e.closed;n+=r?1:2)e.next(i[n]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const e=n.now();let o=0;for(let n=1;n<r.length&&r[n]<=e;n+=2)o=n;o&&r.splice(0,o+1)}}}var s=r(97647);function shareReplay(e,n,r){let o,i=!1;return e&&"object"==typeof e?({bufferSize:o=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:r}=e):o=null!=e?e:1/0,(0,s.u)({connector:()=>new ReplaySubject(o,n,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}},25558:(e,n,r)=>{"use strict";r.d(n,{n:()=>switchMap});var o=r(58750),i=r(39974),s=r(54360);function switchMap(e,n){return(0,i.N)(((r,i)=>{let a=null,c=0,u=!1;const checkComplete=()=>u&&!a&&i.complete();r.subscribe((0,s._)(i,(r=>{null==a?void 0:a.unsubscribe();let u=0;const p=c++;(0,o.Tg)(e(r,p)).subscribe(a=(0,s._)(i,(e=>i.next(n?n(r,e,p,u++):e)),(()=>{a=null,checkComplete()})))}),(()=>{u=!0,checkComplete()})))}))}},96697:(e,n,r)=>{"use strict";r.d(n,{s:()=>take});var o=r(983),i=r(39974),s=r(54360);function take(e){return e<=0?()=>o.w:(0,i.N)(((n,r)=>{let o=0;n.subscribe((0,s._)(r,(n=>{++o<=e&&(r.next(n),e<=o&&r.complete())})))}))}},88141:(e,n,r)=>{"use strict";r.d(n,{M:()=>tap});var o=r(98071),i=r(39974),s=r(54360),a=r(33669);function tap(e,n,r){const c=(0,o.T)(e)||n||r?{next:e,error:n,complete:r}:e;return c?(0,i.N)(((e,n)=>{var r;null===(r=c.subscribe)||void 0===r?void 0:r.call(c);let o=!0;e.subscribe((0,s._)(n,(e=>{var r;null===(r=c.next)||void 0===r?void 0:r.call(c,e),n.next(e)}),(()=>{var e;o=!1,null===(e=c.complete)||void 0===e||e.call(c),n.complete()}),(e=>{var r;o=!1,null===(r=c.error)||void 0===r||r.call(c,e),n.error(e)}),(()=>{var e,n;o&&(null===(e=c.unsubscribe)||void 0===e?void 0:e.call(c)),null===(n=c.finalize)||void 0===n||n.call(c)})))})):a.D}},62087:(e,n,r)=>{"use strict";r.d(n,{w:()=>timeout});var o=r(88839),i=r(28211),s=r(39974),a=r(58750),c=r(81853),u=r(54360),p=r(45225);const f=(0,c.L)((e=>function TimeoutErrorImpl(n=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}));function timeout(e,n){const{first:r,each:c,with:f=timeoutErrorFactory,scheduler:g=(null!=n?n:o.E),meta:v=null}=(0,i.v)(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==r&&null==c)throw new TypeError("No timeout provided.");return(0,s.N)(((e,n)=>{let o,i,s=null,C=0;const startTimer=e=>{i=(0,p.N)(n,g,(()=>{try{o.unsubscribe(),(0,a.Tg)(f({meta:v,lastValue:s,seen:C})).subscribe(n)}catch(e){n.error(e)}}),e)};o=e.subscribe((0,u._)(n,(e=>{null==i?void 0:i.unsubscribe(),C++,n.next(s=e),c>0&&startTimer(c)}),void 0,void 0,(()=>{(null==i?void 0:i.closed)||(null==i?void 0:i.unsubscribe()),s=null}))),!C&&startTimer(null!=r?"number"==typeof r?r:+r-g.now():c)}))}function timeoutErrorFactory(e){throw new f(e)}},88839:(e,n,r)=>{"use strict";r.d(n,{b:()=>u,E:()=>c});var o=r(18359);class Action extends o.yU{constructor(e,n){super()}schedule(e,n=0){return this}}const i={setInterval(e,n,...r){const{delegate:o}=i;return(null==o?void 0:o.setInterval)?o.setInterval(e,n,...r):setInterval(e,n,...r)},clearInterval(e){const{delegate:n}=i;return((null==n?void 0:n.clearInterval)||clearInterval)(e)},delegate:void 0};var s=r(57908);var a=r(86129);class Scheduler{constructor(e,n=Scheduler.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Scheduler.now=a.U.now;const c=new class AsyncScheduler extends Scheduler{constructor(e,n=Scheduler.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return n.push(e),void 0;let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class AsyncAction extends Action{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return i.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&i.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r,o=!1;try{this.work(e)}catch(e){o=!0,r=e||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.o)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),u=c},86129:(e,n,r)=>{"use strict";r.d(n,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},19270:(e,n,r)=>{"use strict";r.d(n,{f:()=>o});const o={setTimeout(e,n,...r){const{delegate:i}=o;return(null==i?void 0:i.setTimeout)?i.setTimeout(e,n,...r):setTimeout(e,n,...r)},clearTimeout(e){const{delegate:n}=o;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0}},4761:(e,n,r)=>{"use strict";r.d(n,{l:()=>o});const o=function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(e,n,r)=>{"use strict";r.d(n,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(e,n,r)=>{"use strict";r.d(n,{G:()=>o});const o=(0,r(81853).L)((e=>function EmptyErrorImpl(){e(this),this.name="EmptyError",this.message="no elements in sequence"}))},9326:(e,n,r)=>{"use strict";r.d(n,{R0:()=>popNumber,lI:()=>popScheduler,ms:()=>popResultSelector});var o=r(98071),i=r(79470);function last(e){return e[e.length-1]}function popResultSelector(e){return(0,o.T)(last(e))?e.pop():void 0}function popScheduler(e){return(0,i.m)(last(e))?e.pop():void 0}function popNumber(e,n){return"number"==typeof last(e)?e.pop():n}},93073:(e,n,r)=>{"use strict";r.d(n,{D:()=>argsArgArrayOrObject});const{isArray:o}=Array,{getPrototypeOf:i,prototype:s,keys:a}=Object;function argsArgArrayOrObject(e){if(1===e.length){const n=e[0];if(o(n))return{args:n,keys:null};if(function isPOJO(e){return e&&"object"==typeof e&&i(e)===s}(n)){const e=a(n);return{args:e.map((e=>n[e])),keys:e}}}return{args:e,keys:null}}},57908:(e,n,r)=>{"use strict";function arrRemove(e,n){if(e){const r=e.indexOf(n);0<=r&&e.splice(r,1)}}r.d(n,{o:()=>arrRemove})},81853:(e,n,r)=>{"use strict";function createErrorClass(e){const n=e((e=>{Error.call(e),e.stack=(new Error).stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}r.d(n,{L:()=>createErrorClass})},58496:(e,n,r)=>{"use strict";function createObject(e,n){return e.reduce(((e,r,o)=>(e[r]=n[o],e)),{})}r.d(n,{e:()=>createObject})},49786:(e,n,r)=>{"use strict";r.d(n,{Y:()=>errorContext,l:()=>captureError});var o=r(41026);let i=null;function errorContext(e){if(o.$.useDeprecatedSynchronousErrorHandling){const n=!i;if(n&&(i={errorThrown:!1,error:null}),e(),n){const{errorThrown:e,error:n}=i;if(i=null,e)throw n}}else e()}function captureError(e){o.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},45225:(e,n,r)=>{"use strict";function executeSchedule(e,n,r,o=0,i=!1){const s=n.schedule((function(){r(),i?e.add(this.schedule(null,o)):this.unsubscribe()}),o);if(e.add(s),!i)return s}r.d(n,{N:()=>executeSchedule})},33669:(e,n,r)=>{"use strict";function identity(e){return e}r.d(n,{D:()=>identity})},47441:(e,n,r)=>{"use strict";r.d(n,{X:()=>isArrayLike});const isArrayLike=e=>e&&"number"==typeof e.length&&"function"!=typeof e},37953:(e,n,r)=>{"use strict";r.d(n,{T:()=>isAsyncIterable});var o=r(98071);function isAsyncIterable(e){return Symbol.asyncIterator&&(0,o.T)(null==e?void 0:e[Symbol.asyncIterator])}},28211:(e,n,r)=>{"use strict";function isValidDate(e){return e instanceof Date&&!isNaN(e)}r.d(n,{v:()=>isValidDate})},98071:(e,n,r)=>{"use strict";function isFunction(e){return"function"==typeof e}r.d(n,{T:()=>isFunction})},55055:(e,n,r)=>{"use strict";r.d(n,{l:()=>isInteropObservable});var o=r(3494),i=r(98071);function isInteropObservable(e){return(0,i.T)(e[o.s])}},85397:(e,n,r)=>{"use strict";r.d(n,{x:()=>isIterable});var o=r(4761),i=r(98071);function isIterable(e){return(0,i.T)(null==e?void 0:e[o.l])}},74402:(e,n,r)=>{"use strict";r.d(n,{A:()=>isObservable});var o=r(71985),i=r(98071);function isObservable(e){return!!e&&(e instanceof o.c||(0,i.T)(e.lift)&&(0,i.T)(e.subscribe))}},59858:(e,n,r)=>{"use strict";r.d(n,{y:()=>isPromise});var o=r(98071);function isPromise(e){return(0,o.T)(null==e?void 0:e.then)}},15196:(e,n,r)=>{"use strict";r.d(n,{C:()=>readableStreamLikeToAsyncGenerator,U:()=>isReadableStreamLike});var o=r(31635),i=r(98071);function readableStreamLikeToAsyncGenerator(e){return(0,o.AQ)(this,arguments,(function*readableStreamLikeToAsyncGenerator_1(){const n=e.getReader();try{for(;;){const{value:e,done:r}=yield(0,o.N3)(n.read());if(r)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(e)}}finally{n.releaseLock()}}))}function isReadableStreamLike(e){return(0,i.T)(null==e?void 0:e.getReader)}},79470:(e,n,r)=>{"use strict";r.d(n,{m:()=>isScheduler});var o=r(98071);function isScheduler(e){return e&&(0,o.T)(e.schedule)}},39974:(e,n,r)=>{"use strict";r.d(n,{N:()=>operate,S:()=>hasLift});var o=r(98071);function hasLift(e){return(0,o.T)(null==e?void 0:e.lift)}function operate(e){return n=>{if(hasLift(n))return n.lift((function(n){try{return e(n,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}},6450:(e,n,r)=>{"use strict";r.d(n,{I:()=>mapOneOrManyArgs});var o=r(96354);const{isArray:i}=Array;function mapOneOrManyArgs(e){return(0,o.T)((n=>function callOrApply(e,n){return i(n)?e(...n):e(n)}(e,n)))}},85343:(e,n,r)=>{"use strict";function noop(){}r.d(n,{l:()=>noop})},71203:(e,n,r)=>{"use strict";r.d(n,{F:()=>pipe,m:()=>pipeFromArray});var o=r(33669);function pipe(...e){return pipeFromArray(e)}function pipeFromArray(e){return 0===e.length?o.D:1===e.length?e[0]:function piped(n){return e.reduce(((e,n)=>n(e)),n)}}},45334:(e,n,r)=>{"use strict";r.d(n,{m:()=>reportUnhandledError});var o=r(41026),i=r(19270);function reportUnhandledError(e){i.f.setTimeout((()=>{const{onUnhandledError:n}=o.$;if(!n)throw e;n(e)}))}},50591:(e,n,r)=>{"use strict";function createInvalidObservableTypeError(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}r.d(n,{L:()=>createInvalidObservableTypeError})},91768:(e,n,r)=>{"use strict";r.d(n,{VV:()=>md5_Md5});class md5_Md5{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,n=!1){return this.onePassHasher.start().appendStr(e).end(n)}static hashAsciiStr(e,n=!1){return this.onePassHasher.start().appendAsciiStr(e).end(n)}static _hex(e){const n=md5_Md5.hexChars,r=md5_Md5.hexOut;let o,i,s,a;for(a=0;a<4;a+=1)for(i=8*a,o=e[a],s=0;s<8;s+=2)r[i+1+s]=n.charAt(15&o),o>>>=4,r[i+0+s]=n.charAt(15&o),o>>>=4;return r.join("")}static _md5cycle(e,n){let r=e[0],o=e[1],i=e[2],s=e[3];r+=(o&i|~o&s)+n[0]-680876936|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[1]-389564586|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[2]+606105819|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[3]-1044525330|0,o=(o<<22|o>>>10)+i|0,r+=(o&i|~o&s)+n[4]-176418897|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[5]+1200080426|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[6]-1473231341|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[7]-45705983|0,o=(o<<22|o>>>10)+i|0,r+=(o&i|~o&s)+n[8]+1770035416|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[9]-1958414417|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[10]-42063|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[11]-1990404162|0,o=(o<<22|o>>>10)+i|0,r+=(o&i|~o&s)+n[12]+1804603682|0,r=(r<<7|r>>>25)+o|0,s+=(r&o|~r&i)+n[13]-40341101|0,s=(s<<12|s>>>20)+r|0,i+=(s&r|~s&o)+n[14]-1502002290|0,i=(i<<17|i>>>15)+s|0,o+=(i&s|~i&r)+n[15]+1236535329|0,o=(o<<22|o>>>10)+i|0,r+=(o&s|i&~s)+n[1]-165796510|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[6]-1069501632|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[11]+643717713|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[0]-373897302|0,o=(o<<20|o>>>12)+i|0,r+=(o&s|i&~s)+n[5]-701558691|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[10]+38016083|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[15]-660478335|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[4]-405537848|0,o=(o<<20|o>>>12)+i|0,r+=(o&s|i&~s)+n[9]+568446438|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[14]-1019803690|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[3]-187363961|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[8]+1163531501|0,o=(o<<20|o>>>12)+i|0,r+=(o&s|i&~s)+n[13]-1444681467|0,r=(r<<5|r>>>27)+o|0,s+=(r&i|o&~i)+n[2]-51403784|0,s=(s<<9|s>>>23)+r|0,i+=(s&o|r&~o)+n[7]+1735328473|0,i=(i<<14|i>>>18)+s|0,o+=(i&r|s&~r)+n[12]-1926607734|0,o=(o<<20|o>>>12)+i|0,r+=(o^i^s)+n[5]-378558|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[8]-2022574463|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[11]+1839030562|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[14]-35309556|0,o=(o<<23|o>>>9)+i|0,r+=(o^i^s)+n[1]-1530992060|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[4]+1272893353|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[7]-155497632|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[10]-1094730640|0,o=(o<<23|o>>>9)+i|0,r+=(o^i^s)+n[13]+681279174|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[0]-358537222|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[3]-722521979|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[6]+76029189|0,o=(o<<23|o>>>9)+i|0,r+=(o^i^s)+n[9]-640364487|0,r=(r<<4|r>>>28)+o|0,s+=(r^o^i)+n[12]-421815835|0,s=(s<<11|s>>>21)+r|0,i+=(s^r^o)+n[15]+530742520|0,i=(i<<16|i>>>16)+s|0,o+=(i^s^r)+n[2]-995338651|0,o=(o<<23|o>>>9)+i|0,r+=(i^(o|~s))+n[0]-198630844|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[7]+1126891415|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[14]-1416354905|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[5]-57434055|0,o=(o<<21|o>>>11)+i|0,r+=(i^(o|~s))+n[12]+1700485571|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[3]-1894986606|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[10]-1051523|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[1]-2054922799|0,o=(o<<21|o>>>11)+i|0,r+=(i^(o|~s))+n[8]+1873313359|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[15]-30611744|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[6]-1560198380|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[13]+1309151649|0,o=(o<<21|o>>>11)+i|0,r+=(i^(o|~s))+n[4]-145523070|0,r=(r<<6|r>>>26)+o|0,s+=(o^(r|~i))+n[11]-1120210379|0,s=(s<<10|s>>>22)+r|0,i+=(r^(s|~o))+n[2]+718787259|0,i=(i<<15|i>>>17)+s|0,o+=(s^(i|~r))+n[9]-343485551|0,o=(o<<21|o>>>11)+i|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(md5_Md5.stateIdentity),this}appendStr(e){const n=this._buffer8,r=this._buffer32;let o,i,s=this._bufferLength;for(i=0;i<e.length;i+=1){if(o=e.charCodeAt(i),o<128)n[s++]=o;else if(o<2048)n[s++]=192+(o>>>6),n[s++]=63&o|128;else if(o<55296||o>56319)n[s++]=224+(o>>>12),n[s++]=o>>>6&63|128,n[s++]=63&o|128;else{if(o=1024*(o-55296)+(e.charCodeAt(++i)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[s++]=240+(o>>>18),n[s++]=o>>>12&63|128,n[s++]=o>>>6&63|128,n[s++]=63&o|128}s>=64&&(this._dataLength+=64,md5_Md5._md5cycle(this._state,r),s-=64,r[0]=r[16])}return this._bufferLength=s,this}appendAsciiStr(e){const n=this._buffer8,r=this._buffer32;let o,i=this._bufferLength,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)n[i++]=e.charCodeAt(s++);if(i<64)break;this._dataLength+=64,md5_Md5._md5cycle(this._state,r),i=0}return this._bufferLength=i,this}appendByteArray(e){const n=this._buffer8,r=this._buffer32;let o,i=this._bufferLength,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)n[i++]=e[s++];if(i<64)break;this._dataLength+=64,md5_Md5._md5cycle(this._state,r),i=0}return this._bufferLength=i,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const n=e.buffer,r=e.state,o=this._state;let i;for(this._dataLength=e.length,this._bufferLength=e.buflen,o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],i=0;i<n.length;i+=1)this._buffer8[i]=n.charCodeAt(i)}end(e=!1){const n=this._bufferLength,r=this._buffer8,o=this._buffer32,i=1+(n>>2);this._dataLength+=n;const s=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,o.set(md5_Md5.buffer32Identity.subarray(i),i),n>55&&(md5_Md5._md5cycle(this._state,o),o.set(md5_Md5.buffer32Identity)),s<=4294967295)o[14]=s;else{const e=s.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;const n=parseInt(e[2],16),r=parseInt(e[1],16)||0;o[14]=n,o[15]=r}return md5_Md5._md5cycle(this._state,o),e?this._state:md5_Md5._hex(this._state)}}if(md5_Md5.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),md5_Md5.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),md5_Md5.hexChars="0123456789abcdef",md5_Md5.hexOut=[],md5_Md5.onePassHasher=new md5_Md5,"5d41402abc4b2a76b9719d911017c592"!==md5_Md5.hashStr("hello"))throw new Error("Md5 self test failed.")},89377:(e,n)=>{"use strict";n.V=void 0;var r=function(){function Md5(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return Md5.hashStr=function(e,n){return void 0===n&&(n=!1),this.onePassHasher.start().appendStr(e).end(n)},Md5.hashAsciiStr=function(e,n){return void 0===n&&(n=!1),this.onePassHasher.start().appendAsciiStr(e).end(n)},Md5._hex=function(e){var n,r,o,i,s=Md5.hexChars,a=Md5.hexOut;for(i=0;i<4;i+=1)for(r=8*i,n=e[i],o=0;o<8;o+=2)a[r+1+o]=s.charAt(15&n),a[r+0+o]=s.charAt(15&(n>>>=4)),n>>>=4;return a.join("")},Md5._md5cycle=function(e,n){var r=e[0],o=e[1],i=e[2],s=e[3];o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&i|~o&s)+n[0]-680876936|0)<<7|r>>>25)+o|0)&o|~r&i)+n[1]-389564586|0)<<12|s>>>20)+r|0)&r|~s&o)+n[2]+606105819|0)<<17|i>>>15)+s|0)&s|~i&r)+n[3]-1044525330|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&i|~o&s)+n[4]-176418897|0)<<7|r>>>25)+o|0)&o|~r&i)+n[5]+1200080426|0)<<12|s>>>20)+r|0)&r|~s&o)+n[6]-1473231341|0)<<17|i>>>15)+s|0)&s|~i&r)+n[7]-45705983|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&i|~o&s)+n[8]+1770035416|0)<<7|r>>>25)+o|0)&o|~r&i)+n[9]-1958414417|0)<<12|s>>>20)+r|0)&r|~s&o)+n[10]-42063|0)<<17|i>>>15)+s|0)&s|~i&r)+n[11]-1990404162|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&i|~o&s)+n[12]+1804603682|0)<<7|r>>>25)+o|0)&o|~r&i)+n[13]-40341101|0)<<12|s>>>20)+r|0)&r|~s&o)+n[14]-1502002290|0)<<17|i>>>15)+s|0)&s|~i&r)+n[15]+1236535329|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&s|i&~s)+n[1]-165796510|0)<<5|r>>>27)+o|0)&i|o&~i)+n[6]-1069501632|0)<<9|s>>>23)+r|0)&o|r&~o)+n[11]+643717713|0)<<14|i>>>18)+s|0)&r|s&~r)+n[0]-373897302|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&s|i&~s)+n[5]-701558691|0)<<5|r>>>27)+o|0)&i|o&~i)+n[10]+38016083|0)<<9|s>>>23)+r|0)&o|r&~o)+n[15]-660478335|0)<<14|i>>>18)+s|0)&r|s&~r)+n[4]-405537848|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&s|i&~s)+n[9]+568446438|0)<<5|r>>>27)+o|0)&i|o&~i)+n[14]-1019803690|0)<<9|s>>>23)+r|0)&o|r&~o)+n[3]-187363961|0)<<14|i>>>18)+s|0)&r|s&~r)+n[8]+1163531501|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o&s|i&~s)+n[13]-1444681467|0)<<5|r>>>27)+o|0)&i|o&~i)+n[2]-51403784|0)<<9|s>>>23)+r|0)&o|r&~o)+n[7]+1735328473|0)<<14|i>>>18)+s|0)&r|s&~r)+n[12]-1926607734|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o^i^s)+n[5]-378558|0)<<4|r>>>28)+o|0)^o^i)+n[8]-2022574463|0)<<11|s>>>21)+r|0)^r^o)+n[11]+1839030562|0)<<16|i>>>16)+s|0)^s^r)+n[14]-35309556|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o^i^s)+n[1]-1530992060|0)<<4|r>>>28)+o|0)^o^i)+n[4]+1272893353|0)<<11|s>>>21)+r|0)^r^o)+n[7]-155497632|0)<<16|i>>>16)+s|0)^s^r)+n[10]-1094730640|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o^i^s)+n[13]+681279174|0)<<4|r>>>28)+o|0)^o^i)+n[0]-358537222|0)<<11|s>>>21)+r|0)^r^o)+n[3]-722521979|0)<<16|i>>>16)+s|0)^s^r)+n[6]+76029189|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((s=((s+=((r=((r+=(o^i^s)+n[9]-640364487|0)<<4|r>>>28)+o|0)^o^i)+n[12]-421815835|0)<<11|s>>>21)+r|0)^r^o)+n[15]+530742520|0)<<16|i>>>16)+s|0)^s^r)+n[2]-995338651|0)<<23|o>>>9)+i|0,o=((o+=((s=((s+=(o^((r=((r+=(i^(o|~s))+n[0]-198630844|0)<<6|r>>>26)+o|0)|~i))+n[7]+1126891415|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~o))+n[14]-1416354905|0)<<15|i>>>17)+s|0)|~r))+n[5]-57434055|0)<<21|o>>>11)+i|0,o=((o+=((s=((s+=(o^((r=((r+=(i^(o|~s))+n[12]+1700485571|0)<<6|r>>>26)+o|0)|~i))+n[3]-1894986606|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~o))+n[10]-1051523|0)<<15|i>>>17)+s|0)|~r))+n[1]-2054922799|0)<<21|o>>>11)+i|0,o=((o+=((s=((s+=(o^((r=((r+=(i^(o|~s))+n[8]+1873313359|0)<<6|r>>>26)+o|0)|~i))+n[15]-30611744|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~o))+n[6]-1560198380|0)<<15|i>>>17)+s|0)|~r))+n[13]+1309151649|0)<<21|o>>>11)+i|0,o=((o+=((s=((s+=(o^((r=((r+=(i^(o|~s))+n[4]-145523070|0)<<6|r>>>26)+o|0)|~i))+n[11]-1120210379|0)<<10|s>>>22)+r|0)^((i=((i+=(r^(s|~o))+n[2]+718787259|0)<<15|i>>>17)+s|0)|~r))+n[9]-343485551|0)<<21|o>>>11)+i|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=i+e[2]|0,e[3]=s+e[3]|0},Md5.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(Md5.stateIdentity),this},Md5.prototype.appendStr=function(e){var n,r,o=this._buffer8,i=this._buffer32,s=this._bufferLength;for(r=0;r<e.length;r+=1){if((n=e.charCodeAt(r))<128)o[s++]=n;else if(n<2048)o[s++]=192+(n>>>6),o[s++]=63&n|128;else if(n<55296||n>56319)o[s++]=224+(n>>>12),o[s++]=n>>>6&63|128,o[s++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");o[s++]=240+(n>>>18),o[s++]=n>>>12&63|128,o[s++]=n>>>6&63|128,o[s++]=63&n|128}s>=64&&(this._dataLength+=64,Md5._md5cycle(this._state,i),s-=64,i[0]=i[16])}return this._bufferLength=s,this},Md5.prototype.appendAsciiStr=function(e){for(var n,r=this._buffer8,o=this._buffer32,i=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-i);n--;)r[i++]=e.charCodeAt(s++);if(i<64)break;this._dataLength+=64,Md5._md5cycle(this._state,o),i=0}return this._bufferLength=i,this},Md5.prototype.appendByteArray=function(e){for(var n,r=this._buffer8,o=this._buffer32,i=this._bufferLength,s=0;;){for(n=Math.min(e.length-s,64-i);n--;)r[i++]=e[s++];if(i<64)break;this._dataLength+=64,Md5._md5cycle(this._state,o),i=0}return this._bufferLength=i,this},Md5.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},Md5.prototype.setState=function(e){var n,r=e.buffer,o=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],n=0;n<r.length;n+=1)this._buffer8[n]=r.charCodeAt(n)},Md5.prototype.end=function(e){void 0===e&&(e=!1);var n=this._bufferLength,r=this._buffer8,o=this._buffer32,i=1+(n>>2);this._dataLength+=n;var s=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,o.set(Md5.buffer32Identity.subarray(i),i),n>55&&(Md5._md5cycle(this._state,o),o.set(Md5.buffer32Identity)),s<=4294967295)o[14]=s;else{var a=s.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;var c=parseInt(a[2],16),u=parseInt(a[1],16)||0;o[14]=c,o[15]=u}return Md5._md5cycle(this._state,o),e?this._state:Md5._hex(this._state)},Md5.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),Md5.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Md5.hexChars="0123456789abcdef",Md5.hexOut=[],Md5.onePassHasher=new Md5,Md5}();if(n.V=r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello"))throw new Error("Md5 self test failed.")},88996:(e,n,r)=>{var o={"./ion-accordion_2.entry.js":[32375,72076,32375],"./ion-action-sheet.entry.js":[18814,72076,18814],"./ion-alert.entry.js":[45222,72076,45222],"./ion-app_8.entry.js":[77720,72076,77720],"./ion-avatar_3.entry.js":[81049,81049],"./ion-back-button.entry.js":[93162,72076,93162],"./ion-backdrop.entry.js":[77240,77240],"./ion-breadcrumb_2.entry.js":[68314,72076,68314],"./ion-button_2.entry.js":[64591,64591],"./ion-card_5.entry.js":[48584,48584],"./ion-checkbox.entry.js":[83511,83511],"./ion-chip.entry.js":[56024,56024],"./ion-col_3.entry.js":[25100,25100],"./ion-datetime-button.entry.js":[67428,86647,67428],"./ion-datetime_3.entry.js":[55266,86647,72076,32885],"./ion-fab_3.entry.js":[14463,72076,14463],"./ion-img.entry.js":[74183,74183],"./ion-infinite-scroll_2.entry.js":[44171,72076,44171],"./ion-input-password-toggle.entry.js":[6521,72076,6521],"./ion-input.entry.js":[9344,72076,9344],"./ion-item-option_3.entry.js":[25949,72076,25949],"./ion-item_8.entry.js":[51125,72076,73506],"./ion-loading.entry.js":[97372,72076,97372],"./ion-menu_3.entry.js":[82075,72076,82075],"./ion-modal.entry.js":[40441,72076,40441],"./ion-nav_2.entry.js":[45712,72076,45712],"./ion-picker-column-option.entry.js":[89013,89013],"./ion-picker-column.entry.js":[51459,72076,51459],"./ion-picker.entry.js":[16840,16840],"./ion-popover.entry.js":[96433,72076,96433],"./ion-progress-bar.entry.js":[59977,59977],"./ion-radio_2.entry.js":[8066,72076,8066],"./ion-range.entry.js":[98477,72076,98477],"./ion-refresher_2.entry.js":[35197,72076,35197],"./ion-reorder_2.entry.js":[7030,72076,7030],"./ion-ripple-effect.entry.js":[80964,80964],"./ion-route_4.entry.js":[38970,38970],"./ion-searchbar.entry.js":[48193,72076,48193],"./ion-segment-content.entry.js":[49073,49073],"./ion-segment-view.entry.js":[30323,30323],"./ion-segment_2.entry.js":[62560,72076,62560],"./ion-select-modal.entry.js":[90770,90770],"./ion-select_3.entry.js":[27076,72076,27076],"./ion-spinner.entry.js":[28805,72076,28805],"./ion-split-pane.entry.js":[95887,95887],"./ion-tab-bar_2.entry.js":[84406,72076,84406],"./ion-tab_2.entry.js":[91102,91102],"./ion-text.entry.js":[41577,41577],"./ion-textarea.entry.js":[52348,72076,52348],"./ion-toast.entry.js":[62415,72076,62415],"./ion-toggle.entry.js":[3814,72076,3814]};function webpackAsyncContext(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=o[e],i=n[0];return Promise.all(n.slice(1).map(r.e)).then((()=>r(i)))}webpackAsyncContext.keys=()=>Object.keys(o),webpackAsyncContext.id=88996,e.exports=webpackAsyncContext},65359:(e,n,r)=>{var o={"./af":[73333,73333],"./af.js":[73333,73333],"./am":[85300,85300],"./am.js":[85300,85300],"./ar":[19913,19913],"./ar-dz":[51292,51292],"./ar-dz.js":[51292,51292],"./ar-iq":[28616,28616],"./ar-iq.js":[28616,28616],"./ar-kw":[5632,5632],"./ar-kw.js":[5632,5632],"./ar-ly":[59933,59933],"./ar-ly.js":[59933,59933],"./ar-ma":[65708,65708],"./ar-ma.js":[65708,65708],"./ar-sa":[55918,55918],"./ar-sa.js":[55918,55918],"./ar-tn":[59632,59632],"./ar-tn.js":[59632,59632],"./ar.js":[19913,19913],"./az":[43377,43377],"./az.js":[43377,43377],"./be":[75195,75195],"./be.js":[75195,75195],"./bg":[39101,39101],"./bg.js":[39101,39101],"./bi":[45623,45623],"./bi.js":[45623,45623],"./bm":[64211,64211],"./bm.js":[64211,64211],"./bn":[70742,70742],"./bn-bd":[55553,55553],"./bn-bd.js":[55553,55553],"./bn.js":[70742,70742],"./bo":[79701,79701],"./bo.js":[79701,79701],"./br":[1090,1090],"./br.js":[1090,1090],"./bs":[85329,85329],"./bs.js":[85329,85329],"./ca":[92334,92334],"./ca.js":[92334,92334],"./cs":[50356,50356],"./cs.js":[50356,50356],"./cv":[9823,9823],"./cv.js":[9823,9823],"./cy":[2902,2902],"./cy.js":[2902,2902],"./da":[52269,52269],"./da.js":[52269,52269],"./de":[51409,51409],"./de-at":[67035,67035],"./de-at.js":[67035,67035],"./de-ch":[19437,19437],"./de-ch.js":[19437,19437],"./de.js":[51409,51409],"./dv":[25480,25480],"./dv.js":[25480,25480],"./el":[58455,58455],"./el.js":[58455,58455],"./en":[69785,69785],"./en-au":[26364,26364],"./en-au.js":[26364,26364],"./en-ca":[35726,35726],"./en-ca.js":[35726,35726],"./en-gb":[51583,51583],"./en-gb.js":[51583,51583],"./en-ie":[37236,37236],"./en-ie.js":[37236,37236],"./en-il":[74195,74195],"./en-il.js":[74195,74195],"./en-in":[89685,89685],"./en-in.js":[89685,89685],"./en-nz":[29238,29238],"./en-nz.js":[29238,29238],"./en-sg":[25224,25224],"./en-sg.js":[25224,25224],"./en-tt":[26082,26082],"./en-tt.js":[26082,26082],"./en.js":[69785,69785],"./eo":[57002,57002],"./eo.js":[57002,57002],"./es":[72494,72494],"./es-do":[88194,88194],"./es-do.js":[88194,88194],"./es-mx":[70678,70678],"./es-mx.js":[70678,70678],"./es-pr":[33857,33857],"./es-pr.js":[33857,33857],"./es-us":[51251,51251],"./es-us.js":[51251,51251],"./es.js":[72494,72494],"./et":[76175,76175],"./et.js":[76175,76175],"./eu":[41816,41816],"./eu.js":[41816,41816],"./fa":[73987,73987],"./fa.js":[73987,73987],"./fi":[91115,91115],"./fi.js":[91115,91115],"./fo":[15569,15569],"./fo.js":[15569,15569],"./fr":[34230,34230],"./fr-ca":[36591,36591],"./fr-ca.js":[36591,36591],"./fr-ch":[8048,8048],"./fr-ch.js":[8048,8048],"./fr.js":[34230,34230],"./fy":[38683,38683],"./fy.js":[38683,38683],"./ga":[63698,63698],"./ga.js":[63698,63698],"./gd":[67677,67677],"./gd.js":[67677,67677],"./gl":[56693,56693],"./gl.js":[56693,56693],"./gom-latn":[24435,24435],"./gom-latn.js":[24435,24435],"./gu":[30766,30766],"./gu.js":[30766,30766],"./he":[89165,89165],"./he.js":[89165,89165],"./hi":[39177,39177],"./hi.js":[39177,39177],"./hr":[62376,62376],"./hr.js":[62376,62376],"./ht":[9374,9374],"./ht.js":[9374,9374],"./hu":[58941,58941],"./hu.js":[58941,58941],"./hy-am":[72948,72948],"./hy-am.js":[72948,72948],"./id":[41275,41275],"./id.js":[41275,41275],"./index.d":[58157,58157],"./index.d.ts":[58157,58157],"./is":[16098,16098],"./is.js":[16098,16098],"./it":[59531,59531],"./it-ch":[81727,81727],"./it-ch.js":[81727,81727],"./it.js":[59531,59531],"./ja":[90599,90599],"./ja.js":[90599,90599],"./jv":[27510,27510],"./jv.js":[27510,27510],"./ka":[57910,57910],"./ka.js":[57910,57910],"./kk":[14420,14420],"./kk.js":[14420,14420],"./km":[15506,15506],"./km.js":[15506,15506],"./kn":[22303,22303],"./kn.js":[22303,22303],"./ko":[30216,30216],"./ko.js":[30216,30216],"./ku":[17274,17274],"./ku.js":[17274,17274],"./ky":[46830,46830],"./ky.js":[46830,46830],"./lb":[56396,56396],"./lb.js":[56396,56396],"./lo":[51775,51775],"./lo.js":[51775,51775],"./lt":[30394,30394],"./lt.js":[30394,30394],"./lv":[50544,50544],"./lv.js":[50544,50544],"./me":[62928,62928],"./me.js":[62928,62928],"./mi":[14852,14852],"./mi.js":[14852,14852],"./mk":[12910,12910],"./mk.js":[12910,12910],"./ml":[16591,16591],"./ml.js":[16591,16591],"./mn":[38577,38577],"./mn.js":[38577,38577],"./mr":[49301,49301],"./mr.js":[49301,49301],"./ms":[40342,40342],"./ms-my":[84989,84989],"./ms-my.js":[84989,84989],"./ms.js":[40342,40342],"./mt":[98871,98871],"./mt.js":[98871,98871],"./my":[80500,80500],"./my.js":[80500,80500],"./nb":[47406,47406],"./nb.js":[47406,47406],"./ne":[1615,1615],"./ne.js":[1615,1615],"./nl":[74128,74128],"./nl-be":[76708,76708],"./nl-be.js":[76708,76708],"./nl.js":[74128,74128],"./nn":[10906,10906],"./nn.js":[10906,10906],"./oc-lnc":[18486,18486],"./oc-lnc.js":[18486,18486],"./pa-in":[9845,9845],"./pa-in.js":[9845,9845],"./pl":[3518,3518],"./pl.js":[3518,3518],"./pt":[31014,31014],"./pt-br":[7803,7803],"./pt-br.js":[7803,7803],"./pt.js":[31014,31014],"./rn":[60486,60486],"./rn.js":[60486,60486],"./ro":[91205,91205],"./ro.js":[91205,91205],"./ru":[30587,30587],"./ru.js":[30587,30587],"./rw":[45533,45533],"./rw.js":[45533,45533],"./sd":[75329,75329],"./sd.js":[75329,75329],"./se":[55602,55602],"./se.js":[55602,55602],"./si":[72886,72886],"./si.js":[72886,72886],"./sk":[77484,77484],"./sk.js":[77484,77484],"./sl":[59097,59097],"./sl.js":[59097,59097],"./sq":[39022,39022],"./sq.js":[39022,39022],"./sr":[46123,46123],"./sr-cyrl":[31190,31190],"./sr-cyrl.js":[31190,31190],"./sr.js":[46123,46123],"./ss":[24100,24100],"./ss.js":[24100,24100],"./sv":[175,175],"./sv-fi":[63057,63057],"./sv-fi.js":[63057,63057],"./sv.js":[175,175],"./sw":[56248,56248],"./sw.js":[56248,56248],"./ta":[18237,18237],"./ta.js":[18237,18237],"./te":[33985,33985],"./te.js":[33985,33985],"./tet":[78081,78081],"./tet.js":[78081,78081],"./tg":[33503,33503],"./tg.js":[33503,33503],"./th":[66230,66230],"./th.js":[66230,66230],"./tk":[20051,20051],"./tk.js":[20051,20051],"./tl-ph":[88595,88595],"./tl-ph.js":[88595,88595],"./tlh":[61912,61912],"./tlh.js":[61912,61912],"./tr":[1092,1092],"./tr.js":[1092,1092],"./types.d":[12408,12408],"./types.d.ts":[12408,12408],"./tzl":[21122,21122],"./tzl.js":[21122,21122],"./tzm":[89009,89009],"./tzm-latn":[20227,20227],"./tzm-latn.js":[20227,20227],"./tzm.js":[89009,89009],"./ug-cn":[86074,86074],"./ug-cn.js":[86074,86074],"./uk":[73318,73318],"./uk.js":[73318,73318],"./ur":[42013,42013],"./ur.js":[42013,42013],"./uz":[47381,47381],"./uz-latn":[8447,8447],"./uz-latn.js":[8447,8447],"./uz.js":[47381,47381],"./vi":[28443,28443],"./vi.js":[28443,28443],"./x-pseudo":[80047,80047],"./x-pseudo.js":[80047,80047],"./yo":[18182,18182],"./yo.js":[18182,18182],"./zh":[89576,89576],"./zh-cn":[84564,84564],"./zh-cn.js":[84564,84564],"./zh-hk":[36228,36228],"./zh-hk.js":[36228,36228],"./zh-tw":[87556,87556],"./zh-tw.js":[87556,87556],"./zh.js":[89576,89576]};function webpackAsyncContext(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=o[e],i=n[0];return r.e(n[1]).then((()=>r.t(i,23)))}webpackAsyncContext.keys=()=>Object.keys(o),webpackAsyncContext.id=65359,e.exports=webpackAsyncContext},75065:(e,n,r)=>{var o={"./app.ts":22419,"./clear-tmp-folder.ts":74038,"./consume-storage-redirect.ts":97111,"./index.ts":70028,"./initialize-databases.ts":18923,"./initialize-icons.ts":78103,"./initialize-services.ts":72185,"./initialize-urlscheme.ts":68743,"./initialize-user-agent.ts":87246,"./inject-ios-scripts.ts":27134,"./override-window-open.ts":75584,"./prepare-devtools.ts":35158,"./prepare-inapp-browser.ts":67089,"./restore-session.ts":63371,"./subscribe-to-keyboard-events.ts":27464,"./wait-for-platform-ready.ts":43819,"./watch-network.ts":25976,"./watch-screen-status.ts":32083};function webpackContext(e){var n=webpackContextResolve(e);return r(n)}function webpackContextResolve(e){if(!r.o(o,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return o[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=75065},49969:(e,n,r)=>{"use strict";r.d(n,{FX:()=>s,If:()=>o,K2:()=>sequence,hZ:()=>trigger,i0:()=>animate,i7:()=>keyframes,iF:()=>style,kY:()=>transition,kp:()=>i,sf:()=>NoopAnimationPlayer,ui:()=>AnimationGroupPlayer,wk:()=>state});var o=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(o||{});const i="*";function trigger(e,n){return{type:o.Trigger,name:e,definitions:n,options:{}}}function animate(e,n=null){return{type:o.Animate,styles:n,timings:e}}function sequence(e,n=null){return{type:o.Sequence,steps:e,options:n}}function style(e){return{type:o.Style,styles:e,offset:null}}function state(e,n,r){return{type:o.State,name:e,styles:n,options:r}}function keyframes(e){return{type:o.Keyframes,steps:e}}function transition(e,n,r=null){return{type:o.Transition,expr:e,animation:n,options:r}}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class NoopAnimationPlayer{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask((()=>this._onFinish()))}_onStart(){this._onStartFns.forEach((e=>e())),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach((e=>e())),n.length=0}}class AnimationGroupPlayer{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,o=0;const i=this.players.length;0==i?queueMicrotask((()=>this._onFinish())):this.players.forEach((e=>{e.onDone((()=>{++n==i&&this._onFinish()})),e.onDestroy((()=>{++r==i&&this._onDestroy()})),e.onStart((()=>{++o==i&&this._onStart()}))})),this.totalTime=this.players.reduce(((e,n)=>Math.max(e,n.totalTime)),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this.players.forEach((e=>e.init()))}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((e=>e())),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((e=>e.play()))}pause(){this.players.forEach((e=>e.pause()))}restart(){this.players.forEach((e=>e.restart()))}finish(){this._onFinish(),this.players.forEach((e=>e.finish()))}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((e=>e.destroy())),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this.players.forEach((e=>e.reset())),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach((e=>{const r=e.totalTime?Math.min(1,n/e.totalTime):1;e.setPosition(r)}))}getPosition(){const e=this.players.reduce(((e,n)=>null===e||n.totalTime>e.totalTime?n:e),null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()}))}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach((e=>e())),n.length=0}}const s="!"},60177:(e,n,r)=>{"use strict";r.d(n,{AJ:()=>Oe,B3:()=>pe,GH:()=>ve,Jj:()=>he,MD:()=>Fe,N0:()=>XhrFactory,P9:()=>xe,QT:()=>getDOM,QX:()=>Te,Sm:()=>g,Sq:()=>ie,T3:()=>fe,TG:()=>De,VF:()=>DomAdapter,Vy:()=>isPlatformServer,Xr:()=>Ne,YU:()=>re,ZD:()=>setRootDomAdapter,_b:()=>parseCookieValue,aZ:()=>C,bT:()=>se,e1:()=>le,fw:()=>v,hb:()=>p,hj:()=>c,qQ:()=>s,ux:()=>ae});var o=r(54438);let i=null;function getDOM(){return i}function setRootDomAdapter(e){null!=i?i:i=e}class DomAdapter{}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const s=new o.nKC(ngDevMode?"DocumentToken":"");let a=(()=>{var e;class PlatformLocation{historyGo(e){throw new Error(ngDevMode?"Not implemented":"")}}return(e=PlatformLocation).ɵfac=function _PlatformLocation_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:()=>(0,o.WQX)(u),providedIn:"platform"}),PlatformLocation})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const c=new o.nKC(ngDevMode?"Location Initialized":"");let u=(()=>{var e;class BrowserPlatformLocation extends a{constructor(){super(),this._doc=(0,o.WQX)(s),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return getDOM().getBaseHref(this._doc)}onPopState(e){const n=getDOM().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=getDOM().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return(e=BrowserPlatformLocation).ɵfac=function _BrowserPlatformLocation_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:()=>new e,providedIn:"platform"}),BrowserPlatformLocation})();function joinWithSlash(e,n){if(0==e.length)return n;if(0==n.length)return e;let r=0;return e.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?e+n.substring(1):1==r?e+n:e+"/"+n}function stripTrailingSlash(e){const n=e.match(/#|\?|$/),r=n&&n.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let p=(()=>{var e;class LocationStrategy{historyGo(e){throw new Error(ngDevMode?"Not implemented":"")}}return(e=LocationStrategy).ɵfac=function _LocationStrategy_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:()=>(0,o.WQX)(g),providedIn:"root"}),LocationStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const f=new o.nKC(ngDevMode?"appBaseHref":"");let g=(()=>{var e;class PathLocationStrategy extends p{constructor(e,n){var r,i,a;super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=null!==(r=null!==(i=null!=n?n:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(a=(0,o.WQX)(s).location)||void 0===a?void 0:a.origin)&&void 0!==r?r:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return joinWithSlash(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+normalizeQueryParams(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const i=this.prepareExternalUrl(r+normalizeQueryParams(o));this._platformLocation.pushState(e,n,i)}replaceState(e,n,r,o){const i=this.prepareExternalUrl(r+normalizeQueryParams(o));this._platformLocation.replaceState(e,n,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var n,r;null===(n=(r=this._platformLocation).historyGo)||void 0===n||n.call(r,e)}}return(e=PathLocationStrategy).ɵfac=function _PathLocationStrategy_Factory(n){return new(n||e)(o.KVO(a),o.KVO(f,8))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),PathLocationStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let v=(()=>{var e;class HashLocationStrategy extends p{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){var n;const r=null!==(n=this._platformLocation.hash)&&void 0!==n?n:"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const n=joinWithSlash(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let i=this.prepareExternalUrl(r+normalizeQueryParams(o));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,n,i)}replaceState(e,n,r,o){let i=this.prepareExternalUrl(r+normalizeQueryParams(o));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var n,r;null===(n=(r=this._platformLocation).historyGo)||void 0===n||n.call(r,e)}}return(e=HashLocationStrategy).ɵfac=function _HashLocationStrategy_Factory(n){return new(n||e)(o.KVO(a),o.KVO(f,8))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),HashLocationStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let C=(()=>{var e;class Location{constructor(e){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function _stripOrigin(e){const n=new RegExp("^(https?:)?//").test(e);if(n){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(stripTrailingSlash(_stripIndexHtml(n))),this._locationStrategy.onPopState((e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})}))}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+normalizeQueryParams(n))}normalize(e){return Location.stripTrailingSlash(function _stripBasePath(e,n){if(!e||!n.startsWith(e))return n;const r=n.substring(e.length);if(""===r||["/",";","?","#"].includes(r[0]))return r;return n}(this._basePath,_stripIndexHtml(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+normalizeQueryParams(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+normalizeQueryParams(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var n,r;null===(n=(r=this._locationStrategy).historyGo)||void 0===n||n.call(r,e)}onUrlChange(e){var n;return this._urlChangeListeners.push(e),null!==(n=this._urlChangeSubscription)&&void 0!==n||(this._urlChangeSubscription=this.subscribe((e=>{this._notifyUrlChangeListeners(e.url,e.state)}))),()=>{const n=this._urlChangeListeners.indexOf(e);var r;(this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length)&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach((r=>r(e,n)))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}}return(e=Location).normalizeQueryParams=normalizeQueryParams,e.joinWithSlash=joinWithSlash,e.stripTrailingSlash=stripTrailingSlash,e.ɵfac=function _Location_Factory(n){return new(n||e)(o.KVO(p))},e.ɵprov=o.jDH({token:e,factory:()=>createLocation(),providedIn:"root"}),Location})();function createLocation(){return new C((0,o.KVO)(p))}function _stripIndexHtml(e){return e.replace(/\/index.html$/,"")}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const b={ADP:[void 0,void 0,0],AFN:[void 0,"؋",0],ALL:[void 0,void 0,0],AMD:[void 0,"֏",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"₼"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",2],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GHS:[void 0,"GH₵"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["₱"],PKR:[void 0,"Rs",2],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["¤"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var w=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(w||{}),A=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}(A||{}),_=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(_||{}),E=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(E||{}),I=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(I||{});const T=0,P=1,k=3,x=5,F=6,R=9,N=12,L=13;var H=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}(H||{});function getLocaleDateFormat(e,n){return getLastDefinedValue((0,o.H5H)(e)[o.KH2.DateFormat],n)}function getLocaleTimeFormat(e,n){return getLastDefinedValue((0,o.H5H)(e)[o.KH2.TimeFormat],n)}function getLocaleDateTimeFormat(e,n){return getLastDefinedValue((0,o.H5H)(e)[o.KH2.DateTimeFormat],n)}function getLocaleNumberSymbol(e,n){const r=(0,o.H5H)(e),i=r[o.KH2.NumberSymbols][n];if(void 0===i){if(n===N)return r[o.KH2.NumberSymbols][T];if(n===L)return r[o.KH2.NumberSymbols][P]}return i}function getLocaleNumberFormat(e,n){return(0,o.H5H)(e)[o.KH2.NumberFormats][n]}const U=o.mq5;function checkFullData(e){if(!e[o.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[o.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function getLastDefinedValue(e,n){for(let r=n;r>-1;r--)if(void 0!==e[r])return e[r];throw new Error("Locale data API: locale data undefined")}function extractTime(e){const[n,r]=e.split(":");return{hours:+n,minutes:+r}}function getCurrencySymbol(e,n,r="en"){const i=function getLocaleCurrencies(e){return(0,o.H5H)(e)[o.KH2.Currencies]}(r)[e]||b[e]||[],s=i[1];return"narrow"===n&&"string"==typeof s?s:i[0]||e}const B=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,j={},V=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var G=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(G||{}),z=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(z||{}),q=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(q||{});function formatDate(e,n,r,o){let i=function toDate(e){if(isDate(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[n,r=1,o=1]=e.split("-").map((e=>+e));return createDate(n,r-1,o)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(B))return function isoStringToDate(e){const n=new Date(0);let r=0,o=0;const i=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(r=Number(e[9]+e[10]),o=Number(e[9]+e[11]));i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const a=Number(e[4]||0)-r,c=Number(e[5]||0)-o,u=Number(e[6]||0),p=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(n,a,c,u,p),n}(r)}const n=new Date(e);if(!isDate(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=getNamedFormat(r,n)||n;let s,a=[];for(;n;){if(s=V.exec(n),!s){a.push(n);break}{a=a.concat(s.slice(1));const e=a.pop();if(!e)break;n=e}}let c=i.getTimezoneOffset();o&&(c=timezoneToOffset(o,c),i=function convertTimezoneToLocal(e,n,r){const o=r?-1:1,i=e.getTimezoneOffset(),s=timezoneToOffset(n,i);return function addDateMinutes(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}(e,o*(s-i))}(i,o,!0));let u="";return a.forEach((e=>{const n=function getDateFormatter(e){if(Q[e])return Q[e];let n;switch(e){case"G":case"GG":case"GGG":n=dateStrGetter(q.Eras,E.Abbreviated);break;case"GGGG":n=dateStrGetter(q.Eras,E.Wide);break;case"GGGGG":n=dateStrGetter(q.Eras,E.Narrow);break;case"y":n=dateGetter(z.FullYear,1,0,!1,!0);break;case"yy":n=dateGetter(z.FullYear,2,0,!0,!0);break;case"yyy":n=dateGetter(z.FullYear,3,0,!1,!0);break;case"yyyy":n=dateGetter(z.FullYear,4,0,!1,!0);break;case"Y":n=weekNumberingYearGetter(1);break;case"YY":n=weekNumberingYearGetter(2,!0);break;case"YYY":n=weekNumberingYearGetter(3);break;case"YYYY":n=weekNumberingYearGetter(4);break;case"M":case"L":n=dateGetter(z.Month,1,1);break;case"MM":case"LL":n=dateGetter(z.Month,2,1);break;case"MMM":n=dateStrGetter(q.Months,E.Abbreviated);break;case"MMMM":n=dateStrGetter(q.Months,E.Wide);break;case"MMMMM":n=dateStrGetter(q.Months,E.Narrow);break;case"LLL":n=dateStrGetter(q.Months,E.Abbreviated,_.Standalone);break;case"LLLL":n=dateStrGetter(q.Months,E.Wide,_.Standalone);break;case"LLLLL":n=dateStrGetter(q.Months,E.Narrow,_.Standalone);break;case"w":n=weekGetter(1);break;case"ww":n=weekGetter(2);break;case"W":n=weekGetter(1,!0);break;case"d":n=dateGetter(z.Date,1);break;case"dd":n=dateGetter(z.Date,2);break;case"c":case"cc":n=dateGetter(z.Day,1);break;case"ccc":n=dateStrGetter(q.Days,E.Abbreviated,_.Standalone);break;case"cccc":n=dateStrGetter(q.Days,E.Wide,_.Standalone);break;case"ccccc":n=dateStrGetter(q.Days,E.Narrow,_.Standalone);break;case"cccccc":n=dateStrGetter(q.Days,E.Short,_.Standalone);break;case"E":case"EE":case"EEE":n=dateStrGetter(q.Days,E.Abbreviated);break;case"EEEE":n=dateStrGetter(q.Days,E.Wide);break;case"EEEEE":n=dateStrGetter(q.Days,E.Narrow);break;case"EEEEEE":n=dateStrGetter(q.Days,E.Short);break;case"a":case"aa":case"aaa":n=dateStrGetter(q.DayPeriods,E.Abbreviated);break;case"aaaa":n=dateStrGetter(q.DayPeriods,E.Wide);break;case"aaaaa":n=dateStrGetter(q.DayPeriods,E.Narrow);break;case"b":case"bb":case"bbb":n=dateStrGetter(q.DayPeriods,E.Abbreviated,_.Standalone,!0);break;case"bbbb":n=dateStrGetter(q.DayPeriods,E.Wide,_.Standalone,!0);break;case"bbbbb":n=dateStrGetter(q.DayPeriods,E.Narrow,_.Standalone,!0);break;case"B":case"BB":case"BBB":n=dateStrGetter(q.DayPeriods,E.Abbreviated,_.Format,!0);break;case"BBBB":n=dateStrGetter(q.DayPeriods,E.Wide,_.Format,!0);break;case"BBBBB":n=dateStrGetter(q.DayPeriods,E.Narrow,_.Format,!0);break;case"h":n=dateGetter(z.Hours,1,-12);break;case"hh":n=dateGetter(z.Hours,2,-12);break;case"H":n=dateGetter(z.Hours,1);break;case"HH":n=dateGetter(z.Hours,2);break;case"m":n=dateGetter(z.Minutes,1);break;case"mm":n=dateGetter(z.Minutes,2);break;case"s":n=dateGetter(z.Seconds,1);break;case"ss":n=dateGetter(z.Seconds,2);break;case"S":n=dateGetter(z.FractionalSeconds,1);break;case"SS":n=dateGetter(z.FractionalSeconds,2);break;case"SSS":n=dateGetter(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=timeZoneGetter(G.Short);break;case"ZZZZZ":n=timeZoneGetter(G.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=timeZoneGetter(G.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=timeZoneGetter(G.Long);break;default:return null}return Q[e]=n,n}(e);u+=n?n(i,r,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}function createDate(e,n,r){const o=new Date(0);return o.setFullYear(e,n,r),o.setHours(0,0,0),o}function getNamedFormat(e,n){var r;const i=function getLocaleId(e){return(0,o.H5H)(e)[o.KH2.LocaleId]}(e);if(null!==(r=j[i])&&void 0!==r?r:j[i]={},j[i][n])return j[i][n];let s="";switch(n){case"shortDate":s=getLocaleDateFormat(e,I.Short);break;case"mediumDate":s=getLocaleDateFormat(e,I.Medium);break;case"longDate":s=getLocaleDateFormat(e,I.Long);break;case"fullDate":s=getLocaleDateFormat(e,I.Full);break;case"shortTime":s=getLocaleTimeFormat(e,I.Short);break;case"mediumTime":s=getLocaleTimeFormat(e,I.Medium);break;case"longTime":s=getLocaleTimeFormat(e,I.Long);break;case"fullTime":s=getLocaleTimeFormat(e,I.Full);break;case"short":const n=getNamedFormat(e,"shortTime"),r=getNamedFormat(e,"shortDate");s=formatDateTime(getLocaleDateTimeFormat(e,I.Short),[n,r]);break;case"medium":const o=getNamedFormat(e,"mediumTime"),i=getNamedFormat(e,"mediumDate");s=formatDateTime(getLocaleDateTimeFormat(e,I.Medium),[o,i]);break;case"long":const a=getNamedFormat(e,"longTime"),c=getNamedFormat(e,"longDate");s=formatDateTime(getLocaleDateTimeFormat(e,I.Long),[a,c]);break;case"full":const u=getNamedFormat(e,"fullTime"),p=getNamedFormat(e,"fullDate");s=formatDateTime(getLocaleDateTimeFormat(e,I.Full),[u,p])}return s&&(j[i][n]=s),s}function formatDateTime(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,(function(e,r){return null!=n&&r in n?n[r]:e}))),e}function padNumber(e,n,r="-",o,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=r));let a=String(e);for(;a.length<n;)a="0"+a;return o&&(a=a.slice(a.length-n)),s+a}function dateGetter(e,n,r=0,o=!1,i=!1){return function(s,a){let c=function getDatePart(e,n){switch(e){case z.FullYear:return n.getFullYear();case z.Month:return n.getMonth();case z.Date:return n.getDate();case z.Hours:return n.getHours();case z.Minutes:return n.getMinutes();case z.Seconds:return n.getSeconds();case z.FractionalSeconds:return n.getMilliseconds();case z.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((r>0||c>-r)&&(c+=r),e===z.Hours)0===c&&-12===r&&(c=12);else if(e===z.FractionalSeconds)return function formatFractionalSeconds(e,n){return padNumber(e,3).substring(0,n)}(c,n);const u=getLocaleNumberSymbol(a,x);return padNumber(c,n,u,o,i)}}function dateStrGetter(e,n,r=_.Format,i=!1){return function(s,a){return function getDateTranslation(e,n,r,i,s,a){switch(r){case q.Months:return function getLocaleMonthNames(e,n,r){const i=(0,o.H5H)(e),s=getLastDefinedValue([i[o.KH2.MonthsFormat],i[o.KH2.MonthsStandalone]],n);return getLastDefinedValue(s,r)}(n,s,i)[e.getMonth()];case q.Days:return function getLocaleDayNames(e,n,r){const i=(0,o.H5H)(e),s=getLastDefinedValue([i[o.KH2.DaysFormat],i[o.KH2.DaysStandalone]],n);return getLastDefinedValue(s,r)}(n,s,i)[e.getDay()];case q.DayPeriods:const c=e.getHours(),u=e.getMinutes();if(a){const e=function getLocaleExtraDayPeriodRules(e){const n=(0,o.H5H)(e);return checkFullData(n),(n[o.KH2.ExtraData][2]||[]).map((e=>"string"==typeof e?extractTime(e):[extractTime(e[0]),extractTime(e[1])]))}(n),r=function getLocaleExtraDayPeriods(e,n,r){const i=(0,o.H5H)(e);checkFullData(i);const s=getLastDefinedValue([i[o.KH2.ExtraData][0],i[o.KH2.ExtraData][1]],n)||[];return getLastDefinedValue(s,r)||[]}(n,s,i),a=e.findIndex((e=>{if(Array.isArray(e)){const[n,r]=e,o=c>=n.hours&&u>=n.minutes,i=c<r.hours||c===r.hours&&u<r.minutes;if(n.hours<r.hours){if(o&&i)return!0}else if(o||i)return!0}else if(e.hours===c&&e.minutes===u)return!0;return!1}));if(-1!==a)return r[a]}return function getLocaleDayPeriods(e,n,r){const i=(0,o.H5H)(e),s=getLastDefinedValue([i[o.KH2.DayPeriodsFormat],i[o.KH2.DayPeriodsStandalone]],n);return getLastDefinedValue(s,r)}(n,s,i)[c<12?0:1];case q.Eras:return function getLocaleEraNames(e,n){return getLastDefinedValue((0,o.H5H)(e)[o.KH2.Eras],n)}(n,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${r}`)}}(s,a,e,n,r,i)}}function timeZoneGetter(e){return function(n,r,o){const i=-1*o,s=getLocaleNumberSymbol(r,x),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case G.Short:return(i>=0?"+":"")+padNumber(a,2,s)+padNumber(Math.abs(i%60),2,s);case G.ShortGMT:return"GMT"+(i>=0?"+":"")+padNumber(a,1,s);case G.Long:return"GMT"+(i>=0?"+":"")+padNumber(a,2,s)+":"+padNumber(Math.abs(i%60),2,s);case G.Extended:return 0===o?"Z":(i>=0?"+":"")+padNumber(a,2,s)+":"+padNumber(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const W=0,K=4;function getThursdayThisIsoWeek(e){const n=e.getDay(),r=0===n?-3:K-n;return createDate(e.getFullYear(),e.getMonth(),e.getDate()+r)}function weekGetter(e,n=!1){return function(r,o){let i;if(n){const e=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,n=r.getDate();i=1+Math.floor((n+e)/7)}else{const e=getThursdayThisIsoWeek(r),n=function getFirstThursdayOfYear(e){const n=createDate(e,W,1).getDay();return createDate(e,0,1+(n<=K?K:K+7)-n)}(e.getFullYear()),o=e.getTime()-n.getTime();i=1+Math.round(o/6048e5)}return padNumber(i,e,getLocaleNumberSymbol(o,x))}}function weekNumberingYearGetter(e,n=!1){return function(r,o){return padNumber(getThursdayThisIsoWeek(r).getFullYear(),e,getLocaleNumberSymbol(o,x),n)}}const Q={};function timezoneToOffset(e,n){e=e.replace(/:/g,"");const r=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(r)?n:r}function isDate(e){return e instanceof Date&&!isNaN(e.valueOf())}const X=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Y=".",J="0";function formatNumberToLocaleString(e,n,r,o,i,s,a=!1){let c="",u=!1;if(isFinite(e)){let p=function parseNumber(e){let n,r,o,i,s,a=Math.abs(e)+"",c=0;(r=a.indexOf(Y))>-1&&(a=a.replace(Y,""));(o=a.search(/e/i))>0?(r<0&&(r=o),r+=+a.slice(o+1),a=a.substring(0,o)):r<0&&(r=a.length);for(o=0;a.charAt(o)===J;o++);if(o===(s=a.length))n=[0],r=1;else{for(s--;a.charAt(s)===J;)s--;for(r-=o,n=[],i=0;o<=s;o++,i++)n[i]=Number(a.charAt(o))}r>22&&(n=n.splice(0,21),c=r-1,r=1);return{digits:n,exponent:c,integerLen:r}}(e);a&&(p=function toPercent(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2);return e}(p));let f=n.minInt,g=n.minFrac,v=n.maxFrac;if(s){const e=s.match(X);if(null===e)throw new Error(`${s} is not a valid digit info`);const n=e[1],r=e[3],o=e[5];null!=n&&(f=parseIntAutoRadix(n)),null!=r&&(g=parseIntAutoRadix(r)),null!=o?v=parseIntAutoRadix(o):null!=r&&g>v&&(v=g)}!function roundNumber(e,n,r){if(n>r)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${r}).`);let o=e.digits,i=o.length-e.integerLen;const s=Math.min(Math.max(n,i),r);let a=s+e.integerLen,c=o[a];if(a>0){o.splice(Math.max(e.integerLen,a));for(let e=a;e<o.length;e++)o[e]=0}else{i=Math.max(0,i),e.integerLen=1,o.length=Math.max(1,a=s+1),o[0]=0;for(let e=1;e<a;e++)o[e]=0}if(c>=5)if(a-1<0){for(let n=0;n>a;n--)o.unshift(0),e.integerLen++;o.unshift(1),e.integerLen++}else o[a-1]++;for(;i<Math.max(0,s);i++)o.push(0);let u=0!==s;const p=n+e.integerLen,f=o.reduceRight((function(e,n,r,o){return o[r]=(n+=e)<10?n:n-10,u&&(0===o[r]&&r>=p?o.pop():u=!1),n>=10?1:0}),0);f&&(o.unshift(f),e.integerLen++)}(p,g,v);let C=p.digits,b=p.integerLen;const w=p.exponent;let A=[];for(u=C.every((e=>!e));b<f;b++)C.unshift(0);for(;b<0;b++)C.unshift(0);b>0?A=C.splice(b,C.length):(A=C,C=[0]);const _=[];for(C.length>=n.lgSize&&_.unshift(C.splice(-n.lgSize,C.length).join(""));C.length>n.gSize;)_.unshift(C.splice(-n.gSize,C.length).join(""));C.length&&_.unshift(C.join("")),c=_.join(getLocaleNumberSymbol(r,o)),A.length&&(c+=getLocaleNumberSymbol(r,i)+A.join("")),w&&(c+=getLocaleNumberSymbol(r,F)+"+"+w)}else c=getLocaleNumberSymbol(r,R);return c=e<0&&!u?n.negPre+c+n.negSuf:n.posPre+c+n.posSuf,c}function formatCurrency(e,n,r,o,i){const s=parseNumberFormat(getLocaleNumberFormat(n,w.Currency),getLocaleNumberSymbol(n,x));s.minFrac=function getNumberOfCurrencyDigits(e){let n;const r=b[e];return r&&(n=r[2]),"number"==typeof n?n:2}(o),s.maxFrac=s.minFrac;return formatNumberToLocaleString(e,s,n,L,N,i).replace("¤",r).replace("¤","").trim()}function parseNumberFormat(e,n="-"){const r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=e.split(";"),i=o[0],s=o[1],a=-1!==i.indexOf(Y)?i.split(Y):[i.substring(0,i.lastIndexOf(J)+1),i.substring(i.lastIndexOf(J)+1)],c=a[0],u=a[1]||"";r.posPre=c.substring(0,c.indexOf("#"));for(let e=0;e<u.length;e++){const n=u.charAt(e);n===J?r.minFrac=r.maxFrac=e+1:"#"===n?r.maxFrac=e+1:r.posSuf+=n}const p=c.split(",");if(r.gSize=p[1]?p[1].length:0,r.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,s){const e=i.length-r.posPre.length-r.posSuf.length,n=s.indexOf("#");r.negPre=s.substring(0,n).replace(/'/g,""),r.negSuf=s.slice(n+e).replace(/'/g,"")}else r.negPre=n+r.posPre,r.negSuf=r.posSuf;return r}function parseIntAutoRadix(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}let Z=(()=>{var e;class NgLocalization{}return(e=NgLocalization).ɵfac=function _NgLocalization_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:function _NgLocalization_Factory(e){let n=null;var r;return e?n=new e:(r=o.KVO(o.xe9),n=new ee(r)),n},providedIn:"root"}),NgLocalization})();function getPluralCategory(e,n,r,o){let i=`=${e}`;if(n.indexOf(i)>-1)return i;if(i=r.getPluralCategory(e,o),n.indexOf(i)>-1)return i;if(n.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let ee=(()=>{var e;class NgLocaleLocalization extends Z{constructor(e){super(),this.locale=e}getPluralCategory(e,n){switch(U(n||this.locale)(e)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}return(e=NgLocaleLocalization).ɵfac=function _NgLocaleLocalization_Factory(n){return new(n||e)(o.KVO(o.xe9))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),NgLocaleLocalization})();function parseCookieValue(e,n){n=encodeURIComponent(n);for(const r of e.split(";")){const e=r.indexOf("="),[o,i]=-1==e?[r,""]:[r.slice(0,e),r.slice(e+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const te=/\s+/,ne=[];let re=(()=>{var e;class NgClass{constructor(e,n){this._ngEl=e,this._renderer=n,this.initialClasses=ne,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(te):ne}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(te):e}ngDoCheck(){for(const e of this.initialClasses)this._updateState(e,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,Boolean(e[n]));this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){if(ngDevMode&&"string"!=typeof e)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.Tbb)(e)}`);(e=e.trim()).length>0&&e.split(te).forEach((e=>{n?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)}))}}return(e=NgClass).ɵfac=function _NgClass_Factory(n){return new(n||e)(o.rXU(o.aKT),o.rXU(o.sFG))},e.ɵdir=o.FsC({type:e,selectors:[["","ngClass",""]],inputs:{klass:[o.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0}),NgClass})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let oe=(()=>{var e;class NgComponentOutlet{constructor(e){this._viewContainerRef=e,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(e){return void 0!==e.ngComponentOutletNgModule||void 0!==e.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(e){return void 0!==e.ngComponentOutlet||void 0!==e.ngComponentOutletContent||void 0!==e.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(e)}ngOnChanges(e){if(this._needToReCreateComponentInstance(e)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;var n;if(this._needToReCreateNgModuleInstance(e))null===(n=this._moduleRef)||void 0===n||n.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,o.w6W)(this.ngComponentOutletNgModule,getParentInjector(r)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(getParentInjector(r)):void 0;this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const e of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(e,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){var e;null===(e=this._moduleRef)||void 0===e||e.destroy()}_applyInputStateDiff(e){for(const[n,r]of this._inputsUsed)r?(e.setInput(n,this.ngComponentOutletInputs[n]),this._inputsUsed.set(n,!1)):(e.setInput(n,void 0),this._inputsUsed.delete(n))}}return(e=NgComponentOutlet).ɵfac=function _NgComponentOutlet_Factory(n){return new(n||e)(o.rXU(o.c1b))},e.ɵdir=o.FsC({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[o.OA$]}),NgComponentOutlet})();function getParentInjector(e){return e.get(o.Vns).injector}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class NgForOfContext{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ie=(()=>{var e;class NgForOf{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){"undefined"!=typeof ngDevMode&&!ngDevMode||null==e||"function"==typeof e||console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)if("undefined"==typeof ngDevMode||ngDevMode)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch{let n=`Cannot find a differ supporting object '${e}' of type '${function getTypeName(e){return e.name||typeof e}(e)}'. NgFor only supports binding to Iterables, such as Arrays.`;throw"object"==typeof e&&(n+=" Did you mean to use the keyvalue pipe?"),new o.wOt(-2200,n)}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation(((e,r,o)=>{if(null==e.previousIndex)n.createEmbeddedView(this._template,new NgForOfContext(e.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===r?void 0:r);else if(null!==r){const i=n.get(r);n.move(i,o),applyViewChange(i,e)}}));for(let e=0,r=n.length;e<r;e++){const o=n.get(e).context;o.index=e,o.count=r,o.ngForOf=this._ngForOf}e.forEachIdentityChange((e=>{applyViewChange(n.get(e.currentIndex),e)}))}static ngTemplateContextGuard(e,n){return!0}}return(e=NgForOf).ɵfac=function _NgForOf_Factory(n){return new(n||e)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))},e.ɵdir=o.FsC({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),NgForOf})();function applyViewChange(e,n){e.context.$implicit=n.item}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let se=(()=>{var e;class NgIf{constructor(e,n){this._viewContainer=e,this._context=new NgIfContext,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){assertTemplate("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){assertTemplate("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return(e=NgIf).ɵfac=function _NgIf_Factory(n){return new(n||e)(o.rXU(o.c1b),o.rXU(o.C4Q))},e.ɵdir=o.FsC({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),NgIf})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class NgIfContext{constructor(){this.$implicit=null,this.ngIf=null}}function assertTemplate(e,n){if(!!(n&&!n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${(0,o.Tbb)(n)}'.`)}class SwitchView{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ae=(()=>{var e;class NgSwitch{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e===this._ngSwitch;return"undefined"!=typeof ngDevMode&&!ngDevMode||n===(e==this._ngSwitch)||console.warn((0,o.Zy3)(2001,`As of Angular v17 the NgSwitch directive uses strict equality comparison === instead of == to match different cases. Previously the case value "${stringifyValue(e)}" matched switch expression value "${stringifyValue(this._ngSwitch)}", but this is no longer the case with the stricter equality check. Your comparison results return different results using === vs. == and you should adjust your ngSwitch expression and / or values to conform with the strict equality requirements.`)),this._lastCasesMatched||(this._lastCasesMatched=n),this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}}return(e=NgSwitch).ɵfac=function _NgSwitch_Factory(n){return new(n||e)},e.ɵdir=o.FsC({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),NgSwitch})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let le=(()=>{var e;class NgSwitchCase{constructor(e,n,r){this.ngSwitch=r,"undefined"!=typeof ngDevMode&&!ngDevMode||r||throwNgSwitchProviderNotFoundError("ngSwitchCase","NgSwitchCase"),r._addCase(),this._view=new SwitchView(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=NgSwitchCase).ɵfac=function _NgSwitchCase_Factory(n){return new(n||e)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ae,9))},e.ɵdir=o.FsC({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),NgSwitchCase})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let de=(()=>{var e;class NgSwitchDefault{constructor(e,n,r){"undefined"!=typeof ngDevMode&&!ngDevMode||r||throwNgSwitchProviderNotFoundError("ngSwitchDefault","NgSwitchDefault"),r._addDefault(new SwitchView(e,n))}}return(e=NgSwitchDefault).ɵfac=function _NgSwitchDefault_Factory(n){return new(n||e)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(ae,9))},e.ɵdir=o.FsC({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),NgSwitchDefault})();function throwNgSwitchProviderNotFoundError(e,n){throw new o.wOt(2e3,`An element with the "${e}" attribute (matching the "${n}" directive) must be located inside an element with the "ngSwitch" attribute (matching "NgSwitch" directive)`)}function stringifyValue(e){return"string"==typeof e?`'${e}'`:String(e)}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let ce=(()=>{var e;class NgPlural{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._updateView(e)}addCase(e,n){this._caseViews[e]=n}_updateView(e){this._clearViews();const n=getPluralCategory(e,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[n])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}return(e=NgPlural).ɵfac=function _NgPlural_Factory(n){return new(n||e)(o.rXU(Z))},e.ɵdir=o.FsC({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),NgPlural})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let ue=(()=>{var e;class NgPluralCase{constructor(e,n,r,o){this.value=e;const i=!isNaN(Number(e));o.addCase(i?`=${e}`:e,new SwitchView(r,n))}}return(e=NgPluralCase).ɵfac=function _NgPluralCase_Factory(n){return new(n||e)(o.kS0("ngPluralCase"),o.rXU(o.C4Q),o.rXU(o.c1b),o.rXU(ce,1))},e.ɵdir=o.FsC({type:e,selectors:[["","ngPluralCase",""]],standalone:!0}),NgPluralCase})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let pe=(()=>{var e;class NgStyle{constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){const[r,i]=e.split("."),s=-1===r.indexOf("-")?void 0:o.czy.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,r,i?`${n}${i}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem((e=>this._setStyle(e.key,null))),e.forEachAddedItem((e=>this._setStyle(e.key,e.currentValue))),e.forEachChangedItem((e=>this._setStyle(e.key,e.currentValue)))}}return(e=NgStyle).ɵfac=function _NgStyle_Factory(n){return new(n||e)(o.rXU(o.aKT),o.rXU(o.MKu),o.rXU(o.sFG))},e.ɵdir=o.FsC({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),NgStyle})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let fe=(()=>{var e;class NgTemplateOutlet{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){var n;const e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),!this.ngTemplateOutlet)return this._viewRef=null,void 0;const r=this._createContextForwardProxy();this._viewRef=e.createEmbeddedView(this.ngTemplateOutlet,r,{injector:null!==(n=this.ngTemplateOutletInjector)&&void 0!==n?n:void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,r),get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}}return(e=NgTemplateOutlet).ɵfac=function _NgTemplateOutlet_Factory(n){return new(n||e)(o.rXU(o.c1b))},e.ɵdir=o.FsC({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.OA$]}),NgTemplateOutlet})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();function invalidPipeArgumentError(e,n){return new o.wOt(2100,ngDevMode&&`InvalidPipeArgument: '${n}' for pipe '${(0,o.Tbb)(e)}'`)}const ge=new class PromiseStrategy{createSubscription(e,n){return e.then(n,(e=>{throw e}))}dispose(e){}},me=new class SubscribableStrategy{createSubscription(e,n){return(0,o.O8t)((()=>e.subscribe({next:n,error:e=>{throw e}})))}dispose(e){(0,o.O8t)((()=>e.unsubscribe()))}};let he=(()=>{var e;class AsyncPipe{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(n=>this._updateLatestValue(e,n)))}_selectStrategy(e){if((0,o.jNT)(e))return ge;if((0,o.zjR)(e))return me;throw invalidPipeArgumentError(AsyncPipe,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){var r;e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&(null===(r=this._ref)||void 0===r||r.markForCheck()))}}return(e=AsyncPipe).ɵfac=function _AsyncPipe_Factory(n){return new(n||e)(o.rXU(o.gRc,16))},e.ɵpipe=o.EJ8({name:"async",type:e,pure:!1,standalone:!0}),AsyncPipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let ve=(()=>{var e;class LowerCasePipe{transform(e){if(null==e)return null;if("string"!=typeof e)throw invalidPipeArgumentError(LowerCasePipe,e);return e.toLowerCase()}}return(e=LowerCasePipe).ɵfac=function _LowerCasePipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"lowercase",type:e,pure:!0,standalone:!0}),LowerCasePipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const ye=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ce=(()=>{var e;class TitleCasePipe{transform(e){if(null==e)return null;if("string"!=typeof e)throw invalidPipeArgumentError(TitleCasePipe,e);return e.replace(ye,(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()))}}return(e=TitleCasePipe).ɵfac=function _TitleCasePipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"titlecase",type:e,pure:!0,standalone:!0}),TitleCasePipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let be=(()=>{var e;class UpperCasePipe{transform(e){if(null==e)return null;if("string"!=typeof e)throw invalidPipeArgumentError(UpperCasePipe,e);return e.toUpperCase()}}return(e=UpperCasePipe).ɵfac=function _UpperCasePipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"uppercase",type:e,pure:!0,standalone:!0}),UpperCasePipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const we=new o.nKC(ngDevMode?"DATE_PIPE_DEFAULT_TIMEZONE":""),Se=new o.nKC(ngDevMode?"DATE_PIPE_DEFAULT_OPTIONS":"");let Ae=(()=>{var e;class DatePipe{constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,o){if(null==e||""===e||e!=e)return null;try{var i,s,a,c,u;const p=null!==(i=null!=n?n:null===(s=this.defaultOptions)||void 0===s?void 0:s.dateFormat)&&void 0!==i?i:"mediumDate",f=null!==(a=null!==(c=null!=r?r:null===(u=this.defaultOptions)||void 0===u?void 0:u.timezone)&&void 0!==c?c:this.defaultTimezone)&&void 0!==a?a:void 0;return formatDate(e,p,o||this.locale,f)}catch(e){throw invalidPipeArgumentError(DatePipe,e.message)}}}return(e=DatePipe).ɵfac=function _DatePipe_Factory(n){return new(n||e)(o.rXU(o.xe9,16),o.rXU(we,24),o.rXU(Se,24))},e.ɵpipe=o.EJ8({name:"date",type:e,pure:!0,standalone:!0}),DatePipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const _e=/#/g;let Ee=(()=>{var e;class I18nPluralPipe{constructor(e){this._localization=e}transform(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw invalidPipeArgumentError(I18nPluralPipe,n);return n[getPluralCategory(e,Object.keys(n),this._localization,r)].replace(_e,e.toString())}}return(e=I18nPluralPipe).ɵfac=function _I18nPluralPipe_Factory(n){return new(n||e)(o.rXU(Z,16))},e.ɵpipe=o.EJ8({name:"i18nPlural",type:e,pure:!0,standalone:!0}),I18nPluralPipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Ie=(()=>{var e;class I18nSelectPipe{transform(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw invalidPipeArgumentError(I18nSelectPipe,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""}}return(e=I18nSelectPipe).ɵfac=function _I18nSelectPipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"i18nSelect",type:e,pure:!0,standalone:!0}),I18nSelectPipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let De=(()=>{var e;class JsonPipe{transform(e){return JSON.stringify(e,null,2)}}return(e=JsonPipe).ɵfac=function _JsonPipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"json",type:e,pure:!1,standalone:!0}),JsonPipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Me=(()=>{var e;class KeyValuePipe{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=defaultComparator}transform(e,n=defaultComparator){var r;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;null!==(r=this.differ)&&void 0!==r?r:this.differ=this.differs.find(e).create();const o=this.differ.diff(e),i=n!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem((e=>{this.keyValues.push(function makeKeyValuePair(e,n){return{key:e,value:n}}(e.key,e.currentValue))}))),(o||i)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}}return(e=KeyValuePipe).ɵfac=function _KeyValuePipe_Factory(n){return new(n||e)(o.rXU(o.MKu,16))},e.ɵpipe=o.EJ8({name:"keyvalue",type:e,pure:!1,standalone:!0}),KeyValuePipe})();function defaultComparator(e,n){const r=e.key,o=n.key;if(r===o)return 0;if(void 0===r)return 1;if(void 0===o)return-1;if(null===r)return 1;if(null===o)return-1;if("string"==typeof r&&"string"==typeof o)return r<o?-1:1;if("number"==typeof r&&"number"==typeof o)return r-o;if("boolean"==typeof r&&"boolean"==typeof o)return r<o?-1:1;const i=String(r),s=String(o);return i==s?0:i<s?-1:1}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Te=(()=>{var e;class DecimalPipe{constructor(e){this._locale=e}transform(e,n,r){if(!isValue(e))return null;r||(r=this._locale);try{return function formatNumber(e,n,r){return formatNumberToLocaleString(e,parseNumberFormat(getLocaleNumberFormat(n,w.Decimal),getLocaleNumberSymbol(n,x)),n,P,T,r)}(strToNumber(e),r,n)}catch(e){throw invalidPipeArgumentError(DecimalPipe,e.message)}}}return(e=DecimalPipe).ɵfac=function _DecimalPipe_Factory(n){return new(n||e)(o.rXU(o.xe9,16))},e.ɵpipe=o.EJ8({name:"number",type:e,pure:!0,standalone:!0}),DecimalPipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Pe=(()=>{var e;class PercentPipe{constructor(e){this._locale=e}transform(e,n,r){if(!isValue(e))return null;r||(r=this._locale);try{return function formatPercent(e,n,r){return formatNumberToLocaleString(e,parseNumberFormat(getLocaleNumberFormat(n,w.Percent),getLocaleNumberSymbol(n,x)),n,P,T,r,!0).replace(new RegExp("%","g"),getLocaleNumberSymbol(n,k))}(strToNumber(e),r,n)}catch(e){throw invalidPipeArgumentError(PercentPipe,e.message)}}}return(e=PercentPipe).ɵfac=function _PercentPipe_Factory(n){return new(n||e)(o.rXU(o.xe9,16))},e.ɵpipe=o.EJ8({name:"percent",type:e,pure:!0,standalone:!0}),PercentPipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let ke=(()=>{var e;class CurrencyPipe{constructor(e,n="USD"){this._locale=e,this._defaultCurrencyCode=n}transform(e,n=this._defaultCurrencyCode,r="symbol",o,i){if(!isValue(e))return null;i||(i=this._locale),"boolean"==typeof r&&(("undefined"==typeof ngDevMode||ngDevMode)&&console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");let s=n||this._defaultCurrencyCode;"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?getCurrencySymbol(s,"symbol"===r?"wide":"narrow",i):r);try{return formatCurrency(strToNumber(e),i,s,n,o)}catch(e){throw invalidPipeArgumentError(CurrencyPipe,e.message)}}}return(e=CurrencyPipe).ɵfac=function _CurrencyPipe_Factory(n){return new(n||e)(o.rXU(o.xe9,16),o.rXU(o.Ocv,16))},e.ɵpipe=o.EJ8({name:"currency",type:e,pure:!0,standalone:!0}),CurrencyPipe})();function isValue(e){return!(null==e||""===e||e!=e)}function strToNumber(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let xe=(()=>{var e;class SlicePipe{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw invalidPipeArgumentError(SlicePipe,e);return e.slice(n,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return(e=SlicePipe).ɵfac=function _SlicePipe_Factory(n){return new(n||e)},e.ɵpipe=o.EJ8({name:"slice",type:e,pure:!1,standalone:!0}),SlicePipe})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Fe=(()=>{var e;class CommonModule{}return(e=CommonModule).ɵfac=function _CommonModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e,imports:[re,oe,ie,se,fe,pe,ae,le,de,ce,ue,he,be,ve,De,xe,Te,Pe,Ce,ke,Ae,Ee,Ie,Me],exports:[re,oe,ie,se,fe,pe,ae,le,de,ce,ue,he,be,ve,De,xe,Te,Pe,Ce,ke,Ae,Ee,Ie,Me]}),e.ɵinj=o.G2t({}),CommonModule})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Oe="browser",Re="server";function isPlatformServer(e){return e===Re}new o.RxE("17.3.12");let Ne=(()=>{var e;class ViewportScroller{}return(e=ViewportScroller).ɵprov=(0,o.jDH)({token:e,providedIn:"root",factory:()=>function isPlatformBrowser(e){return e===Oe}((0,o.WQX)(o.Agw))?new BrowserViewportScroller((0,o.WQX)(s),window):new NullViewportScroller}),ViewportScroller})();class BrowserViewportScroller{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function findAnchorFromDocument(e,n){const r=e.getElementById(n)||e.getElementsByName(n)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const e=o.shadowRoot;if(e){const r=e.getElementById(n)||e.querySelector(`[name="${n}"]`);if(r)return r}o=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}}class NullViewportScroller{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class XhrFactory{}const noopImageLoader=e=>e.src;new o.nKC(ngDevMode?"ImageLoader":"",{providedIn:"root",factory:()=>noopImageLoader});new Map([["height","h"],["fit","fit"],["quality","q"],["q","q"],["position","position"]]);(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();new Set(["localhost","127.0.0.1","0.0.0.0"]),new o.nKC(ngDevMode?"PRECONNECT_CHECK_BLOCKLIST":"");(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();new o.nKC("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})()},21626:(e,n,r)=>{"use strict";r.d(n,{$R:()=>provideHttpClient,Lr:()=>HttpHeaders,Qq:()=>E,Sx:()=>withInterceptorsFromDi,a7:()=>k,cS:()=>HttpResponse});var o=r(10467),i=r(54438),s=r(7673),a=r(71985),c=r(86648),u=r(70274),p=r(5964),f=r(96354),g=r(70980),v=r(25558),C=r(60177);class HttpHandler{}class HttpBackend{}class HttpHeaders{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach((e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),i=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(i):this.headers.set(o,[i])}}))}:"undefined"!=typeof Headers&&e instanceof Headers?(this.headers=new Map,e.forEach(((e,n)=>{this.setHeaderEntries(n,e)}))):this.lazyInit=()=>{("undefined"==typeof ngDevMode||ngDevMode)&&!function assertValidHeaders(e){for(const[n,r]of Object.entries(e))if("string"!=typeof r&&"number"!=typeof r&&!Array.isArray(r))throw new Error(`Unexpected value of the \`${n}\` header provided. Expecting either a string, a number or an array, but got: \`${r}\`.`)}(e),this.headers=new Map,Object.entries(e).forEach((([e,n])=>{this.setHeaderEntries(e,n)}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof HttpHeaders?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))}))}clone(e){const n=new HttpHeaders;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof HttpHeaders?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const o=("a"===e.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=e.value;if(i){let e=this.headers.get(n);if(!e)return;e=e.filter((e=>-1===i.indexOf(e))),0===e.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,e)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map((e=>e.toString())),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((n=>e(this.normalizedNames.get(n),this.headers.get(n))))}}class HttpUrlEncodingCodec{encodeKey(e){return standardEncoding(e)}encodeValue(e){return standardEncoding(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const b=/%(\d[a-f0-9])/gi,w={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function standardEncoding(e){return encodeURIComponent(e).replace(b,((e,n)=>{var r;return null!==(r=w[n])&&void 0!==r?r:e}))}function valueToString(e){return`${e}`}class HttpParams{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new HttpUrlEncodingCodec,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function paramParser(e,n){const r=new Map;e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{const o=e.indexOf("="),[i,s]=-1==o?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,o)),n.decodeValue(e.slice(o+1))],a=r.get(i)||[];a.push(s),r.set(i,a)}));return r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((n=>{const r=e.fromObject[n],o=Array.isArray(r)?r.map(valueToString):[valueToString(r)];this.map.set(n,o)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach((r=>{const o=e[r];Array.isArray(o)?o.forEach((e=>{n.push({param:r,value:e,op:"a"})})):n.push({param:r,value:o,op:"a"})})),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map((e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map((e=>n+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(e){const n=new HttpParams({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(valueToString(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const r=n.indexOf(valueToString(e.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}}class HttpContext{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function isArrayBuffer(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function isBlob(e){return"undefined"!=typeof Blob&&e instanceof Blob}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}class HttpRequest{constructor(e,n,r,o){var i,s;let a;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function mightHaveBody(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,a=o):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),null!==(i=this.headers)&&void 0!==i||(this.headers=new HttpHeaders),null!==(s=this.context)&&void 0!==s||(this.context=new HttpContext),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=n;else{const r=n.indexOf("?");this.urlWithParams=n+(-1===r?"?":r<n.length-1?"&":"")+e}}else this.params=new HttpParams,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||isArrayBuffer(this.body)||isBlob(this.body)||isFormData(this.body)||function isUrlSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof HttpParams?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||isFormData(this.body)?null:isBlob(this.body)?this.body.type||null:isArrayBuffer(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HttpParams?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n,r,o,i;const s=e.method||this.method,a=e.url||this.url,c=e.responseType||this.responseType,u=null!==(n=e.transferCache)&&void 0!==n?n:this.transferCache,p=void 0!==e.body?e.body:this.body,f=null!==(r=e.withCredentials)&&void 0!==r?r:this.withCredentials,g=null!==(o=e.reportProgress)&&void 0!==o?o:this.reportProgress;let v=e.headers||this.headers,C=e.params||this.params;const b=null!==(i=e.context)&&void 0!==i?i:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce(((n,r)=>n.set(r,e.setHeaders[r])),v)),e.setParams&&(C=Object.keys(e.setParams).reduce(((n,r)=>n.set(r,e.setParams[r])),C)),new HttpRequest(s,a,p,{params:C,headers:v,context:b,reportProgress:g,responseType:c,withCredentials:f,transferCache:u})}}var A=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(A||{});class HttpResponseBase{constructor(e,n=_.Ok,r="OK"){this.headers=e.headers||new HttpHeaders,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HttpHeaderResponse extends HttpResponseBase{constructor(e={}){super(e),this.type=A.ResponseHeader}clone(e={}){return new HttpHeaderResponse({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HttpResponse extends HttpResponseBase{constructor(e={}){super(e),this.type=A.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new HttpResponse({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HttpErrorResponse extends HttpResponseBase{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var _=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(_||{});function addBody(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let E=(()=>{var e;class HttpClient{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof HttpRequest)o=e;else{let i,s;i=r.headers instanceof HttpHeaders?r.headers:new HttpHeaders(r.headers),r.params&&(s=r.params instanceof HttpParams?r.params:new HttpParams({fromObject:r.params})),o=new HttpRequest(e,n,void 0!==r.body?r.body:null,{headers:i,context:r.context,params:s,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const i=(0,s.of)(o).pipe((0,u.H)((e=>this.handler.handle(e))));if(e instanceof HttpRequest||"events"===r.observe)return i;const a=i.pipe((0,p.p)((e=>e instanceof HttpResponse)));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe((0,f.T)((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return a.pipe((0,f.T)((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return a.pipe((0,f.T)((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));default:return a.pipe((0,f.T)((e=>e.body)))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new HttpParams).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,addBody(r,n))}post(e,n,r={}){return this.request("POST",e,addBody(r,n))}put(e,n,r={}){return this.request("PUT",e,addBody(r,n))}}return(e=HttpClient).ɵfac=function _HttpClient_Factory(n){return new(n||e)(i.KVO(HttpHandler))},e.ɵprov=i.jDH({token:e,factory:e.ɵfac}),HttpClient})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const I=/^\)\]\}',?\n/,T="X-Request-URL";function getResponseUrl$1(e){if(e.url)return e.url;const n=T.toLocaleLowerCase();return e.headers.get(n)}let P=(()=>{var e;class FetchBackend{constructor(){var e,n;this.fetchImpl=null!==(e=null===(n=(0,i.WQX)(FetchFactory,{optional:!0}))||void 0===n?void 0:n.fetch)&&void 0!==e?e:fetch.bind(globalThis),this.ngZone=(0,i.WQX)(i.SKi)}handle(e){return new a.c((n=>{const r=new AbortController;return this.doRequest(e,r.signal,n).then(noop,(e=>n.error(new HttpErrorResponse({error:e})))),()=>r.abort()}))}doRequest(e,n,r){var i=this;return(0,o.A)((function*(){var s;const a=i.createRequestInit(e);let c;try{const o=i.fetchImpl(e.urlWithParams,{signal:n,...a});!function silenceSuperfluousUnhandledPromiseRejection(e){e.then(noop,noop)}(o),r.next({type:A.Sent}),c=yield o}catch(n){var u;return r.error(new HttpErrorResponse({error:n,status:null!==(u=n.status)&&void 0!==u?u:0,statusText:n.statusText,url:e.urlWithParams,headers:n.headers})),void 0}const p=new HttpHeaders(c.headers),f=c.statusText,g=null!==(s=getResponseUrl$1(c))&&void 0!==s?s:e.urlWithParams;let v=c.status,C=null;if(e.reportProgress&&r.next(new HttpHeaderResponse({headers:p,status:v,statusText:f,url:g})),c.body){const n=c.headers.get("content-length"),s=[],a=c.body.getReader();let u,p,f=0;const g="undefined"!=typeof Zone&&Zone.current;yield i.ngZone.runOutsideAngular((0,o.A)((function*(){for(;;){const{done:o,value:i}=yield a.read();if(o)break;if(s.push(i),f+=i.length,e.reportProgress){p="text"===e.responseType?(null!=p?p:"")+(null!=u?u:u=new TextDecoder).decode(i,{stream:!0}):void 0;const reportProgress=()=>r.next({type:A.DownloadProgress,total:n?+n:void 0,loaded:f,partialText:p});g?g.run(reportProgress):reportProgress()}}})));const v=i.concatChunks(s,f);try{var b;const n=null!==(b=c.headers.get("Content-Type"))&&void 0!==b?b:"";C=i.parseBody(e,v,n)}catch(n){var w;return r.error(new HttpErrorResponse({error:n,headers:new HttpHeaders(c.headers),status:c.status,statusText:c.statusText,url:null!==(w=getResponseUrl$1(c))&&void 0!==w?w:e.urlWithParams})),void 0}}0===v&&(v=C?_.Ok:0);v>=200&&v<300?(r.next(new HttpResponse({body:C,headers:p,status:v,statusText:f,url:g})),r.complete()):r.error(new HttpErrorResponse({error:C,headers:p,status:v,statusText:f,url:g}))}))()}parseBody(e,n,r){switch(e.responseType){case"json":const e=(new TextDecoder).decode(n).replace(I,"");return""===e?null:JSON.parse(e);case"text":return(new TextDecoder).decode(n);case"blob":return new Blob([n],{type:r});case"arraybuffer":return n.buffer}}createRequestInit(e){var n;const r={},o=e.withCredentials?"include":void 0;if(e.headers.forEach(((e,n)=>r[e]=n.join(","))),null!==(n=r["Accept"])&&void 0!==n||(r.Accept="application/json, text/plain, */*"),!r["Content-Type"]){const n=e.detectContentTypeHeader();null!==n&&(r["Content-Type"]=n)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:o}}concatChunks(e,n){const r=new Uint8Array(n);let o=0;for(const n of e)r.set(n,o),o+=n.length;return r}}return(e=FetchBackend).ɵfac=function _FetchBackend_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac}),FetchBackend})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class FetchFactory{}function noop(){}function interceptorChainEndFn(e,n){return n(e)}function adaptLegacyInterceptorToChain(e,n){return(r,o)=>n.intercept(r,{handle:n=>e(n,o)})}const k=new i.nKC(ngDevMode?"HTTP_INTERCEPTORS":""),x=new i.nKC(ngDevMode?"HTTP_INTERCEPTOR_FNS":""),F=new i.nKC(ngDevMode?"HTTP_ROOT_INTERCEPTOR_FNS":""),R=new i.nKC(ngDevMode?"PRIMARY_HTTP_BACKEND":"");function legacyInterceptorFnFactory(){let e=null;return(n,r)=>{if(null===e){var o;const n=null!==(o=(0,i.WQX)(k,{optional:!0}))&&void 0!==o?o:[];e=n.reduceRight(adaptLegacyInterceptorToChain,interceptorChainEndFn)}const s=(0,i.WQX)(i.TgB),a=s.add();return e(n,r).pipe((0,g.j)((()=>s.remove(a))))}}let N=!1;let L=(()=>{var e;class HttpInterceptorHandler extends HttpHandler{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,i.WQX)(i.TgB);const r=(0,i.WQX)(R,{optional:!0});if(this.backend=null!=r?r:e,("undefined"==typeof ngDevMode||ngDevMode)&&!N){!(0,C.Vy)(n.get(i.Agw))||this.backend instanceof P||(N=!0,n.get(i.H3F).warn((0,i.Zy3)(2801,"Angular detected that `HttpClient` is not configured to use `fetch` APIs. It's strongly recommended to enable `fetch` for applications that use Server-Side Rendering for better performance and compatibility. To enable `fetch`, add the `withFetch()` to the `provideHttpClient()` call at the root of the application.")))}}handle(e){if(null===this.chain){const e=Array.from(new Set([...this.injector.get(x),...this.injector.get(F,[])]));this.chain=e.reduceRight(((e,n)=>function chainedInterceptorFn(e,n,r){return(o,s)=>(0,i.N4e)(r,(()=>n(o,(n=>e(n,s)))))}(e,n,this.injector)),interceptorChainEndFn)}const n=this.pendingTasks.add();return this.chain(e,(e=>this.backend.handle(e))).pipe((0,g.j)((()=>this.pendingTasks.remove(n))))}}return(e=HttpInterceptorHandler).ɵfac=function _HttpInterceptorHandler_Factory(n){return new(n||e)(i.KVO(HttpBackend),i.KVO(i.uvJ))},e.ɵprov=i.jDH({token:e,factory:e.ɵfac}),HttpInterceptorHandler})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const H=/^\)\]\}',?\n/;let U=(()=>{var e;class HttpXhrBackend{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new i.wOt(-2800,("undefined"==typeof ngDevMode||ngDevMode)&&"Cannot make a JSONP request without JSONP support. To fix the problem, either add the `withJsonpSupport()` call (if `provideHttpClient()` is used) or import the `HttpClientJsonpModule` in the root NgModule.");const n=this.xhrFactory;return(n.ɵloadImpl?(0,c.H)(n.ɵloadImpl()):(0,s.of)(null)).pipe((0,v.n)((()=>new a.c((r=>{const o=n.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach(((e,n)=>o.setRequestHeader(e,n.join(",")))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const n=e.detectContentTypeHeader();null!==n&&o.setRequestHeader("Content-Type",n)}if(e.responseType){const n=e.responseType.toLowerCase();o.responseType="json"!==n?n:"text"}const i=e.serializeBody();let s=null;const partialFromXhr=()=>{if(null!==s)return s;const n=o.statusText||"OK",r=new HttpHeaders(o.getAllResponseHeaders()),i=function getResponseUrl(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new HttpHeaderResponse({headers:r,status:o.status,statusText:n,url:i}),s},onLoad=()=>{let{headers:n,status:i,statusText:s,url:a}=partialFromXhr(),c=null;i!==_.NoContent&&(c=void 0===o.response?o.responseText:o.response),0===i&&(i=c?_.Ok:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(H,"");try{c=""!==c?JSON.parse(c):null}catch(n){c=e,u&&(u=!1,c={error:n,text:c})}}u?(r.next(new HttpResponse({body:c,headers:n,status:i,statusText:s,url:a||void 0})),r.complete()):r.error(new HttpErrorResponse({error:c,headers:n,status:i,statusText:s,url:a||void 0}))},onError=e=>{const{url:n}=partialFromXhr(),i=new HttpErrorResponse({error:e,status:o.status||0,statusText:o.statusText||"Unknown Error",url:n||void 0});r.error(i)};let a=!1;const onDownProgress=n=>{a||(r.next(partialFromXhr()),a=!0);let i={type:A.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(i.total=n.total),"text"===e.responseType&&o.responseText&&(i.partialText=o.responseText),r.next(i)},onUpProgress=e=>{let n={type:A.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),r.next(n)};return o.addEventListener("load",onLoad),o.addEventListener("error",onError),o.addEventListener("timeout",onError),o.addEventListener("abort",onError),e.reportProgress&&(o.addEventListener("progress",onDownProgress),null!==i&&o.upload&&o.upload.addEventListener("progress",onUpProgress)),o.send(i),r.next({type:A.Sent}),()=>{o.removeEventListener("error",onError),o.removeEventListener("abort",onError),o.removeEventListener("load",onLoad),o.removeEventListener("timeout",onError),e.reportProgress&&(o.removeEventListener("progress",onDownProgress),null!==i&&o.upload&&o.upload.removeEventListener("progress",onUpProgress)),o.readyState!==o.DONE&&o.abort()}})))))}}return(e=HttpXhrBackend).ɵfac=function _HttpXhrBackend_Factory(n){return new(n||e)(i.KVO(C.N0))},e.ɵprov=i.jDH({token:e,factory:e.ɵfac}),HttpXhrBackend})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const B=new i.nKC(ngDevMode?"XSRF_ENABLED":""),j="XSRF-TOKEN",V=new i.nKC(ngDevMode?"XSRF_COOKIE_NAME":"",{providedIn:"root",factory:()=>j}),G="X-XSRF-TOKEN",z=new i.nKC(ngDevMode?"XSRF_HEADER_NAME":"",{providedIn:"root",factory:()=>G});class HttpXsrfTokenExtractor{}let q=(()=>{var e;class HttpXsrfCookieExtractor{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,C._b)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return(e=HttpXsrfCookieExtractor).ɵfac=function _HttpXsrfCookieExtractor_Factory(n){return new(n||e)(i.KVO(C.qQ),i.KVO(i.Agw),i.KVO(V))},e.ɵprov=i.jDH({token:e,factory:e.ɵfac}),HttpXsrfCookieExtractor})();function xsrfInterceptorFn(e,n){const r=e.url.toLowerCase();if(!(0,i.WQX)(B)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return n(e);const o=(0,i.WQX)(HttpXsrfTokenExtractor).getToken(),s=(0,i.WQX)(z);return null==o||e.headers.has(s)||(e=e.clone({headers:e.headers.set(s,o)})),n(e)}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();var W=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(W||{});function makeHttpFeature(e,n){return{ɵkind:e,ɵproviders:n}}function provideHttpClient(...e){if(ngDevMode){const n=new Set(e.map((e=>e.ɵkind)));if(n.has(W.NoXsrfProtection)&&n.has(W.CustomXsrfConfiguration))throw new Error(ngDevMode?"Configuration error: found both withXsrfConfiguration() and withNoXsrfProtection() in the same call to provideHttpClient(), which is a contradiction.":"")}const n=[E,U,L,{provide:HttpHandler,useExisting:L},{provide:HttpBackend,useExisting:U},{provide:x,useValue:xsrfInterceptorFn,multi:!0},{provide:B,useValue:!0},{provide:HttpXsrfTokenExtractor,useClass:q}];for(const r of e)n.push(...r.ɵproviders);return(0,i.EmA)(n)}const K=new i.nKC(ngDevMode?"LEGACY_INTERCEPTOR_FN":"");function withInterceptorsFromDi(){return makeHttpFeature(W.LegacyInterceptors,[{provide:K,useFactory:legacyInterceptorFnFactory},{provide:x,useExisting:K,multi:!0}])}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();new i.nKC(ngDevMode?"HTTP_TRANSFER_STATE_CACHE_OPTIONS":"")},54438:(e,n,r)=>{"use strict";r.d(n,{bc$:()=>qt,iLQ:()=>To,sZ2:()=>jt,hnV:()=>Do,H1s:()=>Mo,Hbi:()=>Wo,o8S:()=>Po,BIS:()=>Wt,gRc:()=>jo,Ql9:()=>ko,uAl:()=>mo,rjb:()=>ComponentRef$1,Ocv:()=>Lo,abz:()=>Ot,Z63:()=>me,aKT:()=>Nt,uvJ:()=>EnvironmentInjector,zcH:()=>ErrorHandler,bkB:()=>Lt,$GK:()=>ee,nKC:()=>InjectionToken,zZn:()=>kt,_q3:()=>Vo,MKu:()=>Go,xe9:()=>No,EmY:()=>En,Co$:()=>NgModuleFactory$1,Vns:()=>NgModuleRef$1,SKi:()=>NgZone,Xx1:()=>de,Agw:()=>zt,PLl:()=>Gt,sFG:()=>Vn,_9s:()=>RendererFactory2,czy:()=>kn,WPN:()=>Cn,FRM:()=>SimpleChange,kdw:()=>ue,C4Q:()=>Hn,NYb:()=>_o,giA:()=>Io,RxE:()=>Version,c1b:()=>Zn,gXe:()=>Ce,mal:()=>afterNextRender,Af3:()=>assertInInjectionContext,tdH:()=>assertNotInReactiveContext,L39:()=>booleanAttribute,EWP:()=>computed,a0P:()=>createComponent,Ol2:()=>createEnvironmentInjector,w6W:()=>createNgModule,QZP:()=>effect,SmG:()=>enableProdMode,Rfq:()=>forwardRef,oKB:()=>importProvidersFrom,WQX:()=>inject,hFB:()=>Rt,QuC:()=>isStandalone,EmA:()=>makeEnvironmentProviders,geq:()=>rr,HJs:()=>reflectComponentType,N4e:()=>runInInjectionContext,vPA:()=>signal,O8t:()=>untracked,An2:()=>ChangeDetectionScheduler,H3F:()=>vo,H8p:()=>_e,KH2:()=>Or,TgB:()=>ur,wOt:()=>RuntimeError,WHO:()=>So,e01:()=>Ao,lNU:()=>k,h9k:()=>_sanitizeHtml,$MX:()=>_sanitizeUrl,ZF7:()=>allowSanitizationBypassAndThrow,Kcf:()=>bypassSanitizationTrustHtml,e5t:()=>bypassSanitizationTrustResourceUrl,UyX:()=>bypassSanitizationTrustScript,cWb:()=>bypassSanitizationTrustStyle,osQ:()=>bypassSanitizationTrustUrl,H5H:()=>findLocaleData,Zy3:()=>formatRuntimeError,mq5:()=>getLocalePluralCase,JZv:()=>H,TL3:()=>internalCreateApplication,LfX:()=>isInjectable,plB:()=>isNgModule,jNT:()=>isPromise,zjR:()=>isSubscribable,ngT:()=>performanceMarkFeature,TL$:()=>setDocument,Tbb:()=>stringify,rcV:()=>unwrapSafeValue,Vt3:()=>ɵɵInheritDefinitionFeature,Mj6:()=>be,GFd:()=>ɵɵInputTransformsFeature,OA$:()=>ɵɵNgOnChangesFeature,Jv_:()=>ɵɵProvidersFeature,aNF:()=>ɵɵStandaloneFeature,R7$:()=>ɵɵadvance,BMQ:()=>ɵɵattribute,HbH:()=>ɵɵclassMap,ZvI:()=>ɵɵclassMapInterpolate1,STu:()=>ɵɵclassMapInterpolate2,AVh:()=>ɵɵclassProp,vxM:()=>ɵɵconditional,wni:()=>ɵɵcontentQuery,VBU:()=>ɵɵdefineComponent,FsC:()=>ɵɵdefineDirective,jDH:()=>ɵɵdefineInjectable,G2t:()=>ɵɵdefineInjector,$C:()=>ɵɵdefineNgModule,EJ8:()=>ɵɵdefinePipe,rXU:()=>ɵɵdirectiveInject,nrm:()=>ɵɵelement,eu8:()=>ɵɵelementContainer,bVm:()=>ɵɵelementContainerEnd,qex:()=>ɵɵelementContainerStart,k0s:()=>ɵɵelementEnd,j41:()=>ɵɵelementStart,RV6:()=>ɵɵgetCurrentView,xGo:()=>ɵɵgetInheritedFactory,Mr5:()=>ɵɵhostProperty,KVO:()=>ɵɵinject,kS0:()=>ɵɵinjectAttribute,QTQ:()=>ɵɵinvalidFactory,bIt:()=>ɵɵlistener,lsd:()=>ɵɵloadQuery,XpG:()=>ɵɵnextContext,nI1:()=>ɵɵpipe,bMT:()=>ɵɵpipeBind1,i5U:()=>ɵɵpipeBind2,brH:()=>ɵɵpipeBind3,SdG:()=>ɵɵprojection,NAR:()=>ɵɵprojectionDef,Y8G:()=>ɵɵproperty,FS9:()=>ɵɵpropertyInterpolate,Mz_:()=>ɵɵpropertyInterpolate1,FCK:()=>ɵɵpropertyInterpolate2,lJ4:()=>ɵɵpureFunction0,eq3:()=>ɵɵpureFunction1,l_i:()=>ɵɵpureFunction2,sMw:()=>ɵɵpureFunction3,ziG:()=>ɵɵpureFunction4,mGM:()=>ɵɵqueryRefresh,sdS:()=>ɵɵreference,Dyx:()=>ɵɵrepeater,Z7z:()=>ɵɵrepeaterCreate,fX1:()=>ɵɵrepeaterTrackByIdentity,Vm6:()=>ɵɵrepeaterTrackByIndex,Njj:()=>ɵɵresetView,eBV:()=>ɵɵrestoreView,npT:()=>ɵɵsanitizeHtml,f$h:()=>ɵɵsanitizeResourceUrl,B4B:()=>ɵɵsanitizeUrl,n$t:()=>ɵɵsanitizeUrlOrResourceUrl,Obh:()=>ɵɵsetNgModuleScope,Aen:()=>ɵɵstyleMap,xc7:()=>ɵɵstyleProp,zvX:()=>ɵɵsyntheticHostProperty,DNE:()=>ɵɵtemplate,C5r:()=>ɵɵtemplateRefExtractor,EFF:()=>ɵɵtext,JRh:()=>ɵɵtextInterpolate,SpI:()=>ɵɵtextInterpolate1,Lme:()=>ɵɵtextInterpolate2,E5c:()=>ɵɵtextInterpolate3,DH7:()=>ɵɵtwoWayBindingSet,mxI:()=>ɵɵtwoWayListener,R50:()=>ɵɵtwoWayProperty,GBs:()=>ɵɵviewQuery});var o=r(10467);function defaultEquals(e,n){return Object.is(e,n)}let i=null,s=!1,a=1;const c=Symbol("SIGNAL");function setActiveConsumer(e){const n=i;return i=e,n}function getActiveConsumer(){return i}const u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function producerAccessed(e){if(s)throw new Error("undefined"!=typeof ngDevMode&&ngDevMode?"Assertion error: signal read during notification phase":"");if(null===i)return;i.consumerOnSignalRead(e);const n=i.nextProducerIndex++;if(assertConsumerNode(i),n<i.producerNode.length&&i.producerNode[n]!==e&&consumerIsLive(i)){producerRemoveLiveConsumerAtIndex(i.producerNode[n],i.producerIndexOfThis[n])}i.producerNode[n]!==e&&(i.producerNode[n]=e,i.producerIndexOfThis[n]=consumerIsLive(i)?producerAddLiveConsumer(e,i,n):0),i.producerLastReadVersion[n]=e.version}function producerUpdateValueVersion(e){if((!consumerIsLive(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==a)){if(!e.producerMustRecompute(e)&&!consumerPollProducersForChange(e))return e.dirty=!1,e.lastCleanEpoch=a,void 0;e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=a}}function producerNotifyConsumers(e){if(void 0===e.liveConsumerNode)return;const n=s;s=!0;try{for(const n of e.liveConsumerNode)n.dirty||consumerMarkDirty(n)}finally{s=n}}function producerUpdatesAllowed(){var e;return!1!==(null===(e=i)||void 0===e?void 0:e.consumerAllowSignalWrites)}function consumerMarkDirty(e){var n;e.dirty=!0,producerNotifyConsumers(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function consumerBeforeComputation(e){return e&&(e.nextProducerIndex=0),setActiveConsumer(e)}function consumerAfterComputation(e,n){if(setActiveConsumer(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(consumerIsLive(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)producerRemoveLiveConsumerAtIndex(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function consumerPollProducersForChange(e){assertConsumerNode(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version)return!0;if(producerUpdateValueVersion(r),o!==r.version)return!0}return!1}function consumerDestroy(e){if(assertConsumerNode(e),consumerIsLive(e))for(let n=0;n<e.producerNode.length;n++)producerRemoveLiveConsumerAtIndex(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function producerAddLiveConsumer(e,n,r){if(assertProducerNode(e),assertConsumerNode(e),0===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=producerAddLiveConsumer(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function producerRemoveLiveConsumerAtIndex(e,n){if(assertProducerNode(e),assertConsumerNode(e),"undefined"!=typeof ngDevMode&&ngDevMode&&n>=e.liveConsumerNode.length)throw new Error(`Assertion error: active consumer index ${n} is out of bounds of ${e.liveConsumerNode.length} consumers)`);if(1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)producerRemoveLiveConsumerAtIndex(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];assertConsumerNode(o),o.producerIndexOfThis[r]=n}}function consumerIsLive(e){var n,r;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function assertConsumerNode(e){var n,r,o;null!==(n=e.producerNode)&&void 0!==n?n:e.producerNode=[],null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function assertProducerNode(e){var n,r;null!==(n=e.liveConsumerNode)&&void 0!==n?n:e.liveConsumerNode=[],null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}const p=Symbol("UNSET"),f=Symbol("COMPUTING"),g=Symbol("ERRORED"),v=(()=>({...u,value:p,dirty:!0,error:null,equal:defaultEquals,producerMustRecompute:e=>e.value===p||e.value===f,producerRecomputeValue(e){if(e.value===f)throw new Error("Detected cycle in computations.");const n=e.value;e.value=f;const r=consumerBeforeComputation(e);let o;try{o=e.computation()}catch(n){o=g,e.error=n}finally{consumerAfterComputation(e,r)}if(n!==p&&n!==g&&o!==g&&e.equal(n,o))return e.value=n,void 0;e.value=o,e.version++}}))();let C=function defaultThrowError(){throw new Error};function throwInvalidWriteToSignalError(){C()}let b=null;function signalSetFn(e,n){producerUpdatesAllowed()||throwInvalidWriteToSignalError(),e.equal(e.value,n)||(e.value=n,function signalValueChanged(e){var n;e.version++,function producerIncrementEpoch(){a++}(),producerNotifyConsumers(e),null===(n=b)||void 0===n||n()}(e))}const w=(()=>({...u,equal:defaultEquals,value:void 0}))();function createWatch(e,n,r){const o=Object.create(A);r&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=n;const registerOnCleanup=e=>{o.cleanupFn=e};return o.ref={notify:()=>consumerMarkDirty(o),run:()=>{if(null===o.fn)return;if(function isInNotificationPhase(){return s}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(o.dirty=!1,o.hasRun&&!consumerPollProducersForChange(o))return;o.hasRun=!0;const e=consumerBeforeComputation(o);try{o.cleanupFn(),o.cleanupFn=NOOP_CLEANUP_FN,o.fn(registerOnCleanup)}finally{consumerAfterComputation(o,e)}},cleanup:()=>o.cleanupFn(),destroy:()=>function destroyWatchNode(e){(function isWatchNodeDestroyed(e){return null===e.fn&&null===e.schedule})(e)||(consumerDestroy(e),e.cleanupFn(),e.fn=null,e.schedule=null,e.cleanupFn=NOOP_CLEANUP_FN)}(o),[c]:o},o.ref}const NOOP_CLEANUP_FN=()=>{},A=(()=>({...u,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:NOOP_CLEANUP_FN}))();var _=r(21413),E=r(18359),I=r(84412),T=r(96354);const P="https://angular.io/errors",k="https://g.co/ng/security#xss";class RuntimeError extends Error{constructor(e,n){super(formatRuntimeError(e,n)),this.code=e}}function formatRuntimeError(e,n){const r=`NG0${Math.abs(e)}`;let o=`${r}${n?": "+n:""}`;if(ngDevMode&&e<0){const e=!o.match(/[.,;!?\n]$/);o=`${o}${e?".":""} Find more at ${P}/${r}`}return o}const x=Symbol("InputSignalNode#UNSET"),F=(()=>({...w,transformFn:void 0,applyValueToInputSignal(e,n){signalSetFn(e,n)}}))();function createInputSignal(e,n){const r=Object.create(F);function inputValueFn(){if(producerAccessed(r),r.value===x)throw new RuntimeError(-950,ngDevMode&&"Input is required but no value is available yet.");return r.value}return r.value=e,r.transformFn=null==n?void 0:n.transform,inputValueFn[c]=r,ngDevMode&&(inputValueFn.toString=()=>`[Input Signal: ${inputValueFn()}]`),inputValueFn}function noSideEffects(e){return{toString:e}.toString()}const R="__annotations__",N="__parameters__",L="__prop__metadata__";function makeDecorator(e,n,r,o,i){return noSideEffects((()=>{const s=makeMetadataCtor(n);function DecoratorFactory(...e){if(this instanceof DecoratorFactory)return s.call(this,...e),this;const n=new DecoratorFactory(...e);return function TypeDecorator(r){i&&i(r,...e);return(r.hasOwnProperty(R)?r[R]:Object.defineProperty(r,R,{value:[]})[R]).push(n),o&&o(r),r}}return r&&(DecoratorFactory.prototype=Object.create(r.prototype)),DecoratorFactory.prototype.ngMetadataName=e,DecoratorFactory.annotationCls=DecoratorFactory,DecoratorFactory}))}function makeMetadataCtor(e){return function ctor(...n){if(e){const r=e(...n);for(const e in r)this[e]=r[e]}}}function makeParamDecorator(e,n,r){return noSideEffects((()=>{const o=makeMetadataCtor(n);function ParamDecoratorFactory(...e){if(this instanceof ParamDecoratorFactory)return o.apply(this,e),this;const n=new ParamDecoratorFactory(...e);return ParamDecorator.annotation=n,ParamDecorator;function ParamDecorator(e,r,o){const i=e.hasOwnProperty(N)?e[N]:Object.defineProperty(e,N,{value:[]})[N];for(;i.length<=o;)i.push(null);return(i[o]=i[o]||[]).push(n),e}}return r&&(ParamDecoratorFactory.prototype=Object.create(r.prototype)),ParamDecoratorFactory.prototype.ngMetadataName=e,ParamDecoratorFactory.annotationCls=ParamDecoratorFactory,ParamDecoratorFactory}))}const H=globalThis;function initNgDevMode(){return!("undefined"!=typeof ngDevMode&&!ngDevMode)&&("object"==typeof ngDevMode&&0!==Object.keys(ngDevMode).length||!function ngDevModeResetPerfCounters(){const e="undefined"!=typeof location?location.toString():"",n={namedConstructors:-1!=e.indexOf("ngDevMode=namedConstructors"),firstCreatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererAppendChild:0,rendererInsertBefore:0,rendererCreateComment:0,hydratedNodes:0,hydratedComponents:0,dehydratedViewsRemoved:0,dehydratedViewsCleanupRuns:0,componentsSkippedHydration:0};return-1===e.indexOf("ngDevMode=false")?("object"!=typeof H.ngDevMode&&(H.ngDevMode={}),Object.assign(H.ngDevMode,n)):H.ngDevMode=!1,n}(),"undefined"!=typeof ngDevMode&&!!ngDevMode)}function getClosureSafeProperty(e){for(let n in e)if(e[n]===getClosureSafeProperty)return n;throw Error("Could not find renamed property on target object.")}function fillProperties(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function stringify(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(stringify).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function concatStringsWithSpace(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const U=getClosureSafeProperty({__forward_ref__:getClosureSafeProperty});function forwardRef(e){return e.__forward_ref__=forwardRef,e.toString=function(){return stringify(this())},e}function resolveForwardRef(e){return isForwardRef(e)?e():e}function isForwardRef(e){return"function"==typeof e&&e.hasOwnProperty(U)&&e.__forward_ref__===forwardRef}function assertNumber(e,n){"number"!=typeof e&&throwError(n,typeof e,"number","===")}function assertNumberInRange(e,n,r){assertNumber(e,"Expected a number"),assertLessThanOrEqual(e,r,"Expected number to be less than or equal to"),assertGreaterThanOrEqual(e,n,"Expected number to be greater than or equal to")}function assertString(e,n){"string"!=typeof e&&throwError(n,null===e?"null":typeof e,"string","===")}function assertFunction(e,n){"function"!=typeof e&&throwError(n,null===e?"null":typeof e,"function","===")}function assertEqual(e,n,r){e!=n&&throwError(r,e,n,"==")}function assertNotEqual(e,n,r){e==n&&throwError(r,e,n,"!=")}function assertSame(e,n,r){e!==n&&throwError(r,e,n,"===")}function assertNotSame(e,n,r){e===n&&throwError(r,e,n,"!==")}function assertLessThan(e,n,r){e<n||throwError(r,e,n,"<")}function assertLessThanOrEqual(e,n,r){e<=n||throwError(r,e,n,"<=")}function assertGreaterThan(e,n,r){e>n||throwError(r,e,n,">")}function assertGreaterThanOrEqual(e,n,r){e>=n||throwError(r,e,n,">=")}function assertDefined(e,n){null==e&&throwError(n,e,null,"!=")}function throwError(e,n,r,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${r} ${o} ${n} <=Actual]`))}function assertDomNode(e){e instanceof Node||throwError(`The provided value must be an instance of a DOM Node but got ${stringify(e)}`)}function assertIndexInRange(e,n){assertDefined(e,"Array must be defined.");const r=e.length;(n<0||n>=r)&&throwError(`Index expected to be less than ${r} but got ${n}`)}function assertOneOf(e,...n){if(-1!==n.indexOf(e))return!0;throwError(`Expected value to be one of ${JSON.stringify(n)} but was ${JSON.stringify(e)}.`)}function assertNotReactive(e){null!==getActiveConsumer()&&throwError(`${e}() should never be called in a reactive context.`)}function ɵɵdefineInjectable(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ɵɵdefineInjector(e){return{providers:e.providers||[],imports:e.imports||[]}}function getInjectableDef(e){return getOwnDefinition(e,B)||getOwnDefinition(e,V)}function isInjectable(e){return null!==getInjectableDef(e)}function getOwnDefinition(e,n){return e.hasOwnProperty(n)?e[n]:null}function getInjectorDef(e){return e&&(e.hasOwnProperty(j)||e.hasOwnProperty(G))?e[j]:null}const B=getClosureSafeProperty({ɵprov:getClosureSafeProperty}),j=getClosureSafeProperty({ɵinj:getClosureSafeProperty}),V=getClosureSafeProperty({ngInjectableDef:getClosureSafeProperty}),G=getClosureSafeProperty({ngInjectorDef:getClosureSafeProperty});class InjectionToken{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof n?(("undefined"==typeof ngDevMode||ngDevMode)&&assertLessThan(n,0,"Only negative numbers are supported here"),this.__NG_ELEMENT_ID__=n):void 0!==n&&(this.ɵprov=ɵɵdefineInjectable({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let z;function getInjectorProfilerContext(){return!ngDevMode&&throwError("getInjectorProfilerContext should never be called in production mode"),z}function setInjectorProfilerContext(e){!ngDevMode&&throwError("setInjectorProfilerContext should never be called in production mode");const n=z;return z=e,n}let q=null;const setInjectorProfiler=e=>{!ngDevMode&&throwError("setInjectorProfiler should never be called in production mode"),q=e};function injectorProfiler(e){!ngDevMode&&throwError("Injector profiler should never be called in production mode"),null!=q&&q(e)}function emitProviderConfiguredEvent(e,n=!1){let r;!ngDevMode&&throwError("Injector profiler should never be called in production mode"),r="function"==typeof e||e instanceof InjectionToken?e:resolveForwardRef(e.provide);let o=e;e instanceof InjectionToken&&(o=e.ɵprov||e),injectorProfiler({type:2,context:getInjectorProfilerContext(),providerRecord:{token:r,provider:o,isViewProvider:n}})}function emitInstanceCreatedByInjectorEvent(e){!ngDevMode&&throwError("Injector profiler should never be called in production mode"),injectorProfiler({type:1,context:getInjectorProfilerContext(),instance:{value:e}})}function emitInjectEvent(e,n,r){!ngDevMode&&throwError("Injector profiler should never be called in production mode"),injectorProfiler({type:0,context:getInjectorProfilerContext(),service:{token:e,value:n,flags:r}})}function runInInjectorProfilerContext(e,n,r){!ngDevMode&&throwError("runInInjectorProfilerContext should never be called in production mode");const o=setInjectorProfilerContext({injector:e,token:n});try{r()}finally{setInjectorProfilerContext(o)}}function isEnvironmentProviders(e){return e&&!!e.ɵproviders}const W=getClosureSafeProperty({ɵcmp:getClosureSafeProperty}),K=getClosureSafeProperty({ɵdir:getClosureSafeProperty}),Q=getClosureSafeProperty({ɵpipe:getClosureSafeProperty}),X=getClosureSafeProperty({ɵmod:getClosureSafeProperty}),Y=getClosureSafeProperty({ɵfac:getClosureSafeProperty}),J=getClosureSafeProperty({__NG_ELEMENT_ID__:getClosureSafeProperty}),Z=getClosureSafeProperty({__NG_ENV_ID__:getClosureSafeProperty});function renderStringify(e){return"string"==typeof e?e:null==e?"":String(e)}function stringifyForError(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():renderStringify(e)}function throwCyclicDependencyError(e,n){const r=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new RuntimeError(-200,ngDevMode?`Circular dependency in DI detected for ${e}${r}`:e)}function throwMixedMultiProviderError(){throw new Error("Cannot mix multi providers and regular providers")}function throwInvalidProviderError(e,n,r){if(e&&n){const o=n.map((e=>e==r?"?"+r+"?":"..."));throw new Error(`Invalid provider for the NgModule '${stringify(e)}' - only instances of Provider and Type are allowed, got: [${o.join(", ")}]`)}throw isEnvironmentProviders(r)?new RuntimeError(207,r.ɵfromNgModule?"Invalid providers from 'importProvidersFrom' present in a non-environment injector. 'importProvidersFrom' can't be used for component providers.":"Invalid providers present in a non-environment injector. 'EnvironmentProviders' can't be used for component providers."):new Error("Invalid provider")}function throwProviderNotFoundError(e,n){const r=ngDevMode&&`No provider for ${stringifyForError(e)} found${n?` in ${n}`:""}`;throw new RuntimeError(-201,r)}var ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ee||{});let te;function getInjectImplementation(){return te}function setInjectImplementation(e){const n=te;return te=e,n}function injectRootLimpMode(e,n,r){const o=getInjectableDef(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&ee.Optional?null:void 0!==n?n:(throwProviderNotFoundError(e,"Injector"),void 0)}const ne={},re="__NG_DI_FLAG__",oe="ngTempTokenPath",ie=/\n/gm,se="__source";let ae;function setCurrentInjector(e){const n=ae;return ae=e,n}function injectInjectorOnly(e,n=ee.Default){if(void 0===ae)throw new RuntimeError(-203,ngDevMode&&"inject() must be called from an injection context such as a constructor, a factory function, a field initializer, or a function used with `runInInjectionContext`.");if(null===ae)return injectRootLimpMode(e,void 0,n);{const r=ae.get(e,n&ee.Optional?null:void 0,n);return ngDevMode&&emitInjectEvent(e,r,n),r}}function ɵɵinject(e,n=ee.Default){return(getInjectImplementation()||injectInjectorOnly)(resolveForwardRef(e),n)}function ɵɵinvalidFactoryDep(e){throw new RuntimeError(202,ngDevMode&&`This constructor is not compatible with Angular Dependency Injection because its dependency at index ${e} of the parameter list is invalid.\nThis can happen if the dependency type is a primitive like a string or if an ancestor of this class is missing an Angular decorator.\n\nPlease check that 1) the type for the parameter at index ${e} is correct and 2) the correct Angular decorators are defined for this class and its ancestors.`)}function inject(e,n=ee.Default){return ɵɵinject(e,convertToBitFlags(n))}function convertToBitFlags(e){return void 0===e||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function injectArgs(e){const n=[];for(let r=0;r<e.length;r++){const o=resolveForwardRef(e[r]);if(Array.isArray(o)){if(0===o.length)throw new RuntimeError(900,ngDevMode&&"Arguments array must have arguments.");let e,r=ee.Default;for(let n=0;n<o.length;n++){const i=o[n],s=i[re];"number"==typeof s?-1===s?e=i.token:r|=s:e=i}n.push(ɵɵinject(e,r))}else n.push(ɵɵinject(o))}return n}function attachInjectFlag(e,n){return e[re]=n,e.prototype[re]=n,e}function catchInjectorError(e,n,r,o){const i=e[oe];throw n[se]&&i.unshift(n[se]),e.message=function formatError(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.slice(2):e;let i=stringify(n);if(Array.isArray(n))i=n.map(stringify).join(" -> ");else if("object"==typeof n){let e=[];for(let r in n)if(n.hasOwnProperty(r)){let o=n[r];e.push(r+":"+("string"==typeof o?JSON.stringify(o):stringify(o)))}i=`{${e.join(", ")}}`}return`${r}${o?"("+o+")":""}[${i}]: ${e.replace(ie,"\n  ")}`}("\n"+e.message,i,r,o),e.ngTokenPath=i,e[oe]=null,e}const le=attachInjectFlag(makeParamDecorator("Inject",(e=>({token:e}))),-1),de=attachInjectFlag(makeParamDecorator("Optional"),8),ce=attachInjectFlag(makeParamDecorator("Self"),2),ue=attachInjectFlag(makeParamDecorator("SkipSelf"),4),pe=attachInjectFlag(makeParamDecorator("Host"),1);function getFactoryDef(e,n){const r=e.hasOwnProperty(Y);if(!r&&!0===n&&ngDevMode)throw new Error(`Type ${stringify(e)} does not have 'ɵfac' property.`);return r?e[Y]:null}function flatten(e){return e.flat(Number.POSITIVE_INFINITY)}function deepForEach(e,n){e.forEach((e=>Array.isArray(e)?deepForEach(e,n):n(e)))}function addToArray(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function removeFromArray(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function newArray(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}function arraySplice(e,n,r){const o=e.length-r;for(;n<o;)e[n]=e[n+r],n++;for(;r--;)e.pop()}function arrayInsert2(e,n,r,o){ngDevMode&&assertLessThanOrEqual(n,e.length,"Can't insert past array end.");let i=e.length;if(i==n)e.push(r,o);else if(1===i)e.push(o,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>n;){e[i]=e[i-2],i--}e[n]=r,e[n+1]=o}}function keyValueArraySet(e,n,r){let o=keyValueArrayIndexOf(e,n);return o>=0?e[1|o]=r:(o=~o,arrayInsert2(e,o,n,r)),o}function keyValueArrayGet(e,n){const r=keyValueArrayIndexOf(e,n);if(r>=0)return e[1|r]}function keyValueArrayIndexOf(e,n){return _arrayIndexOfSorted(e,n,1)}function _arrayIndexOfSorted(e,n,r){ngDevMode&&assertEqual(Array.isArray(e),!0,"Expecting an array");let o=0,i=e.length>>r;for(;i!==o;){const s=o+(i-o>>1),a=e[s<<r];if(n===a)return s<<r;a>n?i=s:o=s+1}return~(i<<r)}const fe={},ge=[];("undefined"==typeof ngDevMode||ngDevMode)&&initNgDevMode()&&(Object.freeze(fe),Object.freeze(ge));const me=new InjectionToken(ngDevMode?"ENVIRONMENT_INITIALIZER":""),he=new InjectionToken(ngDevMode?"INJECTOR":"",-1),ve=new InjectionToken(ngDevMode?"INJECTOR_DEF_TYPES":"");class NullInjector{get(e,n=ne){if(n===ne){const n=new Error(`NullInjectorError: No provider for ${stringify(e)}!`);throw n.name="NullInjectorError",n}return n}}var ye=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ye||{}),Ce=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ce||{}),be=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(be||{});function classIndexOf(e,n,r){ngDevMode&&assertNotEqual(n,"",'can not look for "" string.');let o=e.length;for(;;){const i=e.indexOf(n,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const r=n.length;if(i+r===o||e.charCodeAt(i+r)<=32)return i}r=i+1}}function setUpAttributes(e,n,r){let o=0;for(;o<r.length;){const i=r[o];if("number"==typeof i){if(0!==i)break;o++;const s=r[o++],a=r[o++],c=r[o++];ngDevMode&&ngDevMode.rendererSetAttribute++,e.setAttribute(n,a,c,s)}else{const s=i,a=r[++o];ngDevMode&&ngDevMode.rendererSetAttribute++,isAnimationProp(s)?e.setProperty(n,s,a):e.setAttribute(n,s,a),o++}}return o}function isNameOnlyAttributeMarker(e){return 3===e||4===e||6===e}function isAnimationProp(e){return 64===e.charCodeAt(0)}function mergeHostAttrs(e,n){if(null===n||0===n.length);else if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const i=n[o];"number"==typeof i?r=i:0===r||mergeHostAttribute(e,r,i,null,-1===r||2===r?n[++o]:null)}}return e}function mergeHostAttribute(e,n,r,o,i){let s=0,a=e.length;if(-1===n)a=-1;else for(;s<e.length;){const r=e[s++];if("number"==typeof r){if(r===n){a=-1;break}if(r>n){a=s-1;break}}}for(;s<e.length;){const n=e[s];if("number"==typeof n)break;if(n===r){if(null===o)return null!==i&&(e[s+1]=i),void 0;if(o===e[s+1])return e[s+2]=i,void 0}s++,null!==o&&s++,null!==i&&s++}-1!==a&&(e.splice(a,0,n),s=a+1),e.splice(s++,0,r),null!==o&&e.splice(s++,0,o),null!==i&&e.splice(s++,0,i)}const we="ng-template";function isCssClassMatching(e,n,r,o){ngDevMode&&assertEqual(r,r.toLowerCase(),"Class name expected to be lowercase.");let i=0;if(o){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==classIndexOf(n[i+1].toLowerCase(),r,0))return!0}else if(isInlineTemplate(e))return!1;if(i=n.indexOf(1,i),i>-1){let e;for(;++i<n.length&&"string"==typeof(e=n[i]);)if(e.toLowerCase()===r)return!0}return!1}function isInlineTemplate(e){return 4===e.type&&e.value!==we}function hasTagAndTypeMatch(e,n,r){return n===(4!==e.type||r?e.value:we)}function isNodeMatchingSelector(e,n,r){ngDevMode&&assertDefined(n[0],"Selector should have a tag name");let o=4;const i=e.attrs,s=null!==i?function getNameOnlyMarkerIndex(e){for(let n=0;n<e.length;n++){if(isNameOnlyAttributeMarker(e[n]))return n}return e.length}(i):0;let a=!1;for(let c=0;c<n.length;c++){const u=n[c];if("number"!=typeof u){if(!a)if(4&o){if(o=2|1&o,""!==u&&!hasTagAndTypeMatch(e,u,r)||""===u&&1===n.length){if(isPositive(o))return!1;a=!0}}else if(8&o){if(null===i||!isCssClassMatching(e,i,u,r)){if(isPositive(o))return!1;a=!0}}else{const p=n[++c],f=findAttrIndexInNode(u,i,isInlineTemplate(e),r);if(-1===f){if(isPositive(o))return!1;a=!0;continue}if(""!==p){let e;if(f>s?e="":(ngDevMode&&assertNotEqual(i[f],0,"We do not match directives on namespaced attributes"),e=i[f+1].toLowerCase()),2&o&&p!==e){if(isPositive(o))return!1;a=!0}}}}else{if(!a&&!isPositive(o)&&!isPositive(u))return!1;if(a&&isPositive(u))continue;a=!1,o=u|1&o}}return isPositive(o)||a}function isPositive(e){return!(1&e)}function findAttrIndexInNode(e,n,r,o){if(null===n)return-1;let i=0;if(o||!r){let r=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)r=!0;else{if(1===o||2===o){let e=n[++i];for(;"string"==typeof e;)e=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=r?1:2}return-1}return function matchTemplateAttribute(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function isNodeMatchingSelectorList(e,n,r=!1){for(let o=0;o<n.length;o++)if(isNodeMatchingSelector(e,n[o],r))return!0;return!1}function isSelectorInSelectorList(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let n=0;n<e.length;n++)if(e[n]!==o[n])continue e;return!0}}return!1}function maybeWrapInNotSelector(e,n){return e?":not("+n.trim()+")":n}function stringifyCSSSelector(e){let n=e[0],r=1,o=2,i="",s=!1;for(;r<e.length;){let a=e[r];if("string"==typeof a)if(2&o){const n=e[++r];i+="["+a+(n.length>0?'="'+n+'"':"")+"]"}else 8&o?i+="."+a:4&o&&(i+=" "+a);else""===i||isPositive(a)||(n+=maybeWrapInNotSelector(s,i),i=""),o=a,s=s||!isPositive(o);r++}return""!==i&&(n+=maybeWrapInNotSelector(s,i)),n}function stringifyCSSSelectorList(e){return e.map(stringifyCSSSelector).join(",")}function ɵɵdefineComponent(e){return noSideEffects((()=>{var n;("undefined"==typeof ngDevMode||ngDevMode)&&initNgDevMode();const r=getNgDirectiveDef(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Ce.Emulated,styles:e.styles||ge,_:null,schemas:e.schemas||null,tView:null,id:""};initFeatures(o);const i=e.dependencies;return o.directiveDefs=extractDefListOrFactory(i,!1),o.pipeDefs=extractDefListOrFactory(i,!0),o.id=function getComponentId(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const e of r)n=Math.imul(31,n)+e.charCodeAt(0)|0;n+=2147483648;const o="c"+n;if("undefined"==typeof ngDevMode||ngDevMode)if(Se.has(o)){const n=Se.get(o);n!==e.type&&console.warn(formatRuntimeError(-912,`Component ID generation collision detected. Components '${n.name}' and '${e.type.name}' with selector '${stringifyCSSSelectorList(e.selectors)}' generated the same component ID. To fix this, you can change the selector of one of those components or add an extra host attribute to force a different ID.`))}else Se.set(o,e.type);return o}(o),o}))}function extractDirectiveDef(e){return getComponentDef(e)||getDirectiveDef(e)}function nonNull(e){return null!==e}function ɵɵdefineNgModule(e){return noSideEffects((()=>({type:e.type,bootstrap:e.bootstrap||ge,declarations:e.declarations||ge,imports:e.imports||ge,exports:e.exports||ge,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null})))}function parseAndConvertBindingsForDefinition(e,n){if(null==e)return fe;const r={};for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];let a,c,u=be.None;var o;if(Array.isArray(s))u=s[0],a=s[1],c=null!==(o=s[2])&&void 0!==o?o:a;else a=s,c=s;n?(r[a]=u!==be.None?[i,u]:i,n[a]=c):r[a]=i}return r}function ɵɵdefineDirective(e){return noSideEffects((()=>{const n=getNgDirectiveDef(e);return initFeatures(n),n}))}function ɵɵdefinePipe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function getComponentDef(e){return e[W]||null}function getDirectiveDef(e){return e[K]||null}function getPipeDef$1(e){return e[Q]||null}function isStandalone(e){const n=getComponentDef(e)||getDirectiveDef(e)||getPipeDef$1(e);return null!==n&&n.standalone}function getNgModuleDef(e,n){const r=e[X]||null;if(!r&&!0===n)throw new Error(`Type ${stringify(e)} does not have 'ɵmod' property.`);return r}function getNgDirectiveDef(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||fe,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ge,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:parseAndConvertBindingsForDefinition(e.inputs,n),outputs:parseAndConvertBindingsForDefinition(e.outputs),debugInfo:null}}function initFeatures(e){var n;null===(n=e.features)||void 0===n||n.forEach((n=>n(e)))}function extractDefListOrFactory(e,n){if(!e)return null;const r=n?getPipeDef$1:extractDirectiveDef;return()=>("function"==typeof e?e():e).map((e=>r(e))).filter(nonNull)}const Se=new Map;function makeEnvironmentProviders(e){return{ɵproviders:e}}function importProvidersFrom(...e){return{ɵproviders:internalImportProvidersFrom(!0,e),ɵfromNgModule:!0}}function internalImportProvidersFrom(e,...n){const r=[],o=new Set;let i;const collectProviders=e=>{r.push(e)};return deepForEach(n,(n=>{if(("undefined"==typeof ngDevMode||ngDevMode)&&e){const e=getComponentDef(n);if(null!=e&&e.standalone)throw new RuntimeError(800,`Importing providers supports NgModule or ModuleWithProviders but got a standalone component "${stringifyForError(n)}"`)}const r=n;walkProviderTree(r,collectProviders,[],o)&&(i||(i=[]),i.push(r))})),void 0!==i&&processInjectorTypesWithProviders(i,collectProviders),r}function processInjectorTypesWithProviders(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:i}=e[r];deepForEachProvider(i,(e=>{ngDevMode&&validateProvider(e,i||ge,o),n(e,o)}))}}function walkProviderTree(e,n,r,o){if(!(e=resolveForwardRef(e)))return!1;let i=null,s=getInjectorDef(e);const a=!s&&getComponentDef(e);if(s||a){if(a&&!a.standalone)return!1;i=e}else{const n=e.ngModule;if(s=getInjectorDef(n),!s)return!1;i=n}if(ngDevMode&&-1!==r.indexOf(i)){throwCyclicDependencyError(stringify(i),r.map(stringify))}const c=o.has(i);if(a){if(c)return!1;if(o.add(i),a.dependencies){const e="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const i of e)walkProviderTree(i,n,r,o)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let e;ngDevMode&&r.push(i),o.add(i);try{deepForEach(s.imports,(i=>{walkProviderTree(i,n,r,o)&&(e||(e=[]),e.push(i))}))}finally{ngDevMode&&r.pop()}void 0!==e&&processInjectorTypesWithProviders(e,n)}if(!c){const e=getFactoryDef(i)||(()=>new i);n({provide:i,useFactory:e,deps:ge},i),n({provide:ve,useValue:i,multi:!0},i),n({provide:me,useValue:()=>ɵɵinject(i),multi:!0},i)}const a=s.providers;if(null!=a&&!c){const r=e;deepForEachProvider(a,(e=>{ngDevMode&&validateProvider(e,a,r),n(e,r)}))}}}return i!==e&&void 0!==e.providers}function validateProvider(e,n,r){if(isTypeProvider(e)||isValueProvider(e)||isFactoryProvider(e)||isExistingProvider(e))return;resolveForwardRef(e&&(e.useClass||e.provide))||throwInvalidProviderError(r,n,e)}function deepForEachProvider(e,n){for(let r of e)isEnvironmentProviders(r)&&(r=r.ɵproviders),Array.isArray(r)?deepForEachProvider(r,n):n(r)}const Ae=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});function isValueProvider(e){return null!==e&&"object"==typeof e&&Ae in e}function isExistingProvider(e){return!(!e||!e.useExisting)}function isFactoryProvider(e){return!(!e||!e.useFactory)}function isTypeProvider(e){return"function"==typeof e}const _e=new InjectionToken(ngDevMode?"Set Injector scope.":""),Ee={},Ie={};let De;function getNullInjector(){return void 0===De&&(De=new NullInjector),De}class EnvironmentInjector{}class R3Injector extends EnvironmentInjector{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,forEachSingleProvider(e,(e=>this.processProvider(e))),this.records.set(he,makeRecord(void 0,this)),o.has("environment")&&this.records.set(EnvironmentInjector,makeRecord(void 0,this));const i=this.records.get(_e);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ve,ge,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=setActiveConsumer(null);try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),setActiveConsumer(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=setCurrentInjector(this),r=setInjectImplementation(void 0);let o;ngDevMode&&(o=setInjectorProfilerContext({injector:this,token:null}));try{return e()}finally{setCurrentInjector(n),setInjectImplementation(r),ngDevMode&&setInjectorProfilerContext(o)}}get(e,n=ne,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Z))return e[Z](this);let o;r=convertToBitFlags(r),ngDevMode&&(o=setInjectorProfilerContext({injector:this,token:e}));const i=setCurrentInjector(this),s=setInjectImplementation(void 0);try{if(!(r&ee.SkipSelf)){let n=this.records.get(e);if(void 0===n){const r=function couldBeInjectableType(e){return"function"==typeof e||"object"==typeof e&&e instanceof InjectionToken}(e)&&getInjectableDef(e);r&&this.injectableDefInScope(r)?(ngDevMode&&runInInjectorProfilerContext(this,e,(()=>{emitProviderConfiguredEvent(e)})),n=makeRecord(injectableDefOrInjectorDefFactory(e),Ee)):n=null,this.records.set(e,n)}if(null!=n)return this.hydrate(e,n)}return(r&ee.Self?getNullInjector():this.parent).get(e,n=r&ee.Optional&&n===ne?null:n)}catch(n){if("NullInjectorError"===n.name){if((n[oe]=n[oe]||[]).unshift(stringify(e)),i)throw n;return catchInjectorError(n,e,"R3InjectorError",this.source)}throw n}finally{setInjectImplementation(s),setCurrentInjector(i),ngDevMode&&setInjectorProfilerContext(o)}}resolveInjectorInitializers(){const e=setActiveConsumer(null),n=setCurrentInjector(this),r=setInjectImplementation(void 0);let o;ngDevMode&&(o=setInjectorProfilerContext({injector:this,token:null}));try{const e=this.get(me,ge,ee.Self);if(ngDevMode&&!Array.isArray(e))throw new RuntimeError(-209,`Unexpected type of the \`ENVIRONMENT_INITIALIZER\` token value (expected an array, but got ${typeof e}). Please check that the \`ENVIRONMENT_INITIALIZER\` token is configured as a \`multi: true\` provider.`);for(const n of e)n()}finally{setCurrentInjector(n),setInjectImplementation(r),ngDevMode&&setInjectorProfilerContext(o),setActiveConsumer(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(stringify(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new RuntimeError(205,ngDevMode&&"Injector has already been destroyed.")}processProvider(e){let n=isTypeProvider(e=resolveForwardRef(e))?e:resolveForwardRef(e&&e.provide);const r=function providerToRecord(e){if(isValueProvider(e))return makeRecord(void 0,e.useValue);return makeRecord(providerToFactory(e),Ee)}(e);if(ngDevMode&&runInInjectorProfilerContext(this,n,(()=>{isValueProvider(e)&&emitInstanceCreatedByInjectorEvent(e.useValue),emitProviderConfiguredEvent(e)})),isTypeProvider(e)||!0!==e.multi){if(ngDevMode){const e=this.records.get(n);e&&void 0!==e.multi&&throwMixedMultiProviderError()}}else{let r=this.records.get(n);r?ngDevMode&&void 0===r.multi&&throwMixedMultiProviderError():(r=makeRecord(void 0,Ee,!0),r.factory=()=>injectArgs(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=setActiveConsumer(null);try{return ngDevMode&&n.value===Ie?throwCyclicDependencyError(stringify(e)):n.value===Ee&&(n.value=Ie,ngDevMode?runInInjectorProfilerContext(this,e,(()=>{n.value=n.factory(),emitInstanceCreatedByInjectorEvent(n.value)})):n.value=n.factory()),"object"==typeof n.value&&n.value&&function hasOnDestroy(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{setActiveConsumer(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=resolveForwardRef(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function injectableDefOrInjectorDefFactory(e){const n=getInjectableDef(e),r=null!==n?n.factory:getFactoryDef(e);if(null!==r)return r;if(e instanceof InjectionToken)throw new RuntimeError(204,ngDevMode&&`Token ${stringify(e)} is missing a ɵprov definition.`);if(e instanceof Function)return function getUndecoratedInjectableFactory(e){const n=e.length;if(n>0)throw new RuntimeError(204,ngDevMode&&`Can't resolve all parameters for ${stringify(e)}: (${newArray(n,"?").join(", ")}).`);const r=function getInheritedInjectableDef(e){const n=e&&(e[B]||e[V]);return n?(ngDevMode&&console.warn(`DEPRECATED: DI is instantiating a token "${e.name}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e.name}" class.`),n):null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new RuntimeError(204,ngDevMode&&"unreachable")}function providerToFactory(e,n,r){let o;if(ngDevMode&&isEnvironmentProviders(e)&&throwInvalidProviderError(void 0,r,e),isTypeProvider(e)){const n=resolveForwardRef(e);return getFactoryDef(n)||injectableDefOrInjectorDefFactory(n)}if(isValueProvider(e))o=()=>resolveForwardRef(e.useValue);else if(isFactoryProvider(e))o=()=>e.useFactory(...injectArgs(e.deps||[]));else if(isExistingProvider(e))o=()=>ɵɵinject(resolveForwardRef(e.useExisting));else{const i=resolveForwardRef(e&&(e.useClass||e.provide));if(ngDevMode&&!i&&throwInvalidProviderError(n,r,e),!function hasDeps(e){return!!e.deps}(e))return getFactoryDef(i)||injectableDefOrInjectorDefFactory(i);o=()=>new i(...injectArgs(e.deps))}return o}function makeRecord(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function forEachSingleProvider(e,n){for(const r of e)Array.isArray(r)?forEachSingleProvider(r,n):r&&isEnvironmentProviders(r)?forEachSingleProvider(r.ɵproviders,n):n(r)}function runInInjectionContext(e,n){let r;e instanceof R3Injector&&e.assertNotDestroyed(),ngDevMode&&(r=setInjectorProfilerContext({injector:e,token:null}));const o=setCurrentInjector(e),i=setInjectImplementation(void 0);try{return n()}finally{setCurrentInjector(o),ngDevMode&&setInjectorProfilerContext(r),setInjectImplementation(i)}}function isInInjectionContext(){return void 0!==getInjectImplementation()||null!=function getCurrentInjector(){return ae}()}function assertInInjectionContext(e){if(!isInInjectionContext())throw new RuntimeError(-203,ngDevMode&&e.name+"() can only be used within an injection context such as a constructor, a factory function, a field initializer, or a function used with `runInInjectionContext`")}var Me=function(e){return e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule",e}(Me||{}),Te=function(e){return e[e.Directive=0]="Directive",e[e.Pipe=1]="Pipe",e[e.NgModule=2]="NgModule",e}(Te||{}),Pe=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Pe||{});function getCompilerFacade(e){const n=H.ng;if(n&&n.ɵcompilerFacade)return n.ɵcompilerFacade;if("undefined"==typeof ngDevMode||ngDevMode){console.error(`JIT compilation failed for ${e.kind}`,e.type);let n=`The ${e.kind} '${e.type.name}' needs to be compiled using the JIT compiler, but '@angular/compiler' is not available.\n\n`;throw 1===e.usage?(n+=`The ${e.kind} is part of a library that has been partially compiled.\n`,n+="However, the Angular Linker has not processed the library such that JIT compilation is used as fallback.\n",n+="\n",n+="Ideally, the library is processed using the Angular Linker to become fully AOT compiled.\n"):n+="JIT compilation is discouraged for production use-cases! Consider using AOT mode instead.\n",n+="Alternatively, the JIT compiler should be loaded by bootstrapping using '@angular/platform-browser-dynamic' or '@angular/platform-server',\n",n+="or manually provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.",new Error(n)}throw new Error("JIT compiler unavailable")}const ke={ɵɵdefineInjectable,ɵɵdefineInjector,ɵɵinject,ɵɵinvalidFactoryDep,resolveForwardRef},xe=Function;function isType(e){return"function"==typeof e}const Fe=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Oe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Re=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ne=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ReflectionCapabilities{constructor(e){this._reflect=e||H.Reflect}factory(e){return(...n)=>new e(...n)}_zipTypesAndAnnotations(e,n){let r;r=newArray(void 0===e?n.length:e.length);for(let o=0;o<r.length;o++)r[o]=void 0===e?[]:e[o]&&e[o]!=Object?[e[o]]:[],n&&null!=n[o]&&(r[o]=r[o].concat(n[o]));return r}_ownParameters(e,n){if(function isDelegateCtor(e){return Fe.test(e)||Ne.test(e)||Oe.test(e)&&!Re.test(e)}(e.toString()))return null;if(e.parameters&&e.parameters!==n.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==n.ctorParameters){const e="function"==typeof r?r():r,n=e.map((e=>e&&e.type)),o=e.map((e=>e&&convertTsickleDecoratorIntoMetadata(e.decorators)));return this._zipTypesAndAnnotations(n,o)}const o=e.hasOwnProperty(N)&&e[N],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||o?this._zipTypesAndAnnotations(i,o):newArray(e.length)}parameters(e){if(!isType(e))return[];const n=getParentCtor(e);let r=this._ownParameters(e,n);return r||n===Object||(r=this.parameters(n)),r||[]}_ownAnnotations(e,n){if(e.annotations&&e.annotations!==n.annotations){let n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==n.decorators?convertTsickleDecoratorIntoMetadata(e.decorators):e.hasOwnProperty(R)?e[R]:null}annotations(e){if(!isType(e))return[];const n=getParentCtor(e),r=this._ownAnnotations(e,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(e,n){if(e.propMetadata&&e.propMetadata!==n.propMetadata){let n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==n.propDecorators){const n=e.propDecorators,r={};return Object.keys(n).forEach((e=>{r[e]=convertTsickleDecoratorIntoMetadata(n[e])})),r}return e.hasOwnProperty(L)?e[L]:null}propMetadata(e){if(!isType(e))return{};const n=getParentCtor(e),r={};if(n!==Object){const e=this.propMetadata(n);Object.keys(e).forEach((n=>{r[n]=e[n]}))}const o=this._ownPropMetadata(e,n);return o&&Object.keys(o).forEach((e=>{const n=[];r.hasOwnProperty(e)&&n.push(...r[e]),n.push(...o[e]),r[e]=n})),r}ownPropMetadata(e){return isType(e)&&this._ownPropMetadata(e,getParentCtor(e))||{}}hasLifecycleHook(e,n){return e instanceof xe&&n in e.prototype}}function convertTsickleDecoratorIntoMetadata(e){return e?e.map((e=>new(0,e.type.annotationCls)(...e.args?e.args:[]))):[]}function getParentCtor(e){const n=e.prototype?Object.getPrototypeOf(e.prototype):null;return(n?n.constructor:null)||Object}const Le=0,He=1,Ue=2,Be=3,$e=4,je=5,Ve=6,Ge=7,ze=8,qe=9,We=10,Ke=11,Qe=12,Xe=13,Ye=14,Je=15,Ze=16,et=17,tt=18,nt=19,rt=20,ot=21,it=22,st=23,at=25,lt=1,dt=7,ct=9,ut=10;var pt=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(pt||{});function isLView(e){return Array.isArray(e)&&"object"==typeof e[lt]}function isLContainer(e){return Array.isArray(e)&&!0===e[lt]}function isContentQueryHost(e){return!!(4&e.flags)}function isComponentHost(e){return e.componentOffset>-1}function isDirectiveHost(e){return!(1&~e.flags)}function isComponentDef(e){return!!e.template}function isRootView(e){return!!(512&e[Ue])}function isDestroyed(e){return!(256&~e[Ue])}function assertTNodeForLView(e,n){assertTNodeForTView(e,n[He])}function assertTNodeForTView(e,n){assertTNode(e);const r=n.data;for(let n=at;n<r.length;n++)if(r[n]===e)return;throwError("This TNode does not belong to this TView.")}function assertTNode(e){assertDefined(e,"TNode must be defined"),e&&"object"==typeof e&&e.hasOwnProperty("directiveStylingLast")||throwError("Not of type TNode, got: "+e)}function assertTIcu(e){assertDefined(e,"Expected TIcu to be defined"),"number"!=typeof e.currentCaseLViewIndex&&throwError("Object is not of TIcu type.")}function assertHasParent(e){assertDefined(e,"currentTNode should exist!"),assertDefined(e.parent,"currentTNode should have a parent")}function assertLContainer(e){assertDefined(e,"LContainer must be defined"),assertEqual(isLContainer(e),!0,"Expecting LContainer")}function assertLViewOrUndefined(e){e&&assertEqual(isLView(e),!0,"Expecting LView or undefined or null")}function assertLView(e){assertDefined(e,"LView must be defined"),assertEqual(isLView(e),!0,"Expecting LView")}function assertFirstCreatePass(e,n){assertEqual(e.firstCreatePass,!0,n||"Should only be called in first create pass.")}function assertFirstUpdatePass(e,n){assertEqual(e.firstUpdatePass,!0,n||"Should only be called in first update pass.")}function assertIndexInDeclRange(e,n){assertBetween(at,e.bindingStartIndex,n)}function assertIndexInExpandoRange(e,n){assertBetween(e[1].expandoStartIndex,e.length,n)}function assertBetween(e,n,r){e<=r&&r<n||throwError(`Index out of range (expecting ${e} <= ${r} < ${n})`)}function assertParentView(e,n){assertDefined(e,n||"Component views should always have a parent view (component's host view)")}function assertNoDuplicateDirectives(e){if(e.length<2)return;const n=new Set;for(const r of e){if(n.has(r))throw new RuntimeError(309,`Directive ${r.type.name} matches multiple times on the same element. Directives can only match an element once.`);n.add(r)}}function assertNodeInjector(e,n){assertIndexInExpandoRange(e,n),assertIndexInExpandoRange(e,n+8),assertNumber(e[n+0],"injectorIndex should point to a bloom filter"),assertNumber(e[n+1],"injectorIndex should point to a bloom filter"),assertNumber(e[n+2],"injectorIndex should point to a bloom filter"),assertNumber(e[n+3],"injectorIndex should point to a bloom filter"),assertNumber(e[n+4],"injectorIndex should point to a bloom filter"),assertNumber(e[n+5],"injectorIndex should point to a bloom filter"),assertNumber(e[n+6],"injectorIndex should point to a bloom filter"),assertNumber(e[n+7],"injectorIndex should point to a bloom filter"),assertNumber(e[n+8],"injectorIndex should point to parent injector")}class SimpleChange{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function applyValueToInputField(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function ɵɵNgOnChangesFeature(){return NgOnChangesFeatureImpl}function NgOnChangesFeatureImpl(e){return e.type.prototype.ngOnChanges&&(e.setInput=ngOnChangesSetInput),rememberChangeHistoryAndInvokeOnChangesHook}function rememberChangeHistoryAndInvokeOnChangesHook(){const e=getSimpleChangesStore(this),n=null==e?void 0:e.current;if(n){const r=e.previous;if(r===fe)e.previous=n;else for(let e in n)r[e]=n[e];e.current=null,this.ngOnChanges(n)}}function ngOnChangesSetInput(e,n,r,o,i){const s=this.declaredInputs[o];ngDevMode&&assertString(s,"Name of input in ngOnChanges has to be a string");const a=getSimpleChangesStore(e)||function setSimpleChangesStore(e,n){return e[ft]=n}(e,{previous:fe,current:null}),c=a.current||(a.current={}),u=a.previous,p=u[s];c[s]=new SimpleChange(p&&p.currentValue,r,u===fe),applyValueToInputField(e,n,i,r)}ɵɵNgOnChangesFeature.ngInherit=!0;const ft="__ngSimpleChanges__";function getSimpleChangesStore(e){return e[ft]||null}let gt=null;const profiler=function(e,n,r){null!=gt&&gt(e,n,r)},mt="math";let ht=!1;function unwrapRNode(e){for(;Array.isArray(e);)e=e[Le];return e}function unwrapLView(e){for(;Array.isArray(e);){if("object"==typeof e[lt])return e;e=e[Le]}return null}function getNativeByIndex(e,n){return ngDevMode&&assertIndexInRange(n,e),ngDevMode&&assertGreaterThanOrEqual(e,at,"Expected to be past HEADER_OFFSET"),unwrapRNode(n[e])}function getNativeByTNode(e,n){ngDevMode&&assertTNodeForLView(e,n),ngDevMode&&assertIndexInRange(n,e.index);return unwrapRNode(n[e.index])}function getTNode(e,n){ngDevMode&&assertGreaterThan(n,-1,"wrong index for TNode"),ngDevMode&&assertLessThan(n,e.data.length,"wrong index for TNode");const r=e.data[n];return ngDevMode&&null!==r&&assertTNode(r),r}function load(e,n){return ngDevMode&&assertIndexInRange(e,n),e[n]}function getComponentLViewByIndex(e,n){ngDevMode&&assertIndexInRange(n,e);const r=n[e];return isLView(r)?r:r[Le]}function isCreationMode(e){return!(4&~e[Ue])}function viewAttachedToChangeDetector(e){return!(128&~e[Ue])}function getConstant(e,n){return null==n?null:(ngDevMode&&assertIndexInRange(e,n),e[n])}function resetPreOrderHookFlags(e){e[et]=0}function markViewForRefresh(e){1024&e[Ue]||(e[Ue]|=1024,viewAttachedToChangeDetector(e)&&markAncestorsForTraversal(e))}function walkUpViews(e,n){for(;e>0;)ngDevMode&&assertDefined(n[Ye],"Declaration view should be defined if nesting level is greater than 0."),n=n[Ye],e--;return n}function requiresRefreshOrTraversal(e){var n;return!!(9216&e[Ue]||null!==(n=e[st])&&void 0!==n&&n.dirty)}function updateAncestorTraversalFlagsOnAttach(e){var n;if(null===(n=e[We].changeDetectionScheduler)||void 0===n||n.notify(1),requiresRefreshOrTraversal(e))markAncestorsForTraversal(e);else if(64&e[Ue]){var r;if(function getEnsureDirtyViewsAreAlwaysReachable(){return ht}())e[Ue]|=1024,markAncestorsForTraversal(e);else null===(r=e[We].changeDetectionScheduler)||void 0===r||r.notify()}}function markAncestorsForTraversal(e){var n;null===(n=e[We].changeDetectionScheduler)||void 0===n||n.notify();let r=getLViewParent(e);for(;null!==r&&!(8192&r[Ue])&&(r[Ue]|=8192,viewAttachedToChangeDetector(r));)r=getLViewParent(r)}function storeLViewOnDestroy(e,n){if(!(256&~e[Ue]))throw new RuntimeError(911,ngDevMode&&"View has already been destroyed.");null===e[ot]&&(e[ot]=[]),e[ot].push(n)}function removeLViewOnDestroy(e,n){if(null===e[ot])return;const r=e[ot].indexOf(n);-1!==r&&e[ot].splice(r,1)}function getLViewParent(e){ngDevMode&&assertLView(e);const n=e[Be];return isLContainer(n)?n[Be]:n}const vt={lFrame:createLFrame(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let yt=!1;function getBindingsEnabled(){return vt.bindingsEnabled}function isInSkipHydrationBlock$1(){return null!==vt.skipHydrationRootTNode}function ɵɵenableBindings(){vt.bindingsEnabled=!0}function ɵɵdisableBindings(){vt.bindingsEnabled=!1}function getLView(){return vt.lFrame.lView}function getTView(){return vt.lFrame.tView}function ɵɵrestoreView(e){return vt.lFrame.contextLView=e,e[ze]}function ɵɵresetView(e){return vt.lFrame.contextLView=null,e}function getCurrentTNode(){let e=getCurrentTNodePlaceholderOk();for(;null!==e&&64===e.type;)e=e.parent;return e}function getCurrentTNodePlaceholderOk(){return vt.lFrame.currentTNode}function getCurrentParentTNode(){const e=vt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function setCurrentTNode(e,n){ngDevMode&&e&&assertTNodeForTView(e,vt.lFrame.tView);const r=vt.lFrame;r.currentTNode=e,r.isParent=n}function isCurrentTNodeParent(){return vt.lFrame.isParent}function setCurrentTNodeAsNotParent(){vt.lFrame.isParent=!1}function isInCheckNoChangesMode(){return!ngDevMode&&throwError("Must never be called in production mode"),yt}function setIsInCheckNoChangesMode(e){!ngDevMode&&throwError("Must never be called in production mode"),yt=e}function getBindingRoot(){const e=vt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function getBindingIndex(){return vt.lFrame.bindingIndex}function setBindingIndex(e){return vt.lFrame.bindingIndex=e}function nextBindingIndex(){return vt.lFrame.bindingIndex++}function incrementBindingIndex(e){const n=vt.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function setInI18nBlock(e){vt.lFrame.inI18n=e}function setBindingRootForHostBindings(e,n){const r=vt.lFrame;r.bindingIndex=r.bindingRootIndex=e,setCurrentDirectiveIndex(n)}function setCurrentDirectiveIndex(e){vt.lFrame.currentDirectiveIndex=e}function getCurrentDirectiveDef(e){const n=vt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function getCurrentQueryIndex(){return vt.lFrame.currentQueryIndex}function setCurrentQueryIndex(e){vt.lFrame.currentQueryIndex=e}function getDeclarationTNode(e){const n=e[He];return 2===n.type?(ngDevMode&&assertDefined(n.declTNode,"Embedded TNodes should have declaration parents."),n.declTNode):1===n.type?e[je]:null}function enterDI(e,n,r){if(ngDevMode&&assertLViewOrUndefined(e),r&ee.SkipSelf){ngDevMode&&assertTNodeForTView(n,e[He]);let o=n,i=e;for(;!(ngDevMode&&assertDefined(o,"Parent TNode should be defined"),o=o.parent,null!==o||r&ee.Host||(o=getDeclarationTNode(i),null===o)||(ngDevMode&&assertDefined(i,"Parent LView should be defined"),i=i[Ye],10&o.type)););if(null===o)return!1;n=o,e=i}ngDevMode&&assertTNodeForLView(n,e);const o=vt.lFrame=allocLFrame();return o.currentTNode=n,o.lView=e,!0}function enterView(e){ngDevMode&&assertNotEqual(e[0],e[1],"????"),ngDevMode&&assertLViewOrUndefined(e);const n=allocLFrame();ngDevMode&&(assertEqual(n.isParent,!0,"Expected clean LFrame"),assertEqual(n.lView,null,"Expected clean LFrame"),assertEqual(n.tView,null,"Expected clean LFrame"),assertEqual(n.selectedIndex,-1,"Expected clean LFrame"),assertEqual(n.elementDepthCount,0,"Expected clean LFrame"),assertEqual(n.currentDirectiveIndex,-1,"Expected clean LFrame"),assertEqual(n.currentNamespace,null,"Expected clean LFrame"),assertEqual(n.bindingRootIndex,-1,"Expected clean LFrame"),assertEqual(n.currentQueryIndex,0,"Expected clean LFrame"));const r=e[He];vt.lFrame=n,ngDevMode&&r.firstChild&&assertTNodeForTView(r.firstChild,r),n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function allocLFrame(){const e=vt.lFrame,n=null===e?null:e.child;return null===n?createLFrame(e):n}function createLFrame(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function leaveViewLight(){const e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ct=leaveViewLight;function leaveView(){const e=leaveViewLight();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function getSelectedIndex(){return vt.lFrame.selectedIndex}function setSelectedIndex(e){ngDevMode&&-1!==e&&assertGreaterThanOrEqual(e,at,"Index must be past HEADER_OFFSET (or -1)."),ngDevMode&&assertLessThan(e,vt.lFrame.lView.length,"Can't set index passed end of LView"),vt.lFrame.selectedIndex=e}function getSelectedTNode(){const e=vt.lFrame;return getTNode(e.tView,e.selectedIndex)}function ɵɵnamespaceSVG(){vt.lFrame.currentNamespace="svg"}function ɵɵnamespaceMathML(){vt.lFrame.currentNamespace=mt}function ɵɵnamespaceHTML(){!function namespaceHTMLInternal(){vt.lFrame.currentNamespace=null}()}function getNamespace$1(){return vt.lFrame.currentNamespace}let bt=!0;function wasLastNodeCreated(){return bt}function lastNodeWasCreated(e){bt=e}function registerPostOrderHooks(e,n){ngDevMode&&assertFirstCreatePass(e);for(let p=n.directiveStart,f=n.directiveEnd;p<f;p++){const n=e.data[p];ngDevMode&&assertDefined(n,"Expecting DirectiveDef");const f=n.type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:b,ngOnDestroy:w}=f;var r,o,i,s,a,c,u;if(g)(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-p,g);if(v)(null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(p,v),(null!==(i=e.contentCheckHooks)&&void 0!==i?i:e.contentCheckHooks=[]).push(p,v);if(C)(null!==(s=e.viewHooks)&&void 0!==s?s:e.viewHooks=[]).push(-p,C);if(b)(null!==(a=e.viewHooks)&&void 0!==a?a:e.viewHooks=[]).push(p,b),(null!==(c=e.viewCheckHooks)&&void 0!==c?c:e.viewCheckHooks=[]).push(p,b);if(null!=w)(null!==(u=e.destroyHooks)&&void 0!==u?u:e.destroyHooks=[]).push(p,w)}}function executeCheckHooks(e,n,r){callHooks(e,n,3,r)}function executeInitAndCheckHooks(e,n,r,o){ngDevMode&&assertNotEqual(r,3,"Init pre-order hooks should not be called more than once"),(3&e[Ue])===r&&callHooks(e,n,r,o)}function incrementInitPhaseFlags(e,n){ngDevMode&&assertNotEqual(n,3,"Init hooks phase should not be incremented after all init hooks have been run.");let r=e[Ue];(3&r)===n&&(r&=16383,r+=1,e[Ue]=r)}function callHooks(e,n,r,o){ngDevMode&&assertEqual(isInCheckNoChangesMode(),!1,"Hooks should never be run when in check no changes mode.");const i=null!=o?o:-1,s=n.length-1;let a=0;for(let c=void 0!==o?65535&e[et]:0;c<s;c++){if("number"==typeof n[c+1]){if(a=n[c],null!=o&&a>=o)break}else{n[c]<0&&(e[et]+=65536),(a<i||-1==i)&&(callHook(e,r,n,c),e[et]=(4294901760&e[et])+c+2),c++}}}function callHookInternal(e,n){profiler(4,e,n);const r=setActiveConsumer(null);try{n.call(e)}finally{setActiveConsumer(r),profiler(5,e,n)}}function callHook(e,n,r,o){const i=r[o]<0,s=r[o+1],a=e[i?-r[o]:r[o]];if(i){e[Ue]>>14<e[et]>>16&&(3&e[Ue])===n&&(e[Ue]+=16384,callHookInternal(a,s))}else callHookInternal(a,s)}const wt=-1;class NodeInjectorFactory{constructor(e,n,r){this.factory=e,this.resolving=!1,ngDevMode&&assertDefined(e,"Factory not specified"),ngDevMode&&assertEqual(typeof e,"function","Expected factory function."),this.canSeeViewProviders=n,this.injectImpl=r}}function toTNodeTypeAsString(e){let n="";return 1&e&&(n+="|Text"),2&e&&(n+="|Element"),4&e&&(n+="|Container"),8&e&&(n+="|ElementContainer"),16&e&&(n+="|Projection"),32&e&&(n+="|IcuContainer"),64&e&&(n+="|Placeholder"),n.length>0?n.substring(1):n}function assertTNodeType(e,n,r){assertDefined(e,"should be called with a TNode"),e.type&n||throwError(r||`Expected [${toTNodeTypeAsString(n)}] but got ${toTNodeTypeAsString(e.type)}.`)}function hasParentInjector(e){return e!==wt}function getParentInjectorIndex(e){if(ngDevMode){assertNumber(e,"Number expected"),assertNotEqual(e,-1,"Not a valid state.");assertGreaterThan(32767&e,at,"Parent injector must be pointing past HEADER_OFFSET.")}return 32767&e}function getParentInjectorView(e,n){let r=function getParentInjectorViewOffset(e){return e>>16}(e),o=n;for(;r>0;)o=o[Ye],r--;return o}let St=!0;function setIncludeViewProviders(e){const n=St;return St=e,n}const At=255,_t=5;let Et=0;const It={};function getOrCreateNodeInjectorForNode(e,n){const r=getInjectorIndex(e,n);if(-1!==r)return r;const o=n[He];o.firstCreatePass&&(e.injectorIndex=n.length,insertBloom(o.data,e),insertBloom(n,null),insertBloom(o.blueprint,null));const i=getParentInjectorLocation(e,n),s=e.injectorIndex;if(hasParentInjector(i)){const e=getParentInjectorIndex(i),r=getParentInjectorView(i,n),o=r[He].data;for(let i=0;i<8;i++)n[s+i]=r[e+i]|o[e+i]}return n[s+8]=i,s}function insertBloom(e,n){e.push(0,0,0,0,0,0,0,0,n)}function getInjectorIndex(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:(ngDevMode&&assertIndexInRange(n,e.injectorIndex),e.injectorIndex)}function getParentInjectorLocation(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,i=n;for(;null!==i;){if(o=getTNodeFromLView(i),null===o)return wt;if(ngDevMode&&o&&assertTNodeForLView(o,i[Ye]),r++,i=i[Ye],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return wt}function diPublicInInjector(e,n,r){!function bloomAdd(e,n,r){let o;ngDevMode&&assertEqual(n.firstCreatePass,!0,"expected firstCreatePass to be true"),"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(J)&&(o=r[J]),null==o&&(o=r[J]=Et++);const i=o&At;n.data[e+(i>>_t)]|=1<<i}(e,n,r)}function notFoundValueOrThrow(e,n,r){if(r&ee.Optional||void 0!==e)return e;throwProviderNotFoundError(n,"NodeInjector")}function lookupTokenUsingModuleInjector(e,n,r,o){if(r&ee.Optional&&void 0===o&&(o=null),!(r&(ee.Self|ee.Host))){const i=e[qe],s=setInjectImplementation(void 0);try{return i?i.get(n,o,r&ee.Optional):injectRootLimpMode(n,o,r&ee.Optional)}finally{setInjectImplementation(s)}}return notFoundValueOrThrow(o,n,r)}function getOrCreateInjectable(e,n,r,o=ee.Default,i){if(null!==e){if(2048&n[Ue]&&!(o&ee.Self)){const i=function lookupTokenUsingEmbeddedInjector(e,n,r,o,i){let s=e,a=n;for(;null!==s&&null!==a&&2048&a[Ue]&&!(512&a[Ue]);){ngDevMode&&assertTNodeForLView(s,a);const e=lookupTokenUsingNodeInjector(s,a,r,o|ee.Self,It);if(e!==It)return e;let n=s.parent;if(!n){const e=a[rt];if(e){const n=e.get(r,It,o);if(n!==It)return n}n=getTNodeFromLView(a),a=a[Ye]}s=n}return i}(e,n,r,o,It);if(i!==It)return i}const i=lookupTokenUsingNodeInjector(e,n,r,o,It);if(i!==It)return i}return lookupTokenUsingModuleInjector(n,r,o,i)}function lookupTokenUsingNodeInjector(e,n,r,o,i){const s=function bloomHashBitOrFactory(e){if(ngDevMode&&assertDefined(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(J)?e[J]:void 0;return"number"==typeof n?n>=0?n&At:(ngDevMode&&assertEqual(n,-1,"Expecting to get Special Injector Id"),createNodeInjector):n}(r);if("function"==typeof s){if(!enterDI(n,e,o))return o&ee.Host?notFoundValueOrThrow(i,r,o):lookupTokenUsingModuleInjector(n,r,o,i);try{let e;if(ngDevMode?runInInjectorProfilerContext(new NodeInjector(getCurrentTNode(),getLView()),r,(()=>{e=s(o),null!=e&&emitInstanceCreatedByInjectorEvent(e)})):e=s(o),null!=e||o&ee.Optional)return e;throwProviderNotFoundError(r)}finally{Ct()}}else if("number"==typeof s){let i=null,a=getInjectorIndex(e,n),c=wt,u=o&ee.Host?n[Je][je]:null;for((-1===a||o&ee.SkipSelf)&&(c=-1===a?getParentInjectorLocation(e,n):n[a+8],c!==wt&&shouldSearchParent(o,!1)?(i=n[He],a=getParentInjectorIndex(c),n=getParentInjectorView(c,n)):a=-1);-1!==a;){ngDevMode&&assertNodeInjector(n,a);const e=n[He];if(ngDevMode&&assertTNodeForLView(e.data[a+8],n),bloomHasToken(s,a,e.data)){const e=searchTokensOnInjector(a,n,r,i,o,u);if(e!==It)return e}c=n[a+8],c!==wt&&shouldSearchParent(o,n[He].data[a+8]===u)&&bloomHasToken(s,a,n)?(i=e,a=getParentInjectorIndex(c),n=getParentInjectorView(c,n)):a=-1}}return i}function searchTokensOnInjector(e,n,r,o,i,s){const a=n[He],c=a.data[e+8],u=locateDirectiveOrProvider(c,a,r,null==o?isComponentHost(c)&&St:o!=a&&!!(3&c.type),i&ee.Host&&s===c);return null!==u?getNodeInjectable(n,a,u,c):It}function locateDirectiveOrProvider(e,n,r,o,i){const s=e.providerIndexes,a=n.data,c=1048575&s,u=e.directiveStart,p=s>>20,f=i?c+p:e.directiveEnd;for(let e=o?c:c+p;e<f;e++){const n=a[e];if(e<u&&r===n||e>=u&&n.type===r)return e}if(i){const e=a[u];if(e&&isComponentDef(e)&&e.type===r)return u}return null}function getNodeInjectable(e,n,r,o){let i=e[r];const s=n.data;if(function isFactory(e){return e instanceof NodeInjectorFactory}(i)){const a=i;a.resolving&&throwCyclicDependencyError(stringifyForError(s[r]));const c=setIncludeViewProviders(a.canSeeViewProviders);let u;if(a.resolving=!0,ngDevMode){const n=s[r].type||s[r];u=setInjectorProfilerContext({injector:new NodeInjector(o,e),token:n})}const p=a.injectImpl?setInjectImplementation(a.injectImpl):null,f=enterDI(e,o,ee.Default);ngDevMode&&assertEqual(f,!0,"Because flags do not contain `SkipSelf' we expect this to always succeed.");try{i=e[r]=a.factory(void 0,s,e,o),ngDevMode&&emitInstanceCreatedByInjectorEvent(i),n.firstCreatePass&&r>=o.directiveStart&&(ngDevMode&&function assertDirectiveDef(e){void 0!==e.type&&null!=e.selectors&&void 0!==e.inputs||throwError("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}(s[r]),function registerPreOrderHooks(e,n,r){ngDevMode&&assertFirstCreatePass(r);const{ngOnChanges:o,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(o){var a,c;const o=NgOnChangesFeatureImpl(n);(null!==(a=r.preOrderHooks)&&void 0!==a?a:r.preOrderHooks=[]).push(e,o),(null!==(c=r.preOrderCheckHooks)&&void 0!==c?c:r.preOrderCheckHooks=[]).push(e,o)}var u,p,f;i&&(null!==(u=r.preOrderHooks)&&void 0!==u?u:r.preOrderHooks=[]).push(0-e,i),s&&((null!==(p=r.preOrderHooks)&&void 0!==p?p:r.preOrderHooks=[]).push(e,s),(null!==(f=r.preOrderCheckHooks)&&void 0!==f?f:r.preOrderCheckHooks=[]).push(e,s))}(r,s[r],n))}finally{ngDevMode&&setInjectorProfilerContext(u),null!==p&&setInjectImplementation(p),setIncludeViewProviders(c),a.resolving=!1,Ct()}}return i}function bloomHasToken(e,n,r){return!!(r[n+(e>>_t)]&1<<e)}function shouldSearchParent(e,n){return!(e&ee.Self||e&ee.Host&&n)}function getNodeInjectorLView(e){return e._lView}function getNodeInjectorTNode(e){return e._tNode}class NodeInjector{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return getOrCreateInjectable(this._tNode,this._lView,e,convertToBitFlags(r),n)}}function createNodeInjector(){return new NodeInjector(getCurrentTNode(),getLView())}function ɵɵgetInheritedFactory(e){return noSideEffects((()=>{const n=e.prototype.constructor,r=n[Y]||getFactoryOf(n),o=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==o;){const e=i[Y]||getFactoryOf(i);if(e&&e!==r)return e;i=Object.getPrototypeOf(i)}return e=>new e}))}function getFactoryOf(e){return isForwardRef(e)?()=>{const n=getFactoryOf(resolveForwardRef(e));return n&&n()}:getFactoryDef(e)}function getTNodeFromLView(e){const n=e[He],r=n.type;return 2===r?(ngDevMode&&assertDefined(n.declTNode,"Embedded TNodes should have declaration parents."),n.declTNode):1===r?e[je]:null}function ɵɵinjectAttribute(e){return function injectAttributeImpl(e,n){if(ngDevMode&&assertTNodeType(e,15),ngDevMode&&assertDefined(e,"expecting tNode"),"class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const e=r.length;let o=0;for(;o<e;){const i=r[o];if(isNameOnlyAttributeMarker(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<e&&"string"==typeof r[o];)o++;else{if(i===n)return r[o+1];o+=2}}}return null}(getCurrentTNode(),e)}const Dt=makeParamDecorator("Attribute",(e=>({attributeName:e,__NG_ELEMENT_ID__:()=>ɵɵinjectAttribute(e)})));let Mt=null;function getReflect(){return Mt=Mt||new ReflectionCapabilities}function reflectDependencies(e){return convertDependencies(getReflect().parameters(e))}function convertDependencies(e){return e.map((e=>function reflectDependency(e){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let r=0;r<e.length;r++){const o=e[r];if(void 0===o)continue;const i=Object.getPrototypeOf(o);if(o instanceof de||"Optional"===i.ngMetadataName)n.optional=!0;else if(o instanceof ue||"SkipSelf"===i.ngMetadataName)n.skipSelf=!0;else if(o instanceof ce||"Self"===i.ngMetadataName)n.self=!0;else if(o instanceof pe||"Host"===i.ngMetadataName)n.host=!0;else if(o instanceof le)n.token=o.token;else if(o instanceof Dt){if(void 0===o.attributeName)throw new RuntimeError(204,ngDevMode&&"Attribute name must be defined.");n.attribute=o.attributeName}else n.token=o}else n.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return n}(e)))}function compileInjectable(e,n){let r=null,o=null;e.hasOwnProperty(B)||Object.defineProperty(e,B,{get:()=>{if(null===r){const o=getCompilerFacade({usage:0,kind:"injectable",type:e});r=o.compileInjectable(ke,`ng:///${e.name}/ɵprov.js`,function getInjectableMetadata(e,n){const r=n||{providedIn:null},o={name:e.name,type:e,typeArgumentCount:0,providedIn:r.providedIn};(isUseClassProvider(r)||isUseFactoryProvider(r))&&void 0!==r.deps&&(o.deps=convertDependencies(r.deps));isUseClassProvider(r)?o.useClass=r.useClass:!function isUseValueProvider(e){return Tt in e}(r)?isUseFactoryProvider(r)?o.useFactory=r.useFactory:function isUseExistingProvider(e){return void 0!==e.useExisting}(r)&&(o.useExisting=r.useExisting):o.useValue=r.useValue;return o}(e,n))}return r}}),e.hasOwnProperty(Y)||Object.defineProperty(e,Y,{get:()=>{if(null===o){const n=getCompilerFacade({usage:0,kind:"injectable",type:e});o=n.compileFactory(ke,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:reflectDependencies(e),target:n.FactoryTarget.Injectable})}return o},configurable:!0})}const Tt=getClosureSafeProperty({provide:String,useValue:getClosureSafeProperty});function isUseClassProvider(e){return void 0!==e.useClass}function isUseFactoryProvider(e){return void 0!==e.useFactory}const Pt=makeDecorator("Injectable",void 0,void 0,void 0,((e,n)=>compileInjectable(e,n)));function createInjector(e,n=null,r=null,o){const i=createInjectorWithoutInjectorInstances(e,n,r,o);return i.resolveInjectorInitializers(),i}function createInjectorWithoutInjectorInstances(e,n=null,r=null,o,i=new Set){const s=[r||ge,importProvidersFrom(e)];return o=o||("object"==typeof e?void 0:stringify(e)),new R3Injector(s,n||getNullInjector(),o||null,i)}let kt=(()=>{var e;class Injector{static create(e,n){if(Array.isArray(e))return createInjector({name:""},n,e,"");{var r;const n=null!==(r=e.name)&&void 0!==r?r:"";return createInjector({name:n},e.parent,e.providers,n)}}}return(e=Injector).THROW_IF_NOT_FOUND=ne,e.NULL=new NullInjector,e.ɵprov=ɵɵdefineInjectable({token:e,providedIn:"any",factory:()=>ɵɵinject(he)}),e.__NG_ELEMENT_ID__=-1,Injector})();const xt="ngOriginalError";function getOriginalError(e){return e[xt]}class ErrorHandler{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&getOriginalError(e);for(;n&&getOriginalError(n);)n=getOriginalError(n);return n||null}}const Ft=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"internal error handler":"",{providedIn:"root",factory:()=>inject(ErrorHandler).handleError.bind(void 0)});let Ot=(()=>{var e;class DestroyRef{}return(e=DestroyRef).__NG_ELEMENT_ID__=injectDestroyRef,e.__NG_ENV_ID__=e=>e,DestroyRef})();class NodeInjectorDestroyRef extends Ot{constructor(e){super(),this._lView=e}onDestroy(e){return storeLViewOnDestroy(this._lView,e),()=>removeLViewOnDestroy(this._lView,e)}}function injectDestroyRef(){return new NodeInjectorDestroyRef(getLView())}class OutputEmitterRef{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=inject(ErrorHandler,{optional:!0}),this.destroyRef=inject(Ot),this.destroyRef.onDestroy((()=>{this.destroyed=!0,this.listeners=null}))}subscribe(e){var n;if(this.destroyed)throw new RuntimeError(953,ngDevMode&&"Unexpected subscription to destroyed `OutputRef`. The owning directive/component is destroyed.");return(null!==(n=this.listeners)&&void 0!==n?n:this.listeners=[]).push(e),{unsubscribe:()=>{var n;const r=null===(n=this.listeners)||void 0===n?void 0:n.indexOf(e);var o;void 0!==r&&-1!==r&&(null===(o=this.listeners)||void 0===o||o.splice(r,1))}}}emit(e){if(this.destroyed)throw new RuntimeError(953,ngDevMode&&"Unexpected emit for destroyed `OutputRef`. The owning directive/component is destroyed.");if(null===this.listeners)return;const n=setActiveConsumer(null);try{for(const n of this.listeners)try{n(e)}catch(e){var r;null===(r=this.errorHandler)||void 0===r||r.handleError(e)}}finally{setActiveConsumer(n)}}}function inputFunction(e,n){return ngDevMode&&assertInInjectionContext(Rt),createInputSignal(e,n)}function inputRequiredFunction(e){return ngDevMode&&assertInInjectionContext(Rt),createInputSignal(x,e)}const Rt=(()=>(inputFunction.required=inputRequiredFunction,inputFunction))();function injectElementRef(){return createElementRef(getCurrentTNode(),getLView())}function createElementRef(e,n){return new Nt(getNativeByTNode(e,n))}let Nt=(()=>{class ElementRef{constructor(e){this.nativeElement=e}}return ElementRef.__NG_ELEMENT_ID__=injectElementRef,ElementRef})();function unwrapElementRef(e){return e instanceof Nt?e.nativeElement:e}function _wrapInTimeout(e){return n=>{setTimeout(e,void 0,n)}}const Lt=class EventEmitter_ extends _.B{constructor(e=!1){var n;(super(),this.destroyRef=void 0,this.__isAsync=e,isInInjectionContext())&&(this.destroyRef=null!==(n=inject(Ot,{optional:!0}))&&void 0!==n?n:void 0)}emit(e){const n=setActiveConsumer(null);try{super.next(e)}finally{setActiveConsumer(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,c,u;const n=e;o=null===(a=n.next)||void 0===a?void 0:a.bind(n),i=null===(c=n.error)||void 0===c?void 0:c.bind(n),s=null===(u=n.complete)||void 0===u?void 0:u.bind(n)}this.__isAsync&&(i=_wrapInTimeout(i),o&&(o=_wrapInTimeout(o)),s&&(s=_wrapInTimeout(s)));const p=super.subscribe({next:o,error:i,complete:s});return e instanceof E.yU&&e.add(p),p}};function symbolIterator(){return this._results[Symbol.iterator]()}class QueryList{get changes(){var e;return null!==(e=this._changes)&&void 0!==e?e:this._changes=new Lt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=QueryList.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=symbolIterator)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=flatten(e);(this._changesDetected=!function arrayEquals(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let i=e[o],s=n[o];if(r&&(i=r(i),s=r(s)),s!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0===this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){var e;this.dirty=!0,null===(e=this._onDirty)||void 0===e||e.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}Symbol.iterator;function hasInSkipHydrationBlockFlag(e){return!(128&~e.flags)}const Ht=new Map;let Ut=0;function getLViewById(e){return ngDevMode&&assertNumber(e,"ID used for LView lookup must be a number"),Ht.get(e)||null}class LContext{get lView(){return getLViewById(this.lViewId)}constructor(e,n,r){this.lViewId=e,this.nodeIndex=n,this.native=r}}function getLContext(e){let n=readPatchedData(e);if(n){if(isLView(n)){const r=n;let o,i,s;if(isComponentInstance(e)){if(o=findViaComponent(r,e),-1==o)throw new Error("The provided component was not found in the application");i=e}else if(function isDirectiveInstance(e){return e&&e.constructor&&e.constructor.ɵdir}(e)){if(o=function findViaDirective(e,n){let r=e[He].firstChild;for(;r;){const o=r.directiveEnd;for(let i=r.directiveStart;i<o;i++)if(e[i]===n)return r.index;r=traverseNextElement(r)}return-1}(r,e),-1==o)throw new Error("The provided directive was not found in the application");s=getDirectivesAtNodeIndex(o,r)}else if(o=findViaNativeElement(r,e),-1==o)return null;const a=unwrapRNode(r[o]),c=readPatchedData(a),u=c&&!Array.isArray(c)?c:createLContext(r,o,a);if(i&&void 0===u.component&&(u.component=i,attachPatchData(u.component,u)),s&&void 0===u.directives){u.directives=s;for(let e=0;e<s.length;e++)attachPatchData(s[e],u)}attachPatchData(u.native,u),n=u}}else{const r=e;ngDevMode&&assertDomNode(r);let o=r;for(;o=o.parentNode;){const e=readPatchedData(o);if(e){const o=Array.isArray(e)?e:e.lView;if(!o)return null;const i=findViaNativeElement(o,r);if(i>=0){const e=unwrapRNode(o[i]),r=createLContext(o,i,e);attachPatchData(e,r),n=r;break}}}}return n||null}function createLContext(e,n,r){return new LContext(e[nt],n,r)}function getComponentViewByInstance(e){let n,r=readPatchedData(e);if(isLView(r)){const o=r,i=findViaComponent(o,e);n=getComponentLViewByIndex(i,o);const s=createLContext(o,i,n[Le]);s.component=e,attachPatchData(e,s),attachPatchData(s.native,s)}else{const e=r,o=e.lView;ngDevMode&&assertLView(o),n=getComponentLViewByIndex(e.nodeIndex,o)}return n}const Bt="__ngContext__";function attachPatchData(e,n){ngDevMode&&assertDefined(e,"Target expected"),isLView(n)?(e[Bt]=n[nt],function registerLView(e){ngDevMode&&assertNumber(e[nt],"LView must have an ID in order to be registered"),Ht.set(e[nt],e)}(n)):e[Bt]=n}function readPatchedData(e){ngDevMode&&assertDefined(e,"Target expected");const n=e[Bt];return"number"==typeof n?getLViewById(n):n||null}function readPatchedLView(e){const n=readPatchedData(e);return n?isLView(n)?n:n.lView:null}function isComponentInstance(e){return e&&e.constructor&&e.constructor.ɵcmp}function findViaNativeElement(e,n){const r=e[He];for(let o=at;o<r.bindingStartIndex;o++)if(unwrapRNode(e[o])===n)return o;return-1}function traverseNextElement(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function findViaComponent(e,n){const r=e[He].components;if(r)for(let o=0;o<r.length;o++){const i=r[o];if(getComponentLViewByIndex(i,e)[ze]===n)return i}else{if(getComponentLViewByIndex(at,e)[ze]===n)return at}return-1}function getDirectivesAtNodeIndex(e,n){const r=n[He].data[e];if(0===r.directiveStart)return ge;const o=[];for(let e=r.directiveStart;e<r.directiveEnd;e++){const r=n[e];isComponentInstance(r)||o.push(r)}return o}function getRootContext(e){const n=function getRootView(e){ngDevMode&&assertDefined(e,"component");let n=isLView(e)?e:readPatchedLView(e);for(;n&&!(512&n[Ue]);)n=getLViewParent(n);return ngDevMode&&assertLView(n),n}(e);return ngDevMode&&assertDefined(n[ze],"Root view has no context. Perhaps it is disconnected?"),n[ze]}function getFirstLContainer(e){return getNearestLContainer(e[Qe])}function getNextLContainer(e){return getNearestLContainer(e[$e])}function getNearestLContainer(e){for(;null!==e&&!isLContainer(e);)e=e[$e];return e}function getComponent$1(e){ngDevMode&&assertDomElement(e);const n=getLContext(e);if(null===n)return null;if(void 0===n.component){const e=n.lView;if(null===e)return null;n.component=function getComponentAtNodeIndex(e,n){const r=n[He].data[e],{directiveStart:o,componentOffset:i}=r;return i>-1?n[o+i]:null}(n.nodeIndex,e)}return n.component}function getContext(e){assertDomElement(e);const n=getLContext(e),r=n?n.lView:null;return null===r?null:r[ze]}function getOwningComponent(e){const n=getLContext(e);let r,o=n?n.lView:null;if(null===o)return null;for(;2===o[He].type&&(r=getLViewParent(o));)o=r;return 512&o[Ue]?null:o[ze]}function getRootComponents(e){const n=readPatchedLView(e);return null!==n?[getRootContext(n)]:[]}function getInjector(e){const n=getLContext(e),r=n?n.lView:null;if(null===r)return kt.NULL;return new NodeInjector(r[He].data[n.nodeIndex],r)}function getHostElement(e){return getLContext(e).native}function getListeners(e){ngDevMode&&assertDomElement(e);const n=getLContext(e),r=null===n?null:n.lView;if(null===r)return[];const o=r[Ge],i=r[He].cleanup,s=[];if(i&&o)for(let n=0;n<i.length;){const a=i[n++],c=i[n++];if("string"==typeof a){const u=a,p=unwrapRNode(r[c]),f=o[i[n++]],g=i[n++];e==p&&s.push({element:e,name:u,callback:f,useCapture:"boolean"==typeof g&&g,type:"boolean"==typeof g||g>=0?"dom":"output"})}}return s.sort(sortListeners),s}function sortListeners(e,n){return e.name==n.name?0:e.name<n.name?-1:1}function assertDomElement(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function extractInputDebugMetadata(e){const n={};for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;let i;i=Array.isArray(o)?o[0]:o,n[r]=i}return n}let $t;function setDocument(e){$t=e}function getDocument(){if(void 0!==$t)return $t;if("undefined"!=typeof document)return document;throw new RuntimeError(210,("undefined"==typeof ngDevMode||ngDevMode)&&"The document object is not available in this context. Make sure the DOCUMENT injection token is provided.")}const jt=new InjectionToken(ngDevMode?"AppId":"",{providedIn:"root",factory:()=>Vt}),Vt="ng",Gt=new InjectionToken(ngDevMode?"Platform Initializer":""),zt=new InjectionToken(ngDevMode?"Platform ID":"",{providedIn:"platform",factory:()=>"unknown"}),qt=(new InjectionToken(ngDevMode?"Application Packages Root URL":""),new InjectionToken(ngDevMode?"AnimationModuleType":"")),Wt=new InjectionToken(ngDevMode?"CSP nonce":"",{providedIn:"root",factory:()=>{var e;return(null===(e=getDocument().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}}),Kt={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Qt=new InjectionToken(ngDevMode?"ImageConfig":"",{providedIn:"root",factory:()=>Kt});var Xt=function(e){return e.FirstChild="f",e.NextSibling="n",e}(Xt||{});let _retrieveHydrationInfoImpl=()=>null;function retrieveHydrationInfo(e,n,r=!1){return _retrieveHydrationInfoImpl(e,n,r)}var Yt=function(e){return e.Hydrated="hydrated",e.Skipped="skipped",e.Mismatched="mismatched",e}(Yt||{});new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"IS_HYDRATION_DOM_REUSE_ENABLED":"");const Jt=!1,Zt=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"PRESERVE_HOST_CONTENT":"",{providedIn:"root",factory:()=>Jt});new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"IS_I18N_HYDRATION_ENABLED":"");let en,tn;function getPolicy$1(){if(void 0===en&&(en=null,H.trustedTypes))try{en=H.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return en}function trustedHTMLFromString(e){var n;return(null===(n=getPolicy$1())||void 0===n?void 0:n.createHTML(e))||e}function getPolicy(){if(void 0===tn&&(tn=null,H.trustedTypes))try{tn=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return tn}function trustedHTMLFromStringBypass(e){var n;return(null===(n=getPolicy())||void 0===n?void 0:n.createHTML(e))||e}function trustedScriptFromStringBypass(e){var n;return(null===(n=getPolicy())||void 0===n?void 0:n.createScript(e))||e}function trustedScriptURLFromStringBypass(e){var n;return(null===(n=getPolicy())||void 0===n?void 0:n.createScriptURL(e))||e}class SafeValueImpl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${k})`}}class SafeHtmlImpl extends SafeValueImpl{getTypeName(){return"HTML"}}class SafeStyleImpl extends SafeValueImpl{getTypeName(){return"Style"}}class SafeScriptImpl extends SafeValueImpl{getTypeName(){return"Script"}}class SafeUrlImpl extends SafeValueImpl{getTypeName(){return"URL"}}class SafeResourceUrlImpl extends SafeValueImpl{getTypeName(){return"ResourceURL"}}function unwrapSafeValue(e){return e instanceof SafeValueImpl?e.changingThisBreaksApplicationSecurity:e}function allowSanitizationBypassAndThrow(e,n){const r=function getSanitizationBypassType(e){return e instanceof SafeValueImpl&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${k})`)}return r===n}function bypassSanitizationTrustHtml(e){return new SafeHtmlImpl(e)}function bypassSanitizationTrustStyle(e){return new SafeStyleImpl(e)}function bypassSanitizationTrustScript(e){return new SafeScriptImpl(e)}function bypassSanitizationTrustUrl(e){return new SafeUrlImpl(e)}function bypassSanitizationTrustResourceUrl(e){return new SafeResourceUrlImpl(e)}function getInertBodyHelper(e){const n=new InertDocumentHelper(e);return function isDOMParserAvailable(){try{return!!(new window.DOMParser).parseFromString(trustedHTMLFromString(""),"text/html")}catch{return!1}}()?new DOMParserHelper(n):n}class DOMParserHelper{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(trustedHTMLFromString(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class InertDocumentHelper{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=trustedHTMLFromString(e),n}}const nn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _sanitizeUrl(e){return(e=String(e)).match(nn)?e:(("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see ${k})`),"unsafe:"+e)}function tagSet(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function merge(...e){const n={};for(const r of e)for(const e in r)r.hasOwnProperty(e)&&(n[e]=!0);return n}const rn=tagSet("area,br,col,hr,img,wbr"),on=tagSet("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sn=tagSet("rp,rt"),an=merge(sn,on),ln=merge(on,tagSet("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dn=merge(sn,tagSet("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cn=merge(rn,ln,dn,an),un=tagSet("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pn=tagSet("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fn=tagSet("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gn=merge(un,pn,fn),mn=tagSet("script,style,template");class SanitizingHtmlSerializer{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,o=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)o.push(n),n=getFirstChild(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let e=getNextSibling(n);if(e){n=e;break}n=o.pop()}return this.buf.join("")}startElement(e){const n=getNodeName(e).toLowerCase();if(!cn.hasOwnProperty(n))return this.sanitizedSomething=!0,!mn.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let e=0;e<r.length;e++){const n=r.item(e),o=n.name,i=o.toLowerCase();if(!gn.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=n.value;un[i]&&(s=_sanitizeUrl(s)),this.buf.push(" ",o,'="',encodeEntities(s),'"')}return this.buf.push(">"),!0}endElement(e){const n=getNodeName(e).toLowerCase();cn.hasOwnProperty(n)&&!rn.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(encodeEntities(e))}}function getNextSibling(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw clobberedElementError(n);return n}function getFirstChild(e){const n=e.firstChild;if(n&&function isClobberedElement(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw clobberedElementError(n);return n}function getNodeName(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function clobberedElementError(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const hn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vn=/([^\#-~ |!])/g;function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(hn,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(vn,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yn;function _sanitizeHtml(e,n){let r=null;try{yn=yn||getInertBodyHelper(e);let o=n?String(n):"";r=yn.getInertBodyElement(o);let i=5,s=o;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,o=s,s=r.innerHTML,r=yn.getInertBodyElement(o)}while(o!==s);const a=new SanitizingHtmlSerializer,c=a.sanitizeChildren(getTemplateContent(r)||r);return("undefined"==typeof ngDevMode||ngDevMode)&&a.sanitizedSomething&&console.warn(`WARNING: sanitizing HTML stripped some content, see ${k}`),trustedHTMLFromString(c)}finally{if(r){const e=getTemplateContent(r)||r;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function getTemplateContent(e){return"content"in e&&function isTemplateElement(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Cn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cn||{});function ɵɵsanitizeHtml(e){const n=getSanitizer();return n?trustedHTMLFromStringBypass(n.sanitize(Cn.HTML,e)||""):allowSanitizationBypassAndThrow(e,"HTML")?trustedHTMLFromStringBypass(unwrapSafeValue(e)):_sanitizeHtml(getDocument(),renderStringify(e))}function ɵɵsanitizeStyle(e){const n=getSanitizer();return n?n.sanitize(Cn.STYLE,e)||"":allowSanitizationBypassAndThrow(e,"Style")?unwrapSafeValue(e):renderStringify(e)}function ɵɵsanitizeUrl(e){const n=getSanitizer();return n?n.sanitize(Cn.URL,e)||"":allowSanitizationBypassAndThrow(e,"URL")?unwrapSafeValue(e):_sanitizeUrl(renderStringify(e))}function ɵɵsanitizeResourceUrl(e){const n=getSanitizer();if(n)return trustedScriptURLFromStringBypass(n.sanitize(Cn.RESOURCE_URL,e)||"");if(allowSanitizationBypassAndThrow(e,"ResourceURL"))return trustedScriptURLFromStringBypass(unwrapSafeValue(e));throw new RuntimeError(904,ngDevMode&&`unsafe value used in a resource URL context (see ${k})`)}function ɵɵsanitizeScript(e){const n=getSanitizer();if(n)return trustedScriptFromStringBypass(n.sanitize(Cn.SCRIPT,e)||"");if(allowSanitizationBypassAndThrow(e,"Script"))return trustedScriptFromStringBypass(unwrapSafeValue(e));throw new RuntimeError(905,ngDevMode&&"unsafe value used in a script context")}function ɵɵtrustConstantHtml(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted HTML constant: ${e.join("?")}`);return trustedHTMLFromString(e[0])}function ɵɵtrustConstantResourceUrl(e){if(ngDevMode&&(!Array.isArray(e)||!Array.isArray(e.raw)||1!==e.length))throw new Error(`Unexpected interpolation in trusted URL constant: ${e.join("?")}`);return function trustedScriptURLFromString(e){var n;return(null===(n=getPolicy$1())||void 0===n?void 0:n.createScriptURL(e))||e}(e[0])}function ɵɵsanitizeUrlOrResourceUrl(e,n,r){return function getUrlSanitizer(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?ɵɵsanitizeResourceUrl:ɵɵsanitizeUrl}(n,r)(e)}function getSanitizer(){const e=getLView();return e&&e[We].sanitizer}const bn=/^>|^->|<!--|-->|--!>|<!-$/g,wn=/(<|>)/g,Sn="​$1​";function escapeCommentText(e){return e.replace(bn,(e=>e.replace(wn,Sn)))}function normalizeDebugBindingName(e){return e=function camelCaseToDashCase(e){return e.replace(An,((...e)=>"-"+e[1].toLowerCase()))}(e.replace(/[$@]/g,"_")),`ng-reflect-${e}`}const An=/([A-Z])/g;const _n={name:"custom-elements"},En={name:"no-errors-schema"};let In=!1;let Dn=!1;function handleUnknownPropertyError(e,n,r,o){n||4!==r||(n="ng-template");const i=isHostComponentStandalone(o);let s=`Can't bind to '${e}' since it isn't a known property of '${n}'${getTemplateLocationDetails(o)}.`;const a=`'${i?"@Component":"@NgModule"}.schemas'`,c=i?"included in the '@Component.imports' of this component":"a part of an @NgModule where this component is declared";if(Mn.has(e)){s+=`\nIf the '${e}' is an Angular control flow directive, please make sure that either the '${Mn.get(e)}' directive or the 'CommonModule' is ${c}.`}else s+=`\n1. If '${n}' is an Angular component and it has the '${e}' input, then verify that it is ${c}.`,n&&n.indexOf("-")>-1?(s+=`\n2. If '${n}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the ${a} of this component to suppress this message.`,s+=`\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the ${a} of this component.`):s+=`\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the ${a} of this component.`;reportUnknownPropertyError(s)}function reportUnknownPropertyError(e){if(Dn)throw new RuntimeError(303,e);console.error(formatRuntimeError(303,e))}function getDeclarationComponentDef(e){!ngDevMode&&throwError("Must never be called in production mode");const n=e[Je][ze];return n&&n.constructor?getComponentDef(n.constructor):null}function isHostComponentStandalone(e){!ngDevMode&&throwError("Must never be called in production mode");const n=getDeclarationComponentDef(e);return!(null==n||!n.standalone)}function getTemplateLocationDetails(e){var n;!ngDevMode&&throwError("Must never be called in production mode");const r=getDeclarationComponentDef(e),o=null==r||null===(n=r.type)||void 0===n?void 0:n.name;return o?` (used in the '${o}' component template)`:""}const Mn=new Map([["ngIf","NgIf"],["ngFor","NgFor"],["ngSwitchCase","NgSwitchCase"],["ngSwitchDefault","NgSwitchDefault"]]);function matchingSchemas(e,n){if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];if(o===En||o===_n&&n&&n.indexOf("-")>-1)return!0}return!1}function ɵɵresolveWindow(e){return e.ownerDocument.defaultView}function ɵɵresolveDocument(e){return e.ownerDocument}function ɵɵresolveBody(e){return e.ownerDocument.body}const Tn="�";function maybeUnwrapFn(e){return e instanceof Function?e():e}function isPlatformBrowser(e){return"browser"===(null!=e?e:inject(kt)).get(zt)}const Pn=200;function assertComponentDef(e){if(!getComponentDef(e))throw new RuntimeError(906,`The ${stringifyForError(e)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function throwMultipleComponentError(e,n,r){throw new RuntimeError(-300,`Multiple components match node with tagname ${e.value}: ${stringifyForError(n)} and ${stringifyForError(r)}`)}function formatValue(e){let n=String(e);try{(Array.isArray(e)||"[object Object]"===n)&&(n=JSON.stringify(e))}catch(e){}return n.length>Pn?n.substring(0,Pn)+"…":n}function constructDetailsForInterpolation(e,n,r,o,i){const[s,a,...c]=o.split(Tn);let u=a,p=a;for(let o=0;o<c.length;o++){const s=n+o;u+=`${e[s]}${c[o]}`,p+=`${s===r?i:e[s]}${c[o]}`}return{propName:s,oldValue:u,newValue:p}}var kn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(kn||{});let xn;function icuContainerIterate(e,n){return xn(e,n)}function applyToElementOrContainer(e,n,r,o,i){if(null!=o){let s,a=!1;isLContainer(o)?s=o:isLView(o)&&(a=!0,ngDevMode&&assertDefined(o[Le],"HOST must be defined for a component LView"),o=o[Le]);const c=unwrapRNode(o);0===e&&null!==r?null==i?nativeAppendChild(n,r,c):nativeInsertBefore(n,r,c,i||null,!0):1===e&&null!==r?nativeInsertBefore(n,r,c,i||null,!0):2===e?nativeRemoveNode(n,c,a):3===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,n.destroyNode(c)),null!=s&&function applyContainer(e,n,r,o,i){ngDevMode&&assertLContainer(r);const s=r[dt],a=unwrapRNode(r);s!==a&&applyToElementOrContainer(n,e,o,s,i);for(let i=ut;i<r.length;i++){const a=r[i];applyView(a[He],a,e,n,o,s)}}(n,e,s,r,i)}}function createTextNode(e,n){return ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&ngDevMode.rendererSetText++,e.createText(n)}function updateTextNode(e,n,r){ngDevMode&&ngDevMode.rendererSetText++,e.setValue(n,r)}function createCommentNode(e,n){return ngDevMode&&ngDevMode.rendererCreateComment++,e.createComment(escapeCommentText(n))}function createElementNode(e,n,r){return ngDevMode&&ngDevMode.rendererCreateElement++,e.createElement(n,r)}function detachViewFromDOM(e,n){var r;null===(r=n[We].changeDetectionScheduler)||void 0===r||r.notify(1),applyView(e,n,n[Ke],2,null,null)}function insertView(e,n,r,o){ngDevMode&&assertLView(n),ngDevMode&&assertLContainer(r);const i=ut+o,s=r.length;o>0&&(r[i-1][$e]=n),o<s-ut?(n[$e]=r[i],addToArray(r,ut+o,n)):(r.push(n),n[$e]=null),n[Be]=r;const a=n[Ze];null!==a&&r!==a&&!function trackMovedView(e,n){ngDevMode&&assertDefined(n,"LView required"),ngDevMode&&assertLContainer(e);const r=e[ct],o=n[Be];ngDevMode&&assertLContainer(o);const i=o[Be][Je];ngDevMode&&assertDefined(i,"Missing insertedComponentLView");const s=n[Je];ngDevMode&&assertDefined(s,"Missing declaredComponentLView"),s!==i&&(e[Ue]|=pt.HasTransplantedViews);null===r?e[ct]=[n]:r.push(n)}(a,n);const c=n[tt];null!==c&&c.insertView(e),updateAncestorTraversalFlagsOnAttach(n),n[Ue]|=128}function detachMovedView(e,n){ngDevMode&&assertLContainer(e),ngDevMode&&assertDefined(e[ct],"A projected view should belong to a non-empty projected views collection");const r=e[ct],o=r.indexOf(n);ngDevMode&&assertLContainer(n[Be]),r.splice(o,1)}function detachView(e,n){if(e.length<=ut)return;const r=ut+n,o=e[r];if(o){const i=o[Ze];null!==i&&i!==e&&detachMovedView(i,o),n>0&&(e[r-1][$e]=o[$e]);const s=removeFromArray(e,ut+n);!function removeViewFromDOM(e,n){detachViewFromDOM(e,n),n[Le]=null,n[je]=null}(o[He],o);const a=s[tt];null!==a&&a.detachView(s[He]),o[Be]=null,o[$e]=null,o[Ue]&=-129}return o}function destroyLView(e,n){if(!(256&n[Ue])){const r=n[Ke];r.destroyNode&&applyView(e,n,r,3,null,null),function destroyViewTree(e){let n=e[Qe];if(!n)return cleanUpView(e[He],e);for(;n;){let r=null;if(isLView(n))r=n[Qe];else{ngDevMode&&assertLContainer(n);const e=n[ut];e&&(r=e)}if(!r){for(;n&&!n[$e]&&n!==e;)isLView(n)&&cleanUpView(n[He],n),n=n[Be];null===n&&(n=e),isLView(n)&&cleanUpView(n[He],n),r=n&&n[$e]}n=r}}(n)}}function cleanUpView(e,n){if(256&n[Ue])return;const r=setActiveConsumer(null);try{n[Ue]&=-129,n[Ue]|=256,n[st]&&consumerDestroy(n[st]),executeOnDestroys(e,n),processCleanups(e,n),1===n[He].type&&(ngDevMode&&ngDevMode.rendererDestroy++,n[Ke].destroy());const r=n[Ze];if(null!==r&&isLContainer(n[Be])){r!==n[Be]&&detachMovedView(r,n);const o=n[tt];null!==o&&o.detachView(e)}!function unregisterLView(e){ngDevMode&&assertNumber(e[nt],"Cannot stop tracking an LView that does not have an ID"),Ht.delete(e[nt])}(n)}finally{setActiveConsumer(r)}}function processCleanups(e,n){ngDevMode&&assertNotReactive(processCleanups.name);const r=e.cleanup,o=n[Ge];if(null!==r)for(let e=0;e<r.length-1;e+=2)if("string"==typeof r[e]){const n=r[e+3];ngDevMode&&assertNumber(n,"cleanup target must be a number"),n>=0?o[n]():o[-n].unsubscribe(),e+=2}else{r[e].call(o[r[e+1]])}null!==o&&(n[Ge]=null);const i=n[ot];if(null!==i){n[ot]=null;for(let e=0;e<i.length;e++){const n=i[e];ngDevMode&&assertFunction(n,"Expecting destroy hook to be a function."),n()}}}function executeOnDestroys(e,n){let r;if(ngDevMode&&assertNotReactive(executeOnDestroys.name),null!=e&&null!=(r=e.destroyHooks))for(let e=0;e<r.length;e+=2){const o=n[r[e]];if(!(o instanceof NodeInjectorFactory)){const n=r[e+1];if(Array.isArray(n))for(let e=0;e<n.length;e+=2){const r=o[n[e]],i=n[e+1];profiler(4,r,i);try{i.call(r)}finally{profiler(5,r,i)}}else{profiler(4,o,n);try{n.call(o)}finally{profiler(5,o,n)}}}}}function getParentRElement(e,n,r){return getClosestRElement(e,n.parent,r)}function getClosestRElement(e,n,r){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return r[Le];{ngDevMode&&assertTNodeType(o,7);const{componentOffset:n}=o;if(n>-1){ngDevMode&&assertTNodeForLView(o,r);const{encapsulation:i}=e.data[o.directiveStart+n];if(i===Ce.None||i===Ce.Emulated)return null}return getNativeByTNode(o,r)}}function nativeInsertBefore(e,n,r,o,i){ngDevMode&&ngDevMode.rendererInsertBefore++,e.insertBefore(n,r,o,i)}function nativeAppendChild(e,n,r){ngDevMode&&ngDevMode.rendererAppendChild++,ngDevMode&&assertDefined(n,"parent node must be defined"),e.appendChild(n,r)}function nativeAppendOrInsertBefore(e,n,r,o,i){null!==o?nativeInsertBefore(e,n,r,o,i):nativeAppendChild(e,n,r)}function nativeParentNode(e,n){return e.parentNode(n)}function getInsertInFrontOfRNode(e,n,r){return On(e,n,r)}function getInsertInFrontOfRNodeWithNoI18n(e,n,r){return 40&e.type?getNativeByTNode(e,r):null}let Fn,On=getInsertInFrontOfRNodeWithNoI18n;function setI18nHandling(e,n){On=e,Fn=n}function appendChild(e,n,r,o){const i=getParentRElement(e,o,n),s=n[Ke],a=getInsertInFrontOfRNode(o.parent||n[je],o,n);if(null!=i)if(Array.isArray(r))for(let e=0;e<r.length;e++)nativeAppendOrInsertBefore(s,i,r[e],a,!1);else nativeAppendOrInsertBefore(s,i,r,a,!1);void 0!==Fn&&Fn(s,o,n,r,i)}function getFirstNativeNode(e,n){if(null!==n){ngDevMode&&assertTNodeType(n,63);const r=n.type;if(3&r)return getNativeByTNode(n,e);if(4&r)return getBeforeNodeForView(-1,e[n.index]);if(8&r){const r=n.child;if(null!==r)return getFirstNativeNode(e,r);{const r=e[n.index];return isLContainer(r)?getBeforeNodeForView(-1,r):unwrapRNode(r)}}if(32&r){return icuContainerIterate(n,e)()||unwrapRNode(e[n.index])}{const r=getProjectionNodes(e,n);if(null!==r){if(Array.isArray(r))return r[0];const n=getLViewParent(e[Je]);return ngDevMode&&assertParentView(n),getFirstNativeNode(n,r)}return getFirstNativeNode(e,n.next)}}return null}function getProjectionNodes(e,n){if(null!==n){const r=e[Je][je],o=n.projection;return ngDevMode&&function assertProjectionSlots(e,n){assertDefined(e[Je],"Component views should exist."),assertDefined(e[Je][je].projection,n||"Components with projection nodes (<ng-content>) must have projection slots defined.")}(e),r.projection[o]}return null}function getBeforeNodeForView(e,n){const r=ut+e+1;if(r<n.length){const e=n[r],o=e[He].firstChild;if(null!==o)return getFirstNativeNode(e,o)}return n[dt]}function nativeRemoveNode(e,n,r){ngDevMode&&ngDevMode.rendererRemoveNode++;const o=nativeParentNode(e,n);o&&!function nativeRemoveChild(e,n,r,o){e.removeChild(n,r,o)}(e,o,n,r)}function applyNodes(e,n,r,o,i,s,a){for(;null!=r;){ngDevMode&&assertTNodeForLView(r,o),ngDevMode&&assertTNodeType(r,63);const c=o[r.index],u=r.type;if(a&&0===n&&(c&&attachPatchData(unwrapRNode(c),o),r.flags|=2),32&~r.flags)if(8&u)applyNodes(e,n,r.child,o,i,s,!1),applyToElementOrContainer(n,e,i,c,s);else if(32&u){const a=icuContainerIterate(r,o);let u;for(;u=a();)applyToElementOrContainer(n,e,i,u,s);applyToElementOrContainer(n,e,i,c,s)}else 16&u?applyProjectionRecursive(e,n,o,r,i,s):(ngDevMode&&assertTNodeType(r,7),applyToElementOrContainer(n,e,i,c,s));r=a?r.projectionNext:r.next}}function applyView(e,n,r,o,i,s){applyNodes(r,o,e.firstChild,n,i,s,!1)}function applyProjectionRecursive(e,n,r,o,i,s){const a=r[Je],c=a[je];ngDevMode&&assertEqual(typeof o.projection,"number","expecting projection index");const u=c.projection[o.projection];if(Array.isArray(u))for(let r=0;r<u.length;r++){applyToElementOrContainer(n,e,i,u[r],s)}else{let r=u;const c=a[Be];hasInSkipHydrationBlockFlag(o)&&(r.flags|=128),applyNodes(e,n,r,c,i,s,!0)}}function writeDirectClass(e,n,r){ngDevMode&&assertString(r,"'newValue' should be a string"),""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r),ngDevMode&&ngDevMode.rendererSetClassName++}function setupStaticAttributes(e,n,r){const{mergedAttrs:o,classes:i,styles:s}=r;null!==o&&setUpAttributes(e,n,o),null!==i&&writeDirectClass(e,n,i),null!==s&&function writeDirectStyle(e,n,r){ngDevMode&&assertString(r,"'newValue' should be a string"),e.setAttribute(n,"style",r),ngDevMode&&ngDevMode.rendererSetStyle++}(e,n,s)}const Rn="undefined"==typeof ngDevMode||ngDevMode?{__brand__:"NO_CHANGE"}:{};function ɵɵadvance(e=1){ngDevMode&&assertGreaterThan(e,0,"Can only advance forward"),selectIndexInternal(getTView(),getLView(),getSelectedIndex()+e,!!ngDevMode&&isInCheckNoChangesMode())}function selectIndexInternal(e,n,r,o){if(ngDevMode&&assertIndexInDeclRange(n[He],r),!o){if(!(3&~n[Ue])){const o=e.preOrderCheckHooks;null!==o&&executeCheckHooks(n,o,r)}else{const o=e.preOrderHooks;null!==o&&executeInitAndCheckHooks(n,o,0,r)}}setSelectedIndex(r)}function ɵɵdirectiveInject(e,n=ee.Default){const r=getLView();if(null===r)return ngDevMode&&function assertInjectImplementationNotEqual(e){ngDevMode&&assertNotEqual(te,e,"Calling ɵɵinject would cause infinite recursion")}(ɵɵdirectiveInject),ɵɵinject(e,n);const o=getOrCreateInjectable(getCurrentTNode(),r,resolveForwardRef(e),n);return ngDevMode&&emitInjectEvent(e,o,n),o}function ɵɵinvalidFactory(){const e=ngDevMode?"This constructor was not compatible with Dependency Injection.":"invalid";throw new Error(e)}function writeToDirectiveInput(e,n,r,o,i,s){const a=setActiveConsumer(null);try{let a=null;if(i&be.SignalBased){a=n[o][c]}null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&be.HasDecoratorInputTransform&&(s=e.inputTransforms[o].call(n,s)),null!==e.setInput?e.setInput(n,a,s,r,o):applyValueToInputField(n,a,o,s)}finally{setActiveConsumer(a)}}function createLView(e,n,r,o,i,s,a,c,u,p,f){const g=n.blueprint.slice();return g[Le]=i,g[Ue]=204|o,(null!==p||e&&2048&e[Ue])&&(g[Ue]|=2048),resetPreOrderHookFlags(g),ngDevMode&&n.declTNode&&e&&assertTNodeForLView(n.declTNode,e),g[Be]=g[Ye]=e,g[ze]=r,g[We]=a||e&&e[We],ngDevMode&&assertDefined(g[We],"LViewEnvironment is required"),g[Ke]=c||e&&e[Ke],ngDevMode&&assertDefined(g[Ke],"Renderer is required"),g[qe]=u||e&&e[qe]||null,g[je]=s,g[nt]=function getUniqueLViewId(){return Ut++}(),g[Ve]=f,g[rt]=p,ngDevMode&&assertEqual(2!=n.type||null!==e,!0,"Embedded views must have parentLView"),g[Je]=2==n.type?e[Je]:g,g}function getOrCreateTNode(e,n,r,o,i){ngDevMode&&0!==n&&assertGreaterThanOrEqual(n,at,"TNodes can't be in the LView header."),ngDevMode&&function assertPureTNodeType(e){2!==e&&1!==e&&4!==e&&8!==e&&32!==e&&16!==e&&64!==e&&throwError(`Expected TNodeType to have only a single type selected, but got ${toTNodeTypeAsString(e)}.`)}(r);let s=e.data[n];if(null===s)s=createTNodeAtIndex(e,n,r,o,i),function isInI18nBlock(){return vt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=r,s.value=o,s.attrs=i;const a=getCurrentParentTNode();s.injectorIndex=null===a?-1:a.injectorIndex,ngDevMode&&assertTNodeForTView(s,e),ngDevMode&&assertEqual(n,s.index,"Expecting same index")}return setCurrentTNode(s,!0),s}function createTNodeAtIndex(e,n,r,o,i){const s=getCurrentTNodePlaceholderOk(),a=isCurrentTNodeParent(),c=e.data[n]=function createTNode(e,n,r,o,i,s){ngDevMode&&0!==o&&assertGreaterThanOrEqual(o,at,"TNodes can't be in the LView header."),ngDevMode&&assertNotSame(s,void 0,"'undefined' is not valid value for 'attrs'"),ngDevMode&&ngDevMode.tNode++,ngDevMode&&n&&assertTNodeForTView(n,e);let a=n?n.injectorIndex:-1,c=0;isInSkipHydrationBlock$1()&&(c|=128);const u={type:r,index:o,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};ngDevMode&&Object.seal(u);return u}(e,a?s:s&&s.parent,r,n,o,i);return null===e.firstChild&&(e.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}function allocExpando(e,n,r,o){if(0===r)return-1;ngDevMode&&(assertFirstCreatePass(e),assertSame(e,n[He],"`LView` must be associated with `TView`!"),assertEqual(e.data.length,n.length,"Expecting LView to be same size as TView"),assertEqual(e.data.length,e.blueprint.length,"Expecting Blueprint to be same size as TView"),assertFirstUpdatePass(e));const i=n.length;for(let i=0;i<r;i++)n.push(o),e.blueprint.push(o),e.data.push(null);return i}function executeTemplate(e,n,r,o,i){const s=getSelectedIndex(),a=2&o;try{setSelectedIndex(-1),a&&n.length>at&&selectIndexInternal(e,n,at,!!ngDevMode&&isInCheckNoChangesMode());profiler(a?2:0,i),r(o,i)}finally{setSelectedIndex(s);profiler(a?3:1,i)}}function executeContentQueries(e,n,r){if(isContentQueryHost(n)){const o=setActiveConsumer(null);try{const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const n=e.data[i];if(n.contentQueries){const e=r[i];ngDevMode&&assertDefined(i,"Incorrect reference to a directive defining a content query"),n.contentQueries(1,e,i)}}}finally{setActiveConsumer(o)}}}function createDirectivesInstances(e,n,r){getBindingsEnabled()&&(!function instantiateAllDirectives(e,n,r,o){const i=r.directiveStart,s=r.directiveEnd;isComponentHost(r)&&(ngDevMode&&assertTNodeType(r,3),function addComponentLogic(e,n,r){const o=getNativeByTNode(n,e),i=getOrCreateComponentTView(r),s=e[We].rendererFactory;let a=16;r.signals?a=4096:r.onPush&&(a=64);const c=addToViewTree(e,createLView(e,i,null,a,o,n,null,s.createRenderer(o,r),null,null,null));e[n.index]=c}(n,r,e.data[i+r.componentOffset]));e.firstCreatePass||getOrCreateNodeInjectorForNode(r,n);attachPatchData(o,n);const a=r.initialInputs;for(let o=i;o<s;o++){const s=e.data[o],c=getNodeInjectable(n,e,o,r);if(attachPatchData(c,n),null!==a&&setInputsFromAttrs(n,o-i,c,s,r,a),isComponentDef(s)){getComponentLViewByIndex(r.index,n)[ze]=getNodeInjectable(n,e,o,r)}}}(e,n,r,getNativeByTNode(r,n)),64&~r.flags||invokeDirectivesHostBindings(e,n,r))}function saveResolvedLocalsInData(e,n,r=getNativeByTNode){const o=n.localNames;if(null!==o){let i=n.index+1;for(let s=0;s<o.length;s+=2){const a=o[s+1],c=-1===a?r(n,e):e[a];e[i++]=c}}}function getOrCreateComponentTView(e){const n=e.tView;if(null===n||n.incompleteFirstPass){return e.tView=createTView(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id)}return n}function createTView(e,n,r,o,i,s,a,c,u,p,f){ngDevMode&&ngDevMode.tView++;const g=at+o,v=g+i,C=function createViewBlueprint(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:Rn);return r}(g,v),b="function"==typeof p?p():p,w=C[He]={type:e,blueprint:C,template:r,queries:null,viewQuery:c,declTNode:n,data:C.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:f};return ngDevMode&&Object.seal(w),w}function locateHostElement(e,n,r,o){const i=o.get(Zt,Jt),s=e.selectRootElement(n,i||r===Ce.ShadowDom);return!function applyRootElementTransform(e){_applyRootElementTransformImpl(e)}(s),s}let _applyRootElementTransformImpl=()=>null;function captureNodeBindings(e,n,r,o,i){for(let s in n){if(!n.hasOwnProperty(s))continue;const a=n[s];if(void 0===a)continue;let c;null!=o?o:o={};let u=be.None;Array.isArray(a)?(c=a[0],u=a[1]):c=a;let p=s;if(null!==i){if(!i.hasOwnProperty(s))continue;p=i[s]}0===e?addPropertyBinding(o,r,p,c,u):addPropertyBinding(o,r,p,c)}return o}function addPropertyBinding(e,n,r,o,i){let s;e.hasOwnProperty(r)?(s=e[r]).push(n,o):s=e[r]=[n,o],void 0!==i&&s.push(i)}function elementPropertyInternal(e,n,r,o,i,s,a,c){ngDevMode&&assertNotSame(i,Rn,"Incoming value should never be NO_CHANGE.");const u=getNativeByTNode(n,r);let p,f=n.inputs;!c&&null!=f&&(p=f[o])?(setInputsForProperty(e,r,p,o,i),isComponentHost(n)&&function markDirtyIfOnPush(e,n){ngDevMode&&assertLView(e);const r=getComponentLViewByIndex(n,e);16&r[Ue]||(r[Ue]|=64)}(r,n.index),ngDevMode&&function setNgReflectProperties(e,n,r,o,i){if(7&r)for(let s=0;s<o.length;s+=3)setNgReflectProperty(e,n,r,o[s+1],i)}(r,u,n.type,p,i)):3&n.type?(o=function mapPropName(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),ngDevMode&&(!function validateAgainstEventProperties(e){if(e.toLowerCase().startsWith("on")){const n=`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`;throw new RuntimeError(306,n)}}(o),function isPropertyValid(e,n,r,o){return!(null!==o&&!(matchingSchemas(o,r)||n in e||isAnimationProp(n))&&"undefined"!=typeof Node&&null!==Node&&e instanceof Node)}(u,o,n.value,e.schemas)||handleUnknownPropertyError(o,n.value,n.type,r),ngDevMode.rendererSetProperty++),i=null!=a?a(i,n.value||"",o):i,s.setProperty(u,o,i)):12&n.type&&ngDevMode&&!matchingSchemas(e.schemas,n.value)&&handleUnknownPropertyError(o,n.value,n.type,r)}function setNgReflectProperty(e,n,r,o,i){const s=e[Ke];o=normalizeDebugBindingName(o);const a=function normalizeDebugBindingValue(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(i);if(3&r)null==i?s.removeAttribute(n,o):s.setAttribute(n,o,a);else{const e=escapeCommentText(`bindings=${JSON.stringify({[o]:a},null,2)}`);s.setValue(n,e)}}function resolveDirectives(e,n,r,o){if(ngDevMode&&assertFirstCreatePass(e),getBindingsEnabled()){const i=null===o?null:{"":-1},s=function findDirectiveDefMatches(e,n){ngDevMode&&assertFirstCreatePass(e),ngDevMode&&assertTNodeType(n,15);const r=e.directiveRegistry;let o=null,i=null;if(r)for(let a=0;a<r.length;a++){const c=r[a];var s;if(isNodeMatchingSelectorList(n,c.selectors,!1))if(o||(o=[]),isComponentDef(c))if(ngDevMode&&(assertTNodeType(n,2,`"${n.value}" tags cannot be used as component hosts. Please use a different tag to activate the ${stringify(c.type)} component.`),isComponentHost(n)&&throwMultipleComponentError(n,o.find(isComponentDef).type,c.type)),null!==c.findHostDirectiveDefs){const r=[];i=i||new Map,c.findHostDirectiveDefs(c,r,i),o.unshift(...r,c);markAsComponentHost(e,n,r.length)}else o.unshift(c),markAsComponentHost(e,n,0);else i=i||new Map,null===(s=c.findHostDirectiveDefs)||void 0===s||s.call(c,c,o,i),o.push(c)}return ngDevMode&&null!==o&&assertNoDuplicateDirectives(o),null===o?null:[o,i]}(e,r);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&initializeDirectives(e,n,r,a,i,c),i&&function cacheMatchingLocalNames(e,n,r){if(n){const o=e.localNames=[];for(let e=0;e<n.length;e+=2){const i=r[n[e+1]];if(null==i)throw new RuntimeError(-301,ngDevMode&&`Export of name '${n[e+1]}' not found!`);o.push(n[e],i)}}}(r,o,i)}r.mergedAttrs=mergeHostAttrs(r.mergedAttrs,r.attrs)}function initializeDirectives(e,n,r,o,i,s){ngDevMode&&assertFirstCreatePass(e);for(let i=0;i<o.length;i++)diPublicInInjector(getOrCreateNodeInjectorForNode(r,n),e,o[i].type);!function initTNodeFlags(e,n,r){ngDevMode&&assertNotEqual(r,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let e=0;e<o.length;e++){const n=o[e];n.providersResolver&&n.providersResolver(n)}let a=!1,c=!1,u=allocExpando(e,n,o.length,null);ngDevMode&&assertSame(u,r.directiveStart,"TNode.directiveStart should point to just allocated space");for(let s=0;s<o.length;s++){const g=o[s];r.mergedAttrs=mergeHostAttrs(r.mergedAttrs,g.hostAttrs),configureViewWithDirective(e,r,n,u,g),saveNameToExportMap(u,g,i),null!==g.contentQueries&&(r.flags|=4),null===g.hostBindings&&null===g.hostAttrs&&0===g.hostVars||(r.flags|=64);const v=g.type.prototype;var p,f;if(!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck))(null!==(p=e.preOrderHooks)&&void 0!==p?p:e.preOrderHooks=[]).push(r.index),a=!0;if(!c&&(v.ngOnChanges||v.ngDoCheck))(null!==(f=e.preOrderCheckHooks)&&void 0!==f?f:e.preOrderCheckHooks=[]).push(r.index),c=!0;u++}!function initializeInputAndOutputAliases(e,n,r){ngDevMode&&assertFirstCreatePass(e);const o=n.directiveEnd,i=e.data,s=n.attrs,a=[];let c=null,u=null;for(let e=n.directiveStart;e<o;e++){const o=i[e],p=r?r.get(o):null,f=p?p.outputs:null;c=captureNodeBindings(0,o.inputs,e,c,p?p.inputs:null),u=captureNodeBindings(1,o.outputs,e,u,f);const g=null===c||null===s||isInlineTemplate(n)?null:generateInitialInputs(c,e,s);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=u}(e,r,s)}function invokeDirectivesHostBindings(e,n,r){const o=r.directiveStart,i=r.directiveEnd,s=r.index,a=function getCurrentDirectiveIndex(){return vt.lFrame.currentDirectiveIndex}();try{setSelectedIndex(s);for(let r=o;r<i;r++){const o=e.data[r],i=n[r];setCurrentDirectiveIndex(r),null===o.hostBindings&&0===o.hostVars&&null===o.hostAttrs||invokeHostBindingsInCreationMode(o,i)}}finally{setSelectedIndex(-1),setCurrentDirectiveIndex(a)}}function invokeHostBindingsInCreationMode(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function markAsComponentHost(e,n,r){var o;ngDevMode&&assertFirstCreatePass(e),ngDevMode&&assertGreaterThan(r,-1,"componentOffset must be great than -1"),n.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function saveNameToExportMap(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;isComponentDef(n)&&(r[""]=e)}}function configureViewWithDirective(e,n,r,o,i){ngDevMode&&assertGreaterThanOrEqual(o,at,"Must be in Expando section"),e.data[o]=i;const s=i.factory||(i.factory=getFactoryDef(i.type,!0)),a=new NodeInjectorFactory(s,isComponentDef(i),ɵɵdirectiveInject);e.blueprint[o]=a,r[o]=a,function registerHostBindingOpCodes(e,n,r,o,i){ngDevMode&&assertFirstCreatePass(e);const s=i.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const a=~n.index;(function lastSelectedElementIdx(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(i)!=a&&i.push(a),i.push(r,o,s)}}(e,n,o,allocExpando(e,r,i.hostVars,Rn),i)}function elementAttributeInternal(e,n,r,o,i,s){ngDevMode&&(assertNotSame(o,Rn,"Incoming value should never be NO_CHANGE."),function validateAgainstEventAttributes(e){if(e.toLowerCase().startsWith("on")){const n=`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`;throw new RuntimeError(306,n)}}(r),assertTNodeType(e,2,`Attempted to set attribute \`${r}\` on a container node. Host bindings are not valid on ng-container or ng-template.`));const a=getNativeByTNode(e,n);setElementAttribute(n[Ke],a,s,e.value,r,o,i)}function setElementAttribute(e,n,r,o,i,s,a){if(null==s)ngDevMode&&ngDevMode.rendererRemoveAttribute++,e.removeAttribute(n,i,r);else{ngDevMode&&ngDevMode.rendererSetAttribute++;const c=null==a?renderStringify(s):a(s,o||"",i);e.setAttribute(n,i,c,r)}}function setInputsFromAttrs(e,n,r,o,i,s){const a=s[n];if(null!==a)for(let n=0;n<a.length;){const s=a[n++],c=a[n++],u=a[n++],p=a[n++];if(writeToDirectiveInput(o,r,s,c,u,p),ngDevMode){setNgReflectProperty(e,getNativeByTNode(i,e),i.type,c,p)}}}function generateInitialInputs(e,n,r){let o=null,i=0;for(;i<r.length;){const s=r[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===o&&(o=[]);const a=e[s];for(let e=0;e<a.length;e+=3)if(a[e]===n){o.push(s,a[e+1],a[e+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return o}function createLContainer(e,n,r,o){ngDevMode&&assertLView(n);const i=[e,!0,0,n,null,o,null,r,null,null];return ngDevMode&&assertEqual(i.length,ut,"Should allocate correct number of slots for LContainer header."),i}function refreshContentQueries(e,n){const r=e.contentQueries;if(null!==r){const o=setActiveConsumer(null);try{for(let o=0;o<r.length;o+=2){const i=r[o],s=r[o+1];if(-1!==s){const r=e.data[s];ngDevMode&&assertDefined(r,"DirectiveDef not found."),ngDevMode&&assertDefined(r.contentQueries,"contentQueries function should be defined"),setCurrentQueryIndex(i),r.contentQueries(2,n[s],s)}}}finally{setActiveConsumer(o)}}}function addToViewTree(e,n){return e[Qe]?e[Xe][$e]=n:e[Qe]=n,e[Xe]=n,n}function executeViewQueryFn(e,n,r){ngDevMode&&assertDefined(n,"View queries function to execute must be defined."),setCurrentQueryIndex(0);const o=setActiveConsumer(null);try{n(e,r)}finally{setActiveConsumer(o)}}function storePropertyBindingMetadata(e,n,r,o,...i){if(null===e[o]&&(null==n.inputs||!n.inputs[r])){(n.propertyBindings||(n.propertyBindings=[])).push(o);let s=r;i.length>0&&(s+=Tn+i.join(Tn)),e[o]=s}}function getOrCreateLViewCleanup(e){return e[Ge]||(e[Ge]=[])}function getOrCreateTViewCleanup(e){return e.cleanup||(e.cleanup=[])}function loadComponentRenderer(e,n,r){return(null===e||isComponentDef(e))&&(r=unwrapLView(r[n.index])),r[Ke]}function handleError(e,n){const r=e[qe],o=r?r.get(ErrorHandler,null):null;o&&o.handleError(n)}function setInputsForProperty(e,n,r,o,i){for(let s=0;s<r.length;){const a=r[s++],c=r[s++],u=r[s++],p=n[a];ngDevMode&&assertIndexInRange(n,a);writeToDirectiveInput(e.data[a],p,o,c,u,i)}}function textBindingInternal(e,n,r){ngDevMode&&assertString(r,"Value should be a string"),ngDevMode&&assertNotSame(r,Rn,"value should not be NO_CHANGE"),ngDevMode&&assertIndexInRange(e,n);const o=getNativeByIndex(n,e);ngDevMode&&assertDefined(o,"native element should exist"),updateTextNode(e[Ke],o,r)}function renderComponent(e,n){ngDevMode&&assertEqual(isCreationMode(e),!0,"Should be run in creation mode");const r=getComponentLViewByIndex(n,e),o=r[He];!function syncViewWithBlueprint(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const i=r[Le];null!==i&&null===r[Ve]&&(r[Ve]=retrieveHydrationInfo(i,r[qe])),renderView(o,r,r[ze])}function renderView(e,n,r){ngDevMode&&assertEqual(isCreationMode(n),!0,"Should be run in creation mode"),ngDevMode&&assertNotReactive(renderView.name),enterView(n);try{var o;const i=e.viewQuery;null!==i&&executeViewQueryFn(1,i,r);const s=e.template;null!==s&&executeTemplate(e,n,s,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[tt])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&refreshContentQueries(e,n),e.staticViewQueries&&executeViewQueryFn(2,e.viewQuery,r);const a=e.components;null!==a&&!function renderChildComponents(e,n){for(let r=0;r<n.length;r++)renderComponent(e,n[r])}(n,a)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{n[Ue]&=-5,leaveView()}}function createAndRenderEmbeddedLView(e,n,r,o){const i=setActiveConsumer(null);try{var s,a,c;const i=n.tView;ngDevMode&&assertDefined(i,"TView must be defined for a template node."),ngDevMode&&assertTNodeForLView(n,e);const u=createLView(e,i,r,4096&e[Ue]?4096:16,null,n,null,null,null!==(s=null==o?void 0:o.injector)&&void 0!==s?s:null,null!==(a=null==o?void 0:o.embeddedViewInjector)&&void 0!==a?a:null,null!==(c=null==o?void 0:o.dehydratedView)&&void 0!==c?c:null),p=e[n.index];ngDevMode&&assertLContainer(p),u[Ze]=p;const f=e[tt];return null!==f&&(u[tt]=f.createEmbeddedView(i)),renderView(i,u,r),u}finally{setActiveConsumer(i)}}function getLViewFromLContainer(e,n){const r=ut+n;if(r<e.length){const n=e[r];return ngDevMode&&assertLView(n),n}}function shouldAddViewToDom(e,n){return!n||null===n.firstChild||hasInSkipHydrationBlockFlag(e)}function addLViewToLContainer(e,n,r,o=!0){const i=n[He];if(insertView(i,n,e,r),o){const o=getBeforeNodeForView(r,e),s=n[Ke],a=nativeParentNode(s,e[dt]);null!==a&&!function addViewToDOM(e,n,r,o,i,s){o[Le]=i,o[je]=n,applyView(e,o,r,1,i,s)}(i,e[je],s,n,a,o)}const s=n[Ve];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function removeLViewFromLContainer(e,n){const r=detachView(e,n);return void 0!==r&&destroyLView(r[He],r),r}function collectNativeNodes(e,n,r,o,i=!1){for(;null!==r;){ngDevMode&&assertTNodeType(r,63);const s=n[r.index];null!==s&&o.push(unwrapRNode(s)),isLContainer(s)&&collectNativeNodesInLContainer(s,o);const a=r.type;if(8&a)collectNativeNodes(e,n,r.child,o);else if(32&a){const e=icuContainerIterate(r,n);let i;for(;i=e();)o.push(i)}else if(16&a){const e=getProjectionNodes(n,r);if(Array.isArray(e))o.push(...e);else{const r=getLViewParent(n[Je]);ngDevMode&&assertParentView(r),collectNativeNodes(r[He],r,e,o,!0)}}r=i?r.projectionNext:r.next}return o}function collectNativeNodesInLContainer(e,n){for(let r=ut;r<e.length;r++){const o=e[r],i=o[He].firstChild;null!==i&&collectNativeNodes(o[He],o,i,n)}e[dt]!==e[Le]&&n.push(e[dt])}let Nn=[];function getOrBorrowReactiveLViewConsumer(e){var n;return null!==(n=e[st])&&void 0!==n?n:function borrowReactiveLViewConsumer(e){var n;const r=null!==(n=Nn.pop())&&void 0!==n?n:Object.create(Ln);return r.lView=e,r}(e)}const Ln={...u,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{markAncestorsForTraversal(e.lView)},consumerOnSignalRead(){this.lView[st]=this}};function detectChangesInternal(e,n=!0,r=0){const o=e[We],i=o.rendererFactory,s=!!ngDevMode&&isInCheckNoChangesMode();var a;s||(null===(a=i.begin)||void 0===a||a.call(i));try{!function detectChangesInViewWhileDirty(e,n){detectChangesInView$1(e,n);let r=0;for(;requiresRefreshOrTraversal(e);){if(100===r)throw new RuntimeError(103,ngDevMode&&"Infinite change detection while trying to refresh views. There may be components which each cause the other to require a refresh, causing an infinite loop.");r++,detectChangesInView$1(e,1)}}(e,r)}catch(r){throw n&&handleError(e,r),r}finally{var c,u;if(!s)null===(c=i.end)||void 0===c||c.call(i),null===(u=o.inlineEffectRunner)||void 0===u||u.flush()}}function refreshView(e,n,r,o){var i;ngDevMode&&assertEqual(isCreationMode(n),!1,"Should be run in update mode");const s=n[Ue];if(!(256&~s))return;const a=ngDevMode&&isInCheckNoChangesMode();!a&&(null===(i=n[We].inlineEffectRunner)||void 0===i?void 0:i.flush()),enterView(n);let c=null,u=null;!a&&function viewShouldHaveReactiveConsumer(e){return 2!==e.type}(e)&&(u=getOrBorrowReactiveLViewConsumer(n),c=consumerBeforeComputation(u));try{resetPreOrderHookFlags(n),setBindingIndex(e.bindingStartIndex),null!==r&&executeTemplate(e,n,r,2,o);const i=!(3&~s);if(!a)if(i){const r=e.preOrderCheckHooks;null!==r&&executeCheckHooks(n,r,null)}else{const r=e.preOrderHooks;null!==r&&executeInitAndCheckHooks(n,r,0,null),incrementInitPhaseFlags(n,0)}if(!function markTransplantedViewsForRefresh(e){for(let n=getFirstLContainer(e);null!==n;n=getNextLContainer(n)){if(!(n[Ue]&pt.HasTransplantedViews))continue;const e=n[ct];ngDevMode&&assertDefined(e,"Transplanted View flags set but missing MOVED_VIEWS");for(let n=0;n<e.length;n++){const r=e[n];ngDevMode&&assertLContainer(r[Be]),markViewForRefresh(r)}}}(n),detectChangesInEmbeddedViews(n,0),null!==e.contentQueries&&refreshContentQueries(e,n),!a)if(i){const r=e.contentCheckHooks;null!==r&&executeCheckHooks(n,r)}else{const r=e.contentHooks;null!==r&&executeInitAndCheckHooks(n,r,1),incrementInitPhaseFlags(n,1)}!function processHostBindingOpCodes(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let e=0;e<r.length;e++){const o=r[e];if(o<0)setSelectedIndex(~o);else{const i=o,s=r[++e],a=r[++e];setBindingRootForHostBindings(s,i),a(2,n[i])}}}finally{setSelectedIndex(-1)}}(e,n);const c=e.components;null!==c&&detectChangesInChildComponents(n,c,0);const u=e.viewQuery;if(null!==u&&executeViewQueryFn(2,u,o),!a)if(i){const r=e.viewCheckHooks;null!==r&&executeCheckHooks(n,r)}else{const r=e.viewHooks;null!==r&&executeInitAndCheckHooks(n,r,2),incrementInitPhaseFlags(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[it]){for(const e of n[it])e();n[it]=null}a||(n[Ue]&=-73)}catch(e){throw markAncestorsForTraversal(n),e}finally{null!==u&&(consumerAfterComputation(u,c),function maybeReturnReactiveLViewConsumer(e){e.lView[st]!==e&&(e.lView=null,Nn.push(e))}(u)),leaveView()}}function detectChangesInEmbeddedViews(e,n){for(let r=getFirstLContainer(e);null!==r;r=getNextLContainer(r))for(let e=ut;e<r.length;e++){detectChangesInViewIfAttached(r[e],n)}}function detectChangesInComponent(e,n,r){ngDevMode&&assertEqual(isCreationMode(e),!1,"Should be run in update mode");detectChangesInViewIfAttached(getComponentLViewByIndex(n,e),r)}function detectChangesInViewIfAttached(e,n){viewAttachedToChangeDetector(e)&&detectChangesInView$1(e,n)}function detectChangesInView$1(e,n){const r=ngDevMode&&isInCheckNoChangesMode(),o=e[He],i=e[Ue],s=e[st];let a=!!(0===n&&16&i);if(a||(a=!(!(64&i&&0===n)||r)),a||(a=!!(1024&i)),a||(a=!(null==s||!s.dirty||!consumerPollProducersForChange(s))),s&&(s.dirty=!1),e[Ue]&=-9217,a)refreshView(o,e,o.template,e[ze]);else if(8192&i){detectChangesInEmbeddedViews(e,1);const n=o.components;null!==n&&detectChangesInChildComponents(e,n,1)}}function detectChangesInChildComponents(e,n,r){for(let o=0;o<n.length;o++)detectChangesInComponent(e,n[o],r)}function markViewDirty(e){var n;for(null===(n=e[We].changeDetectionScheduler)||void 0===n||n.notify();e;){e[Ue]|=64;const n=getLViewParent(e);if(isRootView(e)&&!n)return e;e=n}return null}class ViewRef$1{get rootNodes(){const e=this._lView,n=e[He];return collectNativeNodes(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(e){ngDevMode&&console.warn("Angular: Replacing the `context` object of an `EmbeddedViewRef` is deprecated."),this._lView[ze]=e}get destroyed(){return!(256&~this._lView[Ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(isLContainer(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ngDevMode&&assertEqual(r,e.indexOf(this._lView)-ut,"An attached view should be in the same position within its container as its ViewRef in the VIEW_REFS array."),detachView(e,r),removeFromArray(n,r))}this._attachedToViewContainer=!1}destroyLView(this._lView[He],this._lView)}onDestroy(e){storeLViewOnDestroy(this._lView,e)}markForCheck(){markViewDirty(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ue]&=-129}reattach(){updateAncestorTraversalFlagsOnAttach(this._lView),this._lView[Ue]|=128}detectChanges(){this._lView[Ue]|=1024,detectChangesInternal(this._lView,this.notifyErrorHandler)}checkNoChanges(){ngDevMode&&!function checkNoChangesInternal(e,n=!0){setIsInCheckNoChangesMode(!0);try{detectChangesInternal(e,n)}finally{setIsInCheckNoChangesMode(!1)}}(this._lView,this.notifyErrorHandler)}attachToViewContainerRef(){if(this._appRef)throw new RuntimeError(902,ngDevMode&&"This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,detachViewFromDOM(this._lView[He],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new RuntimeError(902,ngDevMode&&"This view is already attached to a ViewContainer!");this._appRef=e,updateAncestorTraversalFlagsOnAttach(this._lView)}}let Hn=(()=>{class TemplateRef{}return TemplateRef.__NG_ELEMENT_ID__=injectTemplateRef,TemplateRef})();const Un=Hn,Bn=class TemplateRef extends Un{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const o=createAndRenderEmbeddedLView(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ViewRef$1(o)}};function injectTemplateRef(){return createTemplateRef(getCurrentTNode(),getLView())}function createTemplateRef(e,n){return 4&e.type?(ngDevMode&&assertDefined(e.tView,"TView must be allocated"),new Bn(n,e,createElementRef(e,n))):null}new Set(["ngh","ng-version","ng-server-context"]);new RegExp("^(\\d+)*(b|h)*(.*)");let _findMatchingDehydratedViewImpl=()=>null;function findMatchingDehydratedView(e,n){return _findMatchingDehydratedViewImpl(e,n)}class ChangeDetectionScheduler{}class ComponentRef$1{}class ComponentFactory$1{}const $n="ngComponent";class _NullComponentFactoryResolver{resolveComponentFactory(e){throw function noComponentFactoryError(e){const n=Error(`No component factory found for ${stringify(e)}.`);return n[$n]=e,n}(e)}}let jn=(()=>{class ComponentFactoryResolver$1{}return ComponentFactoryResolver$1.NULL=new _NullComponentFactoryResolver,ComponentFactoryResolver$1})();class RendererFactory2{}let Vn=(()=>{class Renderer2{constructor(){this.destroyNode=null}}return Renderer2.__NG_ELEMENT_ID__=()=>function injectRenderer2(){const e=getLView(),n=getComponentLViewByIndex(getCurrentTNode().index,e);return(isLView(n)?n:e)[Ke]}(),Renderer2})();let Gn=(()=>{var e;class Sanitizer{}return(e=Sanitizer).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"root",factory:()=>null}),Sanitizer})();const zn={};function assertNotInReactiveContext(e,n){if(null!==getActiveConsumer())throw new RuntimeError(-602,ngDevMode&&`${e.name}() cannot be called from within a reactive context.${n?` ${n}`:""}`)}const qn=new Set;function performanceMarkFeature(e){var n,r;qn.has(e)||(qn.add(e),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:e}}))}function noop(...e){}class AsyncStackTaggingZoneSpec{constructor(e,n=console){var r;this.name="asyncStackTagging for "+e,this.createTask=null!==(r=null==n?void 0:n.createTask)&&void 0!==r?r:()=>null}onScheduleTask(e,n,r,o){return o.consoleTask=this.createTask(`Zone - ${o.source||o.type}`),e.scheduleTask(r,o)}onInvokeTask(e,n,r,o,i,s){let a;return a=o.consoleTask?o.consoleTask.run((()=>e.invokeTask(r,o,i,s))):e.invokeTask(r,o,i,s),a}}class NgZone{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lt(!1),this.onMicrotaskEmpty=new Lt(!1),this.onStable=new Lt(!1),this.onError=new Lt(!1),"undefined"==typeof Zone)throw new RuntimeError(908,ngDevMode&&"In this configuration Angular requires Zone.js");Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,ngDevMode&&(o._inner=o._inner.fork(new AsyncStackTaggingZoneSpec("Angular"))),Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function getNativeRequestAnimationFrame(){const e="function"==typeof H.requestAnimationFrame;let n=H[e?"requestAnimationFrame":"setTimeout"],r=H[e?"cancelAnimationFrame":"clearTimeout"];if("undefined"!=typeof Zone&&n&&r){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function forkInnerZoneWithAngularBehavior(e){const delayChangeDetectionForEventsDelegate=()=>{!function delayChangeDetectionForEvents(e){if(e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId)return;e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(H,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,updateMicroTaskStatus(e),e.isCheckStableRunning=!0,checkStable(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),updateMicroTaskStatus(e)}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(function shouldBeIgnoredByZone(e){var n;if(!Array.isArray(e))return!1;if(1!==e.length)return!1;return!0===(null===(n=e[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(a))return n.invokeTask(o,i,s,a);try{return onEnter(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&delayChangeDetectionForEventsDelegate(),onLeave(e)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return onEnter(e),n.invoke(o,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&delayChangeDetectionForEventsDelegate(),onLeave(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,updateMicroTaskStatus(e),checkStable(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular((()=>e.onError.emit(i))),!1)})}(o)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!NgZone.isInAngularZone())throw new RuntimeError(909,ngDevMode&&"Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(NgZone.isInAngularZone())throw new RuntimeError(909,ngDevMode&&"Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,Wn,noop,noop);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Wn={};function checkStable(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function updateMicroTaskStatus(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function onEnter(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function onLeave(e){e._nesting--,checkStable(e)}class NoopNgZone{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lt,this.onMicrotaskEmpty=new Lt,this.onStable=new Lt,this.onError=new Lt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}}var Kn=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Kn||{});const Qn={destroy(){}};function internalAfterNextRender(e,n){var r;const o=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:inject(kt);if(!(null!=n&&n.runOnServer||isPlatformBrowser(o)))return;o.get(Xn).internalCallbacks.push(e)}function afterNextRender(e,n){var r,o,i;!n&&assertInInjectionContext(afterNextRender);const s=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:inject(kt);if(!isPlatformBrowser(s))return Qn;performanceMarkFeature("NgAfterNextRender");const a=s.get(Xn),c=null!==(o=a.handler)&&void 0!==o?o:a.handler=new AfterRenderCallbackHandlerImpl,u=null!==(i=null==n?void 0:n.phase)&&void 0!==i?i:Kn.MixedReadWrite,destroy=()=>{c.unregister(f),p()},p=s.get(Ot).onDestroy(destroy),f=runInInjectionContext(s,(()=>new AfterRenderCallback(u,(()=>{destroy(),e()}))));return c.register(f),{destroy}}class AfterRenderCallback{constructor(e,n){var r;this.phase=e,this.callbackFn=n,this.zone=inject(NgZone),this.errorHandler=inject(ErrorHandler,{optional:!0}),null===(r=inject(ChangeDetectionScheduler,{optional:!0}))||void 0===r||r.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class AfterRenderCallbackHandlerImpl{constructor(){this.executingCallbacks=!1,this.buckets={[Kn.EarlyRead]:new Set,[Kn.Write]:new Set,[Kn.MixedReadWrite]:new Set,[Kn.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Xn=(()=>{var e;class AfterRenderEventManager{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var e;this.executeInternalCallbacks(),null===(e=this.handler)||void 0===e||e.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const n of e)n()}ngOnDestroy(){var e;null===(e=this.handler)||void 0===e||e.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=AfterRenderEventManager).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"root",factory:()=>new e}),AfterRenderEventManager})();function isModuleWithProviders(e){return void 0!==e.ngModule}function isNgModule(e){return!!getNgModuleDef(e)}function isPipe(e){return!!getPipeDef$1(e)}function isDirective(e){return!!getDirectiveDef(e)}function isComponent(e){return!!getComponentDef(e)}function verifyStandaloneImport(e,n){if(isForwardRef(e)&&!(e=resolveForwardRef(e)))throw new Error(`Expected forwardRef function, imported from "${stringifyForError(n)}", to return a standalone entity or NgModule but got "${stringifyForError(e)||e}".`);if(null==getNgModuleDef(e)){const r=getComponentDef(e)||getDirectiveDef(e)||getPipeDef$1(e);if(null==r)throw isModuleWithProviders(e)?new Error(`A module with providers was imported from "${stringifyForError(n)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${stringifyForError(e)}" type, imported from "${stringifyForError(n)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!r.standalone)throw new Error(`The "${stringifyForError(e)}" ${function getDependencyTypeForError(e){return getComponentDef(e)?"component":getDirectiveDef(e)?"directive":getPipeDef$1(e)?"pipe":"type"}(e)}, imported from "${stringifyForError(n)}", is not standalone. Did you forget to add the standalone: true flag?`)}}const Yn=!0;class DepsTracker{constructor(){this.ownerNgModule=new Map,this.ngModulesWithSomeUnresolvedDecls=new Set,this.ngModulesScopeCache=new Map,this.standaloneComponentsScopeCache=new Map}resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const e of this.ngModulesWithSomeUnresolvedDecls){const n=getNgModuleDef(e);if(null!=n&&n.declarations)for(const r of maybeUnwrapFn(n.declarations))isComponent(r)&&this.ownerNgModule.set(r,e)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(e,n){this.resolveNgModulesDecls();const r=getComponentDef(e);if(null===r)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${e}`);if(r.standalone){const r=this.getStandaloneComponentScope(e,n);return r.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...r.compilation.directives,...r.compilation.pipes,...r.compilation.ngModules]}}{if(!this.ownerNgModule.has(e))return{dependencies:[]};const n=this.getNgModuleScope(this.ownerNgModule.get(e));return n.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...n.compilation.directives,...n.compilation.pipes]}}}registerNgModule(e,n){if(!isNgModule(e))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${e}`);this.ngModulesWithSomeUnresolvedDecls.add(e)}clearScopeCacheFor(e){this.ngModulesScopeCache.delete(e),this.standaloneComponentsScopeCache.delete(e)}getNgModuleScope(e){if(this.ngModulesScopeCache.has(e))return this.ngModulesScopeCache.get(e);const n=this.computeNgModuleScope(e);return this.ngModulesScopeCache.set(e,n),n}computeNgModuleScope(e){const n=getNgModuleDef(e,!0),r={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const e of maybeUnwrapFn(n.imports))if(isNgModule(e)){const n=this.getNgModuleScope(e);addSet(n.exported.directives,r.compilation.directives),addSet(n.exported.pipes,r.compilation.pipes)}else{if(!isStandalone(e)){r.compilation.isPoisoned=!0;break}if(isDirective(e)||isComponent(e))r.compilation.directives.add(e);else{if(!isPipe(e))throw new RuntimeError(1e3,"The standalone imported type is neither a component nor a directive nor a pipe");r.compilation.pipes.add(e)}}if(!r.compilation.isPoisoned)for(const e of maybeUnwrapFn(n.declarations)){if(isNgModule(e)||isStandalone(e)){r.compilation.isPoisoned=!0;break}isPipe(e)?r.compilation.pipes.add(e):r.compilation.directives.add(e)}for(const e of maybeUnwrapFn(n.exports))if(isNgModule(e)){const n=this.getNgModuleScope(e);addSet(n.exported.directives,r.exported.directives),addSet(n.exported.pipes,r.exported.pipes),addSet(n.exported.directives,r.compilation.directives),addSet(n.exported.pipes,r.compilation.pipes)}else isPipe(e)?r.exported.pipes.add(e):r.exported.directives.add(e);return r}getStandaloneComponentScope(e,n){if(this.standaloneComponentsScopeCache.has(e))return this.standaloneComponentsScopeCache.get(e);const r=this.computeStandaloneComponentScope(e,n);return this.standaloneComponentsScopeCache.set(e,r),r}computeStandaloneComponentScope(e,n){const r={compilation:{directives:new Set([e]),pipes:new Set,ngModules:new Set}};for(const o of flatten(null!=n?n:[])){const n=resolveForwardRef(o);try{verifyStandaloneImport(n,e)}catch(e){return r.compilation.isPoisoned=!0,r}if(isNgModule(n)){r.compilation.ngModules.add(n);const e=this.getNgModuleScope(n);if(e.exported.isPoisoned)return r.compilation.isPoisoned=!0,r;addSet(e.exported.directives,r.compilation.directives),addSet(e.exported.pipes,r.compilation.pipes)}else if(isPipe(n))r.compilation.pipes.add(n);else{if(!isDirective(n)&&!isComponent(n))return r.compilation.isPoisoned=!0,r;r.compilation.directives.add(n)}}return r}isOrphanComponent(e){const n=getComponentDef(e);return!(!n||n.standalone)&&(this.resolveNgModulesDecls(),!this.ownerNgModule.has(e))}}function addSet(e,n){for(const r of e)n.add(r)}const Jn=new DepsTracker;function computeStaticStyling(e,n,r){ngDevMode&&assertFirstCreatePass(getTView(),"Expecting to be called in first template pass only");let o=r?e.styles:null,i=r?e.classes:null,s=0;if(null!==n)for(let e=0;e<n.length;e++){const r=n[e];if("number"==typeof r)s=r;else if(1==s)i=concatStringsWithSpace(i,r);else if(2==s){o=concatStringsWithSpace(o,r+": "+n[++e]+";")}}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=i:e.classesWithoutHost=i}class ComponentFactoryResolver extends jn{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){ngDevMode&&function assertComponentType(e,n="Type passed in is not ComponentType, it does not have 'ɵcmp' property."){getComponentDef(e)||throwError(n)}(e);const n=getComponentDef(e);return new ComponentFactory(n,this.ngModule)}}function toRefArray(e){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];void 0!==o&&n.push({propName:Array.isArray(o)?o[0]:o,templateName:r})}return n}class ChainedInjector{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=convertToBitFlags(r);const o=this.injector.get(e,zn,r);return o!==zn||n===zn?o:this.parentInjector.get(e,n,r)}}class ComponentFactory extends ComponentFactory$1{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=toRefArray(e.inputs);if(null!==n)for(const e of r)n.hasOwnProperty(e.propName)&&(e.transform=n[e.propName]);return r}get outputs(){return toRefArray(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=stringifyCSSSelectorList(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){const i=setActiveConsumer(null);try{var s,a;if(ngDevMode&&("undefined"==typeof ngJitMode||ngJitMode)&&null!==(s=this.componentDef.debugInfo)&&void 0!==s&&s.forbidOrphanRendering&&Jn.isOrphanComponent(this.componentType))throw new RuntimeError(1001,`Orphan component found! Trying to render the component ${function debugStringifyTypeForError(e){let n=e[W]||null;return null!==n&&n.debugInfo?function stringifyTypeFromDebugInfo(e){return e.filePath&&e.lineNumber?`${e.className} (at ${e.filePath}:${e.lineNumber})`:e.className}(n.debugInfo):stringifyForError(e)}(this.componentType)} without first loading the NgModule that declares it. It is recommended to make this component standalone in order to avoid this error. If this is not possible now, import the component's NgModule in the appropriate NgModule, or the standalone component in which you are trying to render this component. If this is a lazy import, load the NgModule lazily as well and use its module injector.`);let i=(o=o||this.ngModule)instanceof EnvironmentInjector?o:null===(a=o)||void 0===a?void 0:a.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const c=i?new ChainedInjector(e,i):e,u=c.get(RendererFactory2,null);if(null===u)throw new RuntimeError(407,ngDevMode&&"Angular was not able to inject a renderer (RendererFactory2). Likely this is due to a broken DI hierarchy. Make sure that any injector used to create this component has a correct parent.");const p=c.get(Gn,null),f=c.get(Xn,null),g={rendererFactory:u,sanitizer:p,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:c.get(ChangeDetectionScheduler,null)},v=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",b=r?locateHostElement(v,r,this.componentDef.encapsulation,c):createElementNode(v,C,function getNamespace(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?mt:null}(C));let w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let A=null;null!==b&&(A=retrieveHydrationInfo(b,c,!0));const _=createTView(0,null,null,1,0,null,null,null,null,null,null),E=createLView(null,_,null,w,null,null,g,v,c,null,A);let I,T;enterView(E);try{const e=this.componentDef;let o,i=null;e.findHostDirectiveDefs?(o=[],i=new Map,e.findHostDirectiveDefs(e,o,i),o.push(e),ngDevMode&&assertNoDuplicateDirectives(o)):o=[e];const s=function createRootComponentView(e,n,r,o,i,s,a){const c=i[He];!function applyRootComponentStyling(e,n,r,o){for(const r of e)n.mergedAttrs=mergeHostAttrs(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(computeStaticStyling(n,n.mergedAttrs,!0),null!==r&&setupStaticAttributes(o,r,n))}(o,e,n,a);let u=null;null!==n&&(u=retrieveHydrationInfo(n,i[qe]));const p=s.rendererFactory.createRenderer(n,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const g=createLView(i,getOrCreateComponentTView(r),null,f,i[e.index],e,s,p,null,null,u);c.firstCreatePass&&markAsComponentHost(c,e,o.length-1);return addToViewTree(i,g),i[e.index]=g}(function createRootComponentTNode(e,n){const r=e[He],o=at;return ngDevMode&&assertIndexInRange(e,o),e[o]=n,getOrCreateTNode(r,o,2,"#host",null)}(E,b),b,e,o,E,g,v);T=getTNode(_,at),b&&function setRootNodeAttributes(e,n,r,o){if(o)setUpAttributes(e,r,["ng-version","17.3.12"]);else{const{attrs:o,classes:i}=function extractAttrsAndClassesFromSelector(e){const n=[],r=[];let o=1,i=2;for(;o<e.length;){let s=e[o];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++o]):8===i&&r.push(s);else{if(!isPositive(i))break;i=s}o++}return{attrs:n,classes:r}}(n.selectors[0]);o&&setUpAttributes(e,r,o),i&&i.length>0&&writeDirectClass(e,r,i.join(" "))}}(v,e,b,r),void 0!==n&&function projectNodes(e,n,r){const o=e.projection=[];for(let e=0;e<n.length;e++){const n=r[e];o.push(null!=n?Array.from(n):null)}}(T,this.ngContentSelectors,n),I=function createRootComponent(e,n,r,o,i,s){const a=getCurrentTNode();ngDevMode&&assertDefined(a,"tNode should have been already created");const c=i[He],u=getNativeByTNode(a,i);initializeDirectives(c,i,a,r,null,o);for(let e=0;e<r.length;e++){attachPatchData(getNodeInjectable(i,c,a.directiveStart+e,a),i)}invokeDirectivesHostBindings(c,i,a),u&&attachPatchData(u,i);ngDevMode&&assertGreaterThan(a.componentOffset,-1,"componentOffset must be great than -1");const p=getNodeInjectable(i,c,a.directiveStart+a.componentOffset,a);if(e[ze]=i[ze]=p,null!==s)for(const e of s)e(p,n);return executeContentQueries(c,a,i),p}(s,e,o,i,E,[LifecycleHooksFeature]),renderView(_,E,null)}finally{leaveView()}return new ComponentRef(this.componentType,I,createElementRef(T,E),E,T)}finally{setActiveConsumer(i)}}}class ComponentRef extends ComponentRef$1{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ViewRef$1(o,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){var i;if(null!==(i=this.previousInputValues)&&void 0!==i?i:this.previousInputValues=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const r=this._rootLView;setInputsForProperty(r[He],r,o,e,n),this.previousInputValues.set(e,n);markViewDirty(getComponentLViewByIndex(this._tNode.index,r))}else if(ngDevMode){let n=`Can't set value of the '${e}' input on the '${stringifyForError(this.componentType)}' component. `;n+=`Make sure that the '${e}' property is annotated with @Input() or a mapped @Input('${e}') exists.`,reportUnknownPropertyError(n)}}get injector(){return new NodeInjector(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function LifecycleHooksFeature(){const e=getCurrentTNode();ngDevMode&&assertDefined(e,"TNode is required"),registerPostOrderHooks(getLView()[He],e)}let Zn=(()=>{class ViewContainerRef{}return ViewContainerRef.__NG_ELEMENT_ID__=injectViewContainerRef,ViewContainerRef})();function injectViewContainerRef(){return createContainerRef(getCurrentTNode(),getLView())}const er=Zn,tr=class ViewContainerRef extends er{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return createElementRef(this._hostTNode,this._hostLView)}get injector(){return new NodeInjector(this._hostTNode,this._hostLView)}get parentInjector(){const e=getParentInjectorLocation(this._hostTNode,this._hostLView);if(hasParentInjector(e)){const n=getParentInjectorView(e,this._hostLView),r=getParentInjectorIndex(e);ngDevMode&&assertNodeInjector(n,r);return new NodeInjector(n[He].data[r+8],n)}return new NodeInjector(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=getViewRefs(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(e,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=findMatchingDehydratedView(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,shouldAddViewToDom(this._hostTNode,s)),a}createComponent(e,n,r,o,i){var s,a,c;const u=e&&!isType(e);let p;if(u)ngDevMode&&assertEqual("object"!=typeof n,!0,"It looks like Component factory was provided as the first argument and an options object as the second argument. This combination of arguments is incompatible. You can either change the first argument to provide Component type or change the second argument to be a number (representing an index at which to insert the new component's host view into this container)"),p=n;else{ngDevMode&&(assertDefined(getComponentDef(e),"Provided Component class doesn't contain Component definition. Please check whether provided class has @Component decorator."),assertEqual("number"!=typeof n,!0,"It looks like Component type was provided as the first argument and a number (representing an index at which to insert the new component's host view into this container as the second argument. This combination of arguments is incompatible. Please use an object as the second argument instead."));const s=n||{};ngDevMode&&s.environmentInjector&&s.ngModuleRef&&throwError("Cannot pass both environmentInjector and ngModuleRef options to createComponent()."),p=s.index,r=s.injector,o=s.projectableNodes,i=s.environmentInjector||s.ngModuleRef}const f=u?e:new ComponentFactory(getComponentDef(e)),g=r||this.parentInjector;if(!i&&null==f.ngModule){const e=(u?g:this.parentInjector).get(EnvironmentInjector,null);e&&(i=e)}const v=getComponentDef(null!==(s=f.componentType)&&void 0!==s?s:{}),C=findMatchingDehydratedView(this._lContainer,null!==(a=null==v?void 0:v.id)&&void 0!==a?a:null),b=null!==(c=null==C?void 0:C.firstChild)&&void 0!==c?c:null,w=f.create(g,o,b,i);return this.insertImpl(w.hostView,p,shouldAddViewToDom(this._hostTNode,C)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const o=e._lView;if(ngDevMode&&e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(function viewAttachedToContainer(e){return isLContainer(e[Be])}(o)){const n=this.indexOf(e);if(-1!==n)this.detach(n);else{const n=o[Be];ngDevMode&&assertEqual(isLContainer(n),!0,"An attached view should have its PARENT point to a container.");const r=new tr(n,n[je],n[Be]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(n),s=this._lContainer;return addLViewToLContainer(s,o,i,r),e.attachToViewContainerRef(),addToArray(getOrCreateViewRefs(s),i,e),e}move(e,n){if(ngDevMode&&e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,n)}indexOf(e){const n=getViewRefs(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=detachView(this._lContainer,n);r&&(removeFromArray(getOrCreateViewRefs(this._lContainer),n),destroyLView(r[He],r))}detach(e){const n=this._adjustIndex(e,-1),r=detachView(this._lContainer,n);return r&&null!=removeFromArray(getOrCreateViewRefs(this._lContainer),n)?new ViewRef$1(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:(ngDevMode&&(assertGreaterThan(e,-1,`ViewRef index must be positive, got ${e}`),assertLessThan(e,this.length+1+n,"index")),e)}};function getViewRefs(e){return e[8]}function getOrCreateViewRefs(e){return e[8]||(e[8]=[])}function createContainerRef(e,n){let r;ngDevMode&&assertTNodeType(e,15);const o=n[e.index];return isLContainer(o)?r=o:(r=createLContainer(o,n,null,e),n[e.index]=r,addToViewTree(n,r)),nr(r,n,e,o),new tr(r,e,n)}let nr=createAnchorNode,_populateDehydratedViewsInLContainer=()=>!1;function populateDehydratedViewsInLContainer(e,n,r){return _populateDehydratedViewsInLContainer(e,n,r)}function createAnchorNode(e,n,r,o){if(e[dt])return;let i;i=8&r.type?unwrapRNode(o):function insertAnchorNode(e,n){const r=e[Ke];ngDevMode&&ngDevMode.rendererCreateComment++;const o=r.createComment(ngDevMode?"container":""),i=getNativeByTNode(n,e);return nativeInsertBefore(r,nativeParentNode(r,i),o,function nativeNextSibling(e,n){return e.nextSibling(n)}(r,i),!1),o}(n,r),e[dt]=i}class LQuery_{constructor(e){this.queryList=e,this.matches=null}clone(){return new LQuery_(this.queryList)}setDirty(){this.queryList.setDirty()}}class LQueries_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,o=[];for(let e=0;e<r;e++){const r=n.getByIndex(e);o.push(this.queries[r.indexInDeclarationView].clone())}return new LQueries_(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==getTQuery(e,n).matches&&this.queries[n].setDirty()}}class TQueryMetadata_{constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function splitQueryMultiSelectors(e){return e.split(",").map((e=>e.trim()))}(e):e}}class TQueries_{constructor(e=[]){this.queries=e}elementStart(e,n){ngDevMode&&assertFirstCreatePass(e,"Queries should collect results on the first template pass only");for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new TQueries_(n):null}template(e,n){ngDevMode&&assertFirstCreatePass(e,"Queries should collect results on the first template pass only");for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return ngDevMode&&assertIndexInRange(this.queries,e),this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class TQuery_{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new TQuery_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,n,getIdxOfMatchingSelector(n,i)),this.matchTNodeWithReadOption(e,n,locateDirectiveOrProvider(n,e,i,!1,!1))}else r===Hn?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,locateDirectiveOrProvider(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Nt||o===Zn||o===Hn&&4&n.type)this.addMatch(n.index,-2);else{const r=locateDirectiveOrProvider(n,e,o,!1,!1);null!==r&&this.addMatch(n.index,r)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function getIdxOfMatchingSelector(e,n){const r=e.localNames;if(null!==r)for(let e=0;e<r.length;e+=2)if(r[e]===n)return r[e+1];return null}function createResultForNode(e,n,r,o){return-1===r?function createResultByTNodeType(e,n){return 11&e.type?createElementRef(e,n):4&e.type?createTemplateRef(e,n):null}(n,e):-2===r?function createSpecialToken(e,n,r){if(r===Nt)return createElementRef(n,e);if(r===Hn)return createTemplateRef(n,e);if(r===Zn)return ngDevMode&&assertTNodeType(n,15),createContainerRef(n,e);ngDevMode&&throwError(`Special token to read should be one of ElementRef, TemplateRef or ViewContainerRef but got ${stringify(r)}.`)}(e,n,o):getNodeInjectable(e,e[He],r,n)}function materializeViewResults(e,n,r,o){const i=n[tt].queries[o];if(null===i.matches){const o=e.data,s=r.matches,a=[];for(let e=0;null!==s&&e<s.length;e+=2){const i=s[e];if(i<0)a.push(null);else{ngDevMode&&assertIndexInRange(o,i);a.push(createResultForNode(n,o[i],s[e+1],r.metadata.read))}}i.matches=a}return i.matches}function collectQueryResults(e,n,r,o){const i=e.queries.getByIndex(r),s=i.matches;if(null!==s){const a=materializeViewResults(e,n,i,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)o.push(a[e/2]);else{const i=s[e+1],a=n[-r];ngDevMode&&assertLContainer(a);for(let e=ut;e<a.length;e++){const n=a[e];n[Ze]===n[Be]&&collectQueryResults(n[He],n,i,o)}if(null!==a[ct]){const e=a[ct];for(let n=0;n<e.length;n++){const r=e[n];collectQueryResults(r[He],r,i,o)}}}}}return o}function loadQueryInternal(e,n){return ngDevMode&&assertDefined(e[tt],"LQueries should be defined when trying to load a query"),ngDevMode&&assertIndexInRange(e[tt].queries,n),e[tt].queries[n].queryList}function createLQuery(e,n,r){var o;const i=new QueryList(!(4&~r));!function storeCleanupWithContext(e,n,r,o){const i=getOrCreateLViewCleanup(n);ngDevMode&&assertDefined(r,"Cleanup context is mandatory when registering framework-level destroy hooks"),i.push(r),e.firstCreatePass?getOrCreateTViewCleanup(e).push(o,i.length-1):ngDevMode&&Object.freeze(getOrCreateTViewCleanup(e))}(e,n,i,i.destroy);return(null!==(o=n[tt])&&void 0!==o?o:n[tt]=new LQueries_).queries.push(new LQuery_(i))-1}function createViewQuery(e,n,r){ngDevMode&&assertNumber(n,"Expecting flags");const o=getTView();return o.firstCreatePass&&(createTQuery(o,new TQueryMetadata_(e,n,r),-1),2&~n||(o.staticViewQueries=!0)),createLQuery(o,getLView(),n)}function createContentQuery(e,n,r,o){ngDevMode&&assertNumber(r,"Expecting flags");const i=getTView();if(i.firstCreatePass){const s=getCurrentTNode();createTQuery(i,new TQueryMetadata_(n,r,o),s.index),function saveContentQueryAndDirectiveIndex(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(i,e),2&~r||(i.staticContentQueries=!0)}return createLQuery(i,getLView(),r)}function createTQuery(e,n,r){null===e.queries&&(e.queries=new TQueries_),e.queries.track(new TQuery_(n,r))}function getTQuery(e,n){return ngDevMode&&assertDefined(e.queries,"TQueries must be defined to retrieve a TQuery"),e.queries.getByIndex(n)}function getQueryResults(e,n){const r=e[He],o=getTQuery(r,n);return o.crossesNgTemplate?collectQueryResults(r,e,n,[]):materializeViewResults(r,e,o,n)}function isSignal(e){return"function"==typeof e&&void 0!==e[c]}function signal(e,n){performanceMarkFeature("NgSignals");const r=function createSignal(e){const n=Object.create(w);n.value=e;const getter=()=>(producerAccessed(n),n.value);return getter[c]=n,getter}(e),o=r[c];return null!=n&&n.equal&&(o.equal=n.equal),r.set=e=>signalSetFn(o,e),r.update=e=>function signalUpdateFn(e,n){producerUpdatesAllowed()||throwInvalidWriteToSignalError(),signalSetFn(e,n(e.value))}(o,e),r.asReadonly=signalAsReadonlyFn.bind(r),ngDevMode&&(r.toString=()=>`[Signal: ${r()}]`),r}function signalAsReadonlyFn(){const e=this[c];if(void 0===e.readonlyFn){const readonlyFn=()=>this();readonlyFn[c]=e,e.readonlyFn=readonlyFn}return e.readonlyFn}function isWritableSignal(e){return isSignal(e)&&"function"==typeof e.set}function bindQueryToSignal(e,n){const r=e[c];r._lView=getLView(),r._queryIndex=n,r._queryList=loadQueryInternal(r._lView,n),r._queryList.onDirty((()=>r._dirtyCounter.update((e=>e+1))))}function createModelSignal(e){const n=Object.create(F),r=new OutputEmitterRef;function getter(){return producerAccessed(n),assertModelSet(n.value),n.value}return n.value=e,getter[c]=n,getter.asReadonly=signalAsReadonlyFn.bind(getter),getter.set=e=>{n.equal(n.value,e)||(signalSetFn(n,e),r.emit(e))},getter.update=e=>{assertModelSet(n.value),getter.set(e(n.value))},getter.subscribe=r.subscribe.bind(r),getter.destroyRef=r.destroyRef,ngDevMode&&(getter.toString=()=>`[Model Signal: ${getter()}]`),getter}function assertModelSet(e){if(e===x)throw new RuntimeError(-952,ngDevMode&&"Model is required but no value is available yet.")}function modelFunction(e){return ngDevMode&&assertInInjectionContext(rr),createModelSignal(e)}function modelRequiredFunction(){return ngDevMode&&assertInInjectionContext(rr),createModelSignal(x)}const rr=(()=>(modelFunction.required=modelRequiredFunction,modelFunction))();function resolveComponentResources(e){const n=[],r=new Map;function cachedResourceResolve(n){let o=r.get(n);if(!o){const i=e(n);r.set(n,o=i.then(unwrapResponse))}return o}return or.forEach(((e,r)=>{var o,i;const s=[];e.templateUrl&&s.push(cachedResourceResolve(e.templateUrl).then((n=>{e.template=n})));const a="string"==typeof e.styles?[e.styles]:e.styles||[];if(e.styles=a,e.styleUrl&&null!==(o=e.styleUrls)&&void 0!==o&&o.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(null!==(i=e.styleUrls)&&void 0!==i&&i.length){const n=e.styles.length,r=e.styleUrls;e.styleUrls.forEach(((o,i)=>{a.push(""),s.push(cachedResourceResolve(o).then((s=>{a[n+i]=s,r.splice(r.indexOf(o),1),0==r.length&&(e.styleUrls=void 0)})))}))}else e.styleUrl&&s.push(cachedResourceResolve(e.styleUrl).then((n=>{a.push(n),e.styleUrl=void 0})));const c=Promise.all(s).then((()=>function componentDefResolved(e){ir.delete(e)}(r)));n.push(c)})),function clearResolutionOfComponentResourcesQueue(){const e=or;return or=new Map,e}(),Promise.all(n).then((()=>{}))}let or=new Map;const ir=new Set;function componentNeedsResolution(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length||e.styleUrl)}function unwrapResponse(e){return"string"==typeof e?e:e.text()}const sr=new Map;let ar=!0;function registerNgModuleType(e,n){!function assertSameOrNotExisting(e,n,r){if(n&&n!==r&&ar)throw new Error(`Duplicate module registered for ${e} - ${stringify(n)} vs ${stringify(n.name)}`)}(n,sr.get(n)||null,e),sr.set(n,e)}function ɵɵvalidateIframeAttribute(e,n,r){const o=getLView(),i=getSelectedTNode(),s=getNativeByTNode(i,o);if(2===i.type&&"iframe"===n.toLowerCase()){const e=s;e.src="",e.srcdoc=trustedHTMLFromString(""),nativeRemoveNode(o[Ke],e);const n=ngDevMode&&`Angular has detected that the \`${r}\` was applied as a binding to an <iframe>${getTemplateLocationDetails(o)}. For security reasons, the \`${r}\` can be set on an <iframe> as a static attribute only. \nTo fix this, switch the \`${r}\` binding to a static attribute in a template or in host bindings section.`;throw new RuntimeError(-910,n)}return e}function getSuperType(e){return Object.getPrototypeOf(e.prototype).constructor}function ɵɵInheritDefinitionFeature(e){let n=getSuperType(e.type),r=!0;const o=[e];for(;n;){let i;if(isComponentDef(e))i=n.ɵcmp||n.ɵdir;else{if(n.ɵcmp)throw new RuntimeError(903,ngDevMode&&`Directives cannot inherit Components. Directive ${stringifyForError(e.type)} is attempting to extend component ${stringifyForError(n)}`);i=n.ɵdir}if(i){if(r){o.push(i);const n=e;n.inputs=maybeUnwrapEmpty(e.inputs),n.inputTransforms=maybeUnwrapEmpty(e.inputTransforms),n.declaredInputs=maybeUnwrapEmpty(e.declaredInputs),n.outputs=maybeUnwrapEmpty(e.outputs);const r=i.hostBindings;r&&inheritHostBindings(e,r);const s=i.viewQuery,a=i.contentQueries;if(s&&inheritViewQuery(e,s),a&&inheritContentQueries(e,a),mergeInputsWithTransforms(e,i),fillProperties(e.outputs,i.outputs),isComponentDef(i)&&i.data.animation){const n=e.data;n.animation=(n.animation||[]).concat(i.data.animation)}}const n=i.features;if(n)for(let o=0;o<n.length;o++){const i=n[o];i&&i.ngInherit&&i(e),i===ɵɵInheritDefinitionFeature&&(r=!1)}}n=Object.getPrototypeOf(n)}!function mergeHostAttrsAcrossInheritance(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const i=e[o];i.hostVars=n+=i.hostVars,i.hostAttrs=mergeHostAttrs(i.hostAttrs,r=mergeHostAttrs(r,i.hostAttrs))}}(o)}function mergeInputsWithTransforms(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o))continue;if(e.inputs.hasOwnProperty(o))continue;const i=n.inputs[o];if(void 0!==i&&(e.inputs[o]=i,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var r;const o=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(o))continue;null!==(r=e.inputTransforms)&&void 0!==r?r:e.inputTransforms={},e.inputTransforms[o]=n.inputTransforms[o]}}}function maybeUnwrapEmpty(e){return e===fe?{}:e===ge?[]:e}function inheritViewQuery(e,n){const r=e.viewQuery;e.viewQuery=r?(e,o)=>{n(e,o),r(e,o)}:n}function inheritContentQueries(e,n){const r=e.contentQueries;e.contentQueries=r?(e,o,i)=>{n(e,o,i),r(e,o,i)}:n}function inheritHostBindings(e,n){const r=e.hostBindings;e.hostBindings=r?(e,o)=>{n(e,o),r(e,o)}:n}const lr=["providersResolver"],dr=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ɵɵCopyDefinitionFeature(e){let n,r=getSuperType(e.type);n=isComponentDef(e)?r.ɵcmp:r.ɵdir;const o=e;for(const e of lr)o[e]=n[e];if(isComponentDef(n))for(const e of dr)o[e]=n[e]}function ɵɵHostDirectivesFeature(e){const feature=n=>{const r=(Array.isArray(e)?e:e()).map((e=>"function"==typeof e?{directive:resolveForwardRef(e),inputs:fe,outputs:fe}:{directive:resolveForwardRef(e.directive),inputs:bindingArrayToMap(e.inputs),outputs:bindingArrayToMap(e.outputs)}));null===n.hostDirectives?(n.findHostDirectiveDefs=findHostDirectiveDefs,n.hostDirectives=r):n.hostDirectives.unshift(...r)};return feature.ngInherit=!0,feature}function findHostDirectiveDefs(e,n,r){if(null!==e.hostDirectives)for(const o of e.hostDirectives){const e=getDirectiveDef(o.directive);("undefined"==typeof ngDevMode||ngDevMode)&&validateHostDirective(o,e),patchDeclaredInputs(e.declaredInputs,o.inputs),findHostDirectiveDefs(e,n,r),r.set(e,o),n.push(e)}}function bindingArrayToMap(e){if(void 0===e||0===e.length)return fe;const n={};for(let r=0;r<e.length;r+=2)n[e[r]]=e[r+1];return n}function patchDeclaredInputs(e,n){for(const r in n)if(n.hasOwnProperty(r)){const o=n[r],i=e[r];("undefined"==typeof ngDevMode||ngDevMode)&&e.hasOwnProperty(o)&&assertEqual(e[o],e[r],`Conflicting host directive input alias ${r}.`),e[o]=i}}function validateHostDirective(e,n){const r=e.directive;if(null===n){if(null!==getComponentDef(r))throw new RuntimeError(310,`Host directive ${r.name} cannot be a component.`);throw new RuntimeError(307,`Could not resolve metadata for host directive ${r.name}. Make sure that the ${r.name} class is annotated with an @Directive decorator.`)}if(!n.standalone)throw new RuntimeError(308,`Host directive ${n.type.name} must be standalone.`);validateMappings("input",n,e.inputs),validateMappings("output",n,e.outputs)}function validateMappings(e,n,r){const o=n.type.name,i="input"===e?n.inputs:n.outputs;for(const n in r)if(r.hasOwnProperty(n)){if(!i.hasOwnProperty(n))throw new RuntimeError(311,`Directive ${o} does not have an ${e} with a public name of ${n}.`);const s=r[n];if(i.hasOwnProperty(s)&&s!==n)throw new RuntimeError(312,`Cannot alias ${e} ${n} of host directive ${o} to ${s}, because it already has a different ${e} with the same public name.`)}}function ɵɵInputTransformsFeature(e){const n=e.inputConfig,r={};for(const e in n)if(n.hasOwnProperty(e)){const o=n[e];Array.isArray(o)&&o[3]&&(r[e]=o[3])}e.inputTransforms=r}class NgModuleRef$1{}class NgModuleFactory$1{}function createNgModule(e,n){return new NgModuleRef(e,null!=n?n:null,[])}class NgModuleRef extends NgModuleRef$1{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ComponentFactoryResolver(this);const o=getNgModuleDef(e);ngDevMode&&assertDefined(o,`NgModule '${stringify(e)}' is not a subtype of 'NgModuleType'.`),this._bootstrapComponents=maybeUnwrapFn(o.bootstrap),this._r3Injector=createInjectorWithoutInjectorInstances(e,n,[{provide:NgModuleRef$1,useValue:this},{provide:jn,useValue:this.componentFactoryResolver},...r],stringify(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){ngDevMode&&assertDefined(this.destroyCbs,"NgModule already destroyed");const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){ngDevMode&&assertDefined(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)}}class NgModuleFactory extends NgModuleFactory$1{constructor(e){super(),this.moduleType=e}create(e){return new NgModuleRef(this.moduleType,e,[])}}class EnvironmentNgModuleRefAdapter extends NgModuleRef$1{constructor(e){super(),this.componentFactoryResolver=new ComponentFactoryResolver(this),this.instance=null;const n=new R3Injector([...e.providers,{provide:NgModuleRef$1,useValue:this},{provide:jn,useValue:this.componentFactoryResolver}],e.parent||getNullInjector(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function createEnvironmentInjector(e,n,r=null){return new EnvironmentNgModuleRefAdapter({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let cr=(()=>{var e;class CachedInjectorService{constructor(){this.cachedInjectors=new Map}getOrCreateInjector(e,n,r,o){if(!this.cachedInjectors.has(e)){const i=r.length>0?createEnvironmentInjector(r,n,o):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return(e=CachedInjectorService).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"environment",factory:()=>new e}),CachedInjectorService})();function setClassMetadata(e,n,r,o){return noSideEffects((()=>{const i=e;null!==n&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...n):i.decorators=n),null!==r&&(i.ctorParameters=r),null!==o&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?{...i.propDecorators,...o}:o)}))}let ur=(()=>{var e;class PendingTasks{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new I.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=PendingTasks).ɵfac=function PendingTasks_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),PendingTasks})();function isListLikeIterable(e){return!!isJsObject(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function devModeEqual(e,n){const r=isListLikeIterable(e),o=isListLikeIterable(n);if(r&&o)return function areIterablesEqual(e,n,r){const o=e[Symbol.iterator](),i=n[Symbol.iterator]();for(;;){const e=o.next(),n=i.next();if(e.done&&n.done)return!0;if(e.done||n.done)return!1;if(!r(e.value,n.value))return!1}}(e,n,devModeEqual);return!(r||!(e&&("object"==typeof e||"function"==typeof e))||o||!(n&&("object"==typeof n||"function"==typeof n)))||Object.is(e,n)}function updateBinding(e,n,r){return e[n]=r}function getBinding(e,n){return ngDevMode&&assertIndexInRange(e,n),ngDevMode&&assertNotSame(e[n],Rn,"Stored value should never be NO_CHANGE."),e[n]}function bindingUpdated(e,n,r){ngDevMode&&assertNotSame(r,Rn,"Incoming value should never be NO_CHANGE."),ngDevMode&&assertLessThan(n,e.length,"Slot should have been initialized to NO_CHANGE");const o=e[n];if(Object.is(o,r))return!1;if(ngDevMode&&isInCheckNoChangesMode()){const i=o!==Rn?o:void 0;if(!devModeEqual(i,r)){const s=function getExpressionChangedErrorDetails(e,n,r,o){const i=e[He].data,s=i[n];if("string"==typeof s)return s.indexOf(Tn)>-1?constructDetailsForInterpolation(e,n,n,s,o):{propName:s,oldValue:r,newValue:o};if(null===s){let r=n-1;for(;"string"!=typeof i[r]&&null===i[r+1];)r--;const s=i[r];if("string"==typeof s){const i=s.match(new RegExp(Tn,"g"));if(i&&i.length-1>n-r)return constructDetailsForInterpolation(e,r,n,s,o)}}return{propName:void 0,oldValue:r,newValue:o}}(e,n,i,r);!function throwErrorIfNoChangesMode(e,n,r,o,i){var s;const a=getDeclarationComponentDef(i),c=null==a||null===(s=a.type)||void 0===s?void 0:s.name;let u=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value${o?` for '${o}'`:""}: '${formatValue(n)}'. Current value: '${formatValue(r)}'.${c?` Expression location: ${c} component`:""}`;throw e&&(u+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook?"),new RuntimeError(-100,u)}(o===Rn,s.oldValue,s.newValue,s.propName,e)}return!1}return e[n]=r,!0}function bindingUpdated2(e,n,r,o){const i=bindingUpdated(e,n,r);return bindingUpdated(e,n+1,o)||i}function bindingUpdated3(e,n,r,o,i){const s=bindingUpdated2(e,n,r,o);return bindingUpdated(e,n+2,i)||s}function bindingUpdated4(e,n,r,o,i,s){const a=bindingUpdated2(e,n,r,o);return bindingUpdated2(e,n+2,i,s)||a}function isDetachedByI18n(e){return!(32&~e.flags)}function ɵɵtemplate(e,n,r,o,i,s,a,c){const u=getLView(),p=getTView(),f=e+at,g=p.firstCreatePass?function templateFirstCreatePass(e,n,r,o,i,s,a,c,u){ngDevMode&&assertFirstCreatePass(n),ngDevMode&&ngDevMode.firstCreatePass++;const p=n.consts,f=getOrCreateTNode(n,e,4,a||null,getConstant(p,c));resolveDirectives(n,r,f,getConstant(p,u)),registerPostOrderHooks(n,f);const g=f.tView=createTView(2,f,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,p,null);return null!==n.queries&&(n.queries.template(n,f),g.queries=n.queries.embeddedTView(f)),f}(f,p,u,n,r,o,i,s,a):p.data[f];setCurrentTNode(g,!1);const v=pr(p,u,g,e);wasLastNodeCreated()&&appendChild(p,u,v,g),attachPatchData(v,u);const C=createLContainer(v,u,v,g);return u[f]=C,addToViewTree(u,C),populateDehydratedViewsInLContainer(C,g,u),isDirectiveHost(g)&&createDirectivesInstances(p,u,g),null!=a&&saveResolvedLocalsInData(u,g,c),ɵɵtemplate}(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(ur,[{type:Pt,args:[{providedIn:"root"}]}],null,null)})();let pr=createContainerAnchorImpl;function createContainerAnchorImpl(e,n,r,o){return lastNodeWasCreated(!0),n[Ke].createComment(ngDevMode?"container":"")}var fr=function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e}(fr||{});var gr=function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}(gr||{}),mr=function(e){return e[e.Initial=-1]="Initial",e}(mr||{});var hr=function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e}(hr||{});function storeTriggerCleanupFn(e,n,r){const o=1===e?5:4;null===n[o]&&(n[o]=[]),n[o].push(r)}function invokeTriggerCleanupFns(e,n){const r=1===e?5:4,o=n[r];if(null!==o){for(const e of o)e();n[r]=null}}function invokeAllTriggerCleanupFns(e){invokeTriggerCleanupFns(1,e),invokeTriggerCleanupFns(0,e)}function getDeferBlockDataIndex(e){return e+1}function getLDeferBlockDetails(e,n){const r=e[He],o=getDeferBlockDataIndex(n.index);return ngDevMode&&assertIndexInDeclRange(r,o),e[o]}function getTDeferBlockDetails(e,n){const r=getDeferBlockDataIndex(n.index);return ngDevMode&&assertIndexInDeclRange(e,r),e.data[r]}function getMinimumDurationForState(e,n){var r,o,i,s;return n===gr.Placeholder?null!==(r=null===(o=e.placeholderBlockConfig)||void 0===o?void 0:o[0])&&void 0!==r?r:null:n===gr.Loading&&null!==(i=null===(s=e.loadingBlockConfig)||void 0===s?void 0:s[0])&&void 0!==i?i:null}function getLoadingBlockAfter(e){var n,r;return null!==(n=null===(r=e.loadingBlockConfig)||void 0===r?void 0:r[1])&&void 0!==n?n:null}function addDepsToRegistry(e,n){if(!e||0===e.length)return n;const r=new Set(e);for(const e of n)r.add(e);return e.length===r.size?e:Array.from(r)}function assertDeferredDependenciesLoaded(e){assertEqual(e.loadingState,fr.COMPLETE,"Expecting all deferred dependencies to be loaded.")}const vr={passive:!0,capture:!0},yr=new WeakMap,Cr=new WeakMap,br=new WeakMap,wr=["click","keydown"],Sr=["mouseenter","focusin"];let Ar=null,_r=0;class DeferEventEntry{constructor(){this.callbacks=new Set,this.listener=()=>{for(const e of this.callbacks)e()}}}function onInteraction(e,n){let r=Cr.get(e);if(!r){r=new DeferEventEntry,Cr.set(e,r);for(const n of wr)e.addEventListener(n,r.listener,vr)}return r.callbacks.add(n),()=>{const{callbacks:o,listener:i}=r;if(o.delete(n),0===o.size){Cr.delete(e);for(const n of wr)e.removeEventListener(n,i,vr)}}}function onHover(e,n){let r=yr.get(e);if(!r){r=new DeferEventEntry,yr.set(e,r);for(const n of Sr)e.addEventListener(n,r.listener,vr)}return r.callbacks.add(n),()=>{const{callbacks:o,listener:i}=r;if(o.delete(n),0===o.size){for(const n of Sr)e.removeEventListener(n,i,vr);yr.delete(e)}}}function onViewport(e,n,r){const o=r.get(NgZone);let i=br.get(e);return Ar=Ar||o.runOutsideAngular((()=>new IntersectionObserver((e=>{for(const n of e)n.isIntersecting&&br.has(n.target)&&o.run(br.get(n.target).listener)})))),i||(i=new DeferEventEntry,o.runOutsideAngular((()=>Ar.observe(e))),br.set(e,i),_r++),i.callbacks.add(n),()=>{if(br.has(e)){var r,o;if(i.callbacks.delete(n),0===i.callbacks.size)null===(r=Ar)||void 0===r||r.unobserve(e),br.delete(e),_r--;if(0===_r)null===(o=Ar)||void 0===o||o.disconnect(),Ar=null}}}function getTriggerElement(e,n){const r=getNativeByIndex(at+n,e);return ngDevMode&&function assertElement(e){e instanceof Element||throwError(`The provided value must be an element but got ${stringify(e)}`)}(r),r}function registerDomTrigger(e,n,r,o,i,s,a){const c=e[qe];internalAfterNextRender((function pollDomTrigger(){if(isDestroyed(e))return;const u=getLDeferBlockDetails(e,n),p=u[1];if(p!==mr.Initial&&p!==gr.Placeholder)return;const f=function getTriggerLView(e,n,r){var o;if(null==r)return e;if(r>=0)return walkUpViews(r,e);const i=e[n.index];ngDevMode&&assertLContainer(i);const s=null!==(o=i[ut])&&void 0!==o?o:null;ngDevMode&&null!==s&&(assertEqual(getLDeferBlockDetails(e,n)[1],gr.Placeholder,"Expected a placeholder to be rendered in this defer block."),assertLView(s));return s}(e,n,o);if(!f)return internalAfterNextRender(pollDomTrigger,{injector:c}),void 0;if(isDestroyed(f))return;const g=getTriggerElement(f,r),v=i(g,(()=>{e!==f&&removeLViewOnDestroy(f,v),s()}),c);e!==f&&storeLViewOnDestroy(f,v),storeTriggerCleanupFn(a,u,v)}),{injector:c})}function onIdle(e,n){const r=n[qe].get(Er);return r.add(e),()=>r.remove(e)}let Er=(()=>{var e;class IdleScheduler{constructor(){this.executingCallbacks=!1,this.idleId=null,this.current=new Set,this.deferred=new Set,this.ngZone=inject(NgZone),this.requestIdleCallbackFn=("undefined"!=typeof requestIdleCallback?requestIdleCallback:setTimeout).bind(globalThis),this.cancelIdleCallbackFn=("undefined"!=typeof requestIdleCallback?cancelIdleCallback:clearTimeout).bind(globalThis)}add(e){(this.executingCallbacks?this.deferred:this.current).add(e),null===this.idleId&&this.scheduleIdleCallback()}remove(e){const{current:n,deferred:r}=this;n.delete(e),r.delete(e),0===n.size&&0===r.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const callback=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const e of this.current)e();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const e of this.deferred)this.current.add(e);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn((()=>this.ngZone.run(callback)))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}}return(e=IdleScheduler).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"root",factory:()=>new e}),IdleScheduler})();function onTimer(e){return(n,r)=>scheduleTimerTrigger(e,n,r)}function scheduleTimerTrigger(e,n,r){const o=r[qe].get(Ir);return o.add(e,n),()=>o.remove(n)}let Ir=(()=>{var e;class TimerScheduler{constructor(){this.executingCallbacks=!1,this.timeoutId=null,this.invokeTimerAt=null,this.current=[],this.deferred=[]}add(e,n){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+e,n),this.scheduleTimer()}remove(e){const{current:n,deferred:r}=this;-1===this.removeFromQueue(n,e)&&this.removeFromQueue(r,e),0===n.length&&0===r.length&&this.clearTimeout()}addToQueue(e,n,r){let o=e.length;for(let r=0;r<e.length;r+=2){if(e[r]>n){o=r;break}}arrayInsert2(e,o,n,r)}removeFromQueue(e,n){let r=-1;for(let o=0;o<e.length;o+=2){if(e[o+1]===n){r=o;break}}return r>-1&&arraySplice(e,r,2),r}scheduleTimer(){const callback=()=>{this.clearTimeout(),this.executingCallbacks=!0;const e=[...this.current],n=Date.now();for(let r=0;r<e.length;r+=2){const o=e[r+1];if(!(e[r]<=n))break;o()}let r=-1;for(let e=0;e<this.current.length;e+=2){if(!(this.current[e]<=n))break;r=e+1}if(r>=0&&arraySplice(this.current,0,r+1),this.executingCallbacks=!1,this.deferred.length>0){for(let e=0;e<this.deferred.length;e+=2){this.addToQueue(this.current,this.deferred[e],this.deferred[e+1])}this.deferred.length=0}this.scheduleTimer()};if(this.current.length>0){const e=Date.now(),n=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-n>16){this.clearTimeout();const r=Math.max(n-e,16);this.invokeTimerAt=n,this.timeoutId=setTimeout(callback,r)}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}}return(e=TimerScheduler).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"root",factory:()=>new e}),TimerScheduler})();const Dr=new InjectionToken("DEFER_BLOCK_DEPENDENCY_INTERCEPTOR"),Mr=new InjectionToken(ngDevMode?"DEFER_BLOCK_CONFIG":"");function shouldTriggerDeferBlock(e){const n=e.get(Mr,null,{optional:!0});return(null==n?void 0:n.behavior)!==hr.Manual&&isPlatformBrowser(e)}let Tr=null;function ɵɵdeferEnableTimerScheduling(e,n,r,o){const i=e.consts;null!=r&&(n.placeholderBlockConfig=getConstant(i,r)),null!=o&&(n.loadingBlockConfig=getConstant(i,o)),null===Tr&&(Tr=applyDeferBlockStateWithScheduling)}function ɵɵdefer(e,n,r,o,i,s,a,c,u){const p=getLView(),f=getTView(),g=e+at;if(ɵɵtemplate(e,null,0,0),f.firstCreatePass){performanceMarkFeature("NgDefer");const e={primaryTmplIndex:n,loadingTmplIndex:null!=o?o:null,placeholderTmplIndex:null!=i?i:null,errorTmplIndex:null!=s?s:null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:null!=r?r:null,loadingState:fr.NOT_STARTED,loadingPromise:null,providers:null};null==u||u(f,e,c,a),function setTDeferBlockDetails(e,n,r){const o=getDeferBlockDataIndex(n);ngDevMode&&assertIndexInDeclRange(e,o),e.data[o]=r}(f,g,e)}const v=getCurrentTNode();populateDehydratedViewsInLContainer(p[g],v,p);const C=[null,mr.Initial,null,null,null,null];!function setLDeferBlockDetails(e,n,r){const o=e[He],i=getDeferBlockDataIndex(n);ngDevMode&&assertIndexInDeclRange(o,i),e[i]=r}(p,g,C);const cleanupTriggersFn=()=>invokeAllTriggerCleanupFns(C);storeTriggerCleanupFn(0,C,(()=>removeLViewOnDestroy(p,cleanupTriggersFn))),storeLViewOnDestroy(p,cleanupTriggersFn)}function ɵɵdeferWhen(e){const n=getLView();if(bindingUpdated(n,nextBindingIndex(),e)){const r=setActiveConsumer(null);try{const r=Boolean(e),o=getSelectedTNode(),i=getLDeferBlockDetails(n,o)[1];!1===r&&i===mr.Initial?renderPlaceholder(n,o):!0!==r||i!==mr.Initial&&i!==gr.Placeholder||triggerDeferBlock(n,o)}finally{setActiveConsumer(r)}}}function ɵɵdeferPrefetchWhen(e){const n=getLView();if(bindingUpdated(n,nextBindingIndex(),e)){const r=setActiveConsumer(null);try{const r=Boolean(e),o=n[He],i=getSelectedTNode(),s=getTDeferBlockDetails(o,i);!0===r&&s.loadingState===fr.NOT_STARTED&&triggerPrefetching(s,n,i)}finally{setActiveConsumer(r)}}}function ɵɵdeferOnIdle(){scheduleDelayedTrigger(onIdle)}function ɵɵdeferPrefetchOnIdle(){scheduleDelayedPrefetching(onIdle)}function ɵɵdeferOnImmediate(){const e=getLView(),n=getCurrentTNode(),r=e[qe],o=getTDeferBlockDetails(e[He],n);shouldTriggerDeferBlock(r)&&null!==o.loadingTmplIndex||renderPlaceholder(e,n),triggerDeferBlock(e,n)}function ɵɵdeferPrefetchOnImmediate(){const e=getLView(),n=getCurrentTNode(),r=getTDeferBlockDetails(e[He],n);r.loadingState===fr.NOT_STARTED&&triggerResourceLoading(r,e,n)}function ɵɵdeferOnTimer(e){scheduleDelayedTrigger(onTimer(e))}function ɵɵdeferPrefetchOnTimer(e){scheduleDelayedPrefetching(onTimer(e))}function ɵɵdeferOnHover(e,n){const r=getLView(),o=getCurrentTNode();renderPlaceholder(r,o),registerDomTrigger(r,o,e,n,onHover,(()=>triggerDeferBlock(r,o)),0)}function ɵɵdeferPrefetchOnHover(e,n){const r=getLView(),o=getCurrentTNode(),i=getTDeferBlockDetails(r[He],o);i.loadingState===fr.NOT_STARTED&&registerDomTrigger(r,o,e,n,onHover,(()=>triggerPrefetching(i,r,o)),1)}function ɵɵdeferOnInteraction(e,n){const r=getLView(),o=getCurrentTNode();renderPlaceholder(r,o),registerDomTrigger(r,o,e,n,onInteraction,(()=>triggerDeferBlock(r,o)),0)}function ɵɵdeferPrefetchOnInteraction(e,n){const r=getLView(),o=getCurrentTNode(),i=getTDeferBlockDetails(r[He],o);i.loadingState===fr.NOT_STARTED&&registerDomTrigger(r,o,e,n,onInteraction,(()=>triggerPrefetching(i,r,o)),1)}function ɵɵdeferOnViewport(e,n){const r=getLView(),o=getCurrentTNode();renderPlaceholder(r,o),registerDomTrigger(r,o,e,n,onViewport,(()=>triggerDeferBlock(r,o)),0)}function ɵɵdeferPrefetchOnViewport(e,n){const r=getLView(),o=getCurrentTNode(),i=getTDeferBlockDetails(r[He],o);i.loadingState===fr.NOT_STARTED&&registerDomTrigger(r,o,e,n,onViewport,(()=>triggerPrefetching(i,r,o)),1)}function scheduleDelayedTrigger(e){const n=getLView(),r=getCurrentTNode();if(renderPlaceholder(n,r),isPlatformBrowser(n[qe])){const o=e((()=>triggerDeferBlock(n,r)),n);storeTriggerCleanupFn(0,getLDeferBlockDetails(n,r),o)}}function scheduleDelayedPrefetching(e){const n=getLView();if(isPlatformBrowser(n[qe])){const r=getCurrentTNode(),o=getTDeferBlockDetails(n[He],r);if(o.loadingState===fr.NOT_STARTED){storeTriggerCleanupFn(1,getLDeferBlockDetails(n,r),e((()=>triggerPrefetching(o,n,r)),n))}}}function renderDeferBlockState(e,n,r,o=!1){var i;const s=r[Be],a=s[He];if(isDestroyed(s))return;ngDevMode&&assertTNodeForLView(n,s);const c=getLDeferBlockDetails(s,n);ngDevMode&&assertDefined(c,"Expected a defer block state defined");if(isValidStateChange(c[1],e)&&isValidStateChange(null!==(i=c[0])&&void 0!==i?i:-1,e)){const i=s[qe],u=getTDeferBlockDetails(a,n),p=!o&&isPlatformBrowser(i)&&(null!==getLoadingBlockAfter(u)||null!==getMinimumDurationForState(u,gr.Loading)||getMinimumDurationForState(u,gr.Placeholder));ngDevMode&&p&&assertDefined(Tr,"Expected scheduling function to be defined");const f=p?Tr:applyDeferBlockState;try{f(e,c,r,n,s)}catch(e){handleError(s,e)}}}function applyDeferBlockState(e,n,r,o,i){const s=function getTemplateIndexForState(e,n,r){const o=getTDeferBlockDetails(n[He],r);switch(e){case gr.Complete:return o.primaryTmplIndex;case gr.Loading:return o.loadingTmplIndex;case gr.Error:return o.errorTmplIndex;case gr.Placeholder:return o.placeholderTmplIndex;default:return ngDevMode&&throwError(`Unexpected defer block state: ${e}`),null}}(e,i,o);if(null!==s){n[1]=e;const a=i[He],c=getTNode(a,s+at),u=0;let p;if(removeLViewFromLContainer(r,u),e===gr.Complete){const e=getTDeferBlockDetails(a,o),n=e.providers;if(n&&n.length>0){const r=i[qe],o=function isRouterOutletInjector(e){return e instanceof ChainedInjector&&"function"==typeof e.injector.__ngOutletInjector}(r),s=o?r:r.get(EnvironmentInjector);p=s.get(cr).getOrCreateInjector(e,s,n,ngDevMode?"DeferBlock Injector":""),o&&(p=function createRouterOutletInjector(e,n){return e.injector.__ngOutletInjector(n)}(r,p))}}const f=findMatchingDehydratedView(r,c.tView.ssrId),g=createAndRenderEmbeddedLView(i,c,null,{dehydratedView:f,injector:p});addLViewToLContainer(r,g,u,shouldAddViewToDom(c,f)),markViewDirty(g)}}function applyDeferBlockStateWithScheduling(e,n,r,o,i){const s=Date.now(),a=getTDeferBlockDetails(i[He],o);if(null===n[2]||n[2]<=s){n[2]=null;const c=getLoadingBlockAfter(a),u=null!==n[3];if(e!==gr.Loading||null===c||u){e>gr.Loading&&u&&(n[3](),n[3]=null,n[0]=null),applyDeferBlockState(e,n,r,o,i);const c=getMinimumDurationForState(a,e);null!==c&&(n[2]=s+c,scheduleDeferBlockUpdate(c,n,o,r,i))}else{n[0]=e;const s=scheduleDeferBlockUpdate(c,n,o,r,i);n[3]=s}}else n[0]=e}function scheduleDeferBlockUpdate(e,n,r,o,i){return scheduleTimerTrigger(e,(()=>{const e=n[0];n[2]=null,n[0]=null,null!==e&&renderDeferBlockState(e,r,o)}),i)}function isValidStateChange(e,n){return e<n}function triggerPrefetching(e,n,r){n[qe]&&shouldTriggerDeferBlock(n[qe])&&triggerResourceLoading(e,n,r)}function triggerResourceLoading(e,n,r){const o=n[qe],i=n[He];var s;if(e.loadingState!==fr.NOT_STARTED)return null!==(s=e.loadingPromise)&&void 0!==s?s:Promise.resolve();const a=getLDeferBlockDetails(n,r),c=function getPrimaryBlockTNode(e,n){return getTNode(e,n.primaryTmplIndex+at)}(i,e);e.loadingState=fr.IN_PROGRESS,invokeTriggerCleanupFns(1,a);let u=e.dependencyResolverFn;if(ngDevMode){const e=o.get(Dr,null,{optional:!0});e&&(u=e.intercept(u))}const p=o.get(ur),f=p.add();return u?(e.loadingPromise=Promise.allSettled(u()).then((r=>{let o=!1;const i=[],s=[];for(const e of r){if("fulfilled"!==e.status){o=!0;break}{const n=e.value,r=getComponentDef(n)||getDirectiveDef(n);if(r)i.push(r);else{const e=getPipeDef$1(n);e&&s.push(e)}}}if(e.loadingPromise=null,p.remove(f),o){if(e.loadingState=fr.FAILED,null===e.errorTmplIndex){const e=getTemplateLocationDetails(n),r=new RuntimeError(750,ngDevMode&&`Loading dependencies for \`@defer\` block failed, but no \`@error\` block was configured${e}. Consider using the \`@error\` block to render an error state.`);handleError(n,r)}}else{e.loadingState=fr.COMPLETE;const n=c.tView;if(i.length>0){n.directiveRegistry=addDepsToRegistry(n.directiveRegistry,i);const r=internalImportProvidersFrom(!1,...i.map((e=>e.type)));e.providers=r}s.length>0&&(n.pipeRegistry=addDepsToRegistry(n.pipeRegistry,s))}})),e.loadingPromise):(e.loadingPromise=Promise.resolve().then((()=>{e.loadingPromise=null,e.loadingState=fr.COMPLETE,p.remove(f)})),e.loadingPromise)}function renderPlaceholder(e,n){const r=e[n.index];ngDevMode&&assertLContainer(r),renderDeferBlockState(gr.Placeholder,n,r)}function renderDeferStateAfterResourceLoading(e,n,r){ngDevMode&&assertDefined(e.loadingPromise,"Expected loading Promise to exist on this defer block"),e.loadingPromise.then((()=>{e.loadingState===fr.COMPLETE?(ngDevMode&&assertDeferredDependenciesLoaded(e),renderDeferBlockState(gr.Complete,n,r)):e.loadingState===fr.FAILED&&renderDeferBlockState(gr.Error,n,r)}))}function triggerDeferBlock(e,n){const r=e[He],o=e[n.index],i=e[qe];if(ngDevMode&&assertLContainer(o),!shouldTriggerDeferBlock(i))return;const s=getLDeferBlockDetails(e,n),a=getTDeferBlockDetails(r,n);switch(invokeAllTriggerCleanupFns(s),a.loadingState){case fr.NOT_STARTED:renderDeferBlockState(gr.Loading,n,o),triggerResourceLoading(a,e,n),a.loadingState===fr.IN_PROGRESS&&renderDeferStateAfterResourceLoading(a,n,o);break;case fr.IN_PROGRESS:renderDeferBlockState(gr.Loading,n,o),renderDeferStateAfterResourceLoading(a,n,o);break;case fr.COMPLETE:ngDevMode&&assertDeferredDependenciesLoaded(a),renderDeferBlockState(gr.Complete,n,o);break;case fr.FAILED:renderDeferBlockState(gr.Error,n,o);break;default:ngDevMode&&throwError("Unknown defer block state")}}function ɵɵattribute(e,n,r,o){const i=getLView(),s=nextBindingIndex();if(bindingUpdated(i,s,n)){const a=getTView(),c=getSelectedTNode();elementAttributeInternal(c,i,e,n,r,o),ngDevMode&&storePropertyBindingMetadata(a.data,c,"attr."+e,s)}return ɵɵattribute}function interpolationV(e,n){ngDevMode&&assertLessThan(2,n.length,"should have at least 3 values"),ngDevMode&&assertEqual(n.length%2,1,"should have an odd number of values");let r=!1,o=getBindingIndex();for(let i=1;i<n.length;i+=2)r=bindingUpdated(e,o++,n[i])||r;if(setBindingIndex(o),!r)return Rn;let i=n[0];for(let e=1;e<n.length;e+=2)i+=renderStringify(n[e])+n[e+1];return i}function interpolation1(e,n,r,o){return bindingUpdated(e,nextBindingIndex(),r)?n+renderStringify(r)+o:Rn}function interpolation2(e,n,r,o,i,s){const a=bindingUpdated2(e,getBindingIndex(),r,i);return incrementBindingIndex(2),a?n+renderStringify(r)+o+renderStringify(i)+s:Rn}function interpolation3(e,n,r,o,i,s,a,c){const u=bindingUpdated3(e,getBindingIndex(),r,i,a);return incrementBindingIndex(3),u?n+renderStringify(r)+o+renderStringify(i)+s+renderStringify(a)+c:Rn}function interpolation4(e,n,r,o,i,s,a,c,u,p){const f=bindingUpdated4(e,getBindingIndex(),r,i,a,u);return incrementBindingIndex(4),f?n+renderStringify(r)+o+renderStringify(i)+s+renderStringify(a)+c+renderStringify(u)+p:Rn}function interpolation5(e,n,r,o,i,s,a,c,u,p,f,g){const v=getBindingIndex();let C=bindingUpdated4(e,v,r,i,a,u);return C=bindingUpdated(e,v+4,f)||C,incrementBindingIndex(5),C?n+renderStringify(r)+o+renderStringify(i)+s+renderStringify(a)+c+renderStringify(u)+p+renderStringify(f)+g:Rn}function interpolation6(e,n,r,o,i,s,a,c,u,p,f,g,v,C){const b=getBindingIndex();let w=bindingUpdated4(e,b,r,i,a,u);return w=bindingUpdated2(e,b+4,f,v)||w,incrementBindingIndex(6),w?n+renderStringify(r)+o+renderStringify(i)+s+renderStringify(a)+c+renderStringify(u)+p+renderStringify(f)+g+renderStringify(v)+C:Rn}function interpolation7(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w){const A=getBindingIndex();let _=bindingUpdated4(e,A,r,i,a,u);return _=bindingUpdated3(e,A+4,f,v,b)||_,incrementBindingIndex(7),_?n+renderStringify(r)+o+renderStringify(i)+s+renderStringify(a)+c+renderStringify(u)+p+renderStringify(f)+g+renderStringify(v)+C+renderStringify(b)+w:Rn}function interpolation8(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_){const E=getBindingIndex();let I=bindingUpdated4(e,E,r,i,a,u);return I=bindingUpdated4(e,E+4,f,v,b,A)||I,incrementBindingIndex(8),I?n+renderStringify(r)+o+renderStringify(i)+s+renderStringify(a)+c+renderStringify(u)+p+renderStringify(f)+g+renderStringify(v)+C+renderStringify(b)+w+renderStringify(A)+_:Rn}function ɵɵattributeInterpolate1(e,n,r,o,i,s){const a=getLView(),c=interpolation1(a,n,r,o);if(c!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,a,e,c,i,s),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-1,n,o)}return ɵɵattributeInterpolate1}function ɵɵattributeInterpolate2(e,n,r,o,i,s,a,c){const u=getLView(),p=interpolation2(u,n,r,o,i,s);if(p!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,u,e,p,a,c),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-2,n,o,s)}return ɵɵattributeInterpolate2}function ɵɵattributeInterpolate3(e,n,r,o,i,s,a,c,u,p){const f=getLView(),g=interpolation3(f,n,r,o,i,s,a,c);if(g!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,f,e,g,u,p),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-3,n,o,s,c)}return ɵɵattributeInterpolate3}function ɵɵattributeInterpolate4(e,n,r,o,i,s,a,c,u,p,f,g){const v=getLView(),C=interpolation4(v,n,r,o,i,s,a,c,u,p);if(C!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,v,e,C,f,g),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-4,n,o,s,c,p)}return ɵɵattributeInterpolate4}function ɵɵattributeInterpolate5(e,n,r,o,i,s,a,c,u,p,f,g,v,C){const b=getLView(),w=interpolation5(b,n,r,o,i,s,a,c,u,p,f,g);if(w!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,b,e,w,v,C),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-5,n,o,s,c,p,g)}return ɵɵattributeInterpolate5}function ɵɵattributeInterpolate6(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w){const A=getLView(),_=interpolation6(A,n,r,o,i,s,a,c,u,p,f,g,v,C);if(_!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,A,e,_,b,w),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-6,n,o,s,c,p,g,C)}return ɵɵattributeInterpolate6}function ɵɵattributeInterpolate7(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_){const E=getLView(),I=interpolation7(E,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w);if(I!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,E,e,I,A,_),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-7,n,o,s,c,p,g,C,w)}return ɵɵattributeInterpolate7}function ɵɵattributeInterpolate8(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_,E,I){const T=getLView(),P=interpolation8(T,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_);if(P!==Rn){const r=getSelectedTNode();elementAttributeInternal(r,T,e,P,E,I),ngDevMode&&storePropertyBindingMetadata(getTView().data,r,"attr."+e,getBindingIndex()-8,n,o,s,c,p,g,C,w,_)}return ɵɵattributeInterpolate8}function ɵɵattributeInterpolateV(e,n,r,o){const i=getLView(),s=interpolationV(i,n);if(s!==Rn){const a=getSelectedTNode();if(elementAttributeInternal(a,i,e,s,r,o),ngDevMode){const r=[n[0]];for(let e=2;e<n.length;e+=2)r.push(n[e]);storePropertyBindingMetadata(getTView().data,a,"attr."+e,getBindingIndex()-r.length+1,...r)}}return ɵɵattributeInterpolateV}function toTStylingRange(e,n){return ngDevMode&&assertNumberInRange(e,0,32767),ngDevMode&&assertNumberInRange(n,0,32767),e<<17|n<<2}function getTStylingRangePrev(e){return ngDevMode&&assertNumber(e,"expected number"),e>>17&32767}function setTStylingRangePrevDuplicate(e){return ngDevMode&&assertNumber(e,"expected number"),2|e}function getTStylingRangeNext(e){return ngDevMode&&assertNumber(e,"expected number"),(131068&e)>>2}function setTStylingRangeNext(e,n){return ngDevMode&&assertNumber(e,"expected number"),ngDevMode&&assertNumberInRange(n,0,32767),-131069&e|n<<2}function setTStylingRangeNextDuplicate(e){return ngDevMode&&assertNumber(e,"expected number"),1|e}function insertTStylingBinding(e,n,r,o,i,s){ngDevMode&&assertFirstUpdatePass(getTView());let a=s?n.classBindings:n.styleBindings,c=getTStylingRangePrev(a),u=getTStylingRangeNext(a);e[o]=r;let p,f=!1;if(Array.isArray(r)){p=r[1],(null===p||keyValueArrayIndexOf(r,p)>0)&&(f=!0)}else p=r;if(i){if(0!==u){const n=getTStylingRangePrev(e[c+1]);e[o+1]=toTStylingRange(n,c),0!==n&&(e[n+1]=setTStylingRangeNext(e[n+1],o)),e[c+1]=function setTStylingRangePrev(e,n){return ngDevMode&&assertNumber(e,"expected number"),ngDevMode&&assertNumberInRange(n,0,32767),131071&e|n<<17}(e[c+1],o)}else e[o+1]=toTStylingRange(c,0),0!==c&&(e[c+1]=setTStylingRangeNext(e[c+1],o)),c=o}else e[o+1]=toTStylingRange(u,0),ngDevMode&&assertEqual(0!==c&&0===u,!1,"Adding template bindings after hostBindings is not allowed."),0===c?c=o:e[u+1]=setTStylingRangeNext(e[u+1],o),u=o;f&&(e[o+1]=setTStylingRangePrevDuplicate(e[o+1])),markDuplicates(e,p,o,!0),markDuplicates(e,p,o,!1),function markDuplicateOfResidualStyling(e,n,r,o,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&keyValueArrayIndexOf(s,n)>=0&&(r[o+1]=setTStylingRangeNextDuplicate(r[o+1]))}(n,p,e,o,s),a=toTStylingRange(c,u),s?n.classBindings=a:n.styleBindings=a}function markDuplicates(e,n,r,o){const i=e[r+1],s=null===n;let a=o?getTStylingRangePrev(i):getTStylingRangeNext(i),c=!1;for(;0!==a&&(!1===c||s);){ngDevMode&&assertIndexInRange(e,a);const r=e[a+1];isStylingMatch(e[a],n)&&(c=!0,e[a+1]=o?setTStylingRangeNextDuplicate(r):setTStylingRangePrevDuplicate(r)),a=o?getTStylingRangePrev(r):getTStylingRangeNext(r)}c&&(e[r+1]=o?setTStylingRangePrevDuplicate(i):setTStylingRangeNextDuplicate(i))}function isStylingMatch(e,n){return ngDevMode&&assertNotEqual(Array.isArray(n),!0,"Expected that 'tStylingKey' has been unwrapped"),null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&keyValueArrayIndexOf(e,n)>=0}const Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function getLastParsedKey(e){return e.substring(Pr.key,Pr.keyEnd)}function getLastParsedValue(e){return e.substring(Pr.value,Pr.valueEnd)}function parseClassNameNext(e,n){const r=Pr.textEnd;return r===n?-1:(n=Pr.keyEnd=function consumeClassToken(e,n,r){for(;n<r&&e.charCodeAt(n)>32;)n++;return n}(e,Pr.key=n,r),consumeWhitespace(e,n,r))}function parseStyleNext(e,n){const r=Pr.textEnd;let o=Pr.key=consumeWhitespace(e,n,r);return r===o?-1:(o=Pr.keyEnd=function consumeStyleKey(e,n,r){let o;for(;n<r&&(45===(o=e.charCodeAt(n))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)n++;return n}(e,o,r),o=consumeSeparator(e,o,r,58),o=Pr.value=consumeWhitespace(e,o,r),o=Pr.valueEnd=function consumeStyleValue(e,n,r){let o=-1,i=-1,s=-1,a=n,c=a;for(;a<r;){const u=e.charCodeAt(a++);if(59===u)return c;34===u||39===u?c=a=consumeQuotedText(e,u,a,r):n===a-4&&85===s&&82===i&&76===o&&40===u?c=a=consumeQuotedText(e,41,a,r):u>32&&(c=a),s=i,i=o,o=-33&u}return c}(e,o,r),consumeSeparator(e,o,r,59))}function resetParserState(e){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=e.length}function consumeWhitespace(e,n,r){for(;n<r&&e.charCodeAt(n)<=32;)n++;return n}function consumeSeparator(e,n,r,o){return(n=consumeWhitespace(e,n,r))<r&&(ngDevMode&&e.charCodeAt(n)!==o&&malformedStyleError(e,String.fromCharCode(o),n),n++),n}function consumeQuotedText(e,n,r,o){let i=-1,s=r;for(;s<o;){const r=e.charCodeAt(s++);if(r==n&&92!==i)return s;i=92==r&&92===i?0:r}throw ngDevMode?malformedStyleError(e,String.fromCharCode(n),o):new Error}function malformedStyleError(e,n,r){throw ngDevMode&&assertEqual("string"==typeof e,!0,"String expected here"),throwError(`Malformed style at location ${r} in string '`+e.substring(0,r)+"[>>"+e.substring(r,r+1)+"<<]"+e.slice(r+1)+`'. Expecting '${n}'.`)}function ɵɵproperty(e,n,r){const o=getLView(),i=nextBindingIndex();if(bindingUpdated(o,i,n)){const s=getTView(),a=getSelectedTNode();elementPropertyInternal(s,a,o,e,n,o[Ke],r,!1),ngDevMode&&storePropertyBindingMetadata(s.data,a,e,i)}return ɵɵproperty}function setDirectiveInputsWhichShadowsStyling(e,n,r,o,i){const s=i?"class":"style";setInputsForProperty(e,r,n.inputs[s],s,o)}function ɵɵstyleProp(e,n,r){return checkStylingProperty(e,n,r,!1),ɵɵstyleProp}function ɵɵclassProp(e,n){return checkStylingProperty(e,n,null,!0),ɵɵclassProp}function ɵɵstyleMap(e){checkStylingMap(styleKeyValueArraySet,styleStringParser,e,!1)}function styleStringParser(e,n){for(let r=function parseStyle(e){return resetParserState(e),parseStyleNext(e,consumeWhitespace(e,0,Pr.textEnd))}(n);r>=0;r=parseStyleNext(n,r))styleKeyValueArraySet(e,getLastParsedKey(n),getLastParsedValue(n))}function ɵɵclassMap(e){checkStylingMap(classKeyValueArraySet,classStringParser,e,!0)}function classStringParser(e,n){for(let r=function parseClassName(e){return resetParserState(e),parseClassNameNext(e,consumeWhitespace(e,0,Pr.textEnd))}(n);r>=0;r=parseClassNameNext(n,r))keyValueArraySet(e,getLastParsedKey(n),!0)}function checkStylingProperty(e,n,r,o){const i=getLView(),s=getTView(),a=incrementBindingIndex(2);if(s.firstUpdatePass&&stylingFirstUpdatePass(s,e,a,o),n!==Rn&&bindingUpdated(i,a,n)){updateStyling(s,s.data[getSelectedIndex()],i,i[Ke],e,i[a+1]=function normalizeSuffix(e,n){null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=stringify(unwrapSafeValue(e))));return e}(n,r),o,a)}}function checkStylingMap(e,n,r,o){const i=getTView(),s=incrementBindingIndex(2);i.firstUpdatePass&&stylingFirstUpdatePass(i,null,s,o);const a=getLView();if(r!==Rn&&bindingUpdated(a,s,r)){const c=i.data[getSelectedIndex()];if(hasStylingInputShadow(c,o)&&!isInHostBindings(i,s)){if(ngDevMode){const e=i.data[s];assertEqual(Array.isArray(e)?e[1]:e,!1,"Styling linked list shadow input should be marked as 'false'")}let e=o?c.classesWithoutHost:c.stylesWithoutHost;ngDevMode&&!1===o&&null!==e&&assertEqual(e.endsWith(";"),!0,"Expecting static portion to end with ';'"),null!==e&&(r=concatStringsWithSpace(e,r||"")),setDirectiveInputsWhichShadowsStyling(i,c,a,r,o)}else!function updateStylingMap(e,n,r,o,i,s,a,c){i===Rn&&(i=ge);let u=0,p=0,f=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==f||null!==g;){ngDevMode&&assertLessThan(u,999,"Are we stuck in infinite loop?"),ngDevMode&&assertLessThan(p,999,"Are we stuck in infinite loop?");const v=u<i.length?i[u+1]:void 0,C=p<s.length?s[p+1]:void 0;let b,w=null;f===g?(u+=2,p+=2,v!==C&&(w=g,b=C)):null===g||null!==f&&f<g?(u+=2,w=f):(ngDevMode&&assertDefined(g,"Expecting to have a valid key"),p+=2,w=g,b=C),null!==w&&updateStyling(e,n,r,o,w,b,a,c),f=u<i.length?i[u]:null,g=p<s.length?s[p]:null}}(i,c,a,a[Ke],a[s+1],a[s+1]=function toStylingKeyValueArray(e,n,r){if(null==r||""===r)return ge;const o=[],i=unwrapSafeValue(r);if(Array.isArray(i))for(let n=0;n<i.length;n++)e(o,i[n],!0);else if("object"==typeof i)for(const n in i)i.hasOwnProperty(n)&&e(o,n,i[n]);else"string"==typeof i?n(o,i):ngDevMode&&throwError("Unsupported styling type "+typeof i+": "+i);return o}(e,n,r),o,s)}}function isInHostBindings(e,n){return n>=e.expandoStartIndex}function stylingFirstUpdatePass(e,n,r,o){ngDevMode&&assertFirstUpdatePass(e);const i=e.data;if(null===i[r+1]){const s=i[getSelectedIndex()];ngDevMode&&assertDefined(s,"TNode expected");const a=isInHostBindings(e,r);hasStylingInputShadow(s,o)&&null===n&&!a&&(n=!1),n=function wrapInStaticStylingKey(e,n,r,o){const i=getCurrentDirectiveDef(e);let s=o?n.residualClasses:n.residualStyles;if(null===i){0===(o?n.classBindings:n.styleBindings)&&(r=collectStylingFromTAttrs(r=collectStylingFromDirectives(null,e,n,r,o),n.attrs,o),s=null)}else{const a=n.directiveStylingLast;if(-1===a||e[a]!==i)if(r=collectStylingFromDirectives(i,e,n,r,o),null===s){let r=function getTemplateHeadTStylingKey(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0===getTStylingRangeNext(o))return;return e[getTStylingRangePrev(o)]}(e,n,o);void 0!==r&&Array.isArray(r)&&(r=collectStylingFromDirectives(null,e,n,r[1],o),r=collectStylingFromTAttrs(r,n.attrs,o),function setTemplateHeadTStylingKey(e,n,r,o){const i=r?n.classBindings:n.styleBindings;ngDevMode&&assertNotEqual(getTStylingRangeNext(i),0,"Expecting to have at least one template styling binding."),e[getTStylingRangePrev(i)]=o}(e,n,o,r))}else s=function collectResidual(e,n,r){let o;const i=n.directiveEnd;ngDevMode&&assertNotEqual(n.directiveStylingLast,-1,"By the time this function gets called at least one hostBindings-node styling instruction must have executed.");for(let s=1+n.directiveStylingLast;s<i;s++){o=collectStylingFromTAttrs(o,e[s].hostAttrs,r)}return collectStylingFromTAttrs(o,n.attrs,r)}(e,n,o)}void 0!==s&&(o?n.residualClasses=s:n.residualStyles=s);return r}(i,s,n,o),insertTStylingBinding(i,s,n,r,a,o)}}function collectStylingFromDirectives(e,n,r,o,i){let s=null;const a=r.directiveEnd;let c=r.directiveStylingLast;for(-1===c?c=r.directiveStart:c++;c<a&&(s=n[c],ngDevMode&&assertDefined(s,"expected to be defined"),o=collectStylingFromTAttrs(o,s.hostAttrs,i),s!==e);)c++;return null!==e&&(r.directiveStylingLast=c),o}function collectStylingFromTAttrs(e,n,r){const o=r?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:i===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),keyValueArraySet(e,a,!!r||n[++s]))}return void 0===e?null:e}function styleKeyValueArraySet(e,n,r){keyValueArraySet(e,n,unwrapSafeValue(r))}function classKeyValueArraySet(e,n,r){const o=String(n);""===o||o.includes(" ")||keyValueArraySet(e,o,r)}function updateStyling(e,n,r,o,i,s,a,c){if(!(3&n.type))return;const u=e.data,p=u[c+1];if(!isStylingValuePresent(function getTStylingRangeNextDuplicate(e){return ngDevMode&&assertNumber(e,"expected number"),!(1&~e)}(p)?findStylingValue(u,n,r,i,getTStylingRangeNext(p),a):void 0)){isStylingValuePresent(s)||function getTStylingRangePrevDuplicate(e){return ngDevMode&&assertNumber(e,"expected number"),!(2&~e)}(p)&&(s=findStylingValue(u,null,r,i,c,a));!function applyStyling(e,n,r,o,i){if(n)i?(ngDevMode&&ngDevMode.rendererAddClass++,e.addClass(r,o)):(ngDevMode&&ngDevMode.rendererRemoveClass++,e.removeClass(r,o));else{let n=-1===o.indexOf("-")?void 0:kn.DashCase;null==i?(ngDevMode&&ngDevMode.rendererRemoveStyle++,e.removeStyle(r,o,n)):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),n|=kn.Important),ngDevMode&&ngDevMode.rendererSetStyle++,e.setStyle(r,o,i,n))}}(o,a,getNativeByIndex(getSelectedIndex(),r),i,s)}}function findStylingValue(e,n,r,o,i,s){const a=null===n;let c;for(;i>0;){const n=e[i],s=Array.isArray(n),u=s?n[1]:n,p=null===u;let f=r[i+1];f===Rn&&(f=p?ge:void 0);let g=p?keyValueArrayGet(f,o):u===o?f:void 0;if(s&&!isStylingValuePresent(g)&&(g=keyValueArrayGet(n,o)),isStylingValuePresent(g)&&(c=g,a))return c;const v=e[i+1];i=a?getTStylingRangePrev(v):getTStylingRangeNext(v)}if(null!==n){let e=s?n.residualClasses:n.residualStyles;null!=e&&(c=keyValueArrayGet(e,o))}return c}function isStylingValuePresent(e){return void 0!==e}function hasStylingInputShadow(e,n){return!!(e.flags&(n?8:16))}function ɵɵclassMapInterpolate1(e,n,r){checkStylingMap(keyValueArraySet,classStringParser,interpolation1(getLView(),e,n,r),!0)}function ɵɵclassMapInterpolate2(e,n,r,o,i){checkStylingMap(keyValueArraySet,classStringParser,interpolation2(getLView(),e,n,r,o,i),!0)}function ɵɵclassMapInterpolate3(e,n,r,o,i,s,a){checkStylingMap(keyValueArraySet,classStringParser,interpolation3(getLView(),e,n,r,o,i,s,a),!0)}function ɵɵclassMapInterpolate4(e,n,r,o,i,s,a,c,u){checkStylingMap(keyValueArraySet,classStringParser,interpolation4(getLView(),e,n,r,o,i,s,a,c,u),!0)}function ɵɵclassMapInterpolate5(e,n,r,o,i,s,a,c,u,p,f){checkStylingMap(keyValueArraySet,classStringParser,interpolation5(getLView(),e,n,r,o,i,s,a,c,u,p,f),!0)}function ɵɵclassMapInterpolate6(e,n,r,o,i,s,a,c,u,p,f,g,v){checkStylingMap(keyValueArraySet,classStringParser,interpolation6(getLView(),e,n,r,o,i,s,a,c,u,p,f,g,v),!0)}function ɵɵclassMapInterpolate7(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b){checkStylingMap(keyValueArraySet,classStringParser,interpolation7(getLView(),e,n,r,o,i,s,a,c,u,p,f,g,v,C,b),!0)}function ɵɵclassMapInterpolate8(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A){checkStylingMap(keyValueArraySet,classStringParser,interpolation8(getLView(),e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A),!0)}function ɵɵclassMapInterpolateV(e){checkStylingMap(keyValueArraySet,classStringParser,interpolationV(getLView(),e),!0)}function ɵɵcomponentInstance(){const e=getLView()[Je][ze];return ngDevMode&&assertDefined(e,"Expected component instance to be defined"),e}class LiveCollection{destroy(e){}updateValue(e,n){}swap(e,n){const r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){const e=this.detach(r);this.attach(r,i),this.attach(o,e)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e))}}function valuesMatching(e,n,r,o,i){return e===r&&Object.is(n,o)?1:Object.is(i(e,n),i(r,o))?-1:0}function attachPreviouslyDetached(e,n,r,o){return!(void 0===n||!n.has(o))&&(e.attach(r,n.get(o)),n.delete(o),!0)}function createOrAttach(e,n,r,o,i){if(attachPreviouslyDetached(e,n,o,r(o,i)))e.updateValue(o,i);else{const n=e.create(o,i);e.attach(o,n)}}function initLiveItemsInTheFuture(e,n,r,o){const i=new Set;for(let s=n;s<=r;s++)i.add(o(s,e.at(s)));return i}class UniqueValueMultiKeyMap{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const n=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);ngDevMode&&assertNotSame(r,n,`Detected a duplicated value ${n} for the key ${e}`),void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),void 0!==this._vMap){const o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}}function ɵɵconditional(e,n,r){performanceMarkFeature("NgControlFlow");const o=getLView(),i=nextBindingIndex(),s=getLContainer(o,at+e);if(bindingUpdated(o,i,n)){const e=setActiveConsumer(null);try{if(removeLViewFromLContainer(s,0),-1!==n){const e=getExistingTNode(o[He],at+n),i=findMatchingDehydratedView(s,e.tView.ssrId);addLViewToLContainer(s,createAndRenderEmbeddedLView(o,e,r,{dehydratedView:i}),0,shouldAddViewToDom(e,i))}}finally{setActiveConsumer(e)}}else{const e=getLViewFromLContainer(s,0);void 0!==e&&(e[ze]=r)}}class RepeaterContext{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ut}}function ɵɵrepeaterTrackByIndex(e){return e}function ɵɵrepeaterTrackByIdentity(e,n){return n}class RepeaterMetadata{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}}function ɵɵrepeaterCreate(e,n,r,o,i,s,a,c,u,p,f,g,v){performanceMarkFeature("NgControlFlow"),ngDevMode&&assertFunction(a,`A track expression must be a function, was ${typeof a} instead.`);const C=void 0!==u,b=getLView(),w=c?a.bind(b[Je][ze]):a,A=new RepeaterMetadata(C,w);b[at+e]=A,ɵɵtemplate(e+1,n,r,o,i,s),C&&(ngDevMode&&assertDefined(p,"Missing number of declarations for the empty repeater block."),ngDevMode&&assertDefined(f,"Missing number of bindings for the empty repeater block."),ɵɵtemplate(e+2,u,p,f,g,v))}class LiveCollectionLContainerImpl extends LiveCollection{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ut}at(e){return this.getLView(e)[ze].$implicit}attach(e,n){const r=n[Ve];this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length),addLViewToLContainer(this.lContainer,n,e,shouldAddViewToDom(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||(this.needsIndexUpdate=e!==this.length-1),function detachExistingView(e,n){const r=detachView(e,n);return ngDevMode&&assertLView(r),r}(this.lContainer,e)}create(e,n){const r=findMatchingDehydratedView(this.lContainer,this.templateTNode.tView.ssrId);return createAndRenderEmbeddedLView(this.hostLView,this.templateTNode,new RepeaterContext(this.lContainer,n,e),{dehydratedView:r})}destroy(e){destroyLView(e[He],e)}updateValue(e,n){this.getLView(e)[ze].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ze].$index=e}getLView(e){return function getExistingLViewFromLContainer(e,n){const r=getLViewFromLContainer(e,n);return ngDevMode&&assertLView(r),r}(this.lContainer,e)}}function ɵɵrepeater(e){const n=setActiveConsumer(null),r=getSelectedIndex();try{const n=getLView(),o=n[He],i=n[r];if(void 0===i.liveCollection){const e=r+1,s=getLContainer(n,e),a=getExistingTNode(o,e);i.liveCollection=new LiveCollectionLContainerImpl(s,n,a)}else i.liveCollection.reset();const s=i.liveCollection;if(!function reconcile(e,n,r){var o;let i,s,a=0,c=e.length-1;if(Array.isArray(n)){let o=n.length-1;for(;a<=c&&a<=o;){const u=e.at(a),p=n[a],f=valuesMatching(a,u,a,p,r);if(0!==f){f<0&&e.updateValue(a,p),a++;continue}const g=e.at(c),v=n[o],C=valuesMatching(c,g,o,v,r);if(0!==C){C<0&&e.updateValue(c,v),c--,o--;continue}const b=r(a,u),w=r(c,g),A=r(a,p);if(Object.is(A,w)){const n=r(o,v);Object.is(n,b)?(e.swap(a,c),e.updateValue(c,v),o--,c--):e.move(c,a),e.updateValue(a,p),a++}else if(null!=i?i:i=new UniqueValueMultiKeyMap,null!=s||(s=initLiveItemsInTheFuture(e,a,c,r)),attachPreviouslyDetached(e,i,a,A))e.updateValue(a,p),a++,c++;else if(s.has(A))i.set(b,e.detach(a)),c--;else{const r=e.create(a,n[a]);e.attach(a,r),a++,c++}}for(;a<=o;)createOrAttach(e,i,r,a,n[a]),a++}else if(null!=n){const o=n[Symbol.iterator]();let u=o.next();for(;!u.done&&a<=c;){const n=e.at(a),p=u.value,f=valuesMatching(a,n,a,p,r);if(0!==f)f<0&&e.updateValue(a,p),a++,u=o.next();else{null!=i?i:i=new UniqueValueMultiKeyMap,null!=s||(s=initLiveItemsInTheFuture(e,a,c,r));const f=r(a,p);if(attachPreviouslyDetached(e,i,a,f))e.updateValue(a,p),a++,c++,u=o.next();else if(s.has(f)){const o=r(a,n);i.set(o,e.detach(a)),c--}else e.attach(a,e.create(a,p)),a++,c++,u=o.next()}}for(;!u.done;)createOrAttach(e,i,r,e.length,u.value),u=o.next()}for(;a<=c;)e.destroy(e.detach(c--));null===(o=i)||void 0===o||o.forEach((n=>{e.destroy(n)}))}(s,e,i.trackByFn),s.updateIndexes(),i.hasEmptyBlock){const e=nextBindingIndex(),i=0===s.length;if(bindingUpdated(n,e,i)){const e=r+2,s=getLContainer(n,e);if(i){const r=getExistingTNode(o,e),i=findMatchingDehydratedView(s,r.tView.ssrId);addLViewToLContainer(s,createAndRenderEmbeddedLView(n,r,void 0,{dehydratedView:i}),0,shouldAddViewToDom(r,i))}else removeLViewFromLContainer(s,0)}}}finally{setActiveConsumer(n)}}function getLContainer(e,n){const r=e[n];return ngDevMode&&assertLContainer(r),r}function getExistingTNode(e,n){const r=getTNode(e,n);return ngDevMode&&assertTNode(r),r}function ɵɵelementStart(e,n,r,o){const i=getLView(),s=getTView(),a=at+e;ngDevMode&&assertEqual(getBindingIndex(),s.bindingStartIndex,"elements should be created before any bindings"),ngDevMode&&assertIndexInRange(i,a);const c=i[Ke],u=s.firstCreatePass?function elementStartFirstCreatePass(e,n,r,o,i,s){ngDevMode&&assertFirstCreatePass(n),ngDevMode&&ngDevMode.firstCreatePass++;const a=n.consts,c=getOrCreateTNode(n,e,2,o,getConstant(a,i));return resolveDirectives(n,r,c,getConstant(a,s)),null!==c.attrs&&computeStaticStyling(c,c.attrs,!1),null!==c.mergedAttrs&&computeStaticStyling(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(a,s,i,n,r,o):s.data[a],p=_locateOrCreateElementNode(s,i,u,c,n,e);i[a]=p;const f=isDirectiveHost(u);return ngDevMode&&s.firstCreatePass&&!function validateElementIsKnown(e,n,r,o,i){if(null!==o&&!i&&null!==r&&("undefined"!=typeof HTMLUnknownElement&&HTMLUnknownElement&&e instanceof HTMLUnknownElement||"undefined"!=typeof customElements&&r.indexOf("-")>-1&&!customElements.get(r))&&!matchingSchemas(o,r)){const e=isHostComponentStandalone(n),o=`'${e?"@Component":"@NgModule"}.schemas'`;let i=`'${r}' is not a known element${getTemplateLocationDetails(n)}:\n`;if(i+=`1. If '${r}' is an Angular component, then verify that it is ${e?"included in the '@Component.imports' of this component":"a part of an @NgModule where this component is declared"}.\n`,r&&r.indexOf("-")>-1?i+=`2. If '${r}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the ${o} of this component to suppress this message.`:i+=`2. To allow any element add 'NO_ERRORS_SCHEMA' to the ${o} of this component.`,In)throw new RuntimeError(304,i);console.error(formatRuntimeError(304,i))}}(p,i,u.value,s.schemas,f),setCurrentTNode(u,!0),setupStaticAttributes(c,p,u),!isDetachedByI18n(u)&&wasLastNodeCreated()&&appendChild(s,i,p,u),0===function getElementDepthCount(){return vt.lFrame.elementDepthCount}()&&attachPatchData(p,i),function increaseElementDepthCount(){vt.lFrame.elementDepthCount++}(),f&&(createDirectivesInstances(s,i,u),executeContentQueries(s,u,i)),null!==o&&saveResolvedLocalsInData(i,u),ɵɵelementStart}function ɵɵelementEnd(){let e=getCurrentTNode();ngDevMode&&assertDefined(e,"No parent node to close."),isCurrentTNodeParent()?setCurrentTNodeAsNotParent():(ngDevMode&&assertHasParent(getCurrentTNode()),e=e.parent,setCurrentTNode(e,!1));const n=e;ngDevMode&&assertTNodeType(n,3),function isSkipHydrationRootTNode(e){return vt.skipHydrationRootTNode===e}(n)&&function leaveSkipHydrationBlock(){vt.skipHydrationRootTNode=null}(),function decreaseElementDepthCount(){vt.lFrame.elementDepthCount--}();const r=getTView();return r.firstCreatePass&&(registerPostOrderHooks(r,e),isContentQueryHost(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function hasClassInput(e){return!!(8&e.flags)}(n)&&setDirectiveInputsWhichShadowsStyling(r,n,getLView(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function hasStyleInput(e){return!!(16&e.flags)}(n)&&setDirectiveInputsWhichShadowsStyling(r,n,getLView(),n.stylesWithoutHost,!1),ɵɵelementEnd}function ɵɵelement(e,n,r,o){return ɵɵelementStart(e,n,r,o),ɵɵelementEnd(),ɵɵelement}let _locateOrCreateElementNode=(e,n,r,o,i,s)=>(lastNodeWasCreated(!0),createElementNode(o,i,getNamespace$1()));function ɵɵelementContainerStart(e,n,r){const o=getLView(),i=getTView(),s=e+at;ngDevMode&&assertIndexInRange(o,s),ngDevMode&&assertEqual(getBindingIndex(),i.bindingStartIndex,"element containers should be created before any bindings");const a=i.firstCreatePass?function elementContainerStartFirstCreatePass(e,n,r,o,i){ngDevMode&&ngDevMode.firstCreatePass++;const s=n.consts,a=getConstant(s,o),c=getOrCreateTNode(n,e,8,"ng-container",a);return null!==a&&computeStaticStyling(c,a,!0),resolveDirectives(n,r,c,getConstant(s,i)),null!==n.queries&&n.queries.elementStart(n,c),c}(s,i,o,n,r):i.data[s];setCurrentTNode(a,!0);const c=_locateOrCreateElementContainerNode(i,o,a,e);return o[s]=c,wasLastNodeCreated()&&appendChild(i,o,c,a),attachPatchData(c,o),isDirectiveHost(a)&&(createDirectivesInstances(i,o,a),executeContentQueries(i,a,o)),null!=r&&saveResolvedLocalsInData(o,a),ɵɵelementContainerStart}function ɵɵelementContainerEnd(){let e=getCurrentTNode();const n=getTView();return isCurrentTNodeParent()?setCurrentTNodeAsNotParent():(ngDevMode&&assertHasParent(e),e=e.parent,setCurrentTNode(e,!1)),ngDevMode&&assertTNodeType(e,8),n.firstCreatePass&&(registerPostOrderHooks(n,e),isContentQueryHost(e)&&n.queries.elementEnd(e)),ɵɵelementContainerEnd}function ɵɵelementContainer(e,n,r){return ɵɵelementContainerStart(e,n,r),ɵɵelementContainerEnd(),ɵɵelementContainer}let _locateOrCreateElementContainerNode=(e,n,r,o)=>(lastNodeWasCreated(!0),createCommentNode(n[Ke],ngDevMode?"ng-container":""));function ɵɵgetCurrentView(){return getLView()}function ɵɵhostProperty(e,n,r){const o=getLView(),i=nextBindingIndex();if(bindingUpdated(o,i,n)){const s=getTView(),a=getSelectedTNode();elementPropertyInternal(s,a,o,e,n,o[Ke],r,!0),ngDevMode&&storePropertyBindingMetadata(s.data,a,e,i)}return ɵɵhostProperty}function ɵɵsyntheticHostProperty(e,n,r){const o=getLView(),i=nextBindingIndex();if(bindingUpdated(o,i,n)){const s=getTView(),a=getSelectedTNode();elementPropertyInternal(s,a,o,e,n,loadComponentRenderer(getCurrentDirectiveDef(s.data),a,o),r,!0),ngDevMode&&storePropertyBindingMetadata(s.data,a,e,i)}return ɵɵsyntheticHostProperty}"undefined"==typeof ngI18nClosureMode&&!function(){H.ngI18nClosureMode="undefined"!=typeof goog&&"function"==typeof goog.getMsg}();const kr=void 0;var xr=["en",[["a","p"],["AM","PM"],kr],[["AM","PM"],kr,kr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kr,"{1} 'at' {0}",kr],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function plural(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Fr={};function findLocaleData(e){const n=function normalizeLocale(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=getLocaleData(n);if(r)return r;const o=n.split("-")[0];if(r=getLocaleData(o),r)return r;if("en"===o)return xr;throw new RuntimeError(701,ngDevMode&&`Missing locale data for the locale "${e}".`)}function getLocalePluralCase(e){return findLocaleData(e)[Or.PluralCase]}function getLocaleData(e){return e in Fr||(Fr[e]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[e]),Fr[e]}var Or=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Or||{});const Rr=["zero","one","two","few","many"];const Nr="en-US",Lr={marker:"element"},Hr={marker:"ICU"};var Ur=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(Ur||{});let Br=Nr;function setLocaleId(e){ngDevMode&&assertDefined(e,"Expected localeId to be defined"),"string"==typeof e&&(Br=e.toLowerCase().replace(/_/g,"-"))}function getInsertInFrontOfRNodeWithI18n(e,n,r){const o=n.insertBeforeIndex,i=Array.isArray(o)?o[0]:o;return null===i?getInsertInFrontOfRNodeWithNoI18n(e,0,r):(ngDevMode&&assertIndexInRange(r,i),unwrapRNode(r[i]))}function processI18nInsertBefore(e,n,r,o,i){const s=n.insertBeforeIndex;if(Array.isArray(s)){ngDevMode&&assertDomNode(o);let a=o,c=null;if(3&n.type||(c=a,a=i),null!==a&&-1===n.componentOffset)for(let n=1;n<s.length;n++){nativeInsertBefore(e,a,r[s[n]],c,!1)}}}function addTNodeAndUpdateInsertBeforeIndex(e,n){if(ngDevMode&&assertEqual(n.insertBeforeIndex,null,"We expect that insertBeforeIndex is not set"),e.push(n),e.length>1)for(let r=e.length-2;r>=0;r--){const o=e[r];isI18nText(o)||isNewTNodeCreatedBefore(o,n)&&null===getInsertBeforeIndex(o)&&setInsertBeforeIndex(o,n.index)}}function isI18nText(e){return!(64&e.type)}function isNewTNodeCreatedBefore(e,n){return isI18nText(n)||e.index>n.index}function getInsertBeforeIndex(e){const n=e.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function setInsertBeforeIndex(e,n){const r=e.insertBeforeIndex;Array.isArray(r)?r[0]=n:(setI18nHandling(getInsertInFrontOfRNodeWithI18n,processI18nInsertBefore),e.insertBeforeIndex=n)}function getTIcu(e,n){const r=e.data[n];if(null===r||"string"==typeof r)return null;!ngDevMode||r.hasOwnProperty("tView")||r.hasOwnProperty("currentCaseLViewIndex")||throwError("We expect to get 'null'|'TIcu'|'TIcuContainer', but got: "+r);const o=r.hasOwnProperty("currentCaseLViewIndex")?r:r.value;return ngDevMode&&assertTIcu(o),o}function createTNodePlaceholder(e,n,r){const o=createTNodeAtIndex(e,r,64,null,null);return addTNodeAndUpdateInsertBeforeIndex(n,o),o}function getCurrentICUCaseIndex(e,n){const r=n[e.currentCaseLViewIndex];return null===r?r:r<0?~r:r}function getParentFromIcuCreateOpCode(e){return e>>>17}function getRefFromIcuCreateOpCode(e){return(131070&e)>>>1}function getInstructionFromIcuCreateOpCode(e){return 1&e}let $r=0,jr=0;function createNodeWithoutHydration(e,n,r){const o=e[Ke];switch(r){case Node.COMMENT_NODE:return createCommentNode(o,n);case Node.TEXT_NODE:return createTextNode(o,n);case Node.ELEMENT_NODE:return createElementNode(o,n,null)}}let _locateOrCreateNode=(e,n,r,o)=>(lastNodeWasCreated(!0),createNodeWithoutHydration(e,r,o));function applyMutableOpCodes(e,n,r,o){ngDevMode&&assertDomNode(o);const i=r[Ke];let s,a=null;for(let c=0;c<n.length;c++){const u=n[c];if("string"==typeof u){const e=n[++c];null===r[e]&&(ngDevMode&&ngDevMode.rendererCreateTextNode++,ngDevMode&&assertIndexInRange(r,e),r[e]=_locateOrCreateNode(r,e,u,Node.TEXT_NODE))}else if("number"==typeof u)switch(1&u){case 0:const p=getParentFromIcuCreateOpCode(u);let f,g;if(null===a&&(a=p,s=nativeParentNode(i,o)),p===a?(f=o,g=s):(f=null,g=unwrapRNode(r[p])),null!==g){ngDevMode&&assertDomNode(g);const n=getRefFromIcuCreateOpCode(u);ngDevMode&&assertGreaterThan(n,at,"Missing ref");const o=r[n];ngDevMode&&assertDomNode(o),nativeInsertBefore(i,g,o,f,!1);const s=getTIcu(e,n);if(null!==s&&"object"==typeof s){ngDevMode&&assertTIcu(s);const n=getCurrentICUCaseIndex(s,r);null!==n&&applyMutableOpCodes(e,s.create[n],r,r[s.anchorIdx])}}break;case 1:const v=n[++c],C=n[++c];setElementAttribute(i,getNativeByIndex(u>>>1,r),null,null,v,C,null);break;default:if(ngDevMode)throw new RuntimeError(700,`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Hr:const e=n[++c],o=n[++c];if(null===r[o]){ngDevMode&&assertEqual(typeof e,"string",`Expected "${e}" to be a comment node value`),ngDevMode&&ngDevMode.rendererCreateComment++,ngDevMode&&assertIndexInExpandoRange(r,o);attachPatchData(r[o]=_locateOrCreateNode(r,o,e,Node.COMMENT_NODE),r)}break;case Lr:const i=n[++c],s=n[++c];if(null===r[s]){ngDevMode&&assertEqual(typeof i,"string",`Expected "${i}" to be an element node tag name`),ngDevMode&&ngDevMode.rendererCreateElement++,ngDevMode&&assertIndexInExpandoRange(r,s);attachPatchData(r[s]=_locateOrCreateNode(r,s,i,Node.ELEMENT_NODE),r)}break;default:ngDevMode&&throwError(`Unable to determine the type of mutate operation for "${u}"`)}}}function applyUpdateOpCodes(e,n,r,o,i){for(let s=0;s<r.length;s++){const a=r[s],c=r[++s];if(a&i){let i="";for(let a=s+1;a<=s+c;a++){const s=r[a];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=renderStringify(n[o-s]);else{const c=s>>>2;switch(3&s){case 1:const s=r[++a],u=r[++a],p=e.data[c];ngDevMode&&assertDefined(p,"Experting TNode or string"),"string"==typeof p?setElementAttribute(n[Ke],n[c],null,p,s,i,u):elementPropertyInternal(e,p,n,s,i,n[Ke],u,!1);break;case 0:const f=n[c];null!==f&&updateTextNode(n[Ke],f,i);break;case 2:applyIcuSwitchCase(e,getTIcu(e,c),n,i);break;case 3:applyIcuUpdateCase(e,getTIcu(e,c),o,n)}}}}else{const i=r[s+1];if(i>0&&!(3&~i)){const r=getTIcu(e,i>>>2);n[r.currentCaseLViewIndex]<0&&applyIcuUpdateCase(e,r,o,n)}}s+=c}}function applyIcuUpdateCase(e,n,r,o){ngDevMode&&assertIndexInRange(o,n.currentCaseLViewIndex);let i=o[n.currentCaseLViewIndex];if(null!==i){let s=$r;i<0&&(i=o[n.currentCaseLViewIndex]=~i,s=-1),applyUpdateOpCodes(e,o,n.update[i],r,s)}}function applyIcuSwitchCase(e,n,r,o){const i=function getCaseIndex(e,n){let r=e.cases.indexOf(n);if(-1===r)switch(e.type){case 1:{const o=function getPluralCase(e,n){const r=getLocalePluralCase(n)(parseInt(e,10)),o=Rr[r];return void 0!==o?o:"other"}(n,function getLocaleId(){return Br}());r=e.cases.indexOf(o),-1===r&&"other"!==o&&(r=e.cases.indexOf("other"));break}case 0:r=e.cases.indexOf("other")}return-1===r?null:r}(n,o);if(getCurrentICUCaseIndex(n,r)!==i&&(applyIcuSwitchCaseRemove(e,n,r),r[n.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const o=r[n.anchorIdx];o&&(ngDevMode&&assertDomNode(o),applyMutableOpCodes(e,n.create[i],r,o))}}function applyIcuSwitchCaseRemove(e,n,r){let o=getCurrentICUCaseIndex(n,r);if(null!==o){const i=n.remove[o];for(let n=0;n<i.length;n++){const o=i[n];if(o>0){const e=getNativeByIndex(o,r);null!==e&&nativeRemoveNode(r[Ke],e)}else applyIcuSwitchCaseRemove(e,getTIcu(e,~o),r)}}}function loadIcuContainerVisitor(){const e=[];let n,r,o=-1;function enterIcu(e,n){o=0;const i=getCurrentICUCaseIndex(e,n);null!==i?(ngDevMode&&assertNumberInRange(i,0,e.cases.length-1),r=e.remove[i]):r=ge}function icuContainerIteratorNext(){if(o<r.length){const i=r[o++];if(ngDevMode&&assertNumber(i,"Expecting OpCode number"),i>0){const e=n[i];return ngDevMode&&assertDomNode(e),e}{e.push(o,r);const s=n[He].data[~i];return ngDevMode&&assertTIcu(s),enterIcu(s,n),icuContainerIteratorNext()}}return 0===e.length?null:(r=e.pop(),o=e.pop(),icuContainerIteratorNext())}return function icuContainerIteratorStart(r,o){for(n=o;e.length;)e.pop();return ngDevMode&&assertTNodeForLView(r,o),enterIcu(r.value,o),icuContainerIteratorNext}}function i18nCreateOpCodesToString(e){const n=e||(Array.isArray(this)?this:[]);let r=[];for(let e=0;e<n.length;e++){const o=n[e++],i=(o&Ur.APPEND_EAGERLY)===Ur.APPEND_EAGERLY,s=o>>>Ur.SHIFT;r.push(`lView[${s}] = document.${(o&Ur.COMMENT)===Ur.COMMENT?"createComment":"createText"}(${JSON.stringify(n[e])});`),i&&r.push(`parent.appendChild(lView[${s}]);`)}return r}function i18nUpdateOpCodesToString(e){const n=new OpCodeParser(e||(Array.isArray(this)?this:[]));let r=[];function consumeOpCode(e){const r=e>>>2,o=3&e;switch(o){case 0:return`(lView[${r}] as Text).textContent = $$$`;case 1:const e=n.consumeString(),o=n.consumeFunction();return`(lView[${r}] as Element).setAttribute('${e}', ${o?`(${o})($$$)`:"$$$"})`;case 2:return`icuSwitchCase(${r}, $$$)`;case 3:return`icuUpdateCase(${r})`}throw new Error("unexpected OpCode")}for(;n.hasMore();){let e=n.consumeNumber(),o=n.consumeNumber();const i=n.i+o,s=[];let a="";for(;n.i<i;){let e=n.consumeNumberOrString();if("string"==typeof e)a+=e;else if(e<0)a+="${lView[i"+e+"]}";else{const n=consumeOpCode(e);s.push(n.replace("$$$","`"+a+"`")+";"),a=""}}r.push(`if (mask & 0b${e.toString(2)}) { ${s.join(" ")} }`)}return r}function icuCreateOpCodesToString(e){const n=new OpCodeParser(e||(Array.isArray(this)?this:[]));let r=[];function consumeOpCode(e){const r=getParentFromIcuCreateOpCode(e),i=getRefFromIcuCreateOpCode(e);switch(getInstructionFromIcuCreateOpCode(e)){case 0:return`(lView[${r}] as Element).appendChild(lView[${o}])`;case 1:return`(lView[${i}] as Element).setAttribute("${n.consumeString()}", "${n.consumeString()}")`}throw new Error("Unexpected OpCode: "+getInstructionFromIcuCreateOpCode(e))}let o=-1;for(;n.hasMore();){let e=n.consumeNumberStringOrMarker();if(e===Hr){const e=n.consumeString();o=n.consumeNumber(),r.push(`lView[${o}] = document.createComment("${e}")`)}else if(e===Lr){const e=n.consumeString();o=n.consumeNumber(),r.push(`lView[${o}] = document.createElement("${e}")`)}else if("string"==typeof e)o=n.consumeNumber(),r.push(`lView[${o}] = document.createTextNode("${e}")`);else{if("number"!=typeof e)throw new Error("Unexpected value");{const n=consumeOpCode(e);n&&r.push(n)}}}return r}function i18nRemoveOpCodesToString(e){const n=e||(Array.isArray(this)?this:[]);let r=[];for(let e=0;e<n.length;e++){const o=n[e];r.push(o>0?`remove(lView[${o}])`:`removeNestedICU(${~o})`)}return r}class OpCodeParser{constructor(e){this.i=0,this.codes=e}hasMore(){return this.i<this.codes.length}consumeNumber(){let e=this.codes[this.i++];return assertNumber(e,"expecting number in OpCode"),e}consumeString(){let e=this.codes[this.i++];return assertString(e,"expecting string in OpCode"),e}consumeFunction(){let e=this.codes[this.i++];if(null===e||"function"==typeof e)return e;throw new Error("expecting function in OpCode")}consumeNumberOrString(){let e=this.codes[this.i++];return"string"==typeof e||assertNumber(e,"expecting number or string in OpCode"),e}consumeNumberStringOrMarker(){let e=this.codes[this.i++];return"string"==typeof e||"number"==typeof e||e==Hr||e==Lr||assertNumber(e,"expecting number, string, ICU_MARKER or ELEMENT_MARKER in OpCode"),e}}const Vr=/�(\d+):?\d*�/gi,Gr=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,zr=/�(\d+)�/,qr=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,Wr="�",Kr=/�\/?\*(\d+:\d+)�/gi,Qr=/�(\/?[#*]\d+):?\d*�/gi,Xr=/\uE500/g;function attachDebugGetter(e,n){if(!ngDevMode)throw new Error("This method should be guarded with `ngDevMode` so that it can be tree shaken in production!");Object.defineProperty(e,"debug",{get:n,enumerable:!1})}function i18nStartFirstCreatePass(e,n,r,o,i,s){const a=getCurrentParentTNode(),c=[],u=[],p=[[]],f=[[]];ngDevMode&&(attachDebugGetter(c,i18nCreateOpCodesToString),attachDebugGetter(u,i18nUpdateOpCodesToString)),i=function getTranslationForTemplate(e,n){if(function isRootTemplateMessage(e){return-1===e}(n))return removeInnerTemplateTranslation(e);{const r=e.indexOf(`:${n}${Wr}`)+2+n.toString().length,o=e.search(new RegExp(`${Wr}\\/\\*\\d+:${n}${Wr}`));return removeInnerTemplateTranslation(e.substring(r,o))}}(i,s);const g=function replaceNgsp(e){return e.replace(Xr," ")}(i).split(Qr);for(let s=0;s<g.length;s++){let v=g[s];if(1&s){const n=47===v.charCodeAt(0),r=v.charCodeAt(n?1:0);ngDevMode&&assertOneOf(r,42,35);const o=at+Number.parseInt(v.substring(n?2:1));if(n)p.shift(),f.shift(),setCurrentTNode(getCurrentParentTNode(),!1);else{const n=createTNodePlaceholder(e,p[0],o);p.unshift([]),setCurrentTNode(n,!0);const i={kind:2,index:o,children:[],type:35===r?0:1};f[0].push(i),f.unshift(i.children)}}else{const s=i18nParseTextIntoPartsAndICU(v);for(let g=0;g<s.length;g++){let v=s[g];if(1&g){const s=v;if("object"!=typeof s)throw new Error(`Unable to parse ICU expression in "${i}" message.`);const g=createTNodeAndAddOpCode(e,a,p[0],r,c,ngDevMode?`ICU ${o}:${s.mainBinding}`:"",!0).index;ngDevMode&&assertGreaterThanOrEqual(g,at,"Index must be in absolute LView offset"),icuStart(f[0],e,r,u,n,s,g)}else{const n=v;ngDevMode&&assertString(n,"Parsed ICU part should be string"),""!==n&&i18nStartFirstCreatePassProcessTextNode(f[0],e,a,p[0],c,u,r,n)}}}}e.data[o]={create:c,update:u,ast:f[0]}}function createTNodeAndAddOpCode(e,n,r,o,i,s,a){const c=allocExpando(e,o,1,null);let u=c<<Ur.SHIFT,p=getCurrentParentTNode();n===p&&(p=null),null===p&&(u|=Ur.APPEND_EAGERLY),a&&(u|=Ur.COMMENT,function ensureIcuContainerVisitorLoaded(e){void 0===xn&&(xn=e())}(loadIcuContainerVisitor)),i.push(u,null===s?"":s);const f=createTNodeAtIndex(e,c,a?32:1,null===s?ngDevMode?"{{?}}":"":s,null);addTNodeAndUpdateInsertBeforeIndex(r,f);const g=f.index;return setCurrentTNode(f,!1),null!==p&&n!==p&&function setTNodeInsertBeforeIndex(e,n){ngDevMode&&assertTNode(e);let r=e.insertBeforeIndex;null===r?(setI18nHandling(getInsertInFrontOfRNodeWithI18n,processI18nInsertBefore),r=e.insertBeforeIndex=[null,n]):(assertEqual(Array.isArray(r),!0,"Expecting array here"),r.push(n))}(p,g),f}function i18nStartFirstCreatePassProcessTextNode(e,n,r,o,i,s,a,c){const u=c.match(Vr),p=createTNodeAndAddOpCode(n,r,o,a,i,u?null:c,!1).index;u&&generateBindingUpdateOpCodes(s,c,p,null,0,null),e.push({kind:0,index:p})}function generateBindingUpdateOpCodes(e,n,r,o,i,s){ngDevMode&&assertGreaterThanOrEqual(r,at,"Index must be in absolute LView offset");const a=e.length,c=a+1;e.push(null,null);const u=a+2;ngDevMode&&attachDebugGetter(e,i18nUpdateOpCodesToString);const p=n.split(Vr);let f=0;for(let n=0;n<p.length;n++){const r=p[n];if(1&n){const n=i+parseInt(r,10);e.push(-1-n),f|=toMaskBit(n)}else""!==r&&e.push(r)}return e.push(r<<2|(o?1:0)),o&&e.push(o,s),e[a]=f,e[c]=e.length-u,f}function countBindings(e){let n=0;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o&&o<0&&n++}return n}function toMaskBit(e){return 1<<Math.min(e,31)}function removeInnerTemplateTranslation(e){let n,r,o="",i=0,s=!1;for(;null!==(n=Kr.exec(e));)s?n[0]===`${Wr}/*${r}${Wr}`&&(i=n.index,s=!1):(o+=e.substring(i,n.index+n[0].length),r=n[1],s=!0);return ngDevMode&&assertEqual(s,!1,`Tag mismatch: unable to find the end of the sub-template in the translation "${e}"`),o+=e.slice(i),o}function icuStart(e,n,r,o,i,s,a){ngDevMode&&assertDefined(s,"ICU expression must be defined");let c=0;const u={type:s.type,currentCaseLViewIndex:allocExpando(n,r,1,null),anchorIdx:a,cases:[],create:[],remove:[],update:[]};!function addUpdateIcuSwitch(e,n,r){e.push(toMaskBit(n.mainBinding),2,-1-n.mainBinding,r<<2|2)}(o,s,a),function setTIcu(e,n,r){const o=e.data[n];ngDevMode&&assertEqual(null===o||o.hasOwnProperty("tView"),!0,"We expect to get 'null'|'TIcuContainer'"),null===o?e.data[n]=r:(ngDevMode&&assertTNodeType(o,32),o.value=r)}(n,a,u);const p=s.values,f=[];for(let e=0;e<p.length;e++){const a=p[e],g=[];for(let e=0;e<a.length;e++){const n=a[e];if("string"!=typeof n){const r=g.push(n)-1;a[e]=`\x3c!--�${r}�--\x3e`}}const v=[];f.push(v),c=parseIcuCase(v,n,u,r,o,i,s.cases[e],a.join(""),g)|c}c&&!function addUpdateIcuUpdate(e,n,r){e.push(n,1,r<<2|3)}(o,c,a),e.push({kind:3,index:a,cases:f,currentCaseLViewIndex:u.currentCaseLViewIndex})}function parseICUBlock(e){const n=[],r=[];let o=1,i=0;const s=i18nParseTextIntoPartsAndICU(e=e.replace(qr,(function(e,n,r){return o="select"===r?0:1,i=parseInt(n.slice(1),10),""})));for(let e=0;e<s.length;){let i=s[e++].trim();1===o&&(i=i.replace(/\s*(?:=)?(\w+)\s*/,"$1")),i.length&&n.push(i);const a=i18nParseTextIntoPartsAndICU(s[e++]);n.length>r.length&&r.push(a)}return{type:o,mainBinding:i,cases:n,values:r}}function i18nParseTextIntoPartsAndICU(e){if(!e)return[];let n=0;const r=[],o=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(r.pop(),0==r.length){const r=e.substring(n,i);qr.test(r)?o.push(parseICUBlock(r)):o.push(r),n=i+1}}else{if(0==r.length){const r=e.substring(n,i);o.push(r),n=i+1}r.push("{")}}const a=e.substring(n);return o.push(a),o}function parseIcuCase(e,n,r,o,i,s,a,c,u){const p=[],f=[],g=[];ngDevMode&&(attachDebugGetter(p,icuCreateOpCodesToString),attachDebugGetter(f,i18nRemoveOpCodesToString),attachDebugGetter(g,i18nUpdateOpCodesToString)),r.cases.push(a),r.create.push(p),r.remove.push(f),r.update.push(g);const v=getInertBodyHelper(getDocument()).getInertBodyElement(c);ngDevMode&&assertDefined(v,"Unable to generate inert body element");const C=getTemplateContent(v)||v;return C?walkIcuTree(e,n,r,o,i,p,f,g,C,s,u,0):0}function walkIcuTree(e,n,r,o,i,s,a,c,u,p,f,g){let v=0,C=u.firstChild;for(;C;){const u=allocExpando(n,o,1,null);switch(C.nodeType){case Node.ELEMENT_NODE:const b=C,w=b.tagName.toLowerCase();if(cn.hasOwnProperty(w)){addCreateNodeAndAppend(s,Lr,w,p,u),n.data[u]=w;const A=b.attributes;for(let e=0;e<A.length;e++){const n=A.item(e),r=n.name.toLowerCase();!!n.value.match(Vr)?gn.hasOwnProperty(r)?generateBindingUpdateOpCodes(c,n.value,u,n.name,0,un[r]?_sanitizeUrl:null):ngDevMode&&console.warn(`WARNING: ignoring unsafe attribute value ${r} on element ${w} (see ${k})`):addCreateAttribute(s,u,n)}const _={kind:1,index:u,children:[]};e.push(_),v=walkIcuTree(_.children,n,r,o,i,s,a,c,C,u,f,g+1)|v,addRemoveNode(a,u,g)}break;case Node.TEXT_NODE:const A=C.textContent||"",_=A.match(Vr);addCreateNodeAndAppend(s,null,_?"":A,p,u),addRemoveNode(a,u,g),_&&(v=generateBindingUpdateOpCodes(c,A,u,null,0,null)|v),e.push({kind:0,index:u});break;case Node.COMMENT_NODE:const E=zr.exec(C.textContent||"");if(E){const r=parseInt(E[1],10),c=f[r];addCreateNodeAndAppend(s,Hr,ngDevMode?`nested ICU ${r}`:"",p,u),icuStart(e,n,o,i,p,c,u),addRemoveNestedIcu(a,u,g)}}C=C.nextSibling}return v}function addRemoveNode(e,n,r){0===r&&e.push(n)}function addRemoveNestedIcu(e,n,r){0===r&&(e.push(~n),e.push(n))}function addCreateNodeAndAppend(e,n,r,o,i){null!==n&&e.push(n),e.push(r,i,function icuCreateOpCode(e,n,r){return ngDevMode&&assertGreaterThanOrEqual(n,0,"Missing parent index"),ngDevMode&&assertGreaterThan(r,0,"Missing ref index"),e|n<<17|r<<1}(0,o,i))}function addCreateAttribute(e,n,r){e.push(n<<1|1,r.name,r.value)}const Yr=/\[(�.+?�?)\]/,Jr=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,Zr=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,eo=/{([A-Z0-9_]+)}/g,to=/�I18N_EXP_(ICU(_\d+)?)�/g,no=/\/\*/,ro=/\d+\:(\d+)/;function ɵɵi18nStart(e,n,r=-1){const o=getTView(),i=getLView(),s=at+e;ngDevMode&&assertDefined(o,"tView should be defined");const a=getConstant(o.consts,n),c=getCurrentParentTNode();if(o.firstCreatePass&&i18nStartFirstCreatePass(o,null===c?0:c.index,i,s,a,r),2===o.type){i[Je][Ue]|=32}else i[Ue]|=32;const u=o.data[s],p=getClosestRElement(o,c===i[je]?null:c,i);!function applyCreateOpCodes(e,n,r,o){const i=e[Ke];for(let s=0;s<n.length;s++){const a=n[s++],c=(a&Ur.APPEND_EAGERLY)===Ur.APPEND_EAGERLY,u=a>>>Ur.SHIFT;let p=e[u],f=!1;null===p&&(p=e[u]=_locateOrCreateNode(e,u,n[s],(a&Ur.COMMENT)===Ur.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),f=wasLastNodeCreated()),c&&null!==r&&f&&nativeInsertBefore(i,r,p,o,!1)}}(i,u.create,p,c&&8&c.type?i[c.index]:null),setInI18nBlock(!0)}function ɵɵi18nEnd(){setInI18nBlock(!1)}function ɵɵi18n(e,n,r){ɵɵi18nStart(e,n,r),ɵɵi18nEnd()}function ɵɵi18nAttributes(e,n){const r=getTView();ngDevMode&&assertDefined(r,"tView should be defined");const o=getConstant(r.consts,n);!function i18nAttributesFirstPass(e,n,r){const o=getCurrentTNode().index,i=[];if(ngDevMode&&attachDebugGetter(i,i18nUpdateOpCodesToString),e.firstCreatePass&&null===e.data[n]){for(let e=0;e<r.length;e+=2){const n=r[e],s=r[e+1];if(""!==s){if(Gr.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);generateBindingUpdateOpCodes(i,s,o,n,countBindings(i),null)}}e.data[n]=i}}(r,e+at,o)}function ɵɵi18nExp(e){return!function setMaskBit(e){e&&($r|=1<<Math.min(jr,31)),jr++}(bindingUpdated(getLView(),nextBindingIndex(),e)),ɵɵi18nExp}function ɵɵi18nApply(e){!function applyI18n(e,n,r){if(jr>0){ngDevMode&&assertDefined(e,"tView should be defined");const o=e.data[r];applyUpdateOpCodes(e,n,Array.isArray(o)?o:o.update,getBindingIndex()-jr-1,$r)}$r=0,jr=0}(getTView(),getLView(),e+at)}function ɵɵi18nPostprocess(e,n={}){return function i18nPostprocess(e,n={}){let r=e;if(Yr.test(e)){const e={},n=[0];r=r.replace(Jr,((r,o,i)=>{const s=o||i,a=e[s]||[];if(a.length||(s.split("|").forEach((e=>{const n=e.match(ro),r=n?parseInt(n[1],10):0,o=no.test(e);a.push([r,o,e])})),e[s]=a),!a.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const c=n[n.length-1];let u=0;for(let e=0;e<a.length;e++)if(a[e][0]===c){u=e;break}const[p,f,g]=a[u];return f?n.pop():c!==p&&n.push(p),a.splice(u,1),g}))}return Object.keys(n).length?(r=r.replace(Zr,((e,r,o,i,s,a)=>n.hasOwnProperty(o)?`${r}${n[o]}${a}`:e)),r=r.replace(eo,((e,r)=>n.hasOwnProperty(r)?n[r]:e)),r=r.replace(to,((e,r)=>{if(n.hasOwnProperty(r)){const o=n[r];if(!o.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${r}`);return o.shift()}return e})),r):r}(e,n)}function ɵɵlistener(e,n,r,o){const i=getLView(),s=getTView(),a=getCurrentTNode();return listenerInternal(s,i,i[Ke],a,e,n,o),ɵɵlistener}function ɵɵsyntheticHostListener(e,n){const r=getCurrentTNode(),o=getLView(),i=getTView();return listenerInternal(i,o,loadComponentRenderer(getCurrentDirectiveDef(i.data),r,o),r,e,n),ɵɵsyntheticHostListener}function listenerInternal(e,n,r,o,i,s,a){const c=isDirectiveHost(o),u=e.firstCreatePass&&getOrCreateTViewCleanup(e),p=n[ze],f=getOrCreateLViewCleanup(n);ngDevMode&&assertTNodeType(o,15);let g=!0;if(3&o.type||a){const v=getNativeByTNode(o,n),C=a?a(v):v,b=f.length,w=a?e=>a(unwrapRNode(e[o.index])):o.index;let A=null;if(!a&&c&&(A=function findExistingListener(e,n,r,o){const i=e.cleanup;if(null!=i)for(let e=0;e<i.length-1;e+=2){const s=i[e];if(s===r&&i[e+1]===o){const r=n[Ge],o=i[e+2];return r.length>o?r[o]:null}"string"==typeof s&&(e+=2)}return null}(e,n,i,o.index)),null!==A){(A.__ngLastListenerFn__||A).__ngNextListenerFn__=s,A.__ngLastListenerFn__=s,g=!1}else{s=wrapListener(o,n,p,s,!1);const e=r.listen(C,i,s);ngDevMode&&ngDevMode.rendererAddEventListener++,f.push(s,e),u&&u.push(i,w,b,b+1)}}else s=wrapListener(o,n,p,s,!1);const v=o.outputs;let C;if(g&&null!==v&&(C=v[i])){const e=C.length;if(e)for(let r=0;r<e;r+=2){const e=C[r];ngDevMode&&assertIndexInRange(n,e);const a=C[r+1],c=n[e],p=c[a];if(ngDevMode&&(null==(b=p)||"function"!=typeof b.subscribe))throw new Error(`@Output ${a} not initialized in '${c.constructor.name}'.`);const g=p.subscribe(s),v=f.length;f.push(s,g),u&&u.push(i,o.index,v,-(v+1))}}var b}function executeListenerWithErrorHandling(e,n,r,o){const i=setActiveConsumer(null);try{return profiler(6,n,r),!1!==r(o)}catch(n){return handleError(e,n),!1}finally{profiler(7,n,r),setActiveConsumer(i)}}function wrapListener(e,n,r,o,i){return function wrapListenerIn_markDirtyAndPreventDefault(s){if(s===Function)return o;markViewDirty(e.componentOffset>-1?getComponentLViewByIndex(e.index,n):n);let a=executeListenerWithErrorHandling(n,r,o,s),c=wrapListenerIn_markDirtyAndPreventDefault.__ngNextListenerFn__;for(;c;)a=executeListenerWithErrorHandling(n,r,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&s.preventDefault(),a}}function ɵɵnextContext(e=1){return function nextContextImpl(e){return(vt.lFrame.contextLView=walkUpViews(e,vt.lFrame.contextLView))[ze]}(e)}function matchingProjectionSlotIndex(e,n){let r=null;const o=function getProjectAsAttrValue(e){const n=e.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(e);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===o?isNodeMatchingSelectorList(e,s,!0):isSelectorInSelectorList(o,s))return i}else r=i}return r}function ɵɵprojectionDef(e){const n=getLView()[Je][je];if(!n.projection){const r=n.projection=newArray(e?e.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const n=e?matchingProjectionSlotIndex(i,e):0;null!==n&&(o[n]?o[n].projectionNext=i:r[n]=i,o[n]=i),i=i.next}}}function ɵɵprojection(e,n=0,r){const o=getLView(),i=getTView(),s=getOrCreateTNode(i,at+e,16,null,r||null);null===s.projection&&(s.projection=n),setCurrentTNodeAsNotParent();(!o[Ve]||isInSkipHydrationBlock$1())&&32&~s.flags&&!function applyProjection(e,n,r){applyProjectionRecursive(n[Ke],0,n,r,getParentRElement(e,r,n),getInsertInFrontOfRNode(r.parent||n[je],r,n))}(i,o,s)}function ɵɵpropertyInterpolate(e,n,r){return ɵɵpropertyInterpolate1(e,"",n,"",r),ɵɵpropertyInterpolate}function ɵɵpropertyInterpolate1(e,n,r,o,i){const s=getLView(),a=interpolation1(s,n,r,o);if(a!==Rn){const r=getTView(),c=getSelectedTNode();elementPropertyInternal(r,c,s,e,a,s[Ke],i,!1),ngDevMode&&storePropertyBindingMetadata(r.data,c,e,getBindingIndex()-1,n,o)}return ɵɵpropertyInterpolate1}function ɵɵpropertyInterpolate2(e,n,r,o,i,s,a){const c=getLView(),u=interpolation2(c,n,r,o,i,s);if(u!==Rn){const r=getTView(),i=getSelectedTNode();elementPropertyInternal(r,i,c,e,u,c[Ke],a,!1),ngDevMode&&storePropertyBindingMetadata(r.data,i,e,getBindingIndex()-2,n,o,s)}return ɵɵpropertyInterpolate2}function ɵɵpropertyInterpolate3(e,n,r,o,i,s,a,c,u){const p=getLView(),f=interpolation3(p,n,r,o,i,s,a,c);if(f!==Rn){const r=getTView(),i=getSelectedTNode();elementPropertyInternal(r,i,p,e,f,p[Ke],u,!1),ngDevMode&&storePropertyBindingMetadata(r.data,i,e,getBindingIndex()-3,n,o,s,c)}return ɵɵpropertyInterpolate3}function ɵɵpropertyInterpolate4(e,n,r,o,i,s,a,c,u,p,f){const g=getLView(),v=interpolation4(g,n,r,o,i,s,a,c,u,p);if(v!==Rn){const r=getTView(),i=getSelectedTNode();elementPropertyInternal(r,i,g,e,v,g[Ke],f,!1),ngDevMode&&storePropertyBindingMetadata(r.data,i,e,getBindingIndex()-4,n,o,s,c,p)}return ɵɵpropertyInterpolate4}function ɵɵpropertyInterpolate5(e,n,r,o,i,s,a,c,u,p,f,g,v){const C=getLView(),b=interpolation5(C,n,r,o,i,s,a,c,u,p,f,g);if(b!==Rn){const r=getTView(),i=getSelectedTNode();elementPropertyInternal(r,i,C,e,b,C[Ke],v,!1),ngDevMode&&storePropertyBindingMetadata(r.data,i,e,getBindingIndex()-5,n,o,s,c,p,g)}return ɵɵpropertyInterpolate5}function ɵɵpropertyInterpolate6(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b){const w=getLView(),A=interpolation6(w,n,r,o,i,s,a,c,u,p,f,g,v,C);if(A!==Rn){const r=getTView(),i=getSelectedTNode();elementPropertyInternal(r,i,w,e,A,w[Ke],b,!1),ngDevMode&&storePropertyBindingMetadata(r.data,i,e,getBindingIndex()-6,n,o,s,c,p,g,C)}return ɵɵpropertyInterpolate6}function ɵɵpropertyInterpolate7(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A){const _=getLView(),E=interpolation7(_,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w);if(E!==Rn){const r=getTView(),i=getSelectedTNode();elementPropertyInternal(r,i,_,e,E,_[Ke],A,!1),ngDevMode&&storePropertyBindingMetadata(r.data,i,e,getBindingIndex()-7,n,o,s,c,p,g,C,w)}return ɵɵpropertyInterpolate7}function ɵɵpropertyInterpolate8(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_,E){const I=getLView(),T=interpolation8(I,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_);if(T!==Rn){const r=getTView(),i=getSelectedTNode();elementPropertyInternal(r,i,I,e,T,I[Ke],E,!1),ngDevMode&&storePropertyBindingMetadata(r.data,i,e,getBindingIndex()-8,n,o,s,c,p,g,C,w,_)}return ɵɵpropertyInterpolate8}function ɵɵpropertyInterpolateV(e,n,r){const o=getLView(),i=interpolationV(o,n);if(i!==Rn){const s=getTView(),a=getSelectedTNode();if(elementPropertyInternal(s,a,o,e,i,o[Ke],r,!1),ngDevMode){const r=[n[0]];for(let e=2;e<n.length;e+=2)r.push(n[e]);storePropertyBindingMetadata(s.data,a,e,getBindingIndex()-r.length+1,...r)}}return ɵɵpropertyInterpolateV}function ɵɵcontentQuery(e,n,r,o){createContentQuery(e,n,r,o)}function ɵɵviewQuery(e,n,r){createViewQuery(e,n,r)}function ɵɵqueryRefresh(e){const n=getLView(),r=getTView(),o=getCurrentQueryIndex();setCurrentQueryIndex(o+1);const i=getTQuery(r,o);if(e.dirty&&isCreationMode(n)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const r=getQueryResults(n,o);e.reset(r,unwrapElementRef),e.notifyOnChanges()}return!0}return!1}function ɵɵloadQuery(){return loadQueryInternal(getLView(),getCurrentQueryIndex())}function ɵɵcontentQuerySignal(e,n,r,o,i){bindQueryToSignal(n,createContentQuery(e,r,o,i))}function ɵɵviewQuerySignal(e,n,r,o){bindQueryToSignal(e,createViewQuery(n,r,o))}function ɵɵqueryAdvance(e=1){setCurrentQueryIndex(getCurrentQueryIndex()+e)}function ɵɵreference(e){return load(function getContextLView(){const e=vt.lFrame.contextLView;return ngDevMode&&assertDefined(e,"contextLView must be defined."),e}(),at+e)}function ɵɵstyleMapInterpolate1(e,n,r){ɵɵstyleMap(interpolation1(getLView(),e,n,r))}function ɵɵstyleMapInterpolate2(e,n,r,o,i){ɵɵstyleMap(interpolation2(getLView(),e,n,r,o,i))}function ɵɵstyleMapInterpolate3(e,n,r,o,i,s,a){ɵɵstyleMap(interpolation3(getLView(),e,n,r,o,i,s,a))}function ɵɵstyleMapInterpolate4(e,n,r,o,i,s,a,c,u){ɵɵstyleMap(interpolation4(getLView(),e,n,r,o,i,s,a,c,u))}function ɵɵstyleMapInterpolate5(e,n,r,o,i,s,a,c,u,p,f){ɵɵstyleMap(interpolation5(getLView(),e,n,r,o,i,s,a,c,u,p,f))}function ɵɵstyleMapInterpolate6(e,n,r,o,i,s,a,c,u,p,f,g,v){ɵɵstyleMap(interpolation6(getLView(),e,n,r,o,i,s,a,c,u,p,f,g,v))}function ɵɵstyleMapInterpolate7(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b){ɵɵstyleMap(interpolation7(getLView(),e,n,r,o,i,s,a,c,u,p,f,g,v,C,b))}function ɵɵstyleMapInterpolate8(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A){ɵɵstyleMap(interpolation8(getLView(),e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A))}function ɵɵstyleMapInterpolateV(e){ɵɵstyleMap(interpolationV(getLView(),e))}function ɵɵstylePropInterpolate1(e,n,r,o,i){return checkStylingProperty(e,interpolation1(getLView(),n,r,o),i,!1),ɵɵstylePropInterpolate1}function ɵɵstylePropInterpolate2(e,n,r,o,i,s,a){return checkStylingProperty(e,interpolation2(getLView(),n,r,o,i,s),a,!1),ɵɵstylePropInterpolate2}function ɵɵstylePropInterpolate3(e,n,r,o,i,s,a,c,u){return checkStylingProperty(e,interpolation3(getLView(),n,r,o,i,s,a,c),u,!1),ɵɵstylePropInterpolate3}function ɵɵstylePropInterpolate4(e,n,r,o,i,s,a,c,u,p,f){return checkStylingProperty(e,interpolation4(getLView(),n,r,o,i,s,a,c,u,p),f,!1),ɵɵstylePropInterpolate4}function ɵɵstylePropInterpolate5(e,n,r,o,i,s,a,c,u,p,f,g,v){return checkStylingProperty(e,interpolation5(getLView(),n,r,o,i,s,a,c,u,p,f,g),v,!1),ɵɵstylePropInterpolate5}function ɵɵstylePropInterpolate6(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b){return checkStylingProperty(e,interpolation6(getLView(),n,r,o,i,s,a,c,u,p,f,g,v,C),b,!1),ɵɵstylePropInterpolate6}function ɵɵstylePropInterpolate7(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A){return checkStylingProperty(e,interpolation7(getLView(),n,r,o,i,s,a,c,u,p,f,g,v,C,b,w),A,!1),ɵɵstylePropInterpolate7}function ɵɵstylePropInterpolate8(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_,E){return checkStylingProperty(e,interpolation8(getLView(),n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A,_),E,!1),ɵɵstylePropInterpolate8}function ɵɵstylePropInterpolateV(e,n,r){return checkStylingProperty(e,interpolationV(getLView(),n),r,!1),ɵɵstylePropInterpolateV}function ɵɵtext(e,n=""){const r=getLView(),o=getTView(),i=e+at;ngDevMode&&assertEqual(getBindingIndex(),o.bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&assertIndexInRange(r,i);const s=o.firstCreatePass?getOrCreateTNode(o,i,1,n,null):o.data[i],a=_locateOrCreateTextNode(o,r,s,n,e);r[i]=a,wasLastNodeCreated()&&appendChild(o,r,a,s),setCurrentTNode(s,!1)}let _locateOrCreateTextNode=(e,n,r,o,i)=>(lastNodeWasCreated(!0),createTextNode(n[Ke],o));function ɵɵtextInterpolate(e){return ɵɵtextInterpolate1("",e,""),ɵɵtextInterpolate}function ɵɵtextInterpolate1(e,n,r){const o=getLView(),i=interpolation1(o,e,n,r);return i!==Rn&&textBindingInternal(o,getSelectedIndex(),i),ɵɵtextInterpolate1}function ɵɵtextInterpolate2(e,n,r,o,i){const s=getLView(),a=interpolation2(s,e,n,r,o,i);return a!==Rn&&textBindingInternal(s,getSelectedIndex(),a),ɵɵtextInterpolate2}function ɵɵtextInterpolate3(e,n,r,o,i,s,a){const c=getLView(),u=interpolation3(c,e,n,r,o,i,s,a);return u!==Rn&&textBindingInternal(c,getSelectedIndex(),u),ɵɵtextInterpolate3}function ɵɵtextInterpolate4(e,n,r,o,i,s,a,c,u){const p=getLView(),f=interpolation4(p,e,n,r,o,i,s,a,c,u);return f!==Rn&&textBindingInternal(p,getSelectedIndex(),f),ɵɵtextInterpolate4}function ɵɵtextInterpolate5(e,n,r,o,i,s,a,c,u,p,f){const g=getLView(),v=interpolation5(g,e,n,r,o,i,s,a,c,u,p,f);return v!==Rn&&textBindingInternal(g,getSelectedIndex(),v),ɵɵtextInterpolate5}function ɵɵtextInterpolate6(e,n,r,o,i,s,a,c,u,p,f,g,v){const C=getLView(),b=interpolation6(C,e,n,r,o,i,s,a,c,u,p,f,g,v);return b!==Rn&&textBindingInternal(C,getSelectedIndex(),b),ɵɵtextInterpolate6}function ɵɵtextInterpolate7(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b){const w=getLView(),A=interpolation7(w,e,n,r,o,i,s,a,c,u,p,f,g,v,C,b);return A!==Rn&&textBindingInternal(w,getSelectedIndex(),A),ɵɵtextInterpolate7}function ɵɵtextInterpolate8(e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A){const _=getLView(),E=interpolation8(_,e,n,r,o,i,s,a,c,u,p,f,g,v,C,b,w,A);return E!==Rn&&textBindingInternal(_,getSelectedIndex(),E),ɵɵtextInterpolate8}function ɵɵtextInterpolateV(e){const n=getLView(),r=interpolationV(n,e);return r!==Rn&&textBindingInternal(n,getSelectedIndex(),r),ɵɵtextInterpolateV}function ɵɵtwoWayProperty(e,n,r){isWritableSignal(n)&&(n=n());const o=getLView(),i=nextBindingIndex();if(bindingUpdated(o,i,n)){const s=getTView(),a=getSelectedTNode();elementPropertyInternal(s,a,o,e,n,o[Ke],r,!1),ngDevMode&&storePropertyBindingMetadata(s.data,a,e,i)}return ɵɵtwoWayProperty}function ɵɵtwoWayBindingSet(e,n){const r=isWritableSignal(e);return r&&e.set(n),r}function ɵɵtwoWayListener(e,n){const r=getLView(),o=getTView(),i=getCurrentTNode();return listenerInternal(o,r,r[Ke],i,e,n),ɵɵtwoWayListener}function resolveProvider(e,n,r,o,i){if(e=resolveForwardRef(e),Array.isArray(e))for(let s=0;s<e.length;s++)resolveProvider(e[s],n,r,o,i);else{const s=getTView(),a=getLView(),c=getCurrentTNode();let u=isTypeProvider(e)?e:resolveForwardRef(e.provide);const p=providerToFactory(e);if(ngDevMode){runInInjectorProfilerContext(new NodeInjector(c,a),u,(()=>{emitProviderConfiguredEvent(e,i)}))}const f=1048575&c.providerIndexes,g=c.directiveStart,v=c.providerIndexes>>20;if(isTypeProvider(e)||!e.multi){const o=new NodeInjectorFactory(p,i,ɵɵdirectiveInject),C=indexOf(u,n,i?f:f+v,g);-1===C?(diPublicInInjector(getOrCreateNodeInjectorForNode(c,a),s,u),registerDestroyHooksIfSupported(s,e,n.length),n.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(o),a.push(o)):(r[C]=o,a[C]=o)}else{const C=indexOf(u,n,f+v,g),b=indexOf(u,n,f,f+v),w=b>=0&&r[b];if(i&&!w||!i&&!(C>=0&&r[C])){diPublicInInjector(getOrCreateNodeInjectorForNode(c,a),s,u);const f=function multiFactory(e,n,r,o,i){const s=new NodeInjectorFactory(e,r,ɵɵdirectiveInject);return s.multi=[],s.index=n,s.componentProviders=0,multiFactoryAdd(s,i,o&&!r),s}(i?multiViewProvidersFactoryResolver:multiProvidersFactoryResolver,r.length,i,o,p);!i&&w&&(r[b].providerFactory=f),registerDestroyHooksIfSupported(s,e,n.length,0),n.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(f),a.push(f)}else{const n=multiFactoryAdd(r[i?b:C],p,!i&&o);registerDestroyHooksIfSupported(s,e,C>-1?C:b,n)}!i&&o&&w&&r[b].componentProviders++}}}function registerDestroyHooksIfSupported(e,n,r,o){const i=isTypeProvider(n),s=function isClassProvider(e){return!!e.useClass}(n);if(i||s){const a=(s?resolveForwardRef(n.useClass):n).prototype.ngOnDestroy;if(a){const s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){ngDevMode&&assertDefined(o,"indexInFactory when registering multi factory destroy hook");const e=s.indexOf(r);-1===e?s.push(r,[o,a]):s[e+1].push(o,a)}else s.push(r,a)}}}function multiFactoryAdd(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function indexOf(e,n,r,o){for(let i=r;i<o;i++)if(n[i]===e)return i;return-1}function multiProvidersFactoryResolver(e,n,r,o){return multiResolve(this.multi,[])}function multiViewProvidersFactoryResolver(e,n,r,o){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,n=getNodeInjectable(r,r[He],this.providerFactory.index,o);s=n.slice(0,e),multiResolve(i,s);for(let r=e;r<n.length;r++)s.push(n[r])}else s=[],multiResolve(i,s);return s}function multiResolve(e,n){for(let r=0;r<e.length;r++){n.push((0,e[r])())}return n}function ɵɵProvidersFeature(e,n=[]){return r=>{r.providersResolver=(r,o)=>function providersResolver(e,n,r){const o=getTView();if(o.firstCreatePass){const i=isComponentDef(e);resolveProvider(r,o.data,o.blueprint,i,!0),resolveProvider(n,o.data,o.blueprint,i,!1)}}(r,o?o(e):e,n)}}let oo=(()=>{var e;class StandaloneService{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const n=internalImportProvidersFrom(!1,e.type),r=n.length>0?createEnvironmentInjector([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return(e=StandaloneService).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"environment",factory:()=>new e(ɵɵinject(EnvironmentInjector))}),StandaloneService})();function ɵɵStandaloneFeature(e){performanceMarkFeature("NgStandalone"),e.getStandaloneInjector=n=>n.get(oo).getOrCreateStandaloneInjector(e)}function ɵɵsetComponentScope(e,n,r){const o=e.ɵcmp;o.directiveDefs=extractDefListOrFactory(n,!1),o.pipeDefs=extractDefListOrFactory(r,!0)}function ɵɵsetNgModuleScope(e,n){return noSideEffects((()=>{const r=getNgModuleDef(e,!0);r.declarations=convertToTypeArray(n.declarations||ge),r.imports=convertToTypeArray(n.imports||ge),r.exports=convertToTypeArray(n.exports||ge),n.bootstrap&&(r.bootstrap=convertToTypeArray(n.bootstrap)),Jn.registerNgModule(e,n)}))}function convertToTypeArray(e){if("function"==typeof e)return e;const n=flatten(e);return n.some(isForwardRef)?()=>n.map(resolveForwardRef).map(maybeUnwrapModuleWithProviders):n.map(maybeUnwrapModuleWithProviders)}function maybeUnwrapModuleWithProviders(e){return isModuleWithProviders(e)?e.ngModule:e}function ɵɵpureFunction0(e,n,r){const o=getBindingRoot()+e,i=getLView();return i[o]===Rn?updateBinding(i,o,r?n.call(r):n()):getBinding(i,o)}function ɵɵpureFunction1(e,n,r,o){return pureFunction1Internal(getLView(),getBindingRoot(),e,n,r,o)}function ɵɵpureFunction2(e,n,r,o,i){return pureFunction2Internal(getLView(),getBindingRoot(),e,n,r,o,i)}function ɵɵpureFunction3(e,n,r,o,i,s){return pureFunction3Internal(getLView(),getBindingRoot(),e,n,r,o,i,s)}function ɵɵpureFunction4(e,n,r,o,i,s,a){return pureFunction4Internal(getLView(),getBindingRoot(),e,n,r,o,i,s,a)}function ɵɵpureFunction5(e,n,r,o,i,s,a,c){const u=getBindingRoot()+e,p=getLView(),f=bindingUpdated4(p,u,r,o,i,s);return bindingUpdated(p,u+4,a)||f?updateBinding(p,u+5,c?n.call(c,r,o,i,s,a):n(r,o,i,s,a)):getBinding(p,u+5)}function ɵɵpureFunction6(e,n,r,o,i,s,a,c,u){const p=getBindingRoot()+e,f=getLView(),g=bindingUpdated4(f,p,r,o,i,s);return bindingUpdated2(f,p+4,a,c)||g?updateBinding(f,p+6,u?n.call(u,r,o,i,s,a,c):n(r,o,i,s,a,c)):getBinding(f,p+6)}function ɵɵpureFunction7(e,n,r,o,i,s,a,c,u,p){const f=getBindingRoot()+e,g=getLView();let v=bindingUpdated4(g,f,r,o,i,s);return bindingUpdated3(g,f+4,a,c,u)||v?updateBinding(g,f+7,p?n.call(p,r,o,i,s,a,c,u):n(r,o,i,s,a,c,u)):getBinding(g,f+7)}function ɵɵpureFunction8(e,n,r,o,i,s,a,c,u,p,f){const g=getBindingRoot()+e,v=getLView(),C=bindingUpdated4(v,g,r,o,i,s);return bindingUpdated4(v,g+4,a,c,u,p)||C?updateBinding(v,g+8,f?n.call(f,r,o,i,s,a,c,u,p):n(r,o,i,s,a,c,u,p)):getBinding(v,g+8)}function ɵɵpureFunctionV(e,n,r,o){return pureFunctionVInternal(getLView(),getBindingRoot(),e,n,r,o)}function getPureFunctionReturnValue(e,n){ngDevMode&&assertIndexInRange(e,n);const r=e[n];return r===Rn?void 0:r}function pureFunction1Internal(e,n,r,o,i,s){const a=n+r;return bindingUpdated(e,a,i)?updateBinding(e,a+1,s?o.call(s,i):o(i)):getPureFunctionReturnValue(e,a+1)}function pureFunction2Internal(e,n,r,o,i,s,a){const c=n+r;return bindingUpdated2(e,c,i,s)?updateBinding(e,c+2,a?o.call(a,i,s):o(i,s)):getPureFunctionReturnValue(e,c+2)}function pureFunction3Internal(e,n,r,o,i,s,a,c){const u=n+r;return bindingUpdated3(e,u,i,s,a)?updateBinding(e,u+3,c?o.call(c,i,s,a):o(i,s,a)):getPureFunctionReturnValue(e,u+3)}function pureFunction4Internal(e,n,r,o,i,s,a,c,u){const p=n+r;return bindingUpdated4(e,p,i,s,a,c)?updateBinding(e,p+4,u?o.call(u,i,s,a,c):o(i,s,a,c)):getPureFunctionReturnValue(e,p+4)}function pureFunctionVInternal(e,n,r,o,i,s){let a=n+r,c=!1;for(let n=0;n<i.length;n++)bindingUpdated(e,a++,i[n])&&(c=!0);return c?updateBinding(e,a,o.apply(s,i)):getPureFunctionReturnValue(e,a)}function ɵɵpipe(e,n){const r=getTView();let o;const i=e+at;var s;r.firstCreatePass?(o=function getPipeDef(e,n){if(n){if(ngDevMode){n.filter((n=>n.name===e)).length>1&&console.warn(formatRuntimeError(313,function getMultipleMatchingPipesMessage(e){const n=getLView(),r=n[Je][ze],o=isHostComponentStandalone(n),i=`Multiple pipes match the name \`${e}\`${r?` in the '${r.constructor.name}' component`:""}. ${"check "+(o?"'@Component.imports' of this component":"the imports of this module")}`;return i}(e)))}for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}if(ngDevMode)throw new RuntimeError(-302,function getPipeNotFoundErrorMessage(e){const n=getLView(),r=n[Je][ze],o=isHostComponentStandalone(n),i=`The pipe '${e}' could not be found${r?` in the '${r.constructor.name}' component`:""}. ${"Verify that it is "+(o?"included in the '@Component.imports' of this component":"declared or imported in this module")}`;return i}(e));return}(n,r.pipeRegistry),r.data[i]=o,o.onDestroy&&(null!==(s=r.destroyHooks)&&void 0!==s?s:r.destroyHooks=[]).push(i,o.onDestroy)):o=r.data[i];const a=o.factory||(o.factory=getFactoryDef(o.type,!0));let c;ngDevMode&&(c=setInjectorProfilerContext({injector:new NodeInjector(getCurrentTNode(),getLView()),token:o.type}));const u=setInjectImplementation(ɵɵdirectiveInject);try{const e=setIncludeViewProviders(!1),n=a();return setIncludeViewProviders(e),function store(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}(r,getLView(),i,n),n}finally{setInjectImplementation(u),ngDevMode&&setInjectorProfilerContext(c)}}function ɵɵpipeBind1(e,n,r){const o=e+at,i=getLView(),s=load(i,o);return isPure(i,o)?pureFunction1Internal(i,getBindingRoot(),n,s.transform,r,s):s.transform(r)}function ɵɵpipeBind2(e,n,r,o){const i=e+at,s=getLView(),a=load(s,i);return isPure(s,i)?pureFunction2Internal(s,getBindingRoot(),n,a.transform,r,o,a):a.transform(r,o)}function ɵɵpipeBind3(e,n,r,o,i){const s=e+at,a=getLView(),c=load(a,s);return isPure(a,s)?pureFunction3Internal(a,getBindingRoot(),n,c.transform,r,o,i,c):c.transform(r,o,i)}function ɵɵpipeBind4(e,n,r,o,i,s){const a=e+at,c=getLView(),u=load(c,a);return isPure(c,a)?pureFunction4Internal(c,getBindingRoot(),n,u.transform,r,o,i,s,u):u.transform(r,o,i,s)}function ɵɵpipeBindV(e,n,r){const o=e+at,i=getLView(),s=load(i,o);return isPure(i,o)?pureFunctionVInternal(i,getBindingRoot(),n,s.transform,r,s):s.transform.apply(s,r)}function isPure(e,n){return e[He].data[n].pure}function ɵɵtemplateRefExtractor(e,n){return createTemplateRef(e,n)}function ɵɵgetComponentDepsFactory(e,n){return()=>{try{return Jn.getComponentDependencies(e,n).dependencies}catch(n){throw console.error(`Computing dependencies in local compilation mode for the component "${e.name}" failed with the exception:`,n),n}}}function ɵsetClassDebugInfo(e,n){const r=getComponentDef(e);null!==r&&(r.debugInfo=n)}const io=(()=>({ɵɵattribute,ɵɵattributeInterpolate1,ɵɵattributeInterpolate2,ɵɵattributeInterpolate3,ɵɵattributeInterpolate4,ɵɵattributeInterpolate5,ɵɵattributeInterpolate6,ɵɵattributeInterpolate7,ɵɵattributeInterpolate8,ɵɵattributeInterpolateV,ɵɵdefineComponent,ɵɵdefineDirective,ɵɵdefineInjectable,ɵɵdefineInjector,ɵɵdefineNgModule,ɵɵdefinePipe,ɵɵdirectiveInject,ɵɵgetInheritedFactory,ɵɵinject,ɵɵinjectAttribute,ɵɵinvalidFactory,ɵɵinvalidFactoryDep,ɵɵtemplateRefExtractor,ɵɵresetView,ɵɵHostDirectivesFeature,ɵɵNgOnChangesFeature,ɵɵProvidersFeature,ɵɵCopyDefinitionFeature,ɵɵInheritDefinitionFeature,ɵɵInputTransformsFeature,ɵɵStandaloneFeature,ɵɵnextContext,ɵɵnamespaceHTML,ɵɵnamespaceMathML,ɵɵnamespaceSVG,ɵɵenableBindings,ɵɵdisableBindings,ɵɵelementStart,ɵɵelementEnd,ɵɵelement,ɵɵelementContainerStart,ɵɵelementContainerEnd,ɵɵelementContainer,ɵɵpureFunction0,ɵɵpureFunction1,ɵɵpureFunction2,ɵɵpureFunction3,ɵɵpureFunction4,ɵɵpureFunction5,ɵɵpureFunction6,ɵɵpureFunction7,ɵɵpureFunction8,ɵɵpureFunctionV,ɵɵgetCurrentView,ɵɵrestoreView,ɵɵlistener,ɵɵprojection,ɵɵsyntheticHostProperty,ɵɵsyntheticHostListener,ɵɵpipeBind1,ɵɵpipeBind2,ɵɵpipeBind3,ɵɵpipeBind4,ɵɵpipeBindV,ɵɵprojectionDef,ɵɵhostProperty,ɵɵproperty,ɵɵpropertyInterpolate,ɵɵpropertyInterpolate1,ɵɵpropertyInterpolate2,ɵɵpropertyInterpolate3,ɵɵpropertyInterpolate4,ɵɵpropertyInterpolate5,ɵɵpropertyInterpolate6,ɵɵpropertyInterpolate7,ɵɵpropertyInterpolate8,ɵɵpropertyInterpolateV,ɵɵpipe,ɵɵqueryRefresh,ɵɵqueryAdvance,ɵɵviewQuery,ɵɵviewQuerySignal,ɵɵloadQuery,ɵɵcontentQuery,ɵɵcontentQuerySignal,ɵɵreference,ɵɵclassMap,ɵɵclassMapInterpolate1,ɵɵclassMapInterpolate2,ɵɵclassMapInterpolate3,ɵɵclassMapInterpolate4,ɵɵclassMapInterpolate5,ɵɵclassMapInterpolate6,ɵɵclassMapInterpolate7,ɵɵclassMapInterpolate8,ɵɵclassMapInterpolateV,ɵɵstyleMap,ɵɵstyleMapInterpolate1,ɵɵstyleMapInterpolate2,ɵɵstyleMapInterpolate3,ɵɵstyleMapInterpolate4,ɵɵstyleMapInterpolate5,ɵɵstyleMapInterpolate6,ɵɵstyleMapInterpolate7,ɵɵstyleMapInterpolate8,ɵɵstyleMapInterpolateV,ɵɵstyleProp,ɵɵstylePropInterpolate1,ɵɵstylePropInterpolate2,ɵɵstylePropInterpolate3,ɵɵstylePropInterpolate4,ɵɵstylePropInterpolate5,ɵɵstylePropInterpolate6,ɵɵstylePropInterpolate7,ɵɵstylePropInterpolate8,ɵɵstylePropInterpolateV,ɵɵclassProp,ɵɵadvance,ɵɵtemplate,ɵɵconditional,ɵɵdefer,ɵɵdeferWhen,ɵɵdeferOnIdle,ɵɵdeferOnImmediate,ɵɵdeferOnTimer,ɵɵdeferOnHover,ɵɵdeferOnInteraction,ɵɵdeferOnViewport,ɵɵdeferPrefetchWhen,ɵɵdeferPrefetchOnIdle,ɵɵdeferPrefetchOnImmediate,ɵɵdeferPrefetchOnTimer,ɵɵdeferPrefetchOnHover,ɵɵdeferPrefetchOnInteraction,ɵɵdeferPrefetchOnViewport,ɵɵdeferEnableTimerScheduling,ɵɵrepeater,ɵɵrepeaterCreate,ɵɵrepeaterTrackByIndex,ɵɵrepeaterTrackByIdentity,ɵɵcomponentInstance,ɵɵtext,ɵɵtextInterpolate,ɵɵtextInterpolate1,ɵɵtextInterpolate2,ɵɵtextInterpolate3,ɵɵtextInterpolate4,ɵɵtextInterpolate5,ɵɵtextInterpolate6,ɵɵtextInterpolate7,ɵɵtextInterpolate8,ɵɵtextInterpolateV,ɵɵi18n,ɵɵi18nAttributes,ɵɵi18nExp,ɵɵi18nStart,ɵɵi18nEnd,ɵɵi18nApply,ɵɵi18nPostprocess,ɵɵresolveWindow,ɵɵresolveDocument,ɵɵresolveBody,ɵɵsetComponentScope,ɵɵsetNgModuleScope,ɵɵregisterNgModuleType:registerNgModuleType,ɵɵgetComponentDepsFactory,ɵsetClassDebugInfo,ɵɵsanitizeHtml,ɵɵsanitizeStyle,ɵɵsanitizeResourceUrl,ɵɵsanitizeScript,ɵɵsanitizeUrl,ɵɵsanitizeUrlOrResourceUrl,ɵɵtrustConstantHtml,ɵɵtrustConstantResourceUrl,ɵɵvalidateIframeAttribute,forwardRef,resolveForwardRef,ɵɵtwoWayProperty,ɵɵtwoWayBindingSet,ɵɵtwoWayListener,ɵɵInputFlags:be}))();let so=null;const ao=[];let lo=!1;function isResolvedDeclaration(e){return Array.isArray(e)?e.every(isResolvedDeclaration):!!resolveForwardRef(e)}function compileNgModule(e,n={}){!function patchModuleCompilation(){}(),function compileNgModuleDefs(e,n,r=!1){ngDevMode&&assertDefined(e,"Required value moduleType"),ngDevMode&&assertDefined(n,"Required value ngModule");const o=flatten(n.declarations||ge);let i=null;Object.defineProperty(e,X,{configurable:!0,get:()=>{if(null===i){if(ngDevMode&&n.imports&&n.imports.indexOf(e)>-1)throw new Error(`'${stringifyForError(e)}' module can't import itself`);const r=getCompilerFacade({usage:0,kind:"NgModule",type:e});i=r.compileNgModule(io,`ng:///${e.name}/ɵmod.js`,{type:e,bootstrap:flatten(n.bootstrap||ge).map(resolveForwardRef),declarations:o.map(resolveForwardRef),imports:flatten(n.imports||ge).map(resolveForwardRef).map(expandModuleWithProviders),exports:flatten(n.exports||ge).map(resolveForwardRef).map(expandModuleWithProviders),schemas:n.schemas?flatten(n.schemas):null,id:n.id||null}),i.schemas||(i.schemas=[])}return i}});let s=null;Object.defineProperty(e,Y,{get:()=>{if(null===s){const n=getCompilerFacade({usage:0,kind:"NgModule",type:e});s=n.compileFactory(io,`ng:///${e.name}/ɵfac.js`,{name:e.name,type:e,deps:reflectDependencies(e),target:n.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!!ngDevMode});let a=null;Object.defineProperty(e,j,{get:()=>{if(null===a){ngDevMode&&verifySemanticsOfNgModuleDef(e,r);const o={name:e.name,type:e,providers:n.providers||ge,imports:[(n.imports||ge).map(resolveForwardRef),(n.exports||ge).map(resolveForwardRef)]},i=getCompilerFacade({usage:0,kind:"NgModule",type:e});a=i.compileInjector(io,`ng:///${e.name}/ɵinj.js`,o)}return a},configurable:!!ngDevMode})}(e,n),void 0!==n.id&&registerNgModuleType(e,n.id),function enqueueModuleForDelayedScoping(e,n){ao.push({moduleType:e,ngModule:n})}(e,n)}function verifySemanticsOfNgModuleDef(e,n,r){if(uo.get(e))return;if(isStandalone(e))return;let o;if(uo.set(e,!0),e=resolveForwardRef(e),r){if(o=getNgModuleDef(e),!o)throw new Error(`Unexpected value '${e.name}' imported by the module '${r.name}'. Please add an @NgModule annotation.`)}else o=getNgModuleDef(e,!0);const i=[],s=maybeUnwrapFn(o.declarations),a=maybeUnwrapFn(o.imports);flatten(a).map(unwrapModuleWithProvidersImports).forEach((n=>{verifySemanticsOfNgModuleImport(n,e),verifySemanticsOfNgModuleDef(n,!1,e)}));const c=maybeUnwrapFn(o.exports);s.forEach((function verifyDeclarationsHaveDefinitions(n){n=resolveForwardRef(n);getComponentDef(n)||getDirectiveDef(n)||getPipeDef$1(n)||i.push(`Unexpected value '${stringifyForError(n)}' declared by the module '${stringifyForError(e)}'. Please add a @Pipe/@Directive/@Component annotation.`)})),s.forEach((function verifyDirectivesHaveSelector(e){const n=getDirectiveDef(e=resolveForwardRef(e));!getComponentDef(e)&&n&&0==n.selectors.length&&i.push(`Directive ${stringifyForError(e)} has no selector, please add it!`)})),s.forEach((n=>function verifyNotStandalone(e,n){const r=getComponentDef(e=resolveForwardRef(e))||getDirectiveDef(e)||getPipeDef$1(e);if(null!=r&&r.standalone){const r=`"${stringifyForError(n)}" NgModule`;i.push(function generateStandaloneInDeclarationsError(e,n){return`Unexpected "${stringifyForError(e)}" found in the "declarations" array of the ${n}, "${stringifyForError(e)}" is marked as standalone and can't be declared in any NgModule - did you intend to import it instead (by adding it to the "imports" array)?`}(e,r))}}(n,e)));const u=[...s.map(resolveForwardRef),...flatten(a.map(computeCombinedExports)).map(resolveForwardRef)];c.forEach((function verifyExportsAreDeclaredOrReExported(n){const r=(getComponentDef(n=resolveForwardRef(n))?"component":getDirectiveDef(n)&&"directive")||getPipeDef$1(n)&&"pipe";r&&-1===u.lastIndexOf(n)&&i.push(`Can't export ${r} ${stringifyForError(n)} from ${stringifyForError(e)} as it was neither declared nor imported!`)})),s.forEach((r=>function verifyDeclarationIsUnique(n,r){n=resolveForwardRef(n);const o=co.get(n);if(o&&o!==e){if(!r){const r=[o,e].map(stringifyForError).sort();i.push(`Type ${stringifyForError(n)} is part of the declarations of 2 modules: ${r[0]} and ${r[1]}! Please consider moving ${stringifyForError(n)} to a higher module that imports ${r[0]} and ${r[1]}. You can also create a new NgModule that exports and includes ${stringifyForError(n)} then import that NgModule in ${r[0]} and ${r[1]}.`)}}else co.set(n,e)}(r,n)));const p=function getAnnotation(e,n){let r=null;return collect(e.__annotations__),collect(e.decorators),r;function collect(e){e&&e.forEach(readAnnotation)}function readAnnotation(e){if(!r){if(Object.getPrototypeOf(e).ngMetadataName==n)r=e;else if(e.type){Object.getPrototypeOf(e.type).ngMetadataName==n&&(r=e.args[0])}}}}(e,"NgModule");if(p&&(p.imports&&flatten(p.imports).map(unwrapModuleWithProvidersImports).forEach((n=>{verifySemanticsOfNgModuleImport(n,e),verifySemanticsOfNgModuleDef(n,!1,e)})),p.bootstrap&&deepForEach(p.bootstrap,(function verifyCorrectBootstrapType(e){getComponentDef(e=resolveForwardRef(e))||i.push(`${stringifyForError(e)} cannot be used as an entry component.`);isStandalone(e)&&i.push(`The \`${stringifyForError(e)}\` class is a standalone component, which can not be used in the \`@NgModule.bootstrap\` array. Use the \`bootstrapApplication\` function for bootstrap instead.`)})),p.bootstrap&&deepForEach(p.bootstrap,(function verifyComponentIsPartOfNgModule(e){e=resolveForwardRef(e);co.get(e)||isStandalone(e)||i.push(`Component ${stringifyForError(e)} is not part of any NgModule or the module has not been imported into your module.`)}))),i.length)throw new Error(i.join("\n"));function verifySemanticsOfNgModuleImport(e,n){const r=getComponentDef(e=resolveForwardRef(e))||getDirectiveDef(e);if(null!==r&&!r.standalone)throw new Error(`Unexpected directive '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`);const o=getPipeDef$1(e);if(null!==o&&!o.standalone)throw new Error(`Unexpected pipe '${e.name}' imported by the module '${n.name}'. Please add an @NgModule annotation.`)}}function unwrapModuleWithProvidersImports(e){return(e=resolveForwardRef(e)).ngModule||e}let co=new WeakMap,uo=new WeakMap;function computeCombinedExports(e){const n=getNgModuleDef(e=resolveForwardRef(e));return null===n?[e]:flatten(maybeUnwrapFn(n.exports).map((e=>getNgModuleDef(e)?(verifySemanticsOfNgModuleDef(e,!1),computeCombinedExports(e)):e)))}function setScopeOnDeclaredComponents(e,n){const r=flatten(n.declarations||ge),o=transitiveScopesFor(e);r.forEach((n=>{if((n=resolveForwardRef(n)).hasOwnProperty(W)){patchComponentDefWithScope(getComponentDef(n),o)}else n.hasOwnProperty(K)||n.hasOwnProperty(Q)||(n.ngSelectorScope=e)}))}function patchComponentDefWithScope(e,n){e.directiveDefs=()=>Array.from(n.compilation.directives).map((e=>e.hasOwnProperty(W)?getComponentDef(e):getDirectiveDef(e))).filter((e=>!!e)),e.pipeDefs=()=>Array.from(n.compilation.pipes).map((e=>getPipeDef$1(e))),e.schemas=n.schemas,e.tView=null}function transitiveScopesFor(e){if(isNgModule(e)){Yn;{const n=Jn.getNgModuleScope(e);return{schemas:getNgModuleDef(e,!0).schemas||null,...n}}}if(isStandalone(e)){if(null!==(getComponentDef(e)||getDirectiveDef(e)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([e]),pipes:new Set}};if(null!==getPipeDef$1(e))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([e])}}}throw new Error(`${e.name} does not have a module def (ɵmod property)`)}function expandModuleWithProviders(e){return isModuleWithProviders(e)?e.ngModule:e}let po=0;function compileComponent(e,n){("undefined"==typeof ngDevMode||ngDevMode)&&initNgDevMode();let r=null;!function maybeQueueResolutionOfComponentResources(e,n){componentNeedsResolution(n)&&(or.set(e,n),ir.add(e))}(e,n),addDirectiveFactoryDef(e,n),Object.defineProperty(e,W,{get:()=>{if(null===r){const o=getCompilerFacade({usage:0,kind:"component",type:e});if(componentNeedsResolution(n)){const r=[`Component '${e.name}' is not resolved:`];throw n.templateUrl&&r.push(` - templateUrl: ${n.templateUrl}`),n.styleUrls&&n.styleUrls.length&&r.push(` - styleUrls: ${JSON.stringify(n.styleUrls)}`),n.styleUrl&&r.push(` - styleUrl: ${n.styleUrl}`),r.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(r.join("\n"))}const i=function getJitOptions(){return so}();let s=n.preserveWhitespaces;void 0===s&&(s=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let a=n.encapsulation;void 0===a&&(a=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:Ce.Emulated);const c=n.templateUrl||`ng:///${e.name}/template.html`,u={...directiveMetadata(e,n),typeSourceSpan:o.createParseSourceSpan("Component",e.name,c),template:n.template||"",preserveWhitespaces:s,styles:"string"==typeof n.styles?[n.styles]:n.styles||ge,animations:n.animations,declarations:[],changeDetection:n.changeDetection,encapsulation:a,interpolation:n.interpolation,viewProviders:n.viewProviders||null};po++;try{if(u.usesInheritance&&addDirectiveDefToUndecoratedParents(e),r=o.compileComponent(io,c,u),n.standalone){const o=flatten(n.imports||ge),{directiveDefs:i,pipeDefs:s}=function getStandaloneDefFunctions(e,n){const directiveDefs=()=>{0;if(ngDevMode)for(const r of n)verifyStandaloneImport(r,e);if(!isComponent(e))return[];return[...Jn.getStandaloneComponentScope(e,n).compilation.directives].map((e=>getComponentDef(e)||getDirectiveDef(e))).filter((e=>null!==e))},pipeDefs=()=>{0;if(ngDevMode)for(const r of n)verifyStandaloneImport(r,e);if(!isComponent(e))return[];return[...Jn.getStandaloneComponentScope(e,n).compilation.pipes].map((e=>getPipeDef$1(e))).filter((e=>null!==e))};return{directiveDefs,pipeDefs}}(e,o);r.directiveDefs=i,r.pipeDefs=s,r.dependencies=()=>o.map(resolveForwardRef)}}finally{po--}if(0===po&&!function flushModuleScopingQueueAsMuchAsPossible(){if(!lo){lo=!0;try{for(let e=ao.length-1;e>=0;e--){const{moduleType:n,ngModule:r}=ao[e];r.declarations&&r.declarations.every(isResolvedDeclaration)&&(ao.splice(e,1),setScopeOnDeclaredComponents(n,r))}}finally{lo=!1}}}(),function hasSelectorScope(e){return void 0!==e.ngSelectorScope}(e)){const n=transitiveScopesFor(e.ngSelectorScope);patchComponentDefWithScope(r,n)}if(n.schemas){if(!n.standalone)throw new Error(`The 'schemas' was specified for the ${stringifyForError(e)} but is only valid on a component that is standalone.`);r.schemas=n.schemas}else n.standalone&&(r.schemas=[])}return r},configurable:!!ngDevMode})}function compileDirective(e,n){let r=null;addDirectiveFactoryDef(e,n||{}),Object.defineProperty(e,K,{get:()=>{if(null===r){const o=getDirectiveMetadata(e,n||{}),i=getCompilerFacade({usage:0,kind:"directive",type:e});r=i.compileDirective(io,o.sourceMapUrl,o.metadata)}return r},configurable:!!ngDevMode})}function getDirectiveMetadata(e,n){const r=e&&e.name,o=`ng:///${r}/ɵdir.js`,i=getCompilerFacade({usage:0,kind:"directive",type:e}),s=directiveMetadata(e,n);return s.typeSourceSpan=i.createParseSourceSpan("Directive",r,o),s.usesInheritance&&addDirectiveDefToUndecoratedParents(e),{metadata:s,sourceMapUrl:o}}function addDirectiveFactoryDef(e,n){let r=null;Object.defineProperty(e,Y,{get:()=>{if(null===r){const o=getDirectiveMetadata(e,n),i=getCompilerFacade({usage:0,kind:"directive",type:e});r=i.compileFactory(io,`ng:///${e.name}/ɵfac.js`,{name:o.metadata.name,type:o.metadata.type,typeArgumentCount:0,deps:reflectDependencies(e),target:i.FactoryTarget.Directive})}return r},configurable:!!ngDevMode})}function extendsDirectlyFromObject(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function directiveMetadata(e,n){var r;const o=getReflect(),i=o.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==n.selector?n.selector:null,host:n.host||fe,propMetadata:i,inputs:n.inputs||ge,outputs:n.outputs||ge,queries:extractQueriesMetadata(e,i,isContentQuery),lifecycle:{usesOnChanges:o.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!extendsDirectlyFromObject(e),exportAs:(s=n.exportAs,void 0===s?null:splitByComma(s)),providers:n.providers||null,viewQueries:extractQueriesMetadata(e,i,isViewQuery),isStandalone:!!n.standalone,isSignal:!!n.signals,hostDirectives:(null===(r=n.hostDirectives)||void 0===r?void 0:r.map((e=>"function"==typeof e?{directive:e}:e)))||null};var s}function addDirectiveDefToUndecoratedParents(e){const n=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;)getDirectiveDef(r)||getComponentDef(r)||!shouldAddAbstractDirective(r)||compileDirective(r,null),r=Object.getPrototypeOf(r)}function convertToR3QueryMetadata(e,n){return{propertyName:e,predicate:(r=n.selector,"string"==typeof r?splitByComma(r):resolveForwardRef(r)),descendants:n.descendants,first:n.first,read:n.read?n.read:null,static:!!n.static,emitDistinctChangesOnly:!!n.emitDistinctChangesOnly,isSignal:!!n.isSignal};var r}function extractQueriesMetadata(e,n,r){const o=[];for(const i in n)if(n.hasOwnProperty(i)){const s=n[i];s.forEach((n=>{if(r(n)){if(!n.selector)throw new Error(`Can't construct a query for the property "${i}" of "${stringifyForError(e)}" since the query selector wasn't defined.`);if(s.some(isInputAnnotation))throw new Error("Cannot combine @Input decorators with query decorators");o.push(convertToR3QueryMetadata(i,n))}}))}return o}function isContentQuery(e){const n=e.ngMetadataName;return"ContentChild"===n||"ContentChildren"===n}function isViewQuery(e){const n=e.ngMetadataName;return"ViewChild"===n||"ViewChildren"===n}function isInputAnnotation(e){return"Input"===e.ngMetadataName}function splitByComma(e){return e.split(",").map((e=>e.trim()))}const fo=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function shouldAddAbstractDirective(e){const n=getReflect();if(fo.some((r=>n.hasLifecycleHook(e,r))))return!0;const r=n.propMetadata(e);for(const e in r){const n=r[e];for(let e=0;e<n.length;e++){const r=n[e],o=r.ngMetadataName;if(isInputAnnotation(r)||isContentQuery(r)||isViewQuery(r)||"Output"===o||"HostBinding"===o||"HostListener"===o)return!0}}return!1}const go=makeDecorator("Directive",((e={})=>e),void 0,void 0,((e,n)=>compileDirective(e,n))),mo=makeDecorator("Component",((e={})=>({changeDetection:ye.Default,...e})),go,void 0,((e,n)=>compileComponent(e,n))),ho=makeDecorator("NgModule",(e=>e),void 0,void 0,((e,n)=>compileNgModule(e,n)));class Version{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}new Version("17.3.12");let vo=(()=>{var e;class Console{log(e){console.log(e)}warn(e){console.warn(e)}}return(e=Console).ɵfac=function Console_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"platform"}),Console})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(vo,[{type:Pt,args:[{providedIn:"platform"}]}],null,null)})();let yo=new class DIDebugData{constructor(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}reset(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}};function getFrameworkDIDebugData(){return yo}function setupFrameworkInjectorProfiler(){yo.reset(),setInjectorProfiler((e=>function handleInjectorProfilerEvent(e){const{context:n,type:r}=e;0===r?!function handleInjectEvent(e,n){const r=getDIResolver(e.injector);null===r&&throwError("An Inject event must be run within an injection context.");const o=yo.resolverToTokenToDependencies;o.has(r)||o.set(r,new WeakMap);if(!function canBeHeldWeakly(e){return null!==e&&("object"==typeof e||"function"==typeof e||"symbol"==typeof e)}(e.token))return;const i=o.get(r);i.has(e.token)||i.set(e.token,[]);const{token:s,value:a,flags:c}=n;assertDefined(e.token,"Injector profiler context token is undefined.");const u=i.get(e.token);assertDefined(u,"Could not resolve dependencies for token."),u.push(e.injector instanceof NodeInjector?{token:s,value:a,flags:c,injectedIn:getNodeInjectorContext(e.injector)}:{token:s,value:a,flags:c})}(n,e.service):1===r?!function handleInstanceCreatedByInjectorEvent(e,n){const{value:r}=n;null===getDIResolver(e.injector)&&throwError("An InjectorCreatedInstance event must be run within an injection context.");let o;"object"==typeof r&&(o=null==r?void 0:r.constructor);if(void 0===o||!function isStandaloneComponent(e){const n=getComponentDef(e);return!(null==n||!n.standalone)}(o))return;const i=e.injector.get(EnvironmentInjector,null,{optional:!0});if(null===i)return;const{standaloneInjectorToComponent:s}=yo;if(s.has(i))return;s.set(i,o)}(n,e.instance):2===r&&!function handleProviderConfiguredEvent(e,n){const{resolverToProviders:r}=yo;let o;o=(null==e?void 0:e.injector)instanceof NodeInjector?getNodeInjectorTNode(e.injector):e.injector;null===o&&throwError("A ProviderConfigured event must be run within an injection context.");r.has(o)||r.set(o,[]);r.get(o).push(n)}(n,e.providerRecord)}(e)))}function getNodeInjectorContext(e){e instanceof NodeInjector||throwError("getNodeInjectorContext must be called with a NodeInjector");const n=getNodeInjectorLView(e),r=getNodeInjectorTNode(e);if(null!==r)return assertTNodeForLView(r,n),{lView:n,tNode:r}}function getDIResolver(e){let n=null;return void 0===e||(n=e instanceof NodeInjector?getNodeInjectorLView(e):e),n}function getProviderImportPaths(e){const n=new Map,r=function walkProviderTreeToDiscoverImportPaths(e,n){return(r,o)=>{if(e.has(r)||e.set(r,[o]),!n.has(o))for(const n of e.keys()){const r=e.get(n);let i=getInjectorDef(o);if(!i){i=getInjectorDef(o.ngModule)}if(!i)return;const s=r[0];let a=!1;deepForEach(i.imports,(r=>{var i;a||(a=r.ngModule===s||r===s,a&&(null===(i=e.get(n))||void 0===i||i.unshift(o)))}))}n.add(o)}}(n,new Set);return walkProviderTree(e,r,[],new Set),n}function getEnvironmentInjectorProviders(e){var n;const r=null!==(n=getFrameworkDIDebugData().resolverToProviders.get(e))&&void 0!==n?n:[];if(function isPlatformInjector(e){return e instanceof R3Injector&&e.scopes.has("platform")}(e))return r;const o=function getProviderImportsContainer(e){const{standaloneInjectorToComponent:n}=getFrameworkDIDebugData();if(n.has(e))return n.get(e);const r=e.get(NgModuleRef$1,null,{self:!0,optional:!0});return null===r||null===r.instance?null:r.instance.constructor}(e);if(null===o)return r;const i=getProviderImportPaths(o),s=[];for(const e of r){var a;const n=e.provider,r=n.provide;if(r===me||r===ve)continue;let c=null!==(a=i.get(n))&&void 0!==a?a:[];const u=getComponentDef(o);!(null==u||!u.standalone)&&(c=[o,...c]),s.push({...e,importPath:c})}return s}function getInjectorResolutionPath(e){const n=[e];return getInjectorResolutionPathHelper(e,n),n}function getInjectorResolutionPathHelper(e,n){const r=function getInjectorParent(e){if(e instanceof R3Injector)return e.parent;let n,r;if(e instanceof NodeInjector)n=getNodeInjectorTNode(e),r=getNodeInjectorLView(e);else{if(e instanceof NullInjector)return null;if(e instanceof ChainedInjector)return e.parentInjector;throwError("getInjectorParent only support injectors of type R3Injector, NodeInjector, NullInjector, ChainedInjector")}const o=getParentInjectorLocation(n,r);if(hasParentInjector(o)){const e=getParentInjectorIndex(o),n=getParentInjectorView(o,r);return new NodeInjector(n[He].data[e+8],n)}{var i;const e=null===(i=r[qe].injector)||void 0===i?void 0:i.parent;if(e instanceof NodeInjector)return e}return null}(e);if(null===r){if(e instanceof NodeInjector){const e=n[0];if(e instanceof NodeInjector){const r=function getModuleInjectorOfNodeInjector(e){let n;e instanceof NodeInjector?n=getNodeInjectorLView(e):throwError("getModuleInjectorOfNodeInjector must be called with a NodeInjector");const r=n[qe],o=r instanceof ChainedInjector?r.parentInjector:r.parent;o||throwError("NodeInjector must have some connection to the module injector tree");return o}(e);null===r&&throwError("NodeInjector must have some connection to the module injector tree"),n.push(r),getInjectorResolutionPathHelper(r,n)}return n}}else n.push(r),getInjectorResolutionPathHelper(r,n);return n}const Co="ng",bo={ɵgetDependenciesFromInjectable:function getDependenciesFromInjectable(e,n){const r=e.get(n,null,{self:!0,optional:!0});if(null===r)throw new Error(`Unable to determine instance of ${n} in given injector`);const o=function getDependenciesForTokenInInjector(e,n){var r;const{resolverToTokenToDependencies:o}=getFrameworkDIDebugData();var i,s,a;if(!(n instanceof NodeInjector))return null!==(i=null===(s=o.get(n))||void 0===s||null===(a=s.get)||void 0===a?void 0:a.call(s,e))&&void 0!==i?i:[];const c=getNodeInjectorLView(n),u=o.get(c),p=null!==(r=null==u?void 0:u.get(e))&&void 0!==r?r:[];return p.filter((e=>{var r;const o=null===(r=e.injectedIn)||void 0===r?void 0:r.tNode;if(void 0===o)return!1;const i=getNodeInjectorTNode(n);return assertTNode(o),assertTNode(i),o===i}))}(n,e),i=getInjectorResolutionPath(e);return{instance:r,dependencies:o.map((e=>{const n={value:e.value},r=e.flags;n.flags={optional:!(8&~r),host:!(1&~r),self:!(2&~r),skipSelf:!(4&~r)};for(let r=0;r<i.length;r++){const o=i[r];if(0===r&&n.flags.skipSelf)continue;if(n.flags.host&&o instanceof EnvironmentInjector)break;if(null!==o.get(e.token,null,{self:!0,optional:!0})){if(n.flags.host){null!==i[0].get(e.token,null,{...n.flags,optional:!0})&&(n.providedIn=o);break}n.providedIn=o;break}if(0===r&&n.flags.self)break}return e.token&&(n.token=e.token),n}))}},ɵgetInjectorProviders:function getInjectorProviders(e){return e instanceof NodeInjector?function getNodeInjectorProviders(e){var n;const r=getNodeInjectorTNode(e),{resolverToProviders:o}=getFrameworkDIDebugData();return null!==(n=o.get(r))&&void 0!==n?n:[]}(e):e instanceof EnvironmentInjector?getEnvironmentInjectorProviders(e):(throwError("getInjectorProviders only supports NodeInjector and EnvironmentInjector"),void 0)},ɵgetInjectorResolutionPath:getInjectorResolutionPath,ɵgetInjectorMetadata:function getInjectorMetadata(e){if(e instanceof NodeInjector){const n=getNodeInjectorLView(e),r=getNodeInjectorTNode(e);return assertTNodeForLView(r,n),{type:"element",source:getNativeByTNode(r,n)}}var n;return e instanceof R3Injector?{type:"environment",source:null!==(n=e.source)&&void 0!==n?n:null}:e instanceof NullInjector?{type:"null",source:null}:null},ɵsetProfiler:e=>{gt=e},getDirectiveMetadata:function getDirectiveMetadata$1(e){const{constructor:n}=e;if(!n)throw new Error("Unable to find the instance constructor");const r=getComponentDef(n);if(r){return{inputs:extractInputDebugMetadata(r.inputs),outputs:r.outputs,encapsulation:r.encapsulation,changeDetection:r.onPush?ye.OnPush:ye.Default}}const o=getDirectiveDef(n);if(o){return{inputs:extractInputDebugMetadata(o.inputs),outputs:o.outputs}}return null},getComponent:getComponent$1,getContext,getListeners,getOwningComponent,getHostElement,getInjector,getRootComponents,getDirectives:function getDirectives(e){if(e instanceof Text)return[];const n=getLContext(e),r=n?n.lView:null;if(null===r)return[];const o=r[He],i=n.nodeIndex;return null!=o&&o.data[i]?(void 0===n.directives&&(n.directives=getDirectivesAtNodeIndex(i,r)),null===n.directives?[]:[...n.directives]):[]},applyChanges:function applyChanges(e){ngDevMode&&assertDefined(e,"component"),markViewDirty(getComponentViewByInstance(e)),getRootComponents(e).forEach((e=>function detectChanges(e){const n=getComponentViewByInstance(e);n[Ue]|=1024,detectChangesInternal(n)}(e)))},isSignal};let wo=!1;function publishGlobalUtil(e,n){if("undefined"==typeof COMPILED||!COMPILED){var r;const o=H;ngDevMode&&assertDefined(n,"function not defined"),null!==(r=o[Co])&&void 0!==r||(o[Co]={}),o[Co][e]=n}}const So=new InjectionToken(""),Ao=new InjectionToken("");let _o=(()=>{var e;class Testability{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Eo||(!function setTestabilityGetter(e){Eo=e}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{NgZone.assertNotInAngularZone(),queueMicrotask((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==o)),e()}),n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}}return(e=Testability).ɵfac=function Testability_Factory(n){return new(n||e)(ɵɵinject(NgZone),ɵɵinject(Io),ɵɵinject(Ao))},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac}),Testability})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(_o,[{type:Pt}],(()=>[{type:NgZone},{type:Io},{type:void 0,decorators:[{type:le,args:[Ao]}]}]),null)})();let Eo,Io=(()=>{var e;class TestabilityRegistry{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){var r,o;return null!==(r=null===(o=Eo)||void 0===o?void 0:o.findTestabilityInTree(this,e,n))&&void 0!==r?r:null}}return(e=TestabilityRegistry).ɵfac=function TestabilityRegistry_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"platform"}),TestabilityRegistry})();function isPromise(e){return!!e&&"function"==typeof e.then}function isSubscribable(e){return!!e&&"function"==typeof e.subscribe}(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Io,[{type:Pt,args:[{providedIn:"platform"}]}],null,null)})();const Do=new InjectionToken(ngDevMode?"Application Initializer":"");let Mo=(()=>{var e;class ApplicationInitStatus{constructor(){var e;if(this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,n)=>{this.resolve=e,this.reject=n})),this.appInits=null!==(e=inject(Do,{optional:!0}))&&void 0!==e?e:[],("undefined"==typeof ngDevMode||ngDevMode)&&!Array.isArray(this.appInits))throw new RuntimeError(-209,`Unexpected type of the \`APP_INITIALIZER\` token value (expected an array, but got ${typeof this.appInits}). Please check that the \`APP_INITIALIZER\` token is configured as a \`multi: true\` provider.`)}runInitializers(){if(this.initialized)return;const e=[];for(const n of this.appInits){const r=n();if(isPromise(r))e.push(r);else if(isSubscribable(r)){const n=new Promise(((e,n)=>{r.subscribe({complete:e,error:n})}));e.push(n)}}const complete=()=>{this.done=!0,this.resolve()};Promise.all(e).then((()=>{complete()})).catch((e=>{this.reject(e)})),0===e.length&&complete(),this.initialized=!0}}return(e=ApplicationInitStatus).ɵfac=function ApplicationInitStatus_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),ApplicationInitStatus})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Mo,[{type:Pt,args:[{providedIn:"root"}]}],(()=>[]),null)})();const To=new InjectionToken(ngDevMode?"appBootstrapListener":"");function publishDefaultGlobalUtils(){ngDevMode&&function publishDefaultGlobalUtils$1(){if(!wo){wo=!0,"undefined"!=typeof window&&setupFrameworkInjectorProfiler();for(const[e,n]of Object.entries(bo))publishGlobalUtil(e,n)}}()}function publishSignalConfiguration(){!function setThrowInvalidWriteToSignalError(e){C=e}((()=>{throw new RuntimeError(600,ngDevMode&&"Writing to signals is not allowed in a `computed` or an `effect` by default. Use `allowSignalWrites` in the `CreateEffectOptions` to enable this inside effects.")}))}function _callAndReportToErrorHandler(e,n,r){try{const o=r();return isPromise(o)?o.catch((r=>{throw n.runOutsideAngular((()=>e.handleError(r))),r})):o}catch(r){throw n.runOutsideAngular((()=>e.handleError(r))),r}}function optionsReducer(e,n){return Array.isArray(n)?n.reduce(optionsReducer,e):{...e,...n}}let Po=(()=>{var e;class ApplicationRef{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=inject(Ft),this.afterRenderEffectManager=inject(Xn),this.externalTestViews=new Set,this.beforeRender=new _.B,this.afterTick=new _.B,this.componentTypes=[],this.components=[],this.isStable=inject(ur).hasPendingTasks.pipe((0,T.T)((e=>!e))),this._injector=inject(EnvironmentInjector)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){("undefined"==typeof ngDevMode||ngDevMode)&&this.warnIfDestroyed();const r=e instanceof ComponentFactory$1;if(!this._injector.get(Mo).done){const n=!r&&isStandalone(e),o=("undefined"==typeof ngDevMode||ngDevMode)&&"Cannot bootstrap as there are still asynchronous initializers running."+(n?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new RuntimeError(405,o)}let o;if(r)o=e;else{o=this._injector.get(jn).resolveComponentFactory(e)}this.componentTypes.push(o.componentType);const i=function isBoundToModule(e){return e.isBoundToModule}(o)?void 0:this._injector.get(NgModuleRef$1),s=o.create(kt.NULL,[],n||o.selector,i),a=s.location.nativeElement,c=s.injector.get(So,null);if(null==c||c.registerApplication(a),s.onDestroy((()=>{this.detachView(s.hostView),remove(this.components,s),null==c||c.unregisterApplication(a)})),this._loadComponent(s),"undefined"==typeof ngDevMode||ngDevMode){this._injector.get(vo).log("Angular is running in development mode.")}return s}tick(){this._tick(!0)}_tick(e){if(("undefined"==typeof ngDevMode||ngDevMode)&&this.warnIfDestroyed(),this._runningTick)throw new RuntimeError(101,ngDevMode&&"ApplicationRef.tick is called recursively");const n=setActiveConsumer(null);try{if(this._runningTick=!0,this.detectChangesInAttachedViews(e),"undefined"==typeof ngDevMode||ngDevMode)for(let e of this._views)e.checkNoChanges()}catch(e){this.internalErrorHandler(e)}finally{this.afterTick.next(),this._runningTick=!1,setActiveConsumer(n)}}detectChangesInAttachedViews(e){let n=0;const r=this.afterRenderEffectManager;for(;;){if(100===n)throw new RuntimeError(103,ngDevMode&&"Infinite change detection while refreshing application views. Ensure afterRender or queueStateUpdate hooks are not continuously causing updates.");if(e){const e=0===n;this.beforeRender.next(e);for(let{_lView:n,notifyErrorHandler:r}of this._views)detectChangesInViewIfRequired(n,e,r)}if(n++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some((({_lView:e})=>shouldRecheckView(e)))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some((({_lView:e})=>shouldRecheckView(e)))))break}}attachView(e){("undefined"==typeof ngDevMode||ngDevMode)&&this.warnIfDestroyed();const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){("undefined"==typeof ngDevMode||ngDevMode)&&this.warnIfDestroyed();const n=e;remove(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(To,[]);if(ngDevMode&&!Array.isArray(n))throw new RuntimeError(-209,`Unexpected type of the \`APP_BOOTSTRAP_LISTENER\` token value (expected an array, but got ${typeof n}). Please check that the \`APP_BOOTSTRAP_LISTENER\` token is configured as a \`multi: true\` provider.`);[...this._bootstrapListeners,...n].forEach((n=>n(e)))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach((e=>e())),this._views.slice().forEach((e=>e.destroy()))}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return("undefined"==typeof ngDevMode||ngDevMode)&&this.warnIfDestroyed(),this._destroyListeners.push(e),()=>remove(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new RuntimeError(406,ngDevMode&&"This instance of the `ApplicationRef` has already been destroyed.");const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){("undefined"==typeof ngDevMode||ngDevMode)&&this._destroyed&&console.warn(formatRuntimeError(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return(e=ApplicationRef).ɵfac=function ApplicationRef_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),ApplicationRef})();function remove(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function detectChangesInViewIfRequired(e,n,r){(n||shouldRecheckView(e))&&!function detectChangesInView(e,n,r){let o;r?(o=0,e[Ue]|=1024):o=64&e[Ue]?0:1;detectChangesInternal(e,n,o)}(e,r,n)}function shouldRecheckView(e){return requiresRefreshOrTraversal(e)}(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Po,[{type:Pt,args:[{providedIn:"root"}]}],null,null)})();class ModuleWithComponentFactories{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ko=(()=>{var e;class Compiler{compileModuleSync(e){return new NgModuleFactory(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),r=maybeUnwrapFn(getNgModuleDef(e).declarations).reduce(((e,n)=>{const r=getComponentDef(n);return r&&e.push(new ComponentFactory(r)),e}),[]);return new ModuleWithComponentFactories(n,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return(e=Compiler).ɵfac=function Compiler_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),Compiler})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(ko,[{type:Pt,args:[{providedIn:"root"}]}],null,null)})();const xo=new InjectionToken(ngDevMode?"compilerOptions":"");function compileNgModuleFactory(e,n,r){ngDevMode&&function assertNgModuleType(e,n="Type passed in is not NgModuleType, it does not have 'ɵmod' property."){getNgModuleDef(e)||throwError(n)}(r);const o=new NgModuleFactory(r);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(o);const i=e.get(xo,[]).concat(n);if(!function setJitOptions(e){if(null!==so){if(e.defaultEncapsulation!==so.defaultEncapsulation)return ngDevMode&&console.error("Provided value for `defaultEncapsulation` can not be changed once it has been set."),void 0;if(e.preserveWhitespaces!==so.preserveWhitespaces)return ngDevMode&&console.error("Provided value for `preserveWhitespaces` can not be changed once it has been set."),void 0}so=e}({defaultEncapsulation:_lastDefined(i.map((e=>e.defaultEncapsulation))),preserveWhitespaces:_lastDefined(i.map((e=>e.preserveWhitespaces)))}),function isComponentResourceResolutionQueueEmpty(){return 0===or.size}())return Promise.resolve(o);const s=i.flatMap((e=>{var n;return null!==(n=e.providers)&&void 0!==n?n:[]}));if(0===s.length)return Promise.resolve(o);const a=getCompilerFacade({usage:0,kind:"NgModule",type:r}),c=kt.create({providers:s}).get(a.ResourceLoader);return resolveComponentResources((e=>Promise.resolve(c.get(e)))).then((()=>o))}function _lastDefined(e){for(let n=e.length-1;n>=0;n--)if(void 0!==e[n])return e[n]}let Fo=(()=>{var e;class NgZoneChangeDetectionScheduler{constructor(){this.zone=inject(NgZone),this.applicationRef=inject(Po)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run((()=>{this.applicationRef.tick()}))}}))}ngOnDestroy(){var e;null===(e=this._onMicrotaskEmptySubscription)||void 0===e||e.unsubscribe()}}return(e=NgZoneChangeDetectionScheduler).ɵfac=function NgZoneChangeDetectionScheduler_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),NgZoneChangeDetectionScheduler})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Fo,[{type:Pt,args:[{providedIn:"root"}]}],null,null)})();const Oo=new InjectionToken("undefined"==typeof ngDevMode||ngDevMode?"provideZoneChangeDetection token":"");function internalProvideZoneChangeDetection(e){return[{provide:NgZone,useFactory:e},{provide:me,multi:!0,useFactory:()=>{const e=inject(Fo,{optional:!0});if(("undefined"==typeof ngDevMode||ngDevMode)&&null===e)throw new RuntimeError(402,"A required Injectable was not found in the dependency injection tree. If you are bootstrapping an NgModule, make sure that the `BrowserModule` is imported.");return()=>e.initialize()}},{provide:me,multi:!0,useFactory:()=>{const e=inject(Ro);return()=>{e.initialize()}}},{provide:Ft,useFactory:ngZoneApplicationErrorHandlerFactory}]}function ngZoneApplicationErrorHandlerFactory(){const e=inject(NgZone),n=inject(ErrorHandler);return r=>e.runOutsideAngular((()=>n.handleError(r)))}function provideZoneChangeDetection(e){const n=internalProvideZoneChangeDetection((()=>new NgZone(getNgZoneOptions(e))));return makeEnvironmentProviders(["undefined"==typeof ngDevMode||ngDevMode?{provide:Oo,useValue:!0}:[],n])}function getNgZoneOptions(e){var n,r;return{enableLongStackTrace:"undefined"!=typeof ngDevMode&&!!ngDevMode,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let Ro=(()=>{var e;class ZoneStablePendingTask{constructor(){this.subscription=new E.yU,this.initialized=!1,this.zone=inject(NgZone),this.pendingTasks=inject(ur)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;this.zone.isStable||this.zone.hasPendingMacrotasks||this.zone.hasPendingMicrotasks||(e=this.pendingTasks.add()),this.zone.runOutsideAngular((()=>{this.subscription.add(this.zone.onStable.subscribe((()=>{NgZone.assertNotInAngularZone(),queueMicrotask((()=>{null===e||this.zone.hasPendingMacrotasks||this.zone.hasPendingMicrotasks||(this.pendingTasks.remove(e),e=null)}))})))})),this.subscription.add(this.zone.onUnstable.subscribe((()=>{NgZone.assertInAngularZone(),null!=e||(e=this.pendingTasks.add())})))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=ZoneStablePendingTask).ɵfac=function ZoneStablePendingTask_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),ZoneStablePendingTask})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Ro,[{type:Pt,args:[{providedIn:"root"}]}],null,null)})();const No=new InjectionToken(ngDevMode?"LocaleId":"",{providedIn:"root",factory:()=>inject(No,ee.Optional|ee.SkipSelf)||function getGlobalLocale(){return"undefined"!=typeof ngI18nClosureMode&&ngI18nClosureMode&&"undefined"!=typeof goog&&"en"!==goog.LOCALE?goog.LOCALE:"undefined"!=typeof $localize&&$localize.locale||Nr}()}),Lo=new InjectionToken(ngDevMode?"DefaultCurrencyCode":"",{providedIn:"root",factory:()=>"USD"});new InjectionToken(ngDevMode?"Translations":""),new InjectionToken(ngDevMode?"TranslationsFormat":"");var Ho=function(e){return e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore",e}(Ho||{});const Uo=new InjectionToken(ngDevMode?"PlatformDestroyListeners":"");let Bo=(()=>{var e;class PlatformRef{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function getNgZone(e="zone.js",n){return"noop"===e?new NoopNgZone:"zone.js"===e?new NgZone(n):e}(null==n?void 0:n.ngZone,getNgZoneOptions({eventCoalescing:null==n?void 0:n.ngZoneEventCoalescing,runCoalescing:null==n?void 0:n.ngZoneRunCoalescing}));return r.run((()=>{const n=function createNgModuleRefWithProviders(e,n,r){return new NgModuleRef(e,n,r)}(e.moduleType,this.injector,internalProvideZoneChangeDetection((()=>r)));if(("undefined"==typeof ngDevMode||ngDevMode)&&null!==n.injector.get(Oo,null))throw new RuntimeError(207,"`bootstrapModule` does not support `provideZoneChangeDetection`. Use `BootstrapOptions` instead.");const o=n.injector.get(ErrorHandler,null);if(("undefined"==typeof ngDevMode||ngDevMode)&&null===o)throw new RuntimeError(402,"No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular((()=>{const e=r.onError.subscribe({next:e=>{o.handleError(e)}});n.onDestroy((()=>{remove(this._modules,n),e.unsubscribe()}))})),_callAndReportToErrorHandler(o,r,(()=>{const e=n.injector.get(Mo);return e.runInitializers(),e.donePromise.then((()=>(setLocaleId(n.injector.get(No,Nr)||Nr),this._moduleDoBootstrap(n),n)))}))}))}bootstrapModule(e,n=[]){const r=optionsReducer({},n);return compileNgModuleFactory(this.injector,r,e).then((e=>this.bootstrapModuleFactory(e,r)))}_moduleDoBootstrap(e){const n=e.injector.get(Po);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>n.bootstrap(e)));else{if(!e.instance.ngDoBootstrap)throw new RuntimeError(-403,ngDevMode&&`The module ${stringify(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new RuntimeError(404,ngDevMode&&"The platform has already been destroyed!");this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e()));const e=this._injector.get(Uo,null);e&&(e.forEach((e=>e())),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=PlatformRef).ɵfac=function PlatformRef_Factory(n){return new(n||e)(ɵɵinject(kt))},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"platform"}),PlatformRef})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Bo,[{type:Pt,args:[{providedIn:"platform"}]}],(()=>[{type:kt}]),null)})();let $o=null;new InjectionToken(ngDevMode?"AllowMultipleToken":"");function createPlatformInjector(e=[],n){return kt.create({name:n,providers:[{provide:_e,useValue:"platform"},{provide:Uo,useValue:new Set([()=>$o=null])},...e]})}function runPlatformInitializers(e){const n=e.get(Gt,null);null==n||n.forEach((e=>e()))}function enableProdMode(){("undefined"==typeof ngDevMode||ngDevMode)&&(H.ngDevMode=!1)}let jo=(()=>{class ChangeDetectorRef{}return ChangeDetectorRef.__NG_ELEMENT_ID__=injectChangeDetectorRef,ChangeDetectorRef})();function injectChangeDetectorRef(e){return function createViewRef(e,n,r){if(isComponentHost(e)&&!r){const r=getComponentLViewByIndex(e.index,n);return new ViewRef$1(r,r)}if(47&e.type){return new ViewRef$1(n[Je],n)}return null}(getCurrentTNode(),getLView(),!(16&~e))}new Map;class DefaultIterableDifferFactory{constructor(){}supports(e){return isListLikeIterable(e)}create(e){return new DefaultIterableDiffer(e)}}const trackByIdentity=(e,n)=>n;class DefaultIterableDiffer{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||trackByIdentity}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<getPreviousIndex(r,o,i)?n:r,a=getPreviousIndex(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const e=a-o,n=c-o;if(e!=n){for(let r=0;r<e;r++){const o=r<i.length?i[r]:i[r]=0,s=o+r;n<=s&&s<e&&(i[r]=o+1)}i[s.previousIndex]=n-e}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!isListLikeIterable(e))throw new RuntimeError(900,ngDevMode&&`Error trying to diff '${stringify(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n,r,o,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let n=0;n<this.length;n++)r=e[n],o=this._trackByFn(n,r),null!==i&&Object.is(i.trackById,o)?(s&&(i=this._verifyReinsertion(i,r,o,n)),Object.is(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,n),s=!0),i=i._next}else n=0,function iterateListLike(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(e,(e=>{o=this._trackByFn(n,e),null!==i&&Object.is(i.trackById,o)?(s&&(i=this._verifyReinsertion(i,e,o,n)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,o,n),s=!0),i=i._next,n++})),this.length=n;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new IterableChangeRecord_(n,r),i,o),e}_verifyReinsertion(e,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const o=null===n?this._itHead:n._next;return e._next=o,e._prev=n,null===o?this._itTail=e:o._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class IterableChangeRecord_{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _DuplicateItemRecordList{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class _DuplicateMap{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new _DuplicateItemRecordList,this.map.set(n,r)),r.add(e)}get(e,n){const r=this.map.get(e);return r?r.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function getPreviousIndex(e,n,r){const o=e.previousIndex;if(null===o)return o;let i=0;return r&&o<r.length&&(i=r[o]),o+n+i}class DefaultKeyValueDifferFactory{constructor(){}supports(e){return e instanceof Map||isJsObject(e)}create(){return new DefaultKeyValueDiffer}}class DefaultKeyValueDiffer{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||isJsObject(e)))throw new RuntimeError(900,ngDevMode&&`Error trying to diff '${stringify(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,e),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,e);n=this._insertBeforeOrAppend(n,o)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let e=n;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,n);const o=r._prev,i=r._next;return o&&(o._next=i),i&&(i._prev=o),r._next=null,r._prev=null,r}const r=new KeyValueChangeRecord_(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach((r=>n(e[r],r)))}}class KeyValueChangeRecord_{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function defaultIterableDiffersFactory(){return new Vo([new DefaultIterableDifferFactory])}let Vo=(()=>{var e;class IterableDiffers{constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new IterableDiffers(e)}static extend(e){return{provide:IterableDiffers,useFactory:n=>IterableDiffers.create(e,n||defaultIterableDiffersFactory()),deps:[[IterableDiffers,new ue,new de]]}}find(e){const n=this.factories.find((n=>n.supports(e)));if(null!=n)return n;throw new RuntimeError(901,ngDevMode&&`Cannot find a differ supporting object '${e}' of type '${function getTypeNameForDebugging(e){return e.name||typeof e}(e)}'`)}}return(e=IterableDiffers).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"root",factory:defaultIterableDiffersFactory}),IterableDiffers})();function defaultKeyValueDiffersFactory(){return new Go([new DefaultKeyValueDifferFactory])}let Go=(()=>{var e;class KeyValueDiffers{constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new KeyValueDiffers(e)}static extend(e){return{provide:KeyValueDiffers,useFactory:n=>KeyValueDiffers.create(e,n||defaultKeyValueDiffersFactory()),deps:[[KeyValueDiffers,new ue,new de]]}}find(e){const n=this.factories.find((n=>n.supports(e)));if(n)return n;throw new RuntimeError(901,ngDevMode&&`Cannot find a differ supporting object '${e}'`)}}return(e=KeyValueDiffers).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"root",factory:defaultKeyValueDiffersFactory}),KeyValueDiffers})();const zo=[new DefaultKeyValueDifferFactory],qo=[new DefaultIterableDifferFactory];new Vo(qo),new Go(zo);let Wo=(()=>{var e;class ApplicationModule{constructor(e){}}return(e=ApplicationModule).ɵfac=function ApplicationModule_Factory(n){return new(n||e)(ɵɵinject(Po))},e.ɵmod=ɵɵdefineNgModule({type:e}),e.ɵinj=ɵɵdefineInjector({}),ApplicationModule})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Wo,[{type:ho}],(()=>[{type:Po}]),null)})();let Ko=(()=>{var e;class ImagePerformanceWarning{constructor(){this.window=null,this.observer=null,this.options=inject(Qt),this.ngZone=inject(NgZone)}start(){var e,n;if("undefined"==typeof PerformanceObserver||null!==(e=this.options)&&void 0!==e&&e.disableImageSizeWarning&&null!==(n=this.options)&&void 0!==n&&n.disableImageLazyLoadWarning)return;this.observer=this.initPerformanceObserver();const r=getDocument(),o=r.defaultView;if(void 0!==o){this.window=o;const waitToScan=()=>{setTimeout(this.scanImages.bind(this),200)};this.ngZone.runOutsideAngular((()=>{var e;"complete"===r.readyState?waitToScan():null===(e=this.window)||void 0===e||e.addEventListener("load",waitToScan,{once:!0})}))}}ngOnDestroy(){var e;null===(e=this.observer)||void 0===e||e.disconnect()}initPerformanceObserver(){if("undefined"==typeof PerformanceObserver)return null;const e=new PerformanceObserver((e=>{var n,r;const o=e.getEntries();if(0===o.length)return;const i=null!==(n=null===(r=o[o.length-1].element)||void 0===r?void 0:r.src)&&void 0!==n?n:"";i.startsWith("data:")||i.startsWith("blob:")||(this.lcpImageUrl=i)}));return e.observe({type:"largest-contentful-paint",buffered:!0}),e}scanImages(){var e;const n=getDocument().querySelectorAll("img");let r,o=!1;n.forEach((e=>{var i,s;if(null===(i=this.options)||void 0===i||!i.disableImageSizeWarning)for(const e of n)!e.getAttribute("ng-img")&&this.isOversized(e)&&void console.warn(formatRuntimeError(-913,`An image with src ${e.src} has intrinsic file dimensions much larger than its rendered size. This can negatively impact application loading performance. For more information about addressing or disabling this warning, see https://angular.io/errors/NG0913`));null!==(s=this.options)&&void 0!==s&&s.disableImageLazyLoadWarning||!this.lcpImageUrl||e.src===this.lcpImageUrl&&(r=!0,("lazy"!==e.loading||e.getAttribute("ng-img"))&&(o=!0))})),!r||o||!this.lcpImageUrl||null!==(e=this.options)&&void 0!==e&&e.disableImageLazyLoadWarning||function logLazyLCPWarning(e){console.warn(formatRuntimeError(-913,`An image with src ${e} is the Largest Contentful Paint (LCP) element but was given a "loading" value of "lazy", which can negatively impact application loading performance. This warning can be addressed by changing the loading value of the LCP image to "eager", or by using the NgOptimizedImage directive's prioritization utilities. For more information about addressing or disabling this warning, see https://angular.io/errors/NG0913`))}(this.lcpImageUrl)}isOversized(e){if(!this.window)return!1;const n=this.window.getComputedStyle(e);let r=parseFloat(n.getPropertyValue("width")),o=parseFloat(n.getPropertyValue("height"));const i=n.getPropertyValue("box-sizing");if("cover"===n.getPropertyValue("object-fit"))return!1;if("border-box"===i){const e=n.getPropertyValue("padding-top"),i=n.getPropertyValue("padding-right"),s=n.getPropertyValue("padding-bottom"),a=n.getPropertyValue("padding-left");r-=parseFloat(i)+parseFloat(a),o-=parseFloat(e)+parseFloat(s)}return e.naturalWidth-this.window.devicePixelRatio*r>=1200||e.naturalHeight-this.window.devicePixelRatio*o>=1200}}return(e=ImagePerformanceWarning).ɵfac=function ImagePerformanceWarning_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),ImagePerformanceWarning})();function internalCreateApplication(e){try{const{rootComponent:n,appProviders:r,platformProviders:o}=e;"undefined"!=typeof ngDevMode&&!ngDevMode||void 0===n||!function assertStandaloneComponentType(e){if(assertComponentDef(e),!getComponentDef(e).standalone)throw new RuntimeError(907,`The ${stringifyForError(e)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${stringifyForError(e)} component has the \`standalone: true\` flag in the decorator.`)}(n);const i=function createOrReusePlatformInjector(e=[]){if($o)return $o;publishDefaultGlobalUtils();const n=createPlatformInjector(e);return $o=n,publishSignalConfiguration(),runPlatformInitializers(n),n}(o),s=[provideZoneChangeDetection(),...r||[]],a=new EnvironmentNgModuleRefAdapter({providers:s,parent:i,debugName:"undefined"==typeof ngDevMode||ngDevMode?"Environment Injector":"",runEnvironmentInitializers:!1}).injector,c=a.get(NgZone);return c.run((()=>{a.resolveInjectorInitializers();const e=a.get(ErrorHandler,null);if(("undefined"==typeof ngDevMode||ngDevMode)&&!e)throw new RuntimeError(402,"No `ErrorHandler` found in the Dependency Injection tree.");let r;c.runOutsideAngular((()=>{r=c.onError.subscribe({next:n=>{e.handleError(n)}})}));const destroyListener=()=>a.destroy(),o=i.get(Uo);return o.add(destroyListener),a.onDestroy((()=>{r.unsubscribe(),o.delete(destroyListener)})),_callAndReportToErrorHandler(e,c,(()=>{const e=a.get(Mo);return e.runInitializers(),e.donePromise.then((()=>{setLocaleId(a.get(No,Nr)||Nr);const e=a.get(Po);if(void 0!==n&&e.bootstrap(n),"undefined"==typeof ngDevMode||ngDevMode){a.get(Ko).start()}return e}))}))}))}catch(e){return Promise.reject(e)}}(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Ko,[{type:Pt,args:[{providedIn:"root"}]}],null,null)})();let Qo=(()=>{var e;class ChangeDetectionSchedulerImpl{constructor(){this.appRef=inject(Po),this.taskService=inject(ur),this.pendingRenderTaskId=null,this.shouldRefreshViews=!1}notify(e=0){this.shouldRefreshViews||(this.shouldRefreshViews=0===e),null===this.pendingRenderTaskId&&(this.pendingRenderTaskId=this.taskService.add(),this.raceTimeoutAndRequestAnimationFrame())}raceTimeoutAndRequestAnimationFrame(){var e=this;return(0,o.A)((function*(){const n=new Promise((e=>setTimeout(e))),r="function"==typeof H.requestAnimationFrame?new Promise((e=>requestAnimationFrame((()=>e())))):null;yield Promise.race([n,r]),e.tick()}))()}tick(){try{this.appRef.destroyed||this.appRef._tick(this.shouldRefreshViews)}finally{this.shouldRefreshViews=!1;const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}}return(e=ChangeDetectionSchedulerImpl).ɵfac=function ChangeDetectionSchedulerImpl_Factory(n){return new(n||e)},e.ɵprov=ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),ChangeDetectionSchedulerImpl})();(()=>{("undefined"==typeof ngDevMode||ngDevMode)&&setClassMetadata(Qo,[{type:Pt,args:[{providedIn:"root"}]}],null,null)})();function booleanAttribute(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function computed(e,n){performanceMarkFeature("NgSignals");const r=function createComputed(e){const n=Object.create(v);n.computation=e;const computed=()=>{if(producerUpdateValueVersion(n),producerAccessed(n),n.value===g)throw n.error;return n.value};return computed[c]=n,computed}(e);return null!=n&&n.equal&&(r[c].equal=n.equal),ngDevMode&&(r.toString=()=>`[Computed: ${r()}]`),r}function untracked(e){const n=setActiveConsumer(null);try{return e()}finally{setActiveConsumer(n)}}const Xo=new InjectionToken("",{providedIn:"root",factory:()=>inject(Yo)});let Yo=(()=>{var e;class EffectScheduler{}return(e=EffectScheduler).ɵprov=ɵɵdefineInjectable({token:e,providedIn:"root",factory:()=>new ZoneAwareEffectScheduler}),EffectScheduler})();class ZoneAwareEffectScheduler{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=inject(ur),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask((()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null}))}}enqueue(e){const n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,n]of this.queues)null===e?this.flushQueue(n):e.run((()=>this.flushQueue(n)))}flushQueue(e){for(const n of e)e.delete(n),this.queuedEffectCount--,n.run()}}class EffectHandle{constructor(e,n,r,o,i,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=i,this.watcher=createWatch((e=>this.runEffect(e)),(()=>this.schedule()),s),this.unregisterOnDestroy=null==o?void 0:o.onDestroy((()=>this.destroy()))}runEffect(e){try{this.effectFn(e)}catch(e){const n=this.injector.get(ErrorHandler,null,{optional:!0});null==n||n.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){var e;this.watcher.destroy(),null===(e=this.unregisterOnDestroy)||void 0===e||e.call(this)}}function effect(e,n){var r,o;performanceMarkFeature("NgSignals"),ngDevMode&&assertNotInReactiveContext(effect,"Call `effect` outside of a reactive context. For example, schedule the effect inside the component constructor."),(null==n||!n.injector)&&assertInInjectionContext(effect);const i=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:inject(kt),s=!0!==(null==n?void 0:n.manualCleanup)?i.get(Ot):null,a=new EffectHandle(i.get(Xo),e,"undefined"==typeof Zone?null:Zone.current,s,i,null!==(o=null==n?void 0:n.allowSignalWrites)&&void 0!==o&&o),c=i.get(jo,null,{optional:!0});var u,p;c&&8&c._lView[Ue]?(null!==(p=(u=c._lView)[it])&&void 0!==p?p:u[it]=[]).push(a.watcher.notify):a.watcher.notify();return a}function createComponent(e,n){ngDevMode&&assertComponentDef(e);const r=getComponentDef(e),o=n.elementInjector||getNullInjector();return new ComponentFactory(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function reflectComponentType(e){const n=getComponentDef(e);if(!n)return null;const r=new ComponentFactory(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Jo;"undefined"!=typeof ngDevMode&&ngDevMode&&(null!==(Jo=H.$localize)&&void 0!==Jo?Jo:H.$localize=function(){throw new Error("It looks like your application or one of its dependencies is using i18n.\nAngular 9 introduced a global `$localize()` function that needs to be loaded.\nPlease run `ng add @angular/localize` from the Angular CLI.\n(For non-CLI projects, add `import '@angular/localize/init';` to your `polyfills.ts` file.\nFor server-side rendering applications add the import to your `main.server.ts` file.)")})},89417:(e,n,r)=>{"use strict";r.d(n,{BC:()=>I,JD:()=>he,MJ:()=>z,R_:()=>Ue,VZ:()=>De,X1:()=>Ve,YN:()=>je,YS:()=>Pe,cV:()=>G,cb:()=>T,cz:()=>A,gE:()=>FormGroup,j4:()=>ce,k0:()=>Validators,kq:()=>f,l_:()=>le,me:()=>w,ok:()=>$e,qT:()=>J,tU:()=>Le,vO:()=>NgControl,vS:()=>Y,zX:()=>Ee});var o=r(54438),i=r(60177),s=r(86648),a=r(27468),c=r(96354);let u=(()=>{var e;class BaseControlValueAccessor{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return(e=BaseControlValueAccessor).ɵfac=function _BaseControlValueAccessor_Factory(n){return new(n||e)(o.rXU(o.sFG),o.rXU(o.aKT))},e.ɵdir=o.FsC({type:e}),BaseControlValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let p=(()=>{var e;class BuiltInControlValueAccessor extends u{}return(e=BuiltInControlValueAccessor).ɵfac=(()=>{let n;return function _BuiltInControlValueAccessor_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,features:[o.Vt3]}),BuiltInControlValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const f=new o.nKC(ngDevMode?"NgValueAccessor":""),g={provide:f,useExisting:(0,o.Rfq)((()=>v)),multi:!0};let v=(()=>{var e;class CheckboxControlValueAccessor extends p{writeValue(e){this.setProperty("checked",e)}}return(e=CheckboxControlValueAccessor).ɵfac=(()=>{let n;return function _CheckboxControlValueAccessor_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function _CheckboxControlValueAccessor_HostBindings(e,n){1&e&&o.bIt("change",(function _CheckboxControlValueAccessor_change_HostBindingHandler(e){return n.onChange(e.target.checked)}))("blur",(function _CheckboxControlValueAccessor_blur_HostBindingHandler(){return n.onTouched()}))},features:[o.Jv_([g]),o.Vt3]}),CheckboxControlValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const C={provide:f,useExisting:(0,o.Rfq)((()=>w)),multi:!0};const b=new o.nKC(ngDevMode?"CompositionEventMode":"");let w=(()=>{var e;class DefaultValueAccessor extends u{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _isAndroid(){const e=(0,i.QT)()?(0,i.QT)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return(e=DefaultValueAccessor).ɵfac=function _DefaultValueAccessor_Factory(n){return new(n||e)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(b,8))},e.ɵdir=o.FsC({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function _DefaultValueAccessor_HostBindings(e,n){1&e&&o.bIt("input",(function _DefaultValueAccessor_input_HostBindingHandler(e){return n._handleInput(e.target.value)}))("blur",(function _DefaultValueAccessor_blur_HostBindingHandler(){return n.onTouched()}))("compositionstart",(function _DefaultValueAccessor_compositionstart_HostBindingHandler(){return n._compositionStart()}))("compositionend",(function _DefaultValueAccessor_compositionend_HostBindingHandler(e){return n._compositionEnd(e.target.value)}))},features:[o.Jv_([C]),o.Vt3]}),DefaultValueAccessor})();function isEmptyInputValue(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function hasValidLength(e){return null!=e&&"number"==typeof e.length}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const A=new o.nKC(ngDevMode?"NgValidators":""),_=new o.nKC(ngDevMode?"NgAsyncValidators":""),E=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Validators{static min(e){return minValidator(e)}static max(e){return maxValidator(e)}static required(e){return requiredValidator(e)}static requiredTrue(e){return requiredTrueValidator(e)}static email(e){return emailValidator(e)}static minLength(e){return minLengthValidator(e)}static maxLength(e){return maxLengthValidator(e)}static pattern(e){return patternValidator(e)}static nullValidator(e){return e,null}static compose(e){return compose(e)}static composeAsync(e){return composeAsync(e)}}function minValidator(e){return n=>{if(isEmptyInputValue(n.value)||isEmptyInputValue(e))return null;const r=parseFloat(n.value);return!isNaN(r)&&r<e?{min:{min:e,actual:n.value}}:null}}function maxValidator(e){return n=>{if(isEmptyInputValue(n.value)||isEmptyInputValue(e))return null;const r=parseFloat(n.value);return!isNaN(r)&&r>e?{max:{max:e,actual:n.value}}:null}}function requiredValidator(e){return isEmptyInputValue(e.value)?{required:!0}:null}function requiredTrueValidator(e){return!0===e.value?null:{required:!0}}function emailValidator(e){return isEmptyInputValue(e.value)||E.test(e.value)?null:{email:!0}}function minLengthValidator(e){return n=>isEmptyInputValue(n.value)||!hasValidLength(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}function maxLengthValidator(e){return n=>hasValidLength(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}function patternValidator(e){if(!e)return nullValidator;let n,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),e=>{if(isEmptyInputValue(e.value))return null;const o=e.value;return n.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}function nullValidator(e){return null}function isPresent(e){return null!=e}function toObservable(e){const n=(0,o.jNT)(e)?(0,s.H)(e):e;if(("undefined"==typeof ngDevMode||ngDevMode)&&!(0,o.zjR)(n)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new o.wOt(-1101,n)}return n}function mergeErrors(e){let n={};return e.forEach((e=>{n=null!=e?{...n,...e}:n})),0===Object.keys(n).length?null:n}function executeValidators(e,n){return n.map((n=>n(e)))}function normalizeValidators(e){return e.map((e=>function isValidatorFn(e){return!e.validate}(e)?e:n=>e.validate(n)))}function compose(e){if(!e)return null;const n=e.filter(isPresent);return 0==n.length?null:function(e){return mergeErrors(executeValidators(e,n))}}function composeValidators(e){return null!=e?compose(normalizeValidators(e)):null}function composeAsync(e){if(!e)return null;const n=e.filter(isPresent);return 0==n.length?null:function(e){const r=executeValidators(e,n).map(toObservable);return(0,a.p)(r).pipe((0,c.T)(mergeErrors))}}function composeAsyncValidators(e){return null!=e?composeAsync(normalizeValidators(e)):null}function mergeValidators(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function getControlValidators(e){return e._rawValidators}function getControlAsyncValidators(e){return e._rawAsyncValidators}function makeValidatorsArray(e){return e?Array.isArray(e)?e:[e]:[]}function hasValidator(e,n){return Array.isArray(e)?e.includes(n):e===n}function addValidators(e,n){const r=makeValidatorsArray(n);return makeValidatorsArray(e).forEach((e=>{hasValidator(r,e)||r.push(e)})),r}function removeValidators(e,n){return makeValidatorsArray(n).filter((n=>!hasValidator(e,n)))}class AbstractControlDirective{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=composeValidators(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=composeAsyncValidators(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach((e=>e())),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ControlContainer extends AbstractControlDirective{get formDirective(){return null}get path(){return null}}class NgControl extends AbstractControlDirective{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AbstractControlStatus{constructor(e){this._cd=e}get isTouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.touched)}get isUntouched(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.untouched)}get isPristine(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pristine)}get isDirty(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.dirty)}get isValid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.valid)}get isInvalid(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.invalid)}get isPending(){var e;return!(null===(e=this._cd)||void 0===e||null===(e=e.control)||void 0===e||!e.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let I=(()=>{var e;class NgControlStatus extends AbstractControlStatus{constructor(e){super(e)}}return(e=NgControlStatus).ɵfac=function _NgControlStatus_Factory(n){return new(n||e)(o.rXU(NgControl,2))},e.ɵdir=o.FsC({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function _NgControlStatus_HostBindings(e,n){2&e&&o.AVh("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[o.Vt3]}),NgControlStatus})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let T=(()=>{var e;class NgControlStatusGroup extends AbstractControlStatus{constructor(e){super(e)}}return(e=NgControlStatusGroup).ɵfac=function _NgControlStatusGroup_Factory(n){return new(n||e)(o.rXU(ControlContainer,10))},e.ɵdir=o.FsC({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function _NgControlStatusGroup_HostBindings(e,n){2&e&&o.AVh("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[o.Vt3]}),NgControlStatusGroup})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const P='\n  <div [formGroup]="myGroup">\n    <input formControlName="firstName">\n  </div>\n\n  In your class:\n\n  this.myGroup = new FormGroup({\n      firstName: new FormControl()\n  });',k='\n  <div [formGroup]="myGroup">\n      <div formGroupName="person">\n        <input formControlName="firstName">\n      </div>\n  </div>\n\n  In your class:\n\n  this.myGroup = new FormGroup({\n      person: new FormGroup({ firstName: new FormControl() })\n  });',x='\n  <form>\n      <div ngModelGroup="person">\n        <input [(ngModel)]="person.name" name="firstName">\n      </div>\n  </form>';const F="\n  It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n  when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n  you. We recommend using this approach to avoid 'changed after checked' errors.\n\n  Example:\n  // Specify the `disabled` property at control creation time:\n  form = new FormGroup({\n    first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n    last: new FormControl('Drew', Validators.required)\n  });\n\n  // Controls can also be enabled/disabled after creation:\n  form.get('first')?.enable();\n  form.get('last')?.disable();\n";function describeKey(e,n){return e?`with name: '${n}'`:`at index: ${n}`}const R="VALID",N="INVALID",L="PENDING",H="DISABLED";function pickValidators(e){return(isOptionsObj(e)?e.validators:e)||null}function pickAsyncValidators(e,n){return("undefined"==typeof ngDevMode||ngDevMode)&&isOptionsObj(n)&&e&&console.warn("\n  It looks like you're constructing using a FormControl with both an options argument and an\n  async validators argument. Mixing these arguments will cause your async validators to be dropped.\n  You should either put all your validators in the options object, or in separate validators\n  arguments. For example:\n\n  // Using validators arguments\n  fc = new FormControl(42, Validators.required, myAsyncValidator);\n\n  // Using AbstractControlOptions\n  fc = new FormControl(42, {validators: Validators.required, asyncValidators: myAV});\n\n  // Do NOT mix them: async validators will be dropped!\n  fc = new FormControl(42, {validators: Validators.required}, /* Oops! */ myAsyncValidator);\n"),(isOptionsObj(n)?n.asyncValidators:e)||null}function isOptionsObj(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function assertControlPresent(e,n,r){const i=e.controls;if(!(n?Object.keys(i):i).length)throw new o.wOt(1e3,"undefined"==typeof ngDevMode||ngDevMode?function noControlsError(e){return`\n    There are no form controls registered with this ${e?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(n):"");if(!i[r])throw new o.wOt(1001,"undefined"==typeof ngDevMode||ngDevMode?function missingControlError(e,n){return`Cannot find form control ${describeKey(e,n)}`}(n,r):"")}function assertAllValuesPresent(e,n,r){e._forEachChild(((e,i)=>{if(void 0===r[i])throw new o.wOt(1002,"undefined"==typeof ngDevMode||ngDevMode?function missingControlValueError(e,n){return`Must supply a value for form control ${describeKey(e,n)}`}(n,i):"")}))}class AbstractControl{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===R}get invalid(){return this.status===N}get pending(){return this.status==L}get disabled(){return this.status===H}get enabled(){return this.status!==H}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(addValidators(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(addValidators(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(removeValidators(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(removeValidators(e,this._rawAsyncValidators))}hasValidator(e){return hasValidator(this._rawValidators,e)}hasAsyncValidator(e){return hasValidator(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild((e=>e.markAllAsTouched()))}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild((e=>{e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild((e=>{e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=L,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=H,this.errors=null,this._forEachChild((n=>{n.disable({...e,onlySelf:!0})})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach((e=>e(!0)))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=R,this._forEachChild((n=>{n.enable({...e,onlySelf:!0})})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach((e=>e(!1)))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==R&&this.status!==L||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild((n=>n._updateTreeValidity(e))),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H:R}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=L,this._hasOwnPendingAsyncValidator=!0;const n=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n?null:(Array.isArray(n)||(n=n.split(".")),0===n.length?null:n.reduce(((e,n)=>e&&e._find(n)),this))}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?H:this.errors?N:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(L)?L:this._anyControlsHaveStatus(N)?N:R}_anyControlsHaveStatus(e){return this._anyControls((n=>n.status===e))}_anyControlsDirty(){return this._anyControls((e=>e.dirty))}_anyControlsTouched(){return this._anyControls((e=>e.touched))}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){isOptionsObj(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!!(this._parent&&this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function coerceToValidator(e){return Array.isArray(e)?composeValidators(e):e||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function coerceToAsyncValidator(e){return Array.isArray(e)?composeAsyncValidators(e):e||null}(this._rawAsyncValidators)}}class FormGroup extends AbstractControl{constructor(e,n,r){super(pickValidators(n),pickAsyncValidators(r,n)),("undefined"==typeof ngDevMode||ngDevMode)&&function validateFormGroupControls(e){const n=Object.keys(e).filter((e=>e.includes(".")));n.length>0&&console.warn(`FormGroup keys cannot include \`.\`, please replace the keys for: ${n.join(",")}.`)}(e),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){assertAllValuesPresent(this,!0,e),Object.keys(e).forEach((r=>{assertControlPresent(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach((r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild(((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})})),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},((e,n,r)=>(e[r]=n.getRawValue(),e)))}_syncPendingControls(){let e=this._reduceChildren(!1,((e,n)=>!!n._syncPendingControls()||e));return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach((n=>{const r=this.controls[n];r&&e(r,n)}))}_setUpControls(){this._forEachChild((e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}))}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},((e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e)))}_reduceChildren(e,n){let r=e;return this._forEachChild(((e,o)=>{r=n(r,e,o)})),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class FormRecord extends FormGroup{}const U=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>B}),B="always";function controlPath(e,n){return[...n.path,e]}function setUpControl(e,n,r=B){var i,s;(("undefined"==typeof ngDevMode||ngDevMode)&&(e||_throwError(n,"Cannot find control with"),n.valueAccessor||function _throwMissingValueAccessorError(e){const n=_describeControlLocation(e);throw new o.wOt(-1203,`No value accessor for form control ${n}.`)}(n)),setUpValidators(e,n),n.valueAccessor.writeValue(e.value),e.disabled||"always"===r)&&(null===(i=(s=n.valueAccessor).setDisabledState)||void 0===i||i.call(s,e.disabled));!function setUpViewChangePipeline(e,n){n.valueAccessor.registerOnChange((r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&updateControl(e,n)}))}(e,n),function setUpModelChangePipeline(e,n){const onChange=(e,r)=>{n.valueAccessor.writeValue(e),r&&n.viewToModelUpdate(e)};e.registerOnChange(onChange),n._registerOnDestroy((()=>{e._unregisterOnChange(onChange)}))}(e,n),function setUpBlurPipeline(e,n){n.valueAccessor.registerOnTouched((()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&updateControl(e,n),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,n),function setUpDisabledChangeHandler(e,n){if(n.valueAccessor.setDisabledState){const onDisabledChange=e=>{n.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(onDisabledChange),n._registerOnDestroy((()=>{e._unregisterOnDisabledChange(onDisabledChange)}))}}(e,n)}function cleanUpControl(e,n,r=!0){const noop=()=>{r&&("undefined"==typeof ngDevMode||ngDevMode)&&!function _noControlError(e){return _throwError(e,"There is no FormControl instance attached to form control element with")}(n)};n.valueAccessor&&(n.valueAccessor.registerOnChange(noop),n.valueAccessor.registerOnTouched(noop)),cleanUpValidators(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange((()=>{})))}function registerOnValidatorChange(e,n){e.forEach((e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)}))}function setUpValidators(e,n){const r=getControlValidators(e);null!==n.validator?e.setValidators(mergeValidators(r,n.validator)):"function"==typeof r&&e.setValidators([r]);const o=getControlAsyncValidators(e);null!==n.asyncValidator?e.setAsyncValidators(mergeValidators(o,n.asyncValidator)):"function"==typeof o&&e.setAsyncValidators([o]);const onValidatorChange=()=>e.updateValueAndValidity();registerOnValidatorChange(n._rawValidators,onValidatorChange),registerOnValidatorChange(n._rawAsyncValidators,onValidatorChange)}function cleanUpValidators(e,n){let r=!1;if(null!==e){if(null!==n.validator){const o=getControlValidators(e);if(Array.isArray(o)&&o.length>0){const i=o.filter((e=>e!==n.validator));i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==n.asyncValidator){const o=getControlAsyncValidators(e);if(Array.isArray(o)&&o.length>0){const i=o.filter((e=>e!==n.asyncValidator));i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const noop=()=>{};return registerOnValidatorChange(n._rawValidators,noop),registerOnValidatorChange(n._rawAsyncValidators,noop),r}function updateControl(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function setUpFormContainer(e,n){null!=e||"undefined"!=typeof ngDevMode&&!ngDevMode||_throwError(n,"Cannot find control with"),setUpValidators(e,n)}function _throwError(e,n){const r=_describeControlLocation(e);throw new Error(`${n} ${r}`)}function _describeControlLocation(e){const n=e.path;return n&&n.length>1?`path: '${n.join(" -> ")}'`:null!=n&&n[0]?`name: '${n}'`:"unspecified name attribute"}function isPropertyUpdated(e,n){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}function syncPendingControls(e,n){e._syncPendingControls(),n.forEach((e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)}))}function selectValueAccessor(e,n){if(!n)return null;let r,i,s;return Array.isArray(n)||"undefined"!=typeof ngDevMode&&!ngDevMode||!function _throwInvalidValueAccessorError(e){const n=_describeControlLocation(e);throw new o.wOt(1200,`Value accessor was not provided as an array for form control with ${n}. Check that the \`NG_VALUE_ACCESSOR\` token is configured as a \`multi: true\` provider.`)}(e),n.forEach((n=>{n.constructor===w?r=n:!function isBuiltInAccessor(e){return Object.getPrototypeOf(e.constructor)===p}(n)?(s&&("undefined"==typeof ngDevMode||ngDevMode)&&_throwError(e,"More than one custom value accessor matches form control with"),s=n):(i&&("undefined"==typeof ngDevMode||ngDevMode)&&_throwError(e,"More than one built-in value accessor matches form control with"),i=n)})),s||(i||(r||(("undefined"==typeof ngDevMode||ngDevMode)&&_throwError(e,"No valid value accessor for form control with"),null)))}function _ngModelWarning(e,n,r,o){"never"!==o&&((null!==o&&"once"!==o||n._ngModelWarningSentOnce)&&("always"!==o||r._ngModelWarningSent)||(console.warn(function ngModelWarning(e){return`\n  It looks like you're using ngModel on the same form field as ${e}.\n  Support for using the ngModel input property and ngModelChange event with\n  reactive form directives has been deprecated in Angular v6 and will be removed\n  in a future version of Angular.\n\n  For more information on this, see our API docs here:\n  https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n  `}(e)),n._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0))}const j={provide:ControlContainer,useExisting:(0,o.Rfq)((()=>G))},V=(()=>Promise.resolve())();let G=(()=>{var e;class NgForm extends ControlContainer{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new FormGroup({},composeValidators(e),composeAsyncValidators(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){V.then((()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),setUpControl(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)}))}getControl(e){return this.form.get(e.path)}removeControl(e){V.then((()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)}))}addFormGroup(e){V.then((()=>{const n=this._findContainer(e.path),r=new FormGroup({});setUpFormContainer(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}removeFormGroup(e){V.then((()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)}))}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){V.then((()=>{this.form.get(e.path).setValue(n)}))}setValue(e){this.control.setValue(e)}onSubmit(e){var n;return this.submitted=!0,syncPendingControls(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===(null==e||null===(n=e.target)||void 0===n?void 0:n.method)}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return(e=NgForm).ɵfac=function _NgForm_Factory(n){return new(n||e)(o.rXU(A,10),o.rXU(_,10),o.rXU(U,8))},e.ɵdir=o.FsC({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function _NgForm_HostBindings(e,n){1&e&&o.bIt("submit",(function _NgForm_submit_HostBindingHandler(e){return n.onSubmit(e)}))("reset",(function _NgForm_reset_HostBindingHandler(){return n.onReset()}))},inputs:{options:[o.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([j]),o.Vt3]}),NgForm})();function removeListItem(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function isFormControlState(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const z=class FormControl extends AbstractControl{constructor(e=null,n,r){super(pickValidators(n),pickAsyncValidators(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),isOptionsObj(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=isFormControlState(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((e=>e(this.value,!1!==n.emitViewToModelChange))),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){removeListItem(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){removeListItem(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(e){isFormControlState(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let q=(()=>{var e;class AbstractFormGroupDirective extends ControlContainer{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(e=AbstractFormGroupDirective).ɵfac=(()=>{let n;return function _AbstractFormGroupDirective_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,features:[o.Vt3]}),AbstractFormGroupDirective})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const W={provide:ControlContainer,useExisting:(0,o.Rfq)((()=>K))};let K=(()=>{var e;class NgModelGroup extends q{constructor(e,n,r){super(),this.name="",this._parent=e,this._setValidators(n),this._setAsyncValidators(r)}_checkParentType(){if(!(this._parent instanceof NgModelGroup)&&!(this._parent instanceof G)&&("undefined"==typeof ngDevMode||ngDevMode))throw function modelGroupParentException(){return new o.wOt(1353,`\n    ngModelGroup cannot be used with a parent formGroup directive.\n\n    Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n    ${k}\n\n    Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n    ${x}`)}()}}return(e=NgModelGroup).ɵfac=function _NgModelGroup_Factory(n){return new(n||e)(o.rXU(ControlContainer,5),o.rXU(A,10),o.rXU(_,10))},e.ɵdir=o.FsC({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:[o.Mj6.None,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[o.Jv_([W]),o.Vt3]}),NgModelGroup})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Q={provide:NgControl,useExisting:(0,o.Rfq)((()=>Y))},X=(()=>Promise.resolve())();let Y=(()=>{var e;class NgModel extends NgControl{constructor(e,n,r,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new z,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=selectValueAccessor(this,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),isPropertyUpdated(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){setUpControl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){if("undefined"==typeof ngDevMode||ngDevMode){if(!(this._parent instanceof K)&&this._parent instanceof q)throw function formGroupNameException(){return new o.wOt(1351,`\n    ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n    Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n    ${k}\n\n    Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n    ${x}`)}();if(!(this._parent instanceof K||this._parent instanceof G))throw function modelParentException(){return new o.wOt(1350,`\n    ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n    formGroup's partner directive "formControlName" instead.  Example:\n\n    ${P}\n\n    Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n    Example:\n\n    \n  <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n      <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n  </div>\n`)}()}}_checkName(){if(this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&!this.name&&("undefined"==typeof ngDevMode||ngDevMode))throw function missingNameException(){return new o.wOt(1352,'If ngModel is used within a form tag, either the name attribute must be set or the form\n    control must be defined as \'standalone\' in ngModelOptions.\n\n    Example 1: <input [(ngModel)]="person.firstName" name="first">\n    Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}()}_updateValue(e){X.then((()=>{var n;this.control.setValue(e,{emitViewToModelChange:!1}),null===(n=this._changeDetectorRef)||void 0===n||n.markForCheck()}))}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&(0,o.L39)(n);X.then((()=>{var e;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(e=this._changeDetectorRef)||void 0===e||e.markForCheck()}))}_getPath(e){return this._parent?controlPath(e,this._parent):[e]}}return(e=NgModel).ɵfac=function _NgModel_Factory(n){return new(n||e)(o.rXU(ControlContainer,9),o.rXU(A,10),o.rXU(_,10),o.rXU(f,10),o.rXU(o.gRc,8),o.rXU(U,8))},e.ɵdir=o.FsC({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[o.Mj6.None,"disabled","isDisabled"],model:[o.Mj6.None,"ngModel","model"],options:[o.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([Q]),o.Vt3,o.OA$]}),NgModel})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let J=(()=>{var e;class ɵNgNoValidate{}return(e=ɵNgNoValidate).ɵfac=function _ɵNgNoValidate_Factory(n){return new(n||e)},e.ɵdir=o.FsC({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ɵNgNoValidate})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Z={provide:f,useExisting:(0,o.Rfq)((()=>ee)),multi:!0};let ee=(()=>{var e;class NumberValueAccessor extends p{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=n=>{e(""==n?null:parseFloat(n))}}}return(e=NumberValueAccessor).ɵfac=(()=>{let n;return function _NumberValueAccessor_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function _NumberValueAccessor_HostBindings(e,n){1&e&&o.bIt("input",(function _NumberValueAccessor_input_HostBindingHandler(e){return n.onChange(e.target.value)}))("blur",(function _NumberValueAccessor_blur_HostBindingHandler(){return n.onTouched()}))},features:[o.Jv_([Z]),o.Vt3]}),NumberValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const te={provide:f,useExisting:(0,o.Rfq)((()=>re)),multi:!0};let ne=(()=>{var e;class RadioControlRegistry{constructor(){this._accessors=[]}add(e,n){this._accessors.push([e,n])}remove(e){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===e)return this._accessors.splice(n,1),void 0}select(e){this._accessors.forEach((n=>{this._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}_isSameGroup(e,n){return!!e[0].control&&(e[0]._parent===n._control._parent&&e[1].name===n.name)}}return(e=RadioControlRegistry).ɵfac=function _RadioControlRegistry_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),RadioControlRegistry})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let re=(()=>{var e;class RadioControlValueAccessor extends p{constructor(e,n,r,i){var s;super(e,n),this._registry=r,this._injector=i,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=null!==(s=(0,o.WQX)(U,{optional:!0}))&&void 0!==s?s:B}ngOnInit(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&("undefined"==typeof ngDevMode||ngDevMode)&&!function throwNameError(){throw new o.wOt(1202,'\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}(),!this.name&&this.formControlName&&(this.name=this.formControlName)}}return(e=RadioControlValueAccessor).ɵfac=function _RadioControlValueAccessor_Factory(n){return new(n||e)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(ne),o.rXU(o.zZn))},e.ɵdir=o.FsC({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function _RadioControlValueAccessor_HostBindings(e,n){1&e&&o.bIt("change",(function _RadioControlValueAccessor_change_HostBindingHandler(){return n.onChange()}))("blur",(function _RadioControlValueAccessor_blur_HostBindingHandler(){return n.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([te]),o.Vt3]}),RadioControlValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const oe={provide:f,useExisting:(0,o.Rfq)((()=>ie)),multi:!0};let ie=(()=>{var e;class RangeValueAccessor extends p{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=n=>{e(""==n?null:parseFloat(n))}}}return(e=RangeValueAccessor).ɵfac=(()=>{let n;return function _RangeValueAccessor_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function _RangeValueAccessor_HostBindings(e,n){1&e&&o.bIt("change",(function _RangeValueAccessor_change_HostBindingHandler(e){return n.onChange(e.target.value)}))("input",(function _RangeValueAccessor_input_HostBindingHandler(e){return n.onChange(e.target.value)}))("blur",(function _RangeValueAccessor_blur_HostBindingHandler(){return n.onTouched()}))},features:[o.Jv_([oe]),o.Vt3]}),RangeValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const se=new o.nKC(ngDevMode?"NgModelWithFormControlWarning":""),ae={provide:NgControl,useExisting:(0,o.Rfq)((()=>le))};let le=(()=>{var e;class FormControlDirective extends NgControl{set isDisabled(e){("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(F)}constructor(e,n,r,i,s){super(),this._ngModelWarningConfig=i,this.callSetDisabledState=s,this.update=new o.bkB,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=selectValueAccessor(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){const n=e.form.previousValue;n&&cleanUpControl(n,this,!1),setUpControl(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}isPropertyUpdated(e,this.viewModel)&&(("undefined"==typeof ngDevMode||ngDevMode)&&_ngModelWarning("formControl",FormControlDirective,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&cleanUpControl(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return(e=FormControlDirective)._ngModelWarningSentOnce=!1,e.ɵfac=function _FormControlDirective_Factory(n){return new(n||e)(o.rXU(A,10),o.rXU(_,10),o.rXU(f,10),o.rXU(se,8),o.rXU(U,8))},e.ɵdir=o.FsC({type:e,selectors:[["","formControl",""]],inputs:{form:[o.Mj6.None,"formControl","form"],isDisabled:[o.Mj6.None,"disabled","isDisabled"],model:[o.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o.Jv_([ae]),o.Vt3,o.OA$]}),FormControlDirective})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const de={provide:ControlContainer,useExisting:(0,o.Rfq)((()=>ce))};let ce=(()=>{var e;class FormGroupDirective extends ControlContainer{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cleanUpValidators(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange((()=>{})))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return setUpControl(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){cleanUpControl(e.control||null,e,!1),function removeListItem$1(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){var n;return this.submitted=!0,syncPendingControls(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===(null==e||null===(n=e.target)||void 0===n?void 0:n.method)}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach((e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(cleanUpControl(n||null,e),r instanceof z&&(setUpControl(r,e,this.callSetDisabledState),e.control=r))})),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);setUpFormContainer(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);if(n){const r=function cleanUpFormContainer(e,n){return cleanUpValidators(e,n)}(n,e);r&&n.updateValueAndValidity({emitEvent:!1})}}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange((()=>{}))}_updateValidators(){setUpValidators(this.form,this),this._oldForm&&cleanUpValidators(this._oldForm,this)}_checkFormPresent(){if(!this.form&&("undefined"==typeof ngDevMode||ngDevMode))throw function missingFormException(){return new o.wOt(1052,`formGroup expects a FormGroup instance. Please pass one in.\n\n      Example:\n\n      ${P}`)}()}}return(e=FormGroupDirective).ɵfac=function _FormGroupDirective_Factory(n){return new(n||e)(o.rXU(A,10),o.rXU(_,10),o.rXU(U,8))},e.ɵdir=o.FsC({type:e,selectors:[["","formGroup",""]],hostBindings:function _FormGroupDirective_HostBindings(e,n){1&e&&o.bIt("submit",(function _FormGroupDirective_submit_HostBindingHandler(e){return n.onSubmit(e)}))("reset",(function _FormGroupDirective_reset_HostBindingHandler(){return n.onReset()}))},inputs:{form:[o.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([de]),o.Vt3,o.OA$]}),FormGroupDirective})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const ue={provide:ControlContainer,useExisting:(0,o.Rfq)((()=>pe))};let pe=(()=>{var e;class FormGroupName extends q{constructor(e,n,r){super(),this.name=null,this._parent=e,this._setValidators(n),this._setAsyncValidators(r)}_checkParentType(){if(_hasInvalidParent(this._parent)&&("undefined"==typeof ngDevMode||ngDevMode))throw function groupParentException(){return new o.wOt(1053,`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n    directive and pass it an existing FormGroup instance (you can create one in your class).\n\n    Example:\n\n    ${k}`)}()}}return(e=FormGroupName).ɵfac=function _FormGroupName_Factory(n){return new(n||e)(o.rXU(ControlContainer,13),o.rXU(A,10),o.rXU(_,10))},e.ɵdir=o.FsC({type:e,selectors:[["","formGroupName",""]],inputs:{name:[o.Mj6.None,"formGroupName","name"]},features:[o.Jv_([ue]),o.Vt3]}),FormGroupName})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const fe={provide:ControlContainer,useExisting:(0,o.Rfq)((()=>ge))};let ge=(()=>{var e;class FormArrayName extends ControlContainer{constructor(e,n,r){super(),this.name=null,this._parent=e,this._setValidators(n),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){if(_hasInvalidParent(this._parent)&&("undefined"==typeof ngDevMode||ngDevMode))throw function arrayParentException(){return new o.wOt(1054,'formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      \n  <div [formGroup]="myGroup">\n    <div formArrayName="cities">\n      <div *ngFor="let city of cityArray.controls; index as i">\n        <input [formControlName]="i">\n      </div>\n    </div>\n  </div>\n\n  In your class:\n\n  this.cityArray = new FormArray([new FormControl(\'SF\')]);\n  this.myGroup = new FormGroup({\n    cities: this.cityArray\n  });')}()}}return(e=FormArrayName).ɵfac=function _FormArrayName_Factory(n){return new(n||e)(o.rXU(ControlContainer,13),o.rXU(A,10),o.rXU(_,10))},e.ɵdir=o.FsC({type:e,selectors:[["","formArrayName",""]],inputs:{name:[o.Mj6.None,"formArrayName","name"]},features:[o.Jv_([fe]),o.Vt3]}),FormArrayName})();function _hasInvalidParent(e){return!(e instanceof pe||e instanceof ce||e instanceof ge)}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const me={provide:NgControl,useExisting:(0,o.Rfq)((()=>he))};let he=(()=>{var e;class FormControlName extends NgControl{set isDisabled(e){("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(F)}constructor(e,n,r,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=selectValueAccessor(this,i)}ngOnChanges(e){this._added||this._setUpControl(),isPropertyUpdated(e,this.viewModel)&&(("undefined"==typeof ngDevMode||ngDevMode)&&_ngModelWarning("formControlName",FormControlName,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){if("undefined"==typeof ngDevMode||ngDevMode){if(!(this._parent instanceof pe)&&this._parent instanceof q)throw function ngModelGroupException(){return new o.wOt(1051,`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n      that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n      Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n      ${k}\n\n      Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n      ${x}`)}();if(!(this._parent instanceof pe||this._parent instanceof ce||this._parent instanceof ge))throw function controlParentException(){return new o.wOt(1050,`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n    Example:\n\n    ${P}`)}()}}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=FormControlName)._ngModelWarningSentOnce=!1,e.ɵfac=function _FormControlName_Factory(n){return new(n||e)(o.rXU(ControlContainer,13),o.rXU(A,10),o.rXU(_,10),o.rXU(f,10),o.rXU(se,8))},e.ɵdir=o.FsC({type:e,selectors:[["","formControlName",""]],inputs:{name:[o.Mj6.None,"formControlName","name"],isDisabled:[o.Mj6.None,"disabled","isDisabled"],model:[o.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([me]),o.Vt3,o.OA$]}),FormControlName})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const ve={provide:f,useExisting:(0,o.Rfq)((()=>ye)),multi:!0};function _buildValueString$1(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let ye=(()=>{var e;class SelectControlValueAccessor extends p{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e&&("undefined"==typeof ngDevMode||ngDevMode))throw new o.wOt(1201,`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const n=_buildValueString$1(this._getOptionId(e),e);this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){const n=function _extractId$1(e){return e.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n):e}}return(e=SelectControlValueAccessor).ɵfac=(()=>{let n;return function _SelectControlValueAccessor_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function _SelectControlValueAccessor_HostBindings(e,n){1&e&&o.bIt("change",(function _SelectControlValueAccessor_change_HostBindingHandler(e){return n.onChange(e.target.value)}))("blur",(function _SelectControlValueAccessor_blur_HostBindingHandler(){return n.onTouched()}))},inputs:{compareWith:"compareWith"},features:[o.Jv_([ve]),o.Vt3]}),SelectControlValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Ce=(()=>{var e;class NgSelectOption{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_buildValueString$1(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(e=NgSelectOption).ɵfac=function _NgSelectOption_Factory(n){return new(n||e)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(ye,9))},e.ɵdir=o.FsC({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),NgSelectOption})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const be={provide:f,useExisting:(0,o.Rfq)((()=>we)),multi:!0};function _buildValueString(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let we=(()=>{var e;class SelectMultipleControlValueAccessor extends p{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e&&("undefined"==typeof ngDevMode||ngDevMode))throw new o.wOt(1201,`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let n;if(this.value=e,Array.isArray(e)){const r=e.map((e=>this._getOptionId(e)));n=(e,n)=>{e._setSelected(r.indexOf(n.toString())>-1)}}else n=(e,n)=>{e._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{const r=[],o=n.selectedOptions;if(void 0!==o){const e=o;for(let n=0;n<e.length;n++){const o=this._getOptionValue(e[n].value);r.push(o)}}else{const e=n.options;for(let n=0;n<e.length;n++){const o=e[n];if(o.selected){const e=this._getOptionValue(o.value);r.push(e)}}}this.value=r,e(r)}}_registerOption(e){const n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){const n=function _extractId(e){return e.split(":")[0]}(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}}return(e=SelectMultipleControlValueAccessor).ɵfac=(()=>{let n;return function _SelectMultipleControlValueAccessor_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function _SelectMultipleControlValueAccessor_HostBindings(e,n){1&e&&o.bIt("change",(function _SelectMultipleControlValueAccessor_change_HostBindingHandler(e){return n.onChange(e.target)}))("blur",(function _SelectMultipleControlValueAccessor_blur_HostBindingHandler(){return n.onTouched()}))},inputs:{compareWith:"compareWith"},features:[o.Jv_([be]),o.Vt3]}),SelectMultipleControlValueAccessor})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Se=(()=>{var e;class ɵNgSelectMultipleOption{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(_buildValueString(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(_buildValueString(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(e=ɵNgSelectMultipleOption).ɵfac=function _ɵNgSelectMultipleOption_Factory(n){return new(n||e)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(we,9))},e.ɵdir=o.FsC({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),ɵNgSelectMultipleOption})();function toInteger(e){return"number"==typeof e?e:parseInt(e,10)}function toFloat(e){return"number"==typeof e?e:parseFloat(e)}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Ae=(()=>{var e;class AbstractValidatorDirective{constructor(){this._validator=nullValidator}ngOnChanges(e){if(this.inputName in e){const n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):nullValidator,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return(e=AbstractValidatorDirective).ɵfac=function _AbstractValidatorDirective_Factory(n){return new(n||e)},e.ɵdir=o.FsC({type:e,features:[o.OA$]}),AbstractValidatorDirective})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const _e={provide:A,useExisting:(0,o.Rfq)((()=>Ee)),multi:!0};let Ee=(()=>{var e;class MaxValidator extends Ae{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>toFloat(e),this.createValidator=e=>maxValidator(e)}}return(e=MaxValidator).ɵfac=(()=>{let n;return function _MaxValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function _MaxValidator_HostBindings(e,n){2&e&&o.BMQ("max",n._enabled?n.max:null)},inputs:{max:"max"},features:[o.Jv_([_e]),o.Vt3]}),MaxValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Ie={provide:A,useExisting:(0,o.Rfq)((()=>De)),multi:!0};let De=(()=>{var e;class MinValidator extends Ae{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>toFloat(e),this.createValidator=e=>minValidator(e)}}return(e=MinValidator).ɵfac=(()=>{let n;return function _MinValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function _MinValidator_HostBindings(e,n){2&e&&o.BMQ("min",n._enabled?n.min:null)},inputs:{min:"min"},features:[o.Jv_([Ie]),o.Vt3]}),MinValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Me={provide:A,useExisting:(0,o.Rfq)((()=>Pe)),multi:!0},Te={provide:A,useExisting:(0,o.Rfq)((()=>ke)),multi:!0};let Pe=(()=>{var e;class RequiredValidator extends Ae{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=e=>requiredValidator}enabled(e){return e}}return(e=RequiredValidator).ɵfac=(()=>{let n;return function _RequiredValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function _RequiredValidator_HostBindings(e,n){2&e&&o.BMQ("required",n._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([Me]),o.Vt3]}),RequiredValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let ke=(()=>{var e;class CheckboxRequiredValidator extends Pe{constructor(){super(...arguments),this.createValidator=e=>requiredTrueValidator}}return(e=CheckboxRequiredValidator).ɵfac=(()=>{let n;return function _CheckboxRequiredValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function _CheckboxRequiredValidator_HostBindings(e,n){2&e&&o.BMQ("required",n._enabled?"":null)},features:[o.Jv_([Te]),o.Vt3]}),CheckboxRequiredValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const xe={provide:A,useExisting:(0,o.Rfq)((()=>Fe)),multi:!0};let Fe=(()=>{var e;class EmailValidator extends Ae{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=o.L39,this.createValidator=e=>emailValidator}enabled(e){return e}}return(e=EmailValidator).ɵfac=(()=>{let n;return function _EmailValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[o.Jv_([xe]),o.Vt3]}),EmailValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Oe={provide:A,useExisting:(0,o.Rfq)((()=>Re)),multi:!0};let Re=(()=>{var e;class MinLengthValidator extends Ae{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>toInteger(e),this.createValidator=e=>minLengthValidator(e)}}return(e=MinLengthValidator).ɵfac=(()=>{let n;return function _MinLengthValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function _MinLengthValidator_HostBindings(e,n){2&e&&o.BMQ("minlength",n._enabled?n.minlength:null)},inputs:{minlength:"minlength"},features:[o.Jv_([Oe]),o.Vt3]}),MinLengthValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Ne={provide:A,useExisting:(0,o.Rfq)((()=>Le)),multi:!0};let Le=(()=>{var e;class MaxLengthValidator extends Ae{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>toInteger(e),this.createValidator=e=>maxLengthValidator(e)}}return(e=MaxLengthValidator).ɵfac=(()=>{let n;return function _MaxLengthValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function _MaxLengthValidator_HostBindings(e,n){2&e&&o.BMQ("maxlength",n._enabled?n.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o.Jv_([Ne]),o.Vt3]}),MaxLengthValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const He={provide:A,useExisting:(0,o.Rfq)((()=>Ue)),multi:!0};let Ue=(()=>{var e;class PatternValidator extends Ae{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>patternValidator(e)}}return(e=PatternValidator).ɵfac=(()=>{let n;return function _PatternValidator_Factory(r){return(n||(n=o.xGo(e)))(r||e)}})(),e.ɵdir=o.FsC({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function _PatternValidator_HostBindings(e,n){2&e&&o.BMQ("pattern",n._enabled?n.pattern:null)},inputs:{pattern:"pattern"},features:[o.Jv_([He]),o.Vt3]}),PatternValidator})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Be=(()=>{var e;class ɵInternalFormsSharedModule{}return(e=ɵInternalFormsSharedModule).ɵfac=function _ɵInternalFormsSharedModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e,declarations:[J,Ce,Se,w,ee,ie,v,ye,we,re,I,T,Pe,Re,Le,Ue,ke,Fe,De,Ee],exports:[J,Ce,Se,w,ee,ie,v,ye,we,re,I,T,Pe,Re,Le,Ue,ke,Fe,De,Ee]}),e.ɵinj=o.G2t({}),ɵInternalFormsSharedModule})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class FormArray extends AbstractControl{constructor(e,n,r){super(pickValidators(n),pickAsyncValidators(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange((()=>{})),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange((()=>{})),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){assertAllValuesPresent(this,!1,e),e.forEach(((e,r)=>{assertControlPresent(this,!1,r),this.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach(((e,r)=>{this.at(r)&&this.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild(((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})})),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map((e=>e.getRawValue()))}clear(e={}){this.controls.length<1||(this._forEachChild((e=>e._registerOnCollectionChange((()=>{})))),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce(((e,n)=>!!n._syncPendingControls()||e),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach(((n,r)=>{e(n,r)}))}_updateValue(){this.value=this.controls.filter((e=>e.enabled||this.disabled)).map((e=>e.value))}_anyControls(e){return this.controls.some((n=>n.enabled&&e(n)))}_setUpControls(){this._forEachChild((e=>this._registerControl(e)))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var n;return null!==(n=this.at(e))&&void 0!==n?n:null}}function isAbstractControlOptions(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let $e=(()=>{var e;class FormBuilder{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new FormBuilder;return e.useNonNullable=!0,e}group(e,n=null){const r=this._reduceControls(e);let o={};return isAbstractControlOptions(n)?o=n:null!==n&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new FormGroup(r,o)}record(e,n=null){const r=this._reduceControls(e);return new FormRecord(r,n)}control(e,n,r){let o={};return this.useNonNullable?(isAbstractControlOptions(n)?o=n:(o.validators=n,o.asyncValidators=r),new z(e,{...o,nonNullable:!0})):new z(e,n,r)}array(e,n,r){const o=e.map((e=>this._createControl(e)));return new FormArray(o,n,r)}_reduceControls(e){const n={};return Object.keys(e).forEach((r=>{n[r]=this._createControl(e[r])})),n}_createControl(e){if(e instanceof z)return e;if(e instanceof AbstractControl)return e;if(Array.isArray(e)){return this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null)}return this.control(e)}}return(e=FormBuilder).ɵfac=function _FormBuilder_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),FormBuilder})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();new o.RxE("17.3.12");let je=(()=>{var e;class FormsModule{static withConfig(e){var n;return{ngModule:FormsModule,providers:[{provide:U,useValue:null!==(n=e.callSetDisabledState)&&void 0!==n?n:B}]}}}return(e=FormsModule).ɵfac=function _FormsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e,declarations:[Y,K,G],exports:[Be,Y,K,G]}),e.ɵinj=o.G2t({imports:[Be]}),FormsModule})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Ve=(()=>{var e;class ReactiveFormsModule{static withConfig(e){var n,r;return{ngModule:ReactiveFormsModule,providers:[{provide:se,useValue:null!==(n=e.warnOnNgModelWithFormControl)&&void 0!==n?n:"always"},{provide:U,useValue:null!==(r=e.callSetDisabledState)&&void 0!==r?r:B}]}}}return(e=ReactiveFormsModule).ɵfac=function _ReactiveFormsModule_Factory(n){return new(n||e)},e.ɵmod=o.$C({type:e,declarations:[le,ce,he,pe,ge],exports:[Be,le,ce,he,pe,ge]}),e.ɵinj=o.G2t({imports:[Be]}),ReactiveFormsModule})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})()},345:(e,n,r)=>{"use strict";r.d(n,{B7:()=>_,B8:()=>bootstrapApplication,Bb:()=>H,hE:()=>U,up:()=>B});var o=r(54438),i=r(60177);class GenericBrowserDomAdapter extends i.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class BrowserDomAdapter extends GenericBrowserDomAdapter{static makeCurrent(){(0,i.ZD)(new BrowserDomAdapter)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function getBaseElementHref(){return s=s||document.querySelector("base"),s?s.getAttribute("href"):null}();return null==n?null:function relativePath(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,i._b)(document.cookie,e)}}let s=null;let a=(()=>{var e;class BrowserXhr{build(){return new XMLHttpRequest}}return(e=BrowserXhr).ɵfac=function _BrowserXhr_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),BrowserXhr})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const c=new o.nKC(ngDevMode?"EventManagerPlugins":"");let u=(()=>{var e;class EventManager{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach((e=>{e.manager=this})),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find((n=>n.supports(e))),!n)throw new o.wOt(5101,("undefined"==typeof ngDevMode||ngDevMode)&&`No event manager plugin found for event ${e}`);return this._eventNameToPlugin.set(e,n),n}}return(e=EventManager).ɵfac=function _EventManager_Factory(n){return new(n||e)(o.KVO(c),o.KVO(o.SKi))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),EventManager})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class EventManagerPlugin{constructor(e){this._doc=e}}const p="ng-app-id";let f=(()=>{var e;class SharedStylesHost{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,i.Vy)(o),this.resetHostNodes()}addStyles(e){for(const n of e){1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}}removeStyles(e){for(const n of e){this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach((e=>e.remove())),e.clear());for(const e of this.getAllStyles())this.onStyleRemoved(e);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){var n;const r=this.styleRef;null===(n=r.get(e))||void 0===n||null===(n=n.elements)||void 0===n||n.forEach((e=>e.remove())),r.delete(e)}collectServerRenderedStyles(){var e;const n=null===(e=this.doc.head)||void 0===e?void 0:e.querySelectorAll(`style[${p}="${this.appId}"]`);if(null!=n&&n.length){const e=new Map;return n.forEach((n=>{null!=n.textContent&&e.set(n.textContent,n)})),e}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,o=null==r?void 0:r.get(n);if((null==o?void 0:o.parentNode)===e)return r.delete(n),o.removeAttribute(p),("undefined"==typeof ngDevMode||ngDevMode)&&o.setAttribute("ng-style-reused",""),o;{const r=this.doc.createElement("style");return this.nonce&&r.setAttribute("nonce",this.nonce),r.textContent=n,this.platformIsServer&&r.setAttribute(p,this.appId),e.appendChild(r),r}}addStyleToHost(e,n){var r;const o=this.getStyleElement(e,n),i=this.styleRef,s=null===(r=i.get(n))||void 0===r?void 0:r.elements;s?s.push(o):i.set(n,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return(e=SharedStylesHost).ɵfac=function _SharedStylesHost_Factory(n){return new(n||e)(o.KVO(i.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),SharedStylesHost})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},v=/%COMP%/g,C="%COMP%",b=`_nghost-${C}`,w=`_ngcontent-${C}`,A=new o.nKC(ngDevMode?"RemoveStylesOnCompDestroy":"",{providedIn:"root",factory:()=>true});function shimStylesContent(e,n){return n.map((n=>n.replace(v,e)))}let _=(()=>{var e;class DomRendererFactory2{constructor(e,n,r,o,s,a,c,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=(0,i.Vy)(a),this.defaultRenderer=new DefaultDomRenderer2(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===o.gXe.ShadowDom&&(n={...n,encapsulation:o.gXe.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof EmulatedEncapsulationDomRenderer2?r.applyToHost(e):r instanceof NoneEncapsulationDomRenderer&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let i=r.get(n.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case o.gXe.Emulated:i=new EmulatedEncapsulationDomRenderer2(c,u,n,this.appId,p,s,a,f);break;case o.gXe.ShadowDom:return new ShadowDomRenderer(c,u,e,n,s,a,this.nonce,f);default:i=new NoneEncapsulationDomRenderer(c,u,n,p,s,a,f)}r.set(n.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=DomRendererFactory2).ɵfac=function _DomRendererFactory_Factory(n){return new(n||e)(o.KVO(u),o.KVO(f),o.KVO(o.sZ2),o.KVO(A),o.KVO(i.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),DomRendererFactory2})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class DefaultDomRenderer2{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(g[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(isTemplateNode(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){if(e){(isTemplateNode(e)?e.content:e).insertBefore(n,r)}}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new o.wOt(-5104,("undefined"==typeof ngDevMode||ngDevMode)&&`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const i=g[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=g[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(o.czy.DashCase|o.czy.Important)?e.style.setProperty(n,r,i&o.czy.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&o.czy.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(("undefined"==typeof ngDevMode||ngDevMode)&&this.throwOnSyntheticProps&&checkNoSyntheticProp(n,"property"),e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(("undefined"==typeof ngDevMode||ngDevMode)&&this.throwOnSyntheticProps&&checkNoSyntheticProp(n,"listener"),"string"==typeof e&&!(e=(0,i.QT)().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded((()=>e(n))):e(n))&&n.preventDefault()}}}const E=(()=>"@".charCodeAt(0))();function checkNoSyntheticProp(e,n){if(e.charCodeAt(0)===E)throw new o.wOt(5105,`Unexpected synthetic ${n} ${e} found. Please make sure that:\n  - Either \`BrowserAnimationsModule\` or \`NoopAnimationsModule\` are imported in your application.\n  - There is corresponding configuration for the animation named \`${e}\` defined in the \`animations\` field of the \`@Component\` decorator (see https://angular.io/api/core/Component#animations).`)}function isTemplateNode(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class ShadowDomRenderer extends DefaultDomRenderer2{constructor(e,n,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=shimStylesContent(o.id,o.styles);for(const e of u){const n=document.createElement("style");a&&n.setAttribute("nonce",a),n.textContent=e,this.shadowRoot.appendChild(n)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class NoneEncapsulationDomRenderer extends DefaultDomRenderer2{constructor(e,n,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?shimStylesContent(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class EmulatedEncapsulationDomRenderer2 extends NoneEncapsulationDomRenderer{constructor(e,n,r,o,i,s,a,c){const u=o+"-"+r.id;super(e,n,r,i,s,a,c,u),this.contentAttr=function shimContentAttribute(e){return w.replace(v,e)}(u),this.hostAttr=function shimHostAttribute(e){return b.replace(v,e)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let I=(()=>{var e;class DomEventsPlugin extends EventManagerPlugin{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}}return(e=DomEventsPlugin).ɵfac=function _DomEventsPlugin_Factory(n){return new(n||e)(o.KVO(i.qQ))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),DomEventsPlugin})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const T=["alt","control","meta","shift"],P={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let x=(()=>{var e;class KeyEventsPlugin extends EventManagerPlugin{constructor(e){super(e)}supports(e){return null!=KeyEventsPlugin.parseEventName(e)}addEventListener(e,n,r){const o=KeyEventsPlugin.parseEventName(n),s=KeyEventsPlugin.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((()=>(0,i.QT)().onAndCancel(e,o.domEventName,s)))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=KeyEventsPlugin._normalizeKey(n.pop());let i="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),i="code."),T.forEach((e=>{const r=n.indexOf(e);r>-1&&(n.splice(r,1),i+=e+".")})),i+=o,0!=n.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=i,a}static matchEventFullKeyCode(e,n){let r=P[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),T.forEach((n=>{if(n!==r){(0,k[n])(e)&&(o+=n+".")}})),o+=r,o===n)}static eventCallback(e,n,r){return o=>{KeyEventsPlugin.matchEventFullKeyCode(o,e)&&r.runGuarded((()=>n(o)))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return(e=KeyEventsPlugin).ɵfac=function _KeyEventsPlugin_Factory(n){return new(n||e)(o.KVO(i.qQ))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac}),KeyEventsPlugin})();function bootstrapApplication(e,n){return(0,o.TL3)({rootComponent:e,...createProvidersConfig(n)})}function createProvidersConfig(e){var n;return{appProviders:[...L,...null!==(n=null==e?void 0:e.providers)&&void 0!==n?n:[]],platformProviders:F}}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const F=[{provide:o.Agw,useValue:i.AJ},{provide:o.PLl,useValue:function initDomAdapter(){BrowserDomAdapter.makeCurrent()},multi:!0},{provide:i.qQ,useFactory:function _document(){return(0,o.TL$)(document),document},deps:[]}],R=new o.nKC("undefined"==typeof ngDevMode||ngDevMode?"BrowserModule Providers Marker":""),N=[{provide:o.e01,useClass:class BrowserGetTestability{addToWindow(e){o.JZv.getAngularTestability=(n,r=!0)=>{const i=e.findTestabilityInTree(n,r);if(null==i)throw new o.wOt(5103,("undefined"==typeof ngDevMode||ngDevMode)&&"Could not find testability for element.");return i},o.JZv.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>e.getAllRootElements();o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push((e=>{const n=o.JZv.getAllAngularTestabilities();let r=n.length;const decrement=function(){r--,0==r&&e()};n.forEach((e=>{e.whenStable(decrement)}))}))}findTestabilityInTree(e,n,r){if(null==n)return null;const o=e.getTestability(n);return null!=o?o:r?(0,i.QT)().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],L=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function errorHandler(){return new o.zcH},deps:[]},{provide:c,useClass:I,multi:!0,deps:[i.qQ,o.SKi,o.Agw]},{provide:c,useClass:x,multi:!0,deps:[i.qQ]},_,f,u,{provide:o._9s,useExisting:_},{provide:i.N0,useClass:a,deps:[]},"undefined"==typeof ngDevMode||ngDevMode?{provide:R,useValue:!0}:[]];let H=(()=>{var e;class BrowserModule{constructor(e){if(("undefined"==typeof ngDevMode||ngDevMode)&&e)throw new o.wOt(5100,"Providers from the `BrowserModule` have already been loaded. If you need access to common directives such as NgIf and NgFor, import the `CommonModule` instead.")}static withServerTransition(e){return{ngModule:BrowserModule,providers:[{provide:o.sZ2,useValue:e.appId}]}}}return(e=BrowserModule).ɵfac=function _BrowserModule_Factory(n){return new(n||e)(o.KVO(R,12))},e.ɵmod=o.$C({type:e}),e.ɵinj=o.G2t({providers:[...L,...N],imports:[i.MD,o.Hbi]}),BrowserModule})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let U=(()=>{var e;class Title{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return(e=Title).ɵfac=function _Title_Factory(n){return new(n||e)(o.KVO(i.qQ))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),Title})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();new o.nKC("HammerGestureConfig"),new o.nKC("HammerLoader");(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let B=(()=>{var e;class DomSanitizer{}return(e=DomSanitizer).ɵfac=function _DomSanitizer_Factory(n){return new(n||e)},e.ɵprov=o.jDH({token:e,factory:function _DomSanitizer_Factory(n){let r=null;return r=n?new(n||e):o.KVO(j),r},providedIn:"root"}),DomSanitizer})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let j=(()=>{var e;class DomSanitizerImpl extends B{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case o.WPN.NONE:return n;case o.WPN.HTML:return(0,o.ZF7)(n,"HTML")?(0,o.rcV)(n):(0,o.h9k)(this._doc,String(n)).toString();case o.WPN.STYLE:return(0,o.ZF7)(n,"Style")?(0,o.rcV)(n):n;case o.WPN.SCRIPT:if((0,o.ZF7)(n,"Script"))return(0,o.rcV)(n);throw new o.wOt(5200,("undefined"==typeof ngDevMode||ngDevMode)&&"unsafe value used in a script context");case o.WPN.URL:return(0,o.ZF7)(n,"URL")?(0,o.rcV)(n):(0,o.$MX)(String(n));case o.WPN.RESOURCE_URL:if((0,o.ZF7)(n,"ResourceURL"))return(0,o.rcV)(n);throw new o.wOt(5201,("undefined"==typeof ngDevMode||ngDevMode)&&`unsafe value used in a resource URL context (see ${o.lNU})`);default:throw new o.wOt(5202,("undefined"==typeof ngDevMode||ngDevMode)&&`Unexpected SecurityContext ${e} (see ${o.lNU})`)}}bypassSecurityTrustHtml(e){return(0,o.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,o.cWb)(e)}bypassSecurityTrustScript(e){return(0,o.UyX)(e)}bypassSecurityTrustUrl(e){return(0,o.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.e5t)(e)}}return(e=DomSanitizerImpl).ɵfac=function _DomSanitizerImpl_Factory(n){return new(n||e)(o.KVO(i.qQ))},e.ɵprov=o.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),DomSanitizerImpl})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();var V=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(V||{});new o.RxE("17.3.12")},21182:(e,n,r)=>{"use strict";r.d(n,{nX:()=>ActivatedRoute,Xl:()=>ActivatedRouteSnapshot,Zp:()=>de,wF:()=>NavigationEnd,Z:()=>NavigationStart,Xk:()=>Q,bw:()=>we,b:()=>Me,Ix:()=>Re,Wk:()=>Ne,iI:()=>qe,Sd:()=>Z});var o=r(10467),i=r(54438),s=r(74402),a=r(86648),c=r(7673),u=r(84412),p=r(84572),f=r(9350),g=r(28793),v=r(59030),C=r(71203),b=r(71985),w=r(98071);function throwError_throwError(e,n){const r=(0,w.T)(e)?e:()=>e,init=e=>e.error(r());return new b.c(n?e=>n.schedule(init,0,e):init)}var A=r(983),_=r(18359),E=r(39974),I=r(54360);function refCount(){return(0,E.N)(((e,n)=>{let r=null;e._refCount++;const o=(0,I._)(n,void 0,void 0,void 0,(()=>{if(!e||e._refCount<=0||0<--e._refCount)return r=null,void 0;const o=e._connection,i=r;r=null,!o||i&&o!==i||o.unsubscribe(),n.unsubscribe()}));e.subscribe(o),o.closed||(r=e.connect())}))}class ConnectableObservable extends b.c{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,E.S)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _.yU;const n=this.getSubject();e.add(this.source.subscribe((0,I._)(n,void 0,(()=>{this._teardown(),n.complete()}),(e=>{this._teardown(),n.error(e)}),(()=>this._teardown())))),e.closed&&(this._connection=null,e=_.yU.EMPTY)}return e}refCount(){return refCount()(this)}}var T=r(21413),P=r(60177),k=r(96354),x=r(25558),F=r(96697),R=r(9326);var N=r(5964),L=r(31397);function defaultIfEmpty(e){return(0,E.N)(((n,r)=>{let o=!1;n.subscribe((0,I._)(r,(e=>{o=!0,r.next(e)}),(()=>{o||r.next(e),r.complete()})))}))}function throwIfEmpty(e=defaultErrorFactory){return(0,E.N)(((n,r)=>{let o=!1;n.subscribe((0,I._)(r,(e=>{o=!0,r.next(e)}),(()=>o?r.complete():r.error(e()))))}))}function defaultErrorFactory(){return new f.G}var H=r(33669);function first(e,n){const r=arguments.length>=2;return o=>o.pipe(e?(0,N.p)(((n,r)=>e(n,r,o))):H.D,(0,F.s)(1),r?defaultIfEmpty(n):throwIfEmpty((()=>new f.G)))}var U=r(70274),B=r(88141),j=r(99437);function scan(e,n){return(0,E.N)(function scanInternals(e,n,r,o,i){return(s,a)=>{let c=r,u=n,p=0;s.subscribe((0,I._)(a,(n=>{const r=p++;u=c?e(u,n,r):(c=!0,n),o&&a.next(u)}),i&&(()=>{c&&a.next(u),a.complete()})))}}(e,n,arguments.length>=2,!0))}function takeLast(e){return e<=0?()=>A.w:(0,E.N)(((n,r)=>{let o=[];n.subscribe((0,I._)(r,(n=>{o.push(n),e<o.length&&o.shift()}),(()=>{for(const e of o)r.next(e);r.complete()}),void 0,(()=>{o=null})))}))}var V=r(73703),G=r(70980),z=r(58750),q=r(85343);var W=r(26365),K=r(345);const Q="primary",X=Symbol("RouteTitle");class ParamsAsMap{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function convertToParamMap(e){return new ParamsAsMap(e)}function defaultUrlMatcher(e,n,r){const o=r.path.split("/");if(o.length>e.length)return null;if("full"===r.pathMatch&&(n.hasChildren()||o.length<e.length))return null;const i={};for(let n=0;n<o.length;n++){const r=o[n],s=e[n];if(r.startsWith(":"))i[r.substring(1)]=s;else if(r!==s.path)return null}return{consumed:e.slice(0,o.length),posParams:i}}function shallowEqual(e,n){const r=e?getDataKeys(e):void 0,o=n?getDataKeys(n):void 0;if(!r||!o||r.length!=o.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!equalArraysOrString(e[i],n[i]))return!1;return!0}function getDataKeys(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function equalArraysOrString(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const r=[...e].sort(),o=[...n].sort();return r.every(((e,n)=>o[n]===e))}return e===n}function router_last(e){return e.length>0?e[e.length-1]:null}function wrapIntoObservable(e){return(0,s.A)(e)?e:(0,i.jNT)(e)?(0,a.H)(Promise.resolve(e)):(0,c.of)(e)}const Y={exact:function equalSegmentGroups(e,n,r){if(!equalPath(e.segments,n.segments))return!1;if(!matrixParamsMatch(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children){if(!e.children[o])return!1;if(!equalSegmentGroups(e.children[o],n.children[o],r))return!1}return!0},subset:containsSegmentGroup},J={exact:function equalParams(e,n){return shallowEqual(e,n)},subset:function containsParams(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every((r=>equalArraysOrString(e[r],n[r])))},ignored:()=>!0};function containsTree(e,n,r){return Y[r.paths](e.root,n.root,r.matrixParams)&&J[r.queryParams](e.queryParams,n.queryParams)&&!("exact"===r.fragment&&e.fragment!==n.fragment)}function containsSegmentGroup(e,n,r){return containsSegmentGroupHelper(e,n,n.segments,r)}function containsSegmentGroupHelper(e,n,r,o){if(e.segments.length>r.length){const i=e.segments.slice(0,r.length);return!!equalPath(i,r)&&(!n.hasChildren()&&!!matrixParamsMatch(i,r,o))}if(e.segments.length===r.length){if(!equalPath(e.segments,r))return!1;if(!matrixParamsMatch(e.segments,r,o))return!1;for(const r in n.children){if(!e.children[r])return!1;if(!containsSegmentGroup(e.children[r],n.children[r],o))return!1}return!0}{const i=r.slice(0,e.segments.length),s=r.slice(e.segments.length);return!!equalPath(e.segments,i)&&(!!matrixParamsMatch(e.segments,i,o)&&(!!e.children[Q]&&containsSegmentGroupHelper(e.children[Q],n,s,o)))}}function matrixParamsMatch(e,n,r){return n.every(((n,o)=>J[r](e[o].parameters,n.parameters)))}class UrlTree{constructor(e=new UrlSegmentGroup([],{}),n={},r=null){if(this.root=e,this.queryParams=n,this.fragment=r,("undefined"==typeof ngDevMode||ngDevMode)&&e.segments.length>0)throw new i.wOt(4015,"The root `UrlSegmentGroup` should not contain `segments`. Instead, these segments belong in the `children` so they can be associated with a named outlet.")}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e?e:this._queryParamMap=convertToParamMap(this.queryParams),this._queryParamMap}toString(){return ee.serialize(this)}}class UrlSegmentGroup{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach((e=>e.parent=this))}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return serializePaths(this)}}class UrlSegment{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e?e:this._parameterMap=convertToParamMap(this.parameters),this._parameterMap}toString(){return serializePath(this)}}function equalPath(e,n){return e.length===n.length&&e.every(((e,r)=>e.path===n[r].path))}let Z=(()=>{var e;class UrlSerializer{}return(e=UrlSerializer).ɵfac=function _UrlSerializer_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:()=>new DefaultUrlSerializer,providedIn:"root"}),UrlSerializer})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class DefaultUrlSerializer{parse(e){const n=new UrlParser(e);return new UrlTree(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${serializeSegment(e.root,!0)}`}${function serializeQueryParams(e){const n=Object.entries(e).map((([e,n])=>Array.isArray(n)?n.map((n=>`${encodeUriQuery(e)}=${encodeUriQuery(n)}`)).join("&"):`${encodeUriQuery(e)}=${encodeUriQuery(n)}`)).filter((e=>e));return n.length?`?${n.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function encodeUriFragment(e){return encodeURI(e)}(e.fragment)}`:""}`}}const ee=new DefaultUrlSerializer;function serializePaths(e){return e.segments.map((e=>serializePath(e))).join("/")}function serializeSegment(e,n){if(!e.hasChildren())return serializePaths(e);if(n){const n=e.children[Q]?serializeSegment(e.children[Q],!1):"",r=[];return Object.entries(e.children).forEach((([e,n])=>{e!==Q&&r.push(`${e}:${serializeSegment(n,!1)}`)})),r.length>0?`${n}(${r.join("//")})`:n}{const n=function mapChildrenIntoArray(e,n){let r=[];return Object.entries(e.children).forEach((([e,o])=>{e===Q&&(r=r.concat(n(o,e)))})),Object.entries(e.children).forEach((([e,o])=>{e!==Q&&(r=r.concat(n(o,e)))})),r}(e,((n,r)=>r===Q?[serializeSegment(e.children[Q],!1)]:[`${r}:${serializeSegment(n,!1)}`]));return 1===Object.keys(e.children).length&&null!=e.children[Q]?`${serializePaths(e)}/${n[0]}`:`${serializePaths(e)}/(${n.join("//")})`}}function encodeUriString(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(e){return encodeUriString(e).replace(/%3B/gi,";")}function encodeUriSegment(e){return encodeUriString(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(e){return decodeURIComponent(e)}function decodeQuery(e){return decode(e.replace(/\+/g,"%20"))}function serializePath(e){return`${encodeUriSegment(e.path)}${function serializeMatrixParams(e){return Object.entries(e).map((([e,n])=>`;${encodeUriSegment(e)}=${encodeUriSegment(n)}`)).join("")}(e.parameters)}`}const te=/^[^\/()?;#]+/;function matchSegments(e){const n=e.match(te);return n?n[0]:""}const ne=/^[^\/()?;=#]+/;const re=/^[^=?&#]+/;const oe=/^[^&#]+/;class UrlParser{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Q]=new UrlSegmentGroup(e,n)),r}parseSegment(){const e=matchSegments(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new i.wOt(4009,("undefined"==typeof ngDevMode||ngDevMode)&&`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new UrlSegment(decode(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function matchMatrixKeySegments(e){const n=e.match(ne);return n?n[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const e=matchSegments(this.remaining);e&&(r=e,this.capture(r))}e[decode(n)]=decode(r)}parseQueryParam(e){const n=function matchQueryParams(e){const n=e.match(re);return n?n[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const e=function matchUrlQueryParamValue(e){const n=e.match(oe);return n?n[0]:""}(this.remaining);e&&(r=e,this.capture(r))}const o=decodeQuery(n),i=decodeQuery(r);if(e.hasOwnProperty(o)){let n=e[o];Array.isArray(n)||(n=[n],e[o]=n),n.push(i)}else e[o]=i}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=matchSegments(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new i.wOt(4010,("undefined"==typeof ngDevMode||ngDevMode)&&`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Q);const a=this.parseChildren();n[s]=1===Object.keys(a).length?a[Q]:new UrlSegmentGroup([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new i.wOt(4011,("undefined"==typeof ngDevMode||ngDevMode)&&`Expected "${e}".`)}}function createRoot(e){return e.segments.length>0?new UrlSegmentGroup([],{[Q]:e}):e}function squashSegmentGroup(e){const n={};for(const[r,o]of Object.entries(e.children)){const e=squashSegmentGroup(o);if(r===Q&&0===e.segments.length&&e.hasChildren())for(const[r,o]of Object.entries(e.children))n[r]=o;else(e.segments.length>0||e.hasChildren())&&(n[r]=e)}return function mergeTrivialChildren(e){if(1===e.numberOfChildren&&e.children[Q]){const n=e.children[Q];return new UrlSegmentGroup(e.segments.concat(n.segments),n.children)}return e}(new UrlSegmentGroup(e.segments,n))}function isUrlTree(e){return e instanceof UrlTree}function createSegmentGroupFromRoute(e){let n;const r=function createSegmentGroupFromRouteRecursive(r){const o={};for(const e of r.children){const n=createSegmentGroupFromRouteRecursive(e);o[e.outlet]=n}const i=new UrlSegmentGroup(r.url,o);return r===e&&(n=i),i}(e.root),o=createRoot(r);return null!=n?n:o}function createUrlTreeFromSegmentGroup(e,n,r,o){let s=e;for(;s.parent;)s=s.parent;if(0===n.length)return tree(s,s,s,r,o);const a=function computeNavigation(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Navigation(!0,0,e);let n=0,r=!1;const o=e.reduce(((e,o,i)=>{if("object"==typeof o&&null!=o){if(o.outlets){const n={};return Object.entries(o.outlets).forEach((([e,r])=>{n[e]="string"==typeof r?r.split("/"):r})),[...e,{outlets:n}]}if(o.segmentPath)return[...e,o.segmentPath]}return"string"!=typeof o?[...e,o]:0===i?(o.split("/").forEach(((o,i)=>{0==i&&"."===o||(0==i&&""===o?r=!0:".."===o?n++:""!=o&&e.push(o))})),e):[...e,o]}),[]);return new Navigation(r,n,o)}(n);if(a.toRoot())return tree(s,s,new UrlSegmentGroup([],{}),r,o);const c=function findStartingPositionForTargetGroup(e,n,r){if(e.isAbsolute)return new Position(n,!0,0);if(!r)return new Position(n,!1,NaN);if(null===r.parent)return new Position(r,!0,0);const o=isMatrixParams(e.commands[0])?0:1;return function createPositionApplyingDoubleDots(e,n,r){let o=e,s=n,a=r;for(;a>s;){if(a-=s,o=o.parent,!o)throw new i.wOt(4005,("undefined"==typeof ngDevMode||ngDevMode)&&"Invalid number of '../'");s=o.segments.length}return new Position(o,!1,s-a)}(r,r.segments.length-1+o,e.numberOfDoubleDots)}(a,s,e),u=c.processChildren?updateSegmentGroupChildren(c.segmentGroup,c.index,a.commands):updateSegmentGroup(c.segmentGroup,c.index,a.commands);return tree(s,c.segmentGroup,u,r,o)}function isMatrixParams(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function isCommandWithOutlets(e){return"object"==typeof e&&null!=e&&e.outlets}function tree(e,n,r,o,i){let s,a={};o&&Object.entries(o).forEach((([e,n])=>{a[e]=Array.isArray(n)?n.map((e=>`${e}`)):`${n}`})),s=e===n?r:replaceSegment(e,n,r);const c=createRoot(squashSegmentGroup(s));return new UrlTree(c,a,i)}function replaceSegment(e,n,r){const o={};return Object.entries(e.children).forEach((([e,i])=>{o[e]=i===n?r:replaceSegment(i,n,r)})),new UrlSegmentGroup(e.segments,o)}class Navigation{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&isMatrixParams(r[0]))throw new i.wOt(4003,("undefined"==typeof ngDevMode||ngDevMode)&&"Root segment cannot have matrix parameters");const o=r.find(isCommandWithOutlets);if(o&&o!==router_last(r))throw new i.wOt(4004,("undefined"==typeof ngDevMode||ngDevMode)&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Position{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function updateSegmentGroup(e,n,r){if(null!=e?e:e=new UrlSegmentGroup([],{}),0===e.segments.length&&e.hasChildren())return updateSegmentGroupChildren(e,n,r);const o=function prefixedWith(e,n,r){let o=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(o>=r.length)return s;const n=e.segments[i],a=r[o];if(isCommandWithOutlets(a))break;const c=`${a}`,u=o<r.length-1?r[o+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!compare(c,u,n))return s;o+=2}else{if(!compare(c,{},n))return s;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}(e,n,r),i=r.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const n=new UrlSegmentGroup(e.segments.slice(0,o.pathIndex),{});return n.children[Q]=new UrlSegmentGroup(e.segments.slice(o.pathIndex),e.children),updateSegmentGroupChildren(n,0,i)}return o.match&&0===i.length?new UrlSegmentGroup(e.segments,{}):o.match&&!e.hasChildren()?createNewSegmentGroup(e,n,r):o.match?updateSegmentGroupChildren(e,0,i):createNewSegmentGroup(e,n,r)}function updateSegmentGroupChildren(e,n,r){if(0===r.length)return new UrlSegmentGroup(e.segments,{});{const o=function getOutlets(e){return isCommandWithOutlets(e[0])?e[0].outlets:{[Q]:e}}(r),i={};if(Object.keys(o).some((e=>e!==Q))&&e.children[Q]&&1===e.numberOfChildren&&0===e.children[Q].segments.length){const o=updateSegmentGroupChildren(e.children[Q],n,r);return new UrlSegmentGroup(e.segments,o.children)}return Object.entries(o).forEach((([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[r]=updateSegmentGroup(e.children[r],n,o))})),Object.entries(e.children).forEach((([e,n])=>{void 0===o[e]&&(i[e]=n)})),new UrlSegmentGroup(e.segments,i)}}function createNewSegmentGroup(e,n,r){const o=e.segments.slice(0,n);let i=0;for(;i<r.length;){const s=r[i];if(isCommandWithOutlets(s)){const e=createNewSegmentChildren(s.outlets);return new UrlSegmentGroup(o,e)}if(0===i&&isMatrixParams(r[0])){o.push(new UrlSegment(e.segments[n].path,stringify(r[0]))),i++;continue}const a=isCommandWithOutlets(s)?s.outlets[Q]:`${s}`,c=i<r.length-1?r[i+1]:null;a&&c&&isMatrixParams(c)?(o.push(new UrlSegment(a,stringify(c))),i+=2):(o.push(new UrlSegment(a,{})),i++)}return new UrlSegmentGroup(o,{})}function createNewSegmentChildren(e){const n={};return Object.entries(e).forEach((([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,r))})),n}function stringify(e){const n={};return Object.entries(e).forEach((([e,r])=>n[e]=`${r}`)),n}function compare(e,n,r){return e==r.path&&shallowEqual(n,r.parameters)}const ie="imperative";var se=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(se||{});class RouterEvent{constructor(e,n){this.id=e,this.url=n}}class NavigationStart extends RouterEvent{constructor(e,n,r="imperative",o=null){super(e,n),this.type=se.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class NavigationEnd extends RouterEvent{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ae=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ae||{}),le=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(le||{});class NavigationCancel extends RouterEvent{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class NavigationSkipped extends RouterEvent{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=se.NavigationSkipped}}class NavigationError extends RouterEvent{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RoutesRecognized extends RouterEvent{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckStart extends RouterEvent{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GuardsCheckEnd extends RouterEvent{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ResolveStart extends RouterEvent{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ResolveEnd extends RouterEvent{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RouteConfigLoadStart{constructor(e){this.route=e,this.type=se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RouteConfigLoadEnd{constructor(e){this.route=e,this.type=se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ChildActivationStart{constructor(e){this.snapshot=e,this.type=se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ChildActivationEnd{constructor(e){this.snapshot=e,this.type=se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationStart{constructor(e){this.snapshot=e,this.type=se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ActivationEnd{constructor(e){this.snapshot=e,this.type=se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Scroll{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=se.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class BeforeActivateRoutes{}class RedirectRequest{constructor(e){this.url=e}}class OutletContext{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new de,this.attachRef=null}}let de=(()=>{var e;class ChildrenOutletContexts{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new OutletContext,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}return(e=ChildrenOutletContexts).ɵfac=function _ChildrenOutletContexts_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),ChildrenOutletContexts})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class Tree{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=findNode(e,this._root);return n?n.children.map((e=>e.value)):[]}firstChild(e){const n=findNode(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=findPath(e,this._root);if(n.length<2)return[];return n[n.length-2].children.map((e=>e.value)).filter((n=>n!==e))}pathFromRoot(e){return findPath(e,this._root).map((e=>e.value))}}function findNode(e,n){if(e===n.value)return n;for(const r of n.children){const n=findNode(e,r);if(n)return n}return null}function findPath(e,n){if(e===n.value)return[n];for(const r of n.children){const o=findPath(e,r);if(o.length)return o.unshift(n),o}return[]}class TreeNode{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function nodeChildrenAsMap(e){const n={};return e&&e.children.forEach((e=>n[e.value.outlet]=e)),n}class RouterState extends Tree{constructor(e,n){super(e),this.snapshot=n,setRouterState(this,e)}toString(){return this.snapshot.toString()}}function createEmptyState(e){const n=function createEmptyStateSnapshot(e){const n={},r={},o={},i="",s=new ActivatedRouteSnapshot([],n,o,i,r,Q,e,null,{});return new RouterStateSnapshot("",new TreeNode(s,[]))}(e),r=new u.t([new UrlSegment("",{})]),o=new u.t({}),i=new u.t({}),s=new u.t({}),a=new u.t(""),c=new ActivatedRoute(r,o,s,a,i,Q,e,n.root);return c.snapshot=n.root,new RouterState(new TreeNode(c,[]),n)}class ActivatedRoute{constructor(e,n,r,o,i,s,a,u){var p,f;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=null!==(p=null===(f=this.dataSubject)||void 0===f?void 0:f.pipe((0,k.T)((e=>e[X]))))&&void 0!==p?p:(0,c.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e?e:this._paramMap=this.params.pipe((0,k.T)((e=>convertToParamMap(e)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e?e:this._queryParamMap=this.queryParams.pipe((0,k.T)((e=>convertToParamMap(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function getInherited(e,n,r="emptyOnly"){var o;let i;const{routeConfig:s}=e;var a;null===n||"always"!==r&&""!==(null==s?void 0:s.path)&&(n.component||null!==(o=n.routeConfig)&&void 0!==o&&o.loadComponent)?i={params:{...e.params},data:{...e.data},resolve:{...e.data,...null!==(a=e._resolvedData)&&void 0!==a?a:{}}}:i={params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...null==s?void 0:s.data,...e._resolvedData}};return s&&hasStaticTitle(s)&&(i.resolve[X]=s.title),i}class ActivatedRouteSnapshot{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[X]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e?e:this._paramMap=convertToParamMap(this.params),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e?e:this._queryParamMap=convertToParamMap(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map((e=>e.toString())).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RouterStateSnapshot extends Tree{constructor(e,n){super(n),this.url=e,setRouterState(this,n)}toString(){return serializeNode(this._root)}}function setRouterState(e,n){n.value._routerState=e,n.children.forEach((n=>setRouterState(e,n)))}function serializeNode(e){const n=e.children.length>0?` { ${e.children.map(serializeNode).join(", ")} } `:"";return`${e.value}${n}`}function advanceActivatedRoute(e){if(e.snapshot){const n=e.snapshot,r=e._futureSnapshot;e.snapshot=r,shallowEqual(n.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),n.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),shallowEqual(n.params,r.params)||e.paramsSubject.next(r.params),function shallowEqualArrays(e,n){if(e.length!==n.length)return!1;for(let r=0;r<e.length;++r)if(!shallowEqual(e[r],n[r]))return!1;return!0}(n.url,r.url)||e.urlSubject.next(r.url),shallowEqual(n.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function equalParamsAndUrlSegments(e,n){const r=shallowEqual(e.params,n.params)&&function equalSegments(e,n){return equalPath(e,n)&&e.every(((e,r)=>shallowEqual(e.parameters,n[r].parameters)))}(e.url,n.url);return r&&!(!e.parent!=!n.parent)&&(!e.parent||equalParamsAndUrlSegments(e.parent,n.parent))}function hasStaticTitle(e){return"string"==typeof e.title||null===e.title}let ce=(()=>{var e;class RouterOutlet{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(de),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(ue,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){var e;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(e=this.inputBinder)||void 0===e||e.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){var n;return(null===(n=this.parentContexts.getContext(e))||void 0===n?void 0:n.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);null!=e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,("undefined"==typeof ngDevMode||ngDevMode)&&"Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,("undefined"==typeof ngDevMode||ngDevMode)&&"Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,("undefined"==typeof ngDevMode||ngDevMode)&&"Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){var r;this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),null===(r=this.inputBinder)||void 0===r||r.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){var r;if(this.isActivated)throw new i.wOt(4013,("undefined"==typeof ngDevMode||ngDevMode)&&"Cannot activate an already activated outlet");this._activatedRoute=e;const o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new OutletInjector(e,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:null!=n?n:this.environmentInjector}),this.changeDetector.markForCheck(),null===(r=this.inputBinder)||void 0===r||r.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=RouterOutlet).ɵfac=function _RouterOutlet_Factory(n){return new(n||e)},e.ɵdir=i.FsC({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]}),RouterOutlet})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class OutletInjector{__ngOutletInjector(e){return new OutletInjector(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ActivatedRoute?this.route:e===de?this.childContexts:this.parent.get(e,n)}}const ue=new i.nKC("");let pe=(()=>{var e;class RoutedComponentInputBinder{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){var n;null===(n=this.outletDataSubscriptions.get(e))||void 0===n||n.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=(0,p.z)([n.queryParams,n.params,n.data]).pipe((0,x.n)((([e,n,r],o)=>(r={...e,...n,...r},0===o?(0,c.of)(r):Promise.resolve(r))))).subscribe((r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return this.unsubscribeFromRouteData(e),void 0;const o=(0,i.HJs)(n.component);if(!o)return this.unsubscribeFromRouteData(e),void 0;for(const{templateName:n}of o.inputs)e.activatedComponentRef.setInput(n,r[n])}));this.outletDataSubscriptions.set(e,r)}}return(e=RoutedComponentInputBinder).ɵfac=function _RoutedComponentInputBinder_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac}),RoutedComponentInputBinder})();function createNode(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const o=r.value;o._futureSnapshot=n.value;const i=function createOrReuseChildren(e,n,r){return n.children.map((n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return createNode(e,n,o);return createNode(e,n)}))}(e,n,r);return new TreeNode(o,i)}{if(e.shouldAttach(n.value)){const r=e.retrieve(n.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=n.value,o.children=n.children.map((n=>createNode(e,n))),o}}const r=function createActivatedRoute(e){return new ActivatedRoute(new u.t(e.url),new u.t(e.params),new u.t(e.queryParams),new u.t(e.fragment),new u.t(e.data),e.outlet,e.component,e)}(n.value),o=n.children.map((n=>createNode(e,n)));return new TreeNode(r,o)}}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const fe="ngNavigationCancelingError";function redirectingNavigationError(e,n){const{redirectTo:r,navigationBehaviorOptions:o}=isUrlTree(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=navigationCancelingError(ngDevMode&&`Redirecting to "${e.serialize(r)}"`,ae.Redirect);return i.url=r,i.navigationBehaviorOptions=o,i}function navigationCancelingError(e,n){const r=new Error(`NavigationCancelingError: ${e||""}`);return r[fe]=!0,r.cancellationCode=n,r}function isNavigationCancelingError(e){return!!e&&e[fe]}let ge=(()=>{var e;class ɵEmptyOutletComponent{}return(e=ɵEmptyOutletComponent).ɵfac=function _ɵEmptyOutletComponent_Factory(n){return new(n||e)},e.ɵcmp=i.VBU({type:e,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function __EmptyOutletComponent_Template(e,n){1&e&&i.nrm(0,"router-outlet")},dependencies:[ce],encapsulation:2}),ɵEmptyOutletComponent})();function validateConfig(e,n="",r=!1){for(let o=0;o<e.length;o++){const i=e[o];validateNode(i,getFullPath(n,i),r)}}function assertStandalone(e,n){if(n&&(0,i.plB)(n))throw new i.wOt(4014,`Invalid configuration of route '${e}'. You are using 'loadComponent' with a module, but it must be used with standalone components. Use 'loadChildren' instead.`);if(n&&!(0,i.QuC)(n))throw new i.wOt(4014,`Invalid configuration of route '${e}'. The component must be standalone.`)}function validateNode(e,n,r){if("undefined"==typeof ngDevMode||ngDevMode){if(!e)throw new i.wOt(4014,`\n      Invalid configuration of route '${n}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new i.wOt(4014,`Invalid configuration of route '${n}': Array cannot be specified`);if(!e.redirectTo&&!e.component&&!e.loadComponent&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Q)throw new i.wOt(4014,`Invalid configuration of route '${n}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new i.wOt(4014,`Invalid configuration of route '${n}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new i.wOt(4014,`Invalid configuration of route '${n}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new i.wOt(4014,`Invalid configuration of route '${n}': children and loadChildren cannot be used together`);if(e.redirectTo&&(e.component||e.loadComponent))throw new i.wOt(4014,`Invalid configuration of route '${n}': redirectTo and component/loadComponent cannot be used together`);if(e.component&&e.loadComponent)throw new i.wOt(4014,`Invalid configuration of route '${n}': component and loadComponent cannot be used together`);if(e.redirectTo&&e.canActivate)throw new i.wOt(4014,`Invalid configuration of route '${n}': redirectTo and canActivate cannot be used together. Redirects happen before activation so canActivate will never be executed.`);if(e.path&&e.matcher)throw new i.wOt(4014,`Invalid configuration of route '${n}': path and matcher cannot be used together`);if(!(void 0!==e.redirectTo||e.component||e.loadComponent||e.children||e.loadChildren))throw new i.wOt(4014,`Invalid configuration of route '${n}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new i.wOt(4014,`Invalid configuration of route '${n}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new i.wOt(4014,`Invalid configuration of route '${n}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){throw new i.wOt(4014,`Invalid configuration of route '{path: "${n}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. ${"The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."}`)}r&&assertStandalone(n,e.component)}e.children&&validateConfig(e.children,n,r)}function getFullPath(e,n){return n?e||n.path?e&&!n.path?`${e}/`:!e&&n.path?n.path:`${e}/${n.path}`:"":e}function standardizeConfig(e){const n=e.children&&e.children.map(standardizeConfig),r=n?{...e,children:n}:{...e};return r.component||r.loadComponent||!n&&!r.loadChildren||!r.outlet||r.outlet===Q||(r.component=ge),r}function getOutlet(e){return e.outlet||Q}function getClosestRouteInjector(e){var n;if(!e)return null;if(null!==(n=e.routeConfig)&&void 0!==n&&n._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const e=n.routeConfig;if(null!=e&&e._loadedInjector)return e._loadedInjector;if(null!=e&&e._injector)return e._injector}return null}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let me=!1;class ActivateRoutes{constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const o=nodeChildrenAsMap(n);e.children.forEach((e=>{const n=e.value.outlet;this.deactivateRoutes(e,o[n],r),delete o[n]})),Object.values(o).forEach((e=>{this.deactivateRouteAndItsChildren(e,r)}))}deactivateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(o===i)if(o.component){const i=r.getContext(o.outlet);i&&this.deactivateChildRoutes(e,n,i.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=nodeChildrenAsMap(e);for(const e of Object.values(i))this.deactivateRouteAndItsChildren(e,o);if(r&&r.outlet){const n=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:n,route:e,contexts:o})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=nodeChildrenAsMap(e);for(const e of Object.values(i))this.deactivateRouteAndItsChildren(e,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const o=nodeChildrenAsMap(n);e.children.forEach((e=>{this.activateRoutes(e,o[e.value.outlet],r),this.forwardEvent(new ActivationEnd(e.value.snapshot))})),e.children.length&&this.forwardEvent(new ChildActivationEnd(e.value.snapshot))}activateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(advanceActivatedRoute(o),o===i)if(o.component){const i=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,i.children)}else this.activateChildRoutes(e,n,r);else if(o.component){const n=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const r=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),n.children.onOutletReAttached(r.contexts),n.attachRef=r.componentRef,n.route=r.route.value,n.outlet&&n.outlet.attach(r.componentRef,r.route.value),advanceActivatedRoute(r.route.value),this.activateChildRoutes(e,null,n.children)}else{const r=getClosestRouteInjector(o.snapshot);n.attachRef=null,n.route=o,n.injector=r,n.outlet&&n.outlet.activateWith(o,n.injector),this.activateChildRoutes(e,null,n.children)}}else this.activateChildRoutes(e,null,r);if("undefined"==typeof ngDevMode||ngDevMode){const e=r.getOrCreateContext(o.outlet).outlet;e&&this.inputBindingEnabled&&!e.supportsBindingToComponentInputs&&!me&&(console.warn("'withComponentInputBinding' feature is enabled but this application is using an outlet that may not support binding to component inputs."),me=!0)}}}class CanActivate{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class CanDeactivate{constructor(e,n){this.component=e,this.route=n}}function getAllRouteGuards(e,n,r){const o=e._root;return getChildRouteGuards(o,n?n._root:null,r,[o.value])}function getTokenOrFunctionIdentity(e,n){const r=Symbol(),o=n.get(e,r);return o===r?"function"!=typeof e||(0,i.LfX)(e)?n.get(e):e:o}function getChildRouteGuards(e,n,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=nodeChildrenAsMap(n);return e.children.forEach((e=>{!function getRouteGuards(e,n,r,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function shouldRunGuardsAndResolvers(e,n,r){if("function"==typeof r)return r(e,n);switch(r){case"pathParamsChange":return!equalPath(e.url,n.url);case"pathParamsOrQueryParamsChange":return!equalPath(e.url,n.url)||!shallowEqual(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(e,n)||!shallowEqual(e.queryParams,n.queryParams);default:return!equalParamsAndUrlSegments(e,n)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new CanActivate(o)):(s.data=a.data,s._resolvedData=a._resolvedData),getChildRouteGuards(e,n,s.component?c?c.children:null:r,o,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new CanDeactivate(c.outlet.component,a))}else a&&deactivateRouteAndItsChildren(n,c,i),i.canActivateChecks.push(new CanActivate(o)),getChildRouteGuards(e,null,s.component?c?c.children:null:r,o,i);return i}(e,s[e.value.outlet],r,o.concat([e.value]),i),delete s[e.value.outlet]})),Object.entries(s).forEach((([e,n])=>deactivateRouteAndItsChildren(n,r.getContext(e),i))),i}function deactivateRouteAndItsChildren(e,n,r){const o=nodeChildrenAsMap(e),i=e.value;Object.entries(o).forEach((([e,o])=>{deactivateRouteAndItsChildren(o,i.component?n?n.children.getContext(e):null:n,r)})),r.canDeactivateChecks.push(new CanDeactivate(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function router_isFunction(e){return"function"==typeof e}function isEmptyError(e){return e instanceof f.G||"EmptyError"===(null==e?void 0:e.name)}const he=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return(0,x.n)((e=>(0,p.z)(e.map((e=>e.pipe((0,F.s)(1),function startWith(...e){const n=(0,R.lI)(e);return(0,E.N)(((r,o)=>{(n?(0,g.x)(e,r,n):(0,g.x)(e,r)).subscribe(o)}))}(he))))).pipe((0,k.T)((e=>{for(const n of e)if(!0!==n){if(n===he)return he;if(!1===n||n instanceof UrlTree)return n}return!0})),(0,N.p)((e=>e!==he)),(0,F.s)(1))))}function checkGuards(e,n){return(0,L.Z)((r=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:p}}=r;return 0===p.length&&0===u.length?(0,c.of)({...r,guardsResult:!0}):function runCanDeactivateChecks(e,n,r,o){return(0,a.H)(e).pipe((0,L.Z)((e=>function runCanDeactivate(e,n,r,o,s){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,c.of)(!0);const u=a.map((a=>{var c;const u=null!==(c=getClosestRouteInjector(n))&&void 0!==c?c:s,p=getTokenOrFunctionIdentity(a,u);return wrapIntoObservable(function isCanDeactivate(e){return e&&router_isFunction(e.canDeactivate)}(p)?p.canDeactivate(e,n,r,o):(0,i.N4e)(u,(()=>p(e,n,r,o)))).pipe(first())}));return(0,c.of)(u).pipe(prioritizedGuardValue())}(e.component,e.route,r,n,o))),first((e=>!0!==e),!0))}(p,o,s,e).pipe((0,L.Z)((r=>r&&function isBoolean(e){return"boolean"==typeof e}(r)?function runCanActivateChecks(e,n,r,o){return(0,a.H)(n).pipe((0,U.H)((n=>(0,g.x)(function fireChildActivationStart(e,n){null!==e&&n&&n(new ChildActivationStart(e));return(0,c.of)(!0)}(n.route.parent,o),function fireActivationStart(e,n){null!==e&&n&&n(new ActivationStart(e));return(0,c.of)(!0)}(n.route,o),function runCanActivateChild(e,n,r){const o=n[n.length-1],s=n.slice(0,n.length-1).reverse().map((e=>function getCanActivateChild(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(e))).filter((e=>null!==e)).map((n=>(0,v.v)((()=>{const s=n.guards.map((s=>{var a;const c=null!==(a=getClosestRouteInjector(n.node))&&void 0!==a?a:r,u=getTokenOrFunctionIdentity(s,c);return wrapIntoObservable(function isCanActivateChild(e){return e&&router_isFunction(e.canActivateChild)}(u)?u.canActivateChild(o,e):(0,i.N4e)(c,(()=>u(o,e)))).pipe(first())}));return(0,c.of)(s).pipe(prioritizedGuardValue())}))));return(0,c.of)(s).pipe(prioritizedGuardValue())}(e,n.path,r),function runCanActivate(e,n,r){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return(0,c.of)(!0);const s=o.map((o=>(0,v.v)((()=>{var s;const a=null!==(s=getClosestRouteInjector(n))&&void 0!==s?s:r,c=getTokenOrFunctionIdentity(o,a);return wrapIntoObservable(function isCanActivate(e){return e&&router_isFunction(e.canActivate)}(c)?c.canActivate(n,e):(0,i.N4e)(a,(()=>c(n,e)))).pipe(first())}))));return(0,c.of)(s).pipe(prioritizedGuardValue())}(e,n.route,r)))),first((e=>!0!==e),!0))}(o,u,e,n):(0,c.of)(r))),(0,k.T)((e=>({...r,guardsResult:e}))))}))}function runCanLoadGuards(e,n,r,o){const s=n.canLoad;if(void 0===s||0===s.length)return(0,c.of)(!0);const a=s.map((o=>{const s=getTokenOrFunctionIdentity(o,e);return wrapIntoObservable(function isCanLoad(e){return e&&router_isFunction(e.canLoad)}(s)?s.canLoad(n,r):(0,i.N4e)(e,(()=>s(n,r))))}));return(0,c.of)(a).pipe(prioritizedGuardValue(),redirectIfUrlTree(o))}function redirectIfUrlTree(e){return(0,C.F)((0,B.M)((n=>{if(isUrlTree(n))throw redirectingNavigationError(e,n)})),(0,k.T)((e=>!0===e)))}function runCanMatchGuards(e,n,r,o){const s=n.canMatch;if(!s||0===s.length)return(0,c.of)(!0);const a=s.map((o=>{const s=getTokenOrFunctionIdentity(o,e);return wrapIntoObservable(function isCanMatch(e){return e&&router_isFunction(e.canMatch)}(s)?s.canMatch(n,r):(0,i.N4e)(e,(()=>s(n,r))))}));return(0,c.of)(a).pipe(prioritizedGuardValue(),redirectIfUrlTree(o))}class NoMatch{constructor(e){this.segmentGroup=e||null}}class AbsoluteRedirect extends Error{constructor(e){super(),this.urlTree=e}}function noMatch$1(e){return throwError_throwError(new NoMatch(e))}class ApplyRedirects{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,c.of)(r);if(o.numberOfChildren>1||!o.children[Q])return s=e.redirectTo,throwError_throwError(new i.wOt(4e3,("undefined"==typeof ngDevMode||ngDevMode)&&`Only absolute redirects can have named outlets. redirectTo: '${s}'`));o=o.children[Q]}var s}applyRedirectCommands(e,n,r){const o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new AbsoluteRedirect(o);return o}applyRedirectCreateUrlTree(e,n,r,o){const i=this.createSegmentGroup(e,n.root,r,o);return new UrlTree(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach((([e,o])=>{if("string"==typeof o&&o.startsWith(":")){const i=o.substring(1);r[e]=n[i]}else r[e]=o})),r}createSegmentGroup(e,n,r,o){const i=this.createSegments(e,n.segments,r,o);let s={};return Object.entries(n.children).forEach((([n,i])=>{s[n]=this.createSegmentGroup(e,i,r,o)})),new UrlSegmentGroup(i,s)}createSegments(e,n,r,o){return n.map((n=>n.path.startsWith(":")?this.findPosParam(e,n,o):this.findOrReturn(n,r)))}findPosParam(e,n,r){const o=r[n.path.substring(1)];if(!o)throw new i.wOt(4001,("undefined"==typeof ngDevMode||ngDevMode)&&`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return o}findOrReturn(e,n){let r=0;for(const o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}}const ve={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function matchWithChecks(e,n,r,o,s){const a=match(e,n,r);return a.matched?(o=function getOrCreateRouteInjectorIfNeeded(e,n){var r;return e.providers&&!e._injector&&(e._injector=(0,i.Ol2)(e.providers,n,`Route: ${e.path}`)),null!==(r=e._injector)&&void 0!==r?r:n}(n,o),runCanMatchGuards(o,n,r,s).pipe((0,k.T)((e=>!0===e?a:{...ve})))):(0,c.of)(a)}function match(e,n,r){var o,i;if("**"===n.path)return function createWildcardMatchResult(e){return{matched:!0,parameters:e.length>0?router_last(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||r.length>0)?{...ve}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const s=(n.matcher||defaultUrlMatcher)(r,e,n);if(!s)return{...ve};const a={};Object.entries(null!==(o=s.posParams)&&void 0!==o?o:{}).forEach((([e,n])=>{a[e]=n.path}));const c=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:r.slice(s.consumed.length),parameters:c,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function split(e,n,r,o){if(r.length>0&&function containsEmptyPathMatchesWithNamedOutlets(e,n,r){return r.some((r=>emptyPathMatch(e,n,r)&&getOutlet(r)!==Q))}(e,r,o)){return{segmentGroup:new UrlSegmentGroup(n,function createChildrenForEmptyPaths(e,n){const r={};r[Q]=n;for(const n of e)if(""===n.path&&getOutlet(n)!==Q){const e=new UrlSegmentGroup([],{});r[getOutlet(n)]=e}return r}(o,new UrlSegmentGroup(r,e.children))),slicedSegments:[]}}if(0===r.length&&function containsEmptyPathMatches(e,n,r){return r.some((r=>emptyPathMatch(e,n,r)))}(e,r,o)){const n=new UrlSegmentGroup(e.segments,function addEmptyPathsToChildrenIfNeeded(e,n,r,o){const i={};for(const s of r)if(emptyPathMatch(e,n,s)&&!o[getOutlet(s)]){const e=new UrlSegmentGroup([],{});i[getOutlet(s)]=e}return{...o,...i}}(e,r,o,e.children));return{segmentGroup:n,slicedSegments:r}}return{segmentGroup:new UrlSegmentGroup(e.segments,e.children),slicedSegments:r}}function emptyPathMatch(e,n,r){return(!(e.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}class NoLeftoversInUrl{}class Recognizer{constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ApplyRedirects(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new i.wOt(4002,"undefined"==typeof ngDevMode||ngDevMode?`Cannot match any routes. URL Segment: '${e.segmentGroup}'`:`'${e.segmentGroup}'`)}recognize(){const e=split(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,k.T)((e=>{const n=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Q,this.rootComponentType,null,{}),r=new TreeNode(n,e),o=new RouterStateSnapshot("",r),i=function createUrlTreeFromSnapshot(e,n,r=null,o=null){return createUrlTreeFromSegmentGroup(createSegmentGroupFromRoute(e),n,r,o)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(o._root,null),{state:o,tree:i}})))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Q).pipe((0,j.W)((e=>{if(e instanceof AbsoluteRedirect)return this.urlTree=e.urlTree,this.match(e.urlTree.root);if(e instanceof NoMatch)throw this.noMatchError(e);throw e})))}inheritParamsAndData(e,n){const r=e.value,o=getInherited(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),e.children.forEach((e=>this.inheritParamsAndData(e,r)))}processSegmentGroup(e,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o,!0).pipe((0,k.T)((e=>e instanceof TreeNode?[e]:[])))}processChildren(e,n,r){const o=[];for(const e of Object.keys(r.children))"primary"===e?o.unshift(e):o.push(e);return(0,a.H)(o).pipe((0,U.H)((o=>{const i=r.children[o],s=function sortByMatchingOutlets(e,n){const r=e.filter((e=>getOutlet(e)===n));return r.push(...e.filter((e=>getOutlet(e)!==n))),r}(n,o);return this.processSegmentGroup(e,s,i,o)})),scan(((e,n)=>(e.push(...n),e))),defaultIfEmpty(null),function last(e,n){const r=arguments.length>=2;return o=>o.pipe(e?(0,N.p)(((n,r)=>e(n,r,o))):H.D,takeLast(1),r?defaultIfEmpty(n):throwIfEmpty((()=>new f.G)))}(),(0,L.Z)((e=>{if(null===e)return noMatch$1(r);const n=mergeEmptyPathMatches(e);return("undefined"==typeof ngDevMode||ngDevMode)&&!function checkOutletNameUniqueness(e){const n={};e.forEach((e=>{const r=n[e.value.outlet];if(r){const n=r.url.map((e=>e.toString())).join("/"),o=e.value.url.map((e=>e.toString())).join("/");throw new i.wOt(4006,("undefined"==typeof ngDevMode||ngDevMode)&&`Two segments cannot have the same outlet name: '${n}' and '${o}'.`)}n[e.value.outlet]=e.value}))}(n),function sortActivatedRouteSnapshots(e){e.sort(((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet)))}(n),(0,c.of)(n)})))}processSegment(e,n,r,o,i,s){return(0,a.H)(n).pipe((0,U.H)((a=>{var u;return this.processSegmentAgainstRoute(null!==(u=a._injector)&&void 0!==u?u:e,n,a,r,o,i,s).pipe((0,j.W)((e=>{if(e instanceof NoMatch)return(0,c.of)(null);throw e})))})),first((e=>!!e)),(0,j.W)((e=>{if(isEmptyError(e))return function noLeftoversInUrl(e,n,r){return 0===n.length&&!e.children[r]}(r,o,i)?(0,c.of)(new NoLeftoversInUrl):noMatch$1(r);throw e})))}processSegmentAgainstRoute(e,n,r,o,i,s,a){return function isImmediateMatch(e,n,r,o){return!!(getOutlet(e)===o||o!==Q&&emptyPathMatch(n,r,e))&&match(n,e,r).matched}(r,o,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s):noMatch$1(o):noMatch$1(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,s,a){const{matched:c,consumedSegments:u,positionalParamSegments:p,remainingSegments:f}=match(n,o,s);if(!c)return noMatch$1(n);if(o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31)){if(ngDevMode)throw new i.wOt(4016,`Detected possible infinite redirect when redirecting from '${this.urlTree}' to '${o.redirectTo}'.\nThis is currently a dev mode only error but will become a call stack size exceeded error in production in a future major version.`);this.allowRedirects=!1}const g=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,p);return this.applyRedirects.lineralizeSegments(o,g).pipe((0,L.Z)((o=>this.processSegment(e,r,n,o.concat(f),a,!1))))}matchSegmentAgainstRoute(e,n,r,o,i){const s=matchWithChecks(n,r,o,e,this.urlSerializer);return"**"===r.path&&(n.children={}),s.pipe((0,x.n)((s=>{var a;return s.matched?(e=null!==(a=r._injector)&&void 0!==a?a:e,this.getChildConfig(e,r,o).pipe((0,x.n)((({routes:o})=>{var a,u,p;const f=null!==(a=r._loadedInjector)&&void 0!==a?a:e,{consumedSegments:g,remainingSegments:v,parameters:C}=s,b=new ActivatedRouteSnapshot(g,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function getData(e){return e.data||{}}(r),getOutlet(r),null!==(u=null!==(p=r.component)&&void 0!==p?p:r._loadedComponent)&&void 0!==u?u:null,r,function getResolve(e){return e.resolve||{}}(r)),{segmentGroup:w,slicedSegments:A}=split(n,g,v,o);if(0===A.length&&w.hasChildren())return this.processChildren(f,o,w).pipe((0,k.T)((e=>null===e?null:new TreeNode(b,e))));if(0===o.length&&0===A.length)return(0,c.of)(new TreeNode(b,[]));const _=getOutlet(r)===i;return this.processSegment(f,o,w,A,_?Q:i,!0).pipe((0,k.T)((e=>new TreeNode(b,e instanceof TreeNode?[e]:[]))))})))):noMatch$1(n)})))}getChildConfig(e,n,r){return n.children?(0,c.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,c.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):runCanLoadGuards(e,n,r,this.urlSerializer).pipe((0,L.Z)((r=>r?this.configLoader.loadChildren(e,n).pipe((0,B.M)((e=>{n._loadedRoutes=e.routes,n._loadedInjector=e.injector}))):function canLoadFails(e){return throwError_throwError(navigationCancelingError(("undefined"==typeof ngDevMode||ngDevMode)&&`Cannot load children because the guard of the route "path: '${e.path}'" returned false`,ae.GuardRejected))}(n)))):(0,c.of)({routes:[],injector:e})}}function hasEmptyPathConfig(e){const n=e.value.routeConfig;return n&&""===n.path}function mergeEmptyPathMatches(e){const n=[],r=new Set;for(const o of e){if(!hasEmptyPathConfig(o)){n.push(o);continue}const e=n.find((e=>o.value.routeConfig===e.value.routeConfig));void 0!==e?(e.children.push(...o.children),r.add(e)):n.push(o)}for(const e of r){const r=mergeEmptyPathMatches(e.children);n.push(new TreeNode(e.value,r))}return n.filter((e=>!r.has(e)))}function recognize(e,n,r,o,i,s){return(0,L.Z)((a=>function recognize$1(e,n,r,o,i,s,a="emptyOnly"){return new Recognizer(e,n,r,o,i,a,s).recognize()}(e,n,r,o,a.extractedUrl,i,s).pipe((0,k.T)((({state:e,tree:n})=>({...a,targetSnapshot:e,urlAfterRedirects:n}))))))}function resolveData(e,n){return(0,L.Z)((r=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=r;if(!s.length)return(0,c.of)(r);const u=new Set(s.map((e=>e.route))),p=new Set;for(const e of u)if(!p.has(e))for(const n of flattenRouteTree(e))p.add(n);let f=0;return(0,a.H)(p).pipe((0,U.H)((r=>u.has(r)?function runResolve(e,n,r,o){const s=e.routeConfig,u=e._resolve;void 0===(null==s?void 0:s.title)||hasStaticTitle(s)||(u[X]=s.title);return function resolveNode(e,n,r,o){const s=getDataKeys(e);if(0===s.length)return(0,c.of)({});const u={};return(0,a.H)(s).pipe((0,L.Z)((s=>function getResolver(e,n,r,o){var s;const a=null!==(s=getClosestRouteInjector(n))&&void 0!==s?s:o,c=getTokenOrFunctionIdentity(e,a),u=c.resolve?c.resolve(n,r):(0,i.N4e)(a,(()=>c(n,r)));return wrapIntoObservable(u)}(e[s],n,r,o).pipe(first(),(0,B.M)((e=>{u[s]=e}))))),takeLast(1),(0,V.u)(u),(0,j.W)((e=>isEmptyError(e)?A.w:throwError_throwError(e))))}(u,e,n,o).pipe((0,k.T)((n=>(e._resolvedData=n,e.data=getInherited(e,e.parent,r).resolve,null))))}(r,o,e,n):(r.data=getInherited(r,r.parent,e).resolve,(0,c.of)(void 0)))),(0,B.M)((()=>f++)),takeLast(1),(0,L.Z)((e=>f===p.size?(0,c.of)(r):A.w)))}))}function flattenRouteTree(e){const n=e.children.map((e=>flattenRouteTree(e))).flat();return[e,...n]}function switchTap(e){return(0,x.n)((n=>{const r=e(n);return r?(0,a.H)(r).pipe((0,k.T)((()=>n))):(0,c.of)(n)}))}let ye=(()=>{var e;class TitleStrategy{buildTitle(e){let n,r=e.root;for(;void 0!==r;){var o;n=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:n,r=r.children.find((e=>e.outlet===Q))}return n}getResolvedTitleForRoute(e){return e.data[X]}}return(e=TitleStrategy).ɵfac=function _TitleStrategy_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:()=>(0,i.WQX)(Ce),providedIn:"root"}),TitleStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Ce=(()=>{var e;class DefaultTitleStrategy extends ye{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}}return(e=DefaultTitleStrategy).ɵfac=function _DefaultTitleStrategy_Factory(n){return new(n||e)(i.KVO(K.hE))},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),DefaultTitleStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const be=new i.nKC("undefined"==typeof ngDevMode||ngDevMode?"router config":"",{providedIn:"root",factory:()=>({})}),we=new i.nKC(ngDevMode?"ROUTES":"");let Se=(()=>{var e;class RouterConfigLoader{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,c.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=wrapIntoObservable(e.loadComponent()).pipe((0,k.T)(maybeUnwrapDefaultExport),(0,B.M)((n=>{var r;this.onLoadEndListener&&this.onLoadEndListener(e),("undefined"==typeof ngDevMode||ngDevMode)&&assertStandalone(null!==(r=e.path)&&void 0!==r?r:"",n),e._loadedComponent=n})),(0,G.j)((()=>{this.componentLoaders.delete(e)}))),r=new ConnectableObservable(n,(()=>new T.B)).pipe(refCount());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return(0,c.of)({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const r=function loadChildren(e,n,r,o){return wrapIntoObservable(e.loadChildren()).pipe((0,k.T)(maybeUnwrapDefaultExport),(0,L.Z)((e=>e instanceof i.Co$||Array.isArray(e)?(0,c.of)(e):(0,a.H)(n.compileModuleAsync(e)))),(0,k.T)((n=>{let i,s;o&&o(e);let a=!1;Array.isArray(n)?(s=n,a=!0):(i=n.create(r).injector,s=i.get(we,[],{optional:!0,self:!0}).flat());const c=s.map(standardizeConfig);return("undefined"==typeof ngDevMode||ngDevMode)&&validateConfig(c,e.path,a),{routes:c,injector:i}})))}(n,this.compiler,e,this.onLoadEndListener),o=r.pipe((0,G.j)((()=>{this.childrenLoaders.delete(n)}))),s=new ConnectableObservable(o,(()=>new T.B)).pipe(refCount());return this.childrenLoaders.set(n,s),s}}return(e=RouterConfigLoader).ɵfac=function _RouterConfigLoader_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),RouterConfigLoader})();function maybeUnwrapDefaultExport(e){return function isWrappedDefaultExport(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Ae=(()=>{var e;class UrlHandlingStrategy{}return(e=UrlHandlingStrategy).ɵfac=function _UrlHandlingStrategy_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:()=>(0,i.WQX)(_e),providedIn:"root"}),UrlHandlingStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let _e=(()=>{var e;class DefaultUrlHandlingStrategy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}return(e=DefaultUrlHandlingStrategy).ɵfac=function _DefaultUrlHandlingStrategy_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),DefaultUrlHandlingStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Ee=new i.nKC(ngDevMode?"view transition helper":""),Ie=new i.nKC(ngDevMode?"view transition options":"");function createViewTransition(e,n,r){const o=e.get(Ie),s=e.get(P.qQ);return e.get(i.SKi).runOutsideAngular((()=>{if(!s.startViewTransition||o.skipNextTransition)return o.skipNextTransition=!1,new Promise((e=>setTimeout(e)));let a;const c=new Promise((e=>{a=e})),u=s.startViewTransition((()=>(a(),function createRenderPromise(e){return new Promise((n=>{(0,i.mal)(n,{injector:e})}))}(e)))),{onViewTransitionCreated:p}=o;return p&&(0,i.N4e)(e,(()=>p({transition:u,from:n,to:r}))),c}))}let De=(()=>{var e;class NavigationTransitions{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new T.B,this.transitionAbortSubject=new T.B,this.configLoader=(0,i.WQX)(Se),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(Z),this.rootContexts=(0,i.WQX)(de),this.location=(0,i.WQX)(P.aZ),this.inputBindingEnabled=null!==(0,i.WQX)(ue,{optional:!0}),this.titleStrategy=(0,i.WQX)(ye),this.options=(0,i.WQX)(be,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,i.WQX)(Ae),this.createViewTransition=(0,i.WQX)(Ee,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,c.of)(void 0),this.rootComponentType=null;this.configLoader.onLoadEndListener=e=>this.events.next(new RouteConfigLoadEnd(e)),this.configLoader.onLoadStartListener=e=>this.events.next(new RouteConfigLoadStart(e))}complete(){var e;null===(e=this.transitions)||void 0===e||e.complete()}handleNavigationRequest(e){var n;const r=++this.navigationId;null===(n=this.transitions)||void 0===n||n.next({...this.transitions.value,...e,id:r})}setupNavigations(e,n,r){return this.transitions=new u.t({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ie,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,N.p)((e=>0!==e.id)),(0,k.T)((e=>({...e,extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)}))),(0,x.n)((n=>{let r=!1,o=!1;return(0,c.of)(n).pipe((0,x.n)((r=>{var o;if(this.navigationId>n.id){const e="undefined"==typeof ngDevMode||ngDevMode?`Navigation ID ${n.id} is not equal to the current navigation id ${this.navigationId}`:"";return this.cancelNavigationTransition(n,e,ae.SupersededByNewNavigation),A.w}this.currentTransition=n,this.currentNavigation={id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const i=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=null!==(o=r.extras.onSameUrlNavigation)&&void 0!==o?o:e.onSameUrlNavigation;if(!i&&"reload"!==s){const e="undefined"==typeof ngDevMode||ngDevMode?`Navigation to ${r.rawUrl} was ignored because it is the same as the current Router URL.`:"";return this.events.next(new NavigationSkipped(r.id,this.urlSerializer.serialize(r.rawUrl),e,le.IgnoredSameUrlNavigation)),r.resolve(null),A.w}if(this.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return(0,c.of)(r).pipe((0,x.n)((e=>{var n,r;const o=null===(n=this.transitions)||void 0===n?void 0:n.getValue();return this.events.next(new NavigationStart(e.id,this.urlSerializer.serialize(e.extractedUrl),e.source,e.restoredState)),o!==(null===(r=this.transitions)||void 0===r?void 0:r.getValue())?A.w:Promise.resolve(e)})),recognize(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,B.M)((e=>{n.targetSnapshot=e.targetSnapshot,n.urlAfterRedirects=e.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:e.urlAfterRedirects};const r=new RoutesRecognized(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(r)})));if(i&&this.urlHandlingStrategy.shouldProcessUrl(r.currentRawUrl)){const{id:e,extractedUrl:o,source:i,restoredState:s,extras:a}=r,u=new NavigationStart(e,this.urlSerializer.serialize(o),i,s);this.events.next(u);const p=createEmptyState(this.rootComponentType).snapshot;return this.currentTransition=n={...r,targetSnapshot:p,urlAfterRedirects:o,extras:{...a,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=o,(0,c.of)(n)}{const e="undefined"==typeof ngDevMode||ngDevMode?`Navigation was ignored because the UrlHandlingStrategy indicated neither the current URL ${r.currentRawUrl} nor target URL ${r.rawUrl} should be processed.`:"";return this.events.next(new NavigationSkipped(r.id,this.urlSerializer.serialize(r.extractedUrl),e,le.IgnoredByUrlHandlingStrategy)),r.resolve(null),A.w}})),(0,B.M)((e=>{const n=new GuardsCheckStart(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(n)})),(0,k.T)((e=>(this.currentTransition=n={...e,guards:getAllRouteGuards(e.targetSnapshot,e.currentSnapshot,this.rootContexts)},n))),checkGuards(this.environmentInjector,(e=>this.events.next(e))),(0,B.M)((e=>{if(n.guardsResult=e.guardsResult,isUrlTree(e.guardsResult))throw redirectingNavigationError(this.urlSerializer,e.guardsResult);const r=new GuardsCheckEnd(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.events.next(r)})),(0,N.p)((e=>!!e.guardsResult||(this.cancelNavigationTransition(e,"",ae.GuardRejected),!1))),switchTap((e=>{if(e.guards.canActivateChecks.length)return(0,c.of)(e).pipe((0,B.M)((e=>{const n=new ResolveStart(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(n)})),(0,x.n)((e=>{let n=!1;return(0,c.of)(e).pipe(resolveData(this.paramsInheritanceStrategy,this.environmentInjector),(0,B.M)({next:()=>n=!0,complete:()=>{n||this.cancelNavigationTransition(e,"undefined"==typeof ngDevMode||ngDevMode?"At least one route resolver didn't emit any value.":"",ae.NoDataFromResolver)}}))})),(0,B.M)((e=>{const n=new ResolveEnd(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects),e.targetSnapshot);this.events.next(n)})))})),switchTap((e=>{const loadComponents=e=>{var n;const r=[];null!==(n=e.routeConfig)&&void 0!==n&&n.loadComponent&&!e.routeConfig._loadedComponent&&r.push(this.configLoader.loadComponent(e.routeConfig).pipe((0,B.M)((n=>{e.component=n})),(0,k.T)((()=>{}))));for(const n of e.children)r.push(...loadComponents(n));return r};return(0,p.z)(loadComponents(e.targetSnapshot.root)).pipe(defaultIfEmpty(null),(0,F.s)(1))})),switchTap((()=>this.afterPreactivation())),(0,x.n)((()=>{var e;const{currentSnapshot:r,targetSnapshot:o}=n,i=null===(e=this.createViewTransition)||void 0===e?void 0:e.call(this,this.environmentInjector,r.root,o.root);return i?(0,a.H)(i).pipe((0,k.T)((()=>n))):(0,c.of)(n)})),(0,k.T)((r=>{const o=function createRouterState(e,n,r){const o=createNode(e,n._root,r?r._root:void 0);return new RouterState(o,n)}(e.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return this.currentTransition=n={...r,targetRouterState:o},this.currentNavigation.targetRouterState=o,n})),(0,B.M)((()=>{this.events.next(new BeforeActivateRoutes)})),(i=this.rootContexts,s=e.routeReuseStrategy,u=e=>this.events.next(e),f=this.inputBindingEnabled,(0,k.T)((e=>(new ActivateRoutes(s,e.targetRouterState,e.currentRouterState,u,f).activate(i),e)))),(0,F.s)(1),(0,B.M)({next:e=>{var n;r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new NavigationEnd(e.id,this.urlSerializer.serialize(e.extractedUrl),this.urlSerializer.serialize(e.urlAfterRedirects))),null===(n=this.titleStrategy)||void 0===n||n.updateTitle(e.targetRouterState.snapshot),e.resolve(!0)},complete:()=>{r=!0}}),function takeUntil(e){return(0,E.N)(((n,r)=>{(0,z.Tg)(e).subscribe((0,I._)(r,(()=>r.complete()),q.l)),!r.closed&&n.subscribe(r)}))}(this.transitionAbortSubject.pipe((0,B.M)((e=>{throw e})))),(0,G.j)((()=>{var e;if(!r&&!o){const e="undefined"==typeof ngDevMode||ngDevMode?`Navigation ID ${n.id} is not equal to the current navigation id ${this.navigationId}`:"";this.cancelNavigationTransition(n,e,ae.SupersededByNewNavigation)}(null===(e=this.currentTransition)||void 0===e?void 0:e.id)===n.id&&(this.currentNavigation=null,this.currentTransition=null)})),(0,j.W)((r=>{if(o=!0,isNavigationCancelingError(r))this.events.next(new NavigationCancel(n.id,this.urlSerializer.serialize(n.extractedUrl),r.message,r.cancellationCode)),!function isRedirectingNavigationCancelingError(e){return isNavigationCancelingError(e)&&isUrlTree(e.url)}(r)?n.resolve(!1):this.events.next(new RedirectRequest(r.url));else{var i;this.events.next(new NavigationError(n.id,this.urlSerializer.serialize(n.extractedUrl),r,null!==(i=n.targetSnapshot)&&void 0!==i?i:void 0));try{n.resolve(e.errorHandler(r))}catch(e){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(e)}}return A.w})));var i,s,u,f})))}cancelNavigationTransition(e,n,r){const o=new NavigationCancel(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){var e,n;return(null===(e=this.currentTransition)||void 0===e?void 0:e.extractedUrl.toString())!==(null===(n=this.currentTransition)||void 0===n?void 0:n.currentUrlTree.toString())}isUpdatedBrowserUrl(){var e,n;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(e=this.currentTransition)||void 0===e?void 0:e.extractedUrl.toString())&&!(null!==(n=this.currentTransition)&&void 0!==n&&n.extras.skipLocationChange)}}return(e=NavigationTransitions).ɵfac=function _NavigationTransitions_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),NavigationTransitions})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Me=(()=>{var e;class RouteReuseStrategy{}return(e=RouteReuseStrategy).ɵfac=function _RouteReuseStrategy_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:()=>(0,i.WQX)(Te),providedIn:"root"}),RouteReuseStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class BaseRouteReuseStrategy{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Te=(()=>{var e;class DefaultRouteReuseStrategy extends BaseRouteReuseStrategy{}return(e=DefaultRouteReuseStrategy).ɵfac=(()=>{let n;return function _DefaultRouteReuseStrategy_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),DefaultRouteReuseStrategy})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Pe=(()=>{var e;class StateManager{}return(e=StateManager).ɵfac=function _StateManager_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:()=>(0,i.WQX)(ke),providedIn:"root"}),StateManager})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let ke=(()=>{var e;class HistoryStateManager extends Pe{constructor(){super(...arguments),this.location=(0,i.WQX)(P.aZ),this.urlSerializer=(0,i.WQX)(Z),this.options=(0,i.WQX)(be,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,i.WQX)(Ae),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new UrlTree,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=createEmptyState(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var e,n;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(e=null===(n=this.restoredState())||void 0===n?void 0:n.ɵrouterPageId)&&void 0!==e?e:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe((n=>{"popstate"===n.type&&e(n.url,n.state)}))}handleRouterEvent(e,n){if(e instanceof NavigationStart)this.stateMemento=this.createStateMemento();else if(e instanceof NavigationSkipped)this.rawUrlTree=n.initialUrl;else if(e instanceof RoutesRecognized){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const e=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(e,n)}}else e instanceof BeforeActivateRoutes?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof NavigationCancel&&(e.code===ae.GuardRejected||e.code===ae.NoDataFromResolver)?this.restoreHistory(n):e instanceof NavigationError?this.restoreHistory(n,!0):e instanceof NavigationEnd&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const e={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",e)}else{const e={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",e)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const n=this.currentPageId-this.browserPageId;0!==n?this.location.historyGo(n):this.currentUrlTree===e.finalUrl&&0===n&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){var n;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(n=e.finalUrl)&&void 0!==n?n:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,ɵrouterPageId:n}:{navigationId:e}}}return(e=HistoryStateManager).ɵfac=(()=>{let n;return function _HistoryStateManager_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})(),e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),HistoryStateManager})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();var xe=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(xe||{});function afterNextNavigation(e,n){e.events.pipe((0,N.p)((e=>e instanceof NavigationEnd||e instanceof NavigationCancel||e instanceof NavigationError||e instanceof NavigationSkipped)),(0,k.T)((e=>{if(e instanceof NavigationEnd||e instanceof NavigationSkipped)return xe.COMPLETE;return e instanceof NavigationCancel&&(e.code===ae.Redirect||e.code===ae.SupersededByNewNavigation)?xe.REDIRECTING:xe.FAILED})),(0,N.p)((e=>e!==xe.REDIRECTING)),(0,F.s)(1)).subscribe((()=>{n()}))}function defaultErrorHandler(e){throw e}const Fe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Oe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Re=(()=>{var e;class Router{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var e,n;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,i.WQX)(i.H3F),this.stateManager=(0,i.WQX)(Pe),this.options=(0,i.WQX)(be,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,i.WQX)(De),this.urlSerializer=(0,i.WQX)(Z),this.location=(0,i.WQX)(P.aZ),this.urlHandlingStrategy=(0,i.WQX)(Ae),this._events=new T.B,this.errorHandler=this.options.errorHandler||defaultErrorHandler,this.navigated=!1,this.routeReuseStrategy=(0,i.WQX)(Me),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(e=null===(n=(0,i.WQX)(we,{optional:!0}))||void 0===n?void 0:n.flat())&&void 0!==e?e:[],this.componentInputBindingEnabled=!!(0,i.WQX)(ue,{optional:!0}),this.eventsSubscription=new _.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(ngDevMode?`Unhandled Navigation Error: ${e}`:e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe((e=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(e,o),e instanceof NavigationCancel&&e.code!==ae.Redirect&&e.code!==ae.SupersededByNewNavigation)this.navigated=!0;else if(e instanceof NavigationEnd)this.navigated=!0;else if(e instanceof RedirectRequest){const o=this.urlHandlingStrategy.merge(e.url,r.currentRawUrl),i={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||(n=r.source,n!==ie)};this.scheduleNavigation(o,ie,null,i,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function isPublicRouterEvent(e){return!(e instanceof BeforeActivateRoutes||e instanceof RedirectRequest)})(e)&&this._events.next(e)}catch(e){this.navigationTransitions.transitionAbortSubject.next(e)}var n}));this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ie,this.stateManager.restoredState())}setUpLocationChangeListener(){var e;null!==(e=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==e?e:this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener(((e,n)=>{setTimeout((()=>{this.navigateToSyncWithBrowser(e,"popstate",n)}),0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},i=null!=r&&r.navigationId?r:null;if(r){const e={...r};delete e.navigationId,delete e.ɵrouterPageId,0!==Object.keys(e).length&&(o.state=e)}const s=this.parseUrl(e);this.scheduleNavigation(s,n,i,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){("undefined"==typeof ngDevMode||ngDevMode)&&validateConfig(e),this.config=e.map(standardizeConfig),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:i,queryParamsHandling:s,preserveFragment:a}=n,c=a?this.currentUrlTree.fragment:i;let u,p=null;switch(s){case"merge":p={...this.currentUrlTree.queryParams,...o};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}null!==p&&(p=this.removeEmptyProps(p));try{u=createSegmentGroupFromRoute(r?r.snapshot:this.routerState.snapshot.root)}catch(n){"string"==typeof e[0]&&e[0].startsWith("/")||(e=[]),u=this.currentUrlTree.root}return createUrlTreeFromSegmentGroup(u,e,p,null!=c?c:null)}navigateByUrl(e,n={skipLocationChange:!1}){("undefined"==typeof ngDevMode||ngDevMode)&&this.isNgZoneEnabled&&!i.SKi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const r=isUrlTree(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ie,null,n)}navigate(e,n={skipLocationChange:!1}){return!function validateCommands(e){for(let n=0;n<e.length;n++){const r=e[n];if(null==r)throw new i.wOt(4008,("undefined"==typeof ngDevMode||ngDevMode)&&`The requested path contains ${r} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(r=!0===n?{...Fe}:!1===n?{...Oe}:n,isUrlTree(e))return containsTree(this.currentUrlTree,e,r);const o=this.parseUrl(e);return containsTree(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce(((e,[n,r])=>(null!=r&&(e[n]=r),e)),{})}scheduleNavigation(e,n,r,o,i){if(this.disposed)return Promise.resolve(!1);let s,a,c;i?(s=i.resolve,a=i.reject,c=i.promise):c=new Promise(((e,n)=>{s=e,a=n}));const u=this.pendingTasks.add();return afterNextNavigation(this,(()=>{queueMicrotask((()=>this.pendingTasks.remove(u)))})),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch((e=>Promise.reject(e)))}}return(e=Router).ɵfac=function _Router_Factory(n){return new(n||e)},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),Router})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Ne=(()=>{var e;class RouterLink{constructor(e,n,r,o,i,s){var a;this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=i,this.locationStrategy=s,this.href=null,this.commands=null,this.onChanges=new T.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=null===(a=i.nativeElement.tagName)||void 0===a?void 0:a.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe((e=>{e instanceof NavigationEnd&&this.updateHref()})):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,i){const s=this.urlTree;if(null===s)return!0;if(this.isAnchorElement){if(0!==e||n||r||o||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0}return this.router.navigateByUrl(s,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement}ngOnDestroy(){var e;null===(e=this.subscription)||void 0===e||e.unsubscribe()}updateHref(){var e;const n=this.urlTree;this.href=null!==n&&this.locationStrategy?null===(e=this.locationStrategy)||void 0===e?void 0:e.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(e=RouterLink).ɵfac=function _RouterLink_Factory(n){return new(n||e)(i.rXU(Re),i.rXU(ActivatedRoute),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(P.hb))},e.ɵdir=i.FsC({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function _RouterLink_HostBindings(e,n){1&e&&i.bIt("click",(function _RouterLink_click_HostBindingHandler(e){return n.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)})),2&e&&i.BMQ("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[i.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",i.L39],skipLocationChange:[i.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",i.L39],replaceUrl:[i.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]}),RouterLink})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{var e;class RouterLinkActive{get isActive(){return this._isActive}constructor(e,n,r,o,s){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=e.events.subscribe((e=>{e instanceof NavigationEnd&&this.update()}))}ngAfterContentInit(){(0,c.of)(this.links.changes,(0,c.of)(null)).pipe((0,W.U)()).subscribe((e=>{this.update(),this.subscribeToEachLinkOnChanges()}))}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const n=[...this.links.toArray(),this.link].filter((e=>!!e)).map((e=>e.onChanges));this.linkInputChangesSubscription=(0,a.H)(n).pipe((0,W.U)()).subscribe((e=>{this._isActive!==this.isLinkActive(this.router)(e)&&this.update()}))}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter((e=>!!e))}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.router.navigated&&queueMicrotask((()=>{const e=this.hasActiveLinks();this.classes.forEach((n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)})),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))}))}isLinkActive(e){const n=function isActiveMatchOptions(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{const o=r.urlTree;return!!o&&e.isActive(o,n)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}(e=RouterLinkActive).ɵfac=function _RouterLinkActive_Factory(n){return new(n||e)(i.rXU(Re),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(Ne,8))},e.ɵdir=i.FsC({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function _RouterLinkActive_ContentQueries(e,n,r){if(1&e&&i.wni(r,Ne,5),2&e){let e;i.mGM(e=i.lsd())&&(n.links=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();class PreloadingStrategy{}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();let Le=(()=>{var e;class RouterPreloader{constructor(e,n,r,o,i){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe((0,N.p)((e=>e instanceof NavigationEnd)),(0,U.H)((()=>this.preload()))).subscribe((()=>{}))}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const a of n){var o,s;a.providers&&!a._injector&&(a._injector=(0,i.Ol2)(a.providers,e,`Route: ${a.path}`));const n=null!==(o=a._injector)&&void 0!==o?o:e,u=null!==(s=a._loadedInjector)&&void 0!==s?s:n;var c;if((a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(n,a)),a.children||a._loadedRoutes)r.push(this.processRoutes(u,null!==(c=a.children)&&void 0!==c?c:a._loadedRoutes))}return(0,a.H)(r).pipe((0,W.U)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,(()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):(0,c.of)(null);const o=r.pipe((0,L.Z)((r=>{var o;return null===r?(0,c.of)(void 0):(n._loadedRoutes=r.routes,n._loadedInjector=r.injector,this.processRoutes(null!==(o=r.injector)&&void 0!==o?o:e,r.routes))})));if(n.loadComponent&&!n._loadedComponent){const e=this.loader.loadComponent(n);return(0,a.H)([o,e]).pipe((0,W.U)())}return o}))}}return(e=RouterPreloader).ɵfac=function _RouterPreloader_Factory(n){return new(n||e)(i.KVO(Re),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(PreloadingStrategy),i.KVO(Se))},e.ɵprov=i.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),RouterPreloader})();(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const He=new i.nKC("");let Ue=(()=>{var e;class RouterScroller{constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,i.WQX)(i.uvJ),s.scrollPositionRestoration||(s.scrollPositionRestoration="disabled"),s.anchorScrolling||(s.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe((e=>{e instanceof NavigationStart?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof NavigationSkipped&&e.code===le.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))}))}consumeScrollEvents(){return this.transitions.events.subscribe((e=>{e instanceof Scroll&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))}))}scheduleScrollEvent(e,n){var r=this;this.zone.runOutsideAngular((0,o.A)((function*(){yield new Promise((e=>{setTimeout((()=>{e()})),(0,i.mal)((()=>{e()}),{injector:r.environmentInjector})})),r.zone.run((()=>{r.transitions.events.next(new Scroll(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,n))}))})))}ngOnDestroy(){var e,n;null===(e=this.routerEventsSubscription)||void 0===e||e.unsubscribe(),null===(n=this.scrollEventsSubscription)||void 0===n||n.unsubscribe()}}return(e=RouterScroller).ɵfac=function _RouterScroller_Factory(e){i.QTQ()},e.ɵprov=i.jDH({token:e,factory:e.ɵfac}),RouterScroller})();function rootRoute(e){return e.routerState.root}function routerFeature(e,n){return{ɵkind:e,ɵproviders:n}}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const Be=new i.nKC("",{providedIn:"root",factory:()=>!1});function getBootstrapListener(){const e=(0,i.WQX)(i.zZn);return n=>{var r,o;const s=e.get(i.o8S);if(n!==s.components[0])return;const a=e.get(Re),c=e.get($e);1===e.get(je)&&a.initialNavigation(),null===(r=e.get(Ve,null,i.$GK.Optional))||void 0===r||r.setUpPreloading(),null===(o=e.get(He,null,i.$GK.Optional))||void 0===o||o.init(),a.resetRootComponentType(s.componentTypes[0]),c.closed||(c.next(),c.complete(),c.unsubscribe())}}const $e=new i.nKC("undefined"==typeof ngDevMode||ngDevMode?"bootstrap done indicator":"",{factory:()=>new T.B}),je=new i.nKC("undefined"==typeof ngDevMode||ngDevMode?"initial navigation":"",{providedIn:"root",factory:()=>1});function withDebugTracing(){let e=[];return e="undefined"==typeof ngDevMode||ngDevMode?[{provide:i.Z63,multi:!0,useFactory:()=>{const e=(0,i.WQX)(Re);return()=>e.events.subscribe((e=>{var n,r,o,i;null===(n=(r=console).group)||void 0===n||n.call(r,`Router Event: ${e.constructor.name}`),console.log(function stringifyEvent(e){var n,r,o,i;switch(e.type){case se.ActivationEnd:return`ActivationEnd(path: '${(null===(n=e.snapshot.routeConfig)||void 0===n?void 0:n.path)||""}')`;case se.ActivationStart:return`ActivationStart(path: '${(null===(r=e.snapshot.routeConfig)||void 0===r?void 0:r.path)||""}')`;case se.ChildActivationEnd:return`ChildActivationEnd(path: '${(null===(o=e.snapshot.routeConfig)||void 0===o?void 0:o.path)||""}')`;case se.ChildActivationStart:return`ChildActivationStart(path: '${(null===(i=e.snapshot.routeConfig)||void 0===i?void 0:i.path)||""}')`;case se.GuardsCheckEnd:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case se.GuardsCheckStart:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case se.NavigationCancel:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case se.NavigationSkipped:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case se.NavigationEnd:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case se.NavigationError:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case se.NavigationStart:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case se.ResolveEnd:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case se.ResolveStart:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case se.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${e.route.path})`;case se.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${e.route.path})`;case se.RoutesRecognized:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case se.Scroll:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(e)),console.log(e),null===(o=(i=console).groupEnd)||void 0===o||o.call(i)}))}}]:[],routerFeature(1,e)}const Ve=new i.nKC("undefined"==typeof ngDevMode||ngDevMode?"router preloader":"");const Ge=new i.nKC("undefined"==typeof ngDevMode||ngDevMode?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ze=[P.aZ,{provide:Z,useClass:DefaultUrlSerializer},Re,de,{provide:ActivatedRoute,useFactory:rootRoute,deps:[Re]},Se,"undefined"==typeof ngDevMode||ngDevMode?{provide:Be,useValue:!0}:[]];let qe=(()=>{var e;class RouterModule{constructor(e){}static forRoot(e,n){return{ngModule:RouterModule,providers:[ze,("undefined"==typeof ngDevMode||ngDevMode)&&null!=n&&n.enableTracing?withDebugTracing().ɵproviders:[],{provide:we,multi:!0,useValue:e},{provide:Ge,useFactory:provideForRootGuard,deps:[[Re,new i.Xx1,new i.kdw]]},{provide:be,useValue:n||{}},null!=n&&n.useHash?{provide:P.hb,useClass:P.fw}:{provide:P.hb,useClass:P.Sm},{provide:He,useFactory:()=>{const e=(0,i.WQX)(P.Xr),n=(0,i.WQX)(i.SKi),r=(0,i.WQX)(be),o=(0,i.WQX)(De),s=(0,i.WQX)(Z);return r.scrollOffset&&e.setOffset(r.scrollOffset),new Ue(s,o,e,n,r)}},null!=n&&n.preloadingStrategy?(o=n.preloadingStrategy,routerFeature(0,[{provide:Ve,useExisting:Le},{provide:PreloadingStrategy,useExisting:o}])).ɵproviders:[],null!=n&&n.initialNavigation?provideInitialNavigation(n):[],null!=n&&n.bindToComponentInputs?routerFeature(8,[pe,{provide:ue,useExisting:pe}]).ɵproviders:[],null!=n&&n.enableViewTransitions?routerFeature(9,[{provide:Ee,useValue:createViewTransition},{provide:Ie,useValue:{skipNextTransition:!(null==r||!r.skipInitialTransition),...r}}]).ɵproviders:[],[{provide:We,useFactory:getBootstrapListener},{provide:i.iLQ,multi:!0,useExisting:We}]]};var r,o}static forChild(e){return{ngModule:RouterModule,providers:[{provide:we,multi:!0,useValue:e}]}}}return(e=RouterModule).ɵfac=function _RouterModule_Factory(n){return new(n||e)(i.KVO(Ge,8))},e.ɵmod=i.$C({type:e}),e.ɵinj=i.G2t({}),RouterModule})();function provideForRootGuard(e){if(("undefined"==typeof ngDevMode||ngDevMode)&&e)throw new i.wOt(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideInitialNavigation(e){return["disabled"===e.initialNavigation?routerFeature(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const e=(0,i.WQX)(Re);return()=>{e.setUpLocationChangeListener()}}},{provide:je,useValue:2}]).ɵproviders:[],"enabledBlocking"===e.initialNavigation?routerFeature(2,[{provide:je,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:e=>{const n=e.get(P.hj,Promise.resolve());return()=>n.then((()=>new Promise((n=>{const r=e.get(Re),o=e.get($e);afterNextNavigation(r,(()=>{n(!0)})),e.get(De).afterPreactivation=()=>(n(!0),o.closed?(0,c.of)(void 0):o),r.initialNavigation()}))))}}]).ɵproviders:[]]}(()=>{"undefined"==typeof ngDevMode||ngDevMode,0})();const We=new i.nKC("undefined"==typeof ngDevMode||ngDevMode?"Router Initializer":"");new i.RxE("17.3.12")},12872:(e,n,r)=>{"use strict";r.d(n,{Yq:()=>L,TS:()=>R,sR:()=>N,el:()=>Y,Sb:()=>q,QE:()=>ne,CF:()=>V,Rg:()=>W,p4:()=>re,jM:()=>IonicRouteStrategy,q9:()=>k,y8:()=>NavParams,Kb:()=>OverlayBaseController,OD:()=>P,CE:()=>J,pF:()=>Z,fL:()=>oe,YV:()=>provideComponentInputBinding,er:()=>ionic_angular_common_raf,z3:()=>setIonicClasses});var o=r(10467),i=r(99842),s=r(54438),a=r(21182),c=r(60177),u=r(45531),p=r(44442);const raf=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);var f=r(21413),g=r(33726),v=r(84412),C=r(84572),b=r(7673),w=r(31635),A=r(5964),_=r(25558),E=r(23294),I=r(89417);const T=["tabsInner"];"undefined"==typeof ngDevMode||ngDevMode,void 0;let P=(()=>{var e;class Platform{constructor(e,n){(0,i.A)(this,"doc",void 0),(0,i.A)(this,"_readyPromise",void 0),(0,i.A)(this,"win",void 0),(0,i.A)(this,"backButton",new f.B),(0,i.A)(this,"keyboardDidShow",new f.B),(0,i.A)(this,"keyboardDidHide",new f.B),(0,i.A)(this,"pause",new f.B),(0,i.A)(this,"resume",new f.B),(0,i.A)(this,"resize",new f.B),this.doc=e,n.run((()=>{var r;let o;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(e,r){return this.subscribe((o=>o.register(e,(e=>n.run((()=>r(e)))))))},proxyEvent(this.pause,e,"pause",n),proxyEvent(this.resume,e,"resume",n),proxyEvent(this.backButton,e,"ionBackButton",n),proxyEvent(this.resize,this.win,"resize",n),proxyEvent(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),proxyEvent(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise((e=>{o=e})),null!==(r=this.win)&&void 0!==r&&r.cordova?e.addEventListener("deviceready",(()=>{o("cordova")}),{once:!0}):o("dom")}))}is(e){return(0,u.a)(this.win,e)}platforms(){return(0,u.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return readQueryParam(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,n;return null===(e=(n=this.win).matchMedia)||void 0===e?void 0:e.call(n,"(orientation: portrait)").matches}testUserAgent(e){const n=this.win.navigator;return!!(null!=n&&n.userAgent&&n.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e=Platform,(0,i.A)(Platform,"ɵfac",(function _Platform_Factory(n){return new(n||e)(s.KVO(c.qQ),s.KVO(s.SKi))})),(0,i.A)(Platform,"ɵprov",s.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),Platform})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const readQueryParam=(e,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},proxyEvent=(e,n,r,o)=>{n&&n.addEventListener(r,(n=>{o.run((()=>{e.next(null!=n?n.detail:void 0)}))}))};let k=(()=>{var e;class NavController{constructor(e,n,r,o){(0,i.A)(this,"location",void 0),(0,i.A)(this,"serializer",void 0),(0,i.A)(this,"router",void 0),(0,i.A)(this,"topOutlet",void 0),(0,i.A)(this,"direction",x),(0,i.A)(this,"animated",F),(0,i.A)(this,"animationBuilder",void 0),(0,i.A)(this,"guessDirection","forward"),(0,i.A)(this,"guessAnimation",void 0),(0,i.A)(this,"lastNavId",-1),this.location=n,this.serializer=r,this.router=o,o&&o.events.subscribe((e=>{if(e instanceof a.Z){const n=e.restoredState?e.restoredState.navigationId:e.id;this.guessDirection=this.guessAnimation=n<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?e.id:n}})),e.backButton.subscribeWithPriority(0,(e=>{this.pop(),e()}))}navigateForward(e,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(e,n)}navigateBack(e,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(e,n)}navigateRoot(e,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(e,n)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){var e=this;return(0,o.A)((function*(){let n=e.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1}))()}setDirection(e,n,r,o){this.direction=e,this.animated=getAnimation(e,n,r),this.animationBuilder=o}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let e,n="root";const r=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,e=this.guessAnimation):(e=this.animated,n=this.direction),this.direction=x,this.animated=F,this.animationBuilder=void 0,{direction:n,animation:e,animationBuilder:r}}navigate(e,n){if(Array.isArray(e))return this.router.navigate(e,n);{const r=this.serializer.parse(e.toString());return void 0!==n.queryParams&&(r.queryParams={...n.queryParams}),void 0!==n.fragment&&(r.fragment=n.fragment),this.router.navigateByUrl(r,n)}}}return e=NavController,(0,i.A)(NavController,"ɵfac",(function _NavController_Factory(n){return new(n||e)(s.KVO(P),s.KVO(c.aZ),s.KVO(a.Sd),s.KVO(a.Ix,8))})),(0,i.A)(NavController,"ɵprov",s.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),NavController})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const getAnimation=(e,n,r)=>{if(!1!==n)return void 0!==r?r:"forward"===e||"back"===e?e:"root"===e&&!0===n?"forward":void 0},x="auto",F=void 0;let R=(()=>{var e;class Config{get(e,n){const r=getConfig();return r?r.get(e,n):null}getBoolean(e,n){const r=getConfig();return!!r&&r.getBoolean(e,n)}getNumber(e,n){const r=getConfig();return r?r.getNumber(e,n):0}}return e=Config,(0,i.A)(Config,"ɵfac",(function _Config_Factory(n){return new(n||e)})),(0,i.A)(Config,"ɵprov",s.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),Config})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const N=new s.nKC("USERCONFIG"),getConfig=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(null!=e&&e.config)return e.config}return null};class NavParams{constructor(e={}){(0,i.A)(this,"data",void 0),this.data=e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(e){return this.data[e]}}let L=(()=>{var e;class AngularDelegate{constructor(){(0,i.A)(this,"zone",(0,s.WQX)(s.SKi)),(0,i.A)(this,"applicationRef",(0,s.WQX)(s.o8S)),(0,i.A)(this,"config",(0,s.WQX)(N))}create(e,n,r){var o;return new AngularFrameworkDelegate(e,n,this.applicationRef,this.zone,r,null!==(o=this.config.useSetInputAPI)&&void 0!==o&&o)}}return e=AngularDelegate,(0,i.A)(AngularDelegate,"ɵfac",(function _AngularDelegate_Factory(n){return new(n||e)})),(0,i.A)(AngularDelegate,"ɵprov",s.jDH({token:e,factory:e.ɵfac})),AngularDelegate})();"undefined"==typeof ngDevMode||ngDevMode,void 0;class AngularFrameworkDelegate{constructor(e,n,r,o,s,a){(0,i.A)(this,"environmentInjector",void 0),(0,i.A)(this,"injector",void 0),(0,i.A)(this,"applicationRef",void 0),(0,i.A)(this,"zone",void 0),(0,i.A)(this,"elementReferenceKey",void 0),(0,i.A)(this,"enableSignalsSupport",void 0),(0,i.A)(this,"elRefMap",new WeakMap),(0,i.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=o,this.elementReferenceKey=s,this.enableSignalsSupport=a}attachViewToDom(e,n,r,o){return this.zone.run((()=>new Promise((i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e);i(attachView(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,o,this.elementReferenceKey,this.enableSignalsSupport))}))))}removeViewFromDom(e,n){return this.zone.run((()=>new Promise((e=>{const r=this.elRefMap.get(n);if(r){r.destroy(),this.elRefMap.delete(n);const e=this.elEventsMap.get(n);e&&(e(),this.elEventsMap.delete(n))}e()}))))}}const attachView=(e,n,r,o,i,a,c,u,p,f,g,v)=>{const C=s.zZn.create({providers:getProviders(p),parent:r}),b=(0,s.a0P)(u,{environmentInjector:n,elementInjector:C}),w=b.instance,A=b.location.nativeElement;if(p)if(g&&void 0!==w[g]&&console.error(`[Ionic Error]: ${g} is a reserved property when using ${c.tagName.toLowerCase()}. Rename or remove the "${g}" property from ${u.name}.`),!0===v&&void 0!==b.setInput){const{modal:e,popover:n,...r}=p;for(const e in r)b.setInput(e,r[e]);void 0!==e&&Object.assign(w,{modal:e}),void 0!==n&&Object.assign(w,{popover:n})}else Object.assign(w,p);if(f)for(const e of f)A.classList.add(e);const _=bindLifecycleEvents(e,w,A);return c.appendChild(A),o.attachView(b.hostView),i.set(A,b),a.set(A,_),A},H=[p.L,p.a,p.b,p.c,p.d],bindLifecycleEvents=(e,n,r)=>e.run((()=>{const e=H.filter((e=>"function"==typeof n[e])).map((e=>{const handler=r=>n[e](r.detail);return r.addEventListener(e,handler),()=>r.removeEventListener(e,handler)}));return()=>e.forEach((e=>e()))})),U=new s.nKC("NavParamsToken"),getProviders=e=>[{provide:U,useValue:e},{provide:NavParams,useFactory:provideNavParamsInjectable,deps:[U]}],provideNavParamsInjectable=e=>new NavParams(e),proxyInputs=(e,n)=>{const r=e.prototype;n.forEach((e=>{Object.defineProperty(r,e,{get(){return this.el[e]},set(n){this.z.runOutsideAngular((()=>this.el[e]=n))}})}))},proxyMethods=(e,n)=>{const r=e.prototype;n.forEach((e=>{r[e]=function(){const n=arguments;return this.z.runOutsideAngular((()=>this.el[e].apply(this.el,n)))}}))},proxyOutputs=(e,n,r)=>{r.forEach((r=>e[r]=(0,g.R)(n,r)))};function ProxyCmp(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&proxyInputs(n,o),i&&proxyMethods(n,i),n}}const B=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],j=["present","dismiss","onDidDismiss","onWillDismiss"];let V=(()=>{var e;let n=((0,i.A)(e=class IonPopover{constructor(e,n,r){(0,i.A)(this,"z",void 0),(0,i.A)(this,"template",void 0),(0,i.A)(this,"isCmpOpen",!1),(0,i.A)(this,"el",void 0),this.z=r,this.el=n.nativeElement,this.el.addEventListener("ionMount",(()=>{this.isCmpOpen=!0,e.detectChanges()})),this.el.addEventListener("didDismiss",(()=>{this.isCmpOpen=!1,e.detectChanges()})),proxyOutputs(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"ɵfac",(function _IonPopover_Factory(n){return new(n||e)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))})),(0,i.A)(e,"ɵdir",s.FsC({type:e,selectors:[["ion-popover"]],contentQueries:function _IonPopover_ContentQueries(e,n,r){if(1&e&&s.wni(r,s.C4Q,5),2&e){let e;s.mGM(e=s.lsd())&&(n.template=e.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),e);return n=(0,w.Cg)([ProxyCmp({inputs:B,methods:j})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const G=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","expandToScroll","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],z=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let q=(()=>{var e;let n=((0,i.A)(e=class IonModal{constructor(e,n,r){(0,i.A)(this,"z",void 0),(0,i.A)(this,"template",void 0),(0,i.A)(this,"isCmpOpen",!1),(0,i.A)(this,"el",void 0),this.z=r,this.el=n.nativeElement,this.el.addEventListener("ionMount",(()=>{this.isCmpOpen=!0,e.detectChanges()})),this.el.addEventListener("didDismiss",(()=>{this.isCmpOpen=!1,e.detectChanges()})),proxyOutputs(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"ɵfac",(function _IonModal_Factory(n){return new(n||e)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))})),(0,i.A)(e,"ɵdir",s.FsC({type:e,selectors:[["ion-modal"]],contentQueries:function _IonModal_ContentQueries(e,n,r){if(1&e&&s.wni(r,s.C4Q,5),2&e){let e;s.mGM(e=s.lsd())&&(n.template=e.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",expandToScroll:"expandToScroll",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),e);return n=(0,w.Cg)([ProxyCmp({inputs:G,methods:z})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const setRoot=(e,n)=>((e=e.filter((e=>e.stackId!==n.stackId))).push(n),e),setForward=(e,n)=>(e.indexOf(n)>=0?e=e.filter((e=>e.stackId!==n.stackId||e.id<=n.id)):e.push(n),e),setBack=(e,n)=>e.indexOf(n)>=0?e.filter((e=>e.stackId!==n.stackId||e.id<=n.id)):setRoot(e,n),getUrl=(e,n)=>{const r=e.createUrlTree(["."],{relativeTo:n});return e.serializeUrl(r)},isTabSwitch=(e,n)=>!n||e.stackId!==n.stackId,computeStackId=(e,n)=>{if(!e)return;const r=toSegments(n);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},toSegments=e=>e.split("/").map((e=>e.trim())).filter((e=>""!==e)),destroyView=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class StackController{constructor(e,n,r,o,s,a){(0,i.A)(this,"containerEl",void 0),(0,i.A)(this,"router",void 0),(0,i.A)(this,"navCtrl",void 0),(0,i.A)(this,"zone",void 0),(0,i.A)(this,"location",void 0),(0,i.A)(this,"views",[]),(0,i.A)(this,"runningTask",void 0),(0,i.A)(this,"skipTransition",!1),(0,i.A)(this,"tabsPrefix",void 0),(0,i.A)(this,"activeView",void 0),(0,i.A)(this,"nextId",0),this.containerEl=n,this.router=r,this.navCtrl=o,this.zone=s,this.location=a,this.tabsPrefix=void 0!==e?toSegments(e):void 0}createView(e,n){var r;const o=getUrl(this.router,n),i=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=bindLifecycleEvents(this.zone,e.instance,i);return{id:this.nextId++,stackId:computeStackId(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const n=getUrl(this.router,e),r=this.views.find((e=>e.url===n));return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,u=isTabSwitch(e,c);u&&(i="back",s=void 0);const p=this.views.slice();let f;const g=this.router;g.getCurrentNavigation?f=g.getCurrentNavigation():null!==(n=g.navigations)&&void 0!==n&&n.value&&(f=g.navigations.value),null!==(r=f)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const v=this.views.includes(e),C=this.insertView(e,i);v||e.ref.changeDetectorRef.detectChanges();const b=e.animationBuilder;return void 0!==a||"back"!==i||u||void 0===b||(a=b),c&&(c.animationBuilder=a),this.zone.runOutsideAngular((()=>this.wait((()=>(c&&c.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,c,s,this.canGoBack(1),!1,a).then((()=>cleanupAsync(e,C,p,this.location,this.zone))).then((()=>({enteringView:e,direction:i,animation:s,tabSwitch:u}))))))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run((()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const o=r[r.length-e-1];let i=o.url;const s=o.savedData;if(s){var a;const e=s.get("primary");null!=e&&null!==(a=e.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(i=e.route._routerState.snapshot.url)}const{animationBuilder:c}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:c}).then((()=>!0))}))}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],o=r.animationBuilder;return this.wait((()=>this.transition(r,e,"back",this.canGoBack(2),!0,o)))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&cleanup(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(destroyView),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter((n=>n.stackId===e))}insertView(e,n){return this.activeView=e,this.views=((e,n,r)=>"root"===r?setRoot(e,n):"forward"===r?setForward(e,n):setBack(e,n))(this.views,e,n),this.views.slice()}transition(e,n,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,c=n?n.element:void 0,u=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),u.commit)?u.commit(a,c,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,o.A)((function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally((()=>n.runningTask=void 0)),r}))()}}const cleanupAsync=(e,n,r,o,i)=>"function"==typeof requestAnimationFrame?new Promise((s=>{requestAnimationFrame((()=>{cleanup(e,n,r,o,i),s()}))})):Promise.resolve(),cleanup=(e,n,r,o,i)=>{i.run((()=>r.filter((e=>!n.includes(e))).forEach(destroyView))),n.forEach((n=>{const r=o.path().split("?")[0].split("#")[0];if(n!==e&&n.url!==r){const e=n.element;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden"),n.ref.changeDetectorRef.detach()}}))};let W=(()=>{var e;class IonRouterOutlet{get activatedComponentRef(){return this.activated}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:e=>this.stackCtrl.endBackTransition(e)}:void 0}constructor(e,n,r,o,c,u,p,f){(0,i.A)(this,"parentOutlet",void 0),(0,i.A)(this,"nativeEl",void 0),(0,i.A)(this,"activatedView",null),(0,i.A)(this,"tabsPrefix",void 0),(0,i.A)(this,"_swipeGesture",void 0),(0,i.A)(this,"stackCtrl",void 0),(0,i.A)(this,"proxyMap",new WeakMap),(0,i.A)(this,"currentActivatedRoute$",new v.t(null)),(0,i.A)(this,"activated",null),(0,i.A)(this,"_activatedRoute",null),(0,i.A)(this,"name",a.Xk),(0,i.A)(this,"stackWillChange",new s.bkB),(0,i.A)(this,"stackDidChange",new s.bkB),(0,i.A)(this,"activateEvents",new s.bkB),(0,i.A)(this,"deactivateEvents",new s.bkB),(0,i.A)(this,"parentContexts",(0,s.WQX)(a.Zp)),(0,i.A)(this,"location",(0,s.WQX)(s.c1b)),(0,i.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ)),(0,i.A)(this,"inputBinder",(0,s.WQX)(K,{optional:!0})),(0,i.A)(this,"supportsBindingToComponentInputs",!0),(0,i.A)(this,"config",(0,s.WQX)(R)),(0,i.A)(this,"navCtrl",(0,s.WQX)(k)),this.parentOutlet=f,this.nativeEl=o.nativeElement,this.name=e||a.Xk,this.tabsPrefix="true"===n?getUrl(c,p):void 0,this.stackCtrl=new StackController(this.tabsPrefix,this.nativeEl,c,this.navCtrl,u,r),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;this.stackCtrl.destroy(),null===(e=this.inputBinder)||void 0===e||e.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const e=this.getContext();null!=e&&e.route&&this.activateWith(e.route,e.injector)}new Promise((e=>{return r=e,void((n=this.nativeEl).componentOnReady?n.componentOnReady().then((e=>r(e))):raf((()=>r(n))));var n,r})).then((()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))}))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const e=this.getContext();this.activatedView.savedData=new Map(e.children.contexts);const n=this.activatedView.savedData.get("primary");if(n&&e.route&&(n.route={...e.route}),this.activatedView.savedExtras={},e.route){const n=e.route.snapshot;this.activatedView.savedExtras.queryParams=n.queryParams,this.activatedView.savedExtras.fragment=n.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){var r;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let o;this._activatedRoute=e;let i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const n=i.savedData;if(n){this.getContext().children.contexts=n}this.updateActivatedRouteProxy(o.instance,e)}else{var s;const r=e._futureSnapshot,a=this.parentContexts.getOrCreateContext(this.name).children,c=new v.t(null),u=this.createActivatedRouteProxy(c,e),p=new OutletInjector(u,a,this.location.injector),f=null!==(s=r.routeConfig.component)&&void 0!==s?s:r.component;o=this.activated=this.outletContent.createComponent(f,{index:this.outletContent.length,injector:p,environmentInjector:null!=n?n:this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,u),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}null===(r=this.inputBinder)||void 0===r||r.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const a=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:isTabSwitch(i,a)}),this.stackCtrl.setActive(i).then((e=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(e)}))}canGoBack(e=1,n){return this.stackCtrl.canGoBack(e,n)}pop(e=1,n){return this.stackCtrl.pop(e,n)}getLastUrl(e){const n=this.stackCtrl.getLastUrl(e);return n?n.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,n){const r=new a.nX;return r._futureSnapshot=n._futureSnapshot,r._routerState=n._routerState,r.snapshot=n.snapshot,r.outlet=n.outlet,r.component=n.component,r._paramMap=this.proxyObservable(e,"paramMap"),r._queryParamMap=this.proxyObservable(e,"queryParamMap"),r.url=this.proxyObservable(e,"url"),r.params=this.proxyObservable(e,"params"),r.queryParams=this.proxyObservable(e,"queryParams"),r.fragment=this.proxyObservable(e,"fragment"),r.data=this.proxyObservable(e,"data"),r}proxyObservable(e,n){return e.pipe((0,A.p)((e=>!!e)),(0,_.n)((e=>this.currentActivatedRoute$.pipe((0,A.p)((n=>null!==n&&n.component===e)),(0,_.n)((e=>e&&e.activatedRoute[n])),(0,E.F)()))))}updateActivatedRouteProxy(e,n){const r=this.proxyMap.get(e);if(!r)throw new Error("Could not find activated route proxy for view");r._futureSnapshot=n._futureSnapshot,r._routerState=n._routerState,r.snapshot=n.snapshot,r.outlet=n.outlet,r.component=n.component,this.currentActivatedRoute$.next({component:e,activatedRoute:n})}}return e=IonRouterOutlet,(0,i.A)(IonRouterOutlet,"ɵfac",(function _IonRouterOutlet_Factory(n){return new(n||e)(s.kS0("name"),s.kS0("tabs"),s.rXU(c.aZ),s.rXU(s.aKT),s.rXU(a.Ix),s.rXU(s.SKi),s.rXU(a.nX),s.rXU(e,12))})),(0,i.A)(IonRouterOutlet,"ɵdir",s.FsC({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),IonRouterOutlet})();"undefined"==typeof ngDevMode||ngDevMode,void 0;class OutletInjector{constructor(e,n,r){(0,i.A)(this,"route",void 0),(0,i.A)(this,"childContexts",void 0),(0,i.A)(this,"parent",void 0),this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===a.nX?this.route:e===a.Zp?this.childContexts:this.parent.get(e,n)}}const K=new s.nKC("");let Q=(()=>{var e;class RoutedComponentInputBinder{constructor(){(0,i.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){var n;null===(n=this.outletDataSubscriptions.get(e))||void 0===n||n.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=(0,C.z)([n.queryParams,n.params,n.data]).pipe((0,_.n)((([e,n,r],o)=>(r={...e,...n,...r},0===o?(0,b.of)(r):Promise.resolve(r))))).subscribe((r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return this.unsubscribeFromRouteData(e),void 0;const o=(0,s.HJs)(n.component);if(!o)return this.unsubscribeFromRouteData(e),void 0;for(const{templateName:n}of o.inputs)e.activatedComponentRef.setInput(n,r[n])}));this.outletDataSubscriptions.set(e,r)}}return e=RoutedComponentInputBinder,(0,i.A)(RoutedComponentInputBinder,"ɵfac",(function _RoutedComponentInputBinder_Factory(n){return new(n||e)})),(0,i.A)(RoutedComponentInputBinder,"ɵprov",s.jDH({token:e,factory:e.ɵfac})),RoutedComponentInputBinder})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const provideComponentInputBinding=()=>({provide:K,useFactory:componentInputBindingFactory,deps:[a.Ix]});function componentInputBindingFactory(e){return null!=e&&e.componentInputBindingEnabled?new Q:null}const X=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Y=(()=>{var e;let n=((0,i.A)(e=class IonBackButton{constructor(e,n,r,o,s,a){(0,i.A)(this,"routerOutlet",void 0),(0,i.A)(this,"navCtrl",void 0),(0,i.A)(this,"config",void 0),(0,i.A)(this,"r",void 0),(0,i.A)(this,"z",void 0),(0,i.A)(this,"el",void 0),this.routerOutlet=e,this.navCtrl=n,this.config=r,this.r=o,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(e){var n;const r=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(n=this.routerOutlet)&&void 0!==n&&n.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),e.preventDefault())}},"ɵfac",(function _IonBackButton_Factory(n){return new(n||e)(s.rXU(W,8),s.rXU(k),s.rXU(R),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc))})),(0,i.A)(e,"ɵdir",s.FsC({type:e,hostBindings:function _IonBackButton_HostBindings(e,n){1&e&&s.bIt("click",(function _IonBackButton_click_HostBindingHandler(e){return n.onClick(e)}))},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),e);return n=(0,w.Cg)([ProxyCmp({inputs:X})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let J=(()=>{var e;class RouterLinkDelegateDirective{constructor(e,n,r,o,s){(0,i.A)(this,"locationStrategy",void 0),(0,i.A)(this,"navCtrl",void 0),(0,i.A)(this,"elementRef",void 0),(0,i.A)(this,"router",void 0),(0,i.A)(this,"routerLink",void 0),(0,i.A)(this,"routerDirection","forward"),(0,i.A)(this,"routerAnimation",void 0),this.locationStrategy=e,this.navCtrl=n,this.elementRef=r,this.router=o,this.routerLink=s}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const e=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(e.tagName)&&"0"===e.getAttribute("tabindex")&&e.removeAttribute("tabindex")}updateTargetUrlAndHref(){var e;if(null!==(e=this.routerLink)&&void 0!==e&&e.urlTree){const e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=e}}onClick(e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),e.preventDefault()}}return e=RouterLinkDelegateDirective,(0,i.A)(RouterLinkDelegateDirective,"ɵfac",(function _RouterLinkDelegateDirective_Factory(n){return new(n||e)(s.rXU(c.hb),s.rXU(k),s.rXU(s.aKT),s.rXU(a.Ix),s.rXU(a.Wk,8))})),(0,i.A)(RouterLinkDelegateDirective,"ɵdir",s.FsC({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function _RouterLinkDelegateDirective_HostBindings(e,n){1&e&&s.bIt("click",(function _RouterLinkDelegateDirective_click_HostBindingHandler(e){return n.onClick(e)}))},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.OA$]})),RouterLinkDelegateDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Z=(()=>{var e;class RouterLinkWithHrefDelegateDirective{constructor(e,n,r,o,s){(0,i.A)(this,"locationStrategy",void 0),(0,i.A)(this,"navCtrl",void 0),(0,i.A)(this,"elementRef",void 0),(0,i.A)(this,"router",void 0),(0,i.A)(this,"routerLink",void 0),(0,i.A)(this,"routerDirection","forward"),(0,i.A)(this,"routerAnimation",void 0),this.locationStrategy=e,this.navCtrl=n,this.elementRef=r,this.router=o,this.routerLink=s}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var e;if(null!==(e=this.routerLink)&&void 0!==e&&e.urlTree){const e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=e}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return e=RouterLinkWithHrefDelegateDirective,(0,i.A)(RouterLinkWithHrefDelegateDirective,"ɵfac",(function _RouterLinkWithHrefDelegateDirective_Factory(n){return new(n||e)(s.rXU(c.hb),s.rXU(k),s.rXU(s.aKT),s.rXU(a.Ix),s.rXU(a.Wk,8))})),(0,i.A)(RouterLinkWithHrefDelegateDirective,"ɵdir",s.FsC({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function _RouterLinkWithHrefDelegateDirective_HostBindings(e,n){1&e&&s.bIt("click",(function _RouterLinkWithHrefDelegateDirective_click_HostBindingHandler(){return n.onClick()}))},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[s.OA$]})),RouterLinkWithHrefDelegateDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const ee=["animated","animation","root","rootParams","swipeGesture"],te=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let ne=(()=>{var e;let n=((0,i.A)(e=class IonNav{constructor(e,n,r,o,s,a){(0,i.A)(this,"z",void 0),(0,i.A)(this,"el",void 0),this.z=s,a.detach(),this.el=e.nativeElement,e.nativeElement.delegate=o.create(n,r),proxyOutputs(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"ɵfac",(function _IonNav_Factory(n){return new(n||e)(s.rXU(s.aKT),s.rXU(s.uvJ),s.rXU(s.zZn),s.rXU(L),s.rXU(s.SKi),s.rXU(s.gRc))})),(0,i.A)(e,"ɵdir",s.FsC({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),e);return n=(0,w.Cg)([ProxyCmp({inputs:ee,methods:te})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let re=(()=>{var e;class IonTabs{constructor(e){(0,i.A)(this,"navCtrl",void 0),(0,i.A)(this,"tabsInner",void 0),(0,i.A)(this,"ionTabsWillChange",new s.bkB),(0,i.A)(this,"ionTabsDidChange",new s.bkB),(0,i.A)(this,"tabBarSlot","bottom"),(0,i.A)(this,"hasTab",!1),(0,i.A)(this,"selectedTab",void 0),(0,i.A)(this,"leavingTab",void 0),this.navCtrl=e}ngAfterViewInit(){const e=this.tabs.length>0?this.tabs.first:void 0;e&&(this.hasTab=!0,this.setActiveTab(e.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:e,tabSwitch:n}){const r=e.stackId;n&&void 0!==r&&this.ionTabsWillChange.emit({tab:r})}onStackDidChange({enteringView:e,tabSwitch:n}){const r=e.stackId;n&&void 0!==r&&(this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const n="string"==typeof e,r=n?e:e.detail.tab;if(this.hasTab)return this.setActiveTab(r),this.tabSwitch(),void 0;const o=this.outlet.getActiveStackId()===r,i=`${this.outlet.tabsPrefix}/${r}`;if(n||e.stopPropagation(),o){const e=this.outlet.getActiveStackId(),n=this.outlet.getLastRouteView(e);if((null==n?void 0:n.url)===i)return;const o=this.outlet.getRootView(r);return this.navCtrl.navigateRoot(i,{...o&&i===o.url&&o.savedExtras,animated:!0,animationDirection:"back"})}{const e=this.outlet.getLastRouteView(r);return this.navCtrl.navigateRoot((null==e?void 0:e.url)||i,{...null==e?void 0:e.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(e){const n=this.tabs.find((n=>n.tab===e));if(!n)return console.error(`[Ionic Error]: Tab with id: "${e}" does not exist`),void 0;this.leavingTab=this.selectedTab,this.selectedTab=n,this.ionTabsWillChange.emit({tab:e}),n.el.active=!0}tabSwitch(){const{selectedTab:e,leavingTab:n}=this;this.tabBar&&e&&(this.tabBar.selectedTab=e.tab),(null==n?void 0:n.tab)!==(null==e?void 0:e.tab)&&null!=n&&n.el&&(n.el.active=!1),e&&this.ionTabsDidChange.emit({tab:e.tab})}getSelected(){var e;return this.hasTab?null===(e=this.selectedTab)||void 0===e?void 0:e.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach((e=>{const n=e.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())}))}relocateTabBar(){const e=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(e):this.tabsInner.nativeElement.after(e)}}return e=IonTabs,(0,i.A)(IonTabs,"ɵfac",(function _IonTabs_Factory(n){return new(n||e)(s.rXU(k))})),(0,i.A)(IonTabs,"ɵdir",s.FsC({type:e,selectors:[["ion-tabs"]],viewQuery:function _IonTabs_Query(e,n){if(1&e&&s.GBs(T,7,s.aKT),2&e){let e;s.mGM(e=s.lsd())&&(n.tabsInner=e.first)}},hostBindings:function _IonTabs_HostBindings(e,n){1&e&&s.bIt("ionTabButtonClick",(function _IonTabs_ionTabButtonClick_HostBindingHandler(e){return n.select(e)}))},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),IonTabs})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const ionic_angular_common_raf=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let oe=(()=>{var e;class ValueAccessor{constructor(e,n){(0,i.A)(this,"injector",void 0),(0,i.A)(this,"elementRef",void 0),(0,i.A)(this,"onChange",(()=>{})),(0,i.A)(this,"onTouched",(()=>{})),(0,i.A)(this,"lastValue",void 0),(0,i.A)(this,"statusChanges",void 0),this.injector=e,this.elementRef=n}writeValue(e){this.elementRef.nativeElement.value=this.lastValue=e,setIonicClasses(this.elementRef)}handleValueChange(e,n){e===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),setIonicClasses(this.elementRef))}_handleBlurEvent(e){e===this.elementRef.nativeElement?(this.onTouched(),setIonicClasses(this.elementRef)):e.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.elementRef.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(I.vO)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe((()=>setIonicClasses(this.elementRef))));const n=e.control;if(n){["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach((e=>{if(void 0!==n[e]){const r=n[e].bind(n);n[e]=(...e)=>{r(...e),setIonicClasses(this.elementRef)}}}))}}}return e=ValueAccessor,(0,i.A)(ValueAccessor,"ɵfac",(function _ValueAccessor_Factory(n){return new(n||e)(s.rXU(s.zZn),s.rXU(s.aKT))})),(0,i.A)(ValueAccessor,"ɵdir",s.FsC({type:e,hostBindings:function _ValueAccessor_HostBindings(e,n){1&e&&s.bIt("ionBlur",(function _ValueAccessor_ionBlur_HostBindingHandler(e){return n._handleBlurEvent(e.target)}))}})),ValueAccessor})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const setIonicClasses=e=>{ionic_angular_common_raf((()=>{const n=e.nativeElement,r=null!=n.value&&n.value.toString().length>0,o=getClasses(n);setClasses(n,o);const i=n.closest("ion-item");i&&setClasses(i,r?[...o,"item-has-value"]:o)}))},getClasses=e=>{const n=e.classList,r=[];for(let e=0;e<n.length;e++){const o=n.item(e);null!==o&&startsWith(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},setClasses=(e,n)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...n)},startsWith=(e,n)=>e.substring(0,n.length)===n;class IonicRouteStrategy{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,n){}retrieve(e){return null}shouldReuseRoute(e,n){if(e.routeConfig!==n.routeConfig)return!1;const r=e.params,o=n.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const e of i)if(o[e]!==r[e])return!1;return!0}}class OverlayBaseController{constructor(e){(0,i.A)(this,"ctrl",void 0),this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}},2910:(e,n,r)=>{"use strict";r.d(n,{GD:()=>It,hG:()=>Et,hB:()=>P,wH:()=>Dt,xk:()=>R,YH:()=>N,U1:()=>U,mC:()=>B,el:()=>mt,ZF:()=>j,In:()=>V,Jm:()=>q,QW:()=>W,b_:()=>K,I9:()=>Q,ME:()=>X,tN:()=>J,eY:()=>Z,ZB:()=>ee,hU:()=>te,W9:()=>ne,A9:()=>re,K4:()=>oe,Q8:()=>ie,YW:()=>se,M0:()=>le,lO:()=>de,eU:()=>ce,iq:()=>ue,Ax:()=>fe,Hp:()=>ge,$w:()=>me,Wv:()=>he,uz:()=>ve,Dg:()=>ye,jh:()=>Ce,he:()=>Ae,nf:()=>_e,Sb:()=>Ct,JI:()=>ke,FH:()=>Ne,KO:()=>Le,f0:()=>He,Ob:()=>Ue,To:()=>Be,Ki:()=>$e,UB:()=>je,p$:()=>Ve,S7:()=>Ge,Rg:()=>ft,ln:()=>ze,S1:()=>qe,Gp:()=>We,eP:()=>Ke,Nm:()=>Ye,Ip:()=>Ze,ds:()=>et,w2:()=>tt,Jq:()=>ot,qW:()=>it,p4:()=>gt,IO:()=>st,nc:()=>at,Zx:()=>lt,BC:()=>dt,BY:()=>ut,ai:()=>pt,bv:()=>kt,Xi:()=>Mt,W3:()=>Tt,su:()=>k,IE:()=>PopoverController,Je:()=>x,Gw:()=>F,K_:()=>Pt});var o=r(99842),i=r(54438),s=r(89417),a=r(12872),c=r(31635),u=r(33726),p=r(60177),f=r(21182),g=r(90617);var v=r(10467),C=r(96317);const b=r(74346).i,w=function(){var e=(0,v.A)((function*(e,n){if("undefined"!=typeof window)return yield b(),(0,C.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[36,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),n)}));return function defineCustomElements(n,r){return e.apply(this,arguments)}}(),A=["*"],_=["outletContent"],E=["outlet"],I=[[["","slot","top"]],"*",[["ion-tab"]]],T=["[slot=top]","*","ion-tab"];function _IonTabs_ion_router_outlet_3_Template(e,n){if(1&e){const e=i.RV6();i.j41(0,"ion-router-outlet",5,1),i.bIt("stackWillChange",(function _IonTabs_ion_router_outlet_3_Template_ion_router_outlet_stackWillChange_0_listener(n){i.eBV(e);const r=i.XpG();return i.Njj(r.onStackWillChange(n))}))("stackDidChange",(function _IonTabs_ion_router_outlet_3_Template_ion_router_outlet_stackDidChange_0_listener(n){i.eBV(e);const r=i.XpG();return i.Njj(r.onStackDidChange(n))})),i.k0s()}}function _IonTabs_ng_content_4_Template(e,n){1&e&&i.SdG(0,2,["*ngIf","tabs.length > 0"])}function _IonModal_div_0_Template(e,n){if(1&e&&(i.j41(0,"div",1),i.eu8(1,2),i.k0s()),2&e){const e=i.XpG();i.R7$(),i.Y8G("ngTemplateOutlet",e.template)}}function _IonPopover_ng_container_0_Template(e,n){if(1&e&&i.eu8(0,1),2&e){const e=i.XpG();i.Y8G("ngTemplateOutlet",e.template)}}let P=(()=>{var e;class BooleanValueAccessorDirective extends a.fL{constructor(e,n){super(e,n)}writeValue(e){this.elementRef.nativeElement.checked=this.lastValue=e,(0,a.z3)(this.elementRef)}_handleIonChange(e){this.handleValueChange(e,e.checked)}}return e=BooleanValueAccessorDirective,(0,o.A)(BooleanValueAccessorDirective,"ɵfac",(function _BooleanValueAccessorDirective_Factory(n){return new(n||e)(i.rXU(i.zZn),i.rXU(i.aKT))})),(0,o.A)(BooleanValueAccessorDirective,"ɵdir",i.FsC({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function _BooleanValueAccessorDirective_HostBindings(e,n){1&e&&i.bIt("ionChange",(function _BooleanValueAccessorDirective_ionChange_HostBindingHandler(e){return n._handleIonChange(e.target)}))},features:[i.Jv_([{provide:s.kq,useExisting:e,multi:!0}]),i.Vt3]})),BooleanValueAccessorDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let k=(()=>{var e;class NumericValueAccessorDirective extends a.fL{constructor(e,n){super(e,n),(0,o.A)(this,"el",void 0),this.el=n}handleInputEvent(e){this.handleValueChange(e,e.value)}registerOnChange(e){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?n=>{e(""===n?null:parseFloat(n))}:e)}}return e=NumericValueAccessorDirective,(0,o.A)(NumericValueAccessorDirective,"ɵfac",(function _NumericValueAccessorDirective_Factory(n){return new(n||e)(i.rXU(i.zZn),i.rXU(i.aKT))})),(0,o.A)(NumericValueAccessorDirective,"ɵdir",i.FsC({type:e,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function _NumericValueAccessorDirective_HostBindings(e,n){1&e&&i.bIt("ionInput",(function _NumericValueAccessorDirective_ionInput_HostBindingHandler(e){return n.handleInputEvent(e.target)}))},features:[i.Jv_([{provide:s.kq,useExisting:e,multi:!0}]),i.Vt3]})),NumericValueAccessorDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let x=(()=>{var e;class SelectValueAccessorDirective extends a.fL{constructor(e,n){super(e,n)}_handleChangeEvent(e){this.handleValueChange(e,e.value)}}return e=SelectValueAccessorDirective,(0,o.A)(SelectValueAccessorDirective,"ɵfac",(function _SelectValueAccessorDirective_Factory(n){return new(n||e)(i.rXU(i.zZn),i.rXU(i.aKT))})),(0,o.A)(SelectValueAccessorDirective,"ɵdir",i.FsC({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function _SelectValueAccessorDirective_HostBindings(e,n){1&e&&i.bIt("ionChange",(function _SelectValueAccessorDirective_ionChange_HostBindingHandler(e){return n._handleChangeEvent(e.target)}))},features:[i.Jv_([{provide:s.kq,useExisting:e,multi:!0}]),i.Vt3]})),SelectValueAccessorDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let F=(()=>{var e;class TextValueAccessorDirective extends a.fL{constructor(e,n){super(e,n)}_handleInputEvent(e){this.handleValueChange(e,e.value)}}return e=TextValueAccessorDirective,(0,o.A)(TextValueAccessorDirective,"ɵfac",(function _TextValueAccessorDirective_Factory(n){return new(n||e)(i.rXU(i.zZn),i.rXU(i.aKT))})),(0,o.A)(TextValueAccessorDirective,"ɵdir",i.FsC({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function _TextValueAccessorDirective_HostBindings(e,n){1&e&&i.bIt("ionInput",(function _TextValueAccessorDirective_ionInput_HostBindingHandler(e){return n._handleInputEvent(e.target)}))},features:[i.Jv_([{provide:s.kq,useExisting:e,multi:!0}]),i.Vt3]})),TextValueAccessorDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const proxyInputs=(e,n)=>{const r=e.prototype;n.forEach((e=>{Object.defineProperty(r,e,{get(){return this.el[e]},set(n){this.z.runOutsideAngular((()=>this.el[e]=n))},configurable:!0})}))},proxyMethods=(e,n)=>{const r=e.prototype;n.forEach((e=>{r[e]=function(){const n=arguments;return this.z.runOutsideAngular((()=>this.el[e].apply(this.el,n)))}}))},proxyOutputs=(e,n,r)=>{r.forEach((r=>e[r]=(0,u.R)(n,r)))};function ProxyCmp(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&proxyInputs(n,o),i&&proxyMethods(n,i),n}}let R=(()=>{var e;let n=((0,o.A)(e=class IonAccordion{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonAccordion_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonAccordion_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let N=(()=>{var e;let n=((0,o.A)(e=class IonAccordionGroup{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange"])}},"ɵfac",(function _IonAccordionGroup_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonAccordionGroup_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let L=(()=>{var e;let n=((0,o.A)(e=class IonActionSheet{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionActionSheetDidPresent","ionActionSheetWillPresent","ionActionSheetWillDismiss","ionActionSheetDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"ɵfac",(function _IonActionSheet_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-action-sheet"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:A,decls:1,vars:0,template:function _IonActionSheet_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","isOpen","keyboardClose","leaveAnimation","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let H=(()=>{var e;let n=((0,o.A)(e=class IonAlert{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionAlertDidPresent","ionAlertWillPresent","ionAlertWillDismiss","ionAlertDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"ɵfac",(function _IonAlert_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-alert"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",cssClass:"cssClass",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",inputs:"inputs",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",subHeader:"subHeader",translucent:"translucent",trigger:"trigger"},ngContentSelectors:A,decls:1,vars:0,template:function _IonAlert_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated","backdropDismiss","buttons","cssClass","enterAnimation","header","htmlAttributes","inputs","isOpen","keyboardClose","leaveAnimation","message","mode","subHeader","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let U=(()=>{var e;let n=((0,o.A)(e=class IonApp{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonApp_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-app"]],ngContentSelectors:A,decls:1,vars:0,template:function _IonApp_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({methods:["setFocus"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let B=(()=>{var e;let n=((0,o.A)(e=class IonAvatar{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonAvatar_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-avatar"]],ngContentSelectors:A,decls:1,vars:0,template:function _IonAvatar_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let j=(()=>{var e;let n=((0,o.A)(e=class IonBackdrop{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionBackdropTap"])}},"ɵfac",(function _IonBackdrop_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-backdrop"]],inputs:{stopPropagation:"stopPropagation",tappable:"tappable",visible:"visible"},ngContentSelectors:A,decls:1,vars:0,template:function _IonBackdrop_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["stopPropagation","tappable","visible"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let V=(()=>{var e;let n=((0,o.A)(e=class IonBadge{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonBadge_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonBadge_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let G=(()=>{var e;let n=((0,o.A)(e=class IonBreadcrumb{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionFocus","ionBlur"])}},"ɵfac",(function _IonBreadcrumb_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-breadcrumb"]],inputs:{active:"active",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",separator:"separator",target:"target"},ngContentSelectors:A,decls:1,vars:0,template:function _IonBreadcrumb_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["active","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","separator","target"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let z=(()=>{var e;let n=((0,o.A)(e=class IonBreadcrumbs{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionCollapsedClick"])}},"ɵfac",(function _IonBreadcrumbs_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-breadcrumbs"]],inputs:{color:"color",itemsAfterCollapse:"itemsAfterCollapse",itemsBeforeCollapse:"itemsBeforeCollapse",maxItems:"maxItems",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonBreadcrumbs_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","itemsAfterCollapse","itemsBeforeCollapse","maxItems","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let q=(()=>{var e;let n=((0,o.A)(e=class IonButton{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionFocus","ionBlur"])}},"ɵfac",(function _IonButton_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonButton_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let W=(()=>{var e;let n=((0,o.A)(e=class IonButtons{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonButtons_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:A,decls:1,vars:0,template:function _IonButtons_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["collapse"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let K=(()=>{var e;let n=((0,o.A)(e=class IonCard{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonCard_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonCard_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Q=(()=>{var e;let n=((0,o.A)(e=class IonCardContent{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonCardContent_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonCardContent_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let X=(()=>{var e;let n=((0,o.A)(e=class IonCardHeader{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonCardHeader_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:A,decls:1,vars:0,template:function _IonCardHeader_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode","translucent"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Y=(()=>{var e;let n=((0,o.A)(e=class IonCardSubtitle{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonCardSubtitle_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonCardSubtitle_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let J=(()=>{var e;let n=((0,o.A)(e=class IonCardTitle{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonCardTitle_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonCardTitle_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Z=(()=>{var e;let n=((0,o.A)(e=class IonCheckbox{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange","ionFocus","ionBlur"])}},"ɵfac",(function _IonCheckbox_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",errorText:"errorText",helperText:"helperText",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonCheckbox_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["alignment","checked","color","disabled","errorText","helperText","indeterminate","justify","labelPlacement","mode","name","required","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ee=(()=>{var e;let n=((0,o.A)(e=class IonChip{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonChip_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:A,decls:1,vars:0,template:function _IonChip_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","disabled","mode","outline"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let te=(()=>{var e;let n=((0,o.A)(e=class IonCol{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonCol_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:A,decls:1,vars:0,template:function _IonCol_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ne=(()=>{var e;let n=((0,o.A)(e=class IonContent{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"ɵfac",(function _IonContent_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:A,decls:1,vars:0,template:function _IonContent_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let re=(()=>{var e;let n=((0,o.A)(e=class IonDatetime{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"ɵfac",(function _IonDatetime_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:A,decls:1,vars:0,template:function _IonDatetime_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let oe=(()=>{var e;let n=((0,o.A)(e=class IonDatetimeButton{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonDatetimeButton_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-datetime-button"]],inputs:{color:"color",datetime:"datetime",disabled:"disabled",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonDatetimeButton_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","datetime","disabled","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ie=(()=>{var e;let n=((0,o.A)(e=class IonFab{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonFab_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:A,decls:1,vars:0,template:function _IonFab_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let se=(()=>{var e;let n=((0,o.A)(e=class IonFabButton{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionFocus","ionBlur"])}},"ɵfac",(function _IonFabButton_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonFabButton_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ae=(()=>{var e;let n=((0,o.A)(e=class IonFabList{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonFabList_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:A,decls:1,vars:0,template:function _IonFabList_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["activated","side"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let le=(()=>{var e;let n=((0,o.A)(e=class IonFooter{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonFooter_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:A,decls:1,vars:0,template:function _IonFooter_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["collapse","mode","translucent"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let de=(()=>{var e;let n=((0,o.A)(e=class IonGrid{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonGrid_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:A,decls:1,vars:0,template:function _IonGrid_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["fixed"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ce=(()=>{var e;let n=((0,o.A)(e=class IonHeader{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonHeader_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:A,decls:1,vars:0,template:function _IonHeader_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["collapse","mode","translucent"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ue=(()=>{var e;let n=((0,o.A)(e=class IonIcon{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonIcon_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:A,decls:1,vars:0,template:function _IonIcon_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let pe=(()=>{var e;let n=((0,o.A)(e=class IonImg{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"ɵfac",(function _IonImg_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:A,decls:1,vars:0,template:function _IonImg_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["alt","src"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let fe=(()=>{var e;let n=((0,o.A)(e=class IonInfiniteScroll{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionInfinite"])}},"ɵfac",(function _IonInfiniteScroll_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-infinite-scroll"]],inputs:{disabled:"disabled",position:"position",threshold:"threshold"},ngContentSelectors:A,decls:1,vars:0,template:function _IonInfiniteScroll_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["disabled","position","threshold"],methods:["complete"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ge=(()=>{var e;let n=((0,o.A)(e=class IonInfiniteScrollContent{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonInfiniteScrollContent_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-infinite-scroll-content"]],inputs:{loadingSpinner:"loadingSpinner",loadingText:"loadingText"},ngContentSelectors:A,decls:1,vars:0,template:function _IonInfiniteScrollContent_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["loadingSpinner","loadingText"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let me=(()=>{var e;let n=((0,o.A)(e=class IonInput{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"ɵfac",(function _IonInput_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonInput_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let he=(()=>{var e;let n=((0,o.A)(e=class IonInputPasswordToggle{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonInputPasswordToggle_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-input-password-toggle"]],inputs:{color:"color",hideIcon:"hideIcon",mode:"mode",showIcon:"showIcon"},ngContentSelectors:A,decls:1,vars:0,template:function _IonInputPasswordToggle_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","hideIcon","mode","showIcon"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ve=(()=>{var e;let n=((0,o.A)(e=class IonItem{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonItem_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonItem_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ye=(()=>{var e;let n=((0,o.A)(e=class IonItemDivider{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonItemDivider_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:A,decls:1,vars:0,template:function _IonItemDivider_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode","sticky"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ce=(()=>{var e;let n=((0,o.A)(e=class IonItemGroup{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonItemGroup_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-item-group"]],ngContentSelectors:A,decls:1,vars:0,template:function _IonItemGroup_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let be=(()=>{var e;let n=((0,o.A)(e=class IonItemOption{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonItemOption_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonItemOption_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let we=(()=>{var e;let n=((0,o.A)(e=class IonItemOptions{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionSwipe"])}},"ɵfac",(function _IonItemOptions_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:A,decls:1,vars:0,template:function _IonItemOptions_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["side"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Se=(()=>{var e;let n=((0,o.A)(e=class IonItemSliding{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionDrag"])}},"ɵfac",(function _IonItemSliding_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:A,decls:1,vars:0,template:function _IonItemSliding_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ae=(()=>{var e;let n=((0,o.A)(e=class IonLabel{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonLabel_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:A,decls:1,vars:0,template:function _IonLabel_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode","position"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let _e=(()=>{var e;let n=((0,o.A)(e=class IonList{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonList_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonList_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ee=(()=>{var e;let n=((0,o.A)(e=class IonListHeader{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonListHeader_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonListHeader_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","lines","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ie=(()=>{var e;let n=((0,o.A)(e=class IonLoading{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionLoadingDidPresent","ionLoadingWillPresent","ionLoadingWillDismiss","ionLoadingDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"ɵfac",(function _IonLoading_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-loading"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",showBackdrop:"showBackdrop",spinner:"spinner",translucent:"translucent",trigger:"trigger"},ngContentSelectors:A,decls:1,vars:0,template:function _IonLoading_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated","backdropDismiss","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","message","mode","showBackdrop","spinner","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let De=(()=>{var e;let n=((0,o.A)(e=class IonMenu{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"ɵfac",(function _IonMenu_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonMenu_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Me=(()=>{var e;let n=((0,o.A)(e=class IonMenuButton{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonMenuButton_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonMenuButton_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["autoHide","color","disabled","menu","mode","type"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Te=(()=>{var e;let n=((0,o.A)(e=class IonMenuToggle{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonMenuToggle_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:A,decls:1,vars:0,template:function _IonMenuToggle_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["autoHide","menu"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Pe=(()=>{var e;let n=((0,o.A)(e=class IonNavLink{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonNavLink_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-nav-link"]],inputs:{component:"component",componentProps:"componentProps",routerAnimation:"routerAnimation",routerDirection:"routerDirection"},ngContentSelectors:A,decls:1,vars:0,template:function _IonNavLink_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["component","componentProps","routerAnimation","routerDirection"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ke=(()=>{var e;let n=((0,o.A)(e=class IonNote{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonNote_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonNote_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let xe=(()=>{var e;let n=((0,o.A)(e=class IonPicker{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonPicker_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-picker"]],inputs:{mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonPicker_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Fe=(()=>{var e;let n=((0,o.A)(e=class IonPickerColumn{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange"])}},"ɵfac",(function _IonPickerColumn_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-picker-column"]],inputs:{color:"color",disabled:"disabled",mode:"mode",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonPickerColumn_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","disabled","mode","value"],methods:["setFocus"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Oe=(()=>{var e;let n=((0,o.A)(e=class IonPickerColumnOption{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonPickerColumnOption_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-picker-column-option"]],inputs:{color:"color",disabled:"disabled",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonPickerColumnOption_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","disabled","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Re=(()=>{var e;let n=((0,o.A)(e=class IonPickerLegacy{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionPickerDidPresent","ionPickerWillPresent","ionPickerWillDismiss","ionPickerDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"ɵfac",(function _IonPickerLegacy_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-picker-legacy"]],inputs:{animated:"animated",backdropDismiss:"backdropDismiss",buttons:"buttons",columns:"columns",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",htmlAttributes:"htmlAttributes",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",trigger:"trigger"},ngContentSelectors:A,decls:1,vars:0,template:function _IonPickerLegacy_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated","backdropDismiss","buttons","columns","cssClass","duration","enterAnimation","htmlAttributes","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","getColumn"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ne=(()=>{var e;let n=((0,o.A)(e=class IonProgressBar{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonProgressBar_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonProgressBar_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["buffer","color","mode","reversed","type","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Le=(()=>{var e;let n=((0,o.A)(e=class IonRadio{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionFocus","ionBlur"])}},"ɵfac",(function _IonRadio_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonRadio_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let He=(()=>{var e;let n=((0,o.A)(e=class IonRadioGroup{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange"])}},"ɵfac",(function _IonRadioGroup_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",errorText:"errorText",helperText:"helperText",name:"name",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonRadioGroup_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["allowEmptySelection","compareWith","errorText","helperText","name","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ue=(()=>{var e;let n=((0,o.A)(e=class IonRange{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}},"ɵfac",(function _IonRange_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonRange_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Be=(()=>{var e;let n=((0,o.A)(e=class IonRefresher{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionRefresh","ionPull","ionStart"])}},"ɵfac",(function _IonRefresher_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",mode:"mode",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:A,decls:1,vars:0,template:function _IonRefresher_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["closeDuration","disabled","mode","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let $e=(()=>{var e;let n=((0,o.A)(e=class IonRefresherContent{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonRefresherContent_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:A,decls:1,vars:0,template:function _IonRefresherContent_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let je=(()=>{var e;let n=((0,o.A)(e=class IonReorder{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonReorder_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-reorder"]],ngContentSelectors:A,decls:1,vars:0,template:function _IonReorder_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ve=(()=>{var e;let n=((0,o.A)(e=class IonReorderGroup{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionItemReorder"])}},"ɵfac",(function _IonReorderGroup_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-reorder-group"]],inputs:{disabled:"disabled"},ngContentSelectors:A,decls:1,vars:0,template:function _IonReorderGroup_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["disabled"],methods:["complete"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ge=(()=>{var e;let n=((0,o.A)(e=class IonRippleEffect{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonRippleEffect_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-ripple-effect"]],inputs:{type:"type"},ngContentSelectors:A,decls:1,vars:0,template:function _IonRippleEffect_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["type"],methods:["addRipple"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ze=(()=>{var e;let n=((0,o.A)(e=class IonRow{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonRow_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-row"]],ngContentSelectors:A,decls:1,vars:0,template:function _IonRow_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let qe=(()=>{var e;let n=((0,o.A)(e=class IonSearchbar{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}},"ɵfac",(function _IonSearchbar_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSearchbar_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let We=(()=>{var e;let n=((0,o.A)(e=class IonSegment{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange"])}},"ɵfac",(function _IonSegment_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSegment_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ke=(()=>{var e;let n=((0,o.A)(e=class IonSegmentButton{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonSegmentButton_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-segment-button"]],inputs:{contentId:"contentId",disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSegmentButton_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["contentId","disabled","layout","mode","type","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Qe=(()=>{var e;let n=((0,o.A)(e=class IonSegmentContent{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonSegmentContent_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-segment-content"]],ngContentSelectors:A,decls:1,vars:0,template:function _IonSegmentContent_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Xe=(()=>{var e;let n=((0,o.A)(e=class IonSegmentView{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionSegmentViewScroll"])}},"ɵfac",(function _IonSegmentView_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-segment-view"]],inputs:{disabled:"disabled"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSegmentView_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["disabled"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ye=(()=>{var e;let n=((0,o.A)(e=class IonSelect{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"ɵfac",(function _IonSelect_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",errorText:"errorText",expandedIcon:"expandedIcon",fill:"fill",helperText:"helperText",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",required:"required",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSelect_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["cancelText","color","compareWith","disabled","errorText","expandedIcon","fill","helperText","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","required","selectedText","shape","toggleIcon","value"],methods:["open"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Je=(()=>{var e;let n=((0,o.A)(e=class IonSelectModal{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonSelectModal_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-select-modal"]],inputs:{header:"header",multiple:"multiple",options:"options"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSelectModal_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["header","multiple","options"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ze=(()=>{var e;let n=((0,o.A)(e=class IonSelectOption{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonSelectOption_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSelectOption_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["disabled","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let et=(()=>{var e;let n=((0,o.A)(e=class IonSkeletonText{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonSkeletonText_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSkeletonText_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let tt=(()=>{var e;let n=((0,o.A)(e=class IonSpinner{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonSpinner_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSpinner_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","duration","name","paused"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let nt=(()=>{var e;let n=((0,o.A)(e=class IonSplitPane{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionSplitPaneVisible"])}},"ɵfac",(function _IonSplitPane_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:A,decls:1,vars:0,template:function _IonSplitPane_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["contentId","disabled","when"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let rt=(()=>{var e;let n=((0,o.A)(e=class IonTab{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonTab_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},ngContentSelectors:A,decls:1,vars:0,template:function _IonTab_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["component","tab"],methods:["setActive"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ot=(()=>{var e;let n=((0,o.A)(e=class IonTabBar{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonTabBar_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:A,decls:1,vars:0,template:function _IonTabBar_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode","selectedTab","translucent"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let it=(()=>{var e;let n=((0,o.A)(e=class IonTabButton{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonTabButton_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:A,decls:1,vars:0,template:function _IonTabButton_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let st=(()=>{var e;let n=((0,o.A)(e=class IonText{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonText_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonText_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let at=(()=>{var e;let n=((0,o.A)(e=class IonTextarea{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"ɵfac",(function _IonTextarea_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:A,decls:1,vars:0,template:function _IonTextarea_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let lt=(()=>{var e;let n=((0,o.A)(e=class IonThumbnail{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonThumbnail_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-thumbnail"]],ngContentSelectors:A,decls:1,vars:0,template:function _IonThumbnail_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let dt=(()=>{var e;let n=((0,o.A)(e=class IonTitle{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonTitle_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:A,decls:1,vars:0,template:function _IonTitle_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","size"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ct=(()=>{var e;let n=((0,o.A)(e=class IonToast{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionToastDidPresent","ionToastWillPresent","ionToastWillDismiss","ionToastDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"ɵfac",(function _IonToast_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-toast"]],inputs:{animated:"animated",buttons:"buttons",color:"color",cssClass:"cssClass",duration:"duration",enterAnimation:"enterAnimation",header:"header",htmlAttributes:"htmlAttributes",icon:"icon",isOpen:"isOpen",keyboardClose:"keyboardClose",layout:"layout",leaveAnimation:"leaveAnimation",message:"message",mode:"mode",position:"position",positionAnchor:"positionAnchor",swipeGesture:"swipeGesture",translucent:"translucent",trigger:"trigger"},ngContentSelectors:A,decls:1,vars:0,template:function _IonToast_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["animated","buttons","color","cssClass","duration","enterAnimation","header","htmlAttributes","icon","isOpen","keyboardClose","layout","leaveAnimation","message","mode","position","positionAnchor","swipeGesture","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ut=(()=>{var e;let n=((0,o.A)(e=class IonToggle{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement,proxyOutputs(this,this.el,["ionChange","ionFocus","ionBlur"])}},"ɵfac",(function _IonToggle_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},ngContentSelectors:A,decls:1,vars:0,template:function _IonToggle_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let pt=(()=>{var e;let n=((0,o.A)(e=class IonToolbar{constructor(e,n,r){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=r,e.detach(),this.el=n.nativeElement}},"ɵfac",(function _IonToolbar_Factory(n){return new(n||e)(i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(i.SKi))})),(0,o.A)(e,"ɵcmp",i.VBU({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:A,decls:1,vars:0,template:function _IonToolbar_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),e);return n=(0,c.Cg)([ProxyCmp({inputs:["color","mode"]})],n),n})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ft=(()=>{var e;class IonRouterOutlet extends a.Rg{constructor(e,n,r,i,s,a,c,u){super(e,n,r,i,s,a,c,u),(0,o.A)(this,"parentOutlet",void 0),(0,o.A)(this,"outletContent",void 0),this.parentOutlet=u}}return e=IonRouterOutlet,(0,o.A)(IonRouterOutlet,"ɵfac",(function _IonRouterOutlet_Factory(n){return new(n||e)(i.kS0("name"),i.kS0("tabs"),i.rXU(p.aZ),i.rXU(i.aKT),i.rXU(f.Ix),i.rXU(i.SKi),i.rXU(f.nX),i.rXU(e,12))})),(0,o.A)(IonRouterOutlet,"ɵcmp",i.VBU({type:e,selectors:[["ion-router-outlet"]],viewQuery:function _IonRouterOutlet_Query(e,n){if(1&e&&i.GBs(_,7,i.c1b),2&e){let e;i.mGM(e=i.lsd())&&(n.outletContent=e.first)}},features:[i.Vt3],ngContentSelectors:A,decls:3,vars:0,consts:[["outletContent",""]],template:function _IonRouterOutlet_Template(e,n){1&e&&(i.NAR(),i.qex(0,null,0),i.SdG(2),i.bVm())},encapsulation:2})),IonRouterOutlet})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let gt=(()=>{var e;class IonTabs extends a.p4{constructor(...e){super(...e),(0,o.A)(this,"outlet",void 0),(0,o.A)(this,"tabBar",void 0),(0,o.A)(this,"tabBars",void 0),(0,o.A)(this,"tabs",void 0)}}return e=IonTabs,(0,o.A)(IonTabs,"ɵfac",(()=>{let n;return function _IonTabs_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(IonTabs,"ɵcmp",i.VBU({type:e,selectors:[["ion-tabs"]],contentQueries:function _IonTabs_ContentQueries(e,n,r){if(1&e&&(i.wni(r,ot,5),i.wni(r,ot,4),i.wni(r,rt,4)),2&e){let e;i.mGM(e=i.lsd())&&(n.tabBar=e.first),i.mGM(e=i.lsd())&&(n.tabBars=e),i.mGM(e=i.lsd())&&(n.tabs=e)}},viewQuery:function _IonTabs_Query(e,n){if(1&e&&i.GBs(E,5,ft),2&e){let e;i.mGM(e=i.lsd())&&(n.outlet=e.first)}},features:[i.Vt3],ngContentSelectors:T,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function _IonTabs_Template(e,n){1&e&&(i.NAR(I),i.SdG(0),i.j41(1,"div",2,0),i.DNE(3,_IonTabs_ion_router_outlet_3_Template,2,0,"ion-router-outlet",3)(4,_IonTabs_ng_content_4_Template,1,0,"ng-content",4),i.k0s(),i.SdG(5,1)),2&e&&(i.R7$(3),i.Y8G("ngIf",0===n.tabs.length),i.R7$(),i.Y8G("ngIf",n.tabs.length>0))},dependencies:[p.bT,ft],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),IonTabs})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let mt=(()=>{var e;class IonBackButton extends a.el{constructor(e,n,r,o,i,s){super(e,n,r,o,i,s)}}return e=IonBackButton,(0,o.A)(IonBackButton,"ɵfac",(function _IonBackButton_Factory(n){return new(n||e)(i.rXU(ft,8),i.rXU(a.q9),i.rXU(a.TS),i.rXU(i.aKT),i.rXU(i.SKi),i.rXU(i.gRc))})),(0,o.A)(IonBackButton,"ɵcmp",i.VBU({type:e,selectors:[["ion-back-button"]],features:[i.Vt3],ngContentSelectors:A,decls:1,vars:0,template:function _IonBackButton_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),IonBackButton})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let ht=(()=>{var e;class IonNav extends a.QE{constructor(e,n,r,o,i,s){super(e,n,r,o,i,s)}}return e=IonNav,(0,o.A)(IonNav,"ɵfac",(function _IonNav_Factory(n){return new(n||e)(i.rXU(i.aKT),i.rXU(i.uvJ),i.rXU(i.zZn),i.rXU(a.Yq),i.rXU(i.SKi),i.rXU(i.gRc))})),(0,o.A)(IonNav,"ɵcmp",i.VBU({type:e,selectors:[["ion-nav"]],features:[i.Vt3],ngContentSelectors:A,decls:1,vars:0,template:function _IonNav_Template(e,n){1&e&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})),IonNav})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let vt=(()=>{var e;class RouterLinkDelegateDirective extends a.CE{}return e=RouterLinkDelegateDirective,(0,o.A)(RouterLinkDelegateDirective,"ɵfac",(()=>{let n;return function _RouterLinkDelegateDirective_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(RouterLinkDelegateDirective,"ɵdir",i.FsC({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],features:[i.Vt3]})),RouterLinkDelegateDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let yt=(()=>{var e;class RouterLinkWithHrefDelegateDirective extends a.pF{}return e=RouterLinkWithHrefDelegateDirective,(0,o.A)(RouterLinkWithHrefDelegateDirective,"ɵfac",(()=>{let n;return function _RouterLinkWithHrefDelegateDirective_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(RouterLinkWithHrefDelegateDirective,"ɵdir",i.FsC({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[i.Vt3]})),RouterLinkWithHrefDelegateDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Ct=(()=>{var e;class IonModal extends a.Sb{}return e=IonModal,(0,o.A)(IonModal,"ɵfac",(()=>{let n;return function _IonModal_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(IonModal,"ɵcmp",i.VBU({type:e,selectors:[["ion-modal"]],features:[i.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function _IonModal_Template(e,n){1&e&&i.DNE(0,_IonModal_div_0_Template,2,1,"div",0),2&e&&i.Y8G("ngIf",n.isCmpOpen||n.keepContentsMounted)},dependencies:[p.bT,p.T3],encapsulation:2,changeDetection:0})),IonModal})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let bt=(()=>{var e;class IonPopover extends a.CF{}return e=IonPopover,(0,o.A)(IonPopover,"ɵfac",(()=>{let n;return function _IonPopover_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(IonPopover,"ɵcmp",i.VBU({type:e,selectors:[["ion-popover"]],features:[i.Vt3],decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function _IonPopover_Template(e,n){1&e&&i.DNE(0,_IonPopover_ng_container_0_Template,1,1,"ng-container",0),2&e&&i.Y8G("ngIf",n.isCmpOpen||n.keepContentsMounted)},dependencies:[p.bT,p.T3],encapsulation:2,changeDetection:0})),IonPopover})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const wt={provide:s.cz,useExisting:(0,i.Rfq)((()=>St)),multi:!0};let St=(()=>{var e;class IonMaxValidator extends s.zX{}return e=IonMaxValidator,(0,o.A)(IonMaxValidator,"ɵfac",(()=>{let n;return function _IonMaxValidator_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(IonMaxValidator,"ɵdir",i.FsC({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function _IonMaxValidator_HostBindings(e,n){2&e&&i.BMQ("max",n._enabled?n.max:null)},features:[i.Jv_([wt]),i.Vt3]})),IonMaxValidator})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const At={provide:s.cz,useExisting:(0,i.Rfq)((()=>_t)),multi:!0};let _t=(()=>{var e;class IonMinValidator extends s.VZ{}return e=IonMinValidator,(0,o.A)(IonMinValidator,"ɵfac",(()=>{let n;return function _IonMinValidator_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(IonMinValidator,"ɵdir",i.FsC({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function _IonMinValidator_HostBindings(e,n){2&e&&i.BMQ("min",n._enabled?n.min:null)},features:[i.Jv_([At]),i.Vt3]})),IonMinValidator})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Et=(()=>{var e;class AlertController extends a.Kb{constructor(){super(g.TN)}}return e=AlertController,(0,o.A)(AlertController,"ɵfac",(function _AlertController_Factory(n){return new(n||e)})),(0,o.A)(AlertController,"ɵprov",i.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),AlertController})();"undefined"==typeof ngDevMode||ngDevMode,void 0;"undefined"==typeof ngDevMode||ngDevMode,void 0;let It=(()=>{var e;class ActionSheetController extends a.Kb{constructor(){super(g.k_)}}return e=ActionSheetController,(0,o.A)(ActionSheetController,"ɵfac",(function _ActionSheetController_Factory(n){return new(n||e)})),(0,o.A)(ActionSheetController,"ɵprov",i.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),ActionSheetController})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Dt=(()=>{var e;class GestureController{constructor(e){(0,o.A)(this,"zone",void 0),this.zone=e}create(e,n=!1){return n&&Object.getOwnPropertyNames(e).forEach((n=>{if("function"==typeof e[n]){const r=e[n];e[n]=(...e)=>this.zone.run((()=>r(...e)))}})),(0,g.Gw)(e)}}return e=GestureController,(0,o.A)(GestureController,"ɵfac",(function _GestureController_Factory(n){return new(n||e)(i.KVO(i.SKi))})),(0,o.A)(GestureController,"ɵprov",i.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),GestureController})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let Mt=(()=>{var e;class LoadingController extends a.Kb{constructor(){super(g.FJ)}}return e=LoadingController,(0,o.A)(LoadingController,"ɵfac",(function _LoadingController_Factory(n){return new(n||e)})),(0,o.A)(LoadingController,"ɵprov",i.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),LoadingController})();"undefined"==typeof ngDevMode||ngDevMode,void 0;"undefined"==typeof ngDevMode||ngDevMode,void 0;let Tt=(()=>{var e;class ModalController extends a.Kb{constructor(){super(g.OZ),(0,o.A)(this,"angularDelegate",(0,i.WQX)(a.Yq)),(0,o.A)(this,"injector",(0,i.WQX)(i.zZn)),(0,o.A)(this,"environmentInjector",(0,i.WQX)(i.uvJ))}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e=ModalController,(0,o.A)(ModalController,"ɵfac",(function _ModalController_Factory(n){return new(n||e)})),(0,o.A)(ModalController,"ɵprov",i.jDH({token:e,factory:e.ɵfac})),ModalController})();"undefined"==typeof ngDevMode||ngDevMode,void 0;"undefined"==typeof ngDevMode||ngDevMode,void 0;class PopoverController extends a.Kb{constructor(){super(g.mF),(0,o.A)(this,"angularDelegate",(0,i.WQX)(a.Yq)),(0,o.A)(this,"injector",(0,i.WQX)(i.zZn)),(0,o.A)(this,"environmentInjector",(0,i.WQX)(i.uvJ))}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Pt=(()=>{var e;class ToastController extends a.Kb{constructor(){super(g.eE)}}return e=ToastController,(0,o.A)(ToastController,"ɵfac",(function _ToastController_Factory(n){return new(n||e)})),(0,o.A)(ToastController,"ɵprov",i.jDH({token:e,factory:e.ɵfac,providedIn:"root"})),ToastController})();"undefined"==typeof ngDevMode||ngDevMode,void 0;const appInitialize=(e,n,o)=>()=>{const i=n.defaultView;if(i&&"undefined"!=typeof window){(0,g.QX)({...e,_zoneGate:e=>o.run(e)});const s="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function applyPolyfills(){var e=[];if("undefined"!=typeof window){var n=window;n.customElements&&(!n.Element||n.Element.prototype.closest&&n.Element.prototype.matches&&n.Element.prototype.remove&&n.Element.prototype.getRootNode)||e.push(r.e(47278).then(r.t.bind(r,82190,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!n.NodeList||n.NodeList.prototype.forEach)&&n.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||e.push(r.e(39329).then(r.t.bind(r,67783,23)))}return Promise.all(e)}().then((()=>w(i,{exclude:["ion-tabs"],syncQueue:!0,raf:a.er,jmp:e=>o.runOutsideAngular(e),ael(e,n,r,o){e[s](n,r,o)},rel(e,n,r,o){e.removeEventListener(n,r,o)}})))}};let kt=(()=>{var e;class IonicModule{static forRoot(e={}){return{ngModule:IonicModule,providers:[{provide:a.sR,useValue:e},{provide:i.hnV,useFactory:appInitialize,multi:!0,deps:[a.sR,p.qQ,i.SKi]},a.Yq,(0,a.YV)()]}}}return e=IonicModule,(0,o.A)(IonicModule,"ɵfac",(function _IonicModule_Factory(n){return new(n||e)})),(0,o.A)(IonicModule,"ɵmod",i.$C({type:e,declarations:[R,N,L,H,U,B,j,V,G,z,q,W,K,Q,X,Y,J,Z,ee,te,ne,re,oe,ie,se,ae,le,de,ce,ue,pe,fe,ge,me,he,ve,ye,Ce,be,we,Se,Ae,_e,Ee,Ie,De,Me,Te,Pe,ke,xe,Fe,Oe,Re,Ne,Le,He,Ue,Be,$e,je,Ve,Ge,ze,qe,We,Ke,Qe,Xe,Ye,Je,Ze,et,tt,nt,rt,ot,it,st,at,lt,dt,ct,ut,pt,Ct,bt,P,k,x,F,gt,ft,mt,ht,vt,yt,_t,St],imports:[p.MD],exports:[R,N,L,H,U,B,j,V,G,z,q,W,K,Q,X,Y,J,Z,ee,te,ne,re,oe,ie,se,ae,le,de,ce,ue,pe,fe,ge,me,he,ve,ye,Ce,be,we,Se,Ae,_e,Ee,Ie,De,Me,Te,Pe,ke,xe,Fe,Oe,Re,Ne,Le,He,Ue,Be,$e,je,Ve,Ge,ze,qe,We,Ke,Qe,Xe,Ye,Je,Ze,et,tt,nt,rt,ot,it,st,at,lt,dt,ct,ut,pt,Ct,bt,P,k,x,F,gt,ft,mt,ht,vt,yt,_t,St]})),(0,o.A)(IonicModule,"ɵinj",i.G2t({providers:[Tt,PopoverController],imports:[p.MD]})),IonicModule})();"undefined"==typeof ngDevMode||ngDevMode,void 0},73955:(e,n,r)=>{"use strict";r.d(n,{D9:()=>R,Wr:()=>TranslateLoader,c$:()=>x,h:()=>N});var o=r(99842),i=r(54438),s=r(7673),a=r(74402),c=r(27468),u=r(28793),p=r(59030),f=r(96697),g=r(76496),v=r(96354),C=r(70274),b=r(25558);class TranslateLoader{}let w=(()=>{var e;class TranslateFakeLoader extends TranslateLoader{getTranslation(e){return(0,s.of)({})}}return e=TranslateFakeLoader,(0,o.A)(TranslateFakeLoader,"ɵfac",(()=>{let n;return function _TranslateFakeLoader_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(TranslateFakeLoader,"ɵprov",i.jDH({token:e,factory:e.ɵfac})),TranslateFakeLoader})();"undefined"==typeof ngDevMode||ngDevMode,void 0;class MissingTranslationHandler{}let A=(()=>{var e;class FakeMissingTranslationHandler{handle(e){return e.key}}return e=FakeMissingTranslationHandler,(0,o.A)(FakeMissingTranslationHandler,"ɵfac",(function _FakeMissingTranslationHandler_Factory(n){return new(n||e)})),(0,o.A)(FakeMissingTranslationHandler,"ɵprov",i.jDH({token:e,factory:e.ɵfac})),FakeMissingTranslationHandler})();function equals(e,n){if(e===n)return!0;if(null===e||null===n)return!1;if(e!=e&&n!=n)return!0;let r,o,i,s=typeof e;if(s==typeof n&&"object"==s){if(!Array.isArray(e)){if(Array.isArray(n))return!1;for(o in i=Object.create(null),e){if(!equals(e[o],n[o]))return!1;i[o]=!0}for(o in n)if(!(o in i)&&void 0!==n[o])return!1;return!0}if(!Array.isArray(n))return!1;if((r=e.length)==n.length){for(o=0;o<r;o++)if(!equals(e[o],n[o]))return!1;return!0}}return!1}function isDefined(e){return null!=e}function isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}function mergeDeep(e,n){let r=Object.assign({},e);return isObject(e)&&isObject(n)&&Object.keys(n).forEach((o=>{isObject(n[o])?o in e?r[o]=mergeDeep(e[o],n[o]):Object.assign(r,{[o]:n[o]}):Object.assign(r,{[o]:n[o]})})),r}"undefined"==typeof ngDevMode||ngDevMode,void 0;class TranslateParser{}let _=(()=>{var e;class TranslateDefaultParser extends TranslateParser{constructor(...e){super(...e),(0,o.A)(this,"templateMatcher",/{{\s?([^{}\s]*)\s?}}/g)}interpolate(e,n){let r;return r="string"==typeof e?this.interpolateString(e,n):"function"==typeof e?this.interpolateFunction(e,n):e,r}getValue(e,n){let r="string"==typeof n?n.split("."):[n];n="";do{n+=r.shift(),!isDefined(e)||!isDefined(e[n])||"object"!=typeof e[n]&&r.length?r.length?n+=".":e=void 0:(e=e[n],n="")}while(r.length);return e}interpolateFunction(e,n){return e(n)}interpolateString(e,n){return n?e.replace(this.templateMatcher,((e,r)=>{let o=this.getValue(n,r);return isDefined(o)?o:e})):e}}return e=TranslateDefaultParser,(0,o.A)(TranslateDefaultParser,"ɵfac",(()=>{let n;return function _TranslateDefaultParser_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(TranslateDefaultParser,"ɵprov",i.jDH({token:e,factory:e.ɵfac})),TranslateDefaultParser})();"undefined"==typeof ngDevMode||ngDevMode,void 0;class TranslateCompiler{}let E=(()=>{var e;class TranslateFakeCompiler extends TranslateCompiler{compile(e,n){return e}compileTranslations(e,n){return e}}return e=TranslateFakeCompiler,(0,o.A)(TranslateFakeCompiler,"ɵfac",(()=>{let n;return function _TranslateFakeCompiler_Factory(r){return(n||(n=i.xGo(e)))(r||e)}})()),(0,o.A)(TranslateFakeCompiler,"ɵprov",i.jDH({token:e,factory:e.ɵfac})),TranslateFakeCompiler})();"undefined"==typeof ngDevMode||ngDevMode,void 0;class TranslateStore{constructor(){(0,o.A)(this,"defaultLang",void 0),(0,o.A)(this,"currentLang",this.defaultLang),(0,o.A)(this,"translations",{}),(0,o.A)(this,"langs",[]),(0,o.A)(this,"onTranslationChange",new i.bkB),(0,o.A)(this,"onLangChange",new i.bkB),(0,o.A)(this,"onDefaultLangChange",new i.bkB)}}const I=new i.nKC("USE_STORE"),T=new i.nKC("USE_DEFAULT_LANG"),P=new i.nKC("DEFAULT_LANGUAGE"),k=new i.nKC("USE_EXTEND");let x=(()=>{var e;class TranslateService{get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,n,r,s,a,c=!0,u=!1,p=!1,f){(0,o.A)(this,"store",void 0),(0,o.A)(this,"currentLoader",void 0),(0,o.A)(this,"compiler",void 0),(0,o.A)(this,"parser",void 0),(0,o.A)(this,"missingTranslationHandler",void 0),(0,o.A)(this,"useDefaultLang",void 0),(0,o.A)(this,"isolate",void 0),(0,o.A)(this,"extend",void 0),(0,o.A)(this,"loadingTranslations",void 0),(0,o.A)(this,"pending",!1),(0,o.A)(this,"_onTranslationChange",new i.bkB),(0,o.A)(this,"_onLangChange",new i.bkB),(0,o.A)(this,"_onDefaultLangChange",new i.bkB),(0,o.A)(this,"_defaultLang",void 0),(0,o.A)(this,"_currentLang",void 0),(0,o.A)(this,"_langs",[]),(0,o.A)(this,"_translations",{}),(0,o.A)(this,"_translationRequests",{}),this.store=e,this.currentLoader=n,this.compiler=r,this.parser=s,this.missingTranslationHandler=a,this.useDefaultLang=c,this.isolate=u,this.extend=p,f&&this.setDefaultLang(f)}setDefaultLang(e){if(e===this.defaultLang)return;let n=this.retrieveTranslations(e);void 0!==n?(null==this.defaultLang&&(this.defaultLang=e),n.pipe((0,f.s)(1)).subscribe((n=>{this.changeDefaultLang(e)}))):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,s.of)(this.translations[e]);let n=this.retrieveTranslations(e);return void 0!==n?(this.currentLang||(this.currentLang=e),n.pipe((0,f.s)(1)).subscribe((n=>{this.changeLang(e)})),n):(this.changeLang(e),(0,s.of)(this.translations[e]))}retrieveTranslations(e){let n;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),n=this._translationRequests[e]),n}getTranslation(e){this.pending=!0;const n=this.currentLoader.getTranslation(e).pipe((0,g.t)(1),(0,f.s)(1));return this.loadingTranslations=n.pipe((0,v.T)((n=>this.compiler.compileTranslations(n,e))),(0,g.t)(1),(0,f.s)(1)),this.loadingTranslations.subscribe({next:n=>{this.translations[e]=this.extend&&this.translations[e]?{...n,...this.translations[e]}:n,this.updateLangs(),this.pending=!1},error:e=>{this.pending=!1}}),n}setTranslation(e,n,r=!1){n=this.compiler.compileTranslations(n,e),this.translations[e]=(r||this.extend)&&this.translations[e]?mergeDeep(this.translations[e],n):n,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach((e=>{-1===this.langs.indexOf(e)&&this.langs.push(e)}))}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,n,r){let o;if(n instanceof Array){let o={},i=!1;for(let s of n)o[s]=this.getParsedResult(e,s,r),(0,a.A)(o[s])&&(i=!0);if(i){const e=n.map((e=>(0,a.A)(o[e])?o[e]:(0,s.of)(o[e])));return(0,c.p)(e).pipe((0,v.T)((e=>{let r={};return e.forEach(((e,o)=>{r[n[o]]=e})),r})))}return o}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,n),r)),void 0===o&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),r)),void 0===o){let e={key:n,translateService:this};void 0!==r&&(e.interpolateParams=r),o=this.missingTranslationHandler.handle(e)}return void 0!==o?o:n}get(e,n){if(!isDefined(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,C.H)((r=>(r=this.getParsedResult(r,e,n),(0,a.A)(r)?r:(0,s.of)(r)))));{let r=this.getParsedResult(this.translations[this.currentLang],e,n);return(0,a.A)(r)?r:(0,s.of)(r)}}getStreamOnTranslationChange(e,n){if(!isDefined(e)||!e.length)throw new Error('Parameter "key" required');return(0,u.x)((0,p.v)((()=>this.get(e,n))),this.onTranslationChange.pipe((0,b.n)((r=>{const o=this.getParsedResult(r.translations,e,n);return"function"==typeof o.subscribe?o:(0,s.of)(o)}))))}stream(e,n){if(!isDefined(e)||!e.length)throw new Error('Parameter "key" required');return(0,u.x)((0,p.v)((()=>this.get(e,n))),this.onLangChange.pipe((0,b.n)((r=>{const o=this.getParsedResult(r.translations,e,n);return(0,a.A)(o)?o:(0,s.of)(o)}))))}instant(e,n){if(!isDefined(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,n);if((0,a.A)(r)){if(e instanceof Array){let n={};return e.forEach(((r,o)=>{n[e[o]]=e[o]})),n}return e}return r}set(e,n,r=this.currentLang){this.translations[r][e]=this.compiler.compile(n,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return e=TranslateService,(0,o.A)(TranslateService,"ɵfac",(function _TranslateService_Factory(n){return new(n||e)(i.KVO(TranslateStore),i.KVO(TranslateLoader),i.KVO(TranslateCompiler),i.KVO(TranslateParser),i.KVO(MissingTranslationHandler),i.KVO(T),i.KVO(I),i.KVO(k),i.KVO(P))})),(0,o.A)(TranslateService,"ɵprov",i.jDH({token:e,factory:e.ɵfac})),TranslateService})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let F=(()=>{var e;class TranslateDirective{set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){equals(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}constructor(e,n,r){(0,o.A)(this,"translateService",void 0),(0,o.A)(this,"element",void 0),(0,o.A)(this,"_ref",void 0),(0,o.A)(this,"key",void 0),(0,o.A)(this,"lastParams",void 0),(0,o.A)(this,"currentParams",void 0),(0,o.A)(this,"onLangChangeSub",void 0),(0,o.A)(this,"onDefaultLangChangeSub",void 0),(0,o.A)(this,"onTranslationChangeSub",void 0),this.translateService=e,this.element=n,this._ref=r,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe((e=>{e.lang===this.translateService.currentLang&&this.checkNodes(!0,e.translations)}))),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe((e=>{this.checkNodes(!0,e.translations)}))),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe((e=>{this.checkNodes(!0)})))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,n){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes);for(let o=0;o<r.length;++o){let i=r[o];if(3===i.nodeType){let r;if(e&&(i.lastKey=null),isDefined(i.lookupKey))r=i.lookupKey;else if(this.key)r=this.key;else{let e=this.getContent(i),n=e.trim();n.length&&(i.lookupKey=n,e!==i.currentValue?(r=n,i.originalContent=e||i.originalContent):i.originalContent?r=i.originalContent.trim():e!==i.currentValue&&(r=n,i.originalContent=e||i.originalContent))}this.updateValue(r,i,n)}}}updateValue(e,n,r){if(e){if(n.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let onTranslation=r=>{r!==e&&(n.lastKey=e),n.originalContent||(n.originalContent=this.getContent(n)),n.currentValue=isDefined(r)?r:n.originalContent||e,this.setContent(n,this.key?n.currentValue:n.originalContent.replace(e,n.currentValue)),this._ref.markForCheck()};if(isDefined(r)){let n=this.translateService.getParsedResult(r,e,this.currentParams);(0,a.A)(n)?n.subscribe({next:onTranslation}):onTranslation(n)}else this.translateService.get(e,this.currentParams).subscribe(onTranslation)}}getContent(e){return isDefined(e.textContent)?e.textContent:e.data}setContent(e,n){isDefined(e.textContent)?e.textContent=n:e.data=n}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return e=TranslateDirective,(0,o.A)(TranslateDirective,"ɵfac",(function _TranslateDirective_Factory(n){return new(n||e)(i.rXU(x),i.rXU(i.aKT),i.rXU(i.gRc))})),(0,o.A)(TranslateDirective,"ɵdir",i.FsC({type:e,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})),TranslateDirective})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let R=(()=>{var e;class TranslatePipe{constructor(e,n){(0,o.A)(this,"translate",void 0),(0,o.A)(this,"_ref",void 0),(0,o.A)(this,"value",""),(0,o.A)(this,"lastKey",null),(0,o.A)(this,"lastParams",[]),(0,o.A)(this,"onTranslationChange",void 0),(0,o.A)(this,"onLangChange",void 0),(0,o.A)(this,"onDefaultLangChange",void 0),this.translate=e,this._ref=n}updateValue(e,n,r){let onTranslation=n=>{this.value=void 0!==n?n:e,this.lastKey=e,this._ref.markForCheck()};if(r){let o=this.translate.getParsedResult(r,e,n);(0,a.A)(o.subscribe)?o.subscribe(onTranslation):onTranslation(o)}this.translate.get(e,n).subscribe(onTranslation)}transform(e,...n){if(!e||!e.length)return e;if(equals(e,this.lastKey)&&equals(n,this.lastParams))return this.value;let r;if(isDefined(n[0])&&n.length)if("string"==typeof n[0]&&n[0].length){let e=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(e)}catch(e){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else"object"!=typeof n[0]||Array.isArray(n[0])||(r=n[0]);return this.lastKey=e,this.lastParams=n,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe((n=>{this.lastKey&&n.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,n.translations))}))),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe((n=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,n.translations))}))),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe((()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))}))),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return e=TranslatePipe,(0,o.A)(TranslatePipe,"ɵfac",(function _TranslatePipe_Factory(n){return new(n||e)(i.rXU(x,16),i.rXU(i.gRc,16))})),(0,o.A)(TranslatePipe,"ɵpipe",i.EJ8({name:"translate",type:e,pure:!1})),(0,o.A)(TranslatePipe,"ɵprov",i.jDH({token:e,factory:e.ɵfac})),TranslatePipe})();"undefined"==typeof ngDevMode||ngDevMode,void 0;let N=(()=>{var e;class TranslateModule{static forRoot(e={}){return{ngModule:TranslateModule,providers:[e.loader||{provide:TranslateLoader,useClass:w},e.compiler||{provide:TranslateCompiler,useClass:E},e.parser||{provide:TranslateParser,useClass:_},e.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:A},TranslateStore,{provide:I,useValue:e.isolate},{provide:T,useValue:e.useDefaultLang},{provide:k,useValue:e.extend},{provide:P,useValue:e.defaultLanguage},x]}}static forChild(e={}){return{ngModule:TranslateModule,providers:[e.loader||{provide:TranslateLoader,useClass:w},e.compiler||{provide:TranslateCompiler,useClass:E},e.parser||{provide:TranslateParser,useClass:_},e.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:A},{provide:I,useValue:e.isolate},{provide:T,useValue:e.useDefaultLang},{provide:k,useValue:e.extend},{provide:P,useValue:e.defaultLanguage},x]}}}return e=TranslateModule,(0,o.A)(TranslateModule,"ɵfac",(function _TranslateModule_Factory(n){return new(n||e)})),(0,o.A)(TranslateModule,"ɵmod",i.$C({type:e,declarations:[R,F],exports:[R,F]})),(0,o.A)(TranslateModule,"ɵinj",i.G2t({})),TranslateModule})();"undefined"==typeof ngDevMode||ngDevMode,void 0},27606:(e,n,r)=>{"use strict";function isObject(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function extend(e,n){void 0===e&&(e={}),void 0===n&&(n={});const r=["__proto__","constructor","prototype"];Object.keys(n).filter((e=>r.indexOf(e)<0)).forEach((r=>{void 0===e[r]?e[r]=n[r]:isObject(n[r])&&isObject(e[r])&&Object.keys(n[r]).length>0&&extend(e[r],n[r])}))}r.d(n,{a:()=>getWindow,g:()=>getDocument});const o={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function getDocument(){const e="undefined"!=typeof document?document:{};return extend(e,o),e}const i={document:o,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function CustomEvent(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function getWindow(){const e="undefined"!=typeof window?window:{};return extend(e,i),e}},38132:(e,n,r)=>{"use strict";r.d(n,{S:()=>Swiper,d:()=>C});var o=r(27606),i=r(84015);let s,a,c;function getSupport(){return s||(s=function calcSupport(){const e=(0,o.a)(),n=(0,o.g)();return{smoothScroll:n.documentElement&&n.documentElement.style&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&n instanceof e.DocumentTouch)}}()),s}function getDevice(e){return void 0===e&&(e={}),a||(a=function calcDevice(e){let{userAgent:n}=void 0===e?{}:e;const r=getSupport(),i=(0,o.a)(),s=i.navigator.platform,a=n||i.navigator.userAgent,c={ios:!1,android:!1},u=i.screen.width,p=i.screen.height,f=a.match(/(Android);?[\s\/]+([\d.]+)?/);let g=a.match(/(iPad).*OS\s([\d_]+)/);const v=a.match(/(iPod)(.*OS\s([\d_]+))?/),C=!g&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),b="Win32"===s;let w="MacIntel"===s;return!g&&w&&r.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${u}x${p}`)>=0&&(g=a.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),w=!1),f&&!b&&(c.os="android",c.android=!0),(g||C||v)&&(c.os="ios",c.ios=!0),c}(e)),a}function getBrowser(){return c||(c=function calcBrowser(){const e=(0,o.a)(),n=getDevice();let r=!1;function isSafari(){const n=e.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}if(isSafari()){const n=String(e.navigator.userAgent);if(n.includes("Version/")){const[e,o]=n.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));r=e<16||16===e&&o<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=isSafari();return{isSafari:r||s,needPerspectiveFix:r,need3dFix:s||i&&n.ios,isWebView:i}}()),c}var u={on(e,n,r){const o=this;if(!o.eventsListeners||o.destroyed)return o;if("function"!=typeof n)return o;const i=r?"unshift":"push";return e.split(" ").forEach((e=>{o.eventsListeners[e]||(o.eventsListeners[e]=[]),o.eventsListeners[e][i](n)})),o},once(e,n,r){const o=this;if(!o.eventsListeners||o.destroyed)return o;if("function"!=typeof n)return o;function onceHandler(){o.off(e,onceHandler),onceHandler.__emitterProxy&&delete onceHandler.__emitterProxy;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n.apply(o,i)}return onceHandler.__emitterProxy=n,o.on(e,onceHandler,r)},onAny(e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;const o=n?"unshift":"push";return r.eventsAnyListeners.indexOf(e)<0&&r.eventsAnyListeners[o](e),r},offAny(e){const n=this;if(!n.eventsListeners||n.destroyed)return n;if(!n.eventsAnyListeners)return n;const r=n.eventsAnyListeners.indexOf(e);return r>=0&&n.eventsAnyListeners.splice(r,1),n},off(e,n){const r=this;return!r.eventsListeners||r.destroyed?r:r.eventsListeners?(e.split(" ").forEach((e=>{void 0===n?r.eventsListeners[e]=[]:r.eventsListeners[e]&&r.eventsListeners[e].forEach(((o,i)=>{(o===n||o.__emitterProxy&&o.__emitterProxy===n)&&r.eventsListeners[e].splice(i,1)}))})),r):r},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let n,r,o;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];"string"==typeof s[0]||Array.isArray(s[0])?(n=s[0],r=s.slice(1,s.length),o=e):(n=s[0].events,r=s[0].data,o=s[0].context||e),r.unshift(o);return(Array.isArray(n)?n:n.split(" ")).forEach((n=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(o,[n,...r])})),e.eventsListeners&&e.eventsListeners[n]&&e.eventsListeners[n].forEach((e=>{e.apply(o,r)}))})),e}};const toggleSlideClasses$1=(e,n,r)=>{n&&!e.classList.contains(r)?e.classList.add(r):!n&&e.classList.contains(r)&&e.classList.remove(r)};const toggleSlideClasses=(e,n,r)=>{n&&!e.classList.contains(r)?e.classList.add(r):!n&&e.classList.contains(r)&&e.classList.remove(r)};const processLazyPreloader=(e,n)=>{if(!e||e.destroyed||!e.params)return;const r=n.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(r){let n=r.querySelector(`.${e.params.lazyPreloaderClass}`);!n&&e.isElement&&(r.shadowRoot?n=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{r.shadowRoot&&(n=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),n&&n.remove())}))),n&&n.remove()}},unlazy=(e,n)=>{if(!e.slides[n])return;const r=e.slides[n].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},preload=e=>{if(!e||e.destroyed||!e.params)return;let n=e.params.lazyPreloadPrevNext;const r=e.slides.length;if(!r||!n||n<0)return;n=Math.min(n,r);const o="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const r=i,s=[r-n];return s.push(...Array.from({length:n}).map(((e,n)=>r+o+n))),e.slides.forEach(((n,r)=>{s.includes(n.column)&&unlazy(e,r)})),void 0}const s=i+o-1;if(e.params.rewind||e.params.loop)for(let o=i-n;o<=s+n;o+=1){const n=(o%r+r)%r;(n<i||n>s)&&unlazy(e,n)}else for(let o=Math.max(i-n,0);o<=Math.min(s+n,r-1);o+=1)o!==i&&(o>s||o<i)&&unlazy(e,o)};var p={updateSize:function updateSize(){const e=this;let n,r;const o=e.el;n=null!=e.params.width?e.params.width:o.clientWidth,r=null!=e.params.height?e.params.height:o.clientHeight,0===n&&e.isHorizontal()||0===r&&e.isVertical()||(n=n-parseInt((0,i.p)(o,"padding-left")||0,10)-parseInt((0,i.p)(o,"padding-right")||0,10),r=r-parseInt((0,i.p)(o,"padding-top")||0,10)-parseInt((0,i.p)(o,"padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(r)&&(r=0),Object.assign(e,{width:n,height:r,size:e.isHorizontal()?n:r}))},updateSlides:function updateSlides(){const e=this;function getDirectionPropertyValue(n,r){return parseFloat(n.getPropertyValue(e.getDirectionLabel(r))||0)}const n=e.params,{wrapperEl:r,slidesEl:o,size:s,rtlTranslate:a,wrongRTL:c}=e,u=e.virtual&&n.virtual.enabled,p=u?e.virtual.slides.length:e.slides.length,f=(0,i.e)(o,`.${e.params.slideClass}, swiper-slide`),g=u?e.virtual.slides.length:f.length;let v=[];const C=[],b=[];let w=n.slidesOffsetBefore;"function"==typeof w&&(w=n.slidesOffsetBefore.call(e));let A=n.slidesOffsetAfter;"function"==typeof A&&(A=n.slidesOffsetAfter.call(e));const _=e.snapGrid.length,E=e.slidesGrid.length;let I=n.spaceBetween,T=-w,P=0,k=0;if(void 0===s)return;"string"==typeof I&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*s:"string"==typeof I&&(I=parseFloat(I)),e.virtualSize=-I,f.forEach((e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&((0,i.s)(r,"--swiper-centered-offset-before",""),(0,i.s)(r,"--swiper-centered-offset-after",""));const x=n.grid&&n.grid.rows>1&&e.grid;let F;x?e.grid.initSlides(f):e.grid&&e.grid.unsetSlides();const R="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let r=0;r<g;r+=1){let o;if(F=0,f[r]&&(o=f[r]),x&&e.grid.updateSlide(r,o,f),!f[r]||"none"!==(0,i.p)(o,"display")){if("auto"===n.slidesPerView){R&&(f[r].style[e.getDirectionLabel("width")]="");const s=getComputedStyle(o),a=o.style.transform,c=o.style.webkitTransform;if(a&&(o.style.transform="none"),c&&(o.style.webkitTransform="none"),n.roundLengths)F=e.isHorizontal()?(0,i.f)(o,"width",!0):(0,i.f)(o,"height",!0);else{const e=getDirectionPropertyValue(s,"width"),n=getDirectionPropertyValue(s,"padding-left"),r=getDirectionPropertyValue(s,"padding-right"),i=getDirectionPropertyValue(s,"margin-left"),a=getDirectionPropertyValue(s,"margin-right"),c=s.getPropertyValue("box-sizing");if(c&&"border-box"===c)F=e+i+a;else{const{clientWidth:s,offsetWidth:c}=o;F=e+n+r+i+a+(c-s)}}a&&(o.style.transform=a),c&&(o.style.webkitTransform=c),n.roundLengths&&(F=Math.floor(F))}else F=(s-(n.slidesPerView-1)*I)/n.slidesPerView,n.roundLengths&&(F=Math.floor(F)),f[r]&&(f[r].style[e.getDirectionLabel("width")]=`${F}px`);f[r]&&(f[r].swiperSlideSize=F),b.push(F),n.centeredSlides?(T=T+F/2+P/2+I,0===P&&0!==r&&(T=T-s/2-I),0===r&&(T=T-s/2-I),Math.abs(T)<.001&&(T=0),n.roundLengths&&(T=Math.floor(T)),k%n.slidesPerGroup==0&&v.push(T),C.push(T)):(n.roundLengths&&(T=Math.floor(T)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup==0&&v.push(T),C.push(T),T=T+F+I),e.virtualSize+=F+I,P=F,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+A,a&&c&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width=`${e.virtualSize+I}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+I}px`),x&&e.grid.updateWrapperSize(F,v),!n.centeredSlides){const r=[];for(let o=0;o<v.length;o+=1){let i=v[o];n.roundLengths&&(i=Math.floor(i)),v[o]<=e.virtualSize-s&&r.push(i)}v=r,Math.floor(e.virtualSize-s)-Math.floor(v[v.length-1])>1&&v.push(e.virtualSize-s)}if(u&&n.loop){const r=b[0]+I;if(n.slidesPerGroup>1){const o=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),i=r*n.slidesPerGroup;for(let e=0;e<o;e+=1)v.push(v[v.length-1]+i)}for(let o=0;o<e.virtual.slidesBefore+e.virtual.slidesAfter;o+=1)1===n.slidesPerGroup&&v.push(v[v.length-1]+r),C.push(C[C.length-1]+r),e.virtualSize+=r}if(0===v.length&&(v=[0]),0!==I){const r=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");f.filter(((e,r)=>!(n.cssMode&&!n.loop)||r!==f.length-1)).forEach((e=>{e.style[r]=`${I}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;b.forEach((n=>{e+=n+(I||0)})),e-=I;const n=e>s?e-s:0;v=v.map((e=>e<=0?-w:e>n?n+A:e))}if(n.centerInsufficientSlides){let e=0;b.forEach((n=>{e+=n+(I||0)})),e-=I;const r=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(e+r<s){const n=(s-e-r)/2;v.forEach(((e,r)=>{v[r]=e-n})),C.forEach(((e,r)=>{C[r]=e+n}))}}if(Object.assign(e,{slides:f,snapGrid:v,slidesGrid:C,slidesSizesGrid:b}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){(0,i.s)(r,"--swiper-centered-offset-before",-v[0]+"px"),(0,i.s)(r,"--swiper-centered-offset-after",e.size/2-b[b.length-1]/2+"px");const n=-e.snapGrid[0],o=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+n)),e.slidesGrid=e.slidesGrid.map((e=>e+o))}if(g!==p&&e.emit("slidesLengthChange"),v.length!==_&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),C.length!==E&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(u||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const r=`${n.containerModifierClass}backface-hidden`,o=e.el.classList.contains(r);g<=n.maxBackfaceHiddenSlides?o||e.el.classList.add(r):o&&e.el.classList.remove(r)}},updateAutoHeight:function updateAutoHeight(e){const n=this,r=[],o=n.virtual&&n.params.virtual.enabled;let i,s=0;"number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);const getSlideByIndex=e=>o?n.slides[n.getSlideIndexByData(e)]:n.slides[e];if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||[]).forEach((e=>{r.push(e)}));else for(i=0;i<Math.ceil(n.params.slidesPerView);i+=1){const e=n.activeIndex+i;if(e>n.slides.length&&!o)break;r.push(getSlideByIndex(e))}else r.push(getSlideByIndex(n.activeIndex));for(i=0;i<r.length;i+=1)if(void 0!==r[i]){const e=r[i].offsetHeight;s=e>s?e:s}(s||0===s)&&(n.wrapperEl.style.height=`${s}px`)},updateSlidesOffset:function updateSlidesOffset(){const e=this,n=e.slides,r=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let o=0;o<n.length;o+=1)n[o].swiperSlideOffset=(e.isHorizontal()?n[o].offsetLeft:n[o].offsetTop)-r-e.cssOverflowAdjustment()},updateSlidesProgress:function updateSlidesProgress(e){void 0===e&&(e=this&&this.translate||0);const n=this,r=n.params,{slides:o,rtlTranslate:i,snapGrid:s}=n;if(0===o.length)return;void 0===o[0].swiperSlideOffset&&n.updateSlidesOffset();let a=-e;i&&(a=e),n.visibleSlidesIndexes=[],n.visibleSlides=[];let c=r.spaceBetween;"string"==typeof c&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*n.size:"string"==typeof c&&(c=parseFloat(c));for(let e=0;e<o.length;e+=1){const u=o[e];let p=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(p-=o[0].swiperSlideOffset);const f=(a+(r.centeredSlides?n.minTranslate():0)-p)/(u.swiperSlideSize+c),g=(a-s[0]+(r.centeredSlides?n.minTranslate():0)-p)/(u.swiperSlideSize+c),v=-(a-p),C=v+n.slidesSizesGrid[e],b=v>=0&&v<=n.size-n.slidesSizesGrid[e],w=v>=0&&v<n.size-1||C>1&&C<=n.size||v<=0&&C>=n.size;w&&(n.visibleSlides.push(u),n.visibleSlidesIndexes.push(e)),toggleSlideClasses$1(u,w,r.slideVisibleClass),toggleSlideClasses$1(u,b,r.slideFullyVisibleClass),u.progress=i?-f:f,u.originalProgress=i?-g:g}},updateProgress:function updateProgress(e){const n=this;if(void 0===e){e=n&&n.translate&&n.translate*(n.rtlTranslate?-1:1)||0}const r=n.params,o=n.maxTranslate()-n.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:c}=n;const u=s,p=a;if(0===o)i=0,s=!0,a=!0;else{i=(e-n.minTranslate())/o;const r=Math.abs(e-n.minTranslate())<1,c=Math.abs(e-n.maxTranslate())<1;s=r||i<=0,a=c||i>=1,r&&(i=0),c&&(i=1)}if(r.loop){const r=n.getSlideIndexByData(0),o=n.getSlideIndexByData(n.slides.length-1),i=n.slidesGrid[r],s=n.slidesGrid[o],a=n.slidesGrid[n.slidesGrid.length-1],u=Math.abs(e);c=u>=i?(u-i)/a:(u+a-s)/a,c>1&&(c-=1)}Object.assign(n,{progress:i,progressLoop:c,isBeginning:s,isEnd:a}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&n.updateSlidesProgress(e),s&&!u&&n.emit("reachBeginning toEdge"),a&&!p&&n.emit("reachEnd toEdge"),(u&&!s||p&&!a)&&n.emit("fromEdge"),n.emit("progress",i)},updateSlidesClasses:function updateSlidesClasses(){const e=this,{slides:n,params:r,slidesEl:o,activeIndex:s}=e,a=e.grid&&r.grid&&r.grid.rows>1,getFilteredSlide=e=>(0,i.e)(o,`.${r.slideClass}${e}, swiper-slide${e}`)[0];let c,u,p;if(e.virtual&&r.virtual.enabled)if(r.loop){let n=s-e.virtual.slidesBefore;n<0&&(n=e.virtual.slides.length+n),n>=e.virtual.slides.length&&(n-=e.virtual.slides.length),c=getFilteredSlide(`[data-swiper-slide-index="${n}"]`)}else c=getFilteredSlide(`[data-swiper-slide-index="${s}"]`);else a?(c=n.find((e=>e.column===s)),p=n.find((e=>e.column===s+1)),u=n.find((e=>e.column===s-1))):c=n[s];c&&(a||(p=(0,i.q)(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!p&&(p=n[0]),u=(0,i.r)(c,`.${r.slideClass}, swiper-slide`)[0],r.loop&&0===!u&&(u=n[n.length-1]))),n.forEach((e=>{toggleSlideClasses(e,e===c,r.slideActiveClass),toggleSlideClasses(e,e===p,r.slideNextClass),toggleSlideClasses(e,e===u,r.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function updateActiveIndex(e){const n=this,r=n.rtlTranslate?n.translate:-n.translate,{snapGrid:o,params:i,activeIndex:s,realIndex:a,snapIndex:c}=n;let u,p=e;const getVirtualRealIndex=e=>{let r=e-n.virtual.slidesBefore;return r<0&&(r=n.virtual.slides.length+r),r>=n.virtual.slides.length&&(r-=n.virtual.slides.length),r};if(void 0===p&&(p=function getActiveIndexByTranslate(e){const{slidesGrid:n,params:r}=e,o=e.rtlTranslate?e.translate:-e.translate;let i;for(let e=0;e<n.length;e+=1)void 0!==n[e+1]?o>=n[e]&&o<n[e+1]-(n[e+1]-n[e])/2?i=e:o>=n[e]&&o<n[e+1]&&(i=e+1):o>=n[e]&&(i=e);return r.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(n)),o.indexOf(r)>=0)u=o.indexOf(r);else{const e=Math.min(i.slidesPerGroupSkip,p);u=e+Math.floor((p-e)/i.slidesPerGroup)}if(u>=o.length&&(u=o.length-1),p===s&&!n.params.loop)return u!==c&&(n.snapIndex=u,n.emit("snapIndexChange")),void 0;if(p===s&&n.params.loop&&n.virtual&&n.params.virtual.enabled)return n.realIndex=getVirtualRealIndex(p),void 0;const f=n.grid&&i.grid&&i.grid.rows>1;let g;if(n.virtual&&i.virtual.enabled&&i.loop)g=getVirtualRealIndex(p);else if(f){const e=n.slides.find((e=>e.column===p));let r=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(r)&&(r=Math.max(n.slides.indexOf(e),0)),g=Math.floor(r/i.grid.rows)}else if(n.slides[p]){const e=n.slides[p].getAttribute("data-swiper-slide-index");g=e?parseInt(e,10):p}else g=p;Object.assign(n,{previousSnapIndex:c,snapIndex:u,previousRealIndex:a,realIndex:g,previousIndex:s,activeIndex:p}),n.initialized&&preload(n),n.emit("activeIndexChange"),n.emit("snapIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&(a!==g&&n.emit("realIndexChange"),n.emit("slideChange"))},updateClickedSlide:function updateClickedSlide(e,n){const r=this,o=r.params;let i=e.closest(`.${o.slideClass}, swiper-slide`);!i&&r.isElement&&n&&n.length>1&&n.includes(e)&&[...n.slice(n.indexOf(e)+1,n.length)].forEach((e=>{!i&&e.matches&&e.matches(`.${o.slideClass}, swiper-slide`)&&(i=e)}));let s,a=!1;if(i)for(let e=0;e<r.slides.length;e+=1)if(r.slides[e]===i){a=!0,s=e;break}if(!i||!a)return r.clickedSlide=void 0,r.clickedIndex=void 0,void 0;r.clickedSlide=i,r.clickedIndex=r.virtual&&r.params.virtual.enabled?parseInt(i.getAttribute("data-swiper-slide-index"),10):s,o.slideToClickedSlide&&void 0!==r.clickedIndex&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}};var f={getTranslate:function getSwiperTranslate(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:n,rtlTranslate:r,translate:o,wrapperEl:s}=this;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let a=(0,i.j)(s,e);return a+=this.cssOverflowAdjustment(),r&&(a=-a),a||0},setTranslate:function setTranslate(e,n){const r=this,{rtlTranslate:o,params:i,wrapperEl:s,progress:a}=r;let c,u=0,p=0;r.isHorizontal()?u=o?-e:e:p=e,i.roundLengths&&(u=Math.floor(u),p=Math.floor(p)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?u:p,i.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-u:-p:i.virtualTranslate||(r.isHorizontal()?u-=r.cssOverflowAdjustment():p-=r.cssOverflowAdjustment(),s.style.transform=`translate3d(${u}px, ${p}px, 0px)`);const f=r.maxTranslate()-r.minTranslate();c=0===f?0:(e-r.minTranslate())/f,c!==a&&r.updateProgress(e),r.emit("setTranslate",r.translate,n)},minTranslate:function minTranslate(){return-this.snapGrid[0]},maxTranslate:function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function translateTo(e,n,r,o,s){void 0===e&&(e=0),void 0===n&&(n=this.params.speed),void 0===r&&(r=!0),void 0===o&&(o=!0);const a=this,{params:c,wrapperEl:u}=a;if(a.animating&&c.preventInteractionOnTransition)return!1;const p=a.minTranslate(),f=a.maxTranslate();let g;if(g=o&&e>p?p:o&&e<f?f:e,a.updateProgress(g),c.cssMode){const e=a.isHorizontal();if(0===n)u[e?"scrollLeft":"scrollTop"]=-g;else{if(!a.support.smoothScroll)return(0,i.t)({swiper:a,targetPosition:-g,side:e?"left":"top"}),!0;u.scrollTo({[e?"left":"top"]:-g,behavior:"smooth"})}return!0}return 0===n?(a.setTransition(0),a.setTranslate(g),r&&(a.emit("beforeTransitionStart",n,s),a.emit("transitionEnd"))):(a.setTransition(n),a.setTranslate(g),r&&(a.emit("beforeTransitionStart",n,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function transitionEnd(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}};function transitionEmit(e){let{swiper:n,runCallbacks:r,direction:o,step:i}=e;const{activeIndex:s,previousIndex:a}=n;let c=o;if(c||(c=s>a?"next":s<a?"prev":"reset"),n.emit(`transition${i}`),r&&s!==a){if("reset"===c)return n.emit(`slideResetTransition${i}`),void 0;n.emit(`slideChangeTransition${i}`),n.emit("next"===c?`slideNextTransition${i}`:`slidePrevTransition${i}`)}}var g={slideTo:function slideTo(e,n,r,o,s){void 0===e&&(e=0),void 0===r&&(r=!0),"string"==typeof e&&(e=parseInt(e,10));const a=this;let c=e;c<0&&(c=0);const{params:u,snapGrid:p,slidesGrid:f,previousIndex:g,activeIndex:v,rtlTranslate:C,wrapperEl:b,enabled:w}=a;if(!w&&!o&&!s||a.destroyed||a.animating&&u.preventInteractionOnTransition)return!1;void 0===n&&(n=a.params.speed);const A=Math.min(a.params.slidesPerGroupSkip,c);let _=A+Math.floor((c-A)/a.params.slidesPerGroup);_>=p.length&&(_=p.length-1);const E=-p[_];if(u.normalizeSlideIndex)for(let e=0;e<f.length;e+=1){const n=-Math.floor(100*E),r=Math.floor(100*f[e]),o=Math.floor(100*f[e+1]);void 0!==f[e+1]?n>=r&&n<o-(o-r)/2?c=e:n>=r&&n<o&&(c=e+1):n>=r&&(c=e)}if(a.initialized&&c!==v){if(!a.allowSlideNext&&(C?E>a.translate&&E>a.minTranslate():E<a.translate&&E<a.minTranslate()))return!1;if(!a.allowSlidePrev&&E>a.translate&&E>a.maxTranslate()&&(v||0)!==c)return!1}let I;c!==(g||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(E),I=c>v?"next":c<v?"prev":"reset";const T=a.virtual&&a.params.virtual.enabled;if(!(T&&s)&&(C&&-E===a.translate||!C&&E===a.translate))return a.updateActiveIndex(c),u.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==u.effect&&a.setTranslate(E),"reset"!==I&&(a.transitionStart(r,I),a.transitionEnd(r,I)),!1;if(u.cssMode){const e=a.isHorizontal(),r=C?E:-E;if(0===n)T&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),T&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{b[e?"scrollLeft":"scrollTop"]=r}))):b[e?"scrollLeft":"scrollTop"]=r,T&&requestAnimationFrame((()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1}));else{if(!a.support.smoothScroll)return(0,i.t)({swiper:a,targetPosition:r,side:e?"left":"top"}),!0;b.scrollTo({[e?"left":"top"]:r,behavior:"smooth"})}return!0}const P=getBrowser();return T&&!s&&P.isSafari&&a.isElement&&a.virtual.update(!1,!1,c),a.setTransition(n),a.setTranslate(E),a.updateActiveIndex(c),a.updateSlidesClasses(),a.emit("beforeTransitionStart",n,o),a.transitionStart(r,I),0===n?a.transitionEnd(r,I):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function transitionEnd(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,I))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function slideToLoop(e,n,r,o){if(void 0===e&&(e=0),void 0===r&&(r=!0),"string"==typeof e){e=parseInt(e,10)}const i=this;if(i.destroyed)return;void 0===n&&(n=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a+=i.virtual.slidesBefore;else{let e;if(s){const n=a*i.params.grid.rows;e=i.slides.find((e=>1*e.getAttribute("data-swiper-slide-index")===n)).column}else e=i.getSlideIndexByData(a);const n=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:r}=i.params;let c=i.params.slidesPerView;"auto"===c?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),r&&c%2==0&&(c+=1));let u=n-e<c;if(r&&(u=u||e<Math.ceil(c/2)),o&&r&&"auto"!==i.params.slidesPerView&&!s&&(u=!1),u){const o=r?e<i.activeIndex?"prev":"next":e-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:o,slideTo:!0,activeSlideIndex:"next"===o?e+1:e-n+1,slideRealIndex:"next"===o?i.realIndex:void 0})}if(s){const e=a*i.params.grid.rows;a=i.slides.find((n=>1*n.getAttribute("data-swiper-slide-index")===e)).column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame((()=>{i.slideTo(a,n,r,o)})),i},slideNext:function slideNext(e,n,r){void 0===n&&(n=!0);const o=this,{enabled:i,params:s,animating:a}=o;if(!i||o.destroyed)return o;void 0===e&&(e=o.params.speed);let c=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(c=Math.max(o.slidesPerViewDynamic("current",!0),1));const u=o.activeIndex<s.slidesPerGroupSkip?1:c;if(s.loop){if(a&&!(o.virtual&&s.virtual.enabled)&&s.loopPreventsSliding)return!1;if(o.loopFix({direction:"next"}),o._clientLeft=o.wrapperEl.clientLeft,o.activeIndex===o.slides.length-1&&s.cssMode)return requestAnimationFrame((()=>{o.slideTo(o.activeIndex+u,e,n,r)})),!0}return o.slideTo(s.rewind&&o.isEnd?0:o.activeIndex+u,e,n,r)},slidePrev:function slidePrev(e,n,r){void 0===n&&(n=!0);const o=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:c,enabled:u,animating:p}=o;if(!u||o.destroyed)return o;if(void 0===e&&(e=o.params.speed),i.loop){if(p&&!(o.virtual&&i.virtual.enabled)&&i.loopPreventsSliding)return!1;o.loopFix({direction:"prev"}),o._clientLeft=o.wrapperEl.clientLeft}function normalize(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const f=normalize(c?o.translate:-o.translate),g=s.map((e=>normalize(e))),v=i.freeMode&&i.freeMode.enabled;let C=s[g.indexOf(f)-1];if(void 0===C&&(i.cssMode||v)){let e;s.forEach(((n,r)=>{f>=n&&(e=r)})),void 0!==e&&(C=v?s[e]:s[e>0?e-1:e])}let b=0;if(void 0!==C&&(b=a.indexOf(C),b<0&&(b=o.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(b=b-o.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),i.rewind&&o.isBeginning){return o.slideTo(o.params.virtual&&o.params.virtual.enabled&&o.virtual?o.virtual.slides.length-1:o.slides.length-1,e,n,r)}return i.loop&&0===o.activeIndex&&i.cssMode?(requestAnimationFrame((()=>{o.slideTo(b,e,n,r)})),!0):o.slideTo(b,e,n,r)},slideReset:function slideReset(e,n,r){void 0===n&&(n=!0);const o=this;if(!o.destroyed)return void 0===e&&(e=o.params.speed),o.slideTo(o.activeIndex,e,n,r)},slideToClosest:function slideToClosest(e,n,r,o){void 0===n&&(n=!0),void 0===o&&(o=.5);const i=this;if(i.destroyed)return;void 0===e&&(e=i.params.speed);let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),c=a+Math.floor((s-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[c]){const e=i.snapGrid[c];u-e>(i.snapGrid[c+1]-e)*o&&(s+=i.params.slidesPerGroup)}else{const e=i.snapGrid[c-1];u-e<=(i.snapGrid[c]-e)*o&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,n,r)},slideToClickedSlide:function slideToClickedSlide(){const e=this;if(e.destroyed)return;const{params:n,slidesEl:r}=e,o="auto"===n.slidesPerView?e.slidesPerViewDynamic():n.slidesPerView;let s,a=e.clickedIndex;const c=e.isElement?"swiper-slide":`.${n.slideClass}`;if(n.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),n.centeredSlides?a<e.loopedSlides-o/2||a>e.slides.length-e.loopedSlides+o/2?(e.loopFix(),a=e.getSlideIndex((0,i.e)(r,`${c}[data-swiper-slide-index="${s}"]`)[0]),(0,i.n)((()=>{e.slideTo(a)}))):e.slideTo(a):a>e.slides.length-o?(e.loopFix(),a=e.getSlideIndex((0,i.e)(r,`${c}[data-swiper-slide-index="${s}"]`)[0]),(0,i.n)((()=>{e.slideTo(a)}))):e.slideTo(a)}else e.slideTo(a)}};var v={loopCreate:function loopCreate(e){const n=this,{params:r,slidesEl:o}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const initSlides=()=>{(0,i.e)(o,`.${r.slideClass}, swiper-slide`).forEach(((e,n)=>{e.setAttribute("data-swiper-slide-index",n)}))},s=n.grid&&r.grid&&r.grid.rows>1,a=r.slidesPerGroup*(s?r.grid.rows:1),c=s&&n.slides.length%r.grid.rows!=0,addBlankSlides=e=>{for(let o=0;o<e;o+=1){const e=n.isElement?(0,i.c)("swiper-slide",[r.slideBlankClass]):(0,i.c)("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(e)}};if(n.slides.length%a!=0){if(r.loopAddBlankSlides){addBlankSlides(a-n.slides.length%a),n.recalcSlides(),n.updateSlides()}else(0,i.u)("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");initSlides()}else if(c){if(r.loopAddBlankSlides){addBlankSlides(r.grid.rows-n.slides.length%r.grid.rows),n.recalcSlides(),n.updateSlides()}else(0,i.u)("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");initSlides()}else initSlides();n.loopFix({slideRealIndex:e,direction:r.centeredSlides?void 0:"next"})},loopFix:function loopFix(e){let{slideRealIndex:n,slideTo:r=!0,direction:o,setTranslate:s,activeSlideIndex:a,byController:c,byMousewheel:u}=void 0===e?{}:e;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:f,allowSlidePrev:g,allowSlideNext:v,slidesEl:C,params:b}=p,{centeredSlides:w}=b;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&b.virtual.enabled)return r&&(b.centeredSlides||0!==p.snapIndex?b.centeredSlides&&p.snapIndex<b.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0):p.slideTo(p.virtual.slides.length,0,!1,!0)),p.allowSlidePrev=g,p.allowSlideNext=v,p.emit("loopFix"),void 0;let A=b.slidesPerView;"auto"===A?A=p.slidesPerViewDynamic():(A=Math.ceil(parseFloat(b.slidesPerView,10)),w&&A%2==0&&(A+=1));const _=b.slidesPerGroupAuto?A:b.slidesPerGroup;let E=_;E%_!=0&&(E+=_-E%_),E+=b.loopAdditionalSlides,p.loopedSlides=E;const I=p.grid&&b.grid&&b.grid.rows>1;f.length<A+E?(0,i.u)("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):I&&"row"===b.grid.fill&&(0,i.u)("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const T=[],P=[];let k=p.activeIndex;void 0===a?a=p.getSlideIndex(f.find((e=>e.classList.contains(b.slideActiveClass)))):k=a;const x="next"===o||!o,F="prev"===o||!o;let R=0,N=0;const L=I?Math.ceil(f.length/b.grid.rows):f.length,H=(I?f[a].column:a)+(w&&void 0===s?-A/2+.5:0);if(H<E){R=Math.max(E-H,_);for(let e=0;e<E-H;e+=1){const n=e-Math.floor(e/L)*L;if(I){const e=L-n-1;for(let n=f.length-1;n>=0;n-=1)f[n].column===e&&T.push(n)}else T.push(L-n-1)}}else if(H+A>L-E){N=Math.max(H-(L-2*E),_);for(let e=0;e<N;e+=1){const n=e-Math.floor(e/L)*L;I?f.forEach(((e,r)=>{e.column===n&&P.push(r)})):P.push(n)}}if(p.__preventObserver__=!0,requestAnimationFrame((()=>{p.__preventObserver__=!1})),F&&T.forEach((e=>{f[e].swiperLoopMoveDOM=!0,C.prepend(f[e]),f[e].swiperLoopMoveDOM=!1})),x&&P.forEach((e=>{f[e].swiperLoopMoveDOM=!0,C.append(f[e]),f[e].swiperLoopMoveDOM=!1})),p.recalcSlides(),"auto"===b.slidesPerView?p.updateSlides():I&&(T.length>0&&F||P.length>0&&x)&&p.slides.forEach(((e,n)=>{p.grid.updateSlide(n,e,p.slides)})),b.watchSlidesProgress&&p.updateSlidesOffset(),r)if(T.length>0&&F){if(void 0===n){const e=p.slidesGrid[k+R]-p.slidesGrid[k];u?p.setTranslate(p.translate-e):(p.slideTo(k+Math.ceil(R),0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-e,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-e))}else if(s){p.slideTo(p.activeIndex+(I?T.length/b.grid.rows:T.length),0,!1,!0),p.touchEventsData.currentTranslate=p.translate}}else if(P.length>0&&x)if(void 0===n){const e=p.slidesGrid[k-N]-p.slidesGrid[k];u?p.setTranslate(p.translate-e):(p.slideTo(k-N,0,!1,!0),s&&(p.touchEventsData.startTranslate=p.touchEventsData.startTranslate-e,p.touchEventsData.currentTranslate=p.touchEventsData.currentTranslate-e))}else{p.slideTo(p.activeIndex-(I?P.length/b.grid.rows:P.length),0,!1,!0)}if(p.allowSlidePrev=g,p.allowSlideNext=v,p.controller&&p.controller.control&&!c){const e={slideRealIndex:n,direction:o,setTranslate:s,activeSlideIndex:a,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach((n=>{!n.destroyed&&n.params.loop&&n.loopFix({...e,slideTo:n.params.slidesPerView===b.slidesPerView&&r})})):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...e,slideTo:p.controller.control.params.slidesPerView===b.slidesPerView&&r})}p.emit("loopFix")},loopDestroy:function loopDestroy(){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||!r||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const o=[];e.slides.forEach((e=>{const n=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;o[n]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),o.forEach((e=>{r.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function preventEdgeSwipe(e,n,r){const i=(0,o.a)(),{params:s}=e,a=s.edgeSwipeDetection,c=s.edgeSwipeThreshold;return!a||!(r<=c||r>=i.innerWidth-c)||"prevent"===a&&(n.preventDefault(),!0)}function onTouchStart(e){const n=this,r=(0,o.g)();let s=e;s.originalEvent&&(s=s.originalEvent);const a=n.touchEventsData;if("pointerdown"===s.type){if(null!==a.pointerId&&a.pointerId!==s.pointerId)return;a.pointerId=s.pointerId}else"touchstart"===s.type&&1===s.targetTouches.length&&(a.touchId=s.targetTouches[0].identifier);if("touchstart"===s.type)return preventEdgeSwipe(n,s,s.targetTouches[0].pageX),void 0;const{params:c,touches:u,enabled:p}=n;if(!p)return;if(!c.simulateTouch&&"mouse"===s.pointerType)return;if(n.animating&&c.preventInteractionOnTransition)return;!n.animating&&c.cssMode&&c.loop&&n.loopFix();let f=s.target;if("wrapper"===c.touchEventsTarget&&!(0,i.v)(f,n.wrapperEl))return;if("which"in s&&3===s.which)return;if("button"in s&&s.button>0)return;if(a.isTouched&&a.isMoved)return;const g=!!c.noSwipingClass&&""!==c.noSwipingClass,v=s.composedPath?s.composedPath():s.path;g&&s.target&&s.target.shadowRoot&&v&&(f=v[0]);const C=c.noSwipingSelector?c.noSwipingSelector:`.${c.noSwipingClass}`;if(c.noSwiping&&(!(!s.target||!s.target.shadowRoot)?function closestElement(e,n){return void 0===n&&(n=this),function __closestFrom(n){if(!n||n===(0,o.g)()||n===(0,o.a)())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||__closestFrom(n.getRootNode().host):null}(n)}(C,f):f.closest(C)))return n.allowClick=!0,void 0;if(c.swipeHandler&&!f.closest(c.swipeHandler))return;u.currentX=s.pageX,u.currentY=s.pageY;const b=u.currentX,w=u.currentY;if(!preventEdgeSwipe(n,s,b))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=b,u.startY=w,a.touchStartTime=(0,i.d)(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,c.threshold>0&&(a.allowThresholdMove=!1);let A=!0;f.matches(a.focusableElements)&&(A=!1,"SELECT"===f.nodeName&&(a.isTouched=!1)),r.activeElement&&r.activeElement.matches(a.focusableElements)&&r.activeElement!==f&&("mouse"===s.pointerType||"mouse"!==s.pointerType&&!f.matches(a.focusableElements))&&r.activeElement.blur();!c.touchStartForcePreventDefault&&!(A&&n.allowTouchMove&&c.touchStartPreventDefault)||f.isContentEditable||s.preventDefault(),c.freeMode&&c.freeMode.enabled&&n.freeMode&&n.animating&&!c.cssMode&&n.freeMode.onTouchStart(),n.emit("touchStart",s)}function onTouchMove(e){const n=(0,o.g)(),r=this,s=r.touchEventsData,{params:a,touches:c,rtlTranslate:u,enabled:p}=r;if(!p)return;if(!a.simulateTouch&&"mouse"===e.pointerType)return;let f,g=e;if(g.originalEvent&&(g=g.originalEvent),"pointermove"===g.type){if(null!==s.touchId)return;if(g.pointerId!==s.pointerId)return}if("touchmove"===g.type){if(f=[...g.changedTouches].find((e=>e.identifier===s.touchId)),!f||f.identifier!==s.touchId)return}else f=g;if(!s.isTouched)return s.startMoving&&s.isScrolling&&r.emit("touchMoveOpposite",g),void 0;const v=f.pageX,C=f.pageY;if(g.preventedByNestedSwiper)return c.startX=v,c.startY=C,void 0;if(!r.allowTouchMove)return g.target.matches(s.focusableElements)||(r.allowClick=!1),s.isTouched&&(Object.assign(c,{startX:v,startY:C,currentX:v,currentY:C}),s.touchStartTime=(0,i.d)()),void 0;if(a.touchReleaseOnEdges&&!a.loop)if(r.isVertical()){if(C<c.startY&&r.translate<=r.maxTranslate()||C>c.startY&&r.translate>=r.minTranslate())return s.isTouched=!1,s.isMoved=!1,void 0}else if(v<c.startX&&r.translate<=r.maxTranslate()||v>c.startX&&r.translate>=r.minTranslate())return;if(n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==g.target&&"mouse"!==g.pointerType&&n.activeElement.blur(),n.activeElement&&g.target===n.activeElement&&g.target.matches(s.focusableElements))return s.isMoved=!0,r.allowClick=!1,void 0;s.allowTouchCallbacks&&r.emit("touchMove",g),c.previousX=c.currentX,c.previousY=c.currentY,c.currentX=v,c.currentY=C;const b=c.currentX-c.startX,w=c.currentY-c.startY;if(r.params.threshold&&Math.sqrt(b**2+w**2)<r.params.threshold)return;if(void 0===s.isScrolling){let e;r.isHorizontal()&&c.currentY===c.startY||r.isVertical()&&c.currentX===c.startX?s.isScrolling=!1:b*b+w*w>=25&&(e=180*Math.atan2(Math.abs(w),Math.abs(b))/Math.PI,s.isScrolling=r.isHorizontal()?e>a.touchAngle:90-e>a.touchAngle)}if(s.isScrolling&&r.emit("touchMoveOpposite",g),void 0===s.startMoving&&(c.currentX===c.startX&&c.currentY===c.startY||(s.startMoving=!0)),s.isScrolling||"touchmove"===g.type&&s.preventTouchMoveFromPointerMove)return s.isTouched=!1,void 0;if(!s.startMoving)return;r.allowClick=!1,!a.cssMode&&g.cancelable&&g.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&g.stopPropagation();let A=r.isHorizontal()?b:w,_=r.isHorizontal()?c.currentX-c.previousX:c.currentY-c.previousY;a.oneWayMovement&&(A=Math.abs(A)*(u?1:-1),_=Math.abs(_)*(u?1:-1)),c.diff=A,A*=a.touchRatio,u&&(A=-A,_=-_);const E=r.touchesDirection;r.swipeDirection=A>0?"prev":"next",r.touchesDirection=_>0?"prev":"next";const I=r.params.loop&&!a.cssMode,T="next"===r.touchesDirection&&r.allowSlideNext||"prev"===r.touchesDirection&&r.allowSlidePrev;if(!s.isMoved){if(I&&T&&r.loopFix({direction:r.swipeDirection}),s.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(e)}s.allowMomentumBounce=!1,!a.grabCursor||!0!==r.allowSlideNext&&!0!==r.allowSlidePrev||r.setGrabCursor(!0),r.emit("sliderFirstMove",g)}if((new Date).getTime(),!1!==a._loopSwapReset&&s.isMoved&&s.allowThresholdMove&&E!==r.touchesDirection&&I&&T&&Math.abs(A)>=1)return Object.assign(c,{startX:v,startY:C,currentX:v,currentY:C,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate,void 0;r.emit("sliderMove",g),s.isMoved=!0,s.currentTranslate=A+s.startTranslate;let P=!0,k=a.resistanceRatio;if(a.touchReleaseOnEdges&&(k=0),A>0?(I&&T&&s.allowThresholdMove&&s.currentTranslate>(a.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-("auto"!==a.slidesPerView&&r.slides.length-a.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>r.minTranslate()&&(P=!1,a.resistance&&(s.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+s.startTranslate+A)**k))):A<0&&(I&&T&&s.allowThresholdMove&&s.currentTranslate<(a.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+("auto"!==a.slidesPerView&&r.slides.length-a.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-("auto"===a.slidesPerView?r.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),s.currentTranslate<r.maxTranslate()&&(P=!1,a.resistance&&(s.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-s.startTranslate-A)**k))),P&&(g.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),r.allowSlidePrev||r.allowSlideNext||(s.currentTranslate=s.startTranslate),a.threshold>0){if(!(Math.abs(A)>a.threshold||s.allowThresholdMove))return s.currentTranslate=s.startTranslate,void 0;if(!s.allowThresholdMove)return s.allowThresholdMove=!0,c.startX=c.currentX,c.startY=c.currentY,s.currentTranslate=s.startTranslate,c.diff=r.isHorizontal()?c.currentX-c.startX:c.currentY-c.startY,void 0}a.followFinger&&!a.cssMode&&((a.freeMode&&a.freeMode.enabled&&r.freeMode||a.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(s.currentTranslate),r.setTranslate(s.currentTranslate))}function onTouchEnd(e){const n=this,r=n.touchEventsData;let o,s=e;s.originalEvent&&(s=s.originalEvent);if("touchend"===s.type||"touchcancel"===s.type){if(o=[...s.changedTouches].find((e=>e.identifier===r.touchId)),!o||o.identifier!==r.touchId)return}else{if(null!==r.touchId)return;if(s.pointerId!==r.pointerId)return;o=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)){if(!(["pointercancel","contextmenu"].includes(s.type)&&(n.browser.isSafari||n.browser.isWebView)))return}r.pointerId=null,r.touchId=null;const{params:a,touches:c,rtlTranslate:u,slidesGrid:p,enabled:f}=n;if(!f)return;if(!a.simulateTouch&&"mouse"===s.pointerType)return;if(r.allowTouchCallbacks&&n.emit("touchEnd",s),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&a.grabCursor&&n.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1,void 0;a.grabCursor&&r.isMoved&&r.isTouched&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!1);const g=(0,i.d)(),v=g-r.touchStartTime;if(n.allowClick){const e=s.path||s.composedPath&&s.composedPath();n.updateClickedSlide(e&&e[0]||s.target,e),n.emit("tap click",s),v<300&&g-r.lastClickTime<300&&n.emit("doubleTap doubleClick",s)}if(r.lastClickTime=(0,i.d)(),(0,i.n)((()=>{n.destroyed||(n.allowClick=!0)})),!r.isTouched||!r.isMoved||!n.swipeDirection||0===c.diff&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset)return r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,void 0;let C;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,C=a.followFinger?u?n.translate:-n.translate:-r.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled)return n.freeMode.onTouchEnd({currentPos:C}),void 0;const b=C>=-n.maxTranslate()&&!n.params.loop;let w=0,A=n.slidesSizesGrid[0];for(let e=0;e<p.length;e+=e<a.slidesPerGroupSkip?1:a.slidesPerGroup){const n=e<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;void 0!==p[e+n]?(b||C>=p[e]&&C<p[e+n])&&(w=e,A=p[e+n]-p[e]):(b||C>=p[e])&&(w=e,A=p[p.length-1]-p[p.length-2])}let _=null,E=null;a.rewind&&(n.isBeginning?E=a.virtual&&a.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1:n.isEnd&&(_=0));const I=(C-p[w])/A,T=w<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(v>a.longSwipesMs){if(!a.longSwipes)return n.slideTo(n.activeIndex),void 0;"next"===n.swipeDirection&&n.slideTo(I>=a.longSwipesRatio?a.rewind&&n.isEnd?_:w+T:w),"prev"===n.swipeDirection&&(I>1-a.longSwipesRatio?n.slideTo(w+T):null!==E&&I<0&&Math.abs(I)>a.longSwipesRatio?n.slideTo(E):n.slideTo(w))}else{if(!a.shortSwipes)return n.slideTo(n.activeIndex),void 0;n.navigation&&(s.target===n.navigation.nextEl||s.target===n.navigation.prevEl)?n.slideTo(s.target===n.navigation.nextEl?w+T:w):("next"===n.swipeDirection&&n.slideTo(null!==_?_:w+T),"prev"===n.swipeDirection&&n.slideTo(null!==E?E:w))}}function onResize(){const e=this,{params:n,el:r}=e;if(r&&0===r.offsetWidth)return;n.breakpoints&&e.setBreakpoint();const{allowSlideNext:o,allowSlidePrev:i,snapGrid:s}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();!("auto"===n.slidesPerView||n.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a&&n.loop?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=i,e.allowSlideNext=o,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function onClick(e){const n=this;n.enabled&&(n.allowClick||(n.params.preventClicks&&e.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function onScroll(){const e=this,{wrapperEl:n,rtlTranslate:r,enabled:o}=e;if(!o)return;let i;e.previousTranslate=e.translate,e.translate=e.isHorizontal()?-n.scrollLeft:-n.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();i=0===s?0:(e.translate-e.minTranslate())/s,i!==e.progress&&e.updateProgress(r?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function onLoad(e){const n=this;processLazyPreloader(n,e.target),n.params.cssMode||"auto"!==n.params.slidesPerView&&!n.params.autoHeight||n.update()}function onDocumentTouchStart(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const events=(e,n)=>{const r=(0,o.g)(),{params:i,el:s,wrapperEl:a,device:c}=e,u=!!i.nested,p="on"===n?"addEventListener":"removeEventListener",f=n;s&&"string"!=typeof s&&(r[p]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:u}),s[p]("touchstart",e.onTouchStart,{passive:!1}),s[p]("pointerdown",e.onTouchStart,{passive:!1}),r[p]("touchmove",e.onTouchMove,{passive:!1,capture:u}),r[p]("pointermove",e.onTouchMove,{passive:!1,capture:u}),r[p]("touchend",e.onTouchEnd,{passive:!0}),r[p]("pointerup",e.onTouchEnd,{passive:!0}),r[p]("pointercancel",e.onTouchEnd,{passive:!0}),r[p]("touchcancel",e.onTouchEnd,{passive:!0}),r[p]("pointerout",e.onTouchEnd,{passive:!0}),r[p]("pointerleave",e.onTouchEnd,{passive:!0}),r[p]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[p]("click",e.onClick,!0),i.cssMode&&a[p]("scroll",e.onScroll),e[f](i.updateOnWindowResize?c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",onResize,!0),s[p]("load",e.onLoad,{capture:!0}))};const isGridEnabled=(e,n)=>e.grid&&n.grid&&n.grid.rows>1;var C={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function moduleExtendParams(e,n){return function extendParams(r){void 0===r&&(r={});const o=Object.keys(r)[0],s=r[o];return"object"!=typeof s||null===s?((0,i.w)(n,r),void 0):(!0===e[o]&&(e[o]={enabled:!0}),"navigation"===o&&e[o]&&e[o].enabled&&!e[o].prevEl&&!e[o].nextEl&&(e[o].auto=!0),["pagination","scrollbar"].indexOf(o)>=0&&e[o]&&e[o].enabled&&!e[o].el&&(e[o].auto=!0),o in e&&"enabled"in s?("object"!=typeof e[o]||"enabled"in e[o]||(e[o].enabled=!0),e[o]||(e[o]={enabled:!1}),(0,i.w)(n,r),void 0):((0,i.w)(n,r),void 0))}}const b={eventsEmitter:u,update:p,translate:f,transition:{setTransition:function setTransition(e,n){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${e}ms`,r.wrapperEl.style.transitionDelay=0===e?"0ms":""),r.emit("setTransition",e,n)},transitionStart:function transitionStart(e,n){void 0===e&&(e=!0);const r=this,{params:o}=r;o.cssMode||(o.autoHeight&&r.updateAutoHeight(),transitionEmit({swiper:r,runCallbacks:e,direction:n,step:"Start"}))},transitionEnd:function transitionEnd(e,n){void 0===e&&(e=!0);const r=this,{params:o}=r;r.animating=!1,o.cssMode||(r.setTransition(0),transitionEmit({swiper:r,runCallbacks:e,direction:n,step:"End"}))}},slide:g,loop:v,grabCursor:{setGrabCursor:function setGrabCursor(e){const n=this;if(!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;const r="container"===n.params.touchEventsTarget?n.el:n.wrapperEl;n.isElement&&(n.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=e?"grabbing":"grab",n.isElement&&requestAnimationFrame((()=>{n.__preventObserver__=!1}))},unsetGrabCursor:function unsetGrabCursor(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function attachEvents(){const e=this,{params:n}=e;e.onTouchStart=onTouchStart.bind(e),e.onTouchMove=onTouchMove.bind(e),e.onTouchEnd=onTouchEnd.bind(e),e.onDocumentTouchStart=onDocumentTouchStart.bind(e),n.cssMode&&(e.onScroll=onScroll.bind(e)),e.onClick=onClick.bind(e),e.onLoad=onLoad.bind(e),events(e,"on")},detachEvents:function detachEvents(){events(this,"off")}},breakpoints:{setBreakpoint:function setBreakpoint(){const e=this,{realIndex:n,initialized:r,params:s,el:a}=e,c=s.breakpoints;if(!c||c&&0===Object.keys(c).length)return;const u=(0,o.g)(),p="window"!==s.breakpointsBase&&s.breakpointsBase?"container":s.breakpointsBase,f=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?e.el:u.querySelector(s.breakpointsBase),g=e.getBreakpoint(c,p,f);if(!g||e.currentBreakpoint===g)return;const v=(g in c?c[g]:void 0)||e.originalParams,C=isGridEnabled(e,s),b=isGridEnabled(e,v),w=e.params.grabCursor,A=v.grabCursor,_=s.enabled;C&&!b?(a.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),e.emitContainerClasses()):!C&&b&&(a.classList.add(`${s.containerModifierClass}grid`),(v.grid.fill&&"column"===v.grid.fill||!v.grid.fill&&"column"===s.grid.fill)&&a.classList.add(`${s.containerModifierClass}grid-column`),e.emitContainerClasses()),w&&!A?e.unsetGrabCursor():!w&&A&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((n=>{if(void 0===v[n])return;const r=s[n]&&s[n].enabled,o=v[n]&&v[n].enabled;r&&!o&&e[n].disable(),!r&&o&&e[n].enable()}));const E=v.direction&&v.direction!==s.direction,I=s.loop&&(v.slidesPerView!==s.slidesPerView||E),T=s.loop;E&&r&&e.changeDirection(),(0,i.w)(e.params,v);const P=e.params.enabled,k=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),_&&!P?e.disable():!_&&P&&e.enable(),e.currentBreakpoint=g,e.emit("_beforeBreakpoint",v),r&&(I?(e.loopDestroy(),e.loopCreate(n),e.updateSlides()):!T&&k?(e.loopCreate(n),e.updateSlides()):T&&!k&&e.loopDestroy()),e.emit("breakpoint",v)},getBreakpoint:function getBreakpoint(e,n,r){if(void 0===n&&(n="window"),!e||"container"===n&&!r)return;let i=!1;const s=(0,o.a)(),a="window"===n?s.innerHeight:r.clientHeight,c=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const n=parseFloat(e.substr(1));return{value:a*n,point:e}}return{value:e,point:e}}));c.sort(((e,n)=>parseInt(e.value,10)-parseInt(n.value,10)));for(let e=0;e<c.length;e+=1){const{point:o,value:a}=c[e];"window"===n?s.matchMedia(`(min-width: ${a}px)`).matches&&(i=o):a<=r.clientWidth&&(i=o)}return i||"max"}},checkOverflow:{checkOverflow:function checkOverflow(){const e=this,{isLocked:n,params:r}=e,{slidesOffsetBefore:o}=r;if(o){const n=e.slides.length-1;e.isLocked=e.size>e.slidesGrid[n]+e.slidesSizesGrid[n]+2*o}else e.isLocked=1===e.snapGrid.length;!0===r.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===r.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),n&&n!==e.isLocked&&(e.isEnd=!1),n!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function addClasses(){const e=this,{classNames:n,params:r,rtl:o,el:i,device:s}=e,a=function prepareClasses(e,n){const r=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((o=>{e[o]&&r.push(n+o)})):"string"==typeof e&&r.push(n+e)})),r}(["initialized",r.direction,{"free-mode":e.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:o},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);n.push(...a),i.classList.add(...n),e.emitContainerClasses()},removeClasses:function removeClasses(){const{el:e,classNames:n}=this;e&&"string"!=typeof e&&(e.classList.remove(...n),this.emitContainerClasses())}}},w={};class Swiper{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?n=s[0]:[e,n]=s,n||(n={}),n=(0,i.w)({},n),e&&!n.el&&(n.el=e);const c=(0,o.g)();if(n.el&&"string"==typeof n.el&&c.querySelectorAll(n.el).length>1){const e=[];return c.querySelectorAll(n.el).forEach((r=>{const o=(0,i.w)({},n,{el:r});e.push(new Swiper(o))})),e}const u=this;u.__swiper__=!0,u.support=getSupport(),u.device=getDevice({userAgent:n.userAgent}),u.browser=getBrowser(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],n.modules&&Array.isArray(n.modules)&&u.modules.push(...n.modules);const p={};u.modules.forEach((e=>{e({params:n,swiper:u,extendParams:moduleExtendParams(n,p),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));const f=(0,i.w)({},C,p);return u.params=(0,i.w)({},f,w,n),u.originalParams=(0,i.w)({},u.params),u.passedParams=(0,i.w)({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((e=>{u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===u.params.direction,isVertical:()=>"vertical"===u.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,o=(0,i.e)(n,`.${r.slideClass}, swiper-slide`),s=(0,i.h)(o[0]);return(0,i.h)(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find((n=>1*n.getAttribute("data-swiper-slide-index")===e)))}recalcSlides(){const{slidesEl:e,params:n}=this;this.slides=(0,i.e)(e,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const o=r.minTranslate(),i=r.maxTranslate();r.translateTo((i-o)*e+o,void 0===n?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter((n=>0===n.indexOf("swiper")||0===n.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(n.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach((r=>{const o=e.getSlideClasses(r);n.push({slideEl:r,classNames:o}),e.emit("_slideClass",r,o)})),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){void 0===e&&(e="current"),void 0===n&&(n=!1);const{params:r,slides:o,slidesGrid:i,slidesSizesGrid:s,size:a,activeIndex:c}=this;let u=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let e,n=o[c]?Math.ceil(o[c].swiperSlideSize):0;for(let r=c+1;r<o.length;r+=1)o[r]&&!e&&(n+=Math.ceil(o[r].swiperSlideSize),u+=1,n>a&&(e=!0));for(let r=c-1;r>=0;r-=1)o[r]&&!e&&(n+=o[r].swiperSlideSize,u+=1,n>a&&(e=!0))}else if("current"===e)for(let e=c+1;e<o.length;e+=1){(n?i[e]+s[e]-i[c]<a:i[e]-i[c]<a)&&(u+=1)}else for(let e=c-1;e>=0;e-=1){i[c]-i[e]<a&&(u+=1)}return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;function setTranslate(){const n=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((n=>{n.complete&&processLazyPreloader(e,n)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r.freeMode&&r.freeMode.enabled&&!r.cssMode)setTranslate(),r.autoHeight&&e.updateAutoHeight();else{if(("auto"===r.slidesPerView||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){o=e.slideTo((e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides).length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||setTranslate()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){void 0===n&&(n=!0);const r=this,o=r.params.direction;return e||(e="horizontal"===o?"vertical":"horizontal"),e===o||"horizontal"!==e&&"vertical"!==e||(r.el.classList.remove(`${r.params.containerModifierClass}${o}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach((n=>{"vertical"===e?n.style.width="":n.style.height=""})),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&"rtl"===e||!n.rtl&&"ltr"===e||(n.rtl="rtl"===e,n.rtlTranslate="horizontal"===n.params.direction&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if("string"==typeof r&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const getWrapperSelector=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(r&&r.shadowRoot&&r.shadowRoot.querySelector){return r.shadowRoot.querySelector(getWrapperSelector())}return(0,i.e)(r,getWrapperSelector())[0]})();return!o&&n.params.createElements&&(o=(0,i.c)("div",n.params.wrapperClass),r.append(o),(0,i.e)(r,`.${n.params.slideClass}`).forEach((e=>{o.append(e)}))),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:"rtl"===r.dir.toLowerCase()||"rtl"===(0,i.p)(r,"direction"),rtlTranslate:"horizontal"===n.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===(0,i.p)(r,"direction")),wrongRTL:"-webkit-box"===(0,i.p)(o,"display")}),!0}init(e){const n=this;if(n.initialized)return n;if(!1===n.mount(e))return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.slideTo(n.params.loop&&n.virtual&&n.params.virtual.enabled?n.params.initialSlide+n.virtual.slidesBefore:n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach((e=>{e.complete?processLazyPreloader(n,e):e.addEventListener("load",(e=>{processLazyPreloader(n,e.target)}))})),preload(n),n.initialized=!0,preload(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);const r=this,{params:o,el:s,wrapperEl:a,slides:c}=r;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),o.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),a&&a.removeAttribute("style"),c&&c.length&&c.forEach((e=>{e.classList.remove(o.slideVisibleClass,o.slideFullyVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((e=>{r.off(e)})),!1!==e&&(r.el&&"string"!=typeof r.el&&(r.el.swiper=null),(0,i.x)(r)),r.destroyed=!0),null}static extendDefaults(e){(0,i.w)(w,e)}static get extendedDefaults(){return w}static get defaults(){return C}static installModule(e){Swiper.prototype.__modules__||(Swiper.prototype.__modules__=[]);const n=Swiper.prototype.__modules__;"function"==typeof e&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>Swiper.installModule(e))),Swiper):(Swiper.installModule(e),Swiper)}}Object.keys(b).forEach((e=>{Object.keys(b[e]).forEach((n=>{Swiper.prototype[n]=b[e][n]}))})),Swiper.use([function Resize(e){let{swiper:n,on:r,emit:i}=e;const s=(0,o.a)();let a=null,c=null;const resizeHandler=()=>{n&&!n.destroyed&&n.initialized&&(i("beforeResize"),i("resize"))},orientationChangeHandler=()=>{n&&!n.destroyed&&n.initialized&&i("orientationchange")};r("init",(()=>{if(n.params.resizeObserver&&void 0!==s.ResizeObserver)return void(n&&!n.destroyed&&n.initialized&&(a=new ResizeObserver((e=>{c=s.requestAnimationFrame((()=>{const{width:r,height:o}=n;let i=r,s=o;e.forEach((e=>{let{contentBoxSize:r,contentRect:o,target:a}=e;a&&a!==n.el||(i=o?o.width:(r[0]||r).inlineSize,s=o?o.height:(r[0]||r).blockSize)})),i===r&&s===o||resizeHandler()}))})),a.observe(n.el))),void 0;s.addEventListener("resize",resizeHandler),s.addEventListener("orientationchange",orientationChangeHandler)})),r("destroy",(()=>{c&&s.cancelAnimationFrame(c),void(a&&a.unobserve&&n.el&&(a.unobserve(n.el),a=null)),s.removeEventListener("resize",resizeHandler),s.removeEventListener("orientationchange",orientationChangeHandler)}))},function Observer(e){let{swiper:n,extendParams:r,on:s,emit:a}=e;const c=[],u=(0,o.a)(),attach=function(e,r){void 0===r&&(r={});const o=new(u.MutationObserver||u.WebkitMutationObserver)((e=>{if(n.__preventObserver__)return;if(1===e.length)return a("observerUpdate",e[0]),void 0;const r=function observerUpdate(){a("observerUpdate",e[0])};u.requestAnimationFrame?u.requestAnimationFrame(r):u.setTimeout(r,0)}));o.observe(e,{attributes:void 0===r.attributes||r.attributes,childList:n.isElement||(void 0===r.childList||r).childList,characterData:void 0===r.characterData||r.characterData}),c.push(o)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",(()=>{if(n.params.observer){if(n.params.observeParents){const e=(0,i.a)(n.hostEl);for(let n=0;n<e.length;n+=1)attach(e[n])}attach(n.hostEl,{childList:n.params.observeSlideChildren}),attach(n.wrapperEl,{attributes:!1})}})),s("destroy",(()=>{c.forEach((e=>{e.disconnect()})),c.splice(0,c.length)}))}])},84015:(e,n,r)=>{"use strict";r.d(n,{a:()=>elementParents,b:()=>elementOffset,c:()=>createElement,d:()=>now,e:()=>elementChildren,f:()=>elementOuterSize,g:()=>getSlideTransformEl,h:()=>elementIndex,i:()=>classesToTokens,j:()=>getTranslate,k:()=>elementTransitionEnd,l:()=>isObject,m:()=>makeElementsArray,n:()=>nextTick,o:()=>getRotateFix,p:()=>elementStyle,q:()=>elementNextAll,r:()=>elementPrevAll,s:()=>setCSSProperty,t:()=>animateCSSModeScroll,u:()=>showWarning,v:()=>elementIsChildOf,w:()=>extend,x:()=>deleteProps});var o=r(27606);function classesToTokens(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function deleteProps(e){const n=e;Object.keys(n).forEach((e=>{try{n[e]=null}catch(e){}try{delete n[e]}catch(e){}}))}function nextTick(e,n){return void 0===n&&(n=0),setTimeout(e,n)}function now(){return Date.now()}function getTranslate(e,n){void 0===n&&(n="x");const r=(0,o.a)();let i,s,a;const c=function getComputedStyle(e){const n=(0,o.a)();let r;return n.getComputedStyle&&(r=n.getComputedStyle(e,null)),!r&&e.currentStyle&&(r=e.currentStyle),r||(r=e.style),r}(e);return r.WebKitCSSMatrix?(s=c.transform||c.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map((e=>e.replace(",","."))).join(", ")),a=new r.WebKitCSSMatrix("none"===s?"":s)):(a=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=a.toString().split(",")),"x"===n&&(s=r.WebKitCSSMatrix?a.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===n&&(s=r.WebKitCSSMatrix?a.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),s||0}function isObject(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function extend(){const e=Object(arguments.length<=0?void 0:arguments[0]),n=["__proto__","constructor","prototype"];for(let o=1;o<arguments.length;o+=1){const i=o<0||arguments.length<=o?void 0:arguments[o];if(null!=i&&(r=i,!("undefined"!=typeof window&&void 0!==window.HTMLElement?r instanceof HTMLElement:r&&(1===r.nodeType||11===r.nodeType)))){const r=Object.keys(Object(i)).filter((e=>n.indexOf(e)<0));for(let n=0,o=r.length;n<o;n+=1){const o=r[n],s=Object.getOwnPropertyDescriptor(i,o);void 0!==s&&s.enumerable&&(isObject(e[o])&&isObject(i[o])?i[o].__swiper__?e[o]=i[o]:extend(e[o],i[o]):!isObject(e[o])&&isObject(i[o])?(e[o]={},i[o].__swiper__?e[o]=i[o]:extend(e[o],i[o])):e[o]=i[o])}}}var r;return e}function setCSSProperty(e,n,r){e.style.setProperty(n,r)}function animateCSSModeScroll(e){let{swiper:n,targetPosition:r,side:i}=e;const s=(0,o.a)(),a=-n.translate;let c,u=null;const p=n.params.speed;n.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(n.cssModeFrameID);const f=r>a?"next":"prev",isOutOfBound=(e,n)=>"next"===f&&e>=n||"prev"===f&&e<=n,animate=()=>{c=(new Date).getTime(),null===u&&(u=c);const e=Math.max(Math.min((c-u)/p,1),0),o=.5-Math.cos(e*Math.PI)/2;let f=a+o*(r-a);if(isOutOfBound(f,r)&&(f=r),n.wrapperEl.scrollTo({[i]:f}),isOutOfBound(f,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[i]:f})})),s.cancelAnimationFrame(n.cssModeFrameID),void 0;n.cssModeFrameID=s.requestAnimationFrame(animate)};animate()}function getSlideTransformEl(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function elementChildren(e,n){void 0===n&&(n="");const r=(0,o.a)(),i=[...e.children];return r.HTMLSlotElement&&e instanceof HTMLSlotElement&&i.push(...e.assignedElements()),n?i.filter((e=>e.matches(n))):i}function elementIsChildOf(e,n){const r=(0,o.a)();let i=n.contains(e);if(!i&&r.HTMLSlotElement&&n instanceof HTMLSlotElement){i=[...n.assignedElements()].includes(e),i||(i=function elementIsChildOfSlot(e,n){const r=[n];for(;r.length>0;){const n=r.shift();if(e===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}(e,n))}return i}function showWarning(e){try{return console.warn(e),void 0}catch(e){}}function createElement(e,n){void 0===n&&(n=[]);const r=document.createElement(e);return r.classList.add(...Array.isArray(n)?n:classesToTokens(n)),r}function elementOffset(e){const n=(0,o.a)(),r=(0,o.g)(),i=e.getBoundingClientRect(),s=r.body;return{top:i.top+(e===n?n.scrollY:e.scrollTop)-(e.clientTop||s.clientTop||0),left:i.left+(e===n?n.scrollX:e.scrollLeft)-(e.clientLeft||s.clientLeft||0)}}function elementPrevAll(e,n){const r=[];for(;e.previousElementSibling;){const o=e.previousElementSibling;n?o.matches(n)&&r.push(o):r.push(o),e=o}return r}function elementNextAll(e,n){const r=[];for(;e.nextElementSibling;){const o=e.nextElementSibling;n?o.matches(n)&&r.push(o):r.push(o),e=o}return r}function elementStyle(e,n){return(0,o.a)().getComputedStyle(e,null).getPropertyValue(n)}function elementIndex(e){let n,r=e;if(r){for(n=0;null!==(r=r.previousSibling);)1===r.nodeType&&(n+=1);return n}}function elementParents(e,n){const r=[];let o=e.parentElement;for(;o;)n?o.matches(n)&&r.push(o):r.push(o),o=o.parentElement;return r}function elementTransitionEnd(e,n){n&&e.addEventListener("transitionend",(function fireCallBack(r){r.target===e&&(n.call(e,r),e.removeEventListener("transitionend",fireCallBack))}))}function elementOuterSize(e,n,r){const i=(0,o.a)();return r?e["width"===n?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===n?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===n?"margin-left":"margin-bottom")):e.offsetWidth}function makeElementsArray(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}function getRotateFix(e){return n=>Math.abs(n)>0&&e.browser&&e.browser.need3dFix&&Math.abs(n)%90==0?n+.001:n}},10467:(e,n,r)=>{"use strict";function asyncGeneratorStep(e,n,r,o,i,s,a){try{var c=e[s](a),u=c.value}catch(e){return void r(e)}c.done?n(u):Promise.resolve(u).then(o,i)}function _asyncToGenerator(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var s=e.apply(n,r);function _next(e){asyncGeneratorStep(s,o,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(s,o,i,_next,_throw,"throw",e)}_next(void 0)}))}}r.d(n,{A:()=>_asyncToGenerator})},99842:(e,n,r)=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function toPropertyKey(e){var n=function toPrimitive(e,n){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==_typeof(n)?n:n+""}function _defineProperty(e,n,r){return(n=toPropertyKey(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}r.d(n,{A:()=>_defineProperty})},31635:(e,n,r)=>{"use strict";r.d(n,{AQ:()=>__asyncGenerator,C6:()=>__extends,Cg:()=>__decorate,N3:()=>__await,Sn:()=>__metadata,sH:()=>__awaiter,xN:()=>__asyncValues});var extendStatics=function(e,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},extendStatics(e,n)};function __extends(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,n),e.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)}function __decorate(e,n,r,o){var i,s=arguments.length,a=s<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,r,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(s<3?i(a):s>3?i(n,r,a):i(n,r))||a);return s>3&&a&&Object.defineProperty(n,r,a),a}function __metadata(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function __awaiter(e,n,r,o){return new(r||(r=Promise))((function(i,s){function fulfilled(e){try{step(o.next(e))}catch(e){s(e)}}function rejected(e){try{step(o.throw(e))}catch(e){s(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof r?e:new r((function(n){n(e)}))}(e.value).then(fulfilled,rejected)}step((o=o.apply(e,n||[])).next())}))}function __values(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=r.apply(e,n||[]),s=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",(function awaitReturn(e){return function(n){return Promise.resolve(n).then(e,reject)}})),o[Symbol.asyncIterator]=function(){return this},o;function verb(e,n){i[e]&&(o[e]=function(n){return new Promise((function(r,o){s.push([e,n,r,o])>1||resume(e,n)}))},n&&(o[e]=n(o[e])))}function resume(e,n){try{!function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(s[0][2],e)}(i[e](n))}catch(e){settle(s[0][3],e)}}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,n){e(n),s.shift(),s.length&&resume(s[0][0],s[0][1])}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=e[Symbol.asyncIterator];return r?r.call(e):(e=__values(e),n={},verb("next"),verb("throw"),verb("return"),n[Symbol.asyncIterator]=function(){return this},n);function verb(r){n[r]=e[r]&&function(n){return new Promise((function(o,i){(function settle(e,n,r,o){Promise.resolve(o).then((function(n){e({value:n,done:r})}),n)})(o,i,(n=e[r](n)).done,n.value)}))}}}"function"==typeof SuppressedError&&SuppressedError}},e=>{e(e.s=90381)}]);