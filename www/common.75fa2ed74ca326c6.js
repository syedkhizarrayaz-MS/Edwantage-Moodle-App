/*! For license information please see common.75fa2ed74ca326c6.js.LICENSE.txt */
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[72076],{8976:(e,t,n)=>{n.d(t,{c:()=>createButtonActiveGesture});var o=n(96317),i=n(21086),r=n(28607);const createButtonActiveGesture=(e,t)=>{let n,s;const activateButtonAtPoint=(e,o,i)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(e,o);if(!r||!t(r)||r.disabled)return clearActiveButton(),void 0;r!==n&&(clearActiveButton(),setActiveButton(r,i))},setActiveButton=(e,t)=>{n=e,s||(s=n);const i=n;(0,o.w)((()=>i.classList.add("ion-activated"))),t()},clearActiveButton=(e=!1)=>{if(!n)return;const t=n;(0,o.w)((()=>t.classList.remove("ion-activated"))),e&&s!==n&&n.click(),n=void 0};return(0,r.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>activateButtonAtPoint(e.currentX,e.currentY,i.a),onMove:e=>activateButtonAtPoint(e.currentX,e.currentY,i.b),onEnd:()=>{clearActiveButton(!0),(0,i.h)(),s=void 0}})}},78438:(e,t,n)=>{n.d(t,{g:()=>getCapacitor});var o=n(28476);const getCapacitor=()=>{if(void 0!==o.w)return o.w.Capacitor}},95572:(e,t,n)=>{n.d(t,{c:()=>compareOptions,i:()=>isOptionSelected});const compareOptions=(e,t,n)=>"function"==typeof n?n(e,t):"string"==typeof n?e[n]===t[n]:Array.isArray(t)?t.includes(e):e===t,isOptionSelected=(e,t,n)=>void 0!==e&&(Array.isArray(e)?e.some((e=>compareOptions(e,t,n))):compareOptions(e,t,n))},63351:(e,t,n)=>{n.d(t,{g:()=>getTimeGivenProgression});const getTimeGivenProgression=(e,t,n,o,i)=>solveCubicBezier(e[1],t[1],n[1],o[1],i).map((i=>solveCubicParametricEquation(e[0],t[0],n[0],o[0],i))),solveCubicParametricEquation=(e,t,n,o,i)=>i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+o*i))-e*Math.pow(i-1,3),solveCubicBezier=(e,t,n,o,i)=>solveCubicEquation((o-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter((e=>e>=0&&e<=1)),solveCubicEquation=(e,t,n,o)=>{if(0===e)return((e,t,n)=>{const o=t*t-4*e*n;return o<0?[]:[(-t+Math.sqrt(o))/(2*e),(-t-Math.sqrt(o))/(2*e)]})(t,n,o);const i=(3*(n/=e)-(t/=e)*t)/3,r=(2*t*t*t-9*t*n+27*(o/=e))/27;if(0===i)return[Math.pow(-r,1/3)];if(0===r)return[Math.sqrt(-i),-Math.sqrt(-i)];const s=Math.pow(r/2,2)+Math.pow(i/3,3);if(0===s)return[Math.pow(r/2,.5)-t/3];if(s>0)return[Math.pow(-r/2+Math.sqrt(s),1/3)-Math.pow(r/2+Math.sqrt(s),1/3)-t/3];const a=Math.sqrt(Math.pow(-i/3,3)),d=Math.acos(-r/(2*Math.sqrt(Math.pow(-i/3,3)))),l=2*Math.pow(a,1/3);return[l*Math.cos(d/3)-t/3,l*Math.cos((d+2*Math.PI)/3)-t/3,l*Math.cos((d+4*Math.PI)/3)-t/3]}},25083:(e,t,n)=>{n.d(t,{i:()=>isRTL});const isRTL=e=>e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase())},13126:(e,t,n)=>{n.r(t),n.d(t,{startFocusVisible:()=>startFocusVisible});const o="ion-focused",i=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],startFocusVisible=e=>{let t=[],n=!0;const r=e?e.shadowRoot:document,s=e||document.body,setFocus=e=>{t.forEach((e=>e.classList.remove(o))),e.forEach((e=>e.classList.add(o))),t=e},pointerDown=()=>{n=!1,setFocus([])},onKeydown=e=>{n=i.includes(e.key),n||setFocus([])},onFocusin=e=>{if(n&&void 0!==e.composedPath){const t=e.composedPath().filter((e=>!!e.classList&&e.classList.contains("ion-focusable")));setFocus(t)}},onFocusout=()=>{r.activeElement===s&&setFocus([])};r.addEventListener("keydown",onKeydown),r.addEventListener("focusin",onFocusin),r.addEventListener("focusout",onFocusout),r.addEventListener("touchstart",pointerDown,{passive:!0}),r.addEventListener("mousedown",pointerDown);return{destroy:()=>{r.removeEventListener("keydown",onKeydown),r.removeEventListener("focusin",onFocusin),r.removeEventListener("focusout",onFocusout),r.removeEventListener("touchstart",pointerDown),r.removeEventListener("mousedown",pointerDown)},setFocus}}},21086:(e,t,n)=>{n.d(t,{I:()=>i,a:()=>hapticSelectionStart,b:()=>hapticSelectionChanged,c:()=>hapticSelection,d:()=>hapticImpact,h:()=>hapticSelectionEnd});var o=n(78438),i=function(e){return e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT",e}(i||{}),r=function(e){return e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR",e}(r||{});const s={getEngine(){const e=(0,o.g)();if(null==e?void 0:e.isPluginAvailable("Haptics"))return e.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=(0,o.g)();return"web"!==(null==e?void 0:e.getPlatform())||"undefined"!=typeof navigator&&void 0!==navigator.vibrate},impact(e){const t=this.getEngine();t&&t.impact({style:e.style})},notification(e){const t=this.getEngine();t&&t.notification({type:e.type})},selection(){this.impact({style:i.Light})},selectionStart(){const e=this.getEngine();e&&e.selectionStart()},selectionChanged(){const e=this.getEngine();e&&e.selectionChanged()},selectionEnd(){const e=this.getEngine();e&&e.selectionEnd()}},hapticAvailable=()=>s.available(),hapticSelection=()=>{hapticAvailable()&&s.selection()},hapticSelectionStart=()=>{hapticAvailable()&&s.selectionStart()},hapticSelectionChanged=()=>{hapticAvailable()&&s.selectionChanged()},hapticSelectionEnd=()=>{hapticAvailable()&&s.selectionEnd()},hapticImpact=e=>{hapticAvailable()&&s.impact(e)}},73982:(e,t,n)=>{n.d(t,{I:()=>a,a:()=>findIonContent,b:()=>s,c:()=>scrollByPoint,d:()=>disableContentScrollY,f:()=>findClosestIonContent,g:()=>l,i:()=>isIonContent,p:()=>printIonContentErrorMsg,r:()=>resetContentScrollY,s:()=>scrollToTop});var o=n(10467),i=n(81559),r=n(99144);const s="ion-content",a=".ion-content-scroll-host",d=`${s}, ${a}`,isIonContent=e=>"ION-CONTENT"===e.tagName,l=function(){var e=(0,o.A)((function*(e){return isIonContent(e)?(yield new Promise((t=>(0,i.c)(e,t))),e.getScrollElement()):e}));return function getScrollElement(t){return e.apply(this,arguments)}}(),findIonContent=e=>{const t=e.querySelector(a);return t||e.querySelector(d)},findClosestIonContent=e=>e.closest(d),scrollToTop=(e,t)=>{if(isIonContent(e)){return e.scrollToTop(t)}return Promise.resolve(e.scrollTo({top:0,left:0,behavior:t>0?"smooth":"auto"}))},scrollByPoint=(e,t,n,o)=>{if(isIonContent(e)){return e.scrollByPoint(t,n,o)}return Promise.resolve(e.scrollBy({top:n,left:t,behavior:o>0?"smooth":"auto"}))},printIonContentErrorMsg=e=>(0,r.b)(e,s),disableContentScrollY=e=>{if(isIonContent(e)){const t=e.scrollY;return e.scrollY=!1,t}return e.style.setProperty("overflow","hidden"),!0},resetContentScrollY=(e,t)=>{isIonContent(e)?e.scrollY=t:e.style.removeProperty("overflow")}},23992:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>h,c:()=>l,d:()=>f,e:()=>w,f:()=>d,g:()=>_,h:()=>r,i:()=>i,j:()=>M,k:()=>k,l:()=>c,m:()=>p,n:()=>C,o:()=>m,p:()=>a,q:()=>s,r:()=>b,s:()=>x,t:()=>g,u:()=>A,v:()=>y,w:()=>u,x:()=>v,y:()=>I});const o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 64L144 256l224 192V64z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 368L256 144 64 368h384z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='64'/><path d='M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z'/></svg>",I="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM248 315.85l-51.79-51.79a2 2 0 00-3.39 1.69 64.11 64.11 0 0053.49 53.49 2 2 0 001.69-3.39zM264 196.15L315.87 248a2 2 0 003.4-1.69 64.13 64.13 0 00-53.55-53.55 2 2 0 00-1.72 3.39z'/><path d='M491 273.36a32.2 32.2 0 00-.1-34.76c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.68 96a226.54 226.54 0 00-71.82 11.79 4 4 0 00-1.56 6.63l47.24 47.24a4 4 0 003.82 1.05 96 96 0 01116 116 4 4 0 001.05 3.81l67.95 68a4 4 0 005.4.24 343.81 343.81 0 0067.24-77.4zM256 352a96 96 0 01-93.3-118.63 4 4 0 00-1.05-3.81l-66.84-66.87a4 4 0 00-5.41-.23c-24.39 20.81-47 46.13-67.67 75.72a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.39 76.14 98.28 100.65C162.06 402 207.92 416 255.68 416a238.22 238.22 0 0072.64-11.55 4 4 0 001.61-6.64l-47.47-47.46a4 4 0 00-3.81-1.05A96 96 0 01256 352z'/></svg>",A="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",b="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",M="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",k="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",x="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},85098:(e,t,n)=>{n.d(t,{c:()=>createSlotMutationController,g:()=>getCounterText});var o=n(28476),i=n(81559),r=n(99144);const createSlotMutationController=(e,t,n)=>{let r,s;if(void 0!==o.w&&"MutationObserver"in o.w){const o=Array.isArray(t)?t:[t];r=new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&o.includes(e.slot))return n(),(0,i.r)((()=>watchForSlotChange(e))),void 0})),r.observe(e,{childList:!0,subtree:!0})}const watchForSlotChange=e=>{var o;s&&(s.disconnect(),s=void 0),s=new MutationObserver((e=>{n();for(const n of e)for(const e of n.removedNodes)e.nodeType===Node.ELEMENT_NODE&&e.slot===t&&destroySlottedContentObserver()})),s.observe(null!==(o=e.parentElement)&&void 0!==o?o:e,{subtree:!0,childList:!0})},destroySlottedContentObserver=()=>{s&&(s.disconnect(),s=void 0)};return{destroy:()=>{r&&(r.disconnect(),r=void 0),destroySlottedContentObserver()}}},getCounterText=(e,t,n)=>{const o=null==e?0:e.toString().length,i=defaultCounterFormatter(o,t);if(void 0===n)return i;try{return n(o,t)}catch(e){return(0,r.a)("Exception in provided `counterFormatter`.",e),i}},defaultCounterFormatter=(e,t)=>`${e} / ${t}`},31622:(e,t,n)=>{n.r(t),n.d(t,{KEYBOARD_DID_CLOSE:()=>r,KEYBOARD_DID_OPEN:()=>i,copyVisualViewport:()=>copyVisualViewport,keyboardDidClose:()=>keyboardDidClose,keyboardDidOpen:()=>keyboardDidOpen,keyboardDidResize:()=>keyboardDidResize,resetKeyboardAssist:()=>resetKeyboardAssist,setKeyboardClose:()=>setKeyboardClose,setKeyboardOpen:()=>setKeyboardOpen,startKeyboardAssist:()=>startKeyboardAssist,trackViewportChanges:()=>trackViewportChanges});var o=n(94379);n(78438),n(28476);const i="ionKeyboardDidShow",r="ionKeyboardDidHide";let s={},a={},d=!1;const resetKeyboardAssist=()=>{s={},a={},d=!1},startKeyboardAssist=e=>{if(o.K.getEngine())startNativeListeners(e);else{if(!e.visualViewport)return;a=copyVisualViewport(e.visualViewport),e.visualViewport.onresize=()=>{trackViewportChanges(e),keyboardDidOpen()||keyboardDidResize(e)?setKeyboardOpen(e):keyboardDidClose(e)&&setKeyboardClose(e)}}},startNativeListeners=e=>{e.addEventListener("keyboardDidShow",(t=>setKeyboardOpen(e,t))),e.addEventListener("keyboardDidHide",(()=>setKeyboardClose(e)))},setKeyboardOpen=(e,t)=>{fireKeyboardOpenEvent(e,t),d=!0},setKeyboardClose=e=>{fireKeyboardCloseEvent(e),d=!1},keyboardDidOpen=()=>!d&&s.width===a.width&&(s.height-a.height)*a.scale>150,keyboardDidResize=e=>d&&!keyboardDidClose(e),keyboardDidClose=e=>d&&a.height===e.innerHeight,fireKeyboardOpenEvent=(e,t)=>{const n=new CustomEvent(i,{detail:{keyboardHeight:t?t.keyboardHeight:e.innerHeight-a.height}});e.dispatchEvent(n)},fireKeyboardCloseEvent=e=>{const t=new CustomEvent(r);e.dispatchEvent(t)},trackViewportChanges=e=>{s=Object.assign({},a),a=copyVisualViewport(e.visualViewport)},copyVisualViewport=e=>({width:Math.round(e.width),height:Math.round(e.height),offsetTop:e.offsetTop,offsetLeft:e.offsetLeft,pageTop:e.pageTop,pageLeft:e.pageLeft,scale:e.scale})},94379:(e,t,n)=>{n.d(t,{K:()=>s,a:()=>r});var o=n(78438),i=function(e){return e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE",e}(i||{}),r=function(e){return e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none",e}(r||{});const s={getEngine(){const e=(0,o.g)();if(null==e?void 0:e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return(null==e?void 0:e.getResizeMode)?e.getResizeMode().catch((e=>{if(e.code!==i.Unimplemented)throw e})):Promise.resolve(void 0)}}},64731:(e,t,n)=>{n.d(t,{c:()=>s});var o=n(10467),i=n(28476),r=n(94379);const getResizeContainer=e=>{if(void 0===i.d||e===r.a.None||void 0===e)return null;const t=i.d.querySelector("ion-app");return null!=t?t:i.d.body},getResizeContainerHeight=e=>{const t=getResizeContainer(e);return null===t?0:t.clientHeight},s=function(){var e=(0,o.A)((function*(e){let t,n,s,a;const d=function(){var e=(0,o.A)((function*(){const e=yield r.K.getResizeMode(),o=void 0===e?void 0:e.mode;t=()=>{void 0===a&&(a=getResizeContainerHeight(o)),s=!0,fireChangeCallback(s,o)},n=()=>{s=!1,fireChangeCallback(s,o)},null==i.w||i.w.addEventListener("keyboardWillShow",t),null==i.w||i.w.addEventListener("keyboardWillHide",n)}));return function init(){return e.apply(this,arguments)}}(),fireChangeCallback=(t,n)=>{e&&e(t,createResizePromiseIfNeeded(n))},createResizePromiseIfNeeded=e=>{if(0===a||a===getResizeContainerHeight(e))return;const t=getResizeContainer(e);return null!==t?new Promise((e=>{const n=new ResizeObserver((()=>{t.clientHeight===a&&(n.disconnect(),e())}));n.observe(t)})):void 0};return yield d(),{init:d,destroy:()=>{null==i.w?void 0:i.w.removeEventListener("keyboardWillShow",t),null==i.w||i.w.removeEventListener("keyboardWillHide",n),t=n=void 0},isKeyboardVisible:()=>s}}));return function createKeyboardController(t){return e.apply(this,arguments)}}()},67838:(e,t,n)=>{n.d(t,{c:()=>createLockController});var o=n(10467);const createLockController=()=>{let e;return{lock:function(){var t=(0,o.A)((function*(){const t=e;let n;return e=new Promise((e=>n=e)),void 0!==t&&(yield t),n}));return function lock(){return t.apply(this,arguments)}}()}}},67383:(e,t,n)=>{n.d(t,{c:()=>createNotchController});var o=n(28476),i=n(81559);const createNotchController=(e,t,n)=>{let r;const needsExplicitNotchWidth=()=>void 0!==t()&&void 0===e.label&&null!==n(),setNotchWidth=()=>{const i=t();if(void 0===i)return;if(!needsExplicitNotchWidth())return i.style.removeProperty("width"),void 0;const s=n().scrollWidth;if(0===s&&null===i.offsetParent&&void 0!==o.w&&"IntersectionObserver"in o.w){if(void 0!==r)return;const t=r=new IntersectionObserver((e=>{1===e[0].intersectionRatio&&(setNotchWidth(),t.disconnect(),r=void 0)}),{threshold:.01,root:e});return t.observe(i),void 0}i.style.setProperty("width",.75*s+"px")};return{calculateNotchWidth:()=>{needsExplicitNotchWidth()&&(0,i.r)((()=>{setNotchWidth()}))},destroy:()=>{r&&(r.disconnect(),r=void 0)}}}},37895:(e,t,n)=>{n.d(t,{S:()=>o});const o={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const o=e*t/n-e+"ms",i=2*Math.PI*t/n;return{r:5,style:{top:32*Math.sin(i)+"%",left:32*Math.cos(i)+"%","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const o=t/n,i=e*o-e+"ms",r=2*Math.PI*o;return{r:5,style:{top:32*Math.sin(r)+"%",left:32*Math.cos(r)+"%","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:32-32*t+"%","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:8,fn:(e,t,n)=>({y1:14,y2:26,style:{transform:`rotate(${360/n*t+(t<n/2?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${360/n*t+(t<n/2?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})}}},66664:(e,t,n)=>{n.r(t),n.d(t,{createSwipeBackGesture:()=>createSwipeBackGesture});var o=n(81559),i=n(25083),r=n(28607);n(11970);const createSwipeBackGesture=(e,t,n,s,a)=>{const d=e.ownerDocument.defaultView;let l=(0,i.i)(e);const getDeltaX=e=>l?-e.deltaX:e.deltaX;return(0,r.createGesture)({el:e,gestureName:"goback-swipe",gesturePriority:101,threshold:10,canStart:n=>(l=(0,i.i)(e),(e=>{const{startX:t}=e;return l?t>=d.innerWidth-50:t<=50})(n)&&t()),onStart:n,onMove:e=>{const t=getDeltaX(e);s(t/d.innerWidth)},onEnd:e=>{const t=getDeltaX(e),n=d.innerWidth,i=t/n,r=(e=>l?-e.velocityX:e.velocityX)(e),s=r>=0&&(r>.2||t>n/2),c=(s?1-i:i)*n;let u=0;if(c>5){const e=c/Math.abs(r);u=Math.min(e,540)}a(s,i<=0?.01:(0,o.j)(0,i,.9999),u)}})}},2935:(e,t,n)=>{n.d(t,{w:()=>watchForOptions});const watchForOptions=(e,t,n)=>{if("undefined"==typeof MutationObserver)return;const o=new MutationObserver((e=>{n(getSelectedOption(e,t))}));return o.observe(e,{childList:!0,subtree:!0}),o},getSelectedOption=(e,t)=>{let n;return e.forEach((e=>{for(let o=0;o<e.addedNodes.length;o++)n=findCheckedOption(e.addedNodes[o],t)||n})),n},findCheckedOption=(e,t)=>{if(1!==e.nodeType)return;const n=e;return(n.tagName===t.toUpperCase()?[n]:Array.from(n.querySelectorAll(t))).find((e=>e.value===n.value))}},57648:(e,t,n)=>{n.d(t,{j:()=>AddonBadgesUserBadgesSource});var o=n(10467),i=n(99522),r=n(70548);class AddonBadgesUserBadgesSource extends i.F{constructor(e,t){super(),this.COURSE_ID=e,this.USER_ID=t}getItemPath(e){return e.uniquehash}getItemQueryParams(){return{courseId:this.COURSE_ID,userId:this.USER_ID}}loadPageItems(){var e=this;return(0,o.A)((function*(){return{items:yield r.AddonBadges.getUserBadges(e.COURSE_ID,e.USER_ID)}}))()}}},90137:(e,t,n)=>{n.d(t,{t:()=>AddonCalendarEventsSource});var o=n(10467),i=n(99522);class AddonCalendarEventsSource extends i.F{constructor(e){super(),this.events=[],this.DATE=e}setEvents(e){this.events=e}loadPageItems(){var e=this;return(0,o.A)((function*(){return{items:e.events.slice(0)}}))()}getItemPath(e){return e.id.toString()}getItemQueryParams(){return{date:this.DATE}}}},74094:(e,t,n)=>{n.d(t,{L:()=>AddonCompetencyCourseCompetenciesSource});var o=n(10467),i=n(99522),r=n(55554),s=n(41140),a=n(8657);class AddonCompetencyCourseCompetenciesSource extends i.F{static getSourceId(e,t){return`${e}-${t||"current-user"}`}constructor(e,t){super(),this.COURSE_ID=e,this.USER_ID=t}getItemPath(e){return String(e.competency.id)}load(){var _superprop_getLoad=()=>super.load,e=this;return(0,o.A)((function*(){!e.dirty&&e.courseCompetencies||(yield e.loadCourseCompetencies()),yield _superprop_getLoad().call(e)}))()}invalidateCache(){var e=this;return(0,o.A)((function*(){yield r.g.ignoreErrors(s.AddonCompetency.invalidateCourseCompetencies(e.COURSE_ID,e.USER_ID))}))()}loadPageItems(){var e=this;return(0,o.A)((function*(){if(!e.courseCompetencies)throw new Error("Can't load competencies without course data");return{items:e.courseCompetencies.competencies}}))()}loadCourseCompetencies(){var e=this;return(0,o.A)((function*(){[e.courseCompetencies,e.user]=yield Promise.all([s.AddonCompetency.getCourseCompetencies(e.COURSE_ID,e.USER_ID),a.AddonCompetencyHelper.getProfile(e.USER_ID)])}))()}}},71852:(e,t,n)=>{n.d(t,{P:()=>AddonCompetencyPlanCompetenciesSource});var o=n(10467),i=n(99522),r=n(55554),s=n(41140),a=n(8657);class AddonCompetencyPlanCompetenciesSource extends i.F{constructor(e){super(),this.PLAN_ID=e}getItemPath(e){return String(e.competency.id)}load(){var _superprop_getLoad=()=>super.load,e=this;return(0,o.A)((function*(){!e.dirty&&e.plan||(yield e.loadLearningPlan()),yield _superprop_getLoad().call(e)}))()}invalidateCache(){var e=this;return(0,o.A)((function*(){yield r.g.ignoreErrors(s.AddonCompetency.invalidateLearningPlan(e.PLAN_ID))}))()}loadPageItems(){var e=this;return(0,o.A)((function*(){if(!e.plan)throw new Error("Can't load competencies without plan!");return{items:e.plan.competencies}}))()}loadLearningPlan(){var e=this;return(0,o.A)((function*(){e.plan=yield s.AddonCompetency.getLearningPlan(e.PLAN_ID),e.plan.plan.statusname=a.AddonCompetencyHelper.getPlanStatusName(e.plan.plan.status),e.user=yield a.AddonCompetencyHelper.getProfile(e.plan.plan.userid)}))()}}},19193:(e,t,n)=>{n.d(t,{L:()=>AddonCompetencyPlansSource});var o=n(10467),i=n(99522),r=n(49697),s=n(41140),a=n(8657),d=n(55351);class AddonCompetencyPlansSource extends i.F{static getSourceId(e){return e?String(e):"current-user"}constructor(e){super(),this.USER_ID=e}getItemPath(e){return`${e.id}/${r.f$}`}getItemQueryParams(){return this.USER_ID?{userId:this.USER_ID}:{}}invalidateCache(){var e=this;return(0,o.A)((function*(){yield s.AddonCompetency.invalidateLearningPlans(e.USER_ID)}))()}loadPageItems(){var e=this;return(0,o.A)((function*(){const t=yield s.AddonCompetency.getLearningPlans(e.USER_ID);return t.forEach((e=>{switch(e.statusname=a.AddonCompetencyHelper.getPlanStatusName(e.status),e.status){case r.bo.ACTIVE:e.statuscolor=d.$.SUCCESS;break;case r.bo.COMPLETE:e.statuscolor=d.$.DANGER;break;default:e.statuscolor=d.$.WARNING}})),{items:t}}))()}}},8657:(e,t,n)=>{n.r(t),n.d(t,{AddonCompetencyHelper:()=>c,AddonCompetencyHelperProvider:()=>l});var o=n(10467),i=n(52749),r=n(98870),s=n(79555),a=n(49697),d=n(54438);let l=(()=>{var e;class AddonCompetencyHelperProvider{getProfile(e){return(0,o.A)((function*(){if(e&&e!=i.CoreSites.getCurrentSiteUserId())return r.CoreUser.getProfile(e,void 0,!0)}))()}getCompetencyStatusName(e){let t;switch(e){case a.oO.IDLE:t="idle";break;case a.oO.IN_REVIEW:t="inreview";break;case a.oO.WAITING_FOR_REVIEW:t="waitingforreview";break;default:return String(e)}return s.HT.instant(`addon.competency.usercompetencystatus_${t}`)}getPlanStatusName(e){let t;switch(e){case a.bo.DRAFT:t="draft";break;case a.bo.ACTIVE:t="active";break;case a.bo.COMPLETE:t="complete";break;case a.bo.WAITING_FOR_REVIEW:t="waitingforreview";break;case a.bo.IN_REVIEW:t="inreview";break;default:return String(e)}return s.HT.instant(`addon.competency.planstatus${t}`)}}return(e=AddonCompetencyHelperProvider).ɵfac=function AddonCompetencyHelperProvider_Factory(t){return new(t||e)},e.ɵprov=d.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonCompetencyHelperProvider})();const c=(0,s.Qd)(l)},95867:(e,t,n)=>{n.d(t,{S:()=>l});var o=n(10467),i=n(63508),r=n(75629),s=n(93589),a=n(91416),d=n(54438);let l=(()=>{var e;class AddonModAssignFeedbackPluginBaseComponent{constructor(){this.canEdit=!1,this.edit=!1}editFeedback(){var e=this;return(0,o.A)((function*(){if(!e.canEdit)throw new r.CoreError("Cannot edit feedback");const{AddonModAssignEditPluginFeedbackModalComponent:t}=yield n.e(75251).then(n.bind(n,75251)),o=yield s.I.openModal({component:t,componentProps:{assign:e.assign,submission:e.submission,plugin:e.plugin,userId:e.userId}});if(void 0===o)throw new i.CoreCanceledError;return o}))()}invalidate(){return(0,o.A)((function*(){}))()}}return(e=AddonModAssignFeedbackPluginBaseComponent).ɵfac=function AddonModAssignFeedbackPluginBaseComponent_Factory(t){return new(t||e)},e.ɵcmp=d.VBU({type:e,selectors:[["ng-component"]],inputs:{assign:"assign",submission:"submission",plugin:"plugin",userId:"userId",configs:"configs",canEdit:[d.Mj6.HasDecoratorInputTransform,"canEdit","canEdit",a.G],edit:[d.Mj6.HasDecoratorInputTransform,"edit","edit",a.G]},features:[d.GFd],decls:0,vars:0,template:function AddonModAssignFeedbackPluginBaseComponent_Template(e,t){},encapsulation:2}),AddonModAssignFeedbackPluginBaseComponent})()},65045:(e,t,n)=>{n.d(t,{W:()=>AddonModAssignSubmissionsSource});var o=n(10467),i=n(99522),r=n(15221),s=n(52749),a=n(55554),d=n(79555),l=n(55351),c=n(49882),u=n(5505),m=n(20218),p=n(4175),g=n(75217),h=n(66016);class AddonModAssignSubmissionsSource extends i.F{static getSourceId(e,t,n){return`submissions-${e}-${t}-${null!=n?n:"__empty__"}`}constructor(e,t,n){super(),this.groupId=0,this.groupInfo={groups:[],separateGroups:!1,visibleGroups:!1,defaultGroupId:0,canAccessAllGroups:!1},this.submissionsData={canviewsubmissions:!1},this.COURSE_ID=e,this.MODULE_ID=t,this.SELECTED_STATUS=n}getItemPath(e){return String(e.submitid)}getItemQueryParams(e){return{blindId:e.blindid,groupId:this.groupId,selectedStatus:this.SELECTED_STATUS}}invalidateCache(){var e=this;return(0,o.A)((function*(){yield Promise.all([u.AddonModAssign.invalidateAssignmentData(e.COURSE_ID),e.assign&&u.AddonModAssign.invalidateAllSubmissionData(e.assign.id),e.assign&&u.AddonModAssign.invalidateAssignmentUserMappingsData(e.assign.id),e.assign&&u.AddonModAssign.invalidateAssignmentGradesData(e.assign.id),e.assign&&u.AddonModAssign.invalidateListParticipantsData(e.assign.id)])}))()}loadAssignment(e=!1){var t=this;return(0,o.A)((function*(){if(t.assign=yield u.AddonModAssign.getAssignment(t.COURSE_ID,t.MODULE_ID),e)try{const e=yield g.AddonModAssignSync.syncAssign(t.assign.id);e&&e.updated&&c.z.trigger(h.Cu,{assignId:t.assign.id,warnings:e.warnings,gradesBlocked:e.gradesBlocked,context:"submission-list"},s.CoreSites.getCurrentSiteId())}catch{}if(t.submissionsData=yield u.AddonModAssign.getSubmissions(t.assign.id,{cmId:t.assign.cmid}),!t.submissionsData.canviewsubmissions)throw new Error("Cannot view submissions.");t.groupInfo=yield r.CoreGroups.getActivityGroupInfo(t.assign.cmid,!1),t.groupId=r.CoreGroups.validateGroupId(t.groupId,t.groupInfo),yield t.reload()}))()}loadPageItems(){var e=this;return(0,o.A)((function*(){const t=e.assign;if(!t)throw new Error("Can't load submissions without assignment");let n=yield m.AddonModAssignHelper.getSubmissionsUserData(t,e.submissionsData.submissions,e.groupId),i=t.markingworkflow?[]:yield u.AddonModAssign.getAssignmentGrades(t.id,{cmId:t.cmid});if(i=i.filter((e=>parseInt(e.grade,10)>=0)).sort(((e,t)=>t.timemodified-e.timemodified)),"needgrading"==e.SELECTED_STATUS){const e=n.map(function(){var e=(0,o.A)((function*(e){e.needsGrading=yield u.AddonModAssign.needsSubmissionToBeGraded(e,t)}));return function(t){return e.apply(this,arguments)}}());yield Promise.all(e),n=n.filter((e=>e.needsGrading))}else if(e.SELECTED_STATUS){const t="draft"==e.SELECTED_STATUS?"draft":"submitted";n=n.filter((e=>e.status==t))}const r=yield Promise.all(n.map(function(){var n=(0,o.A)((function*(n){const o=yield a.g.ignoreErrors(p.AddonModAssignOffline.getSubmissionGrade(t.id,n.userid)),r=!!o&&n.timemodified<o.timemodified;if(t.markingworkflow){if(t.teamsubmission){var s,c;const t=null===(s=e.submissionsData.submissions)||void 0===s?void 0:s.find((e=>n.userid===e.userid));n.gradingstatus=null!==(c=null==t?void 0:t.gradingstatus)&&void 0!==c?c:n.gradingstatus}}else{const e=i.find((e=>e.userid==n.userid));e&&(n.gradingstatus=e.timemodified<n.timemodified?"gradedfollowupsubmit":"graded")}return n.statusColor=u.AddonModAssign.getSubmissionStatusColor(n.status),n.gradingColor=u.AddonModAssign.getSubmissionGradingStatusColor(n.gradingstatus),n.statusTranslated=d.HT.instant(`addon.mod_assign.submissionstatus_${n.status}`),r?(n.gradingStatusTranslationId="addon.mod_assign.gradenotsynced",n.gradingColor=""):n.gradingStatusTranslationId=n.statusColor!=l.$.DANGER||n.gradingColor!=l.$.DANGER?u.AddonModAssign.getSubmissionGradingStatusTranslationId(n.gradingstatus):"",n}));return function(e){return n.apply(this,arguments)}}()));return{items:r}}))()}}},78645:(e,t,n)=>{n.r(t),n.d(t,{AddonModBookIndexComponent:()=>x});var o=n(10467),i=n(23063),r=n(79313),s=n(51024),a=n(44682),d=n(15324),l=n(55554),c=n(492),u=n(86654),m=n(30864),p=n(6736),g=n(54438),h=n(60177),f=n(2910),_=n(69502),C=n(17388),v=n(64422),I=n(13988),A=n(86198),y=n(58197),b=n(66731),M=n(43570),k=n(73955);function AddonModBookIndexComponent_Conditional_1_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"ion-button",6),g.nI1(1,"translate"),g.bIt("click",(function AddonModBookIndexComponent_Conditional_1_Template_ion_button_click_0_listener(){g.eBV(e);const t=g.XpG();return g.Njj(t.openModuleSummary())})),g.nrm(2,"ion-icon",7),g.k0s()}2&e&&g.Y8G("ariaLabel",g.bMT(1,1,"core.info"))}function AddonModBookIndexComponent_Conditional_2_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"core-context-menu")(1,"core-context-menu-item",8),g.nI1(2,"translate"),g.bIt("action",(function AddonModBookIndexComponent_Conditional_2_Template_core_context_menu_item_action_1_listener(){g.eBV(e);const t=g.XpG();return g.Njj(t.openModuleSummary())})),g.k0s()()}2&e&&(g.R7$(),g.Y8G("priority",5e3)("content",g.bMT(2,2,"core.info")))}function AddonModBookIndexComponent_ion_item_11_span_3_Template(e,t){if(1&e&&(g.j41(0,"span",13),g.EFF(1),g.k0s()),2&e){const e=g.XpG().$implicit;g.R7$(),g.SpI("",e.indexNumber," ")}}function AddonModBookIndexComponent_ion_item_11_span_4_Template(e,t){1&e&&(g.j41(0,"span",14),g.EFF(1,"• "),g.k0s())}function AddonModBookIndexComponent_ion_item_11_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"ion-item",9),g.bIt("click",(function AddonModBookIndexComponent_ion_item_11_Template_ion_item_click_0_listener(){const t=g.eBV(e).$implicit,n=g.XpG();return g.Njj(n.openBook(t.id))})),g.j41(1,"ion-label")(2,"p"),g.DNE(3,AddonModBookIndexComponent_ion_item_11_span_3_Template,2,1,"span",10)(4,AddonModBookIndexComponent_ion_item_11_span_4_Template,2,0,"span",11),g.nrm(5,"core-format-text",12),g.k0s()()()}if(2&e){const e=t.$implicit,n=g.XpG();g.AVh("item-dimmed",e.hidden),g.Y8G("detail",!0),g.R7$(2),g.AVh("ion-padding-start",!(!n.addPadding||1!==e.level)||null),g.R7$(),g.Y8G("ngIf",n.showNumbers),g.R7$(),g.Y8G("ngIf",n.showBullets),g.R7$(),g.Y8G("text",e.title)("contextInstanceId",n.module.id)("courseId",n.courseId)}}function AddonModBookIndexComponent_div_12_span_3_Template(e,t){1&e&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&e&&(g.R7$(),g.JRh(g.bMT(2,1,"core.start")))}function AddonModBookIndexComponent_div_12_span_4_Template(e,t){1&e&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&e&&(g.R7$(),g.JRh(g.bMT(2,1,"core.resume")))}function AddonModBookIndexComponent_div_12_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"div",15)(1,"div",16)(2,"ion-button",17),g.bIt("click",(function AddonModBookIndexComponent_div_12_Template_ion_button_click_2_listener(){g.eBV(e);const t=g.XpG();return g.Njj(t.openBook())})),g.DNE(3,AddonModBookIndexComponent_div_12_span_3_Template,3,3,"span",18)(4,AddonModBookIndexComponent_div_12_span_4_Template,3,3,"span",18),g.k0s()(),g.nrm(5,"core-course-module-navigation",19),g.k0s()}if(2&e){const e=g.XpG();g.R7$(3),g.Y8G("ngIf",!e.hasStartedBook),g.R7$(),g.Y8G("ngIf",e.hasStartedBook),g.R7$(),g.Y8G("courseId",e.courseId)("currentModuleId",e.module.id)}}let x=(()=>{var e;class AddonModBookIndexComponent extends i.x{constructor(e){super("AddonModBookIndexComponent",e),this.pluginName=c.Iu,this.showNumbers=!0,this.addPadding=!0,this.showBullets=!1,this.chapters=[],this.hasStartedBook=!1,this.checkCompletionAfterLog=!1}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,e=this;return(0,o.A)((function*(){_superprop_getNgOnInit().call(e),e.loadContent()}))()}fetchContent(){var e=this;return(0,o.A)((function*(){yield Promise.all([e.loadBook(),e.loadTOC()])}))()}invalidateContent(){var e=this;return(0,o.A)((function*(){yield r.A.invalidateContent(e.module.id,e.courseId)}))()}loadBook(){var e=this;return(0,o.A)((function*(){e.book=yield r.A.getBook(e.courseId,e.module.id),e.dataRetrieved.emit(e.book),e.description=e.book.intro,e.showNumbers=1==e.book.numbering,e.showBullets=2==e.book.numbering,e.addPadding=0!=e.book.numbering;const t=yield r.A.getLastChapterViewed(e.book.id);e.hasStartedBook=void 0!==t}))()}loadTOC(){var e=this;return(0,o.A)((function*(){const t=yield a.CoreCourse.getModuleContents(e.module,e.courseId);e.chapters=r.A.getTocList(t)}))()}logActivity(){var e=this;return(0,o.A)((function*(){yield l.g.ignoreErrors(r.A.logView(e.module.instance)),e.analyticsLogEvent("mod_book_view_book")}))()}openBook(e){var t=this;return(0,o.A)((function*(){yield d.CoreNavigator.navigateToSitePath(`${c._F}/${t.courseId}/${t.module.id}/contents`,{params:{chapterId:e}}),t.hasStartedBook=!0}))()}ngOnDestroy(){super.ngOnDestroy()}}return(e=AddonModBookIndexComponent).ɵfac=function AddonModBookIndexComponent_Factory(t){return new(t||e)(g.rXU(s.A,8))},e.ɵcmp=g.VBU({type:e,selectors:[["addon-mod-book-index"]],standalone:!0,features:[g.Vt3,g.aNF],decls:13,vars:12,consts:[["slot","end"],["fill","clear","aria-haspopup","true",3,"ariaLabel"],[3,"hideUntil"],[3,"completionChanged","module","description","component","componentId","courseId"],["class","ion-text-wrap","button","",3,"item-dimmed","detail","click",4,"ngFor","ngForOf"],["collapsible-footer","","appearOnBottom","","slot","fixed",4,"ngIf"],["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],["iconAction","fas-circle-info",3,"action","priority","content"],["button","",1,"ion-text-wrap",3,"click","detail"],["class","addon-mod-book-number",4,"ngIf"],["class","addon-mod-book-bullet",4,"ngIf"],["contextLevel","module",3,"text","contextInstanceId","courseId"],[1,"addon-mod-book-number"],[1,"addon-mod-book-bullet"],["collapsible-footer","","appearOnBottom","","slot","fixed"],[1,"list-item-limited-width"],["expand","block",1,"ion-margin","ion-text-wrap",3,"click"],[4,"ngIf"],[3,"courseId","currentModuleId"]],template:function AddonModBookIndexComponent_Template(e,t){1&e&&(g.j41(0,"core-navbar-buttons",0),g.DNE(1,AddonModBookIndexComponent_Conditional_1_Template,3,3,"ion-button",1)(2,AddonModBookIndexComponent_Conditional_2_Template,3,4),g.k0s(),g.j41(3,"core-loading",2)(4,"core-course-module-info",3),g.bIt("completionChanged",(function AddonModBookIndexComponent_Template_core_course_module_info_completionChanged_4_listener(){return t.onCompletionChange()})),g.k0s(),g.j41(5,"ion-list")(6,"ion-item")(7,"ion-label")(8,"h2"),g.EFF(9),g.nI1(10,"translate"),g.k0s()()(),g.DNE(11,AddonModBookIndexComponent_ion_item_11_Template,6,10,"ion-item",4),g.k0s(),g.DNE(12,AddonModBookIndexComponent_div_12_Template,6,4,"div",5),g.k0s()),2&e&&(g.R7$(),g.vxM(1,t.courseContentsPage?2:1),g.R7$(2),g.Y8G("hideUntil",!t.showLoading),g.R7$(),g.Y8G("module",t.module)("description",t.description)("component",t.component)("componentId",t.componentId)("courseId",t.courseId),g.R7$(5),g.JRh(g.bMT(10,10,"addon.mod_book.toc")),g.R7$(2),g.Y8G("ngForOf",t.chapters),g.R7$(),g.Y8G("ngIf",!t.showLoading))},dependencies:[u.n,h.Sq,h.bT,f.Jm,f.iq,f.uz,f.he,f.nf,_.B,C.Q,v.R,I.c,A.t,y.B,b.i,M.T,k.D9,p.CoreCourseModuleInfoComponent,m.CoreCourseModuleNavigationComponent],encapsulation:2}),AddonModBookIndexComponent})()},50638:(e,t,n)=>{n.d(t,{H:()=>d});var o=n(79555),i=n(94339),r=n(54438);const s=new RegExp(/^To\s([^:]+):(.*)/);let a=(()=>{var e;class AddonModChatHelperProvider{formatMessage(e,t,n){const i=t;if(i.message=i.message.trim(),i.showDate=this.showDate(t,n),i.beep="beep "==t.message.substring(0,5)&&t.message.substring(5).trim()||void 0,i.beep&&!isNaN(Number(i.beep))&&(i.beep=Number(i.beep)),i.special=!!i.beep||t.issystem||t.system,"/me "==i.message.substring(0,4)&&(i.special=!0,i.message=i.message.substring(4).trim()),!i.special&&i.message.match(s)){const e=i.message.match(s);i.message=`<em>\n                <strong>${o.HT.instant("addon.mod_chat.saidto")} </strong>\n                ${e[1]}</em>: ${e[2]}`}return i.showUserData=this.showUserData(e,t,n),n&&(n.showTail=this.showTail(n,t)),i}showUserData(e,t,n){return!(t.userid==e||n&&n.userid==t.userid&&!t.showDate&&!n.special)}showTail(e,t){return!t||t.userid!=e.userid||!!t.showDate||!!t.special}showDate(e,t){return!t||!(0,i.yf)(1e3*e.timestamp).isSame(1e3*t.timestamp,"day")}}return(e=AddonModChatHelperProvider).ɵfac=function AddonModChatHelperProvider_Factory(t){return new(t||e)},e.ɵprov=r.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModChatHelperProvider})();const d=(0,o.Qd)(a)},10093:(e,t,n)=>{n.d(t,{u:()=>a});var o=n(54438),i=n(89417),r=n(95209),s=n(91416);let a=(()=>{var e;class AddonModDataFieldPluginBaseComponent{constructor(e){this.fb=e,this.recordHasOffline=!1,this.gotoEntry=new o.bkB,this.onFieldInit=new o.bkB}addControl(e,t){if(this.form){var n;if(this.searchMode)this.form.addControl(e,this.fb.control((null===(n=this.searchFields)||void 0===n?void 0:n[e])||void 0));this.editMode&&this.form.addControl(e,this.fb.control(t,this.field.required?i.k0.required:null))}}ngOnInit(){this.init()}init(){}ngOnChanges(e){(this.showMode||this.listMode)&&e.value&&this.updateValue(e.value.currentValue)}updateValue(e){this.value=e}get listMode(){return this.mode==r.KP.LIST}get showMode(){return this.mode==r.KP.SHOW}get displayMode(){return this.listMode||this.showMode}get editMode(){return this.mode==r.KP.EDIT}get searchMode(){return this.mode==r.KP.SEARCH}get inputMode(){return this.searchMode||this.editMode}}return(e=AddonModDataFieldPluginBaseComponent).ɵfac=function AddonModDataFieldPluginBaseComponent_Factory(t){return new(t||e)(o.rXU(i.ok))},e.ɵcmp=o.VBU({type:e,selectors:[["ng-component"]],inputs:{mode:"mode",field:"field",value:"value",database:"database",error:"error",form:"form",searchFields:"searchFields",recordHasOffline:[o.Mj6.HasDecoratorInputTransform,"recordHasOffline","recordHasOffline",s.G]},outputs:{gotoEntry:"gotoEntry",onFieldInit:"onFieldInit"},features:[o.GFd,o.OA$],decls:0,vars:0,template:function AddonModDataFieldPluginBaseComponent_Template(e,t){},encapsulation:2}),AddonModDataFieldPluginBaseComponent})()},4856:(e,t,n)=>{n.d(t,{D:()=>AddonModFeedbackAttemptsSource});var o=n(10467),i=n(99522),r=n(15221),s=n(4593),a=n(2538),d=n(19634);class AddonModFeedbackAttemptsSource extends i.F{constructor(e,t){super(),this.COURSE_ID=e,this.CM_ID=t}getItemPath(e){return e.id.toString()}getItemQueryParams(){return{groupId:this.selectedGroup}}getPagesLoaded(){if(!this.identifiable||!this.anonymous)return 0;const e=this.getPageLength();return Math.ceil(Math.max(this.anonymous.length,this.identifiable.length)/e)}isIdentifiableAttempt(e){return"fullname"in e}isAnonymousAttempt(e){return"number"in e}invalidateCache(){var e=this;return(0,o.A)((function*(){yield Promise.all([r.CoreGroups.invalidateActivityGroupInfo(e.CM_ID),e.feedback&&s.o.invalidateResponsesAnalysisData(e.feedback.id)])}))()}loadFeedback(){var e=this;return(0,o.A)((function*(){e.feedback=yield s.o.getFeedback(e.COURSE_ID,e.CM_ID),e.groupInfo=yield r.CoreGroups.getActivityGroupInfo(e.CM_ID),e.selectedGroup=r.CoreGroups.validateGroupId(e.selectedGroup,e.groupInfo)}))()}getPageLength(){return d.Mw}loadPageItems(e){var t=this;return(0,o.A)((function*(){if(!t.feedback)throw new Error("Can't load attempts without feeback");const n=yield a._.getResponsesAnalysis(t.feedback.id,{page:e,groupId:t.selectedGroup,cmId:t.CM_ID});0===e&&(t.identifiableTotal=n.totalattempts,t.anonymousTotal=n.totalanonattempts);const o=t.getPageLength()*(e+1);return{items:[...0===e||n.totalattempts>d.Mw?n.attempts:[],...0===e||n.totalanonattempts>d.Mw?n.anonattempts:[]],hasMoreItems:n.totalattempts>o||n.totalanonattempts>o}}))()}setItems(e,t){this.identifiable=e.filter(this.isIdentifiableAttempt),this.anonymous=e.filter(this.isAnonymousAttempt),super.setItems(this.identifiable.concat(this.anonymous),t)}}},23835:(e,t,n)=>{n.r(t),n.d(t,{AddonModFolderIndexComponent:()=>R});var o=n(10467),i=n(23063),r=n(51024),s=n(44682),a=n(15324),d=n(91768),l=n(99577),c=n(79555),u=n(54438);let m=(()=>{var e;class AddonModFolderHelperProvider{formatContents(e){const t={type:"root",filename:"",filepath:"",folders:[],files:[]};return e.forEach((e=>{if("/"===e.filepath)return t.files.push(e),void 0;let n=t,o=e.filepath,i="";"/"===o.substring(0,1)&&(o=o.substring(1)),"/"===o.substring(o.length-1)&&(o=o.slice(0,-1));o.split("/").forEach((e=>{i=`${i}/${e}`;let t=n.folders.find((t=>t.filename===e));t||(t={type:"folder",filename:e,filepath:i,folders:[],files:[]},n.folders.push(t)),n=t})),n.files.push(e)})),t}}return(e=AddonModFolderHelperProvider).ɵfac=function AddonModFolderHelperProvider_Factory(t){return new(t||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModFolderHelperProvider})();const p=(0,c.Qd)(m);var g=n(55554),h=n(91793),f=n(30864),_=n(6736),C=n(86654),v=n(60177),I=n(2910),A=n(69502),y=n(17388),b=n(16986),M=n(6128),k=n(64422),x=n(13988),w=n(86198),S=n(66731),P=n(43570),T=n(73955);function AddonModFolderIndexComponent_Conditional_1_Conditional_0_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-button",7),u.nI1(1,"translate"),u.bIt("click",(function AddonModFolderIndexComponent_Conditional_1_Conditional_0_Template_ion_button_click_0_listener(){u.eBV(e);const t=u.XpG(2);return u.Njj(t.openModuleSummary())})),u.nrm(2,"ion-icon",8),u.k0s()}2&e&&u.Y8G("ariaLabel",u.bMT(1,1,"core.info"))}function AddonModFolderIndexComponent_Conditional_1_Conditional_1_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"core-context-menu")(1,"core-context-menu-item",9),u.nI1(2,"translate"),u.bIt("action",(function AddonModFolderIndexComponent_Conditional_1_Conditional_1_Template_core_context_menu_item_action_1_listener(){u.eBV(e);const t=u.XpG(2);return u.Njj(t.openModuleSummary())})),u.k0s()()}2&e&&(u.R7$(),u.Y8G("priority",5e3)("content",u.bMT(2,2,"core.info")))}function AddonModFolderIndexComponent_Conditional_1_Template(e,t){if(1&e&&u.DNE(0,AddonModFolderIndexComponent_Conditional_1_Conditional_0_Template,3,3,"ion-button",6)(1,AddonModFolderIndexComponent_Conditional_1_Conditional_1_Template,3,4),2&e){const e=u.XpG();u.vxM(0,e.courseContentsPage?1:0)}}function AddonModFolderIndexComponent_core_course_module_info_3_Template(e,t){if(1&e&&u.nrm(0,"core-course-module-info",10),2&e){const e=u.XpG();u.Y8G("module",e.module)("description",e.description)("component",e.component)("componentId",e.componentId)("courseId",e.courseId)}}function AddonModFolderIndexComponent_ion_list_4_ion_card_1_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"ion-card")(1,"ion-item",12),u.bIt("click",(function AddonModFolderIndexComponent_ion_list_4_ion_card_1_Template_ion_item_click_1_listener(){const t=u.eBV(e).$implicit,n=u.XpG(2);return u.Njj(n.openFolder(t))})),u.nrm(2,"ion-icon",13),u.nI1(3,"translate"),u.j41(4,"ion-label")(5,"p",14),u.EFF(6),u.k0s()()()()}if(2&e){const e=t.$implicit;u.R7$(),u.Y8G("detail",!0),u.R7$(),u.BMQ("aria-label",u.bMT(3,3,"core.folder")),u.R7$(4),u.JRh(e.filename)}}function AddonModFolderIndexComponent_ion_list_4_ng_container_2_Template(e,t){if(1&e&&(u.qex(0),u.nrm(1,"core-file",15),u.bVm()),2&e){const e=t.$implicit,n=u.XpG(2);u.R7$(),u.Y8G("file",e)("component",n.component)("componentId",n.componentId)}}function AddonModFolderIndexComponent_ion_list_4_Template(e,t){if(1&e&&(u.j41(0,"ion-list"),u.DNE(1,AddonModFolderIndexComponent_ion_list_4_ion_card_1_Template,7,5,"ion-card",11)(2,AddonModFolderIndexComponent_ion_list_4_ng_container_2_Template,2,3,"ng-container",11),u.k0s()),2&e){const e=u.XpG();u.R7$(),u.Y8G("ngForOf",e.contents.folders),u.R7$(),u.Y8G("ngForOf",e.contents.files)}}function AddonModFolderIndexComponent_core_empty_box_5_Template(e,t){1&e&&(u.nrm(0,"core-empty-box",16),u.nI1(1,"translate")),2&e&&u.Y8G("message",u.bMT(1,1,"addon.mod_folder.emptyfilelist"))}function AddonModFolderIndexComponent_core_course_module_navigation_6_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"core-course-module-navigation",17),u.bIt("completionChanged",(function AddonModFolderIndexComponent_core_course_module_navigation_6_Template_core_course_module_navigation_completionChanged_0_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.onCompletionChange())})),u.k0s()}if(2&e){const e=u.XpG();u.Y8G("hidden",e.showLoading)("courseId",e.courseId)("currentModuleId",e.module.id)}}let R=(()=>{var e;class AddonModFolderIndexComponent extends i.x{constructor(e){super("AddonModFolderIndexComponent",e),this.component=h.B9,this.pluginName="folder"}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,e=this;return(0,o.A)((function*(){if(_superprop_getNgOnInit().call(e),e.subfolder)return e.description=e.folderInstance?e.folderInstance.intro:e.module.description,e.contents=e.subfolder,e.sortFilesAndFolders(),e.showLoading=!1,void 0;try{yield e.loadContent()}finally{e.showLoading=!1}}))()}invalidateContent(){var e=this;return(0,o.A)((function*(){yield l.B.invalidateContent(e.module.id,e.courseId)}))()}fetchContent(e=!1){var t=this;return(0,o.A)((function*(){t.folderInstance=yield l.B.getFolder(t.courseId,t.module.id);const n=yield s.CoreCourse.getModuleContents(t.module,void 0,void 0,!1,e);t.dataRetrieved.emit(t.folderInstance||t.module),t.description=t.folderInstance?t.folderInstance.intro:t.module.description,t.contents=p.formatContents(n),t.sortFilesAndFolders()}))()}sortFilesAndFolders(){this.contents&&(this.contents.folders.sort(((e,t)=>{const n=e.filename.toLowerCase(),o=t.filename.toLowerCase();return n.localeCompare(o)})),this.contents.files.sort(((e,t)=>{const n=e.filename.toLowerCase(),o=t.filename.toLowerCase();return n.localeCompare(o)})))}logActivity(){var e=this;return(0,o.A)((function*(){yield g.g.ignoreErrors(l.B.logView(e.module.instance)),e.analyticsLogEvent("mod_folder_view_folder")}))()}openFolder(e){const t={module:this.module,folderInstance:this.folderInstance,subfolder:e},n=d.VV.hashAsciiStr(e.filepath);a.CoreNavigator.navigateToSitePath(`${h.F7}/${this.courseId}/${this.module.id}/${n}`,{params:t})}}return(e=AddonModFolderIndexComponent).ɵfac=function AddonModFolderIndexComponent_Factory(t){return new(t||e)(u.rXU(r.A,8))},e.ɵcmp=u.VBU({type:e,selectors:[["addon-mod-folder-index"]],inputs:{folderInstance:"folderInstance",subfolder:"subfolder"},standalone:!0,features:[u.Vt3,u.aNF],decls:7,vars:6,consts:[["slot","end"],[3,"hideUntil"],[3,"module","description","component","componentId","courseId",4,"ngIf"],[4,"ngIf"],["icon","far-folder-open",3,"message",4,"ngIf"],["collapsible-footer","","appearOnBottom","",3,"hidden","courseId","currentModuleId","completionChanged",4,"ngIf"],["fill","clear","aria-haspopup","true",3,"ariaLabel"],["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],["iconAction","fas-circle-info",3,"action","priority","content"],[3,"module","description","component","componentId","courseId"],[4,"ngFor","ngForOf"],["button","",1,"ion-text-wrap","item-file","item-directory",3,"click","detail"],["name","fas-folder","slot","start"],[1,"item-heading"],[3,"file","component","componentId"],["icon","far-folder-open",3,"message"],["collapsible-footer","","appearOnBottom","",3,"completionChanged","hidden","courseId","currentModuleId"]],template:function AddonModFolderIndexComponent_Template(e,t){1&e&&(u.j41(0,"core-navbar-buttons",0),u.DNE(1,AddonModFolderIndexComponent_Conditional_1_Template,2,1),u.k0s(),u.j41(2,"core-loading",1),u.DNE(3,AddonModFolderIndexComponent_core_course_module_info_3_Template,1,5,"core-course-module-info",2)(4,AddonModFolderIndexComponent_ion_list_4_Template,3,2,"ion-list",3)(5,AddonModFolderIndexComponent_core_empty_box_5_Template,2,3,"core-empty-box",4),u.k0s(),u.DNE(6,AddonModFolderIndexComponent_core_course_module_navigation_6_Template,1,3,"core-course-module-navigation",5)),2&e&&(u.R7$(),u.vxM(1,t.subfolder?-1:1),u.R7$(),u.Y8G("hideUntil",!t.showLoading),u.R7$(),u.Y8G("ngIf",!t.subfolder),u.R7$(),u.Y8G("ngIf",t.contents&&t.contents.files.length+t.contents.folders.length>0),u.R7$(),u.Y8G("ngIf",!t.contents||t.contents.files.length+t.contents.folders.length===0),u.R7$(),u.Y8G("ngIf",!t.subfolder))},dependencies:[C.n,v.Sq,v.bT,I.Jm,I.b_,I.iq,I.uz,I.he,I.nf,A.B,y.Q,b.h,M.t,k.R,x.c,w.t,S.i,P.T,T.D9,_.CoreCourseModuleInfoComponent,f.CoreCourseModuleNavigationComponent],encapsulation:2}),AddonModFolderIndexComponent})()},16450:(e,t,n)=>{n.d(t,{c:()=>AddonModForumDiscussionsSwipeManager});var o=n(52266);class AddonModForumDiscussionsSwipeManager extends o.Z{skipItemInSwipe(e){return this.getSource().isNewDiscussionForm(e)}}},7840:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(86654),i=n(54438),r=n(73955);function AddonModH5PActivityAttemptCompletionComponent_Conditional_0_Conditional_2_Template(e,t){1&e&&(i.EFF(0),i.nI1(1,"translate")),2&e&&i.SpI(" ",i.bMT(1,1,"addon.mod_h5pactivity.attempt_completion_yes")," ")}function AddonModH5PActivityAttemptCompletionComponent_Conditional_0_Template(e,t){if(1&e&&(i.nrm(0,"img",0),i.nI1(1,"translate"),i.DNE(2,AddonModH5PActivityAttemptCompletionComponent_Conditional_0_Conditional_2_Template,2,3)),2&e){const e=i.XpG();i.Y8G("alt",i.bMT(1,3,"addon.mod_h5pactivity.attempt_completion_yes")),i.BMQ("aria-hidden",e.showLabel),i.R7$(2),i.vxM(2,e.showLabel?2:-1)}}function AddonModH5PActivityAttemptCompletionComponent_Conditional_1_Conditional_2_Template(e,t){1&e&&(i.EFF(0),i.nI1(1,"translate")),2&e&&i.SpI(" ",i.bMT(1,1,"addon.mod_h5pactivity.attempt_completion_no")," ")}function AddonModH5PActivityAttemptCompletionComponent_Conditional_1_Template(e,t){if(1&e&&(i.nrm(0,"img",1),i.nI1(1,"translate"),i.DNE(2,AddonModH5PActivityAttemptCompletionComponent_Conditional_1_Conditional_2_Template,2,3)),2&e){const e=i.XpG();i.Y8G("alt",i.bMT(1,3,"addon.mod_h5pactivity.attempt_completion_no")),i.BMQ("aria-hidden",e.showLabel),i.R7$(2),i.vxM(2,e.showLabel?2:-1)}}let s=(()=>{var e;class AddonModH5PActivityAttemptCompletionComponent{constructor(){this.showLabel=!1}}return(e=AddonModH5PActivityAttemptCompletionComponent).ɵfac=function AddonModH5PActivityAttemptCompletionComponent_Factory(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["addon-mod-h5pactivity-attempt-completion"]],inputs:{attempt:"attempt",showLabel:"showLabel"},standalone:!0,features:[i.aNF],decls:2,vars:1,consts:[["src","assets/img/completion/completion-auto-y.svg",3,"alt"],["src","assets/img/completion/completion-auto-n.svg",3,"alt"]],template:function AddonModH5PActivityAttemptCompletionComponent_Template(e,t){1&e&&i.DNE(0,AddonModH5PActivityAttemptCompletionComponent_Conditional_0_Template,3,5)(1,AddonModH5PActivityAttemptCompletionComponent_Conditional_1_Template,3,5),2&e&&i.vxM(0,t.attempt.completion?0:1)},dependencies:[o.n,r.D9],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center;gap:.25em}"]}),AddonModH5PActivityAttemptCompletionComponent})()},29498:(e,t,n)=>{n.d(t,{y:()=>d});var o=n(86654),i=n(54438),r=n(2910),s=n(86198),a=n(73955);function AddonModH5PActivityAttemptSuccessComponent_Conditional_0_Template(e,t){1&e&&(i.j41(0,"span",0),i.EFF(1,"–"),i.k0s(),i.j41(2,"span",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()),2&e&&(i.R7$(3),i.JRh(i.bMT(4,1,"addon.mod_h5pactivity.attempt_success_unknown")))}function AddonModH5PActivityAttemptSuccessComponent_Conditional_1_Template(e,t){1&e&&(i.j41(0,"ion-badge",2),i.nrm(1,"ion-icon",3),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&e&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"addon.mod_h5pactivity.attempt_success_pass")," "))}function AddonModH5PActivityAttemptSuccessComponent_Conditional_2_Template(e,t){1&e&&(i.j41(0,"ion-badge",4),i.nrm(1,"ion-icon",5),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&e&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"addon.mod_h5pactivity.attempt_success_fail")," "))}let d=(()=>{var e;class AddonModH5PActivityAttemptSuccessComponent{}return(e=AddonModH5PActivityAttemptSuccessComponent).ɵfac=function AddonModH5PActivityAttemptSuccessComponent_Factory(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["addon-mod-h5pactivity-attempt-success"]],inputs:{attempt:"attempt"},standalone:!0,features:[i.aNF],decls:3,vars:1,consts:[["aria-hidden","true"],[1,"sr-only"],["color","success"],["name","fas-check","aria-hidden","true"],["color","danger"],["name","fas-xmark","aria-hidden","true"]],template:function AddonModH5PActivityAttemptSuccessComponent_Template(e,t){1&e&&i.DNE(0,AddonModH5PActivityAttemptSuccessComponent_Conditional_0_Template,5,3)(1,AddonModH5PActivityAttemptSuccessComponent_Conditional_1_Template,4,3)(2,AddonModH5PActivityAttemptSuccessComponent_Conditional_2_Template,4,3),2&e&&i.vxM(0,null===t.attempt.success?0:t.attempt.success?1:2)},dependencies:[o.n,r.In,r.iq,s.t,a.D9],styles:["[_nghost-%COMP%]{display:contents}[_nghost-%COMP%]   ion-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25em}"]}),AddonModH5PActivityAttemptSuccessComponent})()},73870:(e,t,n)=>{n.d(t,{b:()=>l});var o=n(86654),i=n(7840),r=n(29498),s=n(54438),a=n(73955),d=n(59528);const _c0=e=>({$a:e});let l=(()=>{var e;class AddonModH5PActivityAttemptSummaryComponent{}return(e=AddonModH5PActivityAttemptSummaryComponent).ɵfac=function AddonModH5PActivityAttemptSummaryComponent_Factory(t){return new(t||e)},e.ɵcmp=s.VBU({type:e,selectors:[["addon-mod-h5pactivity-attempt-summary"]],inputs:{attempt:"attempt"},standalone:!0,features:[s.aNF],decls:33,vars:29,consts:[["role","list"],["role","listitem"],[3,"attempt","showLabel"],[3,"attempt"]],template:function AddonModH5PActivityAttemptSummaryComponent_Template(e,t){1&e&&(s.j41(0,"div",0)(1,"div",1)(2,"h5"),s.EFF(3),s.nI1(4,"translate"),s.k0s(),s.j41(5,"p"),s.EFF(6),s.nI1(7,"coreFormatDate"),s.k0s()(),s.j41(8,"div",1)(9,"h5"),s.EFF(10),s.nI1(11,"translate"),s.k0s(),s.j41(12,"p"),s.EFF(13),s.nI1(14,"translate"),s.k0s()(),s.j41(15,"div",1)(16,"h5"),s.EFF(17),s.nI1(18,"translate"),s.k0s(),s.j41(19,"p"),s.EFF(20),s.k0s()(),s.j41(21,"div",1)(22,"h5"),s.EFF(23),s.nI1(24,"translate"),s.k0s(),s.j41(25,"p"),s.nrm(26,"addon-mod-h5pactivity-attempt-completion",2),s.k0s()(),s.j41(27,"div",1)(28,"h5"),s.EFF(29),s.nI1(30,"translate"),s.k0s(),s.j41(31,"p"),s.nrm(32,"addon-mod-h5pactivity-attempt-success",3),s.k0s()()()),2&e&&(s.R7$(3),s.JRh(s.bMT(4,11,"addon.mod_h5pactivity.startdate")),s.R7$(3),s.JRh(s.i5U(7,13,t.attempt.timemodified,"strftimedaydatetime")),s.R7$(4),s.JRh(s.bMT(11,16,"addon.mod_h5pactivity.score")),s.R7$(3),s.JRh(s.i5U(14,18,"addon.mod_h5pactivity.score_out_of",s.eq3(27,_c0,t.attempt))),s.R7$(4),s.JRh(s.bMT(18,21,"addon.mod_h5pactivity.duration")),s.R7$(3),s.JRh(t.attempt.durationReadable),s.R7$(3),s.JRh(s.bMT(24,23,"addon.mod_h5pactivity.completion")),s.R7$(3),s.Y8G("attempt",t.attempt)("showLabel",!0),s.R7$(3),s.JRh(s.bMT(30,25,"core.success")),s.R7$(3),s.Y8G("attempt",t.attempt))},dependencies:[o.n,a.D9,d.f,i.Z,r.y],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   [role=listitem][_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:var(--mdl-typography-body-fontSize-md);font-weight:500;color:var(--gray-700)}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:0}"]}),AddonModH5PActivityAttemptSummaryComponent})()},14110:(e,t,n)=>{n.r(t),n.d(t,{AddonModImscpIndexComponent:()=>k});var o=n(10467),i=n(23063),r=n(51024),s=n(44682),a=n(15324),d=n(99201),l=n(55554),c=n(62925),u=n(30864),m=n(6736),p=n(86654),g=n(54438),h=n(60177),f=n(2910),_=n(69502),C=n(17388),v=n(64422),I=n(13988),A=n(86198),y=n(66731),b=n(43570),M=n(73955);function AddonModImscpIndexComponent_Conditional_1_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"ion-button",6),g.nI1(1,"translate"),g.bIt("click",(function AddonModImscpIndexComponent_Conditional_1_Template_ion_button_click_0_listener(){g.eBV(e);const t=g.XpG();return g.Njj(t.openModuleSummary())})),g.nrm(2,"ion-icon",7),g.k0s()}2&e&&g.Y8G("ariaLabel",g.bMT(1,1,"core.info"))}function AddonModImscpIndexComponent_Conditional_2_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"core-context-menu")(1,"core-context-menu-item",8),g.nI1(2,"translate"),g.bIt("action",(function AddonModImscpIndexComponent_Conditional_2_Template_core_context_menu_item_action_1_listener(){g.eBV(e);const t=g.XpG();return g.Njj(t.openModuleSummary())})),g.k0s()()}2&e&&(g.R7$(),g.Y8G("priority",5e3)("content",g.bMT(2,2,"core.info")))}function AddonModImscpIndexComponent_ion_item_11_span_3_Template(e,t){1&e&&g.nrm(0,"span",11)}function AddonModImscpIndexComponent_ion_item_11_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"ion-item",9),g.bIt("click",(function AddonModImscpIndexComponent_ion_item_11_Template_ion_item_click_0_listener(){const t=g.eBV(e).$implicit,n=g.XpG();return g.Njj(n.openImscp(t.href))})),g.j41(1,"ion-label")(2,"p"),g.DNE(3,AddonModImscpIndexComponent_ion_item_11_span_3_Template,1,0,"span",10),g.EFF(4),g.k0s()()()}if(2&e){const e=t.$implicit,n=g.XpG();g.Y8G("detail",!0),g.R7$(),g.AVh("core-bold",!e.href),g.R7$(2),g.Y8G("ngForOf",n.getNumberForPadding(e.level)),g.R7$(),g.SpI(" ",e.title," ")}}function AddonModImscpIndexComponent_div_12_span_3_Template(e,t){1&e&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&e&&(g.R7$(),g.JRh(g.bMT(2,1,"core.start")))}function AddonModImscpIndexComponent_div_12_span_4_Template(e,t){1&e&&(g.j41(0,"span"),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&e&&(g.R7$(),g.JRh(g.bMT(2,1,"core.resume")))}function AddonModImscpIndexComponent_div_12_Template(e,t){if(1&e){const e=g.RV6();g.j41(0,"div",12)(1,"div",13)(2,"ion-button",14),g.bIt("click",(function AddonModImscpIndexComponent_div_12_Template_ion_button_click_2_listener(){g.eBV(e);const t=g.XpG();return g.Njj(t.openImscp())})),g.DNE(3,AddonModImscpIndexComponent_div_12_span_3_Template,3,3,"span",15)(4,AddonModImscpIndexComponent_div_12_span_4_Template,3,3,"span",15),g.k0s()(),g.nrm(5,"core-course-module-navigation",16),g.k0s()}if(2&e){const e=g.XpG();g.R7$(3),g.Y8G("ngIf",!e.hasStarted),g.R7$(),g.Y8G("ngIf",e.hasStarted),g.R7$(),g.Y8G("courseId",e.courseId)("currentModuleId",e.module.id)}}let k=(()=>{var e;class AddonModImscpIndexComponent extends i.x{constructor(e){super("AddonModImscpIndexComponent",e),this.component=c.VI,this.pluginName="imscp",this.items=[],this.hasStarted=!1}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,e=this;return(0,o.A)((function*(){_superprop_getNgOnInit().call(e),yield e.loadContent()}))()}invalidateContent(){var e=this;return(0,o.A)((function*(){yield d.x.invalidateContent(e.module.id,e.courseId)}))()}fetchContent(){var e=this;return(0,o.A)((function*(){yield Promise.all([e.loadImscp(),e.loadTOC()])}))()}loadImscp(){var e=this;return(0,o.A)((function*(){const t=yield d.x.getImscp(e.courseId,e.module.id);e.dataRetrieved.emit(t),e.dataRetrieved.emit(t),e.description=t.intro;const n=yield d.x.getLastItemViewed(t.id);e.hasStarted=void 0!==n}))()}loadTOC(){var e=this;return(0,o.A)((function*(){const t=yield s.CoreCourse.getModuleContents(e.module,e.courseId);e.items=d.x.createItemList(t)}))()}logActivity(){var e=this;return(0,o.A)((function*(){yield l.g.ignoreErrors(d.x.logView(e.module.instance)),e.analyticsLogEvent("mod_imscp_view_imscp")}))()}openImscp(e){var t=this;return(0,o.A)((function*(){yield a.CoreNavigator.navigateToSitePath(`${c.f9}/${t.courseId}/${t.module.id}/view`,{params:{cmId:t.module.id,courseId:t.courseId,initialHref:e}}),t.hasStarted=!0}))()}getNumberForPadding(e){return new Array(e)}}return(e=AddonModImscpIndexComponent).ɵfac=function AddonModImscpIndexComponent_Factory(t){return new(t||e)(g.rXU(r.A,8))},e.ɵcmp=g.VBU({type:e,selectors:[["addon-mod-imscp-index"]],standalone:!0,features:[g.Vt3,g.aNF],decls:13,vars:12,consts:[["slot","end"],["fill","clear","aria-haspopup","true",3,"ariaLabel"],[3,"hideUntil"],[3,"completionChanged","module","description","component","componentId","courseId"],["class","ion-text-wrap","button","",3,"detail","click",4,"ngFor","ngForOf"],["collapsible-footer","","appearOnBottom","","slot","fixed",4,"ngIf"],["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],["iconAction","fas-circle-info",3,"action","priority","content"],["button","",1,"ion-text-wrap",3,"click","detail"],["class","ion-padding-start",4,"ngFor","ngForOf"],[1,"ion-padding-start"],["collapsible-footer","","appearOnBottom","","slot","fixed"],[1,"list-item-limited-width"],["expand","block",1,"ion-margin","ion-text-wrap",3,"click"],[4,"ngIf"],[3,"courseId","currentModuleId"]],template:function AddonModImscpIndexComponent_Template(e,t){1&e&&(g.j41(0,"core-navbar-buttons",0),g.DNE(1,AddonModImscpIndexComponent_Conditional_1_Template,3,3,"ion-button",1)(2,AddonModImscpIndexComponent_Conditional_2_Template,3,4),g.k0s(),g.j41(3,"core-loading",2)(4,"core-course-module-info",3),g.bIt("completionChanged",(function AddonModImscpIndexComponent_Template_core_course_module_info_completionChanged_4_listener(){return t.onCompletionChange()})),g.k0s(),g.j41(5,"ion-list")(6,"ion-item")(7,"ion-label")(8,"h2"),g.EFF(9),g.nI1(10,"translate"),g.k0s()()(),g.DNE(11,AddonModImscpIndexComponent_ion_item_11_Template,5,5,"ion-item",4),g.k0s(),g.DNE(12,AddonModImscpIndexComponent_div_12_Template,6,4,"div",5),g.k0s()),2&e&&(g.R7$(),g.vxM(1,t.courseContentsPage?2:1),g.R7$(2),g.Y8G("hideUntil",!t.showLoading),g.R7$(),g.Y8G("module",t.module)("description",t.description)("component",t.component)("componentId",t.componentId)("courseId",t.courseId),g.R7$(5),g.JRh(g.bMT(10,10,"addon.mod_imscp.toc")),g.R7$(2),g.Y8G("ngForOf",t.items),g.R7$(),g.Y8G("ngIf",!t.showLoading))},dependencies:[p.n,h.Sq,h.bT,f.Jm,f.iq,f.uz,f.he,f.nf,_.B,C.Q,v.R,I.c,A.t,y.i,b.T,M.D9,m.CoreCourseModuleInfoComponent,u.CoreCourseModuleNavigationComponent],styles:[".addon-mod-imscp-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}core-iframe[_ngcontent-%COMP%]{flex-basis:100%}"]}),AddonModImscpIndexComponent})()},49983:(e,t,n)=>{n.r(t),n.d(t,{AddonModLtiIndexComponent:()=>b});var o=n(10467),i=n(69006),r=n(51024),s=n(52391),a=n(84048),d=n(50978),l=n(30864),c=n(6736),u=n(86654),m=n(54438),p=n(2910),g=n(60177),h=n(69502),f=n(17388),_=n(64422),C=n(13988),v=n(86198),I=n(66731),A=n(43570),y=n(73955);function AddonModLtiIndexComponent_Conditional_1_Template(e,t){if(1&e){const e=m.RV6();m.j41(0,"ion-button",5),m.nI1(1,"translate"),m.bIt("click",(function AddonModLtiIndexComponent_Conditional_1_Template_ion_button_click_0_listener(){m.eBV(e);const t=m.XpG();return m.Njj(t.openModuleSummary())})),m.nrm(2,"ion-icon",6),m.k0s()}2&e&&m.Y8G("ariaLabel",m.bMT(1,1,"core.info"))}function AddonModLtiIndexComponent_Conditional_2_Template(e,t){if(1&e){const e=m.RV6();m.j41(0,"core-context-menu")(1,"core-context-menu-item",7),m.nI1(2,"translate"),m.bIt("action",(function AddonModLtiIndexComponent_Conditional_2_Template_core_context_menu_item_action_1_listener(){m.eBV(e);const t=m.XpG();return m.Njj(t.openModuleSummary())})),m.k0s()()}2&e&&(m.R7$(),m.Y8G("priority",5e3)("content",m.bMT(2,2,"core.info")))}function AddonModLtiIndexComponent_div_5_Template(e,t){if(1&e){const e=m.RV6();m.j41(0,"div",8)(1,"div",9)(2,"ion-button",10),m.bIt("click",(function AddonModLtiIndexComponent_div_5_Template_ion_button_click_2_listener(){m.eBV(e);const t=m.XpG();return m.Njj(t.launch())})),m.EFF(3),m.nI1(4,"translate"),m.nrm(5,"ion-icon",11),m.k0s()(),m.nrm(6,"core-course-module-navigation",12),m.k0s()}if(2&e){const e=m.XpG();m.R7$(3),m.SpI(" ",m.bMT(4,3,"addon.mod_lti.launchactivity")," "),m.R7$(3),m.Y8G("courseId",e.courseId)("currentModuleId",e.module.id)}}let b=(()=>{var e;class AddonModLtiIndexComponent extends i.y{constructor(e,t){super("AddonModLtiIndexComponent",e,t),this.content=e,this.component=d.qe,this.pluginName="lti",this.displayDescription=!1,this.fetchContentDefaultError="addon.mod_lti.errorgetlti"}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,e=this;return(0,o.A)((function*(){_superprop_getNgOnInit().call(e),e.loadContent()}))()}fetchContent(){var e=this;return(0,o.A)((function*(){e.lti=yield s.u.getLti(e.courseId,e.module.id),e.description=e.lti.intro,e.displayDescription=e.lti&&!!e.lti.showdescriptionlaunch,e.dataRetrieved.emit(e.lti)}))()}invalidateContent(){var e=this;return(0,o.A)((function*(){const t=[];t.push(s.u.invalidateLti(e.courseId)),e.lti&&t.push(s.u.invalidateLtiLaunchData(e.lti.id)),yield Promise.all(t)}))()}launch(){a.c.getDataAndLaunch(this.courseId,this.module,this.lti)}}return(e=AddonModLtiIndexComponent).ɵfac=function AddonModLtiIndexComponent_Factory(t){return new(t||e)(m.rXU(p.W9),m.rXU(r.A,8))},e.ɵcmp=m.VBU({type:e,selectors:[["addon-mod-lti-index"]],standalone:!0,features:[m.Vt3,m.aNF],decls:6,vars:8,consts:[["slot","end"],["fill","clear","aria-haspopup","true",3,"ariaLabel"],[3,"hideUntil"],[3,"completionChanged","module","description","component","componentId","courseId"],["collapsible-footer","","slot","fixed",4,"ngIf"],["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],["iconAction","fas-circle-info",3,"action","priority","content"],["collapsible-footer","","slot","fixed"],[1,"list-item-limited-width"],["expand","block",1,"ion-margin","ion-text-wrap",3,"click"],["name","fas-up-right-from-square","slot","end","aria-hidden","true"],[3,"courseId","currentModuleId"]],template:function AddonModLtiIndexComponent_Template(e,t){1&e&&(m.j41(0,"core-navbar-buttons",0),m.DNE(1,AddonModLtiIndexComponent_Conditional_1_Template,3,3,"ion-button",1)(2,AddonModLtiIndexComponent_Conditional_2_Template,3,4),m.k0s(),m.j41(3,"core-loading",2)(4,"core-course-module-info",3),m.bIt("completionChanged",(function AddonModLtiIndexComponent_Template_core_course_module_info_completionChanged_4_listener(){return t.onCompletionChange()})),m.k0s(),m.DNE(5,AddonModLtiIndexComponent_div_5_Template,7,5,"div",4),m.k0s()),2&e&&(m.R7$(),m.vxM(1,t.courseContentsPage?2:1),m.R7$(2),m.Y8G("hideUntil",!t.showLoading),m.R7$(),m.Y8G("module",t.module)("description",t.displayDescription&&t.description)("component",t.component)("componentId",t.componentId)("courseId",t.courseId),m.R7$(),m.Y8G("ngIf",!t.showLoading))},dependencies:[u.n,g.bT,p.Jm,p.iq,h.B,f.Q,_.R,C.c,v.t,I.i,A.T,y.D9,c.CoreCourseModuleInfoComponent,l.CoreCourseModuleNavigationComponent],encapsulation:2}),AddonModLtiIndexComponent})()},54164:(e,t,n)=>{n.r(t),n.d(t,{AddonModPageIndexComponent:()=>L});var o=n(10467),i=n(23063),r=n(51024),s=n(75383),a=n(81690),d=n(91921),l=n(75629),c=n(8014),u=n(52749),m=n(88793),p=n(99121),g=n(82907),h=n(79555),f=n(35794),_=n(54438);let C=(()=>{var e;class AddonModPageHelperProvider{getPageHtml(e,t){var n=this;return(0,o.A)((function*(){let o;const i={};if(e.forEach((e=>{if(n.isMainPage(e))o=e;else{let t=e.filename;"/"!==e.filepath&&(t=e.filepath.substring(1)+t),i[c.F.decodeURIComponent(t)]=e.fileurl}})),!o)throw new l.CoreError("Could not locate the index page");const r=yield m.CoreFilepool.downloadUrl(u.CoreSites.getCurrentSiteId(),o.fileurl,!1,f.C7,t,o.timemodified),s=yield p.CoreWS.getText(r);return g.y.restoreSourcesInHtml(s,i)}))()}isMainPage(e){const t=e.filename||"",n=e.fileurl||"",o="/mod_page/content/index.html",i=encodeURIComponent(o);return"index.html"===t&&(n.indexOf(o)>0||n.indexOf(i)>0)}}return(e=AddonModPageHelperProvider).ɵfac=function AddonModPageHelperProvider_Factory(t){return new(t||e)},e.ɵprov=_.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonModPageHelperProvider})();const v=(0,h.Qd)(C);var I=n(55554),A=n(30864),y=n(6736),b=n(86654),M=n(60177),k=n(2910),x=n(69502),w=n(17388),S=n(64422),P=n(13988),T=n(86198),R=n(58197),E=n(66731),D=n(43570),F=n(61307),B=n(73955),G=n(59528);function AddonModPageIndexComponent_Conditional_1_Template(e,t){if(1&e){const e=_.RV6();_.j41(0,"ion-button",8),_.nI1(1,"translate"),_.bIt("click",(function AddonModPageIndexComponent_Conditional_1_Template_ion_button_click_0_listener(){_.eBV(e);const t=_.XpG();return _.Njj(t.openModuleSummary())})),_.nrm(2,"ion-icon",9),_.k0s()}2&e&&_.Y8G("ariaLabel",_.bMT(1,1,"core.info"))}function AddonModPageIndexComponent_Conditional_2_Template(e,t){if(1&e){const e=_.RV6();_.j41(0,"core-context-menu")(1,"core-context-menu-item",10),_.nI1(2,"translate"),_.bIt("action",(function AddonModPageIndexComponent_Conditional_2_Template_core_context_menu_item_action_1_listener(){_.eBV(e);const t=_.XpG();return _.Njj(t.openModuleSummary())})),_.k0s()()}2&e&&(_.R7$(),_.Y8G("priority",5e3)("content",_.bMT(2,2,"core.info")))}function AddonModPageIndexComponent_p_7_Template(e,t){if(1&e&&(_.j41(0,"p",11),_.EFF(1),_.nI1(2,"translate"),_.nI1(3,"coreFormatDate"),_.k0s()),2&e){const e=_.XpG();_.R7$(),_.Lme(" ",_.bMT(2,2,"core.lastmodified"),": ",_.bMT(3,4,1e3*e.timemodified)," ")}}let L=(()=>{var e;class AddonModPageIndexComponent extends i.x{constructor(e){super("AddonModPageIndexComponent",e),this.component=f.C7,this.pluginName="page",this.displayDescription=!1,this.displayTimemodified=!0,this.fetchContentDefaultError="addon.mod_page.errorwhileloadingthepage"}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,e=this;return(0,o.A)((function*(){_superprop_getNgOnInit().call(e),yield e.loadContent()}))()}invalidateContent(){var e=this;return(0,o.A)((function*(){yield d._.invalidateContent(e.module.id,e.courseId)}))()}fetchContent(e){var t=this;return(0,o.A)((function*(){const[n]=yield Promise.all([t.getModuleContents(e),t.loadPageData()]);t.contents=yield v.getPageHtml(n,t.module.id)}))()}loadPageData(){var e=this;return(0,o.A)((function*(){if(e.page=yield d._.getPageData(e.courseId,e.module.id),e.description=e.page.intro,e.dataRetrieved.emit(e.page),e.page.displayoptions){const t=s.Ni.unserialize(e.page.displayoptions)||{};e.displayDescription=void 0===t.printintro||a.j.isTrueOrOne(t.printintro),e.displayTimemodified=void 0===t.printlastmodified||a.j.isTrueOrOne(t.printlastmodified)}else e.displayDescription=!0,e.displayTimemodified=!0;e.timemodified="timemodified"in e.page?e.page.timemodified:void 0}))()}logActivity(){var e=this;return(0,o.A)((function*(){yield I.g.ignoreErrors(d._.logView(e.module.instance)),e.analyticsLogEvent("mod_page_view_page")}))()}}return(e=AddonModPageIndexComponent).ɵfac=function AddonModPageIndexComponent_Factory(t){return new(t||e)(_.rXU(r.A,8))},e.ɵcmp=_.VBU({type:e,selectors:[["addon-mod-page-index"]],standalone:!0,features:[_.Vt3,_.aNF],decls:9,vars:16,consts:[["slot","end"],["fill","clear","aria-haspopup","true",3,"ariaLabel"],[3,"hideUntil"],[3,"completionChanged","module","description","component","componentId","courseId"],["core-reading-mode","",1,"ion-padding"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","courseId"],["class","ion-padding-bottom addon-mod_page-timemodified",4,"ngIf"],["collapsible-footer","","appearOnBottom","",3,"hidden","courseId","currentModuleId"],["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],["iconAction","fas-circle-info",3,"action","priority","content"],[1,"ion-padding-bottom","addon-mod_page-timemodified"]],template:function AddonModPageIndexComponent_Template(e,t){1&e&&(_.j41(0,"core-navbar-buttons",0),_.DNE(1,AddonModPageIndexComponent_Conditional_1_Template,3,3,"ion-button",1)(2,AddonModPageIndexComponent_Conditional_2_Template,3,4),_.k0s(),_.j41(3,"core-loading",2)(4,"core-course-module-info",3),_.bIt("completionChanged",(function AddonModPageIndexComponent_Template_core_course_module_info_completionChanged_4_listener(){return t.onCompletionChange()})),_.k0s(),_.j41(5,"div",4),_.nrm(6,"core-format-text",5),_.DNE(7,AddonModPageIndexComponent_p_7_Template,4,6,"p",6),_.k0s()(),_.nrm(8,"core-course-module-navigation",7)),2&e&&(_.R7$(),_.vxM(1,t.courseContentsPage?2:1),_.R7$(2),_.Y8G("hideUntil",!t.showLoading),_.R7$(),_.Y8G("module",t.module)("description",t.displayDescription&&t.description)("component",t.component)("componentId",t.componentId)("courseId",t.courseId),_.R7$(2),_.Y8G("component",t.component)("componentId",t.componentId)("text",t.contents)("contextInstanceId",t.module.id)("courseId",t.courseId),_.R7$(),_.Y8G("ngIf",t.displayTimemodified&&t.timemodified),_.R7$(),_.Y8G("hidden",t.showLoading)("courseId",t.courseId)("currentModuleId",t.module.id))},dependencies:[b.n,M.bT,k.Jm,k.iq,x.B,w.Q,S.R,P.c,T.t,R.B,E.i,D.T,F.O,B.D9,G.f,y.CoreCourseModuleInfoComponent,A.CoreCourseModuleNavigationComponent],encapsulation:2}),AddonModPageIndexComponent})()},14561:(e,t,n)=>{n.r(t),n.d(t,{AddonModUrlIndexComponent:()=>P});var o=n(10467),i=n(75629),r=n(23063),s=n(51024),a=n(44682),d=n(12364),l=n(75383),c=n(73235),u=n(16260),m=n(27392),p=n(52749),g=n(30864),h=n(6736),f=n(86654),_=n(54438),C=n(60177),v=n(2910),I=n(69502),A=n(17388),y=n(7476),b=n(64422),M=n(13988),k=n(86198),x=n(66731),w=n(43570),S=n(73955);function AddonModUrlIndexComponent_Conditional_1_Template(e,t){if(1&e){const e=_.RV6();_.j41(0,"ion-button",7),_.nI1(1,"translate"),_.bIt("click",(function AddonModUrlIndexComponent_Conditional_1_Template_ion_button_click_0_listener(){_.eBV(e);const t=_.XpG();return _.Njj(t.openModuleSummary())})),_.nrm(2,"ion-icon",8),_.k0s()}2&e&&_.Y8G("ariaLabel",_.bMT(1,1,"core.info"))}function AddonModUrlIndexComponent_Conditional_2_Template(e,t){if(1&e){const e=_.RV6();_.j41(0,"core-context-menu")(1,"core-context-menu-item",9),_.nI1(2,"translate"),_.bIt("action",(function AddonModUrlIndexComponent_Conditional_2_Template_core_context_menu_item_action_1_listener(){_.eBV(e);const t=_.XpG();return _.Njj(t.openModuleSummary())})),_.k0s()()}2&e&&(_.R7$(),_.Y8G("priority",5e3)("content",_.bMT(2,2,"core.info")))}function AddonModUrlIndexComponent_div_5_Template(e,t){if(1&e&&(_.j41(0,"div",10),_.nrm(1,"core-iframe",11),_.k0s()),2&e){const e=_.XpG();_.R7$(),_.Y8G("src",e.url)}}function AddonModUrlIndexComponent_ion_list_6_ion_item_1_img_2_Template(e,t){if(1&e&&_.nrm(0,"img",17),2&e){const e=_.XpG(3);_.Y8G("alt",e.name)("src",e.embeddedUrl,_.B4B)}}function AddonModUrlIndexComponent_ion_list_6_ion_item_1_video_3_Template(e,t){if(1&e&&(_.j41(0,"video",18),_.nrm(1,"source",19),_.k0s()),2&e){const e=_.XpG(3);_.Y8G("title",e.name),_.R7$(),_.Y8G("src",e.embeddedUrl,_.B4B)("type",e.mimetype)}}function AddonModUrlIndexComponent_ion_list_6_ion_item_1_audio_4_Template(e,t){if(1&e&&(_.j41(0,"audio",20),_.nrm(1,"source",19),_.k0s()),2&e){const e=_.XpG(3);_.Y8G("title",e.name),_.R7$(),_.Y8G("src",e.embeddedUrl,_.B4B)("type",e.mimetype)}}function AddonModUrlIndexComponent_ion_list_6_ion_item_1_Template(e,t){if(1&e&&(_.j41(0,"ion-item")(1,"ion-label"),_.DNE(2,AddonModUrlIndexComponent_ion_list_6_ion_item_1_img_2_Template,1,2,"img",14)(3,AddonModUrlIndexComponent_ion_list_6_ion_item_1_video_3_Template,2,3,"video",15)(4,AddonModUrlIndexComponent_ion_list_6_ion_item_1_audio_4_Template,2,3,"audio",16),_.k0s()()),2&e){const e=_.XpG(2);_.R7$(2),_.Y8G("ngIf",e.isImage),_.R7$(),_.Y8G("ngIf",e.isVideo),_.R7$(),_.Y8G("ngIf",e.isAudio)}}function AddonModUrlIndexComponent_ion_list_6_Template(e,t){if(1&e&&(_.j41(0,"ion-list"),_.DNE(1,AddonModUrlIndexComponent_ion_list_6_ion_item_1_Template,5,3,"ion-item",5),_.j41(2,"ion-item",12)(3,"ion-label")(4,"p",13),_.EFF(5),_.nI1(6,"translate"),_.k0s(),_.j41(7,"p"),_.EFF(8),_.k0s()()()()),2&e){const e=_.XpG();_.R7$(),_.Y8G("ngIf",e.shouldEmbed),_.R7$(4),_.JRh(_.bMT(6,3,"addon.mod_url.pointingtourl")),_.R7$(3),_.JRh(e.url)}}function AddonModUrlIndexComponent_div_7_div_1_Template(e,t){if(1&e){const e=_.RV6();_.j41(0,"div",24)(1,"ion-button",25),_.bIt("click",(function AddonModUrlIndexComponent_div_7_div_1_Template_ion_button_click_1_listener(){_.eBV(e);const t=_.XpG(2);return _.Njj(t.go())})),_.nrm(2,"ion-icon",26),_.EFF(3),_.nI1(4,"translate"),_.k0s()()}2&e&&(_.R7$(3),_.SpI(" ",_.bMT(4,1,"addon.mod_url.accessurl")," "))}function AddonModUrlIndexComponent_div_7_Template(e,t){if(1&e&&(_.j41(0,"div",21),_.DNE(1,AddonModUrlIndexComponent_div_7_div_1_Template,5,3,"div",22),_.nrm(2,"core-course-module-navigation",23),_.k0s()),2&e){const e=_.XpG();_.R7$(),_.Y8G("ngIf",e.url&&!e.shouldIframe&&(!e.shouldEmbed||!e.isOther)),_.R7$(),_.Y8G("courseId",e.courseId)("currentModuleId",e.module.id)}}let P=(()=>{var e;class AddonModUrlIndexComponent extends r.x{constructor(e){super("AddonModUrlIndexComponent",e),this.component=m.mb,this.pluginName="url",this.shouldEmbed=!1,this.shouldIframe=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this.isOther=!1,this.displayDescription=!0,this.checkCompletionAfterLog=!1}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,e=this;return(0,o.A)((function*(){_superprop_getNgOnInit().call(e),yield e.loadContent()}))()}invalidateContent(){var e=this;return(0,o.A)((function*(){yield c.k.invalidateContent(e.module.id,e.courseId)}))()}fetchContent(e=!1){var t=this;return(0,o.A)((function*(){try{const n=yield c.k.getUrl(t.courseId,t.module.id);if(t.name=n.name,t.description=n.intro,t.dataRetrieved.emit(n),n.displayoptions){const e=l.Ni.unserialize(n.displayoptions);t.displayDescription=void 0===e.printintro||!!e.printintro}const o=yield a.CoreCourse.getModuleContents(t.module,void 0,void 0,!1,e,void 0,"url");t.url=o[0]&&o[0].fileurl?o[0].fileurl:void 0,yield t.calculateDisplayOptions(n)}catch{var n;const e=yield a.CoreCourse.getModule(t.module.id,t.courseId,void 0,!1,!1,void 0,"url");if(t.name=e.name,t.description=e.description,t.dataRetrieved.emit(e),null===(n=e.contents)||void 0===n||!n.length)throw new i.CoreError("No contents found in module.");t.url=e.contents[0].fileurl?e.contents[0].fileurl:void 0}}))()}calculateDisplayOptions(e){var t=this;return(0,o.A)((function*(){const n=c.k.getFinalDisplayType(e);if(t.shouldEmbed=1===n,t.shouldIframe=2===n,!t.shouldEmbed)return;const o=d.A.guessExtensionFromUrl(e.externalurl);t.mimetype=d.A.getMimeType(o),t.isImage=d.A.isExtensionInGroup(o,["web_image"]),t.isAudio=d.A.isExtensionInGroup(o,["web_audio"]),t.isVideo=d.A.isExtensionInGroup(o,["web_video"]),t.isOther=!t.isImage&&!t.isAudio&&!t.isVideo;const i=p.CoreSites.getCurrentSite();t.embeddedUrl=i&&t.url?yield i.checkAndFixPluginfileURL(t.url):""}))()}logView(){var e=this;return(0,o.A)((function*(){try{yield c.k.logView(e.module.instance),e.checkCompletion()}catch{}e.analyticsLogEvent("mod_url_view_url")}))()}logActivity(){var e=this;return(0,o.A)((function*(){!(e.shouldIframe||e.shouldEmbed&&e.isOther)&&(e.shouldIframe||e.shouldEmbed&&e.isOther)||e.logView()}))()}go(){this.logView(),this.url&&u.Q.open(this.url)}}return(e=AddonModUrlIndexComponent).ɵfac=function AddonModUrlIndexComponent_Factory(t){return new(t||e)(_.rXU(s.A,8))},e.ɵcmp=_.VBU({type:e,selectors:[["addon-mod-url-index"]],standalone:!0,features:[_.Vt3,_.aNF],decls:8,vars:10,consts:[["slot","end"],["fill","clear","aria-haspopup","true",3,"ariaLabel"],[3,"hideUntil"],[3,"completionChanged","module","description","component","componentId","courseId"],["class","addon-mod_url-embedded-url",4,"ngIf"],[4,"ngIf"],["collapsible-footer","","appearOnBottom","","slot","fixed",4,"ngIf"],["fill","clear","aria-haspopup","true",3,"click","ariaLabel"],["name","fas-circle-info","slot","icon-only","aria-hidden","true"],["iconAction","fas-circle-info",3,"action","priority","content"],[1,"addon-mod_url-embedded-url"],[3,"src"],[1,"ion-text-wrap"],[1,"item-heading"],[3,"alt","src",4,"ngIf"],["controls","","controlsList","nodownload",3,"title",4,"ngIf"],["controls","",3,"title",4,"ngIf"],[3,"alt","src"],["controls","","controlsList","nodownload",3,"title"],[3,"src","type"],["controls","",3,"title"],["collapsible-footer","","appearOnBottom","","slot","fixed"],["class","list-item-limited-width",4,"ngIf"],[3,"courseId","currentModuleId"],[1,"list-item-limited-width"],["expand","block",1,"ion-margin","ion-text-wrap",3,"click"],["name","fas-link","slot","start","aria-hidden","true"]],template:function AddonModUrlIndexComponent_Template(e,t){1&e&&(_.j41(0,"core-navbar-buttons",0),_.DNE(1,AddonModUrlIndexComponent_Conditional_1_Template,3,3,"ion-button",1)(2,AddonModUrlIndexComponent_Conditional_2_Template,3,4),_.k0s(),_.j41(3,"core-loading",2)(4,"core-course-module-info",3),_.bIt("completionChanged",(function AddonModUrlIndexComponent_Template_core_course_module_info_completionChanged_4_listener(){return t.onCompletionChange()})),_.k0s(),_.DNE(5,AddonModUrlIndexComponent_div_5_Template,2,1,"div",4)(6,AddonModUrlIndexComponent_ion_list_6_Template,9,5,"ion-list",5)(7,AddonModUrlIndexComponent_div_7_Template,3,3,"div",6),_.k0s()),2&e&&(_.R7$(),_.vxM(1,t.courseContentsPage?2:1),_.R7$(2),_.Y8G("hideUntil",!t.showLoading),_.R7$(),_.Y8G("module",t.module)("description",t.displayDescription&&t.description)("component",t.component)("componentId",t.componentId)("courseId",t.courseId),_.R7$(),_.Y8G("ngIf",t.shouldIframe||t.shouldEmbed&&t.isOther),_.R7$(),_.Y8G("ngIf",t.url&&!t.shouldIframe&&(!t.shouldEmbed||!t.isOther)),_.R7$(),_.Y8G("ngIf",!t.showLoading))},dependencies:[f.n,C.bT,v.Jm,v.iq,v.uz,v.he,v.nf,I.B,A.Q,y.l,b.R,M.c,k.t,x.i,w.T,S.D9,h.CoreCourseModuleInfoComponent,g.CoreCourseModuleNavigationComponent],styles:[".addon-mod_url-embedded-url[_ngcontent-%COMP%]{height:100%;display:contents}"]}),AddonModUrlIndexComponent})()},49072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var o=n(2138),i=n(15324),r=n(84078),s=n(86654),a=n(54438),d=n(2910),l=n(58197),c=n(68273),u=n(88246),m=n(73955);let p=(()=>{var e;class AddonModWikiIndexPage extends o._{ngOnInit(){super.ngOnInit(),this.action=i.CoreNavigator.getRouteParam("action")||"page",this.pageId=i.CoreNavigator.getRouteNumberParam("pageId"),this.pageTitle=i.CoreNavigator.getRouteParam("pageTitle"),this.subwikiId=i.CoreNavigator.getRouteNumberParam("subwikiId"),this.userId=i.CoreNavigator.getRouteNumberParam("userId"),this.groupId=i.CoreNavigator.getRouteNumberParam("groupId")}ionViewDidEnter(){var e;null===(e=this.activityComponent)||void 0===e||e.ionViewDidEnter()}ionViewDidLeave(){var e;null===(e=this.activityComponent)||void 0===e||e.ionViewDidLeave()}}return(e=AddonModWikiIndexPage).ɵfac=(()=>{let t;return function AddonModWikiIndexPage_Factory(n){return(t||(t=a.xGo(e)))(n||e)}})(),e.ɵcmp=a.VBU({type:e,selectors:[["page-addon-mod-wiki-index"]],viewQuery:function AddonModWikiIndexPage_Query(e,t){if(1&e&&a.GBs(r.AddonModWikiIndexComponent,5),2&e){let e;a.mGM(e=a.lsd())&&(t.activityComponent=e.first)}},standalone:!0,features:[a.Vt3,a.aNF],decls:14,vars:19,consts:[[3,"collapsible"],["slot","start"],[3,"text"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["slot","end"],[1,"limited-width"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"dataRetrieved","module","courseId","action","pageId","pageTitle","subwikiId","userId","groupId"]],template:function AddonModWikiIndexPage_Template(e,t){1&e&&(a.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),a.nrm(3,"ion-back-button",2),a.nI1(4,"translate"),a.k0s(),a.j41(5,"ion-title")(6,"h1"),a.nrm(7,"core-format-text",3),a.k0s()(),a.nrm(8,"ion-buttons",4),a.k0s()(),a.j41(9,"ion-content",5)(10,"ion-refresher",6),a.bIt("ionRefresh",(function AddonModWikiIndexPage_Template_ion_refresher_ionRefresh_10_listener(e){return null==t.activityComponent?null:t.activityComponent.doRefresh(e.target)})),a.nrm(11,"ion-refresher-content",7),a.nI1(12,"translate"),a.k0s(),a.j41(13,"addon-mod-wiki-index",8),a.bIt("dataRetrieved",(function AddonModWikiIndexPage_Template_addon_mod_wiki_index_dataRetrieved_13_listener(e){return t.updateData(e)})),a.k0s()()),2&e&&(a.Y8G("collapsible",!t.pageId&&!t.pageTitle),a.R7$(3),a.Y8G("text",a.bMT(4,15,"core.back")),a.R7$(4),a.Y8G("text",t.title)("contextInstanceId",t.module.id)("courseId",t.courseId),a.R7$(3),a.Y8G("disabled",null==t.activityComponent?null:t.activityComponent.showLoading),a.R7$(),a.FS9("pullingText",a.bMT(12,17,"core.pulltorefresh")),a.R7$(2),a.Y8G("module",t.module)("courseId",t.courseId)("action",t.action)("pageId",t.pageId)("pageTitle",t.pageTitle)("subwikiId",t.subwikiId)("userId",t.userId)("groupId",t.groupId))},dependencies:[s.n,d.QW,d.W9,d.eU,d.To,d.Ki,d.BC,d.ai,d.el,l.B,c.M,u.i,m.D9,r.AddonModWikiIndexComponent],encapsulation:2}),AddonModWikiIndexPage})()},10332:(e,t,n)=>{n.d(t,{p:()=>r});var o=n(91416),i=n(54438);let r=(()=>{var e;class AddonModWorkshopAssessmentStrategyBaseComponent{constructor(){this.edit=!1}}return(e=AddonModWorkshopAssessmentStrategyBaseComponent).ɵfac=function AddonModWorkshopAssessmentStrategyBaseComponent_Factory(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["ng-component"]],inputs:{workshopId:"workshopId",assessment:"assessment",edit:[i.Mj6.HasDecoratorInputTransform,"edit","edit",o.G],selectedValues:"selectedValues",fieldErrors:"fieldErrors",strategy:"strategy",moduleId:"moduleId",courseId:"courseId"},features:[i.GFd],decls:0,vars:0,template:function AddonModWorkshopAssessmentStrategyBaseComponent_Template(e,t){},encapsulation:2}),AddonModWorkshopAssessmentStrategyBaseComponent})()},82020:(e,t,n)=>{n.d(t,{l:()=>AddonLegacyNotificationsNotificationsSource});var o=n(10467),i=n(61340),r=n(98320);class AddonLegacyNotificationsNotificationsSource extends i.w{loadPageItems(e){var t=this;return(0,o.A)((function*(){let n=[],o=!1,i=0;const s=t.getPageLength(),totalUnread=()=>{var e;return null!==(e=t.totals[r.AddonNotificationsGetReadType.UNREAD])&&void 0!==e?e:Number.MAX_VALUE};if(totalUnread()>e*s){const a=yield t.loadNotifications(r.AddonNotificationsGetReadType.UNREAD,e*s);n=n.concat(a.notifications),o=a.hasMoreNotifications,i=a.notifications.length}if(totalUnread()<(e+1)*s){const a=Math.max(0,e*s-totalUnread()),d=yield t.loadNotifications(r.AddonNotificationsGetReadType.READ,a,s-i);n=n.concat(d.notifications),o=d.hasMoreNotifications}return{items:n,hasMoreItems:o}}))()}}},61340:(e,t,n)=>{n.d(t,{w:()=>AddonNotificationsNotificationsSource});var o=n(10467),i=n(98320),r=n(99522),s=n(30494);class AddonNotificationsNotificationsSource extends r.F{constructor(){super(...arguments),this.totals={}}getItemPath(e){return e.id.toString()}reset(){this.totals={},super.reset()}loadPageItems(e){var t=this;return(0,o.A)((function*(){const n=yield t.loadNotifications(i.AddonNotificationsGetReadType.BOTH,e*t.getPageLength());return{items:n.notifications,hasMoreItems:n.hasMoreNotifications}}))()}loadNotifications(e,t,n){var r=this;return(0,o.A)((function*(){var o;if(n=null!=n?n:r.getPageLength(),e in r.totals&&r.totals[e]<=t)return{notifications:[],hasMoreNotifications:!1};const s=yield i.AddonNotifications.getNotificationsWithStatus(e,{offset:t,limit:n});return s.length<n&&(r.totals[e]=t+s.length),{notifications:s,hasMoreNotifications:(null!==(o=r.totals[e])&&void 0!==o?o:Number.MAX_VALUE)>t+n}}))()}setItems(e,t){const n=e.slice(0);n.sort(((e,t)=>e.timecreated<t.timecreated?1:-1)),super.setItems(n,t)}getPageLength(){return s.IS}}},91029:(e,t,n)=>{n.r(t),n.d(t,{AddonPrivateFilesHelper:()=>p,AddonPrivateFilesHelperProvider:()=>m});var o=n(10467),i=n(52749),r=n(33014),s=n(64847),a=n(62960),d=n(75629),l=n(79555),c=n(47551),u=n(54438);let m=(()=>{var e;class AddonPrivateFilesHelperProvider{uploadPrivateFile(e){return(0,o.A)((function*(){var t,n;const o=i.CoreSites.getCurrentSite();let u=(null==o||null===(t=o.getInfo())||void 0===t?void 0:t.usermaxuploadfilesize)||-1,m=null==o||null===(n=o.getInfo())||void 0===n?void 0:n.userquota;0===m?m=-1:void 0!==m&&m>0&&void 0!==e&&(m-=e.filesizewithoutreferences),void 0!==m&&(u=Math.min(u,m));const p=yield s.CoreFileUploaderHelper.selectAndUploadFile(u);if(!p)throw new d.CoreError(l.HT.instant("core.fileuploader.errorwhileuploading"));const g=yield r.CoreLoadings.show("core.fileuploader.uploading",!0);try{yield a.AddonPrivateFiles.moveFromDraftToPrivate(p.itemid),c.CoreToasts.show({message:"core.fileuploader.fileuploaded",translateMessage:!0,cssClass:"core-toast-success"})}finally{g.dismiss()}}))()}}return(e=AddonPrivateFilesHelperProvider).ɵfac=function AddonPrivateFilesHelperProvider_Factory(t){return new(t||e)},e.ɵprov=u.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),AddonPrivateFilesHelperProvider})();const p=(0,l.Qd)(m)},52266:(e,t,n)=>{n.d(t,{Z:()=>CoreSwipeNavigationItemsManager});var o=n(10467),i=n(15324),r=n(95990);class CoreSwipeNavigationItemsManager extends r.u{start(){var e=this;return(0,o.A)((function*(){e.updateSelectedItem()}))()}navigateToNextItem(){var e=this;return(0,o.A)((function*(){yield e.navigateToItemBy(1,"forward")}))()}navigateToPreviousItem(){var e=this;return(0,o.A)((function*(){yield e.navigateToItemBy(-1,"back")}))()}hasNextItem(){var e=this;return(0,o.A)((function*(){return!!(yield e.getItemBy(1))}))()}hasPreviousItem(){var e=this;return(0,o.A)((function*(){return!!(yield e.getItemBy(-1))}))()}getCurrentPageRoute(){return i.CoreNavigator.getCurrentRoute()}getSelectedItemPathFromRoute(e){const t=[];for(;e&&(t.push(...i.CoreNavigator.getRouteUrl(e)),e.firstChild);)e=e.firstChild;return t.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}navigateToItemBy(e,t){var n=this;return(0,o.A)((function*(){const o=yield n.getItemBy(e);o&&(yield n.navigateToItem(o,{animationDirection:t,replace:!0}))}))()}getItemBy(e){var t=this;return(0,o.A)((function*(){var n;const o=t.getSource().getItems(),i=null!==(n=t.selectedItem&&(null==o?void 0:o.indexOf(t.selectedItem)))&&void 0!==n?n:-1;if(-1===i||null===o)return null;const r=e>0?1:-1;let s=i,a=0;for(;a!==e;){if(s+=r,s<0)return null;if(s>=o.length)break;t.skipItemInSwipe(o[s])||(a+=r)}return a===e?o[s]:t.getSource().isCompleted()?null:(yield t.getSource().load(),t.getItemBy(e))}))()}skipItemInSwipe(e){return!1}}},94398:(e,t,n)=>{n.d(t,{h:()=>CoreSwipeSlidesDynamicItemsManagerSource});var o=n(10467),i=n(1602);class CoreSwipeSlidesDynamicItemsManagerSource extends i.O{constructor(){super(...arguments),this.loadingItems={}}load(e){var t=this;return(0,o.A)((function*(){!t.loaded&&t.initialItem?yield t.loadItem(t.initialItem):t.loaded&&e&&(yield t.loadItem(e)),t.setLoaded()}))()}loadItems(){return(0,o.A)((function*(){return[]}))()}loadItem(e){var t=this;return(0,o.A)((function*(){const n=t.getPreviousItem(e),o=t.getNextItem(e);yield Promise.all([t.loadItemInList(e,!1),n&&t.loadItemInList(n,!0),o&&t.loadItemInList(o,!0)])}))()}loadItemInList(e,t=!1){var n=this;return(0,o.A)((function*(){const o=yield n.performLoadItemData(e,t);if(!o)return;if(n.getItem(n.getItemId(e)))return;n.items||(n.items=[]);const i=n.getPreviousItem(e),r=n.getNextItem(e),s=i?n.getItemId(i):null,a=r?n.getItemId(r):null,d=n.items.some(((e,t)=>{const i=n.getItemId(e);let r=-1;var d;if(i===s&&(r=t+1),i===a&&(r=t),r>-1)return null===(d=n.items)||void 0===d||d.splice(r,0,o),!0}));d||n.items.push(o),n.notifyItemsUpdated()}))()}performLoadItemData(e,t){var n=this;return(0,o.A)((function*(){const o=n.getItemId(e);if(n.loadingItems[o])return null;const i=n.getItem(o);if(i&&(i.loaded&&!i.dirty||t))return i;n.loadingItems[o]=!0;try{const o=yield n.loadItemData(e,t);return o&&!t&&(o.loaded=!0,o.dirty=!1),i&&o?(Object.assign(i,o),i):o}finally{n.loadingItems[o]=!1}}))()}markAllItemsDirty(){var e;null===(e=this.getItems())||void 0===e||e.forEach((e=>{e.dirty=!0}))}markAllItemsUnloaded(){var e;null===(e=this.getItems())||void 0===e||e.forEach((e=>{e.loaded=!1}))}}},47514:(e,t,n)=>{n.d(t,{E:()=>CoreSwipeSlidesDynamicItemsManager});var o=n(62198);class CoreSwipeSlidesDynamicItemsManager extends o.N{setSelectedItem(e){super.setSelectedItem(e),e&&this.getSource().loadItem(e)}}},1602:(e,t,n)=>{n.d(t,{O:()=>CoreSwipeSlidesItemsManagerSource});var o=n(10467),i=n(58866);class CoreSwipeSlidesItemsManagerSource extends i.i{constructor(e){super(),this.initialItem=e}load(){var e=this;return(0,o.A)((function*(){const t=yield e.loadItems();e.setItems(t)}))()}getItem(e){var t,n;const o=this.getItemIndexById(e);return null!==(t=null===(n=this.items)||void 0===n?void 0:n[o])&&void 0!==t?t:null}getItemIndex(e){return this.getItemIndexById(this.getItemId(e))}getItemIndexById(e){var t;const n=null===(t=this.items)||void 0===t?void 0:t.findIndex((t=>e===this.getItemId(t)));return null!=n?n:-1}getInitialItemIndex(){return this.initialItem?this.getItemIndex(this.initialItem):0}}},62198:(e,t,n)=>{n.d(t,{N:()=>CoreSwipeSlidesItemsManager});var o=n(42022);class CoreSwipeSlidesItemsManager extends o.f{getItemId(e){return this.getSource().getItemId(e)}}},23676:(e,t,n)=>{n.d(t,{O:()=>CoreModalComponent});var o=n(10467),i=n(25124),r=n(62393);class CoreModalComponent{constructor({nativeElement:e}){this.result=new i._,r.D.register(e,this)}close(e){var t=this;return(0,o.A)((function*(){if(e instanceof Error)return t.result.reject(e),void 0;t.result.resolve(e)}))()}}},58530:(e,t,n)=>{n.d(t,{o:()=>PageLoadsManager});var o=n(10467),i=n(15324),r=n(93589),s=n(21413),a=n(55554),d=n(25124),l=n(53794);class PageLoadWatcher{constructor(e,t){this.loadsManager=e,this.updateInBackground=t,this.hasChanges=!1,this.ongoingRequests=0,this.components=new Set,this.hasChangesPromises=[]}canUpdateInBackground(){return this.updateInBackground}hasMeaningfulChanges(){return this.hasChanges}markMeaningfulChanges(){this.hasChanges=!0}watchComponent(e){var t=this;return(0,o.A)((function*(){t.components.add(e),clearTimeout(t.loadedTimeout);try{yield e.ready()}finally{t.components.delete(e),t.checkHasLoaded()}}))()}getReadingStrategy(){return this.updateInBackground?4:void 0}watchRequest(e,t){var n=this;const i=new d._;let r,s=null;this.ongoingRequests++,clearTimeout(this.loadedTimeout);const c=function(){var e=(0,o.A)((function*(){var e;n.ongoingRequests--,n.checkHasLoaded(),yield l.H.nextTick(),null===(e=s)||void 0===e||e.unsubscribe()}));return function complete(){return e.apply(this,arguments)}}();return s=e.subscribe({next:e=>{if(!r)return r=e,i.resolve(e),void 0;t&&this.hasChangesPromises.push(a.g.ignoreErrors(t(r,e),!1))},error:e=>{i.reject(e),c()},complete:()=>c()}),i}checkHasLoaded(){var e=this;0===this.ongoingRequests&&0===this.components.size&&(clearTimeout(this.loadedTimeout),this.loadedTimeout=window.setTimeout((0,o.A)((function*(){const t=yield Promise.all(e.hasChangesPromises);e.hasChanges=e.hasChanges||t.includes(!0),e.loadsManager.onPageLoaded(e)})),100))}}class PageLoadsManager{constructor(){this.onRefreshPage=new s.B,this.ongoingLoadWatchers=new Set}startPageLoad(e,t){var n;return this.initialPath=null!==(n=this.initialPath)&&void 0!==n?n:i.CoreNavigator.getCurrentPath(),this.currentLoadWatcher=new PageLoadWatcher(this,t),this.ongoingLoadWatchers.add(this.currentLoadWatcher),this.currentLoadWatcher.watchComponent(e),this.currentLoadWatcher}startComponentLoad(e){var t;const n=null!==(t=this.currentLoadWatcher)&&void 0!==t?t:new PageLoadWatcher(this,!1);return n.watchComponent(e),n}onPageLoaded(e){if(!this.ongoingLoadWatchers.has(e))return;if(this.removeLoadWatcher(e),!e.hasMeaningfulChanges())return;const t=this.getAnotherOngoingUpdateInBackgroundWatcher(e);if(t)return t.markMeaningfulChanges(),void 0;this.initialPath===i.CoreNavigator.getCurrentPath()?this.notifyUser():this.onRefreshPage.next()}getAnotherOngoingUpdateInBackgroundWatcher(e){for(const t of this.ongoingLoadWatchers)if(t.canUpdateInBackground()&&e!==t)return t}removeLoadWatcher(e){this.ongoingLoadWatchers.delete(e),e===this.currentLoadWatcher&&delete this.currentLoadWatcher}notifyUser(){var e=this;return(0,o.A)((function*(){const{CoreRefreshButtonModalComponent:t}=yield n.e(30252).then(n.bind(n,30252));yield r.I.openModal({component:t,cssClass:"core-modal-no-background core-modal-fullscreen",closeOnNavigate:!0,showBackdrop:!1}),e.onRefreshPage.next()}))()}}},3484:(e,t,n)=>{n.d(t,{d:()=>u});var o=n(10467),i=n(6787),r=n(24502),s=n(75383),a=n(25124),d=n(25572),l=n(79555),c=n(54438);let u=(()=>{var e;class CoreBlockBaseComponent{constructor(e="AddonBlockComponent"){this.loaded=!1,this.fetchContentDefaultError="",this.onReadyPromise=new a._,this.logger=i.CoreLogger.getInstance(e)}ngOnInit(){var e=this;return(0,o.A)((function*(){yield e.loadContent()}))()}ngOnChanges(e){e.block&&this.parseConfigs()}parseConfigs(){var e;null!==(e=this.block.configs)&&void 0!==e&&e.length&&!this.block.configsRecord&&(this.block.configs.forEach((e=>{e.value=s.Ni.parseJSON(e.value)})),this.block.configsRecord=r.R.toObject(this.block.configs,"name"))}refreshContent(e){var t=this;return(0,o.A)((function*(){e&&(t.loaded=!1);try{yield t.invalidateContent()}catch(e){t.logger.error(e)}yield t.loadContent()}))()}invalidateContent(){return(0,o.A)((function*(){}))()}loadContent(){var e=this;return(0,o.A)((function*(){try{yield e.fetchContent()}catch(t){e.logger.error(t),d.CoreAlerts.showError(t,{default:l.HT.instant(e.fetchContentDefaultError)})}e.loaded=!0,e.onReadyPromise.resolve()}))()}fetchContent(){return(0,o.A)((function*(){}))()}reloadContent(){var e=this;return(0,o.A)((function*(){e.loaded&&(e.loaded=!1,yield e.loadContent())}))()}ready(){var e=this;return(0,o.A)((function*(){return yield e.onReadyPromise}))()}}return(e=CoreBlockBaseComponent).ɵfac=function CoreBlockBaseComponent_Factory(t){return new(t||e)(c.rXU("",8))},e.ɵcmp=c.VBU({type:e,selectors:[["ng-component"]],inputs:{title:"title",block:"block",contextLevel:"contextLevel",instanceId:"instanceId",link:"link",linkParams:"linkParams",navOptions:"navOptions"},features:[c.OA$],decls:0,vars:0,template:function CoreBlockBaseComponent_Template(e,t){},encapsulation:2}),CoreBlockBaseComponent})()},44666:(e,t,n)=>{n.r(t),n.d(t,{CoreBlockComponent:()=>c});var o=n(10467),i=n(63114),r=n(68162),s=n(86654),a=n(54438),d=n(60177),l=n(2910);function CoreBlockComponent_ion_card_0_Template(e,t){if(1&e&&(a.j41(0,"ion-card",1),a.nrm(1,"core-dynamic-component",2),a.k0s()),2&e){const e=a.XpG();a.HbH(e.class),a.BMQ("aria-labelledby",e.labelledBy?e.labelledBy:null),a.R7$(),a.Y8G("component",e.componentClass)("data",e.data)}}let c=(()=>{var e;class CoreBlockComponent{constructor(){this.data={},this.loaded=!1}ngOnChanges(e){var t;e.block&&null!==(t=this.block)&&void 0!==t&&t.visible&&this.updateBlock(),this.data&&e.extraData&&(this.data=Object.assign(this.data,this.extraData||{}))}updateBlock(){var e=this;return(0,o.A)((function*(){try{const t=yield i.CoreBlockDelegate.getBlockDisplayData(e.block,e.contextLevel,e.instanceId);if(!t)return e.blockSubscription=i.CoreBlockDelegate.blocksUpdateObservable.subscribe((()=>{var t;null===(t=e.blockSubscription)||void 0===t||t.unsubscribe(),delete e.blockSubscription,e.updateBlock()})),void 0;e.class=t.class,e.componentClass=t.component,e.data=Object.assign({title:t.title,block:e.block,contextLevel:e.contextLevel,instanceId:e.instanceId,link:t.link||null,linkParams:t.linkParams||null,navOptions:t.navOptions||null},e.extraData||{},t.componentData||{})}catch{}e.loaded=!0}))()}ngOnDestroy(){var e;null===(e=this.blockSubscription)||void 0===e||e.unsubscribe(),delete this.blockSubscription}invalidate(){var e=this;return(0,o.A)((function*(){e.dynamicComponent&&(yield e.dynamicComponent.callComponentMethod("invalidateContent"))}))()}}return(e=CoreBlockComponent).ɵfac=function CoreBlockComponent_Factory(t){return new(t||e)},e.ɵcmp=a.VBU({type:e,selectors:[["core-block"]],viewQuery:function CoreBlockComponent_Query(e,t){if(1&e&&a.GBs(r.m,5),2&e){let e;a.mGM(e=a.lsd())&&(t.dynamicComponent=e.first)}},inputs:{block:"block",contextLevel:"contextLevel",instanceId:"instanceId",extraData:"extraData",labelledBy:"labelledBy"},standalone:!0,features:[a.OA$,a.aNF],decls:1,vars:1,consts:[["role","region",3,"class",4,"ngIf"],["role","region"],[3,"component","data"]],template:function CoreBlockComponent_Template(e,t){1&e&&a.DNE(0,CoreBlockComponent_ion_card_0_Template,2,6,"ion-card",0),2&e&&a.Y8G("ngIf",t.loaded&&t.componentClass&&t.block&&t.block.visible)},dependencies:[s.n,d.bT,l.b_,r.m],styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;background:var(--background)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{--border-radius: var(--mdl-shape-borderRadius-sm)}[_nghost-%COMP%]     ion-item-divider{min-height:var(--item-divider-min-height)}[_nghost-%COMP%]     core-loading{--loading-inline-min-height: 60px}"]}),CoreBlockComponent})()},2638:(e,t,n)=>{n.r(t),n.d(t,{CoreBlockPreRenderedComponent:()=>m});var o=n(10467),i=n(3484),r=n(86654),s=n(54438),a=n(60177),d=n(2910),l=n(64422),c=n(58197),u=n(73955);function CoreBlockPreRenderedComponent_ion_item_divider_0_Template(e,t){if(1&e&&(s.j41(0,"ion-item-divider",4)(1,"ion-label")(2,"h2"),s.nrm(3,"core-format-text",5),s.nI1(4,"translate"),s.k0s()()()),2&e){const e=s.XpG();s.Y8G("sticky",!0),s.R7$(3),s.Y8G("text",s.bMT(4,4,e.title))("contextInstanceId",e.block.instanceid)("courseId",e.courseId)}}function CoreBlockPreRenderedComponent_ion_item_2_Template(e,t){if(1&e&&(s.j41(0,"ion-item",6)(1,"ion-label"),s.nrm(2,"core-format-text",5),s.k0s()()),2&e){const e=s.XpG();s.R7$(2),s.Y8G("text",null==e.block.contents?null:e.block.contents.content)("contextInstanceId",e.block.instanceid)("courseId",e.courseId)}}function CoreBlockPreRenderedComponent_ion_item_3_Template(e,t){if(1&e&&(s.j41(0,"ion-item",7)(1,"ion-label"),s.nrm(2,"core-format-text",5),s.k0s()()),2&e){const e=s.XpG();s.R7$(2),s.Y8G("text",null==e.block.contents?null:e.block.contents.footer)("contextInstanceId",e.block.instanceid)("courseId",e.courseId)}}let m=(()=>{var e;class CoreBlockPreRenderedComponent extends i.d{constructor(){super("CoreBlockPreRenderedComponent")}ngOnInit(){var _superprop_getNgOnInit=()=>super.ngOnInit,e=this;return(0,o.A)((function*(){var t;e.courseId="course"===e.contextLevel?e.instanceId:void 0,e.fetchContentDefaultError=`Error getting ${null===(t=e.block.contents)||void 0===t?void 0:t.title} data.`,e.id=`block-${e.block.instanceid}`,yield _superprop_getNgOnInit().call(e)}))()}}return(e=CoreBlockPreRenderedComponent).ɵfac=function CoreBlockPreRenderedComponent_Factory(t){return new(t||e)},e.ɵcmp=s.VBU({type:e,selectors:[["core-block-pre-rendered"]],hostVars:1,hostBindings:function CoreBlockPreRenderedComponent_HostBindings(e,t){2&e&&s.BMQ("id",t.id)},standalone:!0,features:[s.Vt3,s.aNF],decls:4,vars:6,consts:[["class","ion-text-wrap",3,"sticky",4,"ngIf"],["placeholderType","column","placeholderHeight","120px",3,"hideUntil","fullscreen","placeholderLimit"],["class","ion-text-wrap core-block-content",4,"ngIf"],["class","ion-text-wrap core-block-footer",4,"ngIf"],[1,"ion-text-wrap",3,"sticky"],["contextLevel","block",3,"text","contextInstanceId","courseId"],[1,"ion-text-wrap","core-block-content"],[1,"ion-text-wrap","core-block-footer"]],template:function CoreBlockPreRenderedComponent_Template(e,t){1&e&&(s.DNE(0,CoreBlockPreRenderedComponent_ion_item_divider_0_Template,5,6,"ion-item-divider",0),s.j41(1,"core-loading",1),s.DNE(2,CoreBlockPreRenderedComponent_ion_item_2_Template,3,3,"ion-item",2)(3,CoreBlockPreRenderedComponent_ion_item_3_Template,3,3,"ion-item",3),s.k0s()),2&e&&(s.Y8G("ngIf",t.title),s.R7$(),s.Y8G("hideUntil",t.loaded)("fullscreen",!1)("placeholderLimit",1),s.R7$(),s.Y8G("ngIf",null==t.block.contents?null:t.block.contents.content),s.R7$(),s.Y8G("ngIf",null==t.block.contents?null:t.block.contents.footer))},dependencies:[r.n,a.bT,d.uz,d.Dg,d.he,l.R,c.B,u.D9],encapsulation:2}),CoreBlockPreRenderedComponent})()},2138:(e,t,n)=>{n.d(t,{_:()=>s});var o=n(15324),i=n(25572),r=n(54438);let s=(()=>{var e;class CoreCourseModuleMainActivityPage{ngOnInit(){try{this.module=o.CoreNavigator.getRequiredRouteParam("module"),this.courseId=o.CoreNavigator.getRequiredRouteNumberParam("courseId")}catch(e){return i.CoreAlerts.showError(e),o.CoreNavigator.back(),void 0}this.title=this.module.name}updateData(e){this.title=e.name||this.title}ionViewDidEnter(){var e;null===(e=this.activityComponent)||void 0===e||e.ionViewDidEnter()}ionViewDidLeave(){var e;null===(e=this.activityComponent)||void 0===e||e.ionViewDidLeave()}ionViewWillEnter(){var e;null===(e=this.activityComponent)||void 0===e||e.ionViewWillEnter()}ionViewWillLeave(){var e;null===(e=this.activityComponent)||void 0===e||e.ionViewWillLeave()}}return(e=CoreCourseModuleMainActivityPage).ɵfac=function CoreCourseModuleMainActivityPage_Factory(t){return new(t||e)},e.ɵcmp=r.VBU({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function CoreCourseModuleMainActivityPage_Template(e,t){},encapsulation:2}),CoreCourseModuleMainActivityPage})()},99891:(e,t,n)=>{n.d(t,{b:()=>CoreGradesCoursesSource});var o=n(10467),i=n(99522),r=n(27338),s=n(97383);class CoreGradesCoursesSource extends i.F{loadPageItems(){return(0,o.A)((function*(){const e=yield r.CoreGrades.getCoursesGrades();return{items:yield s.CoreGradesHelper.getGradesCourseData(e)}}))()}getItemPath(e){return e.courseid.toString()}}},65614:(e,t,n)=>{n.r(t),n.d(t,{CorePolicy:()=>g,CorePolicyAgreementStyle:()=>h,CorePolicyService:()=>p,CorePolicyStatus:()=>f});var o=n(10467),i=n(75629),r=n(43411),s=n(82461),a=n(15324),d=n(52749),l=n(79555),c=n(78908),u=n(74431),m=n(54438);let p=(()=>{var e;class CorePolicyService{acceptMandatorySitePolicies(e){return(0,o.A)((function*(){var t;const n=yield d.CoreSites.getSite(e),o=yield n.write("core_user_agree_site_policy",{});if(o.status)return;if(null===(t=o.warnings)||void 0===t||!t.length)throw new i.CoreError("Cannot agree site policy");if(!o.warnings.some((e=>"alreadyagreed"===e.warningcode)))throw new r.CoreWSError(o.warnings[0])}))()}getSitePoliciesURL(e){return(0,o.A)((function*(){const t=yield d.CoreSites.getSite(e);let n;try{n=yield t.getConfig("sitepolicy",!0)}catch(e){n=(yield s.CoreLoginHelper.getEmailSignupSettings(t.getURL())).sitepolicy}if(!n)throw new i.CoreError("Cannot retrieve site policy");return n}))()}getNextPendingPolicies(e={}){var t=this;return(0,o.A)((function*(){const n=yield t.getUserAcceptances(e),o=[];for(const e in n){var i,r;const t=n[e];if(t.status!==f.Active)continue;const s=1===(null===(i=t.acceptance)||void 0===i?void 0:i.status),a=0===(null===(r=t.acceptance)||void 0===r?void 0:r.status);if(!(s||a&&1===t.optional)){if(t.agreementstyle===h.OwnPage)return[t];o.push(t)}}return o}))()}getUserAcceptances(e={}){var t=this;return(0,o.A)((function*(){var n;const o=yield d.CoreSites.getSite(e.siteId),i=e.userId||o.getUserId(),s={userid:i},a={cacheKey:t.getUserAcceptancesCacheKey(i),updateFrequency:u.CoreCacheUpdateFrequency.RARELY,...d.CoreSites.getReadingStrategyPreSets(e.readingStrategy)},l=yield o.read("tool_policy_get_user_acceptances",s,a);if(null!==(n=l.warnings)&&void 0!==n&&n.length)throw new r.CoreWSError(l.warnings[0]);return l.policies}))()}getUserAcceptancesCacheKey(e){return`${CorePolicyService.ROOT_CACHE_KEY}userAcceptances:${e}`}goToAcceptSitePolicies(e){if(!(e=e||d.CoreSites.getCurrentSiteId())||e!=d.CoreSites.getCurrentSiteId())return;const t=`/${c.Nn}/${c.TF}`;a.CoreNavigator.isCurrent(t)||a.CoreNavigator.navigate(t,{params:{siteId:e},reset:!0})}invalidateAcceptances(e={}){var t=this;return(0,o.A)((function*(){const n=yield d.CoreSites.getSite(e.siteId);yield n.invalidateWsCacheForKey(t.getUserAcceptancesCacheKey(e.userId||n.getUserId()))}))()}isManageAcceptancesAvailable(e){return(0,o.A)((function*(){const t=yield d.CoreSites.getSite(e);return t.wsAvailable("tool_policy_get_user_acceptances")&&t.wsAvailable("tool_policy_set_acceptances_status")}))()}setUserAcceptances(e,t){return(0,o.A)((function*(){var n;const o=yield d.CoreSites.getSite(t),i={userid:o.getUserId(),policies:Object.keys(e).map((t=>({versionid:Number(t),status:e[t]})))},s=yield o.write("tool_policy_set_acceptances_status",i);if(null!==(n=s.warnings)&&void 0!==n&&n.length)throw new r.CoreWSError(s.warnings[0]);return s.policyagreed}))()}}return(e=CorePolicyService).ROOT_CACHE_KEY="CorePolicy:",e.ɵfac=function CorePolicyService_Factory(t){return new(t||e)},e.ɵprov=m.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CorePolicyService})();const g=(0,l.Qd)(p);var h=function(e){return e[e.ConsentPage=0]="ConsentPage",e[e.OwnPage=1]="OwnPage",e}(h||{}),f=function(e){return e[e.Draft=0]="Draft",e[e.Active=1]="Active",e[e.Archived=2]="Archived",e}(f||{})},55608:(e,t,n)=>{n.d(t,{z:()=>p});var o=n(10467),i=n(87326),r=n(93589),s=n(52749),a=n(49882),d=n(86654),l=n(54438),c=n(60177),u=n(2910),m=n(73955);function CoreRatingAggregateComponent_ion_item_0_span_5_Template(e,t){if(1&e&&(l.j41(0,"span"),l.EFF(1),l.k0s()),2&e){const e=l.XpG(2);l.R7$(),l.SpI("(",e.item.count,")")}}function CoreRatingAggregateComponent_ion_item_0_Template(e,t){if(1&e){const e=l.RV6();l.j41(0,"ion-item",1),l.bIt("click",(function CoreRatingAggregateComponent_ion_item_0_Template_ion_item_click_0_listener(){l.eBV(e);const t=l.XpG();return l.Njj(t.openRatings())})),l.j41(1,"ion-label"),l.EFF(2),l.nI1(3,"translate"),l.nI1(4,"translate"),l.DNE(5,CoreRatingAggregateComponent_ion_item_0_span_5_Template,2,1,"span",2),l.k0s()()}if(2&e){const e=l.XpG();l.Y8G("detail",e.ratingInfo.canviewall&&e.item.count)("button",e.ratingInfo.canviewall&&e.item.count),l.R7$(2),l.E5c(" ",l.bMT(3,6,e.labelKey),"",l.bMT(4,8,"core.labelsep")," ",e.item.aggregatestr||"-"," "),l.R7$(3),l.Y8G("ngIf",e.showCount&&e.item.count&&e.item.count>0)}}let p=(()=>{var e;class CoreRatingAggregateComponent{constructor(){this.showCount=!1,this.disabled=!1,this.labelKey="",this.disabled=i.CoreRating.isRatingDisabledInSite(),this.updateSiteObserver=a.z.on(a.z.SITE_UPDATED,(()=>{this.disabled=i.CoreRating.isRatingDisabledInSite()}),s.CoreSites.getCurrentSiteId())}ngOnChanges(){var e;if(null===(e=this.aggregateObserver)||void 0===e||e.off(),delete this.aggregateObserver,this.item=(this.ratingInfo.ratings||[]).find((e=>e.itemid===this.itemId)),this.item){switch(this.aggregateMethod){case i.CoreRatingProvider.AGGREGATE_AVERAGE:this.labelKey="core.rating.aggregateavg";break;case i.CoreRatingProvider.AGGREGATE_COUNT:this.labelKey="core.rating.aggregatecount";break;case i.CoreRatingProvider.AGGREGATE_MAXIMUM:this.labelKey="core.rating.aggregatemax";break;case i.CoreRatingProvider.AGGREGATE_MINIMUM:this.labelKey="core.rating.aggregatemin";break;case i.CoreRatingProvider.AGGREGATE_SUM:this.labelKey="core.rating.aggregatesum";break;default:return this.labelKey="",void 0}this.showCount=this.aggregateMethod!=i.CoreRatingProvider.AGGREGATE_COUNT,this.aggregateObserver=a.z.on(i.CoreRatingProvider.AGGREGATE_CHANGED_EVENT,(e=>{this.item&&e.contextLevel===this.contextLevel&&e.instanceId===this.instanceId&&e.component===this.ratingInfo.component&&e.ratingArea===this.ratingInfo.ratingarea&&e.itemId===this.itemId&&(this.item.aggregatestr=e.aggregate,this.item.count=e.count)}))}}openRatings(){var e=this;return(0,o.A)((function*(){var t;if(!e.ratingInfo.canviewall||null===(t=e.item)||void 0===t||!t.count||e.disabled)return;const{CoreRatingRatingsComponent:o}=yield n.e(80024).then(n.bind(n,80024));yield r.I.openModal({component:o,componentProps:{contextLevel:e.contextLevel,instanceId:e.instanceId,ratingComponent:e.ratingInfo.component,ratingArea:e.ratingInfo.ratingarea,itemId:e.itemId,scaleId:e.scaleId,courseId:e.courseId}})}))()}ngOnDestroy(){var e;null===(e=this.aggregateObserver)||void 0===e||e.off(),this.updateSiteObserver.off()}}return(e=CoreRatingAggregateComponent).ɵfac=function CoreRatingAggregateComponent_Factory(t){return new(t||e)},e.ɵcmp=l.VBU({type:e,selectors:[["core-rating-aggregate"]],inputs:{ratingInfo:"ratingInfo",contextLevel:"contextLevel",instanceId:"instanceId",itemId:"itemId",aggregateMethod:"aggregateMethod",scaleId:"scaleId",courseId:"courseId"},standalone:!0,features:[l.OA$,l.aNF],decls:1,vars:1,consts:[["class","ion-text-wrap",3,"detail","button","click",4,"ngIf"],[1,"ion-text-wrap",3,"click","detail","button"],[4,"ngIf"]],template:function CoreRatingAggregateComponent_Template(e,t){1&e&&l.DNE(0,CoreRatingAggregateComponent_ion_item_0_Template,6,10,"ion-item",0),2&e&&l.Y8G("ngIf",t.item&&t.item.canviewaggregate&&t.labelKey&&!t.disabled)},dependencies:[d.n,c.bT,u.uz,u.he,m.D9],encapsulation:2}),CoreRatingAggregateComponent})()},76990:(e,t,n)=>{n.d(t,{w:()=>C});var o=n(10467),i=n(54438),r=n(87326),s=n(32440),a=n(52749),d=n(47551),l=n(79555),c=n(49882),u=n(33014),m=n(25572),p=n(86654),g=n(60177),h=n(89417),f=n(2910),_=n(73955);const _c0=e=>({header:e});function CoreRatingRateComponent_ion_item_0_ion_select_option_5_Template(e,t){if(1&e&&(i.j41(0,"ion-select-option",4),i.EFF(1),i.k0s()),2&e){const e=t.$implicit;i.Y8G("value",e.value),i.R7$(),i.JRh(e.name)}}function CoreRatingRateComponent_ion_item_0_Template(e,t){if(1&e){const e=i.RV6();i.j41(0,"ion-item",1)(1,"ion-select",2),i.nI1(2,"translate"),i.nI1(3,"translate"),i.nI1(4,"translate"),i.mxI("ngModelChange",(function CoreRatingRateComponent_ion_item_0_Template_ion_select_ngModelChange_1_listener(t){i.eBV(e);const n=i.XpG();return i.DH7(n.rating,t)||(n.rating=t),i.Njj(t)})),i.bIt("ngModelChange",(function CoreRatingRateComponent_ion_item_0_Template_ion_select_ngModelChange_1_listener(){i.eBV(e);const t=i.XpG();return i.Njj(t.userRatingChanged())})),i.DNE(5,CoreRatingRateComponent_ion_item_0_ion_select_option_5_Template,2,2,"ion-select-option",3),i.k0s()()}if(2&e){const e=i.XpG();i.R7$(),i.R50("ngModel",e.rating),i.Y8G("cancelText",i.bMT(2,6,"core.cancel"))("disabled",!e.item.canrate)("interfaceOptions",i.eq3(12,_c0,i.bMT(3,8,"core.rating.rating")))("label",i.bMT(4,10,"core.rating.rating")),i.R7$(4),i.Y8G("ngForOf",e.scale.items)}}let C=(()=>{var e;class CoreRatingRateComponent{constructor(){this.disabled=!1,this.onLoading=new i.bkB,this.onUpdate=new i.bkB,this.disabled=r.CoreRating.isRatingDisabledInSite(),this.updateSiteObserver=c.z.on(c.z.SITE_UPDATED,(()=>{this.disabled=r.CoreRating.isRatingDisabledInSite()}),a.CoreSites.getCurrentSiteId())}ngOnChanges(){var e=this;return(0,o.A)((function*(){if(e.item=(e.ratingInfo.ratings||[]).find((t=>t.itemid==e.itemId)),e.scale=(e.ratingInfo.scales||[]).find((t=>t.id==e.scaleId)),!e.item||!e.scale)return e.item=void 0,void 0;if(!e.scale.items&&(e.scale.items=[],e.scale.isnumeric))for(let t=0;t<=e.scale.max;t++)e.scale.items.push({name:String(t),value:t});e.scale.items[0]&&e.scale.items[0].value==r.CoreRatingProvider.UNSET_RATING||e.scale.items.unshift({name:l.HT.instant("core.none"),value:r.CoreRatingProvider.UNSET_RATING}),e.onLoading.emit(!0);try{const t=yield s.CoreRatingOffline.getRating(e.contextLevel,e.instanceId,e.ratingInfo.component,e.ratingInfo.ratingarea,e.itemId);e.rating=t.rating}catch{e.rating=e.item&&null!=e.item.rating?e.item.rating:r.CoreRatingProvider.UNSET_RATING}finally{e.onLoading.emit(!1)}}))()}userRatingChanged(){var e=this;return(0,o.A)((function*(){if(void 0===e.rating)return;const t=yield u.CoreLoadings.show("core.sending",!0);try{void 0===(yield r.CoreRating.addRating(e.ratingInfo.component,e.ratingInfo.ratingarea,e.contextLevel,e.instanceId,e.itemId,e.itemSetId,e.courseId,e.scaleId,e.rating,e.userId,e.aggregateMethod))?d.CoreToasts.show({message:"core.datastoredoffline",translateMessage:!0,duration:d.ToastDuration.LONG}):e.onUpdate.emit()}catch(e){m.CoreAlerts.showError(e)}finally{t.dismiss()}}))()}ngOnDestroy(){this.updateSiteObserver.off()}}return(e=CoreRatingRateComponent).ɵfac=function CoreRatingRateComponent_Factory(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-rating-rate"]],inputs:{ratingInfo:"ratingInfo",contextLevel:"contextLevel",instanceId:"instanceId",itemId:"itemId",itemSetId:"itemSetId",courseId:"courseId",aggregateMethod:"aggregateMethod",scaleId:"scaleId",userId:"userId"},outputs:{onLoading:"onLoading",onUpdate:"onUpdate"},standalone:!0,features:[i.OA$,i.aNF],decls:1,vars:1,consts:[["class","ion-text-wrap",4,"ngIf"],[1,"ion-text-wrap"],["interface","action-sheet",1,"ion-text-start",3,"ngModelChange","ngModel","cancelText","disabled","interfaceOptions","label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function CoreRatingRateComponent_Template(e,t){1&e&&i.DNE(0,CoreRatingRateComponent_ion_item_0_Template,6,14,"ion-item",0),2&e&&i.Y8G("ngIf",t.item&&(t.item.canrate||null!==t.item.rating)&&!t.disabled)},dependencies:[p.n,g.Sq,g.bT,h.BC,h.vS,f.uz,f.Nm,f.Ip,f.Je,_.D9],encapsulation:2}),CoreRatingRateComponent})()},87207:(e,t,n)=>{n.d(t,{$:()=>A});var o=n(10467),i=n(54438),r=n(91768),s=n(3031),a=n(15324),d=n(52749),l=n(49882),c=n(8756),u=n(91416),m=n(86654),p=n(60177),g=n(2910),h=n(16986),f=n(64422),_=n(50016),C=n(7038),v=n(86198),I=n(73955);function CoreSharedFilesListComponent_core_site_picker_3_Template(e,t){if(1&e){const e=i.RV6();i.j41(0,"core-site-picker",4),i.bIt("siteSelected",(function CoreSharedFilesListComponent_core_site_picker_3_Template_core_site_picker_siteSelected_0_listener(t){i.eBV(e);const n=i.XpG();return i.Njj(n.changeSite(t))})),i.k0s()}if(2&e){const e=i.XpG();i.Y8G("hidden",!e.filesLoaded)("initialSite",e.siteId)}}function CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_1_Template(e,t){if(1&e){const e=i.RV6();i.j41(0,"core-local-file",7),i.bIt("onClick",(function CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_1_Template_core_local_file_onClick_0_listener(){i.eBV(e);const t=i.XpG().$implicit,n=i.XpG(2);return i.Njj(n.filePicked(t))}))("onDelete",(function CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_1_Template_core_local_file_onDelete_0_listener(){i.eBV(e);const t=i.XpG().index,n=i.XpG(2);return i.Njj(n.fileDeleted(t))}))("onRename",(function CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_1_Template_core_local_file_onRename_0_listener(t){i.eBV(e);const n=i.XpG().index,o=i.XpG(2);return i.Njj(o.fileRenamed(n,t))})),i.k0s()}if(2&e){const e=i.XpG().$implicit,t=i.XpG(2);i.Y8G("file",e)("manage",t.manage)("overrideClick",t.pick)}}function CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_2_Template(e,t){if(1&e){const e=i.RV6();i.j41(0,"ion-card")(1,"ion-item",8),i.bIt("click",(function CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_2_Template_ion_item_click_1_listener(){i.eBV(e);const t=i.XpG().$implicit,n=i.XpG(2);return i.Njj(n.openFolder(t))})),i.nrm(2,"ion-icon",9),i.nI1(3,"translate"),i.j41(4,"ion-label"),i.EFF(5),i.k0s()()()}if(2&e){const e=i.XpG().$implicit;i.R7$(),i.Y8G("detail",!0),i.R7$(),i.BMQ("aria-label",i.bMT(3,3,"core.folder")),i.R7$(3),i.JRh(e.name)}}function CoreSharedFilesListComponent_Conditional_5_ng_container_1_Template(e,t){if(1&e&&(i.qex(0),i.DNE(1,CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_1_Template,1,3,"core-local-file",6)(2,CoreSharedFilesListComponent_Conditional_5_ng_container_1_Conditional_2_Template,6,5),i.bVm()),2&e){const e=t.$implicit;i.R7$(),i.vxM(1,e.isFile?1:2)}}function CoreSharedFilesListComponent_Conditional_5_Template(e,t){if(1&e&&(i.j41(0,"ion-list"),i.DNE(1,CoreSharedFilesListComponent_Conditional_5_ng_container_1_Template,3,1,"ng-container",5),i.k0s()),2&e){const e=i.XpG();i.R7$(),i.Y8G("ngForOf",e.files)}}function CoreSharedFilesListComponent_Conditional_6_Template(e,t){1&e&&(i.nrm(0,"core-empty-box",10),i.nI1(1,"translate")),2&e&&i.Y8G("message",i.bMT(1,1,"core.sharedfiles.nosharedfiles"))}function CoreSharedFilesListComponent_Conditional_7_Template(e,t){1&e&&(i.nrm(0,"core-empty-box",10),i.nI1(1,"translate")),2&e&&i.Y8G("message",i.bMT(1,1,"core.sharedfiles.nosharedfilestoupload"))}let A=(()=>{var e;class CoreSharedFilesListComponent{constructor(){this.isModal=!1,this.manage=!1,this.pick=!1,this.showSitePicker=!1,this.onPathChanged=new i.bkB,this.onFilePicked=new i.bkB,this.filesLoaded=!1,this.files=[]}ngOnInit(){this.siteId=this.siteId||d.CoreSites.getCurrentSiteId(),this.loadFiles(),this.shareObserver=l.z.on(l.z.FILE_SHARED,(e=>{e.siteId===this.siteId&&(this.filesLoaded=!1,this.loadFiles().finally((()=>{this.filesLoaded=!0})))}))}loadFiles(){var e=this;return(0,o.A)((function*(){e.files=yield s.CoreSharedFiles.getSiteSharedFiles(e.siteId,e.path,e.mimetypes),e.filesLoaded=!0}))()}refreshFiles(e){this.loadFiles().finally((()=>{e.complete()}))}fileDeleted(e){this.files.splice(e,1)}fileRenamed(e,t){this.files[e]=t.file}openFolder(e){const t=c.$.concatenatePaths(this.path||"",e.name);if(this.isModal)return this.path=t,this.filesLoaded=!1,this.loadFiles(),this.onPathChanged.emit(t),void 0;const n=r.VV.hashAsciiStr(t);a.CoreNavigator.navigate(`../${n}`,{params:{path:t,manage:this.manage,pick:this.pick,siteId:this.siteId,mimetypes:this.mimetypes,isModal:!1}})}changeSite(e){this.siteId=e,this.path="",this.filesLoaded=!1,this.loadFiles(),this.onPathChanged.emit("")}filePicked(e){this.onFilePicked.emit(e)}ngOnDestroy(){var e;null===(e=this.shareObserver)||void 0===e||e.off()}}return(e=CoreSharedFilesListComponent).ɵfac=function CoreSharedFilesListComponent_Factory(t){return new(t||e)},e.ɵcmp=i.VBU({type:e,selectors:[["core-shared-files-list"]],inputs:{siteId:"siteId",mimetypes:"mimetypes",isModal:[i.Mj6.HasDecoratorInputTransform,"isModal","isModal",u.G],manage:[i.Mj6.HasDecoratorInputTransform,"manage","manage",u.G],pick:[i.Mj6.HasDecoratorInputTransform,"pick","pick",u.G],path:"path",showSitePicker:[i.Mj6.HasDecoratorInputTransform,"showSitePicker","showSitePicker",u.G]},outputs:{onPathChanged:"onPathChanged",onFilePicked:"onFilePicked"},standalone:!0,features:[i.GFd,i.aNF],decls:8,vars:8,consts:[["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hidden","initialSite","siteSelected",4,"ngIf"],[3,"hideUntil","fullscreen"],[3,"siteSelected","hidden","initialSite"],[4,"ngFor","ngForOf"],[3,"file","manage","overrideClick"],[3,"onClick","onDelete","onRename","file","manage","overrideClick"],["button","",1,"ion-text-wrap","item-file","item-directory",3,"click","detail"],["name","fas-folder","slot","start"],["icon","fas-folder",3,"message"]],template:function CoreSharedFilesListComponent_Template(e,t){1&e&&(i.j41(0,"ion-refresher",0),i.bIt("ionRefresh",(function CoreSharedFilesListComponent_Template_ion_refresher_ionRefresh_0_listener(e){return t.refreshFiles(e.target)})),i.nrm(1,"ion-refresher-content",1),i.nI1(2,"translate"),i.k0s(),i.DNE(3,CoreSharedFilesListComponent_core_site_picker_3_Template,1,2,"core-site-picker",2),i.j41(4,"core-loading",3),i.DNE(5,CoreSharedFilesListComponent_Conditional_5_Template,2,1,"ion-list")(6,CoreSharedFilesListComponent_Conditional_6_Template,2,3)(7,CoreSharedFilesListComponent_Conditional_7_Template,2,3),i.k0s()),2&e&&(i.Y8G("disabled",!t.filesLoaded),i.R7$(),i.FS9("pullingText",i.bMT(2,6,"core.pulltorefresh")),i.R7$(2),i.Y8G("ngIf",t.showSitePicker),i.R7$(),i.Y8G("hideUntil",t.filesLoaded)("fullscreen",!1),i.R7$(),i.vxM(5,t.files&&t.files.length>0?5:t.manage?6:7))},dependencies:[m.n,p.Sq,p.bT,g.b_,g.iq,g.uz,g.he,g.nf,g.To,g.Ki,h.h,f.R,_.a,C.C,v.t,I.D9],encapsulation:2}),CoreSharedFilesListComponent})()},69075:(e,t,n)=>{n.d(t,{h:()=>CoreSitePluginsCompileInitComponent});var o=n(58364),i=n(32832);class CoreSitePluginsCompileInitComponent{constructor(){this.content="",this.jsData={},this.extraImports=[]}componentCreated(e){var t;e&&null!==(t=this.handlerSchema)&&void 0!==t&&null!==(t=t.methodJSResult)&&void 0!==t&&t.componentInit&&this.handlerSchema.methodJSResult.componentInit.apply(e)}getHandlerData(e){var t;const n=i.CoreSitePlugins.getSitePluginHandler(e);this.handlerSchema=null==n?void 0:n.handlerSchema,this.handlerSchema&&(null!==(t=this.handlerSchema.methodTemplates)&&void 0!==t&&t.length&&(this.content=this.handlerSchema.methodTemplates[0].html,this.jsData.CONTENT_TEMPLATES=o.T.toKeyValueMap(this.handlerSchema.methodTemplates,"id","html")),this.handlerSchema.methodOtherdata&&(this.jsData.CONTENT_OTHERDATA=this.handlerSchema.methodOtherdata),this.handlerSchema.methodJSResult&&(this.jsData.CONTENT_JS_RESULT=this.handlerSchema.methodJSResult))}}},88646:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsAssignFeedbackComponent:()=>u});var o=n(10467),i=n(62007),r=n(69075),s=n(91416),a=n(74978),d=n(86654),l=n(75133),c=n(54438);let u=(()=>{var e;class CoreSitePluginsAssignFeedbackComponent extends r.h{constructor(){super(...arguments),this.canEdit=!1,this.edit=!1}ngOnInit(){var e=this;return(0,o.A)((function*(){e.jsData.assign=e.assign,e.jsData.submission=e.submission,e.jsData.plugin=e.plugin,e.jsData.userId=e.userId,e.jsData.configs=e.configs,e.jsData.edit=e.edit,e.jsData.canEdit=e.canEdit,e.extraImports=yield(0,l.qg)(),e.plugin&&e.getHandlerData(i.AddonModAssignFeedbackDelegate.getHandlerName(e.plugin.type))}))()}invalidate(){return Promise.resolve()}}return(e=CoreSitePluginsAssignFeedbackComponent).ɵfac=(()=>{let t;return function CoreSitePluginsAssignFeedbackComponent_Factory(n){return(t||(t=c.xGo(e)))(n||e)}})(),e.ɵcmp=c.VBU({type:e,selectors:[["core-site-plugins-assign-feedback"]],inputs:{assign:"assign",submission:"submission",plugin:"plugin",userId:"userId",configs:"configs",canEdit:[c.Mj6.HasDecoratorInputTransform,"canEdit","canEdit",s.G],edit:[c.Mj6.HasDecoratorInputTransform,"edit","edit",s.G]},standalone:!0,features:[c.GFd,c.Vt3,c.aNF],decls:1,vars:3,consts:[[3,"created","text","jsData","extraImports"]],template:function CoreSitePluginsAssignFeedbackComponent_Template(e,t){1&e&&(c.j41(0,"core-compile-html",0),c.bIt("created",(function CoreSitePluginsAssignFeedbackComponent_Template_core_compile_html_created_0_listener(e){return t.componentCreated(e)})),c.k0s()),2&e&&c.Y8G("text",t.content)("jsData",t.jsData)("extraImports",t.extraImports)},dependencies:[d.n,a.h],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsAssignFeedbackComponent})()},72918:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsAssignSubmissionComponent:()=>u});var o=n(10467),i=n(95790),r=n(69075),s=n(91416),a=n(74978),d=n(86654),l=n(75133),c=n(54438);let u=(()=>{var e;class CoreSitePluginsAssignSubmissionComponent extends r.h{constructor(){super(...arguments),this.edit=!1,this.allowOffline=!1}ngOnInit(){var e=this;return(0,o.A)((function*(){e.jsData.assign=e.assign,e.jsData.submission=e.submission,e.jsData.plugin=e.plugin,e.jsData.configs=e.configs,e.jsData.edit=e.edit,e.jsData.allowOffline=e.allowOffline,e.extraImports=yield(0,l.qg)(),e.plugin&&e.getHandlerData(i.AddonModAssignSubmissionDelegate.getHandlerName(e.plugin.type))}))()}invalidate(){return Promise.resolve()}}return(e=CoreSitePluginsAssignSubmissionComponent).ɵfac=(()=>{let t;return function CoreSitePluginsAssignSubmissionComponent_Factory(n){return(t||(t=c.xGo(e)))(n||e)}})(),e.ɵcmp=c.VBU({type:e,selectors:[["core-site-plugins-assign-submission"]],inputs:{assign:"assign",submission:"submission",plugin:"plugin",configs:"configs",edit:[c.Mj6.HasDecoratorInputTransform,"edit","edit",s.G],allowOffline:[c.Mj6.HasDecoratorInputTransform,"allowOffline","allowOffline",s.G]},standalone:!0,features:[c.GFd,c.Vt3,c.aNF],decls:1,vars:3,consts:[[3,"created","text","jsData","extraImports"]],template:function CoreSitePluginsAssignSubmissionComponent_Template(e,t){1&e&&(c.j41(0,"core-compile-html",0),c.bIt("created",(function CoreSitePluginsAssignSubmissionComponent_Template_core_compile_html_created_0_listener(e){return t.componentCreated(e)})),c.k0s()),2&e&&c.Y8G("text",t.content)("jsData",t.jsData)("extraImports",t.extraImports)},dependencies:[d.n,a.h],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsAssignSubmissionComponent})()},26766:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsBlockComponent:()=>u});var o=n(10467),i=n(3484),r=n(63114),s=n(32832),a=n(46526),d=n(86654),l=n(54438),c=n(60177);function CoreSitePluginsBlockComponent_core_site_plugins_plugin_content_0_Template(e,t){if(1&e&&l.nrm(0,"core-site-plugins-plugin-content",1),2&e){const e=l.XpG();l.Y8G("component",e.component)("method",e.method)("args",e.args)("initResult",e.initResult)("data",e.jsData)("contextInstanceId",e.block.instanceid)}}let u=(()=>{var e;class CoreSitePluginsBlockComponent extends i.d{constructor(){super("CoreSitePluginsBlockComponent")}ngOnChanges(){if(this.component)return;const e=r.CoreBlockDelegate.getHandlerName(this.block.name),t=s.CoreSitePlugins.getSitePluginHandler(e);t&&(this.component=t.plugin.component,this.method=t.handlerSchema.method,this.args={contextlevel:this.contextLevel,instanceid:this.instanceId,blockid:this.block.instanceid},this.jsData={block:this.block},this.initResult=t.initResult)}invalidateContent(){var e=this;return(0,o.A)((function*(){if(e.component&&e.method)return s.CoreSitePlugins.invalidateContent(e.component,e.method,e.args)}))()}}return(e=CoreSitePluginsBlockComponent).ɵfac=function CoreSitePluginsBlockComponent_Factory(t){return new(t||e)},e.ɵcmp=l.VBU({type:e,selectors:[["core-site-plugins-block"]],viewQuery:function CoreSitePluginsBlockComponent_Query(e,t){if(1&e&&l.GBs(a.U,5),2&e){let e;l.mGM(e=l.lsd())&&(t.content=e.first)}},hostVars:2,hostBindings:function CoreSitePluginsBlockComponent_HostBindings(e,t){2&e&&l.HbH(t.component)},standalone:!0,features:[l.Vt3,l.OA$,l.aNF],decls:1,vars:1,consts:[["contextLevel","block",3,"component","method","args","initResult","data","contextInstanceId",4,"ngIf"],["contextLevel","block",3,"component","method","args","initResult","data","contextInstanceId"]],template:function CoreSitePluginsBlockComponent_Template(e,t){1&e&&l.DNE(0,CoreSitePluginsBlockComponent_core_site_plugins_plugin_content_0_Template,1,6,"core-site-plugins-plugin-content",0),2&e&&l.Y8G("ngIf",t.component&&t.method)},dependencies:[d.n,c.bT,a.U],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsBlockComponent})()},46254:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsCourseFormatComponent:()=>c});var o=n(10467),i=n(14001),r=n(32832),s=n(46526),a=n(86654),d=n(54438),l=n(60177);function CoreSitePluginsCourseFormatComponent_core_site_plugins_plugin_content_0_Template(e,t){if(1&e&&d.nrm(0,"core-site-plugins-plugin-content",1),2&e){const e=d.XpG();d.Y8G("component",e.component)("method",e.method)("args",e.args)("initResult",e.initResult)("data",e.data)("contextInstanceId",null==e.course?null:e.course.id)}}let c=(()=>{var e;class CoreSitePluginsCourseFormatComponent{ngOnChanges(){if(this.course&&this.course.format){if(!this.component){const e=i.CoreCourseFormatDelegate.getHandlerName(this.course.format),t=r.CoreSitePlugins.getSitePluginHandler(e);t&&(this.component=t.plugin.component,this.method=t.handlerSchema.method,this.args={courseid:this.course.id},this.initResult=t.initResult)}this.data={course:this.course,sections:this.sections,initialSectionId:this.initialSectionId,initialSectionNumber:this.initialSectionNumber,moduleId:this.moduleId,coreCourseFormatComponent:this.coreCourseFormatComponent}}}doRefresh(e,t,n){var i=this;return(0,o.A)((function*(){var e;yield null===(e=i.content)||void 0===e?void 0:e.refreshContent(n)}))()}}return(e=CoreSitePluginsCourseFormatComponent).ɵfac=function CoreSitePluginsCourseFormatComponent_Factory(t){return new(t||e)},e.ɵcmp=d.VBU({type:e,selectors:[["core-site-plugins-course-format"]],viewQuery:function CoreSitePluginsCourseFormatComponent_Query(e,t){if(1&e&&d.GBs(s.U,5),2&e){let e;d.mGM(e=d.lsd())&&(t.content=e.first)}},hostVars:2,hostBindings:function CoreSitePluginsCourseFormatComponent_HostBindings(e,t){2&e&&d.HbH(t.component)},inputs:{course:"course",sections:"sections",initialSectionId:"initialSectionId",initialSectionNumber:"initialSectionNumber",moduleId:"moduleId",coreCourseFormatComponent:"coreCourseFormatComponent"},standalone:!0,features:[d.OA$,d.aNF],decls:1,vars:1,consts:[["contextLevel","course",3,"component","method","args","initResult","data","contextInstanceId",4,"ngIf"],["contextLevel","course",3,"component","method","args","initResult","data","contextInstanceId"]],template:function CoreSitePluginsCourseFormatComponent_Template(e,t){1&e&&d.DNE(0,CoreSitePluginsCourseFormatComponent_core_site_plugins_plugin_content_0_Template,1,6,"core-site-plugins-plugin-content",0),2&e&&d.Y8G("ngIf",t.component&&t.method)},dependencies:[a.n,l.bT,s.U],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsCourseFormatComponent})()},11684:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsQuestionBehaviourComponent:()=>c});var o=n(10467),i=n(86654),r=n(91416),s=n(54438),a=n(74978),d=n(13482),l=n(69075);let c=(()=>{var e;class CoreSitePluginsQuestionBehaviourComponent extends l.h{constructor(){super(),this.offlineEnabled=!1,this.review=!1,this.buttonClicked=new s.bkB,this.onAbort=new s.bkB}ngOnInit(){var e=this;return(0,o.A)((function*(){e.jsData.question=e.question,e.jsData.component=e.component,e.jsData.componentId=e.componentId,e.jsData.attemptId=e.attemptId,e.jsData.offlineEnabled=e.offlineEnabled,e.jsData.contextLevel=e.contextLevel,e.jsData.contextInstanceId=e.contextInstanceId,e.jsData.courseId=e.courseId,e.jsData.review=e.review,e.jsData.buttonClicked=e.buttonClicked,e.jsData.onAbort=e.onAbort,e.question&&e.getHandlerData(d.CoreQuestionBehaviourDelegate.getHandlerName(e.preferredBehaviour||""))}))()}}return(e=CoreSitePluginsQuestionBehaviourComponent).ɵfac=function CoreSitePluginsQuestionBehaviourComponent_Factory(t){return new(t||e)},e.ɵcmp=s.VBU({type:e,selectors:[["core-site-plugins-question-behaviour"]],inputs:{question:"question",component:"component",componentId:"componentId",attemptId:"attemptId",offlineEnabled:[s.Mj6.HasDecoratorInputTransform,"offlineEnabled","offlineEnabled",r.G],contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId",review:[s.Mj6.HasDecoratorInputTransform,"review","review",r.G],preferredBehaviour:"preferredBehaviour"},outputs:{buttonClicked:"buttonClicked",onAbort:"onAbort"},standalone:!0,features:[s.GFd,s.Vt3,s.aNF],decls:1,vars:3,consts:[[3,"created","text","jsData","extraImports"]],template:function CoreSitePluginsQuestionBehaviourComponent_Template(e,t){1&e&&(s.j41(0,"core-compile-html",0),s.bIt("created",(function CoreSitePluginsQuestionBehaviourComponent_Template_core_compile_html_created_0_listener(e){return t.componentCreated(e)})),s.k0s()),2&e&&s.Y8G("text",t.content)("jsData",t.jsData)("extraImports",t.extraImports)},dependencies:[i.n,a.h],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsQuestionBehaviourComponent})()},55792:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsQuestionComponent:()=>c});var o=n(10467),i=n(86654),r=n(91416),s=n(54438),a=n(74978),d=n(89857),l=n(69075);let c=(()=>{var e;class CoreSitePluginsQuestionComponent extends l.h{constructor(){super(...arguments),this.offlineEnabled=!1,this.review=!1,this.buttonClicked=new s.bkB,this.onAbort=new s.bkB}ngOnInit(){var e=this;return(0,o.A)((function*(){e.jsData.question=e.question,e.jsData.component=e.component,e.jsData.componentId=e.componentId,e.jsData.attemptId=e.attemptId,e.jsData.offlineEnabled=e.offlineEnabled,e.jsData.contextLevel=e.contextLevel,e.jsData.contextInstanceId=e.contextInstanceId,e.jsData.courseId=e.courseId,e.jsData.review=e.review,e.jsData.preferredBehaviour=e.preferredBehaviour,e.jsData.buttonClicked=e.buttonClicked,e.jsData.onAbort=e.onAbort,e.question&&e.getHandlerData(d.CoreQuestionDelegate.getHandlerName(`qtype_${e.question.type}`))}))()}}return(e=CoreSitePluginsQuestionComponent).ɵfac=(()=>{let t;return function CoreSitePluginsQuestionComponent_Factory(n){return(t||(t=s.xGo(e)))(n||e)}})(),e.ɵcmp=s.VBU({type:e,selectors:[["core-site-plugins-question"]],inputs:{question:"question",component:"component",componentId:"componentId",attemptId:"attemptId",offlineEnabled:[s.Mj6.HasDecoratorInputTransform,"offlineEnabled","offlineEnabled",r.G],contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId",review:[s.Mj6.HasDecoratorInputTransform,"review","review",r.G],preferredBehaviour:"preferredBehaviour"},outputs:{buttonClicked:"buttonClicked",onAbort:"onAbort"},standalone:!0,features:[s.GFd,s.Vt3,s.aNF],decls:1,vars:3,consts:[[3,"created","text","jsData","extraImports"]],template:function CoreSitePluginsQuestionComponent_Template(e,t){1&e&&(s.j41(0,"core-compile-html",0),s.bIt("created",(function CoreSitePluginsQuestionComponent_Template_core_compile_html_created_0_listener(e){return t.componentCreated(e)})),s.k0s()),2&e&&s.Y8G("text",t.content)("jsData",t.jsData)("extraImports",t.extraImports)},dependencies:[i.n,a.h],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsQuestionComponent})()},96350:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsQuizAccessRuleComponent:()=>c});var o=n(10467),i=n(15646),r=n(69075),s=n(91416),a=n(74978),d=n(86654),l=n(54438);let c=(()=>{var e;class CoreSitePluginsQuizAccessRuleComponent extends r.h{constructor(){super(...arguments),this.prefetch=!1}ngOnInit(){var e=this;return(0,o.A)((function*(){e.jsData.rule=e.rule,e.jsData.quiz=e.quiz,e.jsData.attempt=e.attempt,e.jsData.prefetch=e.prefetch,e.jsData.siteId=e.siteId,e.jsData.form=e.form,e.rule&&e.getHandlerData(i.AddonModQuizAccessRuleDelegate.getHandlerName(e.rule))}))()}}return(e=CoreSitePluginsQuizAccessRuleComponent).ɵfac=(()=>{let t;return function CoreSitePluginsQuizAccessRuleComponent_Factory(n){return(t||(t=l.xGo(e)))(n||e)}})(),e.ɵcmp=l.VBU({type:e,selectors:[["core-site-plugins-quiz-access-rule"]],inputs:{rule:"rule",quiz:"quiz",attempt:"attempt",prefetch:[l.Mj6.HasDecoratorInputTransform,"prefetch","prefetch",s.G],siteId:"siteId",form:"form"},standalone:!0,features:[l.GFd,l.Vt3,l.aNF],decls:1,vars:3,consts:[[3,"created","text","jsData","extraImports"]],template:function CoreSitePluginsQuizAccessRuleComponent_Template(e,t){1&e&&(l.j41(0,"core-compile-html",0),l.bIt("created",(function CoreSitePluginsQuizAccessRuleComponent_Template_core_compile_html_created_0_listener(e){return t.componentCreated(e)})),l.k0s()),2&e&&l.Y8G("text",t.content)("jsData",t.jsData)("extraImports",t.extraImports)},dependencies:[d.n,a.h],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsQuizAccessRuleComponent})()},44940:(e,t,n)=>{n.r(t),n.d(t,{CoreSitePluginsUserProfileFieldComponent:()=>l});var o=n(86654),i=n(91416),r=n(74978),s=n(69075),a=n(999),d=n(54438);let l=(()=>{var e;class CoreSitePluginsUserProfileFieldComponent extends s.h{constructor(){super(...arguments),this.signup=!1,this.edit=!1,this.disabled=!1}ngOnInit(){if(this.jsData.field=this.field,this.jsData.signup=this.signup,this.jsData.edit=this.edit,this.jsData.disabled=this.disabled,this.jsData.form=this.form,this.jsData.registerAuth=this.registerAuth,this.field){this.getHandlerData(a.CoreUserProfileFieldDelegate.getHandlerName(("type"in this.field?this.field.type:this.field.datatype)||""))}}}return(e=CoreSitePluginsUserProfileFieldComponent).ɵfac=(()=>{let t;return function CoreSitePluginsUserProfileFieldComponent_Factory(n){return(t||(t=d.xGo(e)))(n||e)}})(),e.ɵcmp=d.VBU({type:e,selectors:[["core-site-plugins-user-profile-field"]],inputs:{field:"field",signup:[d.Mj6.HasDecoratorInputTransform,"signup","signup",i.G],edit:[d.Mj6.HasDecoratorInputTransform,"edit","edit",i.G],disabled:[d.Mj6.HasDecoratorInputTransform,"disabled","disabled",i.G],form:"form",registerAuth:"registerAuth",contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId"},standalone:!0,features:[d.GFd,d.Vt3,d.aNF],decls:1,vars:2,consts:[[3,"created","text","jsData"]],template:function CoreSitePluginsUserProfileFieldComponent_Template(e,t){1&e&&(d.j41(0,"core-compile-html",0),d.bIt("created",(function CoreSitePluginsUserProfileFieldComponent_Template_core_compile_html_created_0_listener(e){return t.componentCreated(e)})),d.k0s()),2&e&&d.Y8G("text",t.content)("jsData",t.jsData)},dependencies:[o.n,r.h],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsUserProfileFieldComponent})()},25266:(e,t,n)=>{n.d(t,{k:()=>a});var o=n(10467),i=n(91416),r=n(89417),s=n(54438);let a=(()=>{var e;class CoreUserProfileFieldBaseComponent{constructor(){this.signup=!1,this.edit=!1,this.disabled=!1,this.modelName=""}ngOnInit(){var e=this;return(0,o.A)((function*(){if(e.field)return!e.edit&&"value"in e.field?(e.initForNonEdit(e.field),void 0):e.edit&&"required"in e.field?(e.initForEdit(e.field),void 0):void 0}))()}initForNonEdit(e){var t;this.value=null!==(t=e.displayvalue)&&void 0!==t?t:e.value,this.valueNotFiltered=null==e.displayvalue}initForEdit(e){var t;this.modelName=`profile_field_${e.shortname}`,this.required=!!e.required,this.control=this.createFormControl(e),null===(t=this.form)||void 0===t||t.addControl(this.modelName,this.control)}createFormControl(e){var t;const n={value:null!==(t=e.defaultdata)&&void 0!==t?t:"",disabled:this.disabled};return new r.MJ(n,{validators:this.required&&!e.locked?r.k0.required:null,nonNullable:!0})}}return(e=CoreUserProfileFieldBaseComponent).ɵfac=function CoreUserProfileFieldBaseComponent_Factory(t){return new(t||e)},e.ɵcmp=s.VBU({type:e,selectors:[["ng-component"]],inputs:{field:"field",signup:[s.Mj6.HasDecoratorInputTransform,"signup","signup",i.G],edit:[s.Mj6.HasDecoratorInputTransform,"edit","edit",i.G],disabled:[s.Mj6.HasDecoratorInputTransform,"disabled","disabled",i.G],form:"form",registerAuth:"registerAuth",contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId"},features:[s.GFd],decls:0,vars:0,template:function CoreUserProfileFieldBaseComponent_Template(e,t){},encapsulation:2}),CoreUserProfileFieldBaseComponent})()},32379:(e,t,n)=>{n.d(t,{u:()=>CoreUserParticipantsSource});var o=n(10467),i=n(99522),r=n(98870),s=n(76833);class CoreUserParticipantsSource extends i.F{static getSourceId(e,t=null){return`participants-${e}-${t=null!=t?t:"__empty__"}`}constructor(e,t=null){super(),this.COURSE_ID=e,this.SEARCH_QUERY=t}getItemPath(e){return e.id.toString()}getItemQueryParams(){return{search:this.SEARCH_QUERY}}loadPageItems(e){var t=this;return(0,o.A)((function*(){if(t.SEARCH_QUERY){const{participants:n,canLoadMore:o}=yield r.CoreUser.searchParticipants(t.COURSE_ID,t.SEARCH_QUERY,!0,e,s._u);return{items:n,hasMoreItems:o}}const{participants:n,canLoadMore:o}=yield r.CoreUser.getParticipants(t.COURSE_ID,e*s._u,s._u);return{items:n,hasMoreItems:o}}))()}getPageLength(){return s._u}}},11544:(e,t,n)=>{n.r(t),n.d(t,{CoreUserProfileFieldComponent:()=>u});var o=n(10467),i=n(72881),r=n(999),s=n(81690),a=n(91416),d=n(86654),l=n(54438),c=n(68162);let u=(()=>{var e;class CoreUserProfileFieldComponent{constructor(){this.signup=!1,this.edit=!1,this.data={}}ngOnInit(){var e=this;return(0,o.A)((function*(){e.field&&(e.componentClass=yield r.CoreUserProfileFieldDelegate.getComponent(e.field,e.signup),"param1"in e.field&&e.field.param1&&(e.field.param1=yield i.CoreLang.filterMultilang(e.field.param1)),e.data.field=e.field,e.data.edit=e.edit,e.data.contextLevel=e.contextLevel,e.data.contextInstanceId=e.contextInstanceId,e.data.courseId=e.courseId,e.edit&&(e.data.signup=e.signup,e.data.disabled="locked"in e.field&&s.j.isTrueOrOne(e.field.locked),e.data.form=e.form,e.data.registerAuth=e.registerAuth))}))()}}return(e=CoreUserProfileFieldComponent).ɵfac=function CoreUserProfileFieldComponent_Factory(t){return new(t||e)},e.ɵcmp=l.VBU({type:e,selectors:[["core-user-profile-field"]],inputs:{field:"field",signup:[l.Mj6.HasDecoratorInputTransform,"signup","signup",a.G],edit:[l.Mj6.HasDecoratorInputTransform,"edit","edit",a.G],form:"form",registerAuth:"registerAuth",contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId"},standalone:!0,features:[l.GFd,l.aNF],decls:1,vars:2,consts:[[3,"component","data"]],template:function CoreUserProfileFieldComponent_Template(e,t){1&e&&l.nrm(0,"core-dynamic-component",0),2&e&&l.Y8G("component",t.componentClass)("data",t.data)},dependencies:[d.n,c.m],encapsulation:2}),CoreUserProfileFieldComponent})()},89079:(e,t,n)=>{n.d(t,{ot:()=>toSignal});var o=n(54438);function toSignal(e,t){var n,i;ngDevMode&&(0,o.tdH)(toSignal,"Invoking `toSignal` causes new subscriptions every time. Consider moving `toSignal` outside of the reactive context and read the signal value where needed.");const r=!(null!=t&&t.manualCleanup);r&&(null==t||!t.injector)&&(0,o.Af3)(toSignal);const s=r?null!==(n=null==t||null===(i=t.injector)||void 0===i?void 0:i.get(o.abz))&&void 0!==n?n:(0,o.WQX)(o.abz):null;let a;a=(0,o.vPA)(null!=t&&t.requireSync?{kind:0}:{kind:1,value:null==t?void 0:t.initialValue});const d=e.subscribe({next:e=>a.set({kind:1,value:e}),error:e=>{if(null!=t&&t.rejectErrors)throw e;a.set({kind:2,error:e})}});if(ngDevMode&&null!=t&&t.requireSync&&0===a().kind)throw new o.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.");return null==s||s.onDestroy(d.unsubscribe.bind(d)),(0,o.EWP)((()=>{const e=a();switch(e.kind){case 1:return e.value;case 2:throw e.error;case 0:throw new o.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}}))}}}]);