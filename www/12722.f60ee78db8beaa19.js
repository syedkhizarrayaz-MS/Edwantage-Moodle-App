"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[12722],{12722:(e,t,o)=>{o.r(t),o.d(t,{AddonUserProfileFieldDatetimeComponent:()=>D});var n=o(89417),i=o(24742),a=o(81690),r=o(25266),l=o(86654),d=o(54438),m=o(60177),s=o(2910),p=o(25880),f=o(17778),c=o(58197),u=o(9970),_=o(73955),F=o(59528);function AddonUserProfileFieldDatetimeComponent_ion_item_0_p_4_Template(e,t){if(1&e&&(d.j41(0,"p"),d.EFF(1),d.nI1(2,"coreFormatDate"),d.k0s()),2&e){const e=d.XpG(2);d.R7$(),d.JRh(d.bMT(2,1,1e3*e.valueNumber))}}function AddonUserProfileFieldDatetimeComponent_ion_item_0_p_5_Template(e,t){if(1&e&&(d.j41(0,"p"),d.EFF(1),d.k0s()),2&e){const e=d.XpG(2);d.R7$(),d.JRh(e.displayValue)}}function AddonUserProfileFieldDatetimeComponent_ion_item_0_Template(e,t){if(1&e&&(d.j41(0,"ion-item")(1,"ion-label")(2,"p",2),d.nrm(3,"core-format-text",3),d.k0s(),d.DNE(4,AddonUserProfileFieldDatetimeComponent_ion_item_0_p_4_Template,3,3,"p",0)(5,AddonUserProfileFieldDatetimeComponent_ion_item_0_p_5_Template,2,1,"p",0),d.k0s()()),2&e){const e=d.XpG();d.R7$(3),d.Y8G("text",e.field.name)("contextLevel",e.contextLevel)("contextInstanceId",e.contextInstanceId)("courseId",e.courseId)("wsNotFiltered",!0),d.R7$(),d.Y8G("ngIf",e.valueNumber),d.R7$(),d.Y8G("ngIf",e.displayValue)}}function AddonUserProfileFieldDatetimeComponent_ion_item_1_ng_container_5_Template(e,t){1&e&&(d.qex(0),d.j41(1,"span",10),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.j41(4,"span",11),d.EFF(5),d.nI1(6,"translate"),d.k0s(),d.bVm()),2&e&&(d.R7$(2),d.JRh(d.bMT(3,2,"core.choosedots")),d.R7$(3),d.JRh(d.bMT(6,4,"core.choosedots")))}function AddonUserProfileFieldDatetimeComponent_ion_item_1_ng_template_7_Template(e,t){if(1&e&&(d.j41(0,"ion-datetime",12)(1,"span",13),d.nrm(2,"core-format-text",3),d.k0s()()),2&e){const e=d.XpG(2);d.Mz_("id","profile-field-datetime-",e.field.shortname,""),d.Y8G("formControlName",e.modelName)("presentation",e.ionDateTimePresentation)("max",e.max)("min",e.min)("showDefaultButtons",!0),d.R7$(2),d.Y8G("text",e.field.name)("contextLevel",e.contextLevel)("contextInstanceId",e.contextInstanceId)("courseId",e.courseId)("wsNotFiltered",!0)}}function AddonUserProfileFieldDatetimeComponent_ion_item_1_Template(e,t){if(1&e&&(d.j41(0,"ion-item",4)(1,"ion-label",5)(2,"label",6),d.nrm(3,"core-format-text",3),d.k0s()(),d.j41(4,"ion-datetime-button",7),d.DNE(5,AddonUserProfileFieldDatetimeComponent_ion_item_1_ng_container_5_Template,7,6,"ng-container",0),d.k0s(),d.j41(6,"ion-modal",8),d.DNE(7,AddonUserProfileFieldDatetimeComponent_ion_item_1_ng_template_7_Template,3,12,"ng-template"),d.k0s(),d.nrm(8,"core-input-errors",9),d.k0s()),2&e){const e=d.XpG();d.Y8G("formGroup",e.form),d.R7$(2),d.Mz_("for","profile-field-datetime-",e.field.shortname,"-button"),d.Y8G("core-mark-required",e.required),d.R7$(),d.Y8G("text",e.field.name)("contextLevel",e.contextLevel)("contextInstanceId",e.contextInstanceId)("courseId",e.courseId)("wsNotFiltered",!0),d.R7$(),d.Mz_("datetime","profile-field-datetime-",e.field.shortname,""),d.Mz_("id","profile-field-datetime-",e.field.shortname,"-button"),d.R7$(),d.Y8G("ngIf",void 0===(null==e.control?null:e.control.value)),d.R7$(),d.Y8G("keepContentsMounted",!0),d.R7$(2),d.Y8G("control",e.form.controls[e.modelName])}}let D=(()=>{var e;class AddonUserProfileFieldDatetimeComponent extends r.k{constructor(){super(...arguments),this.ionDateTimePresentation="date"}initForNonEdit(e){if(e.displayvalue)return this.displayValue=e.displayvalue,void 0;this.valueNumber=Number(e.value)}initForEdit(e){super.initForEdit(e);const t=a.j.isTrueOrOne(e.param3);this.ionDateTimePresentation=t?"date-time":"date",e.param1&&Number(e.param1)&&(this.min=e.param1),e.param2&&Number(e.param2)&&(this.max=e.param2),this.min=this.min||i.j.getDatetimeDefaultMin(),this.max=this.max||i.j.getDatetimeDefaultMax()}createFormControl(e){return new n.MJ({value:e.defaultdata&&"0"!==e.defaultdata?e.defaultdata:void 0,disabled:this.disabled},{validators:this.required&&!e.locked?n.k0.required:null,nonNullable:!0})}}return(e=AddonUserProfileFieldDatetimeComponent).ɵfac=(()=>{let t;return function AddonUserProfileFieldDatetimeComponent_Factory(o){return(t||(t=d.xGo(e)))(o||e)}})(),e.ɵcmp=d.VBU({type:e,selectors:[["addon-user-profile-field-datetime"]],standalone:!0,features:[d.Vt3,d.aNF],decls:2,vars:2,consts:[[4,"ngIf"],["class","ion-text-wrap",3,"formGroup",4,"ngIf"],[1,"item-heading"],[3,"text","contextLevel","contextInstanceId","courseId","wsNotFiltered"],[1,"ion-text-wrap",3,"formGroup"],["position","stacked"],[3,"core-mark-required","for"],[3,"datetime","id"],[3,"keepContentsMounted"],[3,"control"],["slot","date-target"],["slot","time-target"],[3,"id","formControlName","presentation","max","min","showDefaultButtons"],["slot","title"]],template:function AddonUserProfileFieldDatetimeComponent_Template(e,t){1&e&&d.DNE(0,AddonUserProfileFieldDatetimeComponent_ion_item_0_Template,6,7,"ion-item",0)(1,AddonUserProfileFieldDatetimeComponent_ion_item_1_Template,9,16,"ion-item",1),2&e&&(d.Y8G("ngIf",!t.edit&&t.field&&t.field.name),d.R7$(),d.Y8G("ngIf",t.edit&&t.field&&t.field.shortname&&t.form))},dependencies:[l.n,m.bT,n.BC,n.cb,s.A9,s.K4,s.uz,s.he,s.Sb,s.Je,n.j4,n.JD,p.q,f.j,c.B,u.E,_.D9,F.f],encapsulation:2}),AddonUserProfileFieldDatetimeComponent})()}}]);