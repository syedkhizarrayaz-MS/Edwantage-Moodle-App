"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[89588],{64502:(e,n,i)=>{i.d(n,{a:()=>a});var t=i(10467),o=i(79555),s=i(54438);let r=(()=>{var e;class CoreEditorServiceProvider{getEditorComponentClass(){return(0,t.A)((function*(){return(yield i.e(31777).then(i.bind(i,31777))).CoreEditorClassicEditorComponent}))()}getLicenseInformation(){return(0,t.A)((function*(){return[]}))()}getSettingsComponentClass(){return(0,t.A)((function*(){}))()}}return(e=CoreEditorServiceProvider).ɵfac=function CoreEditorServiceProvider_Factory(n){return new(n||e)},e.ɵprov=s.jDH({token:e,factory:e.ɵfac,providedIn:"root"}),CoreEditorServiceProvider})();const a=(0,o.Qd)(r)},89588:(e,n,i)=>{i.r(n),i.d(n,{default:()=>b});var t=i(10467),o=i(74431),s=i(79555),r=i(54843),a=i(86654),l=i(64502),c=i(54438),_=i(60177),g=i(89417),p=i(2910),f=i(66198),u=i(64422),m=i(86198),h=i(23007),d=i(88246),L=i(43570),C=i(73955);function CoreSettingsLicensesPage_ion_item_14_Template(e,n){if(1&e&&(c.j41(0,"ion-item",8)(1,"ion-label"),c.EFF(2),c.nI1(3,"translate"),c.k0s(),c.j41(4,"ion-button",9),c.EFF(5),c.nI1(6,"translate"),c.k0s()()),2&e){const e=c.XpG();c.Y8G("href",e.licensesUrl)("autoLogin",!1)("detail",!1),c.R7$(2),c.SpI(" ",c.bMT(3,7,"core.settings.opensourcelicenses")," "),c.R7$(2),c.Y8G("href",e.licensesUrl)("autoLogin",!1),c.R7$(),c.SpI(" ",c.bMT(6,9,"core.view"),"")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template(e,n){if(1&e&&(c.j41(0,"a",16),c.EFF(1),c.k0s()),2&e){const e=c.XpG().$implicit;c.Y8G("href",e.repository,c.B4B)("autoLogin",!1),c.R7$(),c.JRh(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template(e,n){if(1&e&&(c.qex(0),c.EFF(1),c.bVm()),2&e){const e=c.XpG().$implicit;c.R7$(),c.JRh(e.name)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template(e,n){if(1&e&&(c.j41(0,"p"),c.EFF(1),c.nI1(2,"translate"),c.nI1(3,"translate"),c.k0s()),2&e){const e=c.XpG().$implicit;c.R7$(),c.E5c(" ",c.bMT(2,3,"core.settings.publisher"),"",c.bMT(3,5,"core.labelsep")," ",e.publisher," ")}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template(e,n){if(1&e&&(c.j41(0,"a",16),c.EFF(1),c.k0s()),2&e){const e=c.XpG().$implicit;c.Y8G("href",e.url,c.B4B)("autoLogin",!1),c.R7$(),c.JRh(e.url)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template(e,n){if(1&e&&(c.j41(0,"a",17),c.EFF(1),c.k0s()),2&e){const e=c.XpG().$implicit;c.Y8G("href","mailto:"+e.email,c.B4B)("autoLogin",!1)("showBrowserWarning",!1),c.R7$(),c.JRh(e.email)}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template(e,n){if(1&e&&(c.j41(0,"ion-button",18),c.nI1(1,"translate"),c.nrm(2,"ion-icon",19),c.k0s()),2&e){const e=c.XpG().$implicit;c.Y8G("href",e.licenseUrl)("autoLogin",!1)("ariaLabel",c.bMT(1,3,"core.view"))}}function CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template(e,n){if(1&e&&(c.j41(0,"ion-item",11)(1,"ion-label")(2,"p",12),c.DNE(3,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_3_Template,2,3,"a",13)(4,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ng_container_4_Template,2,1,"ng-container",6),c.EFF(5),c.k0s(),c.DNE(6,CoreSettingsLicensesPage_ng_container_15_ion_item_1_p_6_Template,4,7,"p",6),c.j41(7,"p"),c.EFF(8),c.nI1(9,"translate"),c.nI1(10,"translate"),c.k0s(),c.j41(11,"p"),c.DNE(12,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_12_Template,2,3,"a",13),c.k0s(),c.j41(13,"p"),c.DNE(14,CoreSettingsLicensesPage_ng_container_15_ion_item_1_a_14_Template,2,4,"a",14),c.k0s()(),c.DNE(15,CoreSettingsLicensesPage_ng_container_15_ion_item_1_ion_button_15_Template,3,5,"ion-button",15),c.k0s()),2&e){const e=n.$implicit;c.R7$(3),c.Y8G("ngIf",e.repository),c.R7$(),c.Y8G("ngIf",!e.repository),c.R7$(),c.SpI(" - ",e.version," "),c.R7$(),c.Y8G("ngIf",e.publisher),c.R7$(2),c.E5c("",c.bMT(9,10,"core.settings.license"),"",c.bMT(10,12,"core.labelsep")," ",e.licenses,""),c.R7$(4),c.Y8G("ngIf",e.url),c.R7$(2),c.Y8G("ngIf",e.email),c.R7$(),c.Y8G("ngIf",e.licenseUrl)}}function CoreSettingsLicensesPage_ng_container_15_Template(e,n){if(1&e&&(c.qex(0),c.DNE(1,CoreSettingsLicensesPage_ng_container_15_ion_item_1_Template,16,14,"ion-item",10),c.bVm()),2&e){const e=c.XpG();c.R7$(),c.Y8G("ngForOf",e.licenses)}}let b=(()=>{var e;class CoreSettingsLicensesPage{constructor(){this.loaded=!1,this.licenses=[],this.error=!1,this.textFilter="",this.allLicenses=[],this.filteredLicenses=[],this.appLicenseVersion=o.CoreConstants.BUILD.isDevelopment?"main":`v${o.CoreConstants.CONFIG.versionname}`,this.licensesUrl=`https://raw.githubusercontent.com/moodlehq/moodleapp/${this.appLicenseVersion}/licenses.json`}ngOnInit(){var e=this;return(0,t.A)((function*(){try{const n=yield(0,r._)(s.lw.get(e.licensesUrl));e.allLicenses=Object.keys(n).map((i=>{const t=n[i],o=i.lastIndexOf("@");if(t.name=i.substring(0,o),t.version=i.substring(o+1),Array.isArray(t.licenses)&&(t.licenses=t.licenses.join(", ")),t.repository&&(t.repository=t.repository.replace("git://","https://"),t.repository.indexOf("github.com")>0)){t.licenseUrl=`${t.repository}/blob/${"moodlemobile"==t.name?e.appLicenseVersion:t.version}/${t.licenseFile}`}return t})),e.allLicenses.push(...yield l.a.getLicenseInformation()),e.allLicenses.sort(((e,n)=>e.name.localeCompare(n.name))),e.filterLicenses(),e.error=!1}catch{e.error=!0}e.loaded=!0}))()}filterLicenses(){const e=this.textFilter.trim().toLowerCase();this.filteredLicenses=""==e?this.allLicenses:this.allLicenses.filter((n=>n.name.toLowerCase().indexOf(e)>=0||n.version.toLowerCase().indexOf(e)>=0||"string"==typeof n.licenses&&n.licenses.toLowerCase().indexOf(e)>=0||n.repository&&n.repository.toLowerCase().indexOf(e)>=0||n.publisher&&n.publisher.toLowerCase().indexOf(e)>=0||n.url&&n.url.toLowerCase().indexOf(e)>=0||n.email&&n.email.toLowerCase().indexOf(e)>=0)),this.licenses=this.filteredLicenses.slice(0,CoreSettingsLicensesPage.LICENSES_PER_PAGE)}filterChanged(e){this.textFilter=e.value||"",this.filterLicenses()}get canLoadMore(){return this.licenses.length<this.filteredLicenses.length}loadMore(e){var n=this;return(0,t.A)((function*(){const i=n.licenses.length;n.licenses.push(...n.filteredLicenses.slice(i,i+CoreSettingsLicensesPage.LICENSES_PER_PAGE)),null==e||e()}))()}}return(e=CoreSettingsLicensesPage).LICENSES_PER_PAGE=50,e.ɵfac=function CoreSettingsLicensesPage_Factory(n){return new(n||e)},e.ɵcmp=c.VBU({type:e,selectors:[["page-core-app-settings-licenses"]],standalone:!0,features:[c.aNF],decls:17,vars:14,consts:[["slot","start"],[3,"text"],[1,"limited-width"],["placeholderType","column","placeholderHeight","48px",3,"hideUntil"],[1,"ion-margin-vertical",3,"ngModelChange","ionInput","ionCancel","ngModel","placeholder"],["button","","class","ion-text-wrap","core-link","",3,"href","autoLogin","detail",4,"ngIf"],[4,"ngIf"],[3,"action","enabled"],["button","","core-link","",1,"ion-text-wrap",3,"href","autoLogin","detail"],["target","_blank","fill","clear","slot","end","core-link","",3,"href","autoLogin"],["class","ion-text-wrap","lines","inset",4,"ngFor","ngForOf"],["lines","inset",1,"ion-text-wrap"],[1,"item-heading"],["core-link","",3,"href","autoLogin",4,"ngIf"],["core-link","",3,"href","autoLogin","showBrowserWarning",4,"ngIf"],["target","_blank","fill","clear","slot","end","core-link","",3,"href","autoLogin","ariaLabel",4,"ngIf"],["core-link","",3,"href","autoLogin"],["core-link","",3,"href","autoLogin","showBrowserWarning"],["target","_blank","fill","clear","slot","end","core-link","",3,"href","autoLogin","ariaLabel"],["slot","icon-only","name","fas-up-right-from-square","aria-hidden","true"]],template:function CoreSettingsLicensesPage_Template(e,n){1&e&&(c.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),c.nrm(3,"ion-back-button",1),c.nI1(4,"translate"),c.k0s(),c.j41(5,"ion-title")(6,"h1"),c.EFF(7),c.nI1(8,"translate"),c.k0s()()()(),c.j41(9,"ion-content",2)(10,"core-loading",3)(11,"ion-searchbar",4),c.nI1(12,"translate"),c.mxI("ngModelChange",(function CoreSettingsLicensesPage_Template_ion_searchbar_ngModelChange_11_listener(e){return c.DH7(n.textFilter,e)||(n.textFilter=e),e})),c.bIt("ionInput",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionInput_11_listener(e){return n.filterChanged(e.target)}))("ionCancel",(function CoreSettingsLicensesPage_Template_ion_searchbar_ionCancel_11_listener(e){return n.filterChanged(e.target)})),c.k0s(),c.j41(13,"ion-list"),c.DNE(14,CoreSettingsLicensesPage_ion_item_14_Template,7,11,"ion-item",5)(15,CoreSettingsLicensesPage_ng_container_15_Template,2,1,"ng-container",6),c.j41(16,"core-infinite-loading",7),c.bIt("action",(function CoreSettingsLicensesPage_Template_core_infinite_loading_action_16_listener(e){return n.loadMore(e)})),c.k0s()()()()),2&e&&(c.R7$(3),c.Y8G("text",c.bMT(4,8,"core.back")),c.R7$(4),c.JRh(c.bMT(8,10,"core.settings.opensourcelicenses")),c.R7$(3),c.Y8G("hideUntil",n.loaded),c.R7$(),c.R50("ngModel",n.textFilter),c.Y8G("placeholder",c.bMT(12,12,"core.filter")),c.R7$(3),c.Y8G("ngIf",n.error),c.R7$(),c.Y8G("ngIf",!n.error),c.R7$(),c.Y8G("enabled",n.canLoadMore))},dependencies:[a.n,_.Sq,_.bT,g.BC,g.vS,p.Jm,p.QW,p.W9,p.eU,p.iq,p.uz,p.he,p.nf,p.S1,p.BC,p.ai,p.Gw,p.el,f.b,u.R,m.t,h.j,d.i,L.T,C.D9],encapsulation:2}),CoreSettingsLicensesPage})()}}]);