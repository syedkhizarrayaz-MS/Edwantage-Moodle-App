"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[54529],{54529:(i,t,e)=>{e.r(t),e.d(t,{default:()=>Y});var n=e(10467),o=e(81690),a=e(49882),r=e(98320),s=e(15324),c=e(29492),l=e(83696),d=e(71758),f=e(52749),_=e(24742),g=e(61340),u=e(2401),m=e(82020),p=e(67935),h=e(85190),b=e(74431),v=e(18022),N=e(55554),P=e(25572),A=e(86654),C=e(20871),I=e(30494),R=e(54438),M=e(60177),k=e(2910),O=e(16986),x=e(66198),T=e(64422),w=e(16658),L=e(10892),S=e(86198),y=e(58197),G=e(66731),$=e(88246),F=e(43570),j=e(73955),V=e(32885),E=e(93453);const _c0=i=>({$a:i});function AddonNotificationsListPage_ion_card_17_Template(i,t){if(1&i){const i=R.RV6();R.j41(0,"ion-card",12)(1,"ion-item",13),R.nrm(2,"ion-icon",14),R.j41(3,"ion-label")(4,"p")(5,"strong"),R.EFF(6),R.nI1(7,"translate"),R.k0s()(),R.j41(8,"p"),R.EFF(9),R.nI1(10,"translate"),R.k0s()()(),R.j41(11,"div",15)(12,"ion-button",16),R.bIt("click",(function AddonNotificationsListPage_ion_card_17_Template_ion_button_click_12_listener(){R.eBV(i);const t=R.XpG();return R.Njj(t.hidePermissionWarning())})),R.EFF(13),R.nI1(14,"translate"),R.nI1(15,"coreNoPeriod"),R.k0s(),R.j41(16,"ion-button",17),R.bIt("click",(function AddonNotificationsListPage_ion_card_17_Template_ion_button_click_16_listener(){R.eBV(i);const t=R.XpG();return R.Njj(t.openSettings())})),R.EFF(17),R.nI1(18,"translate"),R.k0s()()()}2&i&&(R.R7$(6),R.JRh(R.bMT(7,4,"core.turnonnotifications")),R.R7$(3),R.JRh(R.bMT(10,6,"core.turnonnotificationsmessage")),R.R7$(4),R.SpI(" ",R.bMT(15,10,R.bMT(14,8,"core.dontshowagain"))," "),R.R7$(4),R.JRh(R.bMT(18,12,"core.turnon")))}function AddonNotificationsListPage_ion_item_18_core_user_avatar_1_div_1_Template(i,t){if(1&i&&(R.j41(0,"div",26),R.nrm(1,"img",27),R.k0s()),2&i){const i=R.XpG(2).$implicit;R.R7$(),R.Y8G("url",i.iconurl)}}function AddonNotificationsListPage_ion_item_18_core_user_avatar_1_Template(i,t){if(1&i&&(R.j41(0,"core-user-avatar",24),R.DNE(1,AddonNotificationsListPage_ion_item_18_core_user_avatar_1_div_1_Template,2,1,"div",25),R.k0s()),2&i){const i=R.XpG().$implicit;R.Y8G("user",i)("profileUrl",i.profileimageurlfrom)("fullname",i.userfromfullname)("userId",i.useridfrom),R.R7$(),R.Y8G("ngIf",i.iconurl)}}function AddonNotificationsListPage_ion_item_18_ng_container_2_img_1_Template(i,t){if(1&i&&R.nrm(0,"img",30),2&i){const i=R.XpG(2).$implicit;R.Y8G("url",i.imgUrl)}}function AddonNotificationsListPage_ion_item_18_ng_container_2_div_2_img_1_Template(i,t){if(1&i&&R.nrm(0,"img",34),2&i){const i=R.XpG(3).$implicit;R.Y8G("url",i.iconurl)}}function AddonNotificationsListPage_ion_item_18_ng_container_2_div_2_ion_icon_2_Template(i,t){1&i&&R.nrm(0,"ion-icon",35)}function AddonNotificationsListPage_ion_item_18_ng_container_2_div_2_Template(i,t){if(1&i&&(R.j41(0,"div",31),R.DNE(1,AddonNotificationsListPage_ion_item_18_ng_container_2_div_2_img_1_Template,1,1,"img",32)(2,AddonNotificationsListPage_ion_item_18_ng_container_2_div_2_ion_icon_2_Template,1,0,"ion-icon",33),R.k0s()),2&i){const i=R.XpG(2).$implicit;R.R7$(),R.Y8G("ngIf",i.iconurl),R.R7$(),R.Y8G("ngIf",!i.iconurl)}}function AddonNotificationsListPage_ion_item_18_ng_container_2_Template(i,t){if(1&i&&(R.qex(0),R.DNE(1,AddonNotificationsListPage_ion_item_18_ng_container_2_img_1_Template,1,1,"img",28)(2,AddonNotificationsListPage_ion_item_18_ng_container_2_div_2_Template,3,2,"div",29),R.bVm()),2&i){const i=R.XpG().$implicit;R.R7$(),R.Y8G("ngIf",i.imgUrl),R.R7$(),R.Y8G("ngIf",!i.imgUrl)}}function AddonNotificationsListPage_ion_item_18_ng_container_10_Template(i,t){if(1&i&&(R.qex(0),R.EFF(1),R.bVm()),2&i){const i=R.XpG().$implicit;R.R7$(),R.SpI(" · ",i.userfromfullname,"")}}function AddonNotificationsListPage_ion_item_18_ion_note_11_Template(i,t){1&i&&(R.j41(0,"ion-note",2),R.nrm(1,"ion-icon",36),R.k0s())}function AddonNotificationsListPage_ion_item_18_Template(i,t){if(1&i){const i=R.RV6();R.j41(0,"ion-item",18),R.bIt("click",(function AddonNotificationsListPage_ion_item_18_Template_ion_item_click_0_listener(){const t=R.eBV(i).$implicit,e=R.XpG();return R.Njj(e.notifications.select(t))})),R.DNE(1,AddonNotificationsListPage_ion_item_18_core_user_avatar_1_Template,2,5,"core-user-avatar",19)(2,AddonNotificationsListPage_ion_item_18_ng_container_2_Template,3,2,"ng-container",20),R.j41(3,"ion-label")(4,"p",21),R.nI1(5,"translate"),R.nrm(6,"core-format-text",22),R.k0s(),R.j41(7,"p"),R.EFF(8),R.nI1(9,"coreTimeAgo"),R.DNE(10,AddonNotificationsListPage_ion_item_18_ng_container_10_Template,2,1,"ng-container",20),R.k0s()(),R.DNE(11,AddonNotificationsListPage_ion_item_18_ion_note_11_Template,2,0,"ion-note",23),R.k0s()}if(2&i){const i=t.$implicit,e=R.XpG();R.Y8G("detail",!1),R.BMQ("aria-current",e.notifications.getItemAriaCurrent(i)),R.R7$(),R.Y8G("ngIf",i.useridfrom>0),R.R7$(),R.Y8G("ngIf",i.useridfrom<=0),R.R7$(2),R.BMQ("aria-label",i.timeread?i.subject:R.i5U(5,11,"addon.notifications.unreadnotification",R.eq3(16,_c0,i.subject))),R.R7$(2),R.Y8G("text",i.subject)("contextInstanceId",0)("wsNotFiltered",!0),R.R7$(2),R.JRh(R.bMT(9,14,i.timecreated)),R.R7$(2),R.Y8G("ngIf",i.useridfrom>0),R.R7$(),R.Y8G("ngIf",!i.timeread)}}function AddonNotificationsListPage_core_empty_box_19_Template(i,t){1&i&&(R.nrm(0,"core-empty-box",37),R.nI1(1,"translate")),2&i&&R.Y8G("message",R.bMT(1,1,"addon.notifications.therearentnotificationsyet"))}function AddonNotificationsListPage_ion_chip_22_ion_icon_1_Template(i,t){1&i&&R.nrm(0,"ion-icon",40)}function AddonNotificationsListPage_ion_chip_22_ion_spinner_2_Template(i,t){1&i&&(R.nrm(0,"ion-spinner"),R.nI1(1,"translate")),2&i&&R.BMQ("aria-label",R.bMT(1,1,"core.loading"))}function AddonNotificationsListPage_ion_chip_22_Template(i,t){if(1&i){const i=R.RV6();R.j41(0,"ion-chip",38),R.bIt("click",(function AddonNotificationsListPage_ion_chip_22_Template_ion_chip_click_0_listener(){R.eBV(i);const t=R.XpG();return R.Njj(t.markAllNotificationsAsRead())})),R.DNE(1,AddonNotificationsListPage_ion_chip_22_ion_icon_1_Template,1,0,"ion-icon",39)(2,AddonNotificationsListPage_ion_chip_22_ion_spinner_2_Template,2,3,"ion-spinner",20),R.EFF(3),R.nI1(4,"translate"),R.k0s()}if(2&i){const i=R.XpG();R.Y8G("disabled",i.loadingMarkAllNotificationsAsRead),R.R7$(),R.Y8G("ngIf",!i.loadingMarkAllNotificationsAsRead),R.R7$(),R.Y8G("ngIf",i.loadingMarkAllNotificationsAsRead),R.R7$(),R.SpI(" ",R.bMT(4,4,"addon.notifications.markallread")," ")}}let Y=(()=>{var i;class AddonNotificationsListPage{constructor(){this.fetchMoreNotificationsFailed=!1,this.canMarkAllNotificationsAsRead=!1,this.loadingMarkAllNotificationsAsRead=!1,this.hasNotificationsPermission=!0,this.permissionWarningHidden=!1,this.pendingRefresh=!1;try{const i=l.u.getOrCreateSource(f.CoreSites.getRequiredCurrentSite().isVersionGreaterEqualThan("4.0")?g.w:m.l,[]);this.notifications=new u.R(i,AddonNotificationsListPage)}catch(i){return P.CoreAlerts.showError(i),s.CoreNavigator.back(),void 0}this.checkPermission(),this.appResumeSubscription=v.CorePlatform.resume.subscribe((()=>{this.checkPermission()}))}ngAfterViewInit(){var i=this;return(0,n.A)((function*(){yield i.fetchInitialNotifications(),i.notifications.start(i.splitView),i.cronObserver=a.z.on(I.Km,(()=>{i.isCurrentView&&i.refreshNotifications()}),f.CoreSites.getCurrentSiteId()),i.pushObserver=d.CorePushNotificationsDelegate.on("receive").subscribe((t=>{if(!i.isCurrentView)return i.pendingRefresh=!0,void 0;o.j.isTrueOrOne(t.notif)&&f.CoreSites.isCurrentSite(t.site)&&i.refreshNotifications()})),i.readObserver=a.z.on(I.Io,(t=>{if(!t.id)return;const e=i.notifications.items.find((i=>i.id===t.id));e&&(e.read=!0,e.timeread=t.time,i.loadMarkAllAsReadButton())})),f.CoreSites.loginNavigationFinished()}))()}checkPermission(){var i=this;return(0,n.A)((function*(){i.permissionWarningHidden=!!(yield h.CoreConfig.get(b.CoreConstants.DONT_SHOW_NOTIFICATIONS_PERMISSION_WARNING,0)),i.hasNotificationsPermission=yield p.CoreLocalNotifications.hasNotificationsPermission()}))()}fetchNotifications(i){var t=this;return(0,n.A)((function*(){i?yield t.notifications.reload():yield t.notifications.load(),t.fetchMoreNotificationsFailed=!1,t.loadMarkAllAsReadButton()}))()}fetchInitialNotifications(){var i=this;return(0,n.A)((function*(){try{yield i.fetchNotifications(!0)}catch(t){P.CoreAlerts.showError(t,{default:"Error loading notifications"}),i.notifications.reset()}}))()}fetchMoreNotifications(i){var t=this;return(0,n.A)((function*(){try{yield t.fetchNotifications(!1)}catch(i){P.CoreAlerts.showError(i,{default:"Error loading more notifications"}),t.fetchMoreNotificationsFailed=!0}i()}))()}markAllNotificationsAsRead(){var i=this;return(0,n.A)((function*(){i.loadingMarkAllNotificationsAsRead=!0,yield N.g.ignoreErrors(r.AddonNotifications.markAllNotificationsAsRead()),a.z.trigger(I.Io,{time:_.j.timestamp()},f.CoreSites.getCurrentSiteId()),yield i.refreshNotifications()}))()}loadMarkAllAsReadButton(){var i=this;return(0,n.A)((function*(){try{i.loadingMarkAllNotificationsAsRead=!0;const t=yield r.AddonNotifications.getUnreadNotificationsCount();i.canMarkAllNotificationsAsRead=t.count>0}finally{i.loadingMarkAllNotificationsAsRead=!1}}))()}refreshNotifications(i){var t=this;return(0,n.A)((function*(){yield N.g.ignoreErrors(r.AddonNotifications.invalidateNotificationsList()),yield N.g.ignoreErrors(t.fetchNotifications(!0)),null==i||i.complete()}))()}openSettings(){p.CoreLocalNotifications.openNotificationSettings()}hidePermissionWarning(){h.CoreConfig.set(b.CoreConstants.DONT_SHOW_NOTIFICATIONS_PERMISSION_WARNING,1),this.permissionWarningHidden=!0}ionViewDidEnter(){this.isCurrentView=!0,this.pendingRefresh&&(this.pendingRefresh=!1,this.refreshNotifications())}ionViewDidLeave(){this.isCurrentView=!1}ngOnDestroy(){var i,t,e,n,o;null===(i=this.cronObserver)||void 0===i||i.off(),null===(t=this.readObserver)||void 0===t||t.off(),null===(e=this.pushObserver)||void 0===e||e.unsubscribe(),null===(n=this.notifications)||void 0===n||n.destroy(),null===(o=this.appResumeSubscription)||void 0===o||o.unsubscribe()}}return(i=AddonNotificationsListPage).ɵfac=function AddonNotificationsListPage_Factory(t){return new(t||i)},i.ɵcmp=R.VBU({type:i,selectors:[["page-addon-notifications-list"]],viewQuery:function AddonNotificationsListPage_Query(i,t){if(1&i&&R.GBs(c.M,5),2&i){let i;R.mGM(i=R.lsd())&&(t.splitView=i.first)}},standalone:!0,features:[R.aNF],decls:23,vars:17,consts:[["slot","start"],[3,"text"],["slot","end"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],["placeholderType","listwithicon","placeholderHeight","32px","placeholderWidth","32px",3,"hideUntil"],["class","core-warning-card core-card-with-buttons",4,"ngIf"],["class","ion-text-wrap addon-notification-item","button","","lines","full",3,"detail","click",4,"ngFor","ngForOf"],["icon","far-bell",3,"message",4,"ngIf"],[3,"action","enabled","error"],["slot","fixed","collapsible-footer","","appearOnBottom","",1,"mark-all-as-read"],["color","info","class","clickable fab-chip",3,"disabled","click",4,"ngIf"],[1,"core-warning-card","core-card-with-buttons"],[1,"ion-text-wrap"],["name","fas-circle-info","slot","start","aria-hidden","true"],[1,"core-card-buttons"],["fill","clear",3,"click"],["fill","outline",3,"click"],["button","","lines","full",1,"ion-text-wrap","addon-notification-item",3,"click","detail"],["slot","start",3,"user","profileUrl","fullname","userId",4,"ngIf"],[4,"ngIf"],[1,"item-heading"],["contextLevel","system",3,"text","contextInstanceId","wsNotFiltered"],["slot","end",4,"ngIf"],["slot","start",3,"user","profileUrl","fullname","userId"],["class","core-avatar-extra-img",4,"ngIf"],[1,"core-avatar-extra-img"],["alt","","role","presentation","core-external-content","",3,"url"],["class","core-notification-img","core-external-content","","alt","","role","presentation","slot","start",3,"url",4,"ngIf"],["class","core-notification-icon","slot","start",4,"ngIf"],["core-external-content","","alt","","role","presentation","slot","start",1,"core-notification-img",3,"url"],["slot","start",1,"core-notification-icon"],["core-external-content","","alt","","role","presentation",3,"url",4,"ngIf"],["name","fas-bell","aria-hidden","true",4,"ngIf"],["core-external-content","","alt","","role","presentation",3,"url"],["name","fas-bell","aria-hidden","true"],["name","fas-circle","color","primary","aria-hidden","true"],["icon","far-bell",3,"message"],["color","info",1,"clickable","fab-chip",3,"click","disabled"],["name","fas-eye","aria-hidden","true",4,"ngIf"],["name","fas-eye","aria-hidden","true"]],template:function AddonNotificationsListPage_Template(i,t){1&i&&(R.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),R.nrm(3,"ion-back-button",1),R.nI1(4,"translate"),R.k0s(),R.j41(5,"ion-title")(6,"h1"),R.EFF(7),R.nI1(8,"translate"),R.k0s()(),R.j41(9,"ion-buttons",2),R.nrm(10,"core-user-menu-button"),R.k0s()()(),R.j41(11,"ion-content")(12,"core-split-view")(13,"ion-refresher",3),R.bIt("ionRefresh",(function AddonNotificationsListPage_Template_ion_refresher_ionRefresh_13_listener(i){return t.refreshNotifications(i.target)})),R.nrm(14,"ion-refresher-content",4),R.nI1(15,"translate"),R.k0s(),R.j41(16,"core-loading",5),R.DNE(17,AddonNotificationsListPage_ion_card_17_Template,19,14,"ion-card",6)(18,AddonNotificationsListPage_ion_item_18_Template,12,18,"ion-item",7)(19,AddonNotificationsListPage_core_empty_box_19_Template,2,3,"core-empty-box",8),R.j41(20,"core-infinite-loading",9),R.bIt("action",(function AddonNotificationsListPage_Template_core_infinite_loading_action_20_listener(i){return t.fetchMoreNotifications(i)})),R.k0s()(),R.j41(21,"div",10),R.DNE(22,AddonNotificationsListPage_ion_chip_22_Template,5,6,"ion-chip",11),R.k0s()()()),2&i&&(R.R7$(3),R.Y8G("text",R.bMT(4,11,"core.back")),R.R7$(4),R.JRh(R.bMT(8,13,"addon.notifications.notifications")),R.R7$(6),R.Y8G("disabled",!t.notifications.loaded),R.R7$(),R.FS9("pullingText",R.bMT(15,15,"core.pulltorefresh")),R.R7$(2),R.Y8G("hideUntil",t.notifications.loaded),R.R7$(),R.Y8G("ngIf",!t.hasNotificationsPermission&&!t.permissionWarningHidden),R.R7$(),R.Y8G("ngForOf",t.notifications.items),R.R7$(),R.Y8G("ngIf",!t.notifications||t.notifications.empty),R.R7$(),R.Y8G("enabled",t.notifications.loaded&&!t.notifications.completed)("error",t.fetchMoreNotificationsFailed),R.R7$(2),R.Y8G("ngIf",t.notifications.loaded&&t.canMarkAllNotificationsAsRead))},dependencies:[A.n,M.Sq,M.bT,k.Jm,k.QW,k.b_,k.ZB,k.W9,k.eU,k.iq,k.uz,k.he,k.JI,k.To,k.Ki,k.w2,k.BC,k.ai,k.el,O.h,x.b,T.R,c.M,w.T,L.l,S.t,y.B,G.i,$.i,F.T,j.D9,V.w,E.A,C.U],styles:["ion-item.addon-notification-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}ion-item.addon-notification-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font:var(--mdl-typography-body-font-sm)}ion-item.addon-notification-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]{font-size:var(--text-size)}@supports (-webkit-line-clamp: 2){ion-item.addon-notification-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;white-space:normal}}ion-item.addon-notification-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin:0;padding-inline-start:8px;padding-inline-end:0;padding-top:12px}ion-item.addon-notification-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.375rem;vertical-align:middle}ion-item.addon-notification-item[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{align-self:start;margin-top:16px}.mark-all-as-read[_ngcontent-%COMP%]{padding-bottom:16px;bottom:0;left:0;right:0;display:flex;background:transparent;box-shadow:none;pointer-events:none}.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]{margin:0 auto}.mark-all-as-read[_ngcontent-%COMP%]   ion-chip.ion-color[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:16px;height:16px;margin-inline-start:0;margin-inline-end:8px}ion-content[_ngcontent-%COMP%]::part(scroll){padding-bottom:44px}","[_nghost-%COMP%]{--icon-size: 32px;--extra-icon-size: 12px}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]     core-user-avatar{--core-avatar-size: var(--icon-size)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]     core-user-avatar .core-avatar-extra-img{margin:0!important;position:absolute;right:-4px;bottom:-4px;--module-icon-padding: .2rem}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]     core-user-avatar .core-avatar-extra-img{background:var(--background-color);border-radius:var(--mdl-shape-borderRadius-sm)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]     core-user-avatar .core-avatar-extra-img img{max-width:var(--extra-icon-size);max-height:var(--extra-icon-size);width:var(--extra-icon-size);height:var(--extra-icon-size);display:block}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]{max-width:var(--icon-size);max-height:var(--icon-size);padding:0;background:var(--background-color);border-radius:var(--core-avatar-radius);margin-inline-start:0px;margin-inline-end:8px;margin-top:6px;margin-bottom:6px}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:var(--icon-size);height:var(--icon-size);padding:4px}[_nghost-%COMP%]   div.core-notification-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--icon-size)}[_nghost-%COMP%]   .core-notification-img[_ngcontent-%COMP%]{margin-inline-start:0px;margin-inline-end:8px;margin-top:6px;margin-bottom:6px;width:var(--icon-size);height:var(--icon-size);object-fit:cover;border-radius:var(--core-avatar-radius)}"]}),AddonNotificationsListPage})()},2401:(i,t,e)=>{e.d(t,{R:()=>CoreListItemsManager});var n=e(10467),o=e(21182),a=e(15324),r=e(93417),s=e(81690),c=e(95990),l=e(82907),d=e(24742),f=e(55554);class CoreListItemsManager extends c.u{constructor(i,t){super(i);const e=s.j.debounce((()=>this.scrollToCurrentElement()),300);this.pageRouteLocator=t,this.addListener({onSelectedItemUpdated:e}),this.finishSuccessfulFetch=d.j.once((()=>f.g.ignoreErrors(this.logActivity())))}get items(){return this.getSource().getItems()||[]}get loaded(){return null!==this.itemsMap}get completed(){return this.getSource().isCompleted()}get empty(){const i=this.getSource().getItems();return null===i||0===i.length}start(i){var t=this;return(0,n.A)((function*(){i&&t.watchSplitViewOutlet(i),t.updateSelectedItem()}))()}destroy(){var i;super.destroy(),null===(i=this.splitViewOutletSubscription)||void 0===i||i.unsubscribe()}watchSplitViewOutlet(i){var t;this.splitView=i,this.splitViewOutletSubscription=i.outletRouteObservable.subscribe((i=>this.updateSelectedItem(this.getPageRouteFromSplitViewOutlet(i)))),this.updateSelectedItem(null!==(t=this.getPageRouteFromSplitViewOutlet(i.outletRoute))&&void 0!==t?t:null)}isSelected(i){return this.selectedItem===i}getItemAriaCurrent(i){return this.isSelected(i)?"page":"false"}select(i){var t=this;return(0,n.A)((function*(){if(!i)return yield t.navigateToIndex({reset:t.resetNavigation()}),void 0;yield t.navigateToItem(i,{reset:t.resetNavigation()})}))()}reset(){this.getSource().reset()}reload(){var i=this;return(0,n.A)((function*(){yield i.getSource().reload(),i.finishSuccessfulFetch()}))()}load(){var i=this;return(0,n.A)((function*(){yield i.getSource().load(),i.finishSuccessfulFetch()}))()}logActivity(){return(0,n.A)((function*(){}))()}resetNavigation(){var i;return!!r.CoreScreen.isTablet&&!(!this.splitView||null!==(i=this.splitView)&&void 0!==i&&i.isNested)}updateSelectedItem(i=null){super.updateSelectedItem(i);this.select(r.CoreScreen.isTablet&&null===this.selectedItem&&this.splitView&&!this.splitView.isNested?this.getDefaultItem():this.selectedItem)}scrollToCurrentElement(){var i=this;return(0,n.A)((function*(){var t,e,n;if(r.CoreScreen.isMobile)return;const o=(null!==(t=null===(e=i.splitView)||void 0===e?void 0:e.nativeElement)&&void 0!==t?t:document).querySelector('[aria-current="page"]');if(!o)return;l.y.isElementInViewport(o,1,null===(n=i.splitView)||void 0===n?void 0:n.nativeElement)||o.scrollIntoView({behavior:"smooth"})}))()}getDefaultItem(){return this.items[0]||null}getCurrentPageRoute(){return this.pageRouteLocator instanceof o.nX?a.CoreNavigator.isRouteActive(this.pageRouteLocator)?this.pageRouteLocator:null:a.CoreNavigator.getCurrentRoute({pageComponent:this.pageRouteLocator})}getSelectedItemPathFromRoute(i){const t=[];for(;i.firstChild;)t.push(...a.CoreNavigator.getRouteUrl(i=i.firstChild));return t.map((i=>i.path)).join("/").replace(/\/+/,"/").trim()||null}getPageRouteFromSplitViewOutlet(i){const t=this.buildRouteMatcher();for(;i&&!t(i);)i=i.parent;return i}buildRouteMatcher(){if(this.pageRouteLocator instanceof o.nX){const i=a.CoreNavigator.getRouteFullPath(this.pageRouteLocator);return t=>a.CoreNavigator.getRouteFullPath(t)===i}return i=>i.component===this.pageRouteLocator}}}}]);