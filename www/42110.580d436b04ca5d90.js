"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[42110],{2401:(e,t,i)=>{i.d(t,{R:()=>CoreListItemsManager});var n=i(10467),r=i(21182),s=i(15324),o=i(93417),a=i(81690),l=i(95990),u=i(82907),c=i(24742),g=i(55554);class CoreListItemsManager extends l.u{constructor(e,t){super(e);const i=a.j.debounce((()=>this.scrollToCurrentElement()),300);this.pageRouteLocator=t,this.addListener({onSelectedItemUpdated:i}),this.finishSuccessfulFetch=c.j.once((()=>g.g.ignoreErrors(this.logActivity())))}get items(){return this.getSource().getItems()||[]}get loaded(){return null!==this.itemsMap}get completed(){return this.getSource().isCompleted()}get empty(){const e=this.getSource().getItems();return null===e||0===e.length}start(e){var t=this;return(0,n.A)((function*(){e&&t.watchSplitViewOutlet(e),t.updateSelectedItem()}))()}destroy(){var e;super.destroy(),null===(e=this.splitViewOutletSubscription)||void 0===e||e.unsubscribe()}watchSplitViewOutlet(e){var t;this.splitView=e,this.splitViewOutletSubscription=e.outletRouteObservable.subscribe((e=>this.updateSelectedItem(this.getPageRouteFromSplitViewOutlet(e)))),this.updateSelectedItem(null!==(t=this.getPageRouteFromSplitViewOutlet(e.outletRoute))&&void 0!==t?t:null)}isSelected(e){return this.selectedItem===e}getItemAriaCurrent(e){return this.isSelected(e)?"page":"false"}select(e){var t=this;return(0,n.A)((function*(){if(!e)return yield t.navigateToIndex({reset:t.resetNavigation()}),void 0;yield t.navigateToItem(e,{reset:t.resetNavigation()})}))()}reset(){this.getSource().reset()}reload(){var e=this;return(0,n.A)((function*(){yield e.getSource().reload(),e.finishSuccessfulFetch()}))()}load(){var e=this;return(0,n.A)((function*(){yield e.getSource().load(),e.finishSuccessfulFetch()}))()}logActivity(){return(0,n.A)((function*(){}))()}resetNavigation(){var e;return!!o.CoreScreen.isTablet&&!(!this.splitView||null!==(e=this.splitView)&&void 0!==e&&e.isNested)}updateSelectedItem(e=null){super.updateSelectedItem(e);this.select(o.CoreScreen.isTablet&&null===this.selectedItem&&this.splitView&&!this.splitView.isNested?this.getDefaultItem():this.selectedItem)}scrollToCurrentElement(){var e=this;return(0,n.A)((function*(){var t,i,n;if(o.CoreScreen.isMobile)return;const r=(null!==(t=null===(i=e.splitView)||void 0===i?void 0:i.nativeElement)&&void 0!==t?t:document).querySelector('[aria-current="page"]');if(!r)return;u.y.isElementInViewport(r,1,null===(n=e.splitView)||void 0===n?void 0:n.nativeElement)||r.scrollIntoView({behavior:"smooth"})}))()}getDefaultItem(){return this.items[0]||null}getCurrentPageRoute(){return this.pageRouteLocator instanceof r.nX?s.CoreNavigator.isRouteActive(this.pageRouteLocator)?this.pageRouteLocator:null:s.CoreNavigator.getCurrentRoute({pageComponent:this.pageRouteLocator})}getSelectedItemPathFromRoute(e){const t=[];for(;e.firstChild;)t.push(...s.CoreNavigator.getRouteUrl(e=e.firstChild));return t.map((e=>e.path)).join("/").replace(/\/+/,"/").trim()||null}getPageRouteFromSplitViewOutlet(e){const t=this.buildRouteMatcher();for(;e&&!t(e);)e=e.parent;return e}buildRouteMatcher(){if(this.pageRouteLocator instanceof r.nX){const e=s.CoreNavigator.getRouteFullPath(this.pageRouteLocator);return t=>s.CoreNavigator.getRouteFullPath(t)===e}return e=>e.component===this.pageRouteLocator}}},42110:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var n=i(10467),r=i(29492),s=i(2401),o=i(74431),a=i(99522),l=i(33984),u=i(18022);class CoreSettingsSectionsSource extends a.F{loadPageItems(){return(0,n.A)((function*(){const e=[{name:"core.settings.general",path:"general",icon:"fas-wrench"},{name:"core.settings.spaceusage",path:"spaceusage",icon:"fas-list-check"},{name:"core.settings.synchronization",path:"sync",icon:o.CoreConstants.ICON_SYNC}];return u.CorePlatform.isIOS()&&e.push({name:"core.sharedfiles.sharedfiles",path:`${l.p}/list/root`,icon:"fas-folder",params:{manage:!0}}),{items:e}}))()}getItemPath(e){return e.path}getItemQueryParams(e){return e.params||{}}}var c=i(83696),g=i(86654),d=i(54438),p=i(60177),h=i(2910),m=i(86198),f=i(88246),S=i(73955);function CoreSettingsIndexPage_ion_item_13_Template(e,t){if(1&e){const e=d.RV6();d.j41(0,"ion-item",4),d.bIt("click",(function CoreSettingsIndexPage_ion_item_13_Template_ion_item_click_0_listener(){const t=d.eBV(e).$implicit,i=d.XpG();return d.Njj(i.sections.select(t))})),d.nrm(1,"ion-icon",5),d.j41(2,"ion-label",6)(3,"p",7),d.EFF(4),d.nI1(5,"translate"),d.k0s()()()}if(2&e){const e=t.$implicit,i=d.XpG();d.Y8G("detail",!0),d.BMQ("aria-current",i.sections.getItemAriaCurrent(e)),d.R7$(),d.Y8G("name",e.icon),d.R7$(3),d.JRh(d.bMT(5,4,e.name))}}let v=(()=>{var e;class CoreSettingsIndexPage{constructor(){const e=c.u.getOrCreateSource(CoreSettingsSectionsSource,[]);this.sections=new s.R(e,CoreSettingsIndexPage)}ngAfterViewInit(){var e=this;return(0,n.A)((function*(){yield e.sections.load(),yield e.sections.start(e.splitView)}))()}ngOnDestroy(){this.sections.destroy()}}return(e=CoreSettingsIndexPage).ɵfac=function CoreSettingsIndexPage_Factory(t){return new(t||e)},e.ɵcmp=d.VBU({type:e,selectors:[["page-core-settings-index"]],viewQuery:function CoreSettingsIndexPage_Query(e,t){if(1&e&&d.GBs(r.M,5),2&e){let e;d.mGM(e=d.lsd())&&(t.splitView=e.first)}},standalone:!0,features:[d.aNF],decls:14,vars:7,consts:[["slot","start"],[3,"text"],["slot","end"],["button","",3,"detail","click",4,"ngFor","ngForOf"],["button","",3,"click","detail"],["slot","start","aria-hidden","true",3,"name"],[1,"ion-text-wrap"],[1,"item-heading"]],template:function CoreSettingsIndexPage_Template(e,t){1&e&&(d.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),d.nrm(3,"ion-back-button",1),d.nI1(4,"translate"),d.k0s(),d.j41(5,"ion-title")(6,"h1"),d.EFF(7),d.nI1(8,"translate"),d.k0s()(),d.nrm(9,"ion-buttons",2),d.k0s()(),d.j41(10,"ion-content")(11,"core-split-view")(12,"ion-list"),d.DNE(13,CoreSettingsIndexPage_ion_item_13_Template,6,6,"ion-item",3),d.k0s()()()),2&e&&(d.R7$(3),d.Y8G("text",d.bMT(4,3,"core.back")),d.R7$(4),d.JRh(d.bMT(8,5,"core.settings.appsettings")),d.R7$(6),d.Y8G("ngForOf",t.sections.items))},dependencies:[g.n,p.Sq,h.QW,h.W9,h.eU,h.iq,h.uz,h.he,h.nf,h.BC,h.ai,h.el,r.M,m.t,f.i,S.D9],encapsulation:2}),CoreSettingsIndexPage})()}}]);