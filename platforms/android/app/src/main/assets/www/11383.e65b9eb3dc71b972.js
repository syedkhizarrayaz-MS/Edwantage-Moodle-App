"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[11383,67192],{67192:(e,n,t)=>{t.r(n),t.d(n,{CoreBlockSideBlocksButtonComponent:()=>p});var o=t(10467),i=t(93589),r=t(82907),a=t(86654),_=t(74037),s=t(54438),c=t(2910),l=t(43570),d=t(73955);let m=(()=>{var e;class CoreBlockSideBlocksTourComponent{dismiss(){return(0,o.A)((function*(){yield _.E.dismiss()}))()}}return(e=CoreBlockSideBlocksTourComponent).ɵfac=function CoreBlockSideBlocksTourComponent_Factory(n){return new(n||e)},e.ɵcmp=s.VBU({type:e,selectors:[["core-block-side-blocks-tour"]],standalone:!0,features:[s.aNF],decls:9,vars:9,consts:[["expand","block",3,"click"]],template:function CoreBlockSideBlocksTourComponent_Template(e,n){1&e&&(s.j41(0,"h1"),s.EFF(1),s.nI1(2,"translate"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.nI1(5,"translate"),s.k0s(),s.j41(6,"ion-button",0),s.bIt("click",(function CoreBlockSideBlocksTourComponent_Template_ion_button_click_6_listener(){return n.dismiss()})),s.EFF(7),s.nI1(8,"translate"),s.k0s()),2&e&&(s.R7$(),s.JRh(s.bMT(2,3,"core.block.tour_navigation_dashboard_title")),s.R7$(3),s.JRh(s.bMT(5,5,"core.block.tour_navigation_dashboard_content")),s.R7$(3),s.SpI(" ",s.bMT(8,7,"core.endonesteptour"),"\n"))},dependencies:[a.n,c.Jm,l.T,d.D9],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;font-size:var(--mdl-typography-heading2-fontSize)}[_nghost-%COMP%]   h1[_ngcontent-%COMP%], [_nghost-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}"]}),CoreBlockSideBlocksTourComponent})();var g=t(86198),u=t(8759);let p=(()=>{var e;class CoreBlockSideBlocksButtonComponent{constructor(e){this.userTour={id:"side-blocks-button",component:m,side:"start",alignment:"center",after:"user-menu",afterTimeout:1e3,getFocusedElement:e=>{var n,t;const o=Array.from(null!==(n=null===(t=e.shadowRoot)||void 0===t?void 0:t.children)&&void 0!==n?n:[]).find((e=>"BUTTON"===e.tagName));return null!=o?o:e}},this.element=e.nativeElement}ngOnInit(){var e=this;return(0,o.A)((function*(){e.slotPromise=r.y.slotOnContent(e.element)}))()}openBlocks(){var e=this;return(0,o.A)((function*(){const{CoreBlockSideBlocksComponent:n}=yield Promise.all([t.e(72076),t.e(262)]).then(t.bind(t,262));i.I.openSideModal({component:n,componentProps:{contextLevel:e.contextLevel,instanceId:e.instanceId,myDashboardPage:e.myDashboardPage}})}))()}ngOnDestroy(){var e;null===(e=this.slotPromise)||void 0===e||e.cancel()}}return(e=CoreBlockSideBlocksButtonComponent).ɵfac=function CoreBlockSideBlocksButtonComponent_Factory(n){return new(n||e)(s.rXU(s.aKT))},e.ɵcmp=s.VBU({type:e,selectors:[["core-block-side-blocks-button"]],inputs:{contextLevel:"contextLevel",instanceId:"instanceId",myDashboardPage:"myDashboardPage"},standalone:!0,features:[s.aNF],decls:3,vars:4,consts:[["color","secondary",3,"click","userTour","ariaLabel"],["name","fas-chevron-left","slot","icon-only","aria-hidden","true"]],template:function CoreBlockSideBlocksButtonComponent_Template(e,n){1&e&&(s.j41(0,"ion-button",0),s.nI1(1,"translate"),s.bIt("click",(function CoreBlockSideBlocksButtonComponent_Template_ion_button_click_0_listener(){return n.openBlocks()})),s.nrm(2,"ion-icon",1),s.k0s()),2&e&&s.Y8G("userTour",n.userTour)("ariaLabel",s.bMT(1,2,"core.block.opendrawerblocks"))},dependencies:[a.n,c.Jm,c.iq,g.t,l.T,u.g,d.D9],styles:["[_nghost-%COMP%]{top:50%;position:fixed;z-index:10;transform:translateY(-50%)}@supports (inset-inline-start: 0){[_nghost-%COMP%]{inset-inline-end:0px}}@supports not (inset-inline-start: 0){[_nghost-%COMP%]{right:0}[dir=rtl][_nghost-%COMP%], [dir=rtl]   [_nghost-%COMP%]{left:unset;right:unset;left:0}@supports selector(:dir(rtl)){[_nghost-%COMP%]:dir(rtl){left:unset;right:unset;left:0}}}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;--padding-start: .5em;--padding-end: 0;--core-input-radius: 2em 0 0 2em;height:56px;--box-shadow: 0 3px 5px -1px rgb(0 0 0 / 20%), 0 6px 10px 0 rgb(0 0 0 / 14%), 0 1px 18px 0 rgb(0 0 0 / 12%)}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){transition:padding .2s ease-in-out}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--padding-end: 1.2em;--padding-start: 1em}[dir=rtl][_nghost-%COMP%]   ion-button[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{--core-input-radius: 0 2em 2em 0}"]}),CoreBlockSideBlocksButtonComponent})()},11383:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var o=t(10467),i=t(44682),r=t(52749),a=t(70526),_=t(66110),s=t(49882),c=t(94247),l=t(97086),d=t(8979),m=t(15324),g=t(63561),u=t(55554),p=t(24742),C=t(22693),I=t(93589),h=t(25572),f=t(79555),S=t(86654),b=t(98054),x=t(67192),T=t(54438),P=t(21182),H=t(60177),k=t(2910),v=t(16986),M=t(64422),R=t(13988),B=t(86198),y=t(58197),O=t(88246),G=t(43570),E=t(73955);function CoreSiteHomeIndexPage_ion_button_1_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-button",15),T.nI1(1,"translate"),T.bIt("click",(function CoreSiteHomeIndexPage_ion_button_1_Template_ion_button_click_0_listener(){T.eBV(e);const n=T.XpG();return T.Njj(n.openSearch())})),T.nrm(2,"ion-icon",16),T.k0s()}2&e&&T.Y8G("ariaLabel",T.bMT(1,1,"core.courses.searchcourses"))}function CoreSiteHomeIndexPage_section_8_Conditional_1_h2_2_Template(e,n){if(1&e&&(T.j41(0,"h2",23),T.nrm(1,"core-format-text",24),T.k0s()),2&e){const e=T.XpG(3);T.Y8G("id","core-section-name-"+e.section.id),T.R7$(),T.Y8G("text",e.section.name)("contextInstanceId",e.siteHomeId)}}function CoreSiteHomeIndexPage_section_8_Conditional_1_div_3_Template(e,n){1&e&&(T.j41(0,"div")(1,"ion-badge",25),T.EFF(2),T.nI1(3,"translate"),T.k0s()()),2&e&&(T.R7$(2),T.SpI(" ",T.bMT(3,1,"core.course.hiddenfromstudents")," "))}function CoreSiteHomeIndexPage_section_8_Conditional_1_div_4_Template(e,n){1&e&&(T.j41(0,"div")(1,"ion-badge",25),T.EFF(2),T.nI1(3,"translate"),T.k0s()()),2&e&&(T.R7$(2),T.SpI(" ",T.bMT(3,1,"core.notavailable")," "))}function CoreSiteHomeIndexPage_section_8_Conditional_1_div_5_Template(e,n){if(1&e&&(T.j41(0,"div")(1,"ion-chip",26),T.nrm(2,"ion-icon",27),T.nI1(3,"translate"),T.j41(4,"ion-label"),T.nrm(5,"core-format-text",24),T.k0s()()()),2&e){const e=T.XpG(3);T.R7$(2),T.BMQ("aria-label",T.bMT(3,3,"core.restricted")),T.R7$(3),T.Y8G("text",e.section.availabilityinfo)("contextInstanceId",e.siteHomeId)}}function CoreSiteHomeIndexPage_section_8_Conditional_1_Template(e,n){if(1&e&&(T.j41(0,"ion-item-divider",21)(1,"ion-label"),T.DNE(2,CoreSiteHomeIndexPage_section_8_Conditional_1_h2_2_Template,2,3,"h2",22)(3,CoreSiteHomeIndexPage_section_8_Conditional_1_div_3_Template,4,3,"div",12)(4,CoreSiteHomeIndexPage_section_8_Conditional_1_div_4_Template,4,3,"div",12)(5,CoreSiteHomeIndexPage_section_8_Conditional_1_div_5_Template,6,5,"div",12),T.k0s()()),2&e){const e=T.XpG(2);T.AVh("item-dimmed",0===e.section.visible||!1===e.section.uservisible),T.R7$(2),T.Y8G("ngIf",e.section.name),T.R7$(),T.Y8G("ngIf",0===e.section.visible&&!1!==e.section.uservisible),T.R7$(),T.Y8G("ngIf",0===e.section.visible&&!1===e.section.uservisible),T.R7$(),T.Y8G("ngIf",e.section.availabilityinfo)}}function CoreSiteHomeIndexPage_section_8_ion_item_2_Template(e,n){if(1&e&&(T.j41(0,"ion-item",28)(1,"ion-label"),T.nrm(2,"core-format-text",24),T.k0s()()),2&e){const e=T.XpG(2);T.R7$(2),T.Y8G("text",e.section.summary)("contextInstanceId",e.siteHomeId)}}function CoreSiteHomeIndexPage_section_8_ng_container_3_core_course_module_1_Template(e,n){if(1&e&&T.nrm(0,"core-course-module",30),2&e){const e=T.XpG().$implicit,n=T.XpG(2);T.Y8G("module",e)("section",n.section)}}function CoreSiteHomeIndexPage_section_8_ng_container_3_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,CoreSiteHomeIndexPage_section_8_ng_container_3_core_course_module_1_Template,1,2,"core-course-module",29),T.bVm()),2&e){const e=n.$implicit,t=T.XpG(2);T.R7$(),T.Y8G("ngIf",t.isModule(e))}}function CoreSiteHomeIndexPage_section_8_Template(e,n){if(1&e&&(T.j41(0,"section",17),T.DNE(1,CoreSiteHomeIndexPage_section_8_Conditional_1_Template,6,6,"ion-item-divider",18)(2,CoreSiteHomeIndexPage_section_8_ion_item_2_Template,3,2,"ion-item",19)(3,CoreSiteHomeIndexPage_section_8_ng_container_3_Template,2,1,"ng-container",20),T.k0s()),2&e){const e=T.XpG();T.R7$(),T.vxM(1,e.section.name||0===e.section.visible||e.section.availabilityinfo?1:-1),T.R7$(),T.Y8G("ngIf",e.section.summary),T.R7$(),T.Y8G("ngForOf",e.section.contents)}}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_2_1_ng_template_0_Template(e,n){}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_2_1_Template(e,n){1&e&&T.DNE(0,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_2_1_ng_template_0_Template,0,0,"ng-template")}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_2_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_2_1_Template,1,0,null,33),T.bVm()),2&e){T.XpG(3);const e=T.sdS(13);T.R7$(),T.Y8G("ngTemplateOutlet",e)}}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_3_1_ng_template_0_Template(e,n){}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_3_1_Template(e,n){1&e&&T.DNE(0,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_3_1_ng_template_0_Template,0,0,"ng-template")}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_3_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_3_1_Template,1,0,null,33),T.bVm()),2&e){T.XpG(3);const e=T.sdS(17);T.R7$(),T.Y8G("ngTemplateOutlet",e)}}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_4_1_ng_template_0_Template(e,n){}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_4_1_Template(e,n){1&e&&T.DNE(0,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_4_1_ng_template_0_Template,0,0,"ng-template")}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_4_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_4_1_Template,1,0,null,33),T.bVm()),2&e){T.XpG(3);const e=T.sdS(21);T.R7$(),T.Y8G("ngTemplateOutlet",e)}}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_5_1_ng_template_0_Template(e,n){}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_5_1_Template(e,n){1&e&&T.DNE(0,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_5_1_ng_template_0_Template,0,0,"ng-template")}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_5_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_5_1_Template,1,0,null,33),T.bVm()),2&e){T.XpG(3);const e=T.sdS(19);T.R7$(),T.Y8G("ngTemplateOutlet",e)}}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_6_1_ng_template_0_Template(e,n){}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_6_1_Template(e,n){1&e&&T.DNE(0,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_6_1_ng_template_0_Template,0,0,"ng-template")}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_6_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_6_1_Template,1,0,null,33),T.bVm()),2&e){T.XpG(3);const e=T.sdS(15);T.R7$(),T.Y8G("ngTemplateOutlet",e)}}function CoreSiteHomeIndexPage_ng_container_9_ng_container_1_Template(e,n){if(1&e&&(T.qex(0)(1,31),T.DNE(2,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_2_Template,2,1,"ng-container",32)(3,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_3_Template,2,1,"ng-container",32)(4,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_4_Template,2,1,"ng-container",32)(5,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_5_Template,2,1,"ng-container",32)(6,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_ng_container_6_Template,2,1,"ng-container",32),T.bVm()()),2&e){const e=n.$implicit;T.R7$(),T.Y8G("ngSwitch",e),T.R7$(),T.Y8G("ngSwitchCase","LIST_OF_COURSE"),T.R7$(),T.Y8G("ngSwitchCase","LIST_OF_CATEGORIES"),T.R7$(),T.Y8G("ngSwitchCase","COURSE_SEARCH_BOX"),T.R7$(),T.Y8G("ngSwitchCase","ENROLLED_COURSES"),T.R7$(),T.Y8G("ngSwitchCase","NEWS_ITEMS")}}function CoreSiteHomeIndexPage_ng_container_9_Template(e,n){if(1&e&&(T.qex(0),T.DNE(1,CoreSiteHomeIndexPage_ng_container_9_ng_container_1_Template,7,6,"ng-container",20),T.bVm()),2&e){const e=T.XpG();T.R7$(),T.Y8G("ngForOf",e.items)}}function CoreSiteHomeIndexPage_core_block_side_blocks_button_10_Template(e,n){if(1&e&&T.nrm(0,"core-block-side-blocks-button",34),2&e){const e=T.XpG();T.Y8G("instanceId",e.siteHomeId)}}function CoreSiteHomeIndexPage_core_empty_box_11_Template(e,n){1&e&&(T.nrm(0,"core-empty-box",35),T.nI1(1,"translate")),2&e&&T.Y8G("message",T.bMT(1,1,"core.course.nocontentavailable"))}function CoreSiteHomeIndexPage_ng_template_12_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-card")(1,"ion-item",36),T.bIt("click",(function CoreSiteHomeIndexPage_ng_template_12_Template_ion_item_click_1_listener(){T.eBV(e);const n=T.XpG();return T.Njj(n.openAvailableCourses())})),T.nrm(2,"ion-icon",37),T.j41(3,"ion-label")(4,"p",38),T.EFF(5),T.nI1(6,"translate"),T.k0s()()()()}2&e&&(T.R7$(5),T.JRh(T.bMT(6,1,"core.courses.availablecourses")))}function CoreSiteHomeIndexPage_ng_template_14_core_course_module_0_Template(e,n){if(1&e&&T.nrm(0,"core-course-module",40),2&e){const e=T.XpG(2);T.Y8G("module",e.newsForumModule)}}function CoreSiteHomeIndexPage_ng_template_14_Template(e,n){if(1&e&&T.DNE(0,CoreSiteHomeIndexPage_ng_template_14_core_course_module_0_Template,1,1,"core-course-module",39),2&e){const e=T.XpG();T.Y8G("ngIf",e.newsForumModule)}}function CoreSiteHomeIndexPage_ng_template_16_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-card")(1,"ion-item",36),T.bIt("click",(function CoreSiteHomeIndexPage_ng_template_16_Template_ion_item_click_1_listener(){T.eBV(e);const n=T.XpG();return T.Njj(n.openCourseCategories())})),T.nrm(2,"ion-icon",41),T.j41(3,"ion-label")(4,"p",38),T.EFF(5),T.nI1(6,"translate"),T.k0s()()()()}2&e&&(T.R7$(5),T.JRh(T.bMT(6,1,"core.courses.categories")))}function CoreSiteHomeIndexPage_ng_template_18_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-card")(1,"ion-item",36),T.bIt("click",(function CoreSiteHomeIndexPage_ng_template_18_Template_ion_item_click_1_listener(){T.eBV(e);const n=T.XpG();return T.Njj(n.openMyCourses())})),T.nrm(2,"ion-icon",37),T.j41(3,"ion-label")(4,"p",38),T.EFF(5),T.nI1(6,"translate"),T.k0s()()()()}2&e&&(T.R7$(5),T.JRh(T.bMT(6,1,"core.courses.mycourses")))}function CoreSiteHomeIndexPage_ng_template_20_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"ion-card")(1,"ion-item",36),T.bIt("click",(function CoreSiteHomeIndexPage_ng_template_20_Template_ion_item_click_1_listener(){T.eBV(e);const n=T.XpG();return T.Njj(n.openSearch())})),T.nrm(2,"ion-icon",42),T.j41(3,"ion-label")(4,"p",38),T.EFF(5),T.nI1(6,"translate"),T.k0s()()()()}2&e&&(T.R7$(5),T.JRh(T.bMT(6,1,"core.courses.searchcourses")))}let w=(()=>{var e;class CoreSiteHomeIndexPage{constructor(e){var n=this;this.route=e,this.dataLoaded=!1,this.hasContent=!1,this.hasBlocks=!1,this.items=[],this.siteHomeId=1,this.searchEnabled=!1,this.isModule=i.sectionContentIsModule,this.updateSiteObserver=s.z.on(s.z.SITE_UPDATED,(()=>{this.searchEnabled=!_.CoreCourses.isSearchCoursesDisabledInSite()}),r.CoreSites.getCurrentSiteId()),this.logView=p.j.once((0,o.A)((function*(){var e,t;yield u.g.ignoreErrors(i.CoreCourse.logView(n.siteHomeId)),C.OF.logEvent({type:C.qr.VIEW_ITEM,ws:"core_course_view_course",name:null!==(e=null===(t=n.currentSite.getInfo())||void 0===t?void 0:t.sitename)&&void 0!==e?e:"",data:{id:n.siteHomeId,category:"course"},url:"/?redirect=0"})})))}ngOnInit(){this.searchEnabled=!_.CoreCourses.isSearchCoursesDisabledInSite(),this.currentSite=r.CoreSites.getRequiredCurrentSite(),this.siteHomeId=r.CoreSites.getCurrentSiteHomeId();const e=m.CoreNavigator.getRouteParam("module");if(e){const n=m.CoreNavigator.getRouteParam("modNavOptions");c.CoreCourseHelper.openModule(e,this.siteHomeId,{modNavOptions:n})}this.loadContent().finally((()=>{this.dataLoaded=!0})),this.openFocusedInstance(),this.route.queryParams.subscribe((()=>this.openFocusedInstance()))}loadContent(){var e=this;return(0,o.A)((function*(){e.hasContent=!1;const n=e.currentSite.getStoredConfig()||{numsections:1,frontpageloggedin:void 0};if(e.items=yield a.CoreSiteHome.getFrontPageItems(n.frontpageloggedin),e.hasContent=e.items.length>0,e.items.includes("NEWS_ITEMS"))try{const n=yield a.CoreSiteHome.getNewsForum(e.siteHomeId);e.newsForumModule=yield i.CoreCourse.getModule(n.cmid,n.course),e.newsForumModule.handlerData=yield l.CoreCourseModuleDelegate.getModuleDataFor(e.newsForumModule.modname,e.newsForumModule,e.siteHomeId,void 0,!0)}catch{}try{const t=yield i.CoreCourse.getSections(e.siteHomeId,!1,!0);if(e.section=n.numsections?t.find((e=>1===e.section)):void 0,e.section){e.section.name="Site"===e.section.name||e.section.name===f.HT.instant("core.site")?"":e.section.name.trim();const n=yield c.CoreCourseHelper.addHandlerDataForModules([e.section],e.siteHomeId,void 0,void 0,!0);e.section.hasContent=n.hasContent,e.hasContent=n.hasContent||e.hasContent}e.logView()}catch(e){h.CoreAlerts.showError(e,{default:f.HT.instant("core.course.couldnotloadsectioncontent")})}e.hasBlocks=yield g.CoreBlockHelper.hasCourseBlocks(e.siteHomeId)}))()}doRefresh(e){var n,t=this;const r=[];r.push(i.CoreCourse.invalidateSections(this.siteHomeId)),r.push(this.currentSite.invalidateConfig().then((0,o.A)((function*(){const e=yield t.currentSite.getConfig();t.currentSite.setConfig(e)})))),r.push(i.CoreCourse.invalidateCourseBlocks(this.siteHomeId)),null!==(n=this.section)&&void 0!==n&&n.contents.length&&r.push(d.CoreCourseModulePrefetchDelegate.invalidateModules(i.CoreCourse.getSectionsModules([this.section]),this.siteHomeId)),Promise.all(r).finally((0,o.A)((function*(){yield t.loadContent().finally((()=>{null==e||e.complete()}))})))}openSearch(){m.CoreNavigator.navigateToSitePath("courses/list",{params:{mode:"search"}})}openAvailableCourses(){m.CoreNavigator.navigateToSitePath("courses/list",{params:{mode:"all"}})}openMyCourses(){m.CoreNavigator.navigateToSitePath("courses/list",{params:{mode:"my"}})}openCourseCategories(){m.CoreNavigator.navigateToSitePath("courses/categories")}ngOnDestroy(){this.updateSiteObserver.off()}openFocusedInstance(){var e=this;return(0,o.A)((function*(){const n=m.CoreNavigator.getRouteNumberParam("blockInstanceId");if(!n)return;const{CoreBlockSideBlocksComponent:o}=yield Promise.all([t.e(72076),t.e(262)]).then(t.bind(t,262));I.I.openSideModal({component:o,componentProps:{contextLevel:"course",instanceId:e.siteHomeId,initialBlockInstanceId:n}})}))()}}return(e=CoreSiteHomeIndexPage).ɵfac=function CoreSiteHomeIndexPage_Factory(n){return new(n||e)(T.rXU(P.nX))},e.ɵcmp=T.VBU({type:e,selectors:[["page-core-sitehome-index"]],standalone:!0,features:[T.aNF],decls:22,vars:10,consts:[["allCourseList",""],["news",""],["categories",""],["enrolledCourseList",""],["courseSearch",""],["slot","end","prepend",""],[3,"ariaLabel","click",4,"ngIf"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],["placeholderType","column","placeholderHeight","48px",3,"hideUntil"],[1,"list-item-limited-width"],["class","core-course-module-list-wrapper",4,"ngIf"],[4,"ngIf"],["slot","fixed","contextLevel","course",3,"instanceId",4,"ngIf"],["icon","fas-box-open",3,"message",4,"ngIf"],[3,"click","ariaLabel"],["name","fas-magnifying-glass","slot","icon-only","aria-hidden","true"],[1,"core-course-module-list-wrapper"],[1,"course-section","ion-text-wrap",3,"item-dimmed"],["class","ion-text-wrap section-summary",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"course-section","ion-text-wrap"],["class","big",3,"id",4,"ngIf"],[1,"big",3,"id"],["contextLevel","course",3,"text","contextInstanceId"],["color","warning"],[1,"clickable"],["name","fas-lock"],[1,"ion-text-wrap","section-summary"],[3,"module","section",4,"ngIf"],[3,"module","section"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],["slot","fixed","contextLevel","course",3,"instanceId"],["icon","fas-box-open",3,"message"],["button","",1,"ion-text-wrap",3,"click"],["name","fas-graduation-cap","fixed-width","","slot","start","aria-hidden","true"],[1,"item-heading"],["class","core-sitehome-news",3,"module",4,"ngIf"],[1,"core-sitehome-news",3,"module"],["name","far-folder","slot","start","aria-hidden","true"],["name","fas-magnifying-glass","slot","start","aria-hidden","true"]],template:function CoreSiteHomeIndexPage_Template(e,n){if(1&e){const e=T.RV6();T.j41(0,"core-navbar-buttons",5),T.DNE(1,CoreSiteHomeIndexPage_ion_button_1_Template,3,3,"ion-button",6),T.k0s(),T.j41(2,"ion-content")(3,"ion-refresher",7),T.bIt("ionRefresh",(function CoreSiteHomeIndexPage_Template_ion_refresher_ionRefresh_3_listener(t){return T.eBV(e),T.Njj(n.doRefresh(t.target))})),T.nrm(4,"ion-refresher-content",8),T.nI1(5,"translate"),T.k0s(),T.j41(6,"core-loading",9)(7,"ion-list",10),T.DNE(8,CoreSiteHomeIndexPage_section_8_Template,4,3,"section",11)(9,CoreSiteHomeIndexPage_ng_container_9_Template,2,1,"ng-container",12),T.k0s(),T.DNE(10,CoreSiteHomeIndexPage_core_block_side_blocks_button_10_Template,1,1,"core-block-side-blocks-button",13)(11,CoreSiteHomeIndexPage_core_empty_box_11_Template,2,3,"core-empty-box",14),T.k0s()(),T.DNE(12,CoreSiteHomeIndexPage_ng_template_12_Template,7,3,"ng-template",null,0,T.C5r)(14,CoreSiteHomeIndexPage_ng_template_14_Template,1,1,"ng-template",null,1,T.C5r)(16,CoreSiteHomeIndexPage_ng_template_16_Template,7,3,"ng-template",null,2,T.C5r)(18,CoreSiteHomeIndexPage_ng_template_18_Template,7,3,"ng-template",null,3,T.C5r)(20,CoreSiteHomeIndexPage_ng_template_20_Template,7,3,"ng-template",null,4,T.C5r)}2&e&&(T.R7$(),T.Y8G("ngIf",n.searchEnabled),T.R7$(2),T.Y8G("disabled",!n.dataLoaded),T.R7$(),T.FS9("pullingText",T.bMT(5,8,"core.pulltorefresh")),T.R7$(2),T.Y8G("hideUntil",n.dataLoaded),T.R7$(2),T.Y8G("ngIf",n.section&&n.section.hasContent),T.R7$(),T.Y8G("ngIf",n.items.length>0),T.R7$(),T.Y8G("ngIf",n.hasBlocks),T.R7$(),T.Y8G("ngIf",!n.hasContent))},dependencies:[S.n,H.Sq,H.bT,H.T3,H.ux,H.e1,k.In,k.Jm,k.b_,k.ZB,k.W9,k.iq,k.uz,k.Dg,k.he,k.nf,k.To,k.Ki,v.h,M.R,R.c,B.t,y.B,O.i,G.T,E.D9,b.CoreCourseModuleComponent,x.CoreBlockSideBlocksButtonComponent],styles:["ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:inline-block;border-radius:var(--mdl-shape-borderRadius-xs);padding:4px;color:var(--text-color);line-height:var(--size);--margin-end: 8px;margin-inline-end:var(--margin-end)}section.core-course-module-list-wrapper[_ngcontent-%COMP%]{border:var(--ion-card-border-width) solid var(--ion-card-border-color);border-radius:var(--ion-card-radius);margin:12px}section.core-course-module-list-wrapper[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{--ion-card-background: transparent}section.core-course-module-list-wrapper[_ngcontent-%COMP%]   ion-item-divider[_ngcontent-%COMP%]{--background: transparent}core-course-module.core-sitehome-news[_ngcontent-%COMP%]{--card-border-width: var(--ion-card-border-width);--card-radius: var(--ion-card-radius)}core-course-module.core-sitehome-news[_ngcontent-%COMP%]     ion-card{padding-top:4px!important;--card-padding-bottom: 4px;--horizontal-spacing: 12px}core-course-module.core-sitehome-news[_ngcontent-%COMP%]     ion-card ion-item{--padding-start: 16px}"]}),CoreSiteHomeIndexPage})()}}]);