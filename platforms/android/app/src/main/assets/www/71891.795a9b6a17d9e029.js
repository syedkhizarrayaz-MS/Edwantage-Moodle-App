"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[71891],{71891:(n,e,t)=>{t.r(e),t.d(e,{default:()=>E});var o=t(10467),i=t(54438),_=t(85190),a=t(67935),r=t(52749),s=t(55554),c=t(98870),g=t(2806),l=t(74431),d=t(75629),p=t(49882),m=t(98320),f=t(26005),u=t(15324),N=t(24742),h=t(22693),P=t(79555),T=t(49588),S=t(33014),A=t(25572),b=t(86654),G=t(60177),C=t(89417),$=t(2910),R=t(76954),y=t(69502),I=t(17388),k=t(64422),F=t(13988),j=t(86198),M=t(88246),v=t(73955);const _c0=n=>({preferences:n}),_c1=()=>["loggedin","loggedoff"];function AddonNotificationsSettingsPage_core_context_menu_item_12_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"core-context-menu-item",10),i.nI1(1,"translate"),i.bIt("action",(function AddonNotificationsSettingsPage_core_context_menu_item_12_Template_core_context_menu_item_action_0_listener(){const e=i.eBV(n).$implicit,t=i.XpG();return i.Njj(t.openExtraPreferences(e))})),i.k0s()}if(2&n){const n=e.$implicit;i.Y8G("priority",n.priority)("content",i.bMT(1,3,n.label))("iconAction",n.icon)}}function AddonNotificationsSettingsPage_Conditional_18_Template(n,e){if(1&n&&(i.j41(0,"ion-card",9)(1,"ion-item"),i.nrm(2,"ion-icon",11),i.j41(3,"ion-label"),i.EFF(4),i.k0s()()()),2&n){const n=i.XpG();i.R7$(4),i.JRh(n.warningMessage())}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"ion-item",15)(1,"ion-toggle",16),i.mxI("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template_ion_toggle_ngModelChange_1_listener(e){i.eBV(n);const t=i.XpG(2);return i.DH7(t.preferences.enableall,e)||(t.preferences.enableall=e),i.Njj(e)})),i.bIt("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template_ion_toggle_ngModelChange_1_listener(){i.eBV(n);const e=i.XpG(2);return i.Njj(e.enableAll(e.preferences.enableall))})),i.j41(2,"p",17),i.EFF(3),i.nI1(4,"translate"),i.k0s()()()}if(2&n){const n=i.XpG(2);i.R7$(),i.R50("ngModel",n.preferences.enableall),i.R7$(2),i.JRh(i.bMT(4,2,"addon.notifications.allownotifications"))}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"ion-item",15)(1,"ion-toggle",16),i.mxI("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template_ion_toggle_ngModelChange_1_listener(e){i.eBV(n);const t=i.XpG(2);return i.DH7(t.notificationSound,e)||(t.notificationSound=e),i.Njj(e)})),i.bIt("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template_ion_toggle_ngModelChange_1_listener(){i.eBV(n);const e=i.XpG(2);return i.Njj(e.changeNotificationSound(e.notificationSound))})),i.j41(2,"p",17),i.EFF(3),i.nI1(4,"translate"),i.k0s()()()}if(2&n){const n=i.XpG(2);i.R7$(),i.R50("ngModel",n.notificationSound),i.R7$(2),i.JRh(i.bMT(4,2,"addon.notifications.playsound"))}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_ion_select_option_5_Template(n,e){if(1&n&&(i.j41(0,"ion-select-option",22),i.EFF(1),i.k0s()),2&n){const n=e.$implicit;i.Y8G("value",n.name),i.R7$(),i.SpI(" ",n.displayname," ")}}function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"ion-item",18)(1,"ion-select",19),i.mxI("ngModelChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template_ion_select_ngModelChange_1_listener(e){i.eBV(n);const t=i.XpG(2);return i.DH7(t.currentProcessorName,e)||(t.currentProcessorName=e),i.Njj(e)})),i.bIt("ionChange",(function AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template_ion_select_ionChange_1_listener(e){i.eBV(n);const t=i.XpG(2);return i.Njj(t.changeProcessor(e))})),i.j41(2,"p",20),i.EFF(3),i.nI1(4,"translate"),i.k0s(),i.DNE(5,AddonNotificationsSettingsPage_Conditional_19_ion_item_4_ion_select_option_5_Template,2,2,"ion-select-option",21),i.k0s()()}if(2&n){const n=i.XpG(2);i.R7$(),i.R50("ngModel",n.currentProcessorName),i.R7$(2),i.JRh(i.bMT(4,3,"addon.notifications.typeofnotification")),i.R7$(2),i.Y8G("ngForOf",null==n.preferences?null:n.preferences.processors)}}function AddonNotificationsSettingsPage_Conditional_19_ng_container_5_ng_container_1_Template(n,e){1&n&&i.eu8(0)}function AddonNotificationsSettingsPage_Conditional_19_ng_container_5_Template(n,e){if(1&n&&(i.qex(0),i.DNE(1,AddonNotificationsSettingsPage_Conditional_19_ng_container_5_ng_container_1_Template,1,0,"ng-container",23),i.bVm()),2&n){const n=i.XpG(2),e=i.sdS(21);i.R7$(),i.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",i.eq3(2,_c0,n.preferences))}}function AddonNotificationsSettingsPage_Conditional_19_ng_container_6_ng_container_1_Template(n,e){1&n&&i.eu8(0)}function AddonNotificationsSettingsPage_Conditional_19_ng_container_6_Template(n,e){if(1&n&&(i.qex(0),i.DNE(1,AddonNotificationsSettingsPage_Conditional_19_ng_container_6_ng_container_1_Template,1,0,"ng-container",23),i.bVm()),2&n){const n=i.XpG(2),e=i.sdS(23);i.R7$(),i.Y8G("ngTemplateOutlet",e)("ngTemplateOutletContext",i.eq3(2,_c0,n.preferences))}}function AddonNotificationsSettingsPage_Conditional_19_Template(n,e){if(1&n&&(i.j41(0,"ion-card"),i.DNE(1,AddonNotificationsSettingsPage_Conditional_19_ion_item_1_Template,5,4,"ion-item",12)(2,AddonNotificationsSettingsPage_Conditional_19_ion_item_2_Template,5,4,"ion-item",12),i.k0s(),i.j41(3,"ion-card"),i.DNE(4,AddonNotificationsSettingsPage_Conditional_19_ion_item_4_Template,6,5,"ion-item",13)(5,AddonNotificationsSettingsPage_Conditional_19_ng_container_5_Template,2,4,"ng-container",14)(6,AddonNotificationsSettingsPage_Conditional_19_ng_container_6_Template,2,4,"ng-container",14),i.k0s()),2&n){const n=i.XpG();i.R7$(),i.Y8G("ngIf",n.preferences),i.R7$(),i.Y8G("ngIf",n.canChangeSound),i.R7$(2),i.Y8G("ngIf",null==n.preferences||null==n.preferences.processors?null:n.preferences.processors.length),i.R7$(),i.Y8G("ngIf",n.loggedInOffLegacyMode),i.R7$(),i.Y8G("ngIf",!n.loggedInOffLegacyMode)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"core-button-with-spinner",39)(1,"ion-toggle",16),i.mxI("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(e){i.eBV(n);const t=i.XpG(2).$implicit,o=i.XpG().$implicit,_=i.XpG(3);return i.DH7(o.processorsByName[_.currentProcessorName][t].checked,e)||(o.processorsByName[_.currentProcessorName][t].checked=e),i.Njj(e)})),i.bIt("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template_ion_toggle_ngModelChange_1_listener(){i.eBV(n);const e=i.XpG(2).$implicit,t=i.XpG().$implicit,o=i.XpG(3);return i.Njj(o.changePreferenceLegacy(t,e))})),i.k0s()()}if(2&n){const n=i.XpG(2).$implicit,e=i.XpG().$implicit,t=i.XpG(3);i.Y8G("loading",e.processorsByName[t.currentProcessorName][n].updating),i.R7$(),i.R50("ngModel",e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_2_Template(n,e){1&n&&(i.j41(0,"span",40),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_3_Template(n,e){1&n&&(i.j41(0,"span",40),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_Template(n,e){if(1&n&&(i.qex(0),i.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",38)(2,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_2_Template,3,3,"span",37)(3,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_span_3_Template,3,3,"span",37),i.bVm()),2&n){const n=i.XpG().$implicit,e=i.XpG().$implicit,t=i.XpG(3);i.R7$(),i.Y8G("ngIf",!e.processorsByName[t.currentProcessorName].locked),i.R7$(),i.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&e.processorsByName[t.currentProcessorName][n].checked),i.R7$(),i.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&!e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_span_2_Template(n,e){1&n&&(i.j41(0,"span",40),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.JRh(i.bMT(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_Template(n,e){if(1&n&&(i.j41(0,"ion-col",36),i.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_ng_container_1_Template,4,3,"ng-container",14)(2,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_span_2_Template,3,3,"span",37),i.k0s()),2&n){const n=e.$implicit,t=i.XpG().$implicit,o=i.XpG(2).preferences,_=i.XpG();i.R7$(),i.Y8G("ngIf",o.enableall&&t.processorsByName[_.currentProcessorName][n]),i.R7$(),i.Y8G("ngIf",!o.enableall)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"ion-toggle",16),i.mxI("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(e){i.eBV(n);const t=i.XpG(3).$implicit,o=i.XpG().$implicit,_=i.XpG(3);return i.DH7(o.processorsByName[_.currentProcessorName][t].checked,e)||(o.processorsByName[_.currentProcessorName][t].checked=e),i.Njj(e)})),i.bIt("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(){i.eBV(n);const e=i.XpG(3).$implicit,t=i.XpG().$implicit,o=i.XpG(3);return i.Njj(o.changePreferenceLegacy(t,e))})),i.k0s()}if(2&n){const n=i.XpG(3).$implicit,e=i.XpG().$implicit,t=i.XpG(3);i.R50("ngModel",e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_Template(n,e){if(1&n&&(i.j41(0,"core-button-with-spinner",39),i.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_ion_toggle_1_Template,1,1,"ion-toggle",45),i.k0s()),2&n){const n=i.XpG(2).$implicit,e=i.XpG().$implicit,t=i.XpG(3);i.Y8G("loading",e.processorsByName[t.currentProcessorName][n].updating),i.R7$(),i.Y8G("ngIf",!e.processorsByName[t.currentProcessorName].locked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_2_Template(n,e){1&n&&(i.j41(0,"span",40),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_3_Template(n,e){1&n&&(i.j41(0,"span",40),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_Template(n,e){if(1&n&&(i.j41(0,"div",4),i.DNE(1,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",38)(2,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_2_Template,3,3,"span",37)(3,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_span_3_Template,3,3,"span",37),i.k0s()),2&n){const n=i.XpG().$implicit,e=i.XpG().$implicit,t=i.XpG(3);i.R7$(),i.Y8G("ngIf",!e.processorsByName[t.currentProcessorName].locked),i.R7$(),i.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&e.processorsByName[t.currentProcessorName][n].checked),i.R7$(),i.Y8G("ngIf",e.processorsByName[t.currentProcessorName].locked&&!e.processorsByName[t.currentProcessorName][n].checked)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_span_6_Template(n,e){1&n&&(i.j41(0,"span",46),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.JRh(i.bMT(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_Template(n,e){if(1&n&&(i.j41(0,"ion-item",41)(1,"ion-label",42)(2,"p"),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.DNE(5,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_div_5_Template,4,3,"div",43)(6,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_span_6_Template,3,3,"span",44),i.k0s()),2&n){const n=e.$implicit,t=i.XpG().$implicit,o=i.XpG(2).preferences,_=i.XpG();i.R7$(3),i.JRh(i.bMT(4,3,"core.settings."+n)),i.R7$(2),i.Y8G("ngIf",o.enableall&&t.processorsByName[_.currentProcessorName][n]),i.R7$(),i.Y8G("ngIf",!o.enableall)}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_Template(n,e){if(1&n&&(i.qex(0),i.j41(1,"ion-item",30)(2,"ion-label")(3,"ion-row",31)(4,"ion-col",32)(5,"p",17),i.EFF(6),i.k0s()(),i.DNE(7,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_col_7_Template,3,2,"ion-col",33),i.k0s()()(),i.j41(8,"ion-item",34)(9,"ion-label")(10,"p",17),i.EFF(11),i.k0s()()(),i.DNE(12,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_ion_item_12_Template,7,5,"ion-item",35),i.bVm()),2&n){const n=e.$implicit;i.R7$(6),i.JRh(n.displayname),i.R7$(),i.Y8G("ngForOf",i.lJ4(4,_c1)),i.R7$(4),i.JRh(n.displayname),i.R7$(),i.Y8G("ngForOf",i.lJ4(5,_c1))}}function AddonNotificationsSettingsPage_ng_template_20_ng_container_0_Template(n,e){if(1&n&&(i.qex(0,25),i.j41(1,"ion-card-header",26)(2,"ion-item",27)(3,"ion-label",15)(4,"ion-row",26)(5,"ion-col",26)(6,"p",17),i.EFF(7),i.k0s()(),i.j41(8,"ion-col",28)(9,"p"),i.EFF(10),i.nI1(11,"translate"),i.k0s()(),i.j41(12,"ion-col",28)(13,"p"),i.EFF(14),i.nI1(15,"translate"),i.k0s()()()()()(),i.DNE(16,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_ng_container_16_Template,13,6,"ng-container",29),i.bVm()),2&n){const n=e.$implicit;i.R7$(7),i.JRh(n.displayname),i.R7$(3),i.JRh(i.bMT(11,4,"core.settings.loggedin")),i.R7$(4),i.JRh(i.bMT(15,6,"core.settings.loggedoff")),i.R7$(2),i.Y8G("ngForOf",n.notifications)}}function AddonNotificationsSettingsPage_ng_template_20_Template(n,e){if(1&n&&i.DNE(0,AddonNotificationsSettingsPage_ng_template_20_ng_container_0_Template,17,8,"ng-container",24),2&n){const n=i.XpG();i.Y8G("ngForOf",n.components)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"ion-toggle",16),i.mxI("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(e){i.eBV(n);const t=i.XpG(3).$implicit,o=i.XpG(3);return i.DH7(t.processorsByName[o.currentProcessorName].enabled,e)||(t.processorsByName[o.currentProcessorName].enabled=e),i.Njj(e)})),i.bIt("ngModelChange",(function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template_ion_toggle_ngModelChange_0_listener(){i.eBV(n);const e=i.XpG(3).$implicit,t=i.XpG(3);return i.Njj(t.changePreference(e))})),i.k0s()}if(2&n){const n=i.XpG(3).$implicit,e=i.XpG(3);i.R50("ngModel",n.processorsByName[e.currentProcessorName].enabled)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_Template(n,e){if(1&n&&(i.j41(0,"core-button-with-spinner",39),i.DNE(1,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_ion_toggle_1_Template,1,1,"ion-toggle",45),i.k0s()),2&n){const n=i.XpG(2).$implicit,e=i.XpG(3);i.Y8G("loading",n.processorsByName[e.currentProcessorName].updating),i.R7$(),i.Y8G("ngIf",!n.processorsByName[e.currentProcessorName].locked)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_2_Template(n,e){1&n&&(i.j41(0,"span",40),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.settings.forced")," "))}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_3_Template(n,e){1&n&&(i.j41(0,"span",40),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"core.settings.disallowed")," "))}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_Template(n,e){if(1&n&&(i.j41(0,"div",4),i.DNE(1,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_core_button_with_spinner_1_Template,2,2,"core-button-with-spinner",38)(2,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_2_Template,3,3,"span",37)(3,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_span_3_Template,3,3,"span",37),i.k0s()),2&n){const n=i.XpG().$implicit,e=i.XpG(3);i.R7$(),i.Y8G("ngIf",!n.processorsByName[e.currentProcessorName].locked),i.R7$(),i.Y8G("ngIf",n.processorsByName[e.currentProcessorName].locked&&n.processorsByName[e.currentProcessorName].enabled),i.R7$(),i.Y8G("ngIf",n.processorsByName[e.currentProcessorName].locked&&!n.processorsByName[e.currentProcessorName].enabled)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_span_6_Template(n,e){1&n&&(i.j41(0,"span",46),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&n&&(i.R7$(),i.JRh(i.bMT(2,1,"core.settings.disabled")))}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_Template(n,e){if(1&n&&(i.qex(0),i.j41(1,"ion-item",47)(2,"ion-label")(3,"p"),i.EFF(4),i.k0s()(),i.DNE(5,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_div_5_Template,4,3,"div",43)(6,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_span_6_Template,3,3,"span",44),i.k0s(),i.bVm()),2&n){const n=e.$implicit,t=i.XpG(2).preferences;i.R7$(4),i.JRh(n.displayname),i.R7$(),i.Y8G("ngIf",t.enableall),i.R7$(),i.Y8G("ngIf",!t.enableall)}}function AddonNotificationsSettingsPage_ng_template_22_ng_container_0_Template(n,e){if(1&n&&(i.qex(0,25),i.j41(1,"ion-item-divider",15)(2,"ion-label")(3,"p",17),i.EFF(4),i.k0s()()(),i.DNE(5,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_ng_container_5_Template,7,3,"ng-container",29),i.bVm()),2&n){const n=e.$implicit;i.R7$(4),i.JRh(n.displayname),i.R7$(),i.Y8G("ngForOf",n.notifications)}}function AddonNotificationsSettingsPage_ng_template_22_Template(n,e){if(1&n&&i.DNE(0,AddonNotificationsSettingsPage_ng_template_22_ng_container_0_Template,6,2,"ng-container",24),2&n){const n=i.XpG();i.Y8G("ngForOf",n.components)}}let E=(()=>{var n;class AddonNotificationsSettingsPage{constructor(){this.currentProcessorName="airnotifier",this.preferencesLoaded=!1,this.notificationSound=!1,this.processorHandlers=[],this.loggedInOffLegacyMode=!1,this.warningMessage=(0,i.vPA)(void 0),this.canChangeSound=a.CoreLocalNotifications.canDisableSound();const n=r.CoreSites.getRequiredCurrentSite();this.loggedInOffLegacyMode=!n.isVersionGreaterEqualThan("4.0"),this.logView=N.j.once((0,o.A)((function*(){h.OF.logEvent({type:h.qr.VIEW_ITEM_LIST,ws:"core_message_get_user_notification_preferences",name:P.HT.instant("addon.notifications.notificationpreferences"),data:{category:"notifications"},url:"/message/notificationpreferences.php"})})))}ngOnInit(){var n=this;return(0,o.A)((function*(){n.canChangeSound&&(n.notificationSound=yield _.CoreConfig.get(l.CoreConstants.SETTINGS_NOTIFICATION_SOUND,!0)),n.fetchPreferences()}))()}fetchPreferences(){var n=this;return(0,o.A)((function*(){try{const e=yield m.AddonNotifications.getNotificationPreferences();n.warningMessage.set(void 0);let t=e.processors.find((e=>e.name==n.currentProcessorName));if(t||(t=e.processors[0]),!t)throw new d.CoreError("No processor found");e.enableall=!e.disableall,n.preferences=f.AddonNotificationsHelper.formatPreferences(e),n.loadProcessor(t),n.logView()}catch(e){if("nopermissions"===e.errorcode)return n.warningMessage.set(T.CoreErrorHelper.getErrorMessageFromError(e)),void 0;A.CoreAlerts.showError(e)}finally{n.preferencesLoaded=!0}}))()}loadProcessor(n){var e;if(!n)return;if(this.currentProcessorName=n.name,this.processorHandlers=[],this.components=f.AddonNotificationsHelper.getProcessorComponents(n.name,(null===(e=this.preferences)||void 0===e?void 0:e.components)||[]),!n.hassettings||!n.supported)return;const t=g.AddonMessageOutputDelegate.getDisplayData(n);t&&this.processorHandlers.push(t)}updatePreferencesAfterDelay(){clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout((()=>{this.updateTimeout=void 0,this.updatePreferences()}),5e3)}updatePreferences(){return(0,o.A)((function*(){yield s.g.ignoreErrors(m.AddonNotifications.invalidateNotificationPreferences()),yield m.AddonNotifications.getNotificationPreferences()}))()}changeProcessor(n){var e;const t=null===(e=this.preferences)||void 0===e?void 0:e.processors.find((e=>e.name==n));t&&this.loadProcessor(t)}refreshPreferences(n){var e=this;return(0,o.A)((function*(){try{yield s.g.ignoreErrors(m.AddonNotifications.invalidateNotificationPreferences()),yield e.fetchPreferences()}finally{null==n||n.complete()}}))()}openExtraPreferences(n){u.CoreNavigator.navigateToSitePath(n.page,{params:n.pageParams})}changePreferenceLegacy(n,e){var t=this;return(0,o.A)((function*(){var o;const i=null===(o=n.processorsByName)||void 0===o?void 0:o[t.currentProcessorName];if(!i)return;const _=i[e],a=`${n.preferencekey}_${_.name}`;let r=n.processors.filter((n=>n[e].checked)).map((n=>n.name)).join(",");""==r&&(r="none"),_.updating=!0;try{yield c.CoreUser.updateUserPreference(a,r),t.updatePreferencesAfterDelay()}catch(n){A.CoreAlerts.showError(n),i[e].checked=!i[e].checked}finally{_.updating=!1}}))()}changePreference(n){var e=this;return(0,o.A)((function*(){var t;const o=null===(t=n.processorsByName)||void 0===t?void 0:t[e.currentProcessorName];if(!o)return;const i=`${n.preferencekey}_enabled`;let _=n.processors.filter((n=>n.enabled)).map((n=>n.name)).join(",");""==_&&(_="none"),o.updating=!0;try{yield c.CoreUser.updateUserPreference(i,_),e.updatePreferencesAfterDelay()}catch(n){A.CoreAlerts.showError(n),o.enabled=!o.enabled}finally{o.updating=!1}}))()}enableAll(n){var e=this;return(0,o.A)((function*(){if(!e.preferences)return;const t=yield S.CoreLoadings.show("core.sending",!0);try{c.CoreUser.updateUserPreferences([],!n),e.updatePreferencesAfterDelay()}catch(n){A.CoreAlerts.showError(n),e.preferences.enableall=!e.preferences.enableall}finally{t.dismiss()}}))()}changeNotificationSound(n){return(0,o.A)((function*(){yield s.g.ignoreErrors(_.CoreConfig.set(l.CoreConstants.SETTINGS_NOTIFICATION_SOUND,n?1:0));const e=r.CoreSites.getCurrentSiteId();p.z.trigger(p.z.NOTIFICATION_SOUND_CHANGED,{enabled:n},e),a.CoreLocalNotifications.rescheduleAll()}))()}ngOnDestroy(){this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updatePreferences())}}return(n=AddonNotificationsSettingsPage).ɵfac=function AddonNotificationsSettingsPage_Factory(e){return new(e||n)},n.ɵcmp=i.VBU({type:n,selectors:[["page-addon-notifications-settings"]],standalone:!0,features:[i.aNF],decls:24,vars:13,consts:[["legacySettings",""],["settings",""],["slot","start"],[3,"text"],["slot","end"],[3,"priority","content","iconAction","action",4,"ngFor","ngForOf"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],["placeholderType","column","placeholderHeight","48px",3,"hideUntil"],[1,"core-warning-card","ion-margin-top"],[3,"action","priority","content","iconAction"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],["class","ion-text-wrap",4,"ngIf"],["class","ion-text-wrap addon-notification-type-form",4,"ngIf"],[4,"ngIf"],[1,"ion-text-wrap"],[3,"ngModelChange","ngModel"],[1,"item-heading"],[1,"ion-text-wrap","addon-notification-type-form"],["interface","popover",3,"ngModelChange","ionChange","ngModel"],["slot","label",1,"item-heading"],["class","ion-text-wrap",3,"value",4,"ngFor","ngForOf"],[1,"ion-text-wrap",3,"value"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ion-margin-top",4,"ngFor","ngForOf"],[1,"ion-margin-top"],[1,"ion-no-padding"],[1,"ion-text-wrap","divider"],["size","2",1,"ion-text-center","ion-no-padding","ion-hide-md-down"],[4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap","ion-hide-md-down","addon-notifications-table-content","only-links"],[1,"ion-no-padding","ion-align-items-center"],[1,"ion-margin-horizontal","ion-no-padding"],["size","2","class","ion-text-center ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-text-wrap","ion-no-margin","ion-hide-md-up"],["class","ion-text-wrap ion-hide-md-up","lines","none",4,"ngFor","ngForOf"],["size","2",1,"ion-text-center","ion-no-padding"],["class","text-gray",4,"ngIf"],[3,"loading",4,"ngIf"],[3,"loading"],[1,"text-gray"],["lines","none",1,"ion-text-wrap","ion-hide-md-up"],[1,"ion-margin-horizontal"],["slot","end",4,"ngIf"],["class","text-gray","slot","end",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["slot","end",1,"text-gray"],["lines","none",1,"ion-text-wrap"]],template:function AddonNotificationsSettingsPage_Template(n,e){if(1&n){const n=i.RV6();i.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),i.nrm(3,"ion-back-button",3),i.nI1(4,"translate"),i.k0s(),i.j41(5,"ion-title")(6,"h1"),i.EFF(7),i.nI1(8,"translate"),i.k0s()(),i.nrm(9,"ion-buttons",4),i.k0s()(),i.j41(10,"core-navbar-buttons",4)(11,"core-context-menu"),i.DNE(12,AddonNotificationsSettingsPage_core_context_menu_item_12_Template,2,5,"core-context-menu-item",5),i.k0s()(),i.j41(13,"ion-content")(14,"ion-refresher",6),i.bIt("ionRefresh",(function AddonNotificationsSettingsPage_Template_ion_refresher_ionRefresh_14_listener(t){return i.eBV(n),i.Njj(e.refreshPreferences(t.target))})),i.nrm(15,"ion-refresher-content",7),i.nI1(16,"translate"),i.k0s(),i.j41(17,"core-loading",8),i.DNE(18,AddonNotificationsSettingsPage_Conditional_18_Template,5,1,"ion-card",9)(19,AddonNotificationsSettingsPage_Conditional_19_Template,7,5),i.k0s()(),i.DNE(20,AddonNotificationsSettingsPage_ng_template_20_Template,1,1,"ng-template",null,0,i.C5r)(22,AddonNotificationsSettingsPage_ng_template_22_Template,1,1,"ng-template",null,1,i.C5r)}2&n&&(i.R7$(3),i.Y8G("text",i.bMT(4,7,"core.back")),i.R7$(4),i.JRh(i.bMT(8,9,"addon.notifications.notifications")),i.R7$(5),i.Y8G("ngForOf",e.processorHandlers),i.R7$(2),i.Y8G("disabled",!e.preferencesLoaded),i.R7$(),i.FS9("pullingText",i.bMT(16,11,"core.pulltorefresh")),i.R7$(2),i.Y8G("hideUntil",e.preferencesLoaded),i.R7$(),i.vxM(18,e.warningMessage()?18:19))},dependencies:[b.n,G.Sq,G.bT,G.T3,C.BC,C.vS,$.QW,$.b_,$.ME,$.hU,$.W9,$.eU,$.iq,$.uz,$.Dg,$.he,$.To,$.Ki,$.ln,$.Nm,$.Ip,$.BC,$.BY,$.ai,$.hB,$.Je,$.el,R.q,y.B,I.Q,k.R,F.c,j.t,M.i,v.D9],styles:[".addon-notifications-table-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{min-height:35px}ion-item-divider[_ngcontent-%COMP%], ion-card-header[_ngcontent-%COMP%]{border-top:1px solid var(--stroke)}"]}),AddonNotificationsSettingsPage})()}}]);