"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[15025],{43074:(o,e,t)=>{t.d(e,{F:()=>C});var n=t(10467),i=t(52749),a=t(49882),s=t(2661),r=t(91416),l=t(55554),g=t(74431),d=t(2469),c=t(10892),m=t(58197),p=t(54438),_=t(73955);const _c0=o=>({$a:o});function CoreSiteLogoComponent_Conditional_0_Conditional_1_Template(o,e){if(1&o){const o=p.RV6();p.j41(0,"img",3),p.nI1(1,"translate"),p.bIt("onLoad",(function CoreSiteLogoComponent_Conditional_0_Conditional_1_Template_img_onLoad_0_listener(e){p.eBV(o);const t=p.XpG(2);return p.Njj(t.imageLoaded(e))})),p.k0s()}if(2&o){const o=p.XpG(2);p.Y8G("url",o.siteLogo)("alt",p.i5U(1,4,"core.login.logoof",p.eq3(7,_c0,o.siteName)))("siteId",o.siteId)("hidden",o.logoError)}}function CoreSiteLogoComponent_Conditional_0_Conditional_2_Template(o,e){if(1&o&&(p.nrm(0,"img",2),p.nI1(1,"translate")),2&o){const o=p.XpG(2);p.Y8G("src",o.fallbackLogo,p.B4B)("alt",p.i5U(1,2,"core.login.logoof",p.eq3(5,_c0,o.appName)))}}function CoreSiteLogoComponent_Conditional_0_Template(o,e){if(1&o&&(p.j41(0,"div",0),p.DNE(1,CoreSiteLogoComponent_Conditional_0_Conditional_1_Template,2,9,"img",1)(2,CoreSiteLogoComponent_Conditional_0_Conditional_2_Template,2,7,"img",2),p.k0s()),2&o){const o=p.XpG();p.R7$(),p.vxM(1,o.siteLogo?1:-1),p.R7$(),p.vxM(2,!o.siteLogo||o.logoError?2:-1)}}function CoreSiteLogoComponent_Conditional_1_Case_0_Template(o,e){if(1&o&&(p.j41(0,"p",4),p.nrm(1,"core-format-text",5),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Y8G("text",o.siteName)("contextInstanceId",0)("siteId",o.siteId)}}function CoreSiteLogoComponent_Conditional_1_Case_1_Template(o,e){}function CoreSiteLogoComponent_Conditional_1_Case_2_Template(o,e){if(1&o&&(p.j41(0,"h2",6),p.nrm(1,"core-format-text",5),p.k0s()),2&o){const o=p.XpG(2);p.R7$(),p.Y8G("text",o.siteName)("contextInstanceId",0)("siteId",o.siteId)}}function CoreSiteLogoComponent_Conditional_1_Template(o,e){if(1&o&&p.DNE(0,CoreSiteLogoComponent_Conditional_1_Case_0_Template,2,3)(1,CoreSiteLogoComponent_Conditional_1_Case_1_Template,0,0)(2,CoreSiteLogoComponent_Conditional_1_Case_2_Template,2,3),2&o){let o;const e=p.XpG();p.vxM(0,"p"===(o=e.siteNameMode)?0:""===o?1:"h2"===o?2:-1)}}let C=(()=>{var o;class CoreSiteLogoComponent{constructor(){this.hideOnError=!1,this.siteNameMode="",this.showLogo=!0,this.logoType="login",this.logoLoaded=!1,this.logoError=!1,this.fallbackLogo="",this.showSiteName=!1,this.appName=g.CoreConstants.CONFIG.appname}ngOnInit(){var o=this;return(0,n.A)((function*(){o.loadSite(),o.updateSiteObserver=a.z.on(a.z.SITE_UPDATED,(0,n.A)((function*(){yield o.loadInfo()})),o.siteId),o.fallbackLogo="top"===o.logoType?"assets/img/top_logo.png":"assets/img/login_logo.png",o.showSiteName="top"!==o.logoType,yield o.loadInfo()}))()}imageLoaded(o){!o&&this.hideOnError&&(this.showLogo=!1),this.logoError=!o}loadSite(){var o;return this.site=null!==(o=this.site)&&void 0!==o?o:i.CoreSites.getRequiredCurrentSite(),!this.siteId&&this.site instanceof s.D&&(this.siteId=this.site.getId()),this.site}loadInfo(){var o=this;return(0,n.A)((function*(){const e=o.loadSite();if(o.siteName=(yield e.getSiteName())||"",o.showSiteName="top"!==o.logoType||"hidden"===e.getShowTopLogo(),o.logoError=!1,"top"===o.logoType&&"hidden"===e.getShowTopLogo())o.showLogo=!1;else{const t=yield l.g.ignoreErrors(e.getPublicConfig());o.siteLogo="top"===o.logoType?e.getTopLogoUrl(t):e.getLogoUrl(t)}o.logoLoaded=!0}))()}ngOnDestroy(){var o;null===(o=this.updateSiteObserver)||void 0===o||o.off()}}return(o=CoreSiteLogoComponent).ɵfac=function CoreSiteLogoComponent_Factory(e){return new(e||o)},o.ɵcmp=p.VBU({type:o,selectors:[["core-site-logo"]],inputs:{hideOnError:[p.Mj6.HasDecoratorInputTransform,"hideOnError","hideOnError",r.G],siteNameMode:"siteNameMode",showLogo:[p.Mj6.HasDecoratorInputTransform,"showLogo","showLogo",r.G],site:"site",logoType:"logoType"},standalone:!0,features:[p.GFd,p.aNF],decls:2,vars:2,consts:[[1,"core-logo-container"],["core-external-content","",1,"core-logo",3,"url","alt","siteId","hidden"],[1,"core-logo","core-logo-fallback",3,"src","alt"],["core-external-content","",1,"core-logo",3,"onLoad","url","alt","siteId","hidden"],[1,"ion-no-margin","ion-no-padding","core-logo-sitename"],["contextLevel","system",3,"text","contextInstanceId","siteId"],[1,"ion-margin-top","ion-no-padding","core-logo-sitename"]],template:function CoreSiteLogoComponent_Template(o,e){1&o&&p.DNE(0,CoreSiteLogoComponent_Conditional_0_Template,3,2,"div",0)(1,CoreSiteLogoComponent_Conditional_1_Template,3,1),2&o&&(p.vxM(0,e.showLogo&&e.logoLoaded?0:-1),p.R7$(),p.vxM(1,e.showSiteName&&e.siteName?1:-1))},dependencies:[d.V,_.D9,c.l,m.B],styles:["[_nghost-%COMP%]{display:block}.core-logo-container[_ngcontent-%COMP%]{max-width:var(--core-site-logo-max-width, 100%);width:var(--core-site-logo-width, auto);margin:var(--core-site-logo-margin, 0px)}img.core-logo[_ngcontent-%COMP%]{max-height:var(--core-site-logo-max-height)}.core-logo-sitename[_ngcontent-%COMP%]{display:var(--core-site-logo-sitename-display, block);font:var(--core-site-logo-sitename-font);margin-bottom:var(--core-site-logo-sitename-margin-bottom, 0px)}"]}),CoreSiteLogoComponent})()},15025:(o,e,t)=>{t.r(e),t.d(e,{default:()=>f});var n=t(10467),i=t(52749),a=t(47142),s=t(17847),r=t(24502),l=t(86654),g=t(43074),d=t(20871),c=t(36684),m=t(54438),p=t(60177),_=t(2910),C=t(16986),u=t(64422),h=t(73955);function CoreMainMenuHomePage_core_empty_box_11_Template(o,e){1&o&&(m.nrm(0,"core-empty-box",7),m.nI1(1,"translate")),2&o&&m.Y8G("message",m.bMT(1,1,"core.courses.nocourses"))}function CoreMainMenuHomePage_core_tabs_outlet_12_Template(o,e){if(1&o){const o=m.RV6();m.j41(0,"core-tabs-outlet",8),m.bIt("ionChange",(function CoreMainMenuHomePage_core_tabs_outlet_12_Template_core_tabs_outlet_ionChange_0_listener(){m.eBV(o);const e=m.XpG();return m.Njj(e.tabSelected())})),m.k0s()}if(2&o){const o=m.XpG();m.Y8G("hideUntil",o.loaded)("tabs",o.tabs)}}let f=(()=>{var o;class CoreMainMenuHomePage{constructor(){this.siteName="",this.tabs=[],this.loaded=!1}ngOnInit(){var o=this;return(0,n.A)((function*(){o.subscription=s.CoreMainMenuHomeDelegate.getHandlersObservable().subscribe((e=>{e&&o.initHandlers(e)}))}))()}initHandlers(o){const e=s.CoreMainMenuHomeDelegate.areHandlersLoaded(),t=r.R.toObject(o,"title"),n=o.map((o=>{var e;const t=this.tabs.find((e=>e.title==o.title));return t||{page:`/main/${c.MAIN_MENU_HOME_PAGE_NAME}/${o.page}`,pageParams:o.pageParams,title:o.title,class:o.class,icon:o.icon,badge:o.badge,enabled:null===(e=o.enabled)||void 0===e||e}}));n.sort(((o,e)=>(t[e.title].priority||0)-(t[o.title].priority||0))),this.tabs=n,setTimeout((()=>{this.loaded=e}),50)}tabSelected(){i.CoreSites.loginNavigationFinished()}ionViewDidEnter(){var o;null===(o=this.tabsComponent)||void 0===o||o.ionViewDidEnter()}ionViewDidLeave(){var o;null===(o=this.tabsComponent)||void 0===o||o.ionViewDidLeave()}}return(o=CoreMainMenuHomePage).ɵfac=function CoreMainMenuHomePage_Factory(e){return new(e||o)},o.ɵcmp=m.VBU({type:o,selectors:[["page-core-mainmenu-home"]],viewQuery:function CoreMainMenuHomePage_Query(o,e){if(1&o&&m.GBs(a.k,5),2&o){let o;m.mGM(o=m.lsd())&&(e.tabsComponent=o.first)}},standalone:!0,features:[m.aNF],decls:13,vars:6,consts:[["slot","start"],[3,"text"],["logoType","top"],["slot","end"],[3,"hideUntil"],["icon","fas-house",3,"message",4,"ngIf"],[3,"hideUntil","tabs","ionChange",4,"ngIf"],["icon","fas-house",3,"message"],[3,"ionChange","hideUntil","tabs"]],template:function CoreMainMenuHomePage_Template(o,e){1&o&&(m.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),m.nrm(3,"ion-back-button",1),m.nI1(4,"translate"),m.k0s(),m.j41(5,"ion-title")(6,"h1"),m.nrm(7,"core-site-logo",2),m.k0s()(),m.j41(8,"ion-buttons",3),m.nrm(9,"core-user-menu-button"),m.k0s()()(),m.j41(10,"core-loading",4),m.DNE(11,CoreMainMenuHomePage_core_empty_box_11_Template,2,3,"core-empty-box",5),m.k0s(),m.DNE(12,CoreMainMenuHomePage_core_tabs_outlet_12_Template,1,2,"core-tabs-outlet",6)),2&o&&(m.R7$(3),m.Y8G("text",m.bMT(4,4,"core.back")),m.R7$(7),m.Y8G("hideUntil",e.loaded),m.R7$(),m.Y8G("ngIf",0===e.tabs.length),m.R7$(),m.Y8G("ngIf",e.tabs.length>0))},dependencies:[l.n,p.bT,_.QW,_.eU,_.BC,_.ai,_.el,C.h,u.R,a.k,h.D9,g.F,d.U],encapsulation:2}),CoreMainMenuHomePage})()}}]);