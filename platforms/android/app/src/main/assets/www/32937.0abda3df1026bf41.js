"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[32937],{32937:(e,n,t)=>{t.r(n),t.d(n,{CoreReadingModeSettingsModalComponent:()=>p});var o=t(10467),i=t(86654),a=t(66860),r=t(69534),l=t(79555),s=t(76125),d=t(54438),g=t(89417),c=t(2910),m=t(86198),_=t(43570),M=t(73955);function CoreReadingModeSettingsModalComponent_Conditional_14_Template(e,n){1&e&&(d.EFF(0),d.nI1(1,"translate")),2&e&&d.SpI(" ",d.bMT(1,1,"core.viewer.default")," ")}function CoreReadingModeSettingsModalComponent_For_29_Template(e,n){if(1&e&&(d.j41(0,"ion-item",14)(1,"ion-radio",20)(2,"div"),d.EFF(3,"Aa"),d.k0s(),d.EFF(4),d.nI1(5,"translate"),d.k0s()()),2&e){const e=n.$implicit;d.Y8G("lines",n.$index===n.$count-1?"full":"none"),d.R7$(),d.Y8G("value",e),d.R7$(),d.ZvI("preview ",e,""),d.R7$(2),d.SpI(" ",d.bMT(5,6,"core.viewer.readingtheme"+e)," ")}}let p=(()=>{var e;class CoreReadingModeSettingsModalComponent{constructor(){this.MAX_TEXT_SIZE_ZOOM=200,this.MIN_TEXT_SIZE_ZOOM=75,this.TEXT_SIZE_ZOOM_STEP=25,this.settings=a.X9,this.defaultZoom=!0,this.themes=Object.values(a.zv)}ngOnInit(){var e=this;return(0,o.A)((function*(){e.settings=yield r.m.getReadingModeSettings()}))()}closeModal(){l.W3.dismiss()}exit(){l.W3.dismiss(!0)}changeTextSizeZoom(e){this.settings.zoom=s.o.clamp(e,this.MIN_TEXT_SIZE_ZOOM,this.MAX_TEXT_SIZE_ZOOM),this.defaultZoom=100===this.settings.zoom,this.onSettingChange()}onSettingChange(){r.m.setReadingModeSettings(this.settings)}}return(e=CoreReadingModeSettingsModalComponent).ɵfac=function CoreReadingModeSettingsModalComponent_Factory(n){return new(n||e)},e.ɵcmp=d.VBU({type:e,selectors:[["core-reading-mode-settings-modal"]],standalone:!0,features:[d.aNF],decls:39,vars:29,consts:[["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],[1,"content-auto-height"],["lines","none"],[1,"flex-row"],["id","readingmode-range-label"],["lines","full"],["aria-labelledby","readingmode-range-label",3,"ionInput","min","max","step","value"],["slot","start","fill","clear",3,"click","ariaLabel"],["name","fas-font","slot","icon-only","aria-hidden","true",1,"zoom-decrease"],["slot","end","fill","clear",3,"click","ariaLabel"],["name","fas-font","slot","icon-only","aria-hidden","true",1,"zoom-increase"],[3,"ngModelChange","ionChange","ngModel"],[1,"ion-text-wrap",3,"lines"],["lines","full",1,"ion-text-wrap",3,"ionChange"],[3,"ngModelChange","ngModel"],[1,"item-heading"],["fill","outline","expand","block",1,"ion-margin","ion-text-wrap",3,"click"],["name","fas-book-open-reader","slot","start","aria-hidden","true",1,"icon-slash"],[1,"reading-theme",3,"value"]],template:function CoreReadingModeSettingsModalComponent_Template(e,n){1&e&&(d.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),d.nI1(4,"translate"),d.bIt("click",(function CoreReadingModeSettingsModalComponent_Template_ion_button_click_3_listener(){return n.closeModal()})),d.nrm(5,"ion-icon",2),d.k0s()()()(),d.j41(6,"div",3)(7,"ion-item",4)(8,"ion-label",5)(9,"div",6),d.EFF(10),d.nI1(11,"translate"),d.k0s()(),d.j41(12,"div",0),d.EFF(13),d.DNE(14,CoreReadingModeSettingsModalComponent_Conditional_14_Template,2,3),d.k0s()(),d.j41(15,"ion-item",7)(16,"ion-range",8),d.bIt("ionInput",(function CoreReadingModeSettingsModalComponent_Template_ion_range_ionInput_16_listener(e){return n.changeTextSizeZoom(e.detail.value)})),d.j41(17,"ion-button",9),d.nI1(18,"translate"),d.bIt("click",(function CoreReadingModeSettingsModalComponent_Template_ion_button_click_17_listener(){return n.changeTextSizeZoom(n.settings.zoom-n.TEXT_SIZE_ZOOM_STEP)})),d.nrm(19,"ion-icon",10),d.k0s(),d.j41(20,"ion-button",11),d.nI1(21,"translate"),d.bIt("click",(function CoreReadingModeSettingsModalComponent_Template_ion_button_click_20_listener(){return n.changeTextSizeZoom(n.settings.zoom+n.TEXT_SIZE_ZOOM_STEP)})),d.nrm(22,"ion-icon",12),d.k0s()()(),d.j41(23,"ion-item")(24,"ion-label"),d.EFF(25),d.nI1(26,"translate"),d.k0s()(),d.j41(27,"ion-radio-group",13),d.mxI("ngModelChange",(function CoreReadingModeSettingsModalComponent_Template_ion_radio_group_ngModelChange_27_listener(e){return d.DH7(n.settings.theme,e)||(n.settings.theme=e),e})),d.bIt("ionChange",(function CoreReadingModeSettingsModalComponent_Template_ion_radio_group_ionChange_27_listener(){return n.onSettingChange()})),d.Z7z(28,CoreReadingModeSettingsModalComponent_For_29_Template,6,8,"ion-item",14,d.Vm6),d.k0s(),d.j41(30,"ion-item",15),d.bIt("ionChange",(function CoreReadingModeSettingsModalComponent_Template_ion_item_ionChange_30_listener(){return n.onSettingChange()})),d.j41(31,"ion-toggle",16),d.mxI("ngModelChange",(function CoreReadingModeSettingsModalComponent_Template_ion_toggle_ngModelChange_31_listener(e){return d.DH7(n.settings.showMultimedia,e)||(n.settings.showMultimedia=e),e})),d.j41(32,"p",17),d.EFF(33),d.nI1(34,"translate"),d.k0s()()(),d.j41(35,"ion-button",18),d.bIt("click",(function CoreReadingModeSettingsModalComponent_Template_ion_button_click_35_listener(){return n.exit()})),d.nrm(36,"ion-icon",19),d.EFF(37),d.nI1(38,"translate"),d.k0s()()),2&e&&(d.R7$(3),d.Y8G("ariaLabel",d.bMT(4,15,"core.close")),d.R7$(7),d.JRh(d.bMT(11,17,"core.settings.fontsize")),d.R7$(3),d.SpI("",n.settings.zoom,"% "),d.R7$(),d.vxM(14,n.defaultZoom?14:-1),d.R7$(2),d.Y8G("min",n.MIN_TEXT_SIZE_ZOOM)("max",n.MAX_TEXT_SIZE_ZOOM)("step",n.TEXT_SIZE_ZOOM_STEP)("value",n.settings.zoom),d.R7$(),d.Y8G("ariaLabel",d.bMT(18,19,"core.viewer.decreasetextsize")),d.R7$(3),d.Y8G("ariaLabel",d.bMT(21,21,"core.viewer.increasetextsize")),d.R7$(5),d.SpI(" ",d.bMT(26,23,"core.viewer.theme")," "),d.R7$(2),d.R50("ngModel",n.settings.theme),d.R7$(),d.Dyx(n.themes),d.R7$(3),d.R50("ngModel",n.settings.showMultimedia),d.R7$(2),d.JRh(d.bMT(34,25,"core.viewer.showmedia")),d.R7$(4),d.SpI(" ",d.bMT(38,27,"core.viewer.exitreadingmode")," "))},dependencies:[i.n,g.BC,g.vS,c.Jm,c.QW,c.eU,c.iq,c.uz,c.he,c.KO,c.f0,c.Ob,c.BY,c.ai,c.hB,c.su,c.Je,m.t,_.T,M.D9],styles:["ion-button[_ngcontent-%COMP%]   ion-icon.zoom-decrease[_ngcontent-%COMP%]{font-size:1.5em}ion-button[_ngcontent-%COMP%]   ion-icon.zoom-increase[_ngcontent-%COMP%]{font-size:2em}ion-radio.reading-theme[_ngcontent-%COMP%]::part(label){margin:0;display:inline-flex;align-items:center}ion-radio.reading-theme[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:100%;margin-inline-start:2px;margin-inline-end:16px;margin-top:4px;margin-bottom:4px;text-align:center;line-height:40px;font-size:1rem;font-weight:700;border:1px solid var(--stroke)}ion-radio.reading-theme[_ngcontent-%COMP%]   .preview.auto[_ngcontent-%COMP%]{background:linear-gradient(to right,#282828 50%,#fff 50%);color:#282828}ion-radio.reading-theme[_ngcontent-%COMP%]   .preview.auto[_ngcontent-%COMP%]:first-letter{color:#fff}ion-radio.reading-theme[_ngcontent-%COMP%]   .preview.light[_ngcontent-%COMP%]{background-color:#fff;color:#282828}ion-radio.reading-theme[_ngcontent-%COMP%]   .preview.dark[_ngcontent-%COMP%]{background-color:#282828;color:#fff}ion-radio.reading-theme[_ngcontent-%COMP%]   .preview.sepia[_ngcontent-%COMP%]{background-color:var(--core-reading-mode-sepia-background);color:var(--core-reading-mode-sepia-text-color)}ion-radio.reading-theme[_ngcontent-%COMP%]   .preview.hcm[_ngcontent-%COMP%]{background-color:#000;color:#fff}"]}),CoreReadingModeSettingsModalComponent})()}}]);