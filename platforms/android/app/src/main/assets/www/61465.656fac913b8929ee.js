"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[61465],{61465:(e,n,i)=>{i.r(n),i.d(n,{default:()=>T});var t=i(10467),o=i(52749),a=i(68831),r=i(95376),s=i(42366),l=i(49882),c=i(15324),_=i(79555),m=i(82907),u=i(69534),d=i(86654),M=i(20871),g=i(10883),p=i(54438),b=i(60177),f=i(2910),h=i(86198),C=i(23007),I=i(88246),R=i(73955);const _c0=e=>["core-moremenu-handler",e],_c1=e=>({$a:e});function CoreMainMenuMorePage_ion_item_13_Template(e,n){1&e&&(p.j41(0,"ion-item",10)(1,"ion-label"),p.nrm(2,"ion-spinner"),p.nI1(3,"translate"),p.k0s()()),2&e&&(p.R7$(2),p.BMQ("aria-label",p.bMT(3,1,"core.loading")))}function CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template(e,n){if(1&e&&(p.j41(0,"ion-badge",16),p.EFF(1),p.k0s()),2&e){const e=p.XpG().$implicit;p.Y8G("hidden",e.loading||!e.badge),p.R7$(),p.SpI(" ",e.badge," ")}}function CoreMainMenuMorePage_ion_item_14_span_8_Template(e,n){if(1&e&&(p.j41(0,"span",17),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&e){const e=p.XpG().$implicit;p.R7$(),p.SpI(" ",p.i5U(2,1,e.badgeA11yText,p.eq3(4,_c1,e.badge))," ")}}function CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template(e,n){1&e&&(p.nrm(0,"ion-spinner",2),p.nI1(1,"translate")),2&e&&p.BMQ("aria-label",p.bMT(1,1,"core.loading"))}function CoreMainMenuMorePage_ion_item_14_Template(e,n){if(1&e){const e=p.RV6();p.j41(0,"ion-item",11),p.nI1(1,"translate"),p.bIt("click",(function CoreMainMenuMorePage_ion_item_14_Template_ion_item_click_0_listener(){const n=p.eBV(e).$implicit,i=p.XpG();return p.Njj(i.openHandler(n))})),p.nrm(2,"ion-icon",12),p.j41(3,"ion-label")(4,"p",9),p.EFF(5),p.nI1(6,"translate"),p.k0s()(),p.DNE(7,CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template,2,2,"ion-badge",13)(8,CoreMainMenuMorePage_ion_item_14_span_8_Template,3,6,"span",14)(9,CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template,2,3,"ion-spinner",15),p.k0s()}if(2&e){const e=n.$implicit;p.Y8G("ngClass",p.eq3(12,_c0,e.class||""))("detail",!0),p.BMQ("aria-label",p.bMT(1,8,e.title)),p.R7$(2),p.Y8G("name",e.icon),p.R7$(3),p.JRh(p.bMT(6,10,e.title)),p.R7$(2),p.Y8G("ngIf",e.showBadge),p.R7$(),p.Y8G("ngIf",e.showBadge&&e.badge&&e.badgeA11yText),p.R7$(),p.Y8G("ngIf",e.showBadge&&e.loading)}}function CoreMainMenuMorePage_ng_container_15_ion_item_1_Template(e,n){if(1&e&&(p.j41(0,"ion-item",20),p.nrm(1,"ion-icon",12),p.j41(2,"ion-label")(3,"p",9),p.EFF(4),p.k0s()()()),2&e){const e=p.XpG().$implicit;p.Y8G("href",e.url)("capture","app"===e.type)("inApp","inappbrowser"===e.type)("detail",!0)("detailIcon","browser"===e.type?"open-outline":"chevron-forward"),p.BMQ("aria-label",e.label),p.R7$(),p.Y8G("name",e.icon),p.R7$(3),p.JRh(e.label)}}function CoreMainMenuMorePage_ng_container_15_ion_item_2_Template(e,n){if(1&e){const e=p.RV6();p.j41(0,"ion-item",21),p.bIt("click",(function CoreMainMenuMorePage_ng_container_15_ion_item_2_Template_ion_item_click_0_listener(){p.eBV(e);const n=p.XpG().$implicit,i=p.XpG();return p.Njj(i.openItem(n))})),p.nrm(1,"ion-icon",12),p.j41(2,"ion-label")(3,"p",9),p.EFF(4),p.k0s()()()}if(2&e){const e=p.XpG().$implicit;p.Y8G("detail",!0),p.BMQ("aria-label",e.label),p.R7$(),p.Y8G("name",e.icon),p.R7$(3),p.JRh(e.label)}}function CoreMainMenuMorePage_ng_container_15_Template(e,n){if(1&e&&(p.qex(0),p.DNE(1,CoreMainMenuMorePage_ng_container_15_ion_item_1_Template,5,8,"ion-item",18)(2,CoreMainMenuMorePage_ng_container_15_ion_item_2_Template,5,4,"ion-item",19),p.bVm()),2&e){const e=n.$implicit;p.R7$(),p.Y8G("ngIf","embedded"!==e.type),p.R7$(),p.Y8G("ngIf","embedded"===e.type)}}function CoreMainMenuMorePage_ion_item_16_Template(e,n){if(1&e){const e=p.RV6();p.j41(0,"ion-item",7),p.bIt("click",(function CoreMainMenuMorePage_ion_item_16_Template_ion_item_click_0_listener(){p.eBV(e);const n=p.XpG();return p.Njj(n.scanQR())})),p.nrm(1,"ion-icon",22),p.j41(2,"ion-label")(3,"p",9),p.EFF(4),p.nI1(5,"translate"),p.k0s()()()}2&e&&(p.Y8G("detail",!0),p.R7$(4),p.JRh(p.bMT(5,2,"core.scanqr")))}let T=(()=>{var e;class CoreMainMenuMorePage{constructor(){var e,n=this;this.handlersLoaded=!1,this.langObserver=l.z.on(l.z.LANGUAGE_CHANGED,(()=>this.loadCustomMenuItems())),this.updateSiteObserver=l.z.on(l.z.SITE_UPDATED,(0,t.A)((function*(){n.customItems=yield s.CoreMainMenu.getCustomMenuItems()})),o.CoreSites.getCurrentSiteId()),this.loadCustomMenuItems(),this.showScanQR=a.CoreQRScan.canScanQR()&&!(null!==(e=o.CoreSites.getCurrentSite())&&void 0!==e&&e.isFeatureDisabled("CoreMainMenuDelegate_QrReader"))}ngOnInit(){this.subscription=r.CoreMainMenuDelegate.getHandlersObservable().subscribe((e=>{this.allHandlers=e,this.initHandlers()})),this.resizeListener=m.y.onWindowResize((()=>{this.initHandlers()})),o.CoreSites.loginNavigationFinished()}ngOnDestroy(){var e,n,i,t;null===(e=this.langObserver)||void 0===e||e.off(),null===(n=this.updateSiteObserver)||void 0===n||n.off(),null===(i=this.subscription)||void 0===i||i.unsubscribe(),null===(t=this.resizeListener)||void 0===t||t.off()}initHandlers(){if(!this.allHandlers)return;const e=this.allHandlers.filter((e=>!e.onlyInMore)).slice(0,s.CoreMainMenu.getNumItems());this.handlers=this.allHandlers.filter((n=>-1==e.indexOf(n))),this.handlersLoaded=r.CoreMainMenuDelegate.areHandlersLoaded()}loadCustomMenuItems(){var e=this;return(0,t.A)((function*(){e.customItems=yield s.CoreMainMenu.getCustomMenuItems()}))()}openHandler(e){c.CoreNavigator.navigateToSitePath(e.page,{params:e.pageParams})}openItem(e){u.m.openIframeViewer(e.label,e.url)}openSettings(){c.CoreNavigator.navigateToSitePath("settings")}scanQR(){return(0,t.A)((function*(){const e=yield a.CoreQRScan.scanQRWithUrlHandling();e&&(/^[^:]{2,}:\/\/[^ ]+$/i.test(e)?yield g.CoreContentLinksHelper.visitLink(e,{checkRoot:!0,openBrowserRoot:!0}):u.m.viewText(_.HT.instant("core.qrscanner"),e,{displayCopyButton:!0}))}))()}}return(e=CoreMainMenuMorePage).ɵfac=function CoreMainMenuMorePage_Factory(n){return new(n||e)},e.ɵcmp=p.VBU({type:e,selectors:[["page-core-mainmenu-more"]],standalone:!0,features:[p.aNF],decls:25,vars:17,consts:[["slot","start"],[3,"text"],["slot","end"],["class","ion-text-center",4,"ngIf"],["button","",3,"ngClass","detail","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["button","",3,"detail","click",4,"ngIf"],["button","",3,"click","detail"],["name","fas-gears","slot","start","aria-hidden","true"],[1,"item-heading"],[1,"ion-text-center"],["button","",3,"click","ngClass","detail"],["slot","start","aria-hidden","true",3,"name"],["slot","end","aria-hidden","true",3,"hidden",4,"ngIf"],["class","sr-only",4,"ngIf"],["slot","end",4,"ngIf"],["slot","end","aria-hidden","true",3,"hidden"],[1,"sr-only"],["button","","core-link","","class","core-moremenu-customitem",3,"href","capture","inApp","detail","detailIcon",4,"ngIf"],["button","","class","core-moremenu-customitem",3,"detail","click",4,"ngIf"],["button","","core-link","",1,"core-moremenu-customitem",3,"href","capture","inApp","detail","detailIcon"],["button","",1,"core-moremenu-customitem",3,"click","detail"],["name","fas-qrcode","slot","start","aria-hidden","true"]],template:function CoreMainMenuMorePage_Template(e,n){1&e&&(p.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),p.nrm(3,"ion-back-button",1),p.nI1(4,"translate"),p.k0s(),p.j41(5,"ion-title")(6,"h1"),p.EFF(7),p.nI1(8,"translate"),p.k0s()(),p.j41(9,"ion-buttons",2),p.nrm(10,"core-user-menu-button"),p.k0s()()(),p.j41(11,"ion-content")(12,"ion-list"),p.DNE(13,CoreMainMenuMorePage_ion_item_13_Template,4,3,"ion-item",3)(14,CoreMainMenuMorePage_ion_item_14_Template,10,14,"ion-item",4)(15,CoreMainMenuMorePage_ng_container_15_Template,3,2,"ng-container",5)(16,CoreMainMenuMorePage_ion_item_16_Template,6,4,"ion-item",6),p.k0s()(),p.j41(17,"ion-footer")(18,"ion-item",7),p.nI1(19,"translate"),p.bIt("click",(function CoreMainMenuMorePage_Template_ion_item_click_18_listener(){return n.openSettings()})),p.nrm(20,"ion-icon",8),p.j41(21,"ion-label")(22,"p",9),p.EFF(23),p.nI1(24,"translate"),p.k0s()()()()),2&e&&(p.R7$(3),p.Y8G("text",p.bMT(4,9,"core.back")),p.R7$(4),p.JRh(p.bMT(8,11,"core.more")),p.R7$(6),p.Y8G("ngIf",!(n.handlers&&n.handlers.length||n.handlersLoaded)),p.R7$(),p.Y8G("ngForOf",n.handlers),p.R7$(),p.Y8G("ngForOf",n.customItems),p.R7$(),p.Y8G("ngIf",n.showScanQR),p.R7$(2),p.Y8G("detail",!0),p.BMQ("aria-label",p.bMT(19,13,"core.settings.appsettings")),p.R7$(5),p.JRh(p.bMT(24,15,"core.settings.appsettings")))},dependencies:[d.n,b.YU,b.Sq,b.bT,f.In,f.QW,f.W9,f.M0,f.eU,f.iq,f.uz,f.he,f.nf,f.w2,f.BC,f.ai,f.el,h.t,C.j,I.i,R.D9,M.U],styles:["ion-item[_ngcontent-%COMP%]{--border-color: var(--core-more-item-border, var(--ion-border-color))}ion-item[_ngcontent-%COMP%] > ion-icon[slot][_ngcontent-%COMP%]{color:var(--core-more-icon)!important}"]}),CoreMainMenuMorePage})()}}]);