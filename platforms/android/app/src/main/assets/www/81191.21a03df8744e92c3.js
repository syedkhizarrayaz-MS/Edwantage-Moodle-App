"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[81191],{81191:(e,s,o)=>{o.r(s),o.d(s,{default:()=>S});var t=o(10467),a=o(89417),n=o(44682),r=o(97383),d=o(98870),i=o(15324),l=o(52749),c=o(48966),m=o(75383),h=o(79555),p=o(49882),g=o(63153),_=o(67193),u=o(80178),f=o(26327),k=o(24742),v=o(22693),I=o(81552),A=o(33014),w=o(25572),M=o(41450),b=o(45157),T=o(86654),E=o(94455),W=o(49588),C=o(54438),G=o(60177),R=o(2910),P=o(64422),y=o(17778),F=o(16658),x=o(86198),$=o(58197),j=o(88246),Y=o(43570),D=o(73955);const N=["evaluateFormEl"],_c1=e=>({$a:e}),_c2=e=>({header:e}),_c3=e=>({asid:e});function AddonModWorkshopAssessmentPage_Conditional_9_Template(e,s){if(1&e){const e=C.RV6();C.j41(0,"ion-button",15),C.bIt("click",(function AddonModWorkshopAssessmentPage_Conditional_9_Template_ion_button_click_0_listener(){C.eBV(e);const s=C.XpG();return C.Njj(s.saveEvaluation())})),C.EFF(1),C.nI1(2,"translate"),C.k0s()}2&e&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"core.save")," "))}function AddonModWorkshopAssessmentPage_ion_refresher_11_Template(e,s){if(1&e){const e=C.RV6();C.j41(0,"ion-refresher",16),C.bIt("ionRefresh",(function AddonModWorkshopAssessmentPage_ion_refresher_11_Template_ion_refresher_ionRefresh_0_listener(s){C.eBV(e);const o=C.XpG();return C.Njj(o.refreshAssessment(s.target))})),C.nrm(1,"ion-refresher-content",17),C.nI1(2,"translate"),C.k0s()}if(2&e){const e=C.XpG();C.Y8G("disabled",!e.loaded),C.R7$(),C.FS9("pullingText",C.bMT(2,2,"core.pulltorefresh"))}}function AddonModWorkshopAssessmentPage_core_user_avatar_14_Template(e,s){if(1&e&&C.nrm(0,"core-user-avatar",18),2&e){const e=C.XpG();C.Y8G("user",e.profile)("courseId",e.courseId)("userId",e.profile.id)}}function AddonModWorkshopAssessmentPage_h2_16_Template(e,s){if(1&e&&(C.j41(0,"h2"),C.EFF(1),C.k0s()),2&e){const e=C.XpG();C.R7$(),C.JRh(e.profile.fullname)}}function AddonModWorkshopAssessmentPage_p_17_Template(e,s){if(1&e&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e){const e=C.XpG();C.R7$(),C.Lme(" ",C.i5U(2,2,"addon.mod_workshop.submissiongradeof",C.eq3(5,_c1,e.workshop.grade)),": ",e.assessment.grade," ")}}function AddonModWorkshopAssessmentPage_p_18_Template(e,s){if(1&e&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e){const e=C.XpG();C.AVh("core-has-overriden-grade",e.showGrade(e.assessment.gradinggrade)),C.R7$(),C.Lme(" ",C.i5U(2,4,"addon.mod_workshop.gradinggradeof",C.eq3(7,_c1,e.workshop.gradinggrade)),": ",e.assessment.gradinggrade," ")}}function AddonModWorkshopAssessmentPage_p_19_Template(e,s){if(1&e&&(C.j41(0,"p",19),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e){const e=C.XpG();C.R7$(),C.Lme(" ",C.bMT(2,2,"addon.mod_workshop.gradinggradeover"),": ",e.assessment.gradinggradeover," ")}}function AddonModWorkshopAssessmentPage_p_20_Template(e,s){if(1&e&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e){const e=C.XpG();C.R7$(),C.SpI(" ",C.i5U(2,1,"addon.mod_workshop.weightinfo",C.eq3(4,_c1,e.assessment.weight))," ")}}function AddonModWorkshopAssessmentPage_ion_badge_21_Template(e,s){1&e&&(C.j41(0,"ion-badge",20),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"addon.mod_workshop.notassessed")," "))}function AddonModWorkshopAssessmentPage_addon_mod_workshop_assessment_strategy_22_Template(e,s){if(1&e&&C.nrm(0,"addon-mod-workshop-assessment-strategy",21),2&e){const e=C.XpG();C.Y8G("workshop",e.workshop)("access",e.access)("assessmentId",e.assessmentId)("userId",e.profile&&e.profile.id)("strategy",e.strategy)}}function AddonModWorkshopAssessmentPage_Conditional_23_Conditional_0_Template(e,s){if(1&e&&(C.j41(0,"ion-item",8)(1,"ion-label")(2,"h3",22),C.EFF(3),C.nI1(4,"translate"),C.k0s()()(),C.j41(5,"ion-card",23)(6,"ion-item"),C.nrm(7,"ion-icon",24),C.j41(8,"ion-label"),C.EFF(9),C.k0s()()()),2&e){const e=C.XpG(2);C.R7$(3),C.JRh(C.bMT(4,2,"addon.mod_workshop.assessmentsettings")),C.R7$(6),C.JRh(e.loadFeedbackToEditErrorMessage)}}function AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_7_ion_select_option_7_Template(e,s){if(1&e&&(C.j41(0,"ion-select-option",30),C.EFF(1),C.k0s()),2&e){const e=s.$implicit;C.Y8G("value",e),C.R7$(),C.JRh(e)}}function AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_7_Template(e,s){if(1&e&&(C.j41(0,"ion-item",8)(1,"ion-select",27),C.nI1(2,"translate"),C.nI1(3,"translate"),C.j41(4,"div",28),C.EFF(5),C.nI1(6,"translate"),C.k0s(),C.DNE(7,AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_7_ion_select_option_7_Template,2,2,"ion-select-option",29),C.k0s()()),2&e){const e=C.XpG(3);C.R7$(),C.Y8G("cancelText",C.bMT(2,5,"core.cancel"))("interfaceOptions",C.eq3(11,_c2,C.bMT(3,7,"addon.mod_workshop.assessmentweight"))),C.R7$(3),C.Y8G("core-mark-required",!0),C.R7$(),C.SpI(" ",C.bMT(6,9,"addon.mod_workshop.assessmentweight")," "),C.R7$(2),C.Y8G("ngForOf",e.weights)}}function AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_15_ion_select_option_5_Template(e,s){if(1&e&&(C.j41(0,"ion-select-option",30),C.EFF(1),C.k0s()),2&e){const e=s.$implicit;C.Y8G("value",e.value),C.R7$(),C.SpI(" ",e.label," ")}}function AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_15_Template(e,s){if(1&e&&(C.j41(0,"ion-item",8)(1,"ion-select",31),C.nI1(2,"translate"),C.nI1(3,"translate"),C.nI1(4,"translate"),C.DNE(5,AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_15_ion_select_option_5_Template,2,2,"ion-select-option",29),C.k0s()()),2&e){const e=C.XpG(3);C.R7$(),C.Y8G("cancelText",C.bMT(2,4,"core.cancel"))("interfaceOptions",C.eq3(10,_c2,C.bMT(3,6,"addon.mod_workshop.gradinggradeover")))("label",C.bMT(4,8,"addon.mod_workshop.gradinggradeover")),C.R7$(4),C.Y8G("ngForOf",e.evaluationGrades)}}function AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_16_Template(e,s){if(1&e&&(C.j41(0,"ion-item")(1,"ion-label",32),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.nrm(4,"core-rich-text-editor",33),C.k0s()),2&e){const e=C.XpG(3);C.R7$(2),C.JRh(C.bMT(3,5,"addon.mod_workshop.feedbackreviewer")),C.R7$(2),C.Y8G("control",e.evaluateForm.controls.text)("autoSave",!0)("contextInstanceId",null==e.workshop?null:e.workshop.coursemodule)("draftExtraParams",C.eq3(7,_c3,e.assessmentId))}}function AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_Template(e,s){if(1&e&&(C.j41(0,"form",25,0)(2,"ion-item",8)(3,"ion-label")(4,"h3",22),C.EFF(5),C.nI1(6,"translate"),C.k0s()()(),C.DNE(7,AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_7_Template,8,13,"ion-item",26),C.j41(8,"ion-item",8)(9,"ion-label")(10,"h3",22),C.EFF(11),C.nI1(12,"translate"),C.k0s(),C.j41(13,"p"),C.EFF(14),C.k0s()()(),C.DNE(15,AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_15_Template,6,12,"ion-item",26)(16,AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_ion_item_16_Template,5,9,"ion-item",10),C.k0s()),2&e){const e=C.XpG(2);C.Y8G("formGroup",e.evaluateForm),C.R7$(5),C.JRh(C.bMT(6,7,"addon.mod_workshop.assessmentsettings")),C.R7$(2),C.Y8G("ngIf",null==e.access?null:e.access.canallocate),C.R7$(4),C.JRh(C.bMT(12,9,"addon.mod_workshop.gradinggradecalculated")),C.R7$(3),C.JRh(e.gradingGrade),C.R7$(),C.Y8G("ngIf",null==e.access?null:e.access.canoverridegrades),C.R7$(),C.Y8G("ngIf",null==e.access?null:e.access.canoverridegrades)}}function AddonModWorkshopAssessmentPage_Conditional_23_Template(e,s){if(1&e&&C.DNE(0,AddonModWorkshopAssessmentPage_Conditional_23_Conditional_0_Template,10,4)(1,AddonModWorkshopAssessmentPage_Conditional_23_Conditional_1_Template,17,11),2&e){const e=C.XpG();C.vxM(0,e.loadFeedbackToEditErrorMessage?0:1)}}function AddonModWorkshopAssessmentPage_ion_list_24_core_user_avatar_2_Template(e,s){if(1&e&&C.nrm(0,"core-user-avatar",18),2&e){const e=C.XpG(2);C.Y8G("user",e.evaluateByProfile)("courseId",e.courseId)("userId",e.evaluateByProfile.id)}}function AddonModWorkshopAssessmentPage_ion_list_24_h3_4_Template(e,s){if(1&e&&(C.j41(0,"h3",22),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&e){const e=C.XpG(2);C.R7$(),C.SpI(" ",C.i5U(2,1,"addon.mod_workshop.feedbackby",C.eq3(4,_c1,e.evaluateByProfile.fullname))," ")}}function AddonModWorkshopAssessmentPage_ion_list_24_Template(e,s){if(1&e&&(C.j41(0,"ion-list")(1,"ion-item",8),C.DNE(2,AddonModWorkshopAssessmentPage_ion_list_24_core_user_avatar_2_Template,1,3,"core-user-avatar",9),C.j41(3,"ion-label"),C.DNE(4,AddonModWorkshopAssessmentPage_ion_list_24_h3_4_Template,3,6,"h3",34),C.nrm(5,"core-format-text",3),C.k0s()()()),2&e){const e=C.XpG();C.R7$(2),C.Y8G("ngIf",e.evaluateByProfile),C.R7$(2),C.Y8G("ngIf",e.evaluateByProfile&&e.evaluateByProfile.fullname),C.R7$(),C.Y8G("text",e.evaluate.text)("contextInstanceId",null==e.workshop?null:e.workshop.coursemodule)("courseId",e.courseId)}}let S=(()=>{var e;class AddonModWorkshopAssessmentPage{constructor(e){var s=this;this.fb=e,this.evaluating=!1,this.loaded=!1,this.title="",this.evaluate={text:"",grade:-1,weight:1},this.weights=[],this.evaluationGrades=[],this.originalEvaluation={text:"",grade:-1,weight:1},this.hasOffline=!1,this.isDestroyed=!1,this.forceLeave=!1,this.siteId=l.CoreSites.getCurrentSiteId(),this.currentUserId=l.CoreSites.getCurrentSiteUserId(),this.showGrade=u.AddonModWorkshopHelper.showGrade,this.evaluateForm=new a.gE({}),this.evaluateForm.addControl("weight",this.fb.control("",a.k0.required)),this.evaluateForm.addControl("grade",this.fb.control("")),this.evaluateForm.addControl("text",this.fb.control("")),this.syncObserver=p.z.on(I.N7,(e=>{this.workshopId===e.workshopId&&(this.loaded=!1,this.refreshAllData())}),this.siteId),this.logView=k.j.once((0,t.A)((function*(){s.workshop&&v.OF.logEvent({type:v.qr.VIEW_ITEM,ws:"mod_workshop_get_assessment",name:s.workshop.name,data:{id:s.workshop.id,assessmentid:s.assessment.id,category:"workshop"},url:`/mod/workshop/assessment.php?asid=${s.assessment.id}`})})))}ngOnInit(){try{this.assessment=i.CoreNavigator.getRequiredRouteParam("assessment"),this.submission=i.CoreNavigator.getRequiredRouteParam("submission"),this.profile=i.CoreNavigator.getRouteParam("profile"),this.courseId=i.CoreNavigator.getRequiredRouteNumberParam("courseId")}catch(e){return w.CoreAlerts.showError(e),i.CoreNavigator.back(),void 0}this.assessmentId=this.assessment.id,this.workshopId=this.submission.workshopid,this.fetchAssessmentData()}canLeave(){var e=this;return(0,t.A)((function*(){return!(!e.forceLeave&&e.evaluating)||(!e.hasEvaluationChanged()||(yield w.CoreAlerts.confirmLeaveWithChanges(),g.R.triggerFormCancelledEvent(e.formElement,e.siteId),!0))}))()}fetchAssessmentData(){var e=this;return(0,t.A)((function*(){try{var s,o;e.workshop=yield _.AddonModWorkshop.getWorkshopById(e.courseId,e.workshopId),e.title=e.workshop.name,e.strategy=e.workshop.strategy;const t=yield n.CoreCourse.getModuleBasicGradeInfo(e.workshop.coursemodule);if(e.maxGrade=null==t?void 0:t.grade,e.access=yield _.AddonModWorkshop.getWorkshopAccessInformation(e.workshopId,{cmId:e.workshop.coursemodule}),e.assessmentId&&(e.access.canallocate||e.access.canoverridegrades)?(e.isDestroyed||c.CoreSync.blockOperation(I.Ug,e.workshopId),e.evaluating=!0):e.evaluating=!1,!e.evaluating&&50!=e.workshop.phase)return;const a=yield u.AddonModWorkshopHelper.getReviewerAssessmentById(e.workshopId,e.assessmentId,{userId:null===(s=e.profile)||void 0===s?void 0:s.id,cmId:e.workshop.coursemodule,canAssess:u.AddonModWorkshopHelper.canEditAssessments(e.workshop,e.access)});if(e.assessment=u.AddonModWorkshopHelper.realGradeValue(e.workshop,a),e.evaluate.text=e.assessment.feedbackreviewer||"",e.evaluate.weight=e.assessment.weight,e.gradingGrade=null!==(o=e.assessment.gradinggrade)&&void 0!==o?o:"-",e.evaluating){if(e.access.canallocate){e.weights=[];for(let s=16;s>=0;s--)e.weights[s]=s}if(e.access.canoverridegrades){const s=h.HT.instant("addon.mod_workshop.notoverridden");e.evaluationGrades=yield r.CoreGradesHelper.makeGradesMenu(e.workshop.gradinggrade,void 0,s,-1)}try{const s=yield f.AddonModWorkshopOffline.getEvaluateAssessment(e.workshopId,e.assessmentId);e.hasOffline=!0,e.evaluate.weight=s.weight,e.access.canoverridegrades&&(e.evaluate.text=s.feedbacktext||"",e.evaluate.grade=parseInt(s.gradinggradeover,10)||-1)}catch{e.hasOffline=!1,e.access.canoverridegrades&&(e.evaluate.text=e.assessment.feedbackreviewer||"",e.evaluate.grade=parseInt(String(e.assessment.gradinggradeover),10)||-1,yield e.loadFeedbackToEdit())}finally{e.originalEvaluation.weight=e.evaluate.weight,e.access.canoverridegrades&&(e.originalEvaluation.text=e.evaluate.text,e.originalEvaluation.grade=e.evaluate.grade),e.evaluateForm.controls.weight.setValue(e.evaluate.weight),e.access.canoverridegrades&&(e.evaluateForm.controls.grade.setValue(e.evaluate.grade),e.evaluateForm.controls.text.setValue(e.evaluate.text))}}else 50==e.workshop.phase&&e.assessment.gradinggradeoverby&&(e.evaluateByProfile=yield d.CoreUser.getProfile(e.assessment.gradinggradeoverby,e.courseId,!0))}catch(e){w.CoreAlerts.showError(e,{default:h.HT.instant("core.course.errorgetmodule")})}finally{e.loaded=!0}}))()}loadFeedbackToEdit(){var e=this;return(0,t.A)((function*(){if(e.workshop)try{var s;const o=yield u.AddonModWorkshopHelper.getReviewerAssessmentById(e.workshopId,e.assessmentId,{userId:null===(s=e.profile)||void 0===s?void 0:s.id,cmId:e.workshop.coursemodule,filter:!1,readingStrategy:2});e.evaluate.text=o.feedbackreviewer||"",e.loadFeedbackToEditErrorMessage=void 0}catch(s){e.loadFeedbackToEditErrorMessage=E.WE.isOnline()?W.CoreErrorHelper.getErrorMessageFromError(s)||h.HT.instant("core.networkerrormsg"):h.HT.instant("core.notavailableoffline")}}))()}forceLeavePage(){this.forceLeave=!0,i.CoreNavigator.back()}hasEvaluationChanged(){if(!this.loaded||!this.evaluating)return!1;const e=this.evaluateForm.value;if(this.originalEvaluation.weight!==e.weight)return!0;if(this.access&&this.access.canoverridegrades){var s,o;if((null!==(s=this.originalEvaluation.text)&&void 0!==s?s:"")!==(null!==(o=e.text)&&void 0!==o?o:""))return!0;if(this.originalEvaluation.grade!==e.grade)return!0}return!1}refreshAllData(){var e=this;return(0,t.A)((function*(){const s=[];s.push(_.AddonModWorkshop.invalidateWorkshopData(e.courseId)),s.push(_.AddonModWorkshop.invalidateWorkshopAccessInformationData(e.workshopId)),s.push(_.AddonModWorkshop.invalidateReviewerAssesmentsData(e.workshopId)),e.assessmentId&&(s.push(_.AddonModWorkshop.invalidateAssessmentFormData(e.workshopId,e.assessmentId)),s.push(_.AddonModWorkshop.invalidateAssessmentData(e.workshopId,e.assessmentId)));try{yield Promise.all(s)}finally{p.z.trigger(I.Dl,null,e.siteId),yield e.fetchAssessmentData()}}))()}refreshAssessment(e){this.loaded&&this.refreshAllData().finally((()=>{null==e||e.complete()}))}saveEvaluation(){var e=this;return(0,t.A)((function*(){e.hasEvaluationChanged()&&(yield e.sendEvaluation()),e.forceLeavePage()}))()}sendEvaluation(){var e=this;return(0,t.A)((function*(){const s=yield A.CoreLoadings.show("core.sending",!0),o=e.evaluateForm.value,t=o.grade>=0?String(o.grade):"",a=m.Ni.formatHtmlLines(o.text);try{const s=yield _.AddonModWorkshop.evaluateAssessment(e.workshopId,e.assessmentId,e.courseId,a,o.weight,t);g.R.triggerFormSubmittedEvent(e.formElement,!!s,e.siteId);const n={workshopId:e.workshopId,assessmentId:e.assessmentId,userId:e.currentUserId};return _.AddonModWorkshop.invalidateAssessmentData(e.workshopId,e.assessmentId).finally((()=>{p.z.trigger(I.Px,n,e.siteId)}))}catch(e){w.CoreAlerts.showError(e,{default:"Cannot save assessment evaluation"})}finally{s.dismiss()}}))()}ngOnDestroy(){var e;this.isDestroyed=!0,null===(e=this.syncObserver)||void 0===e||e.off(),c.CoreSync.unblockOperation(I.Ug,this.workshopId)}}return(e=AddonModWorkshopAssessmentPage).ɵfac=function AddonModWorkshopAssessmentPage_Factory(s){return new(s||e)(C.rXU(a.ok))},e.ɵcmp=C.VBU({type:e,selectors:[["page-addon-mod-workshop-assessment-page"]],viewQuery:function AddonModWorkshopAssessmentPage_Query(e,s){if(1&e&&C.GBs(N,5),2&e){let e;C.mGM(e=C.lsd())&&(s.formElement=e.first)}},standalone:!0,features:[C.aNF],decls:25,vars:19,consts:[["evaluateFormEl",""],["slot","start"],[3,"text"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["slot","end"],["fill","clear"],["slot","fixed",3,"disabled","ionRefresh",4,"ngIf"],[3,"hideUntil"],[1,"ion-text-wrap"],["slot","start",3,"user","courseId","userId",4,"ngIf"],[4,"ngIf"],[3,"core-has-overriden-grade",4,"ngIf"],["class","core-overriden-grade",4,"ngIf"],["color","danger",4,"ngIf"],[3,"workshop","access","assessmentId","userId","strategy",4,"ngIf"],["fill","clear",3,"click"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],["slot","start",3,"user","courseId","userId"],[1,"core-overriden-grade"],["color","danger"],[3,"workshop","access","assessmentId","userId","strategy"],[1,"item-heading"],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[3,"formGroup"],["class","ion-text-wrap",4,"ngIf"],["labelPlacement","stacked","formControlName","weight","required","true","interface","action-sheet",3,"cancelText","interfaceOptions"],["slot","label",3,"core-mark-required"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["labelPlacement","stacked","formControlName","grade","interface","action-sheet",3,"cancelText","interfaceOptions","label"],["position","stacked"],["name","text","contextLevel","module","elementId","feedbackreviewer_editor",3,"control","autoSave","contextInstanceId","draftExtraParams"],["class","item-heading",4,"ngIf"]],template:function AddonModWorkshopAssessmentPage_Template(e,s){1&e&&(C.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),C.nrm(3,"ion-back-button",2),C.nI1(4,"translate"),C.k0s(),C.j41(5,"ion-title")(6,"h1"),C.nrm(7,"core-format-text",3),C.k0s()(),C.j41(8,"ion-buttons",4),C.DNE(9,AddonModWorkshopAssessmentPage_Conditional_9_Template,3,3,"ion-button",5),C.k0s()()(),C.j41(10,"ion-content"),C.DNE(11,AddonModWorkshopAssessmentPage_ion_refresher_11_Template,3,4,"ion-refresher",6),C.j41(12,"core-loading",7)(13,"ion-item",8),C.DNE(14,AddonModWorkshopAssessmentPage_core_user_avatar_14_Template,1,3,"core-user-avatar",9),C.j41(15,"ion-label"),C.DNE(16,AddonModWorkshopAssessmentPage_h2_16_Template,2,1,"h2",10)(17,AddonModWorkshopAssessmentPage_p_17_Template,3,7,"p",10)(18,AddonModWorkshopAssessmentPage_p_18_Template,3,9,"p",11)(19,AddonModWorkshopAssessmentPage_p_19_Template,3,4,"p",12)(20,AddonModWorkshopAssessmentPage_p_20_Template,3,6,"p",10)(21,AddonModWorkshopAssessmentPage_ion_badge_21_Template,3,3,"ion-badge",13),C.k0s()(),C.DNE(22,AddonModWorkshopAssessmentPage_addon_mod_workshop_assessment_strategy_22_Template,1,5,"addon-mod-workshop-assessment-strategy",14)(23,AddonModWorkshopAssessmentPage_Conditional_23_Template,2,1)(24,AddonModWorkshopAssessmentPage_ion_list_24_Template,6,5,"ion-list",10),C.k0s()()),2&e&&(C.R7$(3),C.Y8G("text",C.bMT(4,17,"core.back")),C.R7$(4),C.Y8G("text",s.title)("contextInstanceId",s.workshop&&s.workshop.coursemodule)("courseId",s.courseId),C.R7$(2),C.vxM(9,s.evaluating&&!s.loadFeedbackToEditErrorMessage?9:-1),C.R7$(2),C.Y8G("ngIf",!s.evaluating),C.R7$(),C.Y8G("hideUntil",s.loaded),C.R7$(2),C.Y8G("ngIf",s.profile),C.R7$(2),C.Y8G("ngIf",s.profile&&s.profile.fullname),C.R7$(),C.Y8G("ngIf",s.workshop&&s.assessment&&s.showGrade(s.assessment.grade)),C.R7$(),C.Y8G("ngIf",s.workshop&&s.access&&s.access.canviewallsubmissions&&s.assessment&&s.showGrade(s.assessment.gradinggrade)),C.R7$(),C.Y8G("ngIf",s.access&&s.access.canviewallsubmissions&&s.assessment&&s.showGrade(s.assessment.gradinggradeover)),C.R7$(),C.Y8G("ngIf",s.assessment&&s.assessment.weight&&1!==s.assessment.weight),C.R7$(),C.Y8G("ngIf",!s.assessment||!s.showGrade(s.assessment.grade)),C.R7$(),C.Y8G("ngIf",s.assessment&&s.assessmentId&&s.showGrade(s.assessment.grade)&&s.workshop&&s.access),C.R7$(),C.vxM(23,s.evaluating?23:-1),C.R7$(),C.Y8G("ngIf",!s.evaluating&&s.evaluate&&s.evaluate.text))},dependencies:[T.n,G.Sq,G.bT,a.qT,a.BC,a.cb,a.YS,R.In,R.Jm,R.QW,R.b_,R.W9,R.eU,R.iq,R.uz,R.he,R.nf,R.To,R.Ki,R.Nm,R.Ip,R.BC,R.ai,R.Je,R.el,a.j4,a.JD,P.R,y.j,F.T,x.t,$.B,j.i,Y.T,D.D9,b.AddonModWorkshopAssessmentStrategyComponent,M.CoreEditorRichTextEditorComponent],encapsulation:2}),AddonModWorkshopAssessmentPage})()}}]);