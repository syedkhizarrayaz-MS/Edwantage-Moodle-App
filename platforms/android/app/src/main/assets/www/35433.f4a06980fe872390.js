"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[35433],{35433:(e,t,a)=>{a.r(t),a.d(t,{CoreDataPrivacyNewRequestComponent:()=>v});var n=a(10467),o=a(86654),r=a(89417),s=a(8398),i=a(47551),c=a(79555),l=a(33014),u=a(25572),d=a(54438),p=a(60177),m=a(2910),f=a(17778),y=a(86198),_=a(88246),C=a(43570),T=a(73955);function CoreDataPrivacyNewRequestComponent_ion_radio_22_Template(e,t){1&e&&(d.j41(0,"ion-radio",12),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&e&&(d.Y8G("value",1),d.R7$(),d.SpI(" ",d.bMT(2,2,"core.dataprivacy.requesttypeexport")," "))}function CoreDataPrivacyNewRequestComponent_ion_radio_23_Template(e,t){1&e&&(d.j41(0,"ion-radio",12),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&e&&(d.Y8G("value",2),d.R7$(),d.SpI(" ",d.bMT(2,2,"core.dataprivacy.requesttypedelete")," "))}let v=(()=>{var e;class CoreDataPrivacyNewRequestComponent{constructor(e){this.fb=e,this.message="",this.form=new r.gE({}),this.typeControl=this.fb.control(s.N7.DATAREQUEST_TYPE_EXPORT,{validators:r.k0.required,nonNullable:!0}),this.form.addControl("type",this.typeControl),this.form.addControl("message",this.fb.control(""))}ngOnInit(){var e=this;return(0,n.A)((function*(){var t,a;if(!e.accessInfo)return c.W3.dismiss(),void 0;switch(e.createType){case s.N7.DATAREQUEST_TYPE_EXPORT:null!==(t=e.accessInfo)&&void 0!==t&&t.cancreatedatadownloadrequest&&e.typeControl.setValue(e.createType);break;case s.N7.DATAREQUEST_TYPE_DELETE:null!==(a=e.accessInfo)&&void 0!==a&&a.cancreatedatadeletionrequest&&e.typeControl.setValue(e.createType);break;default:!e.accessInfo.cancreatedatadownloadrequest&&e.accessInfo.cancreatedatadeletionrequest&&e.typeControl.setValue(s.N7.DATAREQUEST_TYPE_DELETE)}}))()}send(e){var t=this;return(0,n.A)((function*(){e.preventDefault(),e.stopPropagation();const a=yield l.CoreLoadings.show();try{(yield s.CP.createDataRequest(t.typeControl.value,t.message))&&(i.CoreToasts.show({message:"core.dataprivacy.requestsubmitted",translateMessage:!0,duration:i.ToastDuration.LONG}),c.W3.dismiss(!0))}catch(e){u.CoreAlerts.showError(e,{default:"Error sending data privacy request"})}finally{a.dismiss()}}))()}close(){c.W3.dismiss()}}return(e=CoreDataPrivacyNewRequestComponent).ɵfac=function CoreDataPrivacyNewRequestComponent_Factory(t){return new(t||e)(d.rXU(r.ok))},e.ɵcmp=d.VBU({type:e,selectors:[["core-data-privacy-new-request"]],inputs:{accessInfo:"accessInfo",createType:"createType"},standalone:!0,features:[d.aNF],decls:34,vars:27,consts:[["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],["name","newRequest",3,"ngSubmit","formGroup"],[1,"ion-text-wrap"],[1,"item-heading",3,"core-mark-required"],["name","type","formControlName","type"],[3,"value",4,"ngIf"],["labelPlacement","stacked","rows","5","name","text","formControlName","message",3,"ngModelChange","placeholder","ngModel"],["slot","label"],["slot","fixed",1,"ion-padding"],["expand","block",3,"click","disabled"],[3,"value"]],template:function CoreDataPrivacyNewRequestComponent_Template(e,t){1&e&&(d.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"h1"),d.EFF(4),d.nI1(5,"translate"),d.k0s()(),d.j41(6,"ion-buttons",0)(7,"ion-button",1),d.nI1(8,"translate"),d.bIt("click",(function CoreDataPrivacyNewRequestComponent_Template_ion_button_click_7_listener(){return t.close()})),d.nrm(9,"ion-icon",2),d.k0s()()()(),d.j41(10,"ion-content")(11,"form",3),d.bIt("ngSubmit",(function CoreDataPrivacyNewRequestComponent_Template_form_ngSubmit_11_listener(e){return t.send(e)})),d.j41(12,"ion-item",4)(13,"ion-label")(14,"p"),d.EFF(15),d.nI1(16,"translate"),d.k0s(),d.j41(17,"p",5),d.EFF(18),d.nI1(19,"translate"),d.k0s()()(),d.j41(20,"ion-item",4)(21,"ion-radio-group",6),d.DNE(22,CoreDataPrivacyNewRequestComponent_ion_radio_22_Template,3,4,"ion-radio",7)(23,CoreDataPrivacyNewRequestComponent_ion_radio_23_Template,3,4,"ion-radio",7),d.k0s()(),d.j41(24,"ion-item")(25,"ion-textarea",8),d.nI1(26,"translate"),d.mxI("ngModelChange",(function CoreDataPrivacyNewRequestComponent_Template_ion_textarea_ngModelChange_25_listener(e){return d.DH7(t.message,e)||(t.message=e),e})),d.j41(27,"div",9),d.EFF(28),d.nI1(29,"translate"),d.k0s()()()()(),d.j41(30,"ion-footer",10)(31,"ion-button",11),d.bIt("click",(function CoreDataPrivacyNewRequestComponent_Template_ion_button_click_31_listener(e){return t.send(e)})),d.EFF(32),d.nI1(33,"translate"),d.k0s()()),2&e&&(d.R7$(4),d.JRh(d.bMT(5,13,"core.dataprivacy.createnewdatarequest")),d.R7$(3),d.Y8G("ariaLabel",d.bMT(8,15,"core.close")),d.R7$(4),d.Y8G("formGroup",t.form),d.R7$(4),d.SpI(" ",d.bMT(16,17,"core.dataprivacy.requesttype_help")," "),d.R7$(2),d.Y8G("core-mark-required",!0),d.R7$(),d.SpI(" ",d.bMT(19,19,"core.dataprivacy.requesttype")," "),d.R7$(4),d.Y8G("ngIf",null==t.accessInfo?null:t.accessInfo.cancreatedatadownloadrequest),d.R7$(),d.Y8G("ngIf",null==t.accessInfo?null:t.accessInfo.cancreatedatadeletionrequest),d.R7$(2),d.FS9("placeholder",d.bMT(26,21,"core.dataprivacy.requestcomments")),d.R50("ngModel",t.message),d.R7$(3),d.SpI(" ",d.bMT(29,23,"core.dataprivacy.requestcomments")," "),d.R7$(3),d.Y8G("disabled",!t.form.valid),d.R7$(),d.SpI(" ",d.bMT(33,25,"core.dataprivacy.send")," "))},dependencies:[o.n,p.bT,r.qT,r.BC,r.cb,m.Jm,m.QW,m.W9,m.M0,m.eU,m.iq,m.uz,m.he,m.KO,m.f0,m.nc,m.BC,m.ai,m.Je,m.Gw,r.j4,r.JD,f.j,y.t,_.i,C.T,T.D9],encapsulation:2}),CoreDataPrivacyNewRequestComponent})()}}]);