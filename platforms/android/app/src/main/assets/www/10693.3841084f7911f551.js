"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[10693],{10693:(e,n,t)=>{t.r(n),t.d(n,{default:()=>q});var o=t(10467),i=t(74431),r=t(37184),a=t(23732),l=t(30270),d=t(85618),s=t(54438),c=t(54638),g=t(41094),_=t(22693),m=t(15324),p=t(94455),f=t(52749),u=t(8014),h=t(55554),y=t(24502),I=t(49882),b=t(24742),C=t(24813),x=t(33014),T=t(25572),v=t(79555),E=t(81879),M=t(25367),P=t(86654),A=t(20871),O=t(89417),R=t(2910),F=t(69502),B=t(17388),$=t(16986),k=t(31498),j=t(66198),w=t(64422),N=t(16658),G=t(19858),L=t(86198),U=t(58197),D=t(23007),S=t(35407),Y=t(88246),X=t(43570),V=t(73955),H=t(2423),z=t(93453);function _forTrack0(e,n){return this.getEntryTemplateId(n)}const _c0=e=>({$a:e}),_c1=(e,n)=>({name:e,date:n}),_c2=e=>({$a:e});function AddonBlogIndexPage_Conditional_19_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-item",8)(1,"ion-toggle",14),s.mxI("ngModelChange",(function AddonBlogIndexPage_Conditional_19_Template_ion_toggle_ngModelChange_1_listener(n){s.eBV(e);const t=s.XpG();return s.DH7(t.onlyMyEntries,n)||(t.onlyMyEntries=n),s.Njj(n)})),s.bIt("ionChange",(function AddonBlogIndexPage_Conditional_19_Template_ion_toggle_ionChange_1_listener(){s.eBV(e);const n=s.XpG();return s.Njj(n.onlyMyEntriesToggleChanged(n.onlyMyEntries))})),s.EFF(2),s.nI1(3,"translate"),s.k0s()()}if(2&e){const e=s.XpG();s.R7$(),s.R50("ngModel",e.onlyMyEntries),s.R7$(),s.SpI(" ",s.bMT(3,2,"addon.blog.showonlyyourentries")," ")}}function AddonBlogIndexPage_Conditional_20_Template(e,n){1&e&&(s.j41(0,"ion-card",9)(1,"ion-item"),s.nrm(2,"ion-icon",15),s.j41(3,"ion-label"),s.EFF(4),s.nI1(5,"translate"),s.nI1(6,"translate"),s.k0s()()()),2&e&&(s.R7$(4),s.JRh(s.i5U(6,3,"core.hasdatatosync",s.eq3(6,_c0,s.bMT(5,1,"addon.blog.blog")))))}function AddonBlogIndexPage_For_22_Conditional_4_Template(e,n){1&e&&(s.j41(0,"span",18)(1,"ion-badge",33),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&e&&(s.R7$(2),s.SpI(" ",s.bMT(3,1,"addon.blog.publishtonoone")," "))}function AddonBlogIndexPage_For_22_Conditional_5_Template(e,n){1&e&&(s.j41(0,"span",18)(1,"ion-badge",34),s.nrm(2,"ion-icon",35),s.nI1(3,"translate"),s.EFF(4),s.nI1(5,"translate"),s.k0s()()),2&e&&(s.R7$(2),s.BMQ("aria-label",s.bMT(3,2,"core.lastmodified")),s.R7$(2),s.SpI(" ",s.bMT(5,4,"core.notsent")," "))}function AddonBlogIndexPage_For_22_Conditional_6_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-button",36),s.nI1(1,"translate"),s.bIt("click",(function AddonBlogIndexPage_For_22_Conditional_6_Template_ion_button_click_0_listener(n){s.eBV(e);const t=s.XpG().$implicit,o=s.XpG();return s.Njj(o.showEntryActionsPopover(n,t))})),s.nrm(2,"ion-icon",37),s.k0s()}2&e&&s.Y8G("ariaLabel",s.bMT(1,1,"core.displayoptions"))}function AddonBlogIndexPage_For_22_Conditional_7_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-button",38),s.nI1(1,"translate"),s.bIt("click",(function AddonBlogIndexPage_For_22_Conditional_7_Template_ion_button_click_0_listener(){s.eBV(e);const n=s.XpG().$implicit,t=s.XpG();return s.Njj(t.undoDelete(n))})),s.nrm(2,"ion-icon",39),s.k0s()}2&e&&s.Y8G("ariaLabel",s.bMT(1,1,"core.restore"))}function AddonBlogIndexPage_For_22_Conditional_11_Template(e,n){if(1&e&&(s.nrm(0,"span",24),s.nI1(1,"coreDateDayOrTime"),s.nI1(2,"translate")),2&e){const e=s.XpG().$implicit;s.Y8G("innerHTML",s.i5U(2,3,"core.bynameondate",s.eq3(9,_c2,s.l_i(6,_c1,"<strong>"+(null==e.user?null:e.user.fullname)+"</strong>",s.bMT(1,1,e.created)))),s.npT)}}function AddonBlogIndexPage_For_22_Conditional_12_Template(e,n){if(1&e&&(s.j41(0,"span"),s.EFF(1),s.nI1(2,"coreDateDayOrTime"),s.k0s()),2&e){const e=s.XpG().$implicit;s.R7$(),s.JRh(s.bMT(2,1,e.created))}}function AddonBlogIndexPage_For_22_Conditional_16_Template(e,n){if(1&e&&(s.j41(0,"ion-item",28)(1,"ion-label")(2,"div",0),s.EFF(3),s.nI1(4,"translate"),s.k0s(),s.nrm(5,"core-tag-list",40),s.k0s()()),2&e){const e=s.XpG().$implicit;s.R7$(3),s.SpI("",s.bMT(4,2,"core.tag.tags"),":"),s.R7$(2),s.Y8G("tags",e.tags)}}function AddonBlogIndexPage_For_22_Conditional_18_Template(e,n){if(1&e&&(s.j41(0,"ion-item",30)(1,"ion-label"),s.EFF(2),s.nI1(3,"translate"),s.k0s()()),2&e){const e=s.XpG().$implicit;s.Y8G("href",e.uniquehash)("detail",!0),s.R7$(2),s.JRh(s.bMT(3,3,"addon.blog.linktooriginalentry"))}}function AddonBlogIndexPage_For_22_Conditional_19_Conditional_1_Template(e,n){if(1&e&&(s.j41(0,"ion-note",41),s.nrm(1,"ion-icon",35),s.nI1(2,"translate"),s.EFF(3),s.nI1(4,"coreTimeAgo"),s.k0s()),2&e){const e=s.XpG(2).$implicit;s.R7$(),s.BMQ("aria-label",s.bMT(2,2,"core.lastmodified")),s.R7$(2),s.SpI(" ",s.bMT(4,4,e.lastmodified)," ")}}function AddonBlogIndexPage_For_22_Conditional_19_Conditional_2_Template(e,n){if(1&e&&(s.j41(0,"ion-badge",42),s.nrm(1,"ion-icon",43),s.EFF(2),s.nI1(3,"translate"),s.k0s()),2&e){const e=s.XpG(2).$implicit;s.R7$(2),s.SpI(" ",s.bMT(3,1,"addon.blog."+e.publishTranslated)," ")}}function AddonBlogIndexPage_For_22_Conditional_19_Template(e,n){if(1&e&&(s.j41(0,"ion-item",31),s.DNE(1,AddonBlogIndexPage_For_22_Conditional_19_Conditional_1_Template,5,6,"ion-note",41)(2,AddonBlogIndexPage_For_22_Conditional_19_Conditional_2_Template,4,3,"ion-badge",42),s.k0s()),2&e){const e=s.XpG().$implicit,n=s.XpG();s.R7$(),s.vxM(1,e.lastmodified>e.created?1:-1),s.R7$(),s.vxM(2,e.userid===n.currentUserId&&"draft"!==e.publishstate?2:-1)}}function AddonBlogIndexPage_For_22_Conditional_20_Template(e,n){if(1&e&&s.nrm(0,"core-comments",32),2&e){const e=s.XpG().$implicit,n=s.XpG();s.Y8G("component",n.component)("itemId",n.getEntryId(e))("instanceId",e.userid)("showItem",!0)("courseId",e.courseid)("title",e.subject)}}function AddonBlogIndexPage_For_22_Template(e,n){if(1&e&&(s.j41(0,"div",10)(1,"div",16)(2,"h3"),s.nrm(3,"core-format-text",17),s.DNE(4,AddonBlogIndexPage_For_22_Conditional_4_Template,4,3,"span",18)(5,AddonBlogIndexPage_For_22_Conditional_5_Template,6,6,"span",18),s.k0s(),s.DNE(6,AddonBlogIndexPage_For_22_Conditional_6_Template,3,3,"ion-button",19)(7,AddonBlogIndexPage_For_22_Conditional_7_Template,3,3,"ion-button",20),s.k0s(),s.j41(8,"div",21)(9,"div",22),s.nrm(10,"core-user-avatar",23),s.k0s(),s.DNE(11,AddonBlogIndexPage_For_22_Conditional_11_Template,3,11,"span",24)(12,AddonBlogIndexPage_For_22_Conditional_12_Template,3,3),s.k0s(),s.j41(13,"div",25)(14,"div",26),s.nrm(15,"core-format-text",27),s.k0s(),s.DNE(16,AddonBlogIndexPage_For_22_Conditional_16_Template,6,4,"ion-item",28),s.nrm(17,"core-files",29),s.DNE(18,AddonBlogIndexPage_For_22_Conditional_18_Template,4,5,"ion-item",30),s.k0s(),s.DNE(19,AddonBlogIndexPage_For_22_Conditional_19_Template,3,2,"ion-item",31)(20,AddonBlogIndexPage_For_22_Conditional_20_Template,1,6,"core-comments",32),s.k0s()),2&e){let e;const t=n.$implicit,o=s.XpG();s.Y8G("id",o.getEntryTemplateId(t)),s.R7$(3),s.Y8G("text",t.subject)("contextLevel",o.contextLevel)("contextInstanceId",o.contextInstanceId)("courseId",t.courseid)("sanitize",o.entryHasOfflineData(t)),s.R7$(),s.vxM(4,t.userid===o.currentUserId&&"publishtonoone"===t.publishTranslated?4:-1),s.R7$(),s.vxM(5,o.entryHasOfflineData(t)?5:-1),s.R7$(),s.vxM(6,t.userid===o.currentUserId&&o.optionsAvailable&&!t.deleted?6:-1),s.R7$(),s.vxM(7,t.deleted?7:-1),s.R7$(3),s.Y8G("user",t.user)("courseId",t.courseid),s.R7$(),s.vxM(11,null!=t.user&&t.user.fullname&&t.created?11:null!=t.user&&t.user.fullname||!t.created?-1:12),s.R7$(2),s.Y8G("collapsible-item",64),s.R7$(2),s.Y8G("text",t.summary)("component",o.component)("componentId",o.getEntryId(t))("contextLevel",o.contextLevel)("contextInstanceId",o.contextInstanceId)("courseId",t.courseid)("sanitize",o.entryHasOfflineData(t)),s.R7$(),s.vxM(16,o.tagsEnabled&&t.tags&&t.tags.length>0?16:-1),s.R7$(),s.Y8G("files",t.attachmentfiles)("component",o.component)("componentId",null!==(e=o.getEntryId(t))&&void 0!==e?e:t.created),s.R7$(),s.vxM(18,t.uniquehash?18:-1),s.R7$(),s.vxM(19,t.lastmodified>t.created||t.userid===o.currentUserId&&"draft"!==t.publishstate?19:-1),s.R7$(),s.vxM(20,o.getEntryId(t)&&o.commentsEnabled?20:-1)}}function AddonBlogIndexPage_ForEmpty_23_Template(e,n){1&e&&(s.nrm(0,"core-empty-box",11),s.nI1(1,"translate")),2&e&&s.Y8G("message",s.bMT(1,1,"addon.blog.noentriesyet"))}function AddonBlogIndexPage_Conditional_25_Template(e,n){if(1&e){const e=s.RV6();s.j41(0,"ion-fab",13)(1,"ion-fab-button",44),s.nI1(2,"translate"),s.bIt("click",(function AddonBlogIndexPage_Conditional_25_Template_ion_fab_button_click_1_listener(){s.eBV(e);const n=s.XpG();return s.Njj(n.createNewEntry())})),s.nrm(3,"ion-icon",45),s.j41(4,"span",46),s.EFF(5),s.nI1(6,"translate"),s.k0s()()()}2&e&&(s.R7$(),s.BMQ("aria-label",s.bMT(2,2,"addon.blog.addnewentry")),s.R7$(4),s.JRh(s.bMT(6,4,"addon.blog.addnewentry")))}let q=(()=>{var e;class AddonBlogIndexPage{constructor(){var e=this;this.title="",this.filter={},this.pageLoaded=0,this.loaded=(0,s.vPA)(!1),this.canLoadMore=!1,this.loadMoreError=!1,this.entries=[],this.entriesToRemove=[],this.entriesToUpdate=[],this.offlineEntries=[],this.showMyEntriesToggle=!1,this.onlyMyEntries=!1,this.component=a.Ed.COMPONENT,this.commentsEnabled=!1,this.tagsEnabled=!1,this.contextLevel="system",this.contextInstanceId=0,this.optionsAvailable=!1,this.hasOfflineDataToSync=(0,s.vPA)(!1),this.isOnline=(0,s.vPA)(!1),this.syncIcon=i.CoreConstants.ICON_SYNC,this.syncHidden=(0,s.EWP)((()=>!this.loaded()||!this.isOnline()||!this.hasOfflineDataToSync())),this.currentUserId=f.CoreSites.getCurrentSiteUserId(),this.siteHomeId=f.CoreSites.getCurrentSiteHomeId(),this.siteId=f.CoreSites.getCurrentSiteId(),this.isOnline.set(p.WE.isOnline()),this.logView=b.j.once((0,o.A)((function*(){yield h.g.ignoreErrors(a.hU.logView(e.filter)),_.OF.logEvent({type:_.qr.VIEW_ITEM_LIST,ws:"core_blog_view_entries",name:e.title,data:{...e.filter,category:"blog"},url:u.F.addParamsToUrl("/blog/index.php",{...e.filter,modid:e.filter.cmid,cmid:void 0})})}))),this.entryUpdateObserver=I.z.on(r.d4,(0,o.A)((function*(){e.loaded.set(!1),yield h.g.ignoreErrors(e.refresh()),e.loaded.set(!0)}))),this.syncObserver=I.z.onMultiple([r._K,r.xF],function(){var n=(0,o.A)((function*({source:n}){e!==n&&(e.loaded.set(!1),yield h.g.ignoreErrors(e.refresh(!1)),e.loaded.set(!0))}));return function(e){return n.apply(this,arguments)}}()),this.onlineObserver=p.WE.onChange().subscribe((0,o.A)((function*(){e.isOnline.set(p.WE.isOnline())})))}getEntryTemplateId(e){return"entry-"+("id"in e&&e.id?e.id:"created-"+e.created)}ngOnInit(){var e=this;return(0,o.A)((function*(){const n=m.CoreNavigator.getRouteNumberParam("userId"),t=m.CoreNavigator.getRouteNumberParam("courseId"),o=m.CoreNavigator.getRouteNumberParam("cmId"),i=m.CoreNavigator.getRouteNumberParam("entryId"),r=m.CoreNavigator.getRouteNumberParam("groupId"),l=m.CoreNavigator.getRouteNumberParam("tagId");e.title=n||t||o||i||r||l?"addon.blog.blogentries":"addon.blog.siteblogheading",n&&(e.filter.userid=n),t&&(e.filter.courseid=t),o&&(e.filter.cmid=o),i&&(e.filter.entryid=i),r&&(e.filter.groupid=r),l&&(e.filter.tagid=l),e.showMyEntriesToggle=!n&&!e.filter.entryid,!n||t||o?t&&t!=e.siteHomeId?(e.contextLevel="course",e.contextInstanceId=t):(e.contextLevel="system",e.contextInstanceId=0):(e.contextLevel="user",e.contextInstanceId=n),e.commentsEnabled=c.CoreComments.areCommentsEnabledInSite(),e.tagsEnabled=g.CoreTag.areTagsAvailableInSite(),f.CoreSites.loginNavigationFinished(),yield e.fetchEntries(!1,!1,!0),e.optionsAvailable=yield a.hU.isEditingEnabled()}))()}getEntryId(e){return this.isOnlineEntry(e)?e.id:void 0}entryHasOfflineData(e){return!this.isOnlineEntry(e)||!!e.updatedOffline}fetchEntries(e,n=!1,t){var i=this;return(0,o.A)((function*(){if(i.loadMoreError=!1,e&&(i.pageLoaded=0),i.isOnline()&&t)try{const e=yield d.a.syncEntriesForSite(f.CoreSites.getCurrentSiteId());e.warnings&&e.warnings.length&&T.CoreAlerts.show({message:e.warnings[0]}),e.updated&&I.z.trigger(r._K,{...e,source:i})}catch(e){n&&T.CoreAlerts.showError(e,{default:v.HT.instant("core.errorsync")})}try{const n=yield a.hU.getEntries(i.filter,{page:i.pageLoaded,readingStrategy:e?3:void 0});yield Promise.all(n.entries.map(function(){var e=(0,o.A)((function*(e){return a.hU.formatEntry(e)}));return function(n){return e.apply(this,arguments)}}())),i.entries=e?n.entries:i.entries.concat(n.entries).sort(((e,n)=>"id"in e&&!("id"in n)?1:"id"in n&&!("id"in e)?-1:n.created-e.created)),i.canLoadMore=n.totalentries>i.entries.length,yield i.loadOfflineEntries(0===i.pageLoaded),i.entries=y.R.unique(i.entries,"id"),i.pageLoaded++,i.logView()}catch(e){T.CoreAlerts.showError(e,{default:v.HT.instant("addon.blog.errorloadentries")}),i.loadMoreError=!0}finally{i.loaded.set(!0)}}))()}loadOfflineEntries(e){var n=this;return(0,o.A)((function*(){if(e){n.offlineEntries=yield l.Q.getOfflineEntries(n.filter),n.entriesToUpdate=n.offlineEntries.filter((e=>!!e.id)),n.entriesToRemove=yield l.Q.getEntriesToRemove();const e=n.offlineEntries.filter((e=>!e.id)),t=yield Promise.all(e.map(function(){var e=(0,o.A)((function*(e){return yield a.hU.formatOfflineEntry(e)}));return function(n){return e.apply(this,arguments)}}()));n.entries=[...t,...n.entries]}n.entriesToUpdate.length&&(n.entries=yield Promise.all(n.entries.map(function(){var e=(0,o.A)((function*(e){const t=n.entriesToUpdate.find((t=>n.isOnlineEntry(e)&&t.id===e.id));return t&&"id"in e?yield a.hU.formatOfflineEntry(t,e):e}));return function(n){return e.apply(this,arguments)}}())));for(const e of n.entriesToRemove){const t=n.entries.find((n=>"id"in n&&n.id===e.id));t&&(t.deleted=!0)}n.hasOfflineDataToSync.set(n.offlineEntries.length>0||n.entriesToRemove.length>0)}))()}onlyMyEntriesToggleChanged(e){var n=this;return(0,o.A)((function*(){const t=yield x.CoreLoadings.show();try{n.filter.userid=e?n.currentUserId:void 0,yield n.fetchEntries(!0)}catch(t){T.CoreAlerts.showError(t,{default:v.HT.instant("addon.blog.errorloadentries")}),n.onlyMyEntries=!e,n.filter.userid=e?void 0:n.currentUserId}finally{t.dismiss()}}))()}isOnlineEntry(e){return"id"in e}loadMore(e){var n=this;return(0,o.A)((function*(){try{return yield n.fetchEntries(!1)}finally{null==e||e()}}))()}refresh(e=!0,n){var t=this;return(0,o.A)((function*(){const i=t.entries.map(function(){var e=(0,o.A)((function*(e){if(t.isOnlineEntry(e))return c.CoreComments.invalidateCommentsData("user",e.userid,t.component,e.id,"format_blog")}));return function(n){return e.apply(this,arguments)}}());i.push(a.hU.invalidateEntries(t.filter)),t.showMyEntriesToggle&&(t.filter.userid=t.currentUserId,i.push(a.hU.invalidateEntries(t.filter)),t.onlyMyEntries||delete t.filter.userid),yield h.g.allPromises(i),yield t.fetchEntries(!0,!1,e),null==n||n.complete()}))()}createNewEntry(){m.CoreNavigator.navigateToSitePath("blog/edit/0",{params:{cmId:this.filter.cmid,courseId:this.filter.courseid}})}deleteEntry(e){return(0,o.A)((function*(){try{yield T.CoreAlerts.confirmDelete(v.HT.instant("addon.blog.blogdeleteconfirm",{$a:e.subject}))}catch{return}const n=yield x.CoreLoadings.show();try{"id"in e&&e.id?yield a.hU.deleteEntry({entryid:e.id,subject:e.subject}):yield l.Q.deleteOfflineEntryRecord({created:e.created}),I.z.trigger(r.d4)}catch(e){T.CoreAlerts.showError(e,{default:v.HT.instant("addon.blog.errorloadentries")})}finally{n.dismiss()}}))()}showEntryActionsPopover(e,n){var i=this;return(0,o.A)((function*(){e.preventDefault(),e.stopPropagation();const{AddonBlogEntryOptionsMenuComponent:o}=yield t.e(76289).then(t.bind(t,76289));switch(yield C.CorePopovers.open({component:o,event:e})){case"edit":yield m.CoreNavigator.navigateToSitePath(`blog/edit/${i.isOnlineEntry(n)&&n.id?n.id:`new-${n.created}`}`,{params:i.filter.cmid?{cmId:i.filter.cmid,filters:i.filter,lastModified:n.lastmodified}:{filters:i.filter,lastModified:n.lastmodified}});break;case"delete":yield i.deleteEntry(n)}}))()}undoDelete(e){return(0,o.A)((function*(){yield l.Q.unmarkEntryAsRemoved("id"in e?e.id:e.created),I.z.trigger(r.d4)}))()}ngOnDestroy(){this.entryUpdateObserver.off(),this.syncObserver.off(),this.onlineObserver.unsubscribe()}}return(e=AddonBlogIndexPage).ɵfac=function AddonBlogIndexPage_Factory(n){return new(n||e)},e.ɵcmp=s.VBU({type:e,selectors:[["page-addon-blog-index"]],standalone:!0,features:[s.aNF],decls:26,vars:24,consts:[["slot","start"],[3,"text"],["slot","end"],[3,"action","hidden","priority","content","iconAction","closeOnClick"],[1,"limited-width"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"hideUntil"],[1,"ion-text-wrap"],[1,"core-warning-card"],[1,"entry","ion-padding-start","ion-padding-top","ion-padding-end",3,"id"],["icon","far-newspaper",3,"message"],[3,"action","enabled","error"],["slot","fixed","core-fab","","vertical","bottom","horizontal","end"],[3,"ngModelChange","ionChange","ngModel"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[1,"entry-subject","flex","ion-text-wrap","ion-justify-content-between","ion-align-items-center"],[3,"text","contextLevel","contextInstanceId","courseId","sanitize"],[1,"entry-draft"],["fill","clear",1,"entry-options",3,"ariaLabel"],["slot","end","fill","clear","color","danger",3,"ariaLabel"],[1,"entry-creation-info","flex","ion-align-items-center"],[1,"entry-avatar"],[3,"user","courseId"],[3,"innerHTML"],[1,"entry-summary",3,"collapsible-item"],[1,"ion-margin-bottom"],[3,"text","component","componentId","contextLevel","contextInstanceId","courseId","sanitize"],["lines","none",1,"ion-text-wrap"],[3,"files","component","componentId"],["core-link","","lines","none",3,"href","detail"],["lines","none",1,"entry-last-modification"],["area","format_blog","contextLevel","user",3,"component","itemId","instanceId","showItem","courseId","title"],["color","warning"],["color","light"],["name","fas-clock"],["fill","clear",1,"entry-options",3,"click","ariaLabel"],["slot","icon-only","aria-hidden","true","name","ellipsis-vertical"],["slot","end","fill","clear","color","danger",3,"click","ariaLabel"],["name","fas-rotate-left","slot","icon-only","aria-hidden","true"],[3,"tags"],["slot","start",1,"flex","ion-align-items-center"],["color","success","slot","end",1,"entry-visibility-permission"],["name","fas-eye"],[3,"click"],["name","fas-pen-to-square","aria-hidden","true"],[1,"sr-only"]],template:function AddonBlogIndexPage_Template(e,n){1&e&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-back-button",1),s.nI1(4,"translate"),s.k0s(),s.j41(5,"ion-title")(6,"h1"),s.EFF(7),s.nI1(8,"translate"),s.k0s()(),s.j41(9,"ion-buttons",2)(10,"core-context-menu")(11,"core-context-menu-item",3),s.nI1(12,"translate"),s.bIt("action",(function AddonBlogIndexPage_Template_core_context_menu_item_action_11_listener(){return n.fetchEntries(!0,!0,!0)})),s.k0s()(),s.nrm(13,"core-user-menu-button"),s.k0s()()(),s.j41(14,"ion-content",4)(15,"ion-refresher",5),s.bIt("ionRefresh",(function AddonBlogIndexPage_Template_ion_refresher_ionRefresh_15_listener(e){return n.refresh(!0,e.target)})),s.nrm(16,"ion-refresher-content",6),s.nI1(17,"translate"),s.k0s(),s.j41(18,"core-loading",7),s.DNE(19,AddonBlogIndexPage_Conditional_19_Template,4,4,"ion-item",8)(20,AddonBlogIndexPage_Conditional_20_Template,7,8,"ion-card",9),s.Z7z(21,AddonBlogIndexPage_For_22_Template,21,28,"div",10,_forTrack0,!0,AddonBlogIndexPage_ForEmpty_23_Template,2,3,"core-empty-box",11),s.j41(24,"core-infinite-loading",12),s.bIt("action",(function AddonBlogIndexPage_Template_core_infinite_loading_action_24_listener(e){return n.loadMore(e)})),s.k0s()(),s.DNE(25,AddonBlogIndexPage_Conditional_25_Template,7,6,"ion-fab",13),s.k0s()),2&e&&(s.R7$(3),s.Y8G("text",s.bMT(4,16,"core.back")),s.R7$(4),s.JRh(s.bMT(8,18,n.title)),s.R7$(4),s.Y8G("hidden",n.syncHidden())("priority",400)("content",s.bMT(12,20,"core.settings.synchronizenow"))("iconAction",n.syncIcon)("closeOnClick",!1),s.R7$(4),s.Y8G("disabled",!n.loaded()),s.R7$(),s.FS9("pullingText",s.bMT(17,22,"core.pulltorefresh")),s.R7$(2),s.Y8G("hideUntil",n.loaded()),s.R7$(),s.vxM(19,n.showMyEntriesToggle?19:-1),s.R7$(),s.vxM(20,n.hasOfflineDataToSync()?20:-1),s.R7$(),s.Dyx(n.entries),s.R7$(3),s.Y8G("enabled",n.canLoadMore)("error",n.loadMoreError),s.R7$(),s.vxM(25,(n.filter.userid===n.currentUserId||n.showMyEntriesToggle)&&n.loaded()&&n.optionsAvailable?25:-1))},dependencies:[P.n,O.BC,O.vS,R.In,R.Jm,R.QW,R.b_,R.W9,R.Q8,R.YW,R.eU,R.iq,R.uz,R.he,R.JI,R.To,R.Ki,R.BC,R.BY,R.ai,R.hB,R.el,F.B,B.Q,$.h,k.Y,j.b,w.R,N.T,G.A,L.t,U.B,D.j,S.K,Y.i,X.T,V.D9,H.Y,z.A,E.L,A.U,M.v],styles:["[_nghost-%COMP%]   .entry[_ngcontent-%COMP%]{border-bottom:1px solid var(--stroke)}[_nghost-%COMP%]   .entry-visibility-permission[_ngcontent-%COMP%]{display:flex;align-items:center;font:var(-mdl-typography-label-font-lg)}[_nghost-%COMP%]   .entry-visibility-permission[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:.3rem}[_nghost-%COMP%]   .entry-draft[_ngcontent-%COMP%]{margin-inline-start:.3rem;position:relative;top:4px}[_nghost-%COMP%]   .entry-subject[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{font:var(--mdl-typography-heading4-font)}[_nghost-%COMP%]   .entry-creation-info[_ngcontent-%COMP%]   .entry-avatar[_ngcontent-%COMP%]{margin-inline-start:0px;margin-inline-end:.6rem;margin-top:.6rem;margin-bottom:.6rem}[_nghost-%COMP%]   .entry-creation-info[_ngcontent-%COMP%]   core-user-avatar[_ngcontent-%COMP%]{--core-avatar-size: 24px}[_nghost-%COMP%]   .entry-last-modification[_ngcontent-%COMP%]{--padding-end: 0px;--padding-start: 0px;--padding-top: 0px;--padding-bottom: 0px}[_nghost-%COMP%]   .entry-last-modification[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-top:.9rem;font:var(-mdl-typography-label-font-lg)}[_nghost-%COMP%]   .entry-last-modification[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:.3rem}[_nghost-%COMP%]   ion-button.entry-options[_ngcontent-%COMP%]{--padding-end: 0px;--padding-start: 0px;--padding-top: 0px;--padding-bottom: 0px}[_nghost-%COMP%]   core-comments[_ngcontent-%COMP%]     ion-item{--inner-border-width: 1px 0px 0px 0px;--padding-start: 0px}"]}),AddonBlogIndexPage})()},25367:(e,n,t)=>{t.d(n,{v:()=>d});var o=t(15324),i=t(86654),r=t(54438),a=t(60177),l=t(2910);function CoreTagListComponent_ng_container_0_Template(e,n){if(1&e){const e=r.RV6();r.qex(0),r.j41(1,"ion-badge",1),r.bIt("click",(function CoreTagListComponent_ng_container_0_Template_ion_badge_click_1_listener(){const n=r.eBV(e).$implicit,t=r.XpG();return r.Njj(t.openTag(n))})),r.EFF(2),r.k0s(),r.bVm()}if(2&e){const e=n.$implicit;r.R7$(2),r.JRh(e.rawname)}}let d=(()=>{var e;class CoreTagListComponent{constructor(){this.tags=[]}openTag(e){o.CoreNavigator.navigateToSitePath("/tag/index",{params:{tagId:e.id,tagName:e.rawname,collectionId:e.tagcollid,fromContextId:e.taginstancecontextid}})}}return(e=CoreTagListComponent).ɵfac=function CoreTagListComponent_Factory(n){return new(n||e)},e.ɵcmp=r.VBU({type:e,selectors:[["core-tag-list"]],inputs:{tags:"tags"},standalone:!0,features:[r.aNF],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["role","link",1,"core-tag-list-tag",3,"click"]],template:function CoreTagListComponent_Template(e,n){1&e&&r.DNE(0,CoreTagListComponent_ng_container_0_Template,3,1,"ng-container",0),2&e&&r.Y8G("ngForOf",n.tags)},dependencies:[i.n,a.Sq,l.In],styles:["[_nghost-%COMP%]{line-height:1.6}[_nghost-%COMP%]   ion-badge[_ngcontent-%COMP%]{cursor:pointer;margin-left:4px;margin-right:4px}"]}),CoreTagListComponent})()}}]);