"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[16449,33499],{16449:(o,e,r)=>{r.r(e),r.d(e,{CoreCoursesCourseListItemComponent:()=>A});var n=r(10467),t=r(74431),s=r(23803),c=r(94247),i=r(98870),a=r(15324),u=r(52749),l=r(79555),C=r(55351),d=r(49882),_=r(66110),g=r(83219),p=r(33499),m=r(91416),h=r(24813),f=r(33014),O=r(9538),v=r(86123),b=r(25572),M=r(49588),P=r(86654),I=r(54438),E=r(60177),w=r(2910),T=r(15060),y=r(49234),x=r(10892),D=r(86198),S=r(58197),k=r(8199),L=r(43570),R=r(73955);const _c0=o=>[o];function CoreCoursesCourseListItemComponent_div_1_img_1_Template(o,e){if(1&o){const o=I.RV6();I.j41(0,"img",20),I.bIt("error",(function CoreCoursesCourseListItemComponent_div_1_img_1_Template_img_error_0_listener(){I.eBV(o);const e=I.XpG(2);return I.Njj(e.loadFallbackCourseIcon())})),I.k0s()}if(2&o){const o=I.XpG(2);I.Y8G("url",o.course.courseimage)}}function CoreCoursesCourseListItemComponent_div_1_ion_icon_2_Template(o,e){1&o&&I.nrm(0,"ion-icon",21)}function CoreCoursesCourseListItemComponent_div_1_Template(o,e){if(1&o&&(I.j41(0,"div",17),I.DNE(1,CoreCoursesCourseListItemComponent_div_1_img_1_Template,1,1,"img",18)(2,CoreCoursesCourseListItemComponent_div_1_ion_icon_2_Template,1,0,"ion-icon",19),I.k0s()),2&o){const o=I.XpG();I.AVh("core-course-color-img",o.course.courseimage),I.R7$(),I.Y8G("ngIf",o.course.courseimage),I.R7$(),I.Y8G("ngIf",!o.course.courseimage)}}function CoreCoursesCourseListItemComponent_ng_container_3_ion_icon_1_Template(o,e){1&o&&I.nrm(0,"ion-icon",24)}function CoreCoursesCourseListItemComponent_ng_container_3_ion_avatar_2_Template(o,e){if(1&o){const o=I.RV6();I.j41(0,"ion-avatar",25)(1,"img",20),I.bIt("error",(function CoreCoursesCourseListItemComponent_ng_container_3_ion_avatar_2_Template_img_error_1_listener(){I.eBV(o);const e=I.XpG(2);return I.Njj(e.loadFallbackCourseIcon())})),I.k0s()()}if(2&o){const o=I.XpG(2);I.R7$(),I.Y8G("url",o.course.courseimage)}}function CoreCoursesCourseListItemComponent_ng_container_3_Template(o,e){if(1&o&&(I.qex(0),I.DNE(1,CoreCoursesCourseListItemComponent_ng_container_3_ion_icon_1_Template,1,0,"ion-icon",22)(2,CoreCoursesCourseListItemComponent_ng_container_3_ion_avatar_2_Template,2,1,"ion-avatar",23),I.bVm()),2&o){const o=I.XpG();I.R7$(),I.Y8G("ngIf",!o.course.courseimage),I.R7$(),I.Y8G("ngIf",o.course.courseimage)}}function CoreCoursesCourseListItemComponent_p_6_Template(o,e){if(1&o&&(I.j41(0,"p",26),I.nrm(1,"core-format-text",11),I.k0s()),2&o){const o=I.XpG();I.R7$(),I.Y8G("text",o.course.shortname)("contextInstanceId",o.course.id)}}function CoreCoursesCourseListItemComponent_ion_icon_8_Template(o,e){1&o&&(I.nrm(0,"ion-icon",27),I.nI1(1,"translate")),2&o&&I.BMQ("aria-label",I.bMT(1,1,"core.courses.favourite"))}function CoreCoursesCourseListItemComponent_span_9_Template(o,e){1&o&&(I.j41(0,"span",10),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&o&&(I.R7$(),I.JRh(I.bMT(2,1,"core.courses.aria:favourite")))}function CoreCoursesCourseListItemComponent_span_15_ion_icon_1_Template(o,e){if(1&o&&(I.nrm(0,"ion-icon",30),I.nI1(1,"translate"),I.nI1(2,"translate")),2&o){const o=e.$implicit;I.Y8G("name",o.icon)("title",I.bMT(1,4,o.label))("ngClass",I.eq3(8,_c0,o.className)),I.BMQ("aria-label",I.bMT(2,6,o.label))}}function CoreCoursesCourseListItemComponent_span_15_Template(o,e){if(1&o&&(I.j41(0,"span",28),I.DNE(1,CoreCoursesCourseListItemComponent_span_15_ion_icon_1_Template,3,10,"ion-icon",29),I.k0s()),2&o){const o=I.XpG();I.R7$(),I.Y8G("ngForOf",o.enrolmentIcons)}}function CoreCoursesCourseListItemComponent_ion_icon_16_Template(o,e){1&o&&(I.nrm(0,"ion-icon",31),I.nI1(1,"translate")),2&o&&I.BMQ("aria-label",I.bMT(1,1,"core.downloaded"))}function CoreCoursesCourseListItemComponent_ion_chip_17_Template(o,e){if(1&o&&(I.j41(0,"ion-chip",32)(1,"span",10),I.EFF(2),I.nI1(3,"translate"),I.k0s(),I.j41(4,"ion-label"),I.nrm(5,"core-format-text",33),I.k0s()()),2&o){const o=I.XpG();I.R7$(2),I.JRh(I.bMT(3,3,"core.courses.aria:coursecategory")),I.R7$(3),I.Y8G("text",o.course.categoryname)("contextInstanceId",o.course.categoryid)}}function CoreCoursesCourseListItemComponent_ion_chip_18_Template(o,e){1&o&&(I.j41(0,"ion-chip",34)(1,"ion-label"),I.EFF(2),I.nI1(3,"translate"),I.k0s()()),2&o&&(I.R7$(2),I.SpI(" ",I.bMT(3,1,"core.course.hiddenfromstudents")," "))}function CoreCoursesCourseListItemComponent_div_19_Template(o,e){if(1&o&&(I.j41(0,"div",35),I.nrm(1,"core-progress-bar",36),I.k0s()),2&o){const o=I.XpG();I.R7$(),I.Y8G("progress",o.progress)}}function CoreCoursesCourseListItemComponent_ng_container_20_div_1_Template(o,e){if(1&o){const o=I.RV6();I.j41(0,"div",38)(1,"core-download-refresh",39),I.bIt("action",(function CoreCoursesCourseListItemComponent_ng_container_20_div_1_Template_core_download_refresh_action_1_listener(){I.eBV(o);const e=I.XpG(2);return I.Njj(e.prefetchCourse())})),I.k0s()()}if(2&o){const o=I.XpG(2);I.R7$(),I.Y8G("status",o.prefetchCourseData.status)("enabled",o.showDownload)("statusesTranslatable",o.statusesTranslatable)("canTrustDownload",!1)("loading",o.prefetchCourseData.loading)}}function CoreCoursesCourseListItemComponent_ng_container_20_div_2_ion_button_1_Template(o,e){if(1&o){const o=I.RV6();I.j41(0,"ion-button",41),I.nI1(1,"translate"),I.bIt("click",(function CoreCoursesCourseListItemComponent_ng_container_20_div_2_ion_button_1_Template_ion_button_click_0_listener(e){I.eBV(o);const r=I.XpG(3);return I.Njj(r.showCourseOptionsMenu(e))})),I.nrm(2,"ion-icon",42),I.k0s()}2&o&&I.Y8G("ariaLabel",I.bMT(1,1,"core.displayoptions"))}function CoreCoursesCourseListItemComponent_ng_container_20_div_2_ion_spinner_2_Template(o,e){1&o&&(I.nrm(0,"ion-spinner"),I.nI1(1,"translate")),2&o&&I.BMQ("aria-label",I.bMT(1,1,"core.loading"))}function CoreCoursesCourseListItemComponent_ng_container_20_div_2_Template(o,e){if(1&o&&(I.j41(0,"div",38),I.DNE(1,CoreCoursesCourseListItemComponent_ng_container_20_div_2_ion_button_1_Template,3,3,"ion-button",40)(2,CoreCoursesCourseListItemComponent_ng_container_20_div_2_ion_spinner_2_Template,2,3,"ion-spinner",3),I.k0s()),2&o){const o=I.XpG(2);I.R7$(),I.Y8G("ngIf",!o.showSpinner),I.R7$(),I.Y8G("ngIf",o.showSpinner)}}function CoreCoursesCourseListItemComponent_ng_container_20_Template(o,e){if(1&o&&(I.qex(0),I.DNE(1,CoreCoursesCourseListItemComponent_ng_container_20_div_1_Template,2,5,"div",37)(2,CoreCoursesCourseListItemComponent_ng_container_20_div_2_Template,3,2,"div",37),I.bVm()),2&o){const o=I.XpG();I.R7$(),I.Y8G("ngIf",!o.courseOptionMenuEnabled&&o.showDownload),I.R7$(),I.Y8G("ngIf",o.courseOptionMenuEnabled)}}let A=(()=>{var o;class CoreCoursesCourseListItemComponent{get courseId(){return this.course.id}constructor(o){this.showDownload=!1,this.layout="listwithenrol",this.enrolmentIcons=[],this.isEnrolled=!1,this.prefetchCourseData={icon:"",statusTranslatable:"core.loading",status:t.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,loading:!0},this.statusesTranslatable={downloaded:"core.course.refreshcourse",notdownloaded:"core.course.downloadcourse",outdated:"core.course.downloadcourse"},this.showSpinner=!1,this.courseOptionMenuEnabled=!1,this.progress=-1,this.completionUserTracked=!1,this.courseStatus=t.DownloadStatus.DOWNLOADABLE_NOT_DOWNLOADED,this.isDestroyed=!1,this.element=o.nativeElement;const e=u.CoreSites.getCurrentSiteId();this.progressObserver=d.z.on(v.CORE_COURSE_PROGRESS_UPDATED_EVENT,(o=>{var e;this.course&&this.course.id===o.courseId&&"progress"in this.course&&(this.course.progress=o.progress,this.progress=null!==(e=this.course.progress)&&void 0!==e?e:void 0)}),e)}ngOnInit(){var o=this;return(0,n.A)((function*(){if(o.setCourseColor(),o.isEnrolled="listwithenrol"!==o.layout||void 0!==o.course.progress,!o.isEnrolled)try{const e=yield _.CoreCourses.getUserCourse(o.course.id);o.course=Object.assign(o.course,e),o.updateCourseFields(),o.isEnrolled=!0}catch{o.isEnrolled=!1}o.isEnrolled?(o.courseOptionMenuEnabled="listwithenrol"!=o.layout&&"summarycard"!=o.layout&&void 0!==o.course.isfavourite,o.initPrefetchCourse()):"enrollmentmethods"in o.course&&(o.enrolmentIcons=yield p.CoreEnrolHelper.getEnrolmentIcons(o.course.enrollmentmethods,o.course.id))}))()}loadFallbackCourseIcon(){this.course.courseimage=void 0,this.setCourseColor()}setCourseColor(){var o=this;return(0,n.A)((function*(){if(yield g.CoreCoursesHelper.loadCourseColorAndImage(o.course),o.course.color){o.element.style.setProperty("--course-color",o.course.color);const e=C.a.lighter(o.course.color,50);o.element.style.setProperty("--course-color-tint",e)}else void 0!==o.course.colorNumber&&o.element.classList.add(`course-color-${o.course.colorNumber}`)}))()}ngOnChanges(){this.initPrefetchCourse(),this.updateCourseFields()}updateCourseFields(){this.progress="progress"in this.course&&"number"==typeof this.course.progress?this.course.progress:-1,this.completionUserTracked="completionusertracked"in this.course&&this.course.completionusertracked}openCourse(){this.isEnrolled?c.CoreCourseHelper.openCourse(this.course,{params:{isGuest:!1}}):a.CoreNavigator.navigateToSitePath(`/course/${this.course.id}/summary`,{params:{course:this.course}})}initPrefetchCourse(){var o=this;return(0,n.A)((function*(){if(!o.isEnrolled||!o.showDownload)return;if(void 0!==o.courseStatusObserver)return;o.courseStatusObserver=d.z.on(v.COURSE_STATUS_CHANGED_EVENT,(e=>{e.courseId!=o.course.id&&e.courseId!==v.CORE_COURSE_ALL_COURSES_CLEARED||o.updateCourseStatus(e.status)}),u.CoreSites.getCurrentSiteId());const e=yield s.CoreCourseDownloadStatusHelper.getCourseStatus(o.course.id);if(o.updateCourseStatus(e),o.prefetchCourseData.loading){const e=c.CoreCourseHelper.getCourseDownloadPromise(o.course.id);e?e.catch((e=>{o.isDestroyed||b.CoreAlerts.showError(e,{default:l.HT.instant("core.course.errordownloadingcourse")})})):s.CoreCourseDownloadStatusHelper.setCoursePreviousStatus(o.course.id)}}))()}updateCourseStatus(o){const e=c.CoreCourseHelper.getCoursePrefetchStatusInfo(o);this.courseStatus=o,this.prefetchCourseData.status=e.status,this.prefetchCourseData.icon=e.icon,this.prefetchCourseData.statusTranslatable=e.statusTranslatable,this.prefetchCourseData.loading=e.loading,this.prefetchCourseData.downloadSucceeded=o===t.DownloadStatus.DOWNLOADED}prefetchCourse(o){var e=this;return(0,n.A)((function*(){null==o||o.preventDefault(),null==o||o.stopPropagation();try{yield c.CoreCourseHelper.confirmAndPrefetchCourse(e.prefetchCourseData,e.course)}catch(o){e.isDestroyed||b.CoreAlerts.showError(o,{default:l.HT.instant("core.course.errordownloadingcourse")})}}))()}deleteCourseStoredData(){var o=this;return(0,n.A)((function*(){try{yield b.CoreAlerts.confirmDelete(l.HT.instant("addon.storagemanager.confirmdeletedatafrom",{name:o.course.displayname||o.course.fullname}))}catch(o){if(!M.CoreErrorHelper.isCanceledError(o))throw o;return}const e=yield f.CoreLoadings.show();try{yield c.CoreCourseHelper.deleteCourseFiles(o.course.id)}catch(o){b.CoreAlerts.showError(o,{default:l.HT.instant("core.errordeletefile")})}finally{e.dismiss()}}))()}showCourseOptionsMenu(o){var e=this;return(0,n.A)((function*(){o.preventDefault(),o.stopPropagation(),e.initPrefetchCourse();const{CoreCoursesCourseOptionsMenuComponent:n}=yield r.e(79363).then(r.bind(r,79363));switch(yield h.CorePopovers.open({component:n,componentProps:{course:e.course,prefetch:e.prefetchCourseData},event:o})){case"download":e.prefetchCourseData.loading||e.prefetchCourse(o);break;case"delete":e.courseStatus!==t.DownloadStatus.DOWNLOADED&&e.courseStatus!==t.DownloadStatus.OUTDATED||e.deleteCourseStoredData();break;case"hide":e.setCourseHidden(!0);break;case"show":e.setCourseHidden(!1);break;case"favourite":e.setCourseFavourite(!0);break;case"unfavourite":e.setCourseFavourite(!1)}}))()}setCourseHidden(o){var e=this;return(0,n.A)((function*(){e.showSpinner=!0;try{yield i.CoreUser.updateUserPreference(`block_myoverview_hidden_course_${e.course.id}`,o?"1":void 0),e.course.hidden=o,e.course.hidden=o,d.z.trigger(O.CORE_COURSES_MY_COURSES_UPDATED_EVENT,{courseId:e.course.id,course:e.course,action:O.CoreCoursesMyCoursesUpdatedEventAction.STATE_CHANGED,state:O.CORE_COURSES_STATE_HIDDEN,value:o},u.CoreSites.getCurrentSiteId())}catch(o){e.isDestroyed||b.CoreAlerts.showError(o,{default:"Error changing course visibility."})}finally{e.showSpinner=!1}}))()}setCourseFavourite(o){var e=this;return(0,n.A)((function*(){e.showSpinner=!0;try{yield _.CoreCourses.setFavouriteCourse(e.course.id,o),e.course.isfavourite=o,d.z.trigger(O.CORE_COURSES_MY_COURSES_UPDATED_EVENT,{courseId:e.course.id,course:e.course,action:O.CoreCoursesMyCoursesUpdatedEventAction.STATE_CHANGED,state:O.CORE_COURSES_STATE_FAVOURITE,value:o},u.CoreSites.getCurrentSiteId())}catch(o){e.isDestroyed||b.CoreAlerts.showError(o,{default:"Error changing course favourite attribute."})}finally{e.showSpinner=!1}}))()}ngOnDestroy(){var o;this.isDestroyed=!0,null===(o=this.courseStatusObserver)||void 0===o||o.off(),this.progressObserver.off()}}return(o=CoreCoursesCourseListItemComponent).ɵfac=function CoreCoursesCourseListItemComponent_Factory(e){return new(e||o)(I.rXU(I.aKT))},o.ɵcmp=I.VBU({type:o,selectors:[["core-courses-course-list-item"]],hostVars:1,hostBindings:function CoreCoursesCourseListItemComponent_HostBindings(o,e){2&o&&I.BMQ("data-course-id",e.courseId)},inputs:{course:"course",showDownload:[I.Mj6.HasDecoratorInputTransform,"showDownload","showDownload",m.G],layout:"layout"},standalone:!0,features:[I.GFd,I.OA$,I.aNF],decls:22,vars:23,consts:[["tappable","",1,"ion-activatable",3,"click"],["class","core-course-thumb",3,"core-course-color-img",4,"ngIf"],[1,"ion-text-wrap"],[4,"ngIf"],[1,"core-course-maininfo"],["class","core-course-shortname core-course-additional-info",4,"ngIf"],[1,"item-heading"],["name","fas-star",4,"ngIf"],["class","sr-only",4,"ngIf"],[3,"ariaButtonClick"],[1,"sr-only"],["contextLevel","course",3,"text","contextInstanceId"],["class","core-course-enrol-icons",4,"ngIf"],["class","core-icon-downloaded","name","fam-cloud-done","color","success","role","status",4,"ngIf"],["color","primary","class","core-course-category core-course-additional-info ion-text-nowrap",4,"ngIf"],["color","info","class","core-course-additional-info ion-text-wrap core-course-hidden-message",4,"ngIf"],["class","core-course-progress",4,"ngIf"],[1,"core-course-thumb"],["core-external-content","","alt","",3,"url","error",4,"ngIf"],["name","fas-graduation-cap","class","course-icon","aria-hidden","true",4,"ngIf"],["core-external-content","","alt","",3,"error","url"],["name","fas-graduation-cap","aria-hidden","true",1,"course-icon"],["name","fas-graduation-cap","slot","start","class","course-icon core-course-thumb","aria-hidden","true",4,"ngIf"],["slot","start","class","core-course-thumb",4,"ngIf"],["name","fas-graduation-cap","slot","start","aria-hidden","true",1,"course-icon","core-course-thumb"],["slot","start",1,"core-course-thumb"],[1,"core-course-shortname","core-course-additional-info"],["name","fas-star"],[1,"core-course-enrol-icons"],["color","medium",3,"name","title","ngClass",4,"ngFor","ngForOf"],["color","medium",3,"name","title","ngClass"],["name","fam-cloud-done","color","success","role","status",1,"core-icon-downloaded"],["color","primary",1,"core-course-category","core-course-additional-info","ion-text-nowrap"],["contextLevel","coursecat",3,"text","contextInstanceId"],["color","info",1,"core-course-additional-info","ion-text-wrap","core-course-hidden-message"],[1,"core-course-progress"],["a11yText","core.courses.aria:courseprogress",3,"progress"],["class","core-button-spinner",4,"ngIf"],[1,"core-button-spinner"],[3,"action","status","enabled","statusesTranslatable","canTrustDownload","loading"],["fill","clear",3,"ariaLabel","click",4,"ngIf"],["fill","clear",3,"click","ariaLabel"],["name","ellipsis-vertical","slot","icon-only","aria-hidden","true"]],template:function CoreCoursesCourseListItemComponent_Template(o,e){1&o&&(I.j41(0,"ion-card",0),I.bIt("click",(function CoreCoursesCourseListItemComponent_Template_ion_card_click_0_listener(){return e.openCourse()})),I.DNE(1,CoreCoursesCourseListItemComponent_div_1_Template,3,4,"div",1),I.j41(2,"ion-item",2),I.DNE(3,CoreCoursesCourseListItemComponent_ng_container_3_Template,3,2,"ng-container",3),I.j41(4,"ion-label")(5,"div",4),I.DNE(6,CoreCoursesCourseListItemComponent_p_6_Template,2,2,"p",5),I.j41(7,"p",6),I.DNE(8,CoreCoursesCourseListItemComponent_ion_icon_8_Template,2,3,"ion-icon",7)(9,CoreCoursesCourseListItemComponent_span_9_Template,3,3,"span",8),I.j41(10,"span",9),I.bIt("ariaButtonClick",(function CoreCoursesCourseListItemComponent_Template_span_ariaButtonClick_10_listener(){return e.openCourse()})),I.j41(11,"span",10),I.EFF(12),I.nI1(13,"translate"),I.k0s(),I.nrm(14,"core-format-text",11),I.k0s(),I.DNE(15,CoreCoursesCourseListItemComponent_span_15_Template,2,1,"span",12)(16,CoreCoursesCourseListItemComponent_ion_icon_16_Template,2,3,"ion-icon",13),I.k0s(),I.DNE(17,CoreCoursesCourseListItemComponent_ion_chip_17_Template,6,5,"ion-chip",14)(18,CoreCoursesCourseListItemComponent_ion_chip_18_Template,4,3,"ion-chip",15),I.k0s(),I.DNE(19,CoreCoursesCourseListItemComponent_div_19_Template,2,1,"div",16),I.k0s()(),I.DNE(20,CoreCoursesCourseListItemComponent_ng_container_20_Template,3,2,"ng-container",3),I.nrm(21,"ion-ripple-effect"),I.k0s()),2&o&&(I.AVh("core-course-list-item","list"===e.layout||"listwithenrol"===e.layout)("core-course-list-card","card"===e.layout||"summarycard"===e.layout)("item-dimmed",e.course.hidden),I.BMQ("aria-label",e.course.displayname||e.course.fullname),I.R7$(),I.Y8G("ngIf","card"===e.layout||"summarycard"===e.layout),I.R7$(2),I.Y8G("ngIf","list"===e.layout||"listwithenrol"===e.layout),I.R7$(3),I.Y8G("ngIf",e.course.displayname&&e.course.shortname&&e.course.fullname!==e.course.displayname),I.R7$(2),I.Y8G("ngIf",e.course.isfavourite),I.R7$(),I.Y8G("ngIf",e.course.isfavourite),I.R7$(3),I.JRh(I.bMT(13,21,"core.courses.aria:coursename")),I.R7$(2),I.Y8G("text",e.course.fullname)("contextInstanceId",e.course.id),I.R7$(),I.Y8G("ngIf",("list"===e.layout||"listwithenrol"===e.layout)&&!e.isEnrolled),I.R7$(),I.Y8G("ngIf",e.prefetchCourseData.downloadSucceeded),I.R7$(),I.Y8G("ngIf",e.course.categoryname),I.R7$(),I.Y8G("ngIf",0===e.course.visible),I.R7$(),I.Y8G("ngIf","summarycard"!==e.layout&&e.isEnrolled&&e.progress>=0&&!1!==e.completionUserTracked),I.R7$(),I.Y8G("ngIf",e.isEnrolled&&"summarycard"!==e.layout))},dependencies:[P.n,E.YU,E.Sq,E.bT,w.mC,w.Jm,w.b_,w.ZB,w.iq,w.uz,w.he,w.S7,w.w2,T.Y,y.z,x.l,D.t,S.B,k.a,L.T,R.D9],styles:['[_nghost-%COMP%]{--avatar-radius: var(--core-courseimage-radius);--avatar-size: 60px;--avatar-margin: 16px;--card-vertical-margin: 8px;--card-radius: 12px;--shortname-size: 12px;--button-size: 44px;--button-padding: 10px;--button-radius: 50%;--button-background: rgb(255 255 255 / 50%)}.course-color-0[_nghost-%COMP%]{--course-color: var(--core-course-color-0);--course-color-tint: var(--core-course-color-0-tint)}.course-color-1[_nghost-%COMP%]{--course-color: var(--core-course-color-1);--course-color-tint: var(--core-course-color-1-tint)}.course-color-2[_nghost-%COMP%]{--course-color: var(--core-course-color-2);--course-color-tint: var(--core-course-color-2-tint)}.course-color-3[_nghost-%COMP%]{--course-color: var(--core-course-color-3);--course-color-tint: var(--core-course-color-3-tint)}.course-color-4[_nghost-%COMP%]{--course-color: var(--core-course-color-4);--course-color-tint: var(--core-course-color-4-tint)}.course-color-5[_nghost-%COMP%]{--course-color: var(--core-course-color-5);--course-color-tint: var(--core-course-color-5-tint)}.course-color-6[_nghost-%COMP%]{--course-color: var(--core-course-color-6);--course-color-tint: var(--core-course-color-6-tint)}.course-color-7[_nghost-%COMP%]{--course-color: var(--core-course-color-7);--course-color-tint: var(--core-course-color-7-tint)}.course-color-8[_nghost-%COMP%]{--course-color: var(--core-course-color-8);--course-color-tint: var(--core-course-color-8-tint)}.course-color-9[_nghost-%COMP%]{--course-color: var(--core-course-color-9);--course-color-tint: var(--core-course-color-9-tint)}@media (max-width: 767.98px){[_nghost-%COMP%]{--avatar-size: 48px;--avatar-margin: 12px}}:root.dark[_nghost-%COMP%], :root.dark   [_nghost-%COMP%]{--button-background: rgb(0 0 0 / 30%)}.item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:4px;color:var(--core-star-color)}button[_ngcontent-%COMP%]{z-index:1}ion-card[_ngcontent-%COMP%]{--border-radius: var(--card-radius)}ion-card[_ngcontent-%COMP%]   ion-ripple-effect[_ngcontent-%COMP%]{z-index:1}.core-button-spinner[_ngcontent-%COMP%]{margin:0;position:absolute;top:8px;display:flex;flex-direction:column;align-items:center;z-index:2}@supports (inset-inline-start: 0){.core-button-spinner[_ngcontent-%COMP%]{inset-inline-end:8px}}@supports not (inset-inline-start: 0){.core-button-spinner[_ngcontent-%COMP%]{right:8px}[dir=rtl][_nghost-%COMP%]   .core-button-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .core-button-spinner[_ngcontent-%COMP%]{left:unset;right:unset;left:8px}[dir=rtl][_ngcontent-%COMP%]   .core-button-spinner[_ngcontent-%COMP%]{left:unset;right:unset;left:8px}@supports selector(:dir(rtl)){.core-button-spinner[_ngcontent-%COMP%]:dir(rtl){left:unset;right:unset;left:8px}}}.core-button-spinner[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-top:4px}.core-button-spinner[_ngcontent-%COMP%]     ion-button{--border-radius: var(--button-radius);--background: var(--button-background);--padding-top: var(--button-padding);--padding-end: var(--button-padding);--padding-bottom: var(--button-padding);--padding-start: var(--button-padding);width:var(--button-size);height:var(--button-size);margin:0}.core-button-spinner[_ngcontent-%COMP%]     ion-button::part(native){background:var(--background)}.core-button-spinner[_ngcontent-%COMP%]   core-download-refresh[_ngcontent-%COMP%]     .core-icon-downloaded{display:none}.core-course-enrol-icons[_ngcontent-%COMP%], .core-icon-downloaded[_ngcontent-%COMP%]{margin-inline-start:4px;margin-inline-end:0px}.core-course-shortname[_ngcontent-%COMP%]{font-size:var(--shortname-size);color:var(--dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ion-chip[_ngcontent-%COMP%]{margin-top:8px;margin-left:0;margin-right:0;max-width:100%}ion-chip.core-course-category[_ngcontent-%COMP%]{margin-inline-start:0px;margin-inline-end:8px}ion-card.core-course-list-item[_ngcontent-%COMP%]{max-width:var(--list-item-max-width)}ion-card.core-course-list-item[_ngcontent-%COMP%]   ion-icon.course-icon[_ngcontent-%COMP%]{padding:12px;font-size:calc(var(--avatar-size) - 24px);border-radius:var(--avatar-radius);color:var(--course-color-tint);background:var(--course-color, transparent)}ion-card.core-course-list-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{--border-radius: var(--avatar-radius);width:var(--avatar-size);height:var(--avatar-size)}ion-card.core-course-list-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:transparent}ion-card.core-course-list-item[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){--padding-start: var(--avatar-margin)}ion-card.core-course-list-item[_ngcontent-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]{margin-inline-end:var(--avatar-margin);margin-top:var(--avatar-margin);margin-bottom:var(--avatar-margin)}ion-card.core-course-list-item[_ngcontent-%COMP%]   .core-course-maininfo[_ngcontent-%COMP%]{margin-inline-end:32px}.core-course-thumb[_ngcontent-%COMP%]   img[src$=".svg"][_ngcontent-%COMP%]{min-width:100%}ion-card.core-course-list-card[_ngcontent-%COMP%]{height:calc(100% - var(--card-vertical-margin) - var(--card-vertical-margin));margin-top:var(--card-vertical-margin);margin-bottom:var(--card-vertical-margin)}ion-card.core-course-list-card[_ngcontent-%COMP%]::part(native){display:flex;flex-direction:column;align-items:stretch;height:100%}ion-card.core-course-list-card[_ngcontent-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]{background:var(--course-color, white);padding-top:40%;width:100%;overflow:hidden;cursor:pointer;pointer-events:auto;position:relative;background-position:center;background-size:cover}ion-card.core-course-list-card[_ngcontent-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]   ion-icon.course-icon[_ngcontent-%COMP%]{color:#fff;opacity:.5;position:absolute;left:0;right:0;top:50%;bottom:0;width:80px;height:80px;margin:0 auto;transform:translateY(-50%)}ion-card.core-course-list-card[_ngcontent-%COMP%]   .core-course-thumb.core-course-color-img[_ngcontent-%COMP%]{background:var(--ion-item-background)}ion-card.core-course-list-card[_ngcontent-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;right:0;left:0;margin:auto}ion-card.core-course-list-card[_ngcontent-%COMP%]   .core-course-shortname[_ngcontent-%COMP%]{margin-bottom:8px}ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){flex-grow:1;align-items:self-start}ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{margin:16px 0;display:flex;flex-direction:column;align-items:flex-start;align-self:stretch;flex-grow:1}ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width: 767.98px){@supports (-webkit-line-clamp: 2){ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;white-space:normal}}}ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .core-course-maininfo[_ngcontent-%COMP%]{flex-grow:1;max-width:100%}ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .core-course-progress[_ngcontent-%COMP%]{align-self:stretch}.core-horizontal-scroll[_nghost-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]{flex:0 0 80%;min-width:250px;max-width:300px;align-self:stretch;display:block}.core-horizontal-scroll[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{--vertical-spacing: 10px;--horizontal-spacing: 10px;width:calc(100% - var(--horizontal-spacing) - var(--horizontal-spacing));height:calc(100% - var(--vertical-spacing) - var(--vertical-spacing));margin:var(--vertical-spacing) var(--horizontal-spacing)}@media (max-width: 360px){.core-horizontal-scroll[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{--horizontal-spacing: 6px}}.core-horizontal-scroll[_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   .core-course-thumb[_ngcontent-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]{padding-top:30%}.core-horizontal-scroll[_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 8px;--inner-padding-end: 8px}.core-horizontal-scroll[_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{margin:8px 0}.core-horizontal-scroll[_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]{display:block}.core-horizontal-scroll[_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], .core-horizontal-scroll   [_nghost-%COMP%]   ion-card.core-course-list-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:2px}']}),CoreCoursesCourseListItemComponent})()},33499:(o,e,r)=>{r.r(e),r.d(e,{CoreEnrolHelper:()=>C,CoreEnrolHelperService:()=>l});var n=r(10467),t=r(79555),s=r(59656),c=r(81690),i=r(4838),a=r(24502),u=r(54438);let l=(()=>{var o;class CoreEnrolHelperService{getEnrolmentIcons(o,e){return(0,n.A)((function*(){o=a.R.unique(o);let r=[],t=!1;const c=o.map(function(){var o=(0,n.A)((function*(o){const n=yield s.CoreEnrolDelegate.getInfoIcons(o,e);if(n.length)return r=r.concat(n),void 0;const c=s.CoreEnrolDelegate.getEnrolmentAction(o);t=t||c===s.CoreEnrolAction.BROWSER}));return function(e){return o.apply(this,arguments)}}());return yield Promise.all(c),t&&r.push({className:"enrol_browser",label:"core.courses.otherenrolments",icon:"fas-up-right-from-square"}),0==r.length&&r.push({className:"enrol_locked",label:"core.courses.notenrollable",icon:"fas-lock"}),r}))()}getEnrolmentsByType(o,e){return(0,n.A)((function*(){const r=yield i.CoreEnrol.getCourseEnrolmentMethods(o),n=[],t=[];let a=!1,u=!1;return r.forEach((o=>{if(!c.j.isTrueOrOne(o.status))return;switch(s.CoreEnrolDelegate.getEnrolmentAction(o.type)){case s.CoreEnrolAction.SELF:n.push(o);break;case s.CoreEnrolAction.GUEST:t.push(o);break;case s.CoreEnrolAction.BROWSER:a=!0;break;case s.CoreEnrolAction.NOT_SUPPORTED:u=!0}})),null==e||e.forEach((o=>{if(r.some((e=>e.type===o)))return;const e=s.CoreEnrolDelegate.getEnrolmentAction(o);a=a||e===s.CoreEnrolAction.BROWSER,u=u||e===s.CoreEnrolAction.NOT_SUPPORTED})),{self:n,guest:t,hasBrowser:a,hasNotSupported:u}}))()}}return(o=CoreEnrolHelperService).ɵfac=function CoreEnrolHelperService_Factory(e){return new(e||o)},o.ɵprov=u.jDH({token:o,factory:o.ɵfac,providedIn:"root"}),CoreEnrolHelperService})();const C=(0,t.Qd)(l)}}]);