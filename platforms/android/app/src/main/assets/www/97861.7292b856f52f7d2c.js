"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[97861],{97861:(e,n,o)=>{o.r(n),o.d(n,{default:()=>O});var t=o(10467),a=o(44682),_=o(2910),i=o(94455),c=o(15324),r=o(52749),d=o(81690),g=o(79555),l=o(49882),m=o(4593),s=o(2538),p=o(99073),f=o(22693),u=o(19634),b=o(33014),F=o(75629),k=o(55554),I=o(43411),h=o(58364),P=o(25572),M=o(86654),T=o(10883),A=o(54438),v=o(60177),x=o(89417),R=o(64422),G=o(17778),$=o(62398),C=o(4060),y=o(86198),w=o(58197),N=o(66731),E=o(88246),Y=o(43570),j=o(73955);const _c0=e=>({item:e}),_c1=e=>({header:e});function AddonModFeedbackFormPage_ng_container_10_p_7_Template(e,n){1&e&&(A.j41(0,"p"),A.EFF(1),A.nI1(2,"translate"),A.k0s()),2&e&&(A.R7$(),A.JRh(A.bMT(2,1,"addon.mod_feedback.anonymous")))}function AddonModFeedbackFormPage_ng_container_10_p_8_Template(e,n){1&e&&(A.j41(0,"p"),A.EFF(1),A.nI1(2,"translate"),A.k0s()),2&e&&(A.R7$(),A.JRh(A.bMT(2,1,"addon.mod_feedback.non_anonymous")))}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_core_spacer_1_Template(e,n){1&e&&A.nrm(0,"core-spacer")}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_label_2_ng_container_1_Template(e,n){1&e&&A.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_label_2_p_2_Template(e,n){if(1&e&&(A.j41(0,"p"),A.nrm(1,"core-format-text",20),A.k0s()),2&e){const e=A.XpG(3).$implicit,n=A.XpG(2);A.R7$(),A.Y8G("component",n.component)("componentId",n.cmId)("text",e.presentation)("contextInstanceId",n.cmId)("wsNotFiltered",!0)("courseId",n.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_label_2_Template(e,n){if(1&e&&(A.j41(0,"ion-label"),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_label_2_ng_container_1_Template,1,0,"ng-container",19)(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_label_2_p_2_Template,2,6,"p",6),A.k0s()),2&e){const e=A.XpG(2).$implicit;A.XpG(2);const n=A.sdS(14);A.R7$(),A.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",A.eq3(3,_c0,e)),A.R7$(),A.Y8G("ngIf","label"===e.templateName)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_input_3_ng_container_1_Template(e,n){1&e&&A.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_input_3_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-input",21),A.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_input_3_Template_ion_input_ngModelChange_0_listener(n){A.eBV(e);const o=A.XpG(2).$implicit;return A.DH7(o.value,n)||(o.value=n),A.Njj(n)})),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_input_3_ng_container_1_Template,1,0,"ng-container",19),A.k0s()}if(2&e){const e=A.XpG(2).$implicit;A.XpG(2);const n=A.sdS(14);A.FCK("name","",e.typ,"_",e.id,""),A.FS9("maxlength",e.length),A.R50("ngModel",e.value),A.Y8G("required",e.required),A.R7$(),A.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",A.eq3(8,_c0,e))}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_ng_container_2_Template(e,n){1&e&&A.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_ion_text_3_span_3_Template(e,n){1&e&&(A.j41(0,"span"),A.EFF(1,", "),A.k0s())}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_ion_text_3_Template(e,n){if(1&e&&(A.j41(0,"ion-text",24),A.EFF(1),A.nI1(2,"translate"),A.DNE(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_ion_text_3_span_3_Template,2,0,"span",6),A.EFF(4),A.k0s()),2&e){const e=A.XpG(3).$implicit;A.R7$(),A.Lme(" ",A.bMT(2,4,"addon.mod_feedback.numberoutofrange")," [",e.rangefrom," "),A.R7$(2),A.Y8G("ngIf",e.rangefrom&&e.rangeto),A.R7$(),A.SpI("",e.rangeto,"] ")}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_Template(e,n){if(1&e){const e=A.RV6();A.qex(0),A.j41(1,"ion-input",22),A.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_Template_ion_input_ngModelChange_1_listener(n){A.eBV(e);const o=A.XpG(2).$implicit;return A.DH7(o.value,n)||(o.value=n),A.Njj(n)})),A.DNE(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_ng_container_2_Template,1,0,"ng-container",19),A.k0s(),A.DNE(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_ion_text_3_Template,5,6,"ion-text",23),A.bVm()}if(2&e){const e=A.XpG(2).$implicit;A.XpG(2);const n=A.sdS(14);A.R7$(),A.FCK("name","",e.typ,"_",e.id,""),A.R50("ngModel",e.value),A.Y8G("required",e.required),A.R7$(),A.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",A.eq3(8,_c0,e)),A.R7$(),A.Y8G("ngIf",e.hasError)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_textarea_5_ng_container_1_Template(e,n){1&e&&A.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_textarea_5_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-textarea",25),A.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_textarea_5_Template_ion_textarea_ngModelChange_0_listener(n){A.eBV(e);const o=A.XpG(2).$implicit;return A.DH7(o.value,n)||(o.value=n),A.Njj(n)})),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_textarea_5_ng_container_1_Template,1,0,"ng-container",19),A.k0s()}if(2&e){const e=A.XpG(2).$implicit;A.XpG(2);const n=A.sdS(14);A.FCK("name","",e.typ,"_",e.id,""),A.Y8G("required",e.required),A.R50("ngModel",e.value),A.R7$(),A.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",A.eq3(7,_c0,e))}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_select_6_ng_container_2_Template(e,n){1&e&&A.eu8(0)}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_select_6_ion_select_option_3_Template(e,n){if(1&e&&(A.j41(0,"ion-select-option",28),A.nrm(1,"core-format-text",20),A.k0s()),2&e){const e=n.$implicit,o=A.XpG(5);A.Y8G("value",e.value),A.R7$(),A.Y8G("component",o.component)("componentId",o.cmId)("text",e.label)("contextInstanceId",o.cmId)("wsNotFiltered",!0)("courseId",o.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_select_6_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-select",26),A.nI1(1,"translate"),A.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_select_6_Template_ion_select_ngModelChange_0_listener(n){A.eBV(e);const o=A.XpG(2).$implicit;return A.DH7(o.value,n)||(o.value=n),A.Njj(n)})),A.DNE(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_select_6_ng_container_2_Template,1,0,"ng-container",19)(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_select_6_ion_select_option_3_Template,2,7,"ion-select-option",27),A.k0s()}if(2&e){const e=A.XpG(2).$implicit;A.XpG(2);const n=A.sdS(14);A.FCK("name","",e.typ,"_",e.id,""),A.Y8G("required",e.required),A.R50("ngModel",e.value),A.Y8G("cancelText",A.bMT(1,10,"core.cancel"))("interfaceOptions",A.eq3(12,_c1,e.name)),A.R7$(2),A.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",A.eq3(14,_c0,e)),A.R7$(),A.Y8G("ngForOf",e.choices)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_radio_group_7_ion_item_1_Template(e,n){if(1&e&&(A.j41(0,"ion-item",10)(1,"ion-radio",28),A.nrm(2,"core-format-text",20),A.k0s()()),2&e){const e=n.$implicit,o=A.XpG(5);A.R7$(),A.Y8G("value",e.value),A.R7$(),A.Y8G("component",o.component)("componentId",o.cmId)("text",e.label)("contextInstanceId",o.cmId)("wsNotFiltered",!0)("courseId",o.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_radio_group_7_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-radio-group",29),A.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_radio_group_7_Template_ion_radio_group_ngModelChange_0_listener(n){A.eBV(e);const o=A.XpG(2).$implicit;return A.DH7(o.value,n)||(o.value=n),A.Njj(n)})),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_radio_group_7_ion_item_1_Template,3,7,"ion-item",30),A.k0s()}if(2&e){const e=A.XpG(2).$implicit;A.FCK("name","",e.typ,"_",e.id,""),A.R50("ngModel",e.value),A.Y8G("required",e.required),A.R7$(),A.Y8G("ngForOf",e.choices)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_8_ion_item_1_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-item")(1,"ion-checkbox",31),A.mxI("ngModelChange",(function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_8_ion_item_1_Template_ion_checkbox_ngModelChange_1_listener(n){const o=A.eBV(e).$implicit;return A.DH7(o.checked,n)||(o.checked=n),A.Njj(n)})),A.nrm(2,"core-format-text",20),A.k0s()()}if(2&e){const e=n.$implicit,o=A.XpG(3).$implicit,t=A.XpG(2);A.R7$(),A.FCK("name","",o.typ,"_",o.id,""),A.Y8G("required",o.required),A.R50("ngModel",e.checked),A.R7$(),A.Y8G("component",t.component)("componentId",t.cmId)("text",e.label)("contextInstanceId",t.cmId)("wsNotFiltered",!0)("courseId",t.courseId)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_8_Template(e,n){if(1&e&&(A.qex(0),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_8_ion_item_1_Template,3,11,"ion-item",12),A.bVm()),2&e){const e=A.XpG(2).$implicit;A.R7$(),A.Y8G("ngForOf",e.choices)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_9_core_recaptcha_1_Template(e,n){if(1&e&&A.nrm(0,"core-recaptcha",34),2&e){const e=A.XpG(3).$implicit;A.Y8G("publicKey",e.captcha.recaptchapublickey)("model",e)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_9_div_2_Template(e,n){1&e&&(A.j41(0,"div",35)(1,"ion-item"),A.nrm(2,"ion-icon",36),A.j41(3,"ion-label"),A.EFF(4),A.nI1(5,"translate"),A.k0s()()()),2&e&&(A.R7$(4),A.JRh(A.bMT(5,1,"addon.mod_feedback.captchaofflinewarning")))}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_9_Template(e,n){if(1&e&&(A.qex(0),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_9_core_recaptcha_1_Template,1,2,"core-recaptcha",32)(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_9_div_2_Template,6,3,"div",33),A.bVm()),2&e){const e=A.XpG(2).$implicit,n=A.XpG(2);A.R7$(),A.Y8G("ngIf",!n.preview&&!n.offline),A.R7$(),A.Y8G("ngIf",!n.preview&&(!e.captcha||n.offline))}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_Template(e,n){if(1&e&&(A.qex(0),A.j41(1,"ion-item",14),A.DNE(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_label_2_Template,3,5,"ion-label",6)(3,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_input_3_Template,2,10,"ion-input",15)(4,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_4_Template,4,10,"ng-container",6)(5,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_textarea_5_Template,2,9,"ion-textarea",16)(6,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_select_6_Template,4,16,"ion-select",17),A.k0s(),A.DNE(7,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ion_radio_group_7_Template,2,6,"ion-radio-group",18)(8,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_8_Template,2,1,"ng-container",6)(9,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_ng_container_9_Template,3,2,"ng-container",6),A.bVm()),2&e){const e=A.XpG().$implicit;A.R7$(),A.AVh("core-danger-item",e.isEmpty||e.hasError),A.Y8G("color",e.dependitem>0?"light":""),A.R7$(),A.Y8G("ngIf",!e.slottedLabel),A.R7$(),A.Y8G("ngIf","textfield"===e.templateName),A.R7$(),A.Y8G("ngIf","numeric"===e.templateName),A.R7$(),A.Y8G("ngIf","textarea"===e.templateName),A.R7$(),A.Y8G("ngIf","multichoice-d"===e.templateName),A.R7$(),A.Y8G("ngIf","multichoice-r"===e.templateName),A.R7$(),A.Y8G("ngIf","multichoice-c"===e.templateName),A.R7$(),A.Y8G("ngIf","captcha"===e.templateName)}}function AddonModFeedbackFormPage_ng_container_10_ng_container_9_Template(e,n){if(1&e&&(A.qex(0),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ng_container_9_core_spacer_1_Template,1,0,"core-spacer",6)(2,AddonModFeedbackFormPage_ng_container_10_ng_container_9_ng_container_2_Template,10,11,"ng-container",6),A.bVm()),2&e){const e=n.$implicit;A.R7$(),A.Y8G("ngIf","pagebreak"===e.typ),A.R7$(),A.Y8G("ngIf","pagebreak"!==e.typ)}}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_1_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-col")(1,"ion-button",38),A.bIt("click",(function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_1_Template_ion_button_click_1_listener(){A.eBV(e);const n=A.XpG(3);return A.Njj(n.gotoPage(!0))})),A.nrm(2,"ion-icon",39),A.EFF(3),A.nI1(4,"translate"),A.k0s()()}2&e&&(A.R7$(3),A.SpI(" ",A.bMT(4,1,"core.previous")," "))}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_2_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-col")(1,"ion-button",40),A.bIt("click",(function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_2_Template_ion_button_click_1_listener(){A.eBV(e);const n=A.XpG(3);return A.Njj(n.gotoPage(!1))})),A.EFF(2),A.nI1(3,"translate"),A.nrm(4,"ion-icon",41),A.k0s()()}2&e&&(A.R7$(2),A.SpI(" ",A.bMT(3,1,"core.next")," "))}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_3_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-col")(1,"ion-button",40),A.bIt("click",(function AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_3_Template_ion_button_click_1_listener(){A.eBV(e);const n=A.XpG(3);return A.Njj(n.gotoPage(!1))})),A.EFF(2),A.nI1(3,"translate"),A.k0s()()}2&e&&(A.R7$(2),A.SpI(" ",A.bMT(3,1,"core.submit")," "))}function AddonModFeedbackFormPage_ng_container_10_ion_row_10_Template(e,n){if(1&e&&(A.j41(0,"ion-row",37),A.DNE(1,AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_1_Template,5,3,"ion-col",6)(2,AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_2_Template,5,3,"ion-col",6)(3,AddonModFeedbackFormPage_ng_container_10_ion_row_10_ion_col_3_Template,4,3,"ion-col",6),A.k0s()),2&e){const e=A.XpG(2);A.R7$(),A.Y8G("ngIf",e.hasPrevPage),A.R7$(),A.Y8G("ngIf",e.hasNextPage),A.R7$(),A.Y8G("ngIf",!e.hasNextPage)}}function AddonModFeedbackFormPage_ng_container_10_Template(e,n){if(1&e&&(A.qex(0),A.j41(1,"ion-list",9)(2,"ion-item",10)(3,"ion-label")(4,"p",11),A.EFF(5),A.nI1(6,"translate"),A.k0s(),A.DNE(7,AddonModFeedbackFormPage_ng_container_10_p_7_Template,3,3,"p",6)(8,AddonModFeedbackFormPage_ng_container_10_p_8_Template,3,3,"p",6),A.k0s()(),A.DNE(9,AddonModFeedbackFormPage_ng_container_10_ng_container_9_Template,3,2,"ng-container",12)(10,AddonModFeedbackFormPage_ng_container_10_ion_row_10_Template,4,3,"ion-row",13),A.k0s(),A.bVm()),2&e){const e=A.XpG();A.R7$(5),A.JRh(A.bMT(6,5,"addon.mod_feedback.mode")),A.R7$(2),A.Y8G("ngIf",e.access.isanonymous),A.R7$(),A.Y8G("ngIf",!e.access.isanonymous),A.R7$(),A.Y8G("ngForOf",e.items),A.R7$(),A.Y8G("ngIf",!e.preview)}}function AddonModFeedbackFormPage_ion_card_11_p_4_Template(e,n){1&e&&(A.j41(0,"p"),A.EFF(1),A.nI1(2,"translate"),A.k0s()),2&e&&(A.R7$(),A.SpI(" ",A.bMT(2,1,"addon.mod_feedback.this_feedback_is_already_submitted")," "))}function AddonModFeedbackFormPage_ion_card_11_p_5_Template(e,n){1&e&&(A.j41(0,"p"),A.EFF(1),A.nI1(2,"translate"),A.k0s()),2&e&&(A.R7$(),A.SpI(" ",A.bMT(2,1,"addon.mod_feedback.feedback_submitted_offline")," "))}function AddonModFeedbackFormPage_ion_card_11_core_format_text_6_Template(e,n){if(1&e&&A.nrm(0,"core-format-text",45),2&e){const e=A.XpG(2);A.Y8G("component",e.component)("text",e.completionPageContents)("contextInstanceId",e.cmId)("courseId",e.courseId)}}function AddonModFeedbackFormPage_ion_card_11_Template(e,n){if(1&e&&(A.j41(0,"ion-card",42)(1,"ion-item",10),A.nrm(2,"ion-icon",43),A.j41(3,"ion-label"),A.DNE(4,AddonModFeedbackFormPage_ion_card_11_p_4_Template,3,3,"p",6)(5,AddonModFeedbackFormPage_ion_card_11_p_5_Template,3,3,"p",6)(6,AddonModFeedbackFormPage_ion_card_11_core_format_text_6_Template,1,4,"core-format-text",44),A.k0s()()()),2&e){const e=A.XpG();A.R7$(4),A.Y8G("ngIf",!e.completionPageContents&&!e.completedOffline),A.R7$(),A.Y8G("ngIf",!e.completionPageContents&&e.completedOffline),A.R7$(),A.Y8G("ngIf",e.completionPageContents)}}function AddonModFeedbackFormPage_div_12_ion_button_2_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"ion-button",50),A.bIt("click",(function AddonModFeedbackFormPage_div_12_ion_button_2_Template_ion_button_click_0_listener(){A.eBV(e);const n=A.XpG(2);return A.Njj(n.showAnalysis())})),A.nrm(1,"ion-icon",51),A.EFF(2),A.nI1(3,"translate"),A.k0s()}2&e&&(A.R7$(2),A.SpI(" ",A.bMT(3,1,"addon.mod_feedback.completed_feedbacks")," "))}function AddonModFeedbackFormPage_div_12_ng_container_4_Template(e,n){1&e&&(A.qex(0),A.EFF(1),A.nI1(2,"translate"),A.bVm()),2&e&&(A.R7$(),A.JRh(A.bMT(2,1,"core.continue")))}function AddonModFeedbackFormPage_div_12_ng_container_5_Template(e,n){1&e&&(A.qex(0),A.EFF(1),A.nI1(2,"translate"),A.bVm()),2&e&&(A.R7$(),A.JRh(A.bMT(2,1,"core.course.nextactivity")))}function AddonModFeedbackFormPage_div_12_Template(e,n){if(1&e){const e=A.RV6();A.j41(0,"div",46)(1,"div",47),A.DNE(2,AddonModFeedbackFormPage_div_12_ion_button_2_Template,4,3,"ion-button",48),A.j41(3,"ion-button",49),A.bIt("click",(function AddonModFeedbackFormPage_div_12_Template_ion_button_click_3_listener(){A.eBV(e);const n=A.XpG();return A.Njj(n.continue())})),A.DNE(4,AddonModFeedbackFormPage_div_12_ng_container_4_Template,3,3,"ng-container",6)(5,AddonModFeedbackFormPage_div_12_ng_container_5_Template,3,3,"ng-container",6),A.k0s()()()}if(2&e){const e=A.XpG();A.R7$(2),A.Y8G("ngIf",e.access.canviewanalysis),A.R7$(2),A.Y8G("ngIf",!e.siteAfterSubmit),A.R7$(),A.Y8G("ngIf",e.siteAfterSubmit)}}function AddonModFeedbackFormPage_ng_template_13_p_0_span_1_Template(e,n){if(1&e&&(A.j41(0,"span"),A.EFF(1),A.k0s()),2&e){const e=A.XpG(2).item;A.R7$(),A.SpI("",e.itemnumber,". ")}}function AddonModFeedbackFormPage_ng_template_13_p_0_span_3_Template(e,n){if(1&e&&(A.j41(0,"span",56),A.EFF(1),A.k0s()),2&e){const e=A.XpG(2).item;A.R7$(),A.JRh(e.postfix)}}function AddonModFeedbackFormPage_ng_template_13_p_0_Template(e,n){if(1&e&&(A.j41(0,"p",53),A.DNE(1,AddonModFeedbackFormPage_ng_template_13_p_0_span_1_Template,2,1,"span",6),A.nrm(2,"core-format-text",54),A.DNE(3,AddonModFeedbackFormPage_ng_template_13_p_0_span_3_Template,2,1,"span",55),A.k0s()),2&e){const e=A.XpG().item,n=A.XpG();A.Y8G("core-mark-required",e.required),A.BMQ("slot",e.slottedLabel?"label":void 0),A.R7$(),A.Y8G("ngIf",n.feedback.autonumbering&&e.itemnumber),A.R7$(),A.Y8G("component",n.component)("componentId",n.cmId)("text",e.name)("contextInstanceId",n.cmId)("courseId",n.courseId)("wsNotFiltered",!0),A.R7$(),A.Y8G("ngIf",e.postfix)}}function AddonModFeedbackFormPage_ng_template_13_Template(e,n){if(1&e&&A.DNE(0,AddonModFeedbackFormPage_ng_template_13_p_0_Template,4,10,"p",52),2&e){A.Y8G("ngIf",n.item.name)}}let O=(()=>{var e;class AddonModFeedbackFormPage{constructor(){this.forceLeave=!1,this.preview=!1,this.fromIndex=!1,this.component=u.yH,this.offline=!1,this.feedbackLoaded=!1,this.items=[],this.hasPrevPage=!1,this.hasNextPage=!1,this.completed=!1,this.completedOffline=!1,this.currentSite=r.CoreSites.getRequiredCurrentSite(),this.onlineObserver=i.WE.onChange().subscribe((()=>{g.SK.run((()=>{this.offline=!i.WE.isOnline()}))}))}ngOnInit(){var e=this;return(0,t.A)((function*(){try{e.cmId=c.CoreNavigator.getRequiredRouteNumberParam("cmId"),e.courseId=c.CoreNavigator.getRequiredRouteNumberParam("courseId"),e.currentPage=c.CoreNavigator.getRouteNumberParam("page"),e.title=c.CoreNavigator.getRouteParam("title"),e.preview=!!c.CoreNavigator.getRouteBooleanParam("preview"),e.fromIndex=!!c.CoreNavigator.getRouteBooleanParam("fromIndex")}catch(e){return P.CoreAlerts.showError(e),c.CoreNavigator.back(),void 0}if(yield e.fetchData(),!e.access||e.access.isempty&&!e.access.canedititems&&!e.access.canviewreports)return P.CoreAlerts.showError(g.HT.instant("core.nopermissiontoaccesspage")),c.CoreNavigator.back(),void 0;if(e.feedback&&e.module)try{yield m.o.logView(e.feedback.id,!0),a.CoreCourse.checkModuleCompletion(e.courseId,e.module.completiondata)}catch{}}))()}ionViewDidEnter(){this.forceLeave=!1}canLeave(){var e=this;return(0,t.A)((function*(){if(e.forceLeave)return!0;if(!e.preview){const n=s._.getPageItemsResponses(e.items);e.items&&!e.completed&&e.originalData&&(h.T.basicLeftCompare(n,e.originalData,3)||(yield P.CoreAlerts.confirmLeaveWithChanges()))}return!0}))()}fetchData(){var e=this;return(0,t.A)((function*(){try{var n,o;e.module=yield a.CoreCourse.getModule(e.cmId,e.courseId,void 0,!0,!1,e.currentSite.getId()),e.offline=!i.WE.isOnline();const _={cmId:e.cmId,readingStrategy:e.offline?1:2,siteId:e.currentSite.getId()};e.feedback=yield m.o.getFeedback(e.courseId,e.cmId),e.title=e.feedback.name||e.title,yield e.fetchAccessData(_);let c=0;var t;if(e.preview||null===(n=e.access)||void 0===n||!n.cansubmit||null!==(o=e.access)&&void 0!==o&&o.isempty)e.preview=!0;else c=null!==(t=e.currentPage)&&void 0!==t?t:yield e.fetchResumePage(_);yield e.fetchFeedbackPageData(c)}catch(n){P.CoreAlerts.showError(n,{default:g.HT.instant("core.course.errorgetmodule")}),e.forceLeave=!0,c.CoreNavigator.back()}finally{e.feedbackLoaded=!0}}))()}fetchAccessData(e){var n=this;return(0,t.A)((function*(){if(n.feedback)try{n.access=yield m.o.getFeedbackAccessInformation(n.feedback.id,e)}catch(o){if(n.offline||I.CoreWSError.isWebServiceError(o))throw o;n.offline=!0,e.readingStrategy=1,n.access=yield m.o.getFeedbackAccessInformation(n.feedback.id,e)}}))()}fetchResumePage(e){var n=this;return(0,t.A)((function*(){if(!n.feedback)throw new F.CoreError("Cannot fetch resume page: missing feedback");try{return yield m.o.getResumePage(n.feedback.id,e)}catch(o){if(n.offline||I.CoreWSError.isWebServiceError(o))throw o;return n.offline=!0,e.readingStrategy=1,m.o.getResumePage(n.feedback.id,e)}}))()}fetchFeedbackPageData(e=0){var n=this;return(0,t.A)((function*(){n.items=[];const o=yield n.fetchPageItems(e);if(n.items=o.items.map((e=>s._.getItemForm(e,n.preview))).filter((e=>e)),!n.preview){const e=d.j.clone(n.items);n.originalData=s._.getPageItemsResponses(e)}n.analyticsLogEvent()}))()}fetchPageItems(e){var n=this;return(0,t.A)((function*(){if(!n.feedback)throw new F.CoreError("Cannot fetch page items: missing feedback");const o={cmId:n.cmId,readingStrategy:n.offline?1:2,siteId:n.currentSite.getId()};if(n.preview){const e=yield m.o.getItems(n.feedback.id,o);return{items:e.items,warnings:e.warnings,hasnextpage:!1,hasprevpage:!1}}let t;n.currentPage=e;try{t=yield m.o.getPageItemsWithValues(n.feedback.id,e,o)}catch(a){if(n.offline||I.CoreWSError.isWebServiceError(a))throw a;n.offline=!0,o.readingStrategy=1,t=yield m.o.getPageItemsWithValues(n.feedback.id,e,o)}return n.hasPrevPage=!!t.hasprevpage,n.hasNextPage=!!t.hasnextpage,t}))()}gotoPage(e){var n=this;return(0,t.A)((function*(){var o;if(!n.feedback||void 0===n.currentPage)return;null===(o=n.content)||void 0===o||o.scrollToTop(),n.feedbackLoaded=!1;const t=s._.getPageItemsResponses(n.items),a=n.items.some((e=>e.isEmpty||e.hasError));try{yield k.g.ignoreErrors(p.V.syncFeedback(n.feedback.id));const o=yield m.o.processPage(n.feedback.id,n.currentPage,t,{goPrevious:e,formHasErrors:a,courseId:n.courseId,cmId:n.cmId});o.completed?(n.items=[],n.completed=!0,n.completedOffline=!!o.offline,n.completionPageContents=o.completionpagecontents,n.siteAfterSubmit=o.siteaftersubmit,l.z.trigger(l.z.ACTIVITY_DATA_SENT,{module:"feedback"}),yield Promise.all([m.o.invalidateFeedbackAccessInformationData(n.feedback.id),m.o.invalidateResumePageData(n.feedback.id)]),l.z.trigger(u.bN,{feedbackId:n.feedback.id,tab:u.sT.OVERVIEW,offline:n.completedOffline}),yield n.fetchAccessData({cmId:n.cmId,readingStrategy:n.offline?1:2,siteId:n.currentSite.getId()})):"number"!=typeof o.jumpto||o.jumpto==n.currentPage||(yield m.o.invalidateResumePageData(n.feedback.id),l.z.trigger(u.bN,{feedbackId:n.feedback.id,tab:u.sT.OVERVIEW,offline:n.completedOffline}),yield n.fetchFeedbackPageData(o.jumpto))}catch(e){P.CoreAlerts.showError(e,{default:g.HT.instant("core.course.errorgetmodule")})}finally{n.feedbackLoaded=!0}}))()}showAnalysis(){if(this.feedback)return this.fromIndex?(l.z.trigger(u.bN,{feedbackId:this.feedback.id,tab:u.sT.ANALYSIS,offline:this.completedOffline}),c.CoreNavigator.back(),void 0):(c.CoreNavigator.navigateToSitePath(`${u.qY}/${this.courseId}/${this.cmId}`,{params:{module:this.module,tab:u.sT.ANALYSIS}}),void 0)}continue(){var e=this;return(0,t.A)((function*(){if(!e.siteAfterSubmit)return c.CoreNavigator.back();const n=yield b.CoreLoadings.show();try{yield T.CoreContentLinksHelper.visitLink(e.siteAfterSubmit,{siteId:e.currentSite.id})}finally{n.dismiss()}}))()}analyticsLogEvent(){if(!this.feedback)return;if(this.preview)return f.OF.logEvent({type:f.qr.VIEW_ITEM,ws:"mod_feedback_get_items",name:this.feedback.name,data:{id:this.feedback.id,category:"feedback"},url:`/mod/feedback/print.php?id=${this.cmId}&courseid=${this.courseId}`}),void 0;let e="/mod/feedback/complete.php";this.completed||(e+=`?id=${this.cmId}`+(this.currentPage?`&gopage=${this.currentPage}`:"")+`&courseid=${this.courseId}`),f.OF.logEvent({type:f.qr.VIEW_ITEM,ws:this.completed?"mod_feedback_get_feedback_access_information":"mod_feedback_get_page_items",name:this.feedback.name,data:{id:this.feedback.id,category:"feedback",page:this.currentPage},url:e})}ngOnDestroy(){this.onlineObserver.unsubscribe()}}return(e=AddonModFeedbackFormPage).ɵfac=function AddonModFeedbackFormPage_Factory(n){return new(n||e)},e.ɵcmp=A.VBU({type:e,selectors:[["page-addon-mod-feedback-form"]],viewQuery:function AddonModFeedbackFormPage_Query(e,n){if(1&e&&A.GBs(_.W9,5),2&e){let e;A.mGM(e=A.lsd())&&(n.content=e.first)}},standalone:!0,features:[A.aNF],decls:15,vars:10,consts:[["label",""],["slot","start"],[3,"text"],["contextLevel","module",3,"text","contextInstanceId","courseId"],[1,"limited-width"],[1,"has-spacer",3,"hideUntil"],[4,"ngIf"],["class","core-success-card",4,"ngIf"],["collapsible-footer","","slot","fixed","appearOnBottom","",4,"ngIf"],[1,"ion-no-margin","has-spacer"],[1,"ion-text-wrap"],[1,"item-heading"],[4,"ngFor","ngForOf"],["class","ion-align-items-center spacer-top",4,"ngIf"],[1,"ion-text-wrap","addon-mod_feedback-item",3,"color"],["labelPlacement","stacked","type","text","autocorrect","off",3,"ngModel","name","maxlength","required","ngModelChange",4,"ngIf"],["labelPlacement","stacked",3,"required","name","ngModel","ngModelChange",4,"ngIf"],["labelPlacement","stacked","interface","action-sheet",3,"required","name","ngModel","cancelText","interfaceOptions","ngModelChange",4,"ngIf"],[3,"ngModel","required","name","ngModelChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","wsNotFiltered","courseId"],["labelPlacement","stacked","type","text","autocorrect","off",3,"ngModelChange","ngModel","name","maxlength","required"],["labelPlacement","stacked","type","number",3,"ngModelChange","ngModel","name","required"],["color","danger","class","addon-mod_feedback-item-error",4,"ngIf"],["color","danger",1,"addon-mod_feedback-item-error"],["labelPlacement","stacked",3,"ngModelChange","required","name","ngModel"],["labelPlacement","stacked","interface","action-sheet",3,"ngModelChange","required","name","ngModel","cancelText","interfaceOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngModelChange","ngModel","required","name"],["class","ion-text-wrap",4,"ngFor","ngForOf"],["value","option.value",3,"ngModelChange","required","name","ngModel"],["modelValueName","value",3,"publicKey","model",4,"ngIf"],["class","core-warning-card",4,"ngIf"],["modelValueName","value",3,"publicKey","model"],[1,"core-warning-card"],["name","fas-triangle-exclamation","slot","start","aria-hidden","true"],[1,"ion-align-items-center","spacer-top"],["expand","block","fill","outline",1,"ion-text-wrap",3,"click"],["name","fas-chevron-left","slot","start","aria-hidden","true"],["expand","block",1,"ion-text-wrap",3,"click"],["name","fas-chevron-right","slot","end","aria-hidden","true"],[1,"core-success-card"],["name","fas-check","slot","start","aria-hidden","true"],["componentId","componentId","contextLevel","module",3,"component","text","contextInstanceId","courseId",4,"ngIf"],["componentId","componentId","contextLevel","module",3,"component","text","contextInstanceId","courseId"],["collapsible-footer","","slot","fixed","appearOnBottom",""],[1,"list-item-limited-width","adaptable-buttons-row"],["expand","block","fill","outline","class","ion-text-wrap ion-margin",3,"click",4,"ngIf"],["expand","block",1,"ion-text-wrap","ion-margin",3,"click"],["expand","block","fill","outline",1,"ion-text-wrap","ion-margin",3,"click"],["name","fas-chart-bar","slot","start","aria-hidden","true"],["class","ion-text-wrap",3,"core-mark-required",4,"ngIf"],[1,"ion-text-wrap",3,"core-mark-required"],["contextLevel","module",3,"component","componentId","text","contextInstanceId","courseId","wsNotFiltered"],["class","addon-mod_feedback-postfix",4,"ngIf"],[1,"addon-mod_feedback-postfix"]],template:function AddonModFeedbackFormPage_Template(e,n){1&e&&(A.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),A.nrm(3,"ion-back-button",2),A.nI1(4,"translate"),A.k0s(),A.j41(5,"ion-title")(6,"h1"),A.nrm(7,"core-format-text",3),A.k0s()()()(),A.j41(8,"ion-content",4)(9,"core-loading",5),A.DNE(10,AddonModFeedbackFormPage_ng_container_10_Template,11,7,"ng-container",6)(11,AddonModFeedbackFormPage_ion_card_11_Template,7,3,"ion-card",7)(12,AddonModFeedbackFormPage_div_12_Template,6,3,"div",8),A.k0s()(),A.DNE(13,AddonModFeedbackFormPage_ng_template_13_Template,1,1,"ng-template",null,0,A.C5r)),2&e&&(A.R7$(3),A.Y8G("text",A.bMT(4,8,"core.back")),A.R7$(4),A.Y8G("text",n.title)("contextInstanceId",n.cmId)("courseId",n.courseId),A.R7$(2),A.Y8G("hideUntil",n.feedbackLoaded),A.R7$(),A.Y8G("ngIf",n.items&&n.items.length),A.R7$(),A.Y8G("ngIf",n.completed),A.R7$(),A.Y8G("ngIf",n.feedbackLoaded&&n.completed))},dependencies:[M.n,v.Sq,v.bT,v.T3,x.BC,x.YS,x.tU,x.vS,_.Jm,_.QW,_.b_,_.eY,_.hU,_.W9,_.eU,_.iq,_.$w,_.uz,_.he,_.nf,_.KO,_.f0,_.ln,_.Nm,_.Ip,_.IO,_.nc,_.BC,_.ai,_.hB,_.su,_.Je,_.Gw,_.el,R.R,G.j,$.i,C.f,y.t,w.B,N.i,E.i,Y.T,j.D9],styles:["[_nghost-%COMP%]   .addon-mod_feedback-item[_ngcontent-%COMP%]   ion-label.label-stacked[_ngcontent-%COMP%]{margin:11px 0 10px;transform:none}[_nghost-%COMP%]   .addon-mod_feedback-item-error[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:8px}[_nghost-%COMP%]   .addon-mod_feedback-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{--color: initial}[_nghost-%COMP%]   .addon-mod_feedback-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]     .label-text-wrapper{font-size:var(--text-size);transform:none;-webkit-transform:none}"]}),AddonModFeedbackFormPage})()}}]);