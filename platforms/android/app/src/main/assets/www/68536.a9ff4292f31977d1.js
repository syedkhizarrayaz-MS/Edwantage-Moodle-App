"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[68536],{68536:(e,o,n)=>{n.r(o),n.d(o,{CoreCourseModuleSummaryComponent:()=>L});var t=n(10467),i=n(74431),r=n(23732),a=n(37184),l=n(44682),_=n(94247),d=n(97086),s=n(8979),m=n(97383),c=n(94455),u=n(88793),p=n(15324),C=n(52749),g=n(75383),f=n(81690),h=n(79555),y=n(49882),b=n(86654),M=n(91416),I=n(55554),T=n(25572),S=n(95384),k=n(54438),G=n(60177),R=n(2910),$=n(64422),x=n(32572),v=n(10892),O=n(86198),F=n(58197),w=n(23007),j=n(35407),D=n(88246),Y=n(43570),E=n(73955),P=n(78913);const _c0=e=>({$a:e}),_c1=e=>({name:e});function CoreCourseModuleSummaryComponent_ion_item_8_p_2_Template(e,o){if(1&e&&(k.j41(0,"p",14),k.nrm(1,"core-mod-icon",15),k.EFF(2),k.k0s()),2&e){const e=k.XpG(2);k.R7$(),k.Y8G("modicon",e.modicon)("modname",e.module.modname)("componentId",e.module.instance)("fallbackTranslation",e.module.modplural)("purpose",e.module.purpose)("isBranded",e.module.branded),k.R7$(),k.SpI(" ",e.moduleNameTranslated," ")}}function CoreCourseModuleSummaryComponent_ion_item_8_ion_button_5_Template(e,o){if(1&e&&(k.j41(0,"ion-button",16),k.nI1(1,"translate"),k.nrm(2,"ion-icon",17),k.k0s()),2&e){const e=k.XpG(2);k.AVh("hidden",!e.isTeacher),k.Y8G("href",e.externalUrl)("showBrowserWarning",!1)("ariaLabel",k.bMT(1,5,"core.openinbrowser"))}}function CoreCourseModuleSummaryComponent_ion_item_8_Template(e,o){if(1&e&&(k.j41(0,"ion-item",10)(1,"ion-label"),k.DNE(2,CoreCourseModuleSummaryComponent_ion_item_8_p_2_Template,3,7,"p",11),k.j41(3,"h1"),k.nrm(4,"core-format-text",12),k.k0s()(),k.DNE(5,CoreCourseModuleSummaryComponent_ion_item_8_ion_button_5_Template,3,7,"ion-button",13),k.k0s()),2&e){const e=k.XpG();k.R7$(2),k.Y8G("ngIf",e.moduleNameTranslated),k.R7$(2),k.Y8G("text",e.module.name)("component",e.component)("componentId",e.componentId)("contextInstanceId",e.module.id)("courseId",e.courseId),k.R7$(),k.Y8G("ngIf",e.displayOptions.displayOpenInBrowser&&e.externalUrl)}}function CoreCourseModuleSummaryComponent_ion_item_9_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-item",18),k.bIt("click",(function CoreCourseModuleSummaryComponent_ion_item_9_Template_ion_item_click_0_listener(){k.eBV(e);const o=k.XpG();return k.Njj(o.openCourse())})),k.j41(1,"ion-label")(2,"p",19),k.nrm(3,"ion-icon",20),k.EFF(4),k.nI1(5,"translate"),k.k0s(),k.j41(6,"p"),k.nrm(7,"core-format-text",21),k.k0s()()()}if(2&e){const e=k.XpG();k.Y8G("detail",!0),k.R7$(4),k.SpI(" ",k.bMT(5,4,"core.course")," "),k.R7$(3),k.Y8G("text",e.course.fullname)("contextInstanceId",e.courseId)}}function CoreCourseModuleSummaryComponent_ion_item_10_Template(e,o){if(1&e&&(k.j41(0,"ion-item",10)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"core-format-text",22),k.k0s()()),2&e){const e=k.XpG();k.R7$(3),k.SpI(" ",k.bMT(4,6,"core.description")," "),k.R7$(2),k.Y8G("text",e.description)("component",e.component)("componentId",e.componentId)("contextInstanceId",e.module.id)("courseId",e.courseId)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_5_Template(e,o){1&e&&(k.EFF(0),k.nI1(1,"translate")),2&e&&k.SpI(" ",k.bMT(1,1,"core.gradenoun")," ")}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_6_Template(e,o){if(1&e&&k.nrm(0,"core-format-text",21),2&e){const e=k.XpG(2).$implicit,o=k.XpG(2);k.Y8G("text",e.gradeitem)("contextInstanceId",o.courseId)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_7_Conditional_1_Template(e,o){1&e&&k.nrm(0,"ion-icon",34)}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_7_Template(e,o){if(1&e&&(k.j41(0,"p",30),k.DNE(1,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_7_Conditional_1_Template,1,0,"ion-icon",34),k.nrm(2,"span",35),k.k0s()),2&e){const e=k.XpG(2).$implicit;k.R7$(),k.vxM(1,e.penalty?1:-1),k.R7$(),k.Y8G("innerHTML",e.grade,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_8_Template(e,o){1&e&&(k.j41(0,"ion-badge",36),k.EFF(1),k.nI1(2,"translate"),k.k0s()),2&e&&(k.R7$(),k.SpI(" ",k.bMT(2,1,"core.grades.notgraded")," "))}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_9_Template(e,o){if(1&e&&(k.j41(0,"p",37),k.EFF(1),k.k0s()),2&e){const e=k.XpG(2).$implicit;k.AVh("sr-only",!e.expanded),k.R7$(),k.SpI(" ",e.penalty," ")}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_ion_icon_10_Template(e,o){if(1&e&&k.nrm(0,"ion-icon",38),2&e){const e=k.XpG(2).$implicit;k.FS9("name",e.icon),k.BMQ("aria-label",e.iconAlt)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_img_11_Template(e,o){if(1&e&&k.nrm(0,"img",39),2&e){const e=k.XpG(2).$implicit;k.Y8G("url",e.image)("alt",e.iconAlt)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-item",28),k.nI1(1,"translate"),k.bIt("click",(function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Template_ion_item_click_0_listener(){k.eBV(e);const o=k.XpG().$implicit,n=k.XpG(2);return k.Njj(n.toggleGrade(o))})),k.nrm(2,"ion-icon",29),k.j41(3,"ion-label")(4,"p",19),k.DNE(5,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_5_Template,2,3)(6,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_6_Template,1,2),k.k0s(),k.DNE(7,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_7_Template,3,2,"p",30)(8,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_8_Template,3,3)(9,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Conditional_9_Template,2,3,"p",31),k.k0s(),k.DNE(10,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_ion_icon_10_Template,1,2,"ion-icon",32)(11,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_img_11_Template,1,2,"img",33),k.k0s()}if(2&e){const e=k.XpG().$implicit;k.Y8G("detail",!1),k.BMQ("aria-label",k.bMT(1,11,e.expanded?"core.collapse":"core.expand"))("aria-expanded",e.expanded)("aria-controls","grade-"+e.id),k.R7$(2),k.AVh("expandable-status-icon-expanded",e.expanded),k.R7$(3),k.vxM(5,e.itemmodule?5:6),k.R7$(2),k.vxM(7,e.grade&&"-"!==e.grade?7:8),k.R7$(2),k.vxM(9,e.penalty?9:-1),k.R7$(),k.Y8G("ngIf",e.icon),k.R7$(),k.Y8G("ngIf",e.image&&!e.itemmodule)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_1_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"p",35),k.k0s()()),2&e){const e=k.XpG(2).$implicit;k.R7$(3),k.JRh(k.bMT(4,2,"core.grades.weight")),k.R7$(2),k.Y8G("innerHTML",e.weight,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_2_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"p",35),k.k0s()()),2&e){const e=k.XpG(2).$implicit;k.R7$(3),k.JRh(k.bMT(4,2,"core.grades.range")),k.R7$(2),k.Y8G("innerHTML",e.range,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_3_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"p",35),k.k0s()()),2&e){const e=k.XpG(2).$implicit;k.R7$(3),k.JRh(k.bMT(4,2,"core.grades.percentage")),k.R7$(2),k.Y8G("innerHTML",e.percentage,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_4_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"p",35),k.k0s()()),2&e){const e=k.XpG(2).$implicit;k.R7$(3),k.JRh(k.bMT(4,2,"core.grades.lettergrade")),k.R7$(2),k.Y8G("innerHTML",e.lettergrade,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_5_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"p",35),k.k0s()()),2&e){const e=k.XpG(2).$implicit;k.R7$(3),k.JRh(k.bMT(4,2,"core.grades.rank")),k.R7$(2),k.Y8G("innerHTML",e.rank,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_6_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"p",35),k.k0s()()),2&e){const e=k.XpG(2).$implicit;k.R7$(3),k.JRh(k.bMT(4,2,"core.grades.average")),k.R7$(2),k.Y8G("innerHTML",e.average,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_7_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.j41(5,"p"),k.nrm(6,"core-format-text",43),k.k0s()()()),2&e){const e=k.XpG(2).$implicit,o=k.XpG(2);k.R7$(3),k.JRh(k.bMT(4,3,"core.grades.feedback")),k.R7$(3),k.Y8G("text",e.feedback)("contextInstanceId",o.courseId)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_8_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",19),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.nrm(5,"p",35),k.k0s()()),2&e){const e=k.XpG(2).$implicit;k.R7$(3),k.JRh(k.bMT(4,2,"core.grades.contributiontocoursetotal")),k.R7$(2),k.Y8G("innerHTML",e.contributiontocoursetotal,k.npT)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_Template(e,o){if(1&e&&(k.j41(0,"div",40),k.DNE(1,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_1_Template,6,4,"ion-item",41)(2,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_2_Template,6,4,"ion-item",41)(3,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_3_Template,6,4,"ion-item",41)(4,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_4_Template,6,4,"ion-item",41)(5,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_5_Template,6,4,"ion-item",41)(6,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_6_Template,6,4,"ion-item",41)(7,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_7_Template,7,5,"ion-item",41)(8,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_ion_item_8_Template,6,4,"ion-item",41),k.k0s()),2&e){const e=k.XpG().$implicit;k.Y8G("id","grade-"+e.id),k.R7$(),k.Y8G("ngIf",(null==e.weight?null:e.weight.length)>0&&"-"!==e.weight),k.R7$(),k.Y8G("ngIf",(null==e.range?null:e.range.length)>0&&"-"!==e.range),k.R7$(),k.Y8G("ngIf",(null==e.percentage?null:e.percentage.length)>0&&"-"!==e.percentage),k.R7$(),k.Y8G("ngIf",(null==e.lettergrade?null:e.lettergrade.length)>0&&"-"!==e.lettergrade),k.R7$(),k.Y8G("ngIf",(null==e.rank?null:e.rank.length)>0&&"-"!==e.rank),k.R7$(),k.Y8G("ngIf",(null==e.average?null:e.average.length)>0&&"-"!==e.average),k.R7$(),k.Y8G("ngIf",(null==e.feedback?null:e.feedback.length)>0&&"-"!==e.feedback),k.R7$(),k.Y8G("ngIf",(null==e.contributiontocoursetotal?null:e.contributiontocoursetotal.length)>0&&"-"!==e.contributiontocoursetotal)}}function CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_Template(e,o){if(1&e&&(k.qex(0),k.DNE(1,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_ion_item_1_Template,12,13,"ion-item",26)(2,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_div_2_Template,9,9,"div",27),k.bVm()),2&e){const e=o.$implicit;k.R7$(),k.Y8G("ngIf",e.gradeitem),k.R7$(),k.Y8G("ngIf",e.expanded)}}function CoreCourseModuleSummaryComponent_ion_card_11_Template(e,o){if(1&e&&(k.j41(0,"ion-card")(1,"ion-list")(2,"ion-item",23)(3,"ion-label")(4,"h2"),k.nrm(5,"ion-icon",24),k.EFF(6),k.nI1(7,"translate"),k.k0s()()(),k.DNE(8,CoreCourseModuleSummaryComponent_ion_card_11_ng_container_8_Template,3,2,"ng-container",25),k.k0s()()),2&e){const e=k.XpG();k.R7$(6),k.SpI("",k.bMT(7,2,"core.grades.gradebook")," "),k.R7$(2),k.Y8G("ngForOf",e.grades)}}function CoreCourseModuleSummaryComponent_ion_card_12_ion_item_7_ion_button_8_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-button",49),k.nI1(1,"coreBytesToSize"),k.nI1(2,"translate"),k.bIt("click",(function CoreCourseModuleSummaryComponent_ion_card_12_ion_item_7_ion_button_8_Template_ion_button_click_0_listener(){k.eBV(e);const o=k.XpG(3);return k.Njj(o.removeFiles())})),k.nrm(3,"ion-icon",50),k.k0s()}if(2&e){const e=k.XpG(3);k.Y8G("disabled",e.prefetchLoading)("ariaLabel",k.i5U(2,4,"core.clearstoreddata",k.eq3(7,_c0,k.bMT(1,2,e.size))))}}function CoreCourseModuleSummaryComponent_ion_card_12_ion_item_7_ion_spinner_9_Template(e,o){1&e&&k.nrm(0,"ion-spinner",51)}function CoreCourseModuleSummaryComponent_ion_card_12_ion_item_7_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",46),k.EFF(3),k.nI1(4,"translate"),k.k0s(),k.j41(5,"ion-badge",36),k.EFF(6),k.nI1(7,"coreBytesToSize"),k.k0s()(),k.DNE(8,CoreCourseModuleSummaryComponent_ion_card_12_ion_item_7_ion_button_8_Template,4,9,"ion-button",47)(9,CoreCourseModuleSummaryComponent_ion_card_12_ion_item_7_ion_spinner_9_Template,1,0,"ion-spinner",48),k.k0s()),2&e){const e=k.XpG(2);k.R7$(3),k.JRh(k.bMT(4,4,"addon.storagemanager.totalspaceusage")),k.R7$(3),k.JRh(k.bMT(7,6,e.size)),k.R7$(2),k.Y8G("ngIf",!e.removeFilesLoading),k.R7$(),k.Y8G("ngIf",e.removeFilesLoading)}}function CoreCourseModuleSummaryComponent_ion_card_12_ion_item_8_Template(e,o){if(1&e&&(k.j41(0,"ion-item",42)(1,"ion-label")(2,"p",42),k.EFF(3),k.nI1(4,"translate"),k.k0s()()()),2&e){const e=k.XpG(2);k.R7$(3),k.Lme("",k.bMT(4,2,"core.lastdownloaded")," ",e.downloadTimeReadable,"")}}function CoreCourseModuleSummaryComponent_ion_card_12_ion_button_9_ion_icon_2_Template(e,o){1&e&&k.nrm(0,"ion-icon",55)}function CoreCourseModuleSummaryComponent_ion_card_12_ion_button_9_ion_spinner_3_Template(e,o){1&e&&k.nrm(0,"ion-spinner",56)}function CoreCourseModuleSummaryComponent_ion_card_12_ion_button_9_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-button",52),k.nI1(1,"translate"),k.bIt("click",(function CoreCourseModuleSummaryComponent_ion_card_12_ion_button_9_Template_ion_button_click_0_listener(){k.eBV(e);const o=k.XpG(2);return k.Njj(o.prefetch())})),k.DNE(2,CoreCourseModuleSummaryComponent_ion_card_12_ion_button_9_ion_icon_2_Template,1,0,"ion-icon",53)(3,CoreCourseModuleSummaryComponent_ion_card_12_ion_button_9_ion_spinner_3_Template,1,0,"ion-spinner",54),k.j41(4,"ion-label"),k.EFF(5),k.nI1(6,"translate"),k.k0s()()}if(2&e){const e=k.XpG(2);k.Y8G("disabled",e.prefetchDisabled),k.BMQ("aria-label",k.i5U(1,5,"addon.storagemanager.downloaddatafrom",k.eq3(10,_c1,null==e.module?null:e.module.name))),k.R7$(2),k.Y8G("ngIf",!e.prefetchLoading),k.R7$(),k.Y8G("ngIf",e.prefetchLoading),k.R7$(2),k.SpI(" ",k.bMT(6,8,"core.download")," ")}}function CoreCourseModuleSummaryComponent_ion_card_12_Template(e,o){if(1&e&&(k.j41(0,"ion-card")(1,"ion-item",23)(2,"ion-label")(3,"h2"),k.nrm(4,"ion-icon",44),k.EFF(5),k.nI1(6,"translate"),k.k0s()()(),k.DNE(7,CoreCourseModuleSummaryComponent_ion_card_12_ion_item_7_Template,10,8,"ion-item",41)(8,CoreCourseModuleSummaryComponent_ion_card_12_ion_item_8_Template,5,4,"ion-item",41)(9,CoreCourseModuleSummaryComponent_ion_card_12_ion_button_9_Template,7,12,"ion-button",45),k.k0s()),2&e){const e=k.XpG();k.R7$(5),k.SpI(" ",k.bMT(6,4,"addon.storagemanager.downloads")," "),k.R7$(2),k.Y8G("ngIf",e.size&&e.displayOptions.displaySize),k.R7$(),k.Y8G("ngIf",e.downloadTimeReadable),k.R7$(),k.Y8G("ngIf",e.canPrefetch&&e.displayOptions.displayPrefetch)}}function CoreCourseModuleSummaryComponent_ion_item_13_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-item",57),k.bIt("click",(function CoreCourseModuleSummaryComponent_ion_item_13_Template_ion_item_click_0_listener(){k.eBV(e);const o=k.XpG();return k.Njj(o.gotoBlog())})),k.nrm(1,"ion-icon",58),k.j41(2,"ion-label"),k.EFF(3),k.nI1(4,"translate"),k.k0s()()}2&e&&(k.Y8G("detail",!0),k.R7$(3),k.SpI(" ",k.bMT(4,2,"addon.blog.blog")," "))}function CoreCourseModuleSummaryComponent_ion_footer_14_ion_button_1_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-button",60),k.bIt("click",(function CoreCourseModuleSummaryComponent_ion_footer_14_ion_button_1_Template_ion_button_click_0_listener(){k.eBV(e);const o=k.XpG(2);return k.Njj(o.refresh())})),k.nrm(1,"ion-icon",61),k.j41(2,"ion-label"),k.EFF(3),k.nI1(4,"translate"),k.k0s()()}2&e&&(k.R7$(3),k.SpI(" ",k.bMT(4,1,"core.refresh")," "))}function CoreCourseModuleSummaryComponent_ion_footer_14_ion_button_2_Template(e,o){if(1&e){const e=k.RV6();k.j41(0,"ion-button",60),k.bIt("click",(function CoreCourseModuleSummaryComponent_ion_footer_14_ion_button_2_Template_ion_button_click_0_listener(){k.eBV(e);const o=k.XpG(2);return k.Njj(o.sync())})),k.nrm(1,"ion-icon",62),k.j41(2,"ion-label"),k.EFF(3),k.nI1(4,"translate"),k.k0s()()}2&e&&(k.R7$(3),k.SpI(" ",k.bMT(4,1,"core.settings.synchronizenow")," "))}function CoreCourseModuleSummaryComponent_ion_footer_14_Template(e,o){if(1&e&&(k.j41(0,"ion-footer"),k.DNE(1,CoreCourseModuleSummaryComponent_ion_footer_14_ion_button_1_Template,5,3,"ion-button",59)(2,CoreCourseModuleSummaryComponent_ion_footer_14_ion_button_2_Template,5,3,"ion-button",59),k.k0s()),2&e){const e=k.XpG();k.R7$(),k.Y8G("ngIf",!e.hasOffline),k.R7$(),k.Y8G("ngIf",e.hasOffline)}}let L=(()=>{var o;class CoreCourseModuleSummaryComponent{constructor(){this.courseId=0,this.moduleId=0,this.component="",this.description="",this.hasOffline=!1,this.displayOptions={},this.loaded=!1,this.removeFilesLoading=!1,this.prefetchLoading=!1,this.canPrefetch=!1,this.prefetchDisabled=!1,this.downloadTimeReadable="",this.blog=!1,this.isOnline=!1,this.modicon="",this.moduleNameTranslated="",this.isTeacher=!1,this.isDestroyed=!1,this.siteId=C.CoreSites.getCurrentSiteId(),this.isOnline=c.WE.isOnline(),this.onlineSubscription=c.WE.onChange().subscribe((()=>{h.SK.run((()=>{this.isOnline=c.WE.isOnline()}))}))}ngOnInit(){var o=this;return(0,t.A)((function*(){var n;if(!o.module)return o.closeModal(),void 0;if(o.displayOptions=Object.assign({displayOpenInBrowser:!(null===(n=C.CoreSites.getCurrentSite())||void 0===n||!n.shouldDisplayInformativeLinks()),displayDescription:!0,displayRefresh:!0,displayPrefetch:!0,displaySize:!0,displayBlog:!0,displayGrades:!0},o.displayOptions),o.displayOptions.displayGrades=o.displayOptions.displayGrades&&d.CoreCourseModuleDelegate.supportsFeature(o.module.modname,"grade_has_grade",!0),o.displayOptions.displayDescription=o.displayOptions.displayDescription&&d.CoreCourseModuleDelegate.supportsFeature(o.module.modname,"showdescription",!0),o.fetchContent(),o.component){o.packageStatusObserver=y.z.on(y.z.PACKAGE_STATUS_CHANGED,(e=>{var n;e.componentId===(null===(n=o.module)||void 0===n?void 0:n.id)&&e.component==o.component&&o.getPackageStatus()}),o.siteId);const n=f.j.debounce((0,t.A)((function*(){o.module&&(o.size=yield s.CoreCourseModulePrefetchDelegate.getModuleStoredSize(o.module,o.courseId))})),1e3);o.fileStatusObserver=y.z.on(y.z.COMPONENT_FILE_ACTION,(t=>{t.component==o.component&&t.componentId==e.id&&u.CoreFilepool.isFileEventDownloadedOrDeleted(t)&&n()}),o.siteId)}}))()}fetchContent(){var e=this;return(0,t.A)((function*(){var o;if(e.module){e.componentId=e.module.id,e.externalUrl=e.module.url,e.courseId=e.courseId||e.module.course,e.moduleNameTranslated=S.CoreCourseModuleHelper.translateModuleName(e.module.modname,e.module.modplural),e.blog=!(null!==(o=C.CoreSites.getCurrentSite())&&void 0!==o&&o.isFeatureDisabled("CoreCourseOptionsDelegate_AddonBlog"))&&(yield r.hU.isPluginEnabled());try{yield Promise.all([e.loadModIcon(),e.getPackageStatus(),e.fetchGrades(),e.fetchCourse()])}catch(e){T.CoreAlerts.showError(e)}e.loaded=!0}}))()}loadModIcon(){var e=this;return(0,t.A)((function*(){e.module&&(e.modicon=yield d.CoreCourseModuleDelegate.getModuleIconSrc(e.module.modname,e.module.modicon,e.module))}))()}getPackageStatus(e=!1){var o=this;return(0,t.A)((function*(){if(!o.module)return;const n=yield _.CoreCourseHelper.getModulePrefetchInfo(o.module,o.courseId,e,o.component);o.canPrefetch=n.status!==i.DownloadStatus.NOT_DOWNLOADABLE,o.downloadTimeReadable="",o.canPrefetch&&(n.downloadTime&&n.downloadTime>0&&(o.downloadTimeReadable=g.Ni.capitalize(n.downloadTimeReadable)),o.prefetchLoading=n.status===i.DownloadStatus.DOWNLOADING,o.prefetchDisabled=n.status===i.DownloadStatus.DOWNLOADED),n.size&&n.size>0&&(o.size=n.size)}))()}gotoBlog(){var e=this;return(0,t.A)((function*(){const o={cmId:e.moduleId};yield p.CoreNavigator.navigateToSitePath(a.H5,{params:o})}))()}fetchGrades(){var e=this;return(0,t.A)((function*(){if(e.displayOptions.displayGrades)try{e.grades=yield m.CoreGradesHelper.getModuleGrades(e.courseId,e.moduleId)}catch{}}))()}toggleGrade(e){e.expanded=!e.expanded}fetchCourse(){var e=this;return(0,t.A)((function*(){e.course=yield _.CoreCourseHelper.getCourseInfo(e.courseId),e.isTeacher=yield I.g.ignoreErrors(_.CoreCourseHelper.guessIsTeacher(e.courseId,e.course),!1)}))()}openCourse(){this.course&&l.CoreCourse.openCourse(this.course,{replace:!0,animationDirection:"back",params:{module:this.module,openModule:!1}})}prefetch(){var e=this;return(0,t.A)((function*(){if(e.module){e.prefetchLoading=!0;try{const o=yield s.CoreCourseModulePrefetchDelegate.getModuleDownloadSize(e.module,e.courseId,!0);yield T.CoreAlerts.confirmDownloadSize(o),yield s.CoreCourseModulePrefetchDelegate.prefetchModule(e.module,e.courseId,!0),yield e.getPackageStatus(!0)}catch(o){e.prefetchLoading=!1,e.isDestroyed||T.CoreAlerts.showError(o,{default:h.HT.instant("core.errordownloading")})}}}))()}removeFiles(){var e=this;return(0,t.A)((function*(){if(e.module){if(e.prefetchLoading)return T.CoreAlerts.show({message:h.HT.instant("core.course.cannotdeletewhiledownloading")}),void 0;try{yield T.CoreAlerts.confirmDelete(h.HT.instant("addon.storagemanager.confirmdeletedatafrom",{name:e.module.name})),e.removeFilesLoading=!0,yield _.CoreCourseHelper.removeModuleStoredData(e.module,e.courseId)}catch(o){!e.isDestroyed&&o&&T.CoreAlerts.showError(o)}finally{e.removeFilesLoading=!1,delete e.size}yield e.getPackageStatus()}}))()}refresh(){var e=this;return(0,t.A)((function*(){e.module&&h.W3.dismiss({action:"refresh"})}))()}sync(){var e=this;return(0,t.A)((function*(){e.module&&h.W3.dismiss({action:"sync"})}))()}closeModal(){h.W3.dismiss()}ngOnDestroy(){var e,o;this.isDestroyed=!0,null===(e=this.packageStatusObserver)||void 0===e||e.off(),null===(o=this.fileStatusObserver)||void 0===o||o.off(),this.onlineSubscription.unsubscribe()}}return(o=CoreCourseModuleSummaryComponent).ɵfac=function CoreCourseModuleSummaryComponent_Factory(e){return new(e||o)},o.ɵcmp=k.VBU({type:o,selectors:[["core-course-module-summary"]],inputs:{module:"module",courseId:"courseId",moduleId:"moduleId",component:"component",description:"description",hasOffline:[k.Mj6.HasDecoratorInputTransform,"hasOffline","hasOffline",M.G],displayOptions:"displayOptions"},standalone:!0,features:[k.GFd,k.aNF],decls:15,vars:12,consts:[[1,"no-title"],["slot","end"],["fill","clear",3,"click","ariaLabel"],["slot","icon-only","name","fas-xmark","aria-hidden","true"],[3,"fullscreen"],[3,"hideUntil"],["class","ion-text-wrap","lines","full",4,"ngIf"],["class","ion-text-wrap","button","","lines","full",3,"detail","click",4,"ngIf"],[4,"ngIf"],["button","",3,"detail","click",4,"ngIf"],["lines","full",1,"ion-text-wrap"],["class","core-modulename",4,"ngIf"],["contextLevel","module",3,"text","component","componentId","contextInstanceId","courseId"],["fill","clear","core-link","","slot","end","class","core-module-oib-button",3,"href","showBrowserWarning","ariaLabel","hidden",4,"ngIf"],[1,"core-modulename"],["slot","start",3,"modicon","modname","componentId","fallbackTranslation","purpose","isBranded"],["fill","clear","core-link","","slot","end",1,"core-module-oib-button",3,"href","showBrowserWarning","ariaLabel"],["name","fas-up-right-from-square","slot","icon-only","aria-hidden","true"],["button","","lines","full",1,"ion-text-wrap",3,"click","detail"],[1,"item-heading"],["name","fas-graduation-cap","aria-hidden","true"],["contextLevel","course",3,"text","contextInstanceId"],["contextLevel","module","collapsible-item","",3,"text","component","componentId","contextInstanceId","courseId"],["lines","full",1,"ion-text-wrap","card-header"],["name","fas-chart-bar","slot","end","aria-hidden","true"],[4,"ngFor","ngForOf"],["button","","class","ion-text-wrap divider","role","heading",3,"detail","click",4,"ngIf"],[3,"id",4,"ngIf"],["button","","role","heading",1,"ion-text-wrap","divider",3,"click","detail"],["name","fas-chevron-right","flip-rtl","","slot","start","aria-hidden","true",1,"expandable-status-icon"],[1,"core-grading-summary-grade"],[1,"core-grading-summary-penalty",3,"sr-only"],["slot","end",3,"name",4,"ngIf"],["slot","end","core-external-content","",3,"url","alt",4,"ngIf"],["name","fas-triangle-exclamation","color","danger","aria-hidden","true"],[3,"innerHTML"],["color","light"],[1,"core-grading-summary-penalty"],["slot","end",3,"name"],["slot","end","core-external-content","",3,"url","alt"],[3,"id"],["class","ion-text-wrap",4,"ngIf"],[1,"ion-text-wrap"],["collapsible-item","","contextLevel","course",3,"text","contextInstanceId"],["name","fas-cloud-arrow-down","aria-hidden","true"],["fill","outline","expand","block","class","ion-text-wrap",3,"disabled","click",4,"ngIf"],[1,"item-heading","ion-text-wrap"],["color","danger","fill","clear","slot","end",3,"disabled","ariaLabel","click",4,"ngIf"],["slot","end","aria-hidden","true",4,"ngIf"],["color","danger","fill","clear","slot","end",3,"click","disabled","ariaLabel"],["name","fas-trash","slot","icon-only","aria-hidden","true"],["slot","end","aria-hidden","true"],["fill","outline","expand","block",1,"ion-text-wrap",3,"click","disabled"],["name","fas-cloud-arrow-down","slot","start","aria-hidden","true",4,"ngIf"],["slot","start","aria-hidden","true",4,"ngIf"],["name","fas-cloud-arrow-down","slot","start","aria-hidden","true"],["slot","start","aria-hidden","true"],["button","",3,"click","detail"],["name","far-newspaper","slot","start","aria-hidden","true"],["class","ion-margin","expand","block","fill","outline",3,"click",4,"ngIf"],["expand","block","fill","outline",1,"ion-margin",3,"click"],["name","fas-rotate-right","slot","start","aria-hidden","true"],["name","fas-rotate","slot","start","aria-hidden","true"]],template:function CoreCourseModuleSummaryComponent_Template(e,o){1&e&&(k.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),k.nI1(4,"translate"),k.bIt("click",(function CoreCourseModuleSummaryComponent_Template_ion_button_click_3_listener(){return o.closeModal()})),k.nrm(5,"ion-icon",3),k.k0s()()()(),k.j41(6,"ion-content",4)(7,"core-loading",5),k.DNE(8,CoreCourseModuleSummaryComponent_ion_item_8_Template,6,7,"ion-item",6)(9,CoreCourseModuleSummaryComponent_ion_item_9_Template,8,6,"ion-item",7)(10,CoreCourseModuleSummaryComponent_ion_item_10_Template,6,8,"ion-item",6)(11,CoreCourseModuleSummaryComponent_ion_card_11_Template,9,4,"ion-card",8)(12,CoreCourseModuleSummaryComponent_ion_card_12_Template,10,6,"ion-card",8)(13,CoreCourseModuleSummaryComponent_ion_item_13_Template,5,4,"ion-item",9),k.k0s()(),k.DNE(14,CoreCourseModuleSummaryComponent_ion_footer_14_Template,3,2,"ion-footer",8)),2&e&&(k.R7$(3),k.Y8G("ariaLabel",k.bMT(4,10,"core.close")),k.R7$(3),k.Y8G("fullscreen",!0),k.R7$(),k.Y8G("hideUntil",o.loaded),k.R7$(),k.Y8G("ngIf",o.module),k.R7$(),k.Y8G("ngIf",o.course),k.R7$(),k.Y8G("ngIf",o.module&&o.description&&o.displayOptions.displayDescription),k.R7$(),k.Y8G("ngIf",o.displayOptions.displayGrades&&(null==o.grades?null:o.grades.length)>0),k.R7$(),k.Y8G("ngIf",o.canPrefetch&&o.displayOptions.displayPrefetch||o.size&&o.displayOptions.displaySize),k.R7$(),k.Y8G("ngIf",o.blog&&o.displayOptions.displayBlog),k.R7$(),k.Y8G("ngIf",o.loaded&&o.isOnline&&o.displayOptions.displayRefresh))},dependencies:[b.n,G.Sq,G.bT,R.In,R.Jm,R.QW,R.b_,R.W9,R.M0,R.eU,R.iq,R.uz,R.he,R.nf,R.w2,R.ai,$.R,x.I,v.l,O.t,F.B,w.j,j.K,D.i,Y.T,E.D9,P.b],styles:["[_nghost-%COMP%]   .core-grading-summary-grade[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .core-grading-summary-grade[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .core-grading-summary-grade[_ngcontent-%COMP%]     .penalty-indicator-icon{display:none}[_nghost-%COMP%]   .core-grading-summary-penalty[_ngcontent-%COMP%]{color:var(--danger);font-size:.75em}[_nghost-%COMP%]     ion-item[collapsible] ion-label{margin-top:12px}h1[_ngcontent-%COMP%]{font-size:var(--mdl-typography-heading4-fontSize)}.core-modulename[_ngcontent-%COMP%]{text-transform:uppercase}.core-modulename[_ngcontent-%COMP%]   core-mod-icon[_ngcontent-%COMP%]{--module-icon-padding: 0px;--module-legacy-icon-padding: 2px;--module-icon-size: 16px;--module-legacy-icon-size: 12px;margin:0}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-start:0px;margin-inline-end:4px;vertical-align:text-top}ion-item.card-header[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--inner-padding-start: 0px;--inner-padding-end: 0px;--min-height: 40px}ion-item.card-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:0}.core-module-oib-button.hidden[_ngcontent-%COMP%]{display:none}"]}),CoreCourseModuleSummaryComponent})()}}]);