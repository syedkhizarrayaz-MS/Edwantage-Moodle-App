"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[50373,46526,24145,91288],{46526:(e,t,n)=>{n.d(t,{U:()=>v});var o=n(10467),i=n(54438),a=n(21413),s=n(91768),r=n(74978),l=n(32832),c=n(15324),d=n(49882),u=n(52749),p=n(57085),h=n(86654),C=n(25572),m=n(79555),g=n(64422);const f=["compile"];let v=(()=>{var e;class CoreSitePluginsPluginContentComponent{constructor(e){this.component="",this.data={},this.onContentLoaded=new i.bkB,this.onLoadingContent=new i.bkB,this.content="",this.javascript="",this.dataLoaded=!1,this.invalidateObservable=new a.B,this.differ=e.find([]).create()}ngOnInit(){this.fetchContent()}ngDoCheck(){if(!this.data||!this.jsData)return;this.differ.diff(this.data)&&(this.jsData=Object.assign(this.jsData,this.data))}fetchContent(e){var t=this;return(0,o.A)((function*(){t.onLoadingContent.emit(e),t.forceCompile=!1;const n=Object.assign({},t.preSets);n.component=n.component||t.component;try{const o=yield l.CoreSitePlugins.getContent(t.component,t.method,t.args,n);t.content=o.templates.length?o.templates[0].html:"",t.javascript=o.javascript,t.otherData=o.otherdata,t.data=t.data||{},t.forceCompile=!0,t.jsData={...t.args,...t.data,...l.CoreSitePlugins.createDataForJS(t.initResult,o)},t.jsData.fetchContent=e=>t.fetchContent(e),t.jsData.openContent=(e,n,o,i,a,s,r)=>t.openContent(e,n,o,i,a,s,r),t.jsData.refreshContent=e=>t.refreshContent(e),t.jsData.updateContent=(e,n,o,i,a)=>t.updateContent(e,n,o,i,a),t.jsData.updateModuleCourseContent=(e,n)=>t.updateModuleCourseContent(e,n),t.jsData.updateCachedContent=()=>t.updateCachedContent(),t.onContentLoaded.emit({refresh:!!e,success:!0,content:t.content})}catch(n){t.content="<div></div>",t.onContentLoaded.emit({refresh:!!e,success:!1,content:t.content}),C.CoreAlerts.showError(n,{default:m.HT.instant("core.errorloadingcontent")})}finally{t.dataLoaded=!0}}))()}openContent(e,t={},n,o,i,a,r,l){!0===i&&(i=this.data),n=n||this.component,o=o||this.method;const d=s.VV.hashAsciiStr(JSON.stringify(t));c.CoreNavigator.navigateToSitePath(`siteplugins/content/${n}/${o}/${d}`,{params:{title:e,args:t,initResult:this.initResult,jsData:i,preSets:a,ptrEnabled:r,contextLevel:(null==l?void 0:l.contextLevel)||this.contextLevel,contextInstanceId:(null==l?void 0:l.contextInstanceId)||this.contextInstanceId,courseId:(null==l?void 0:l.courseId)||this.courseId}})}refreshContent(e=!0){var t=this;return(0,o.A)((function*(){e&&(t.dataLoaded=!1),t.invalidateObservable.next();try{yield l.CoreSitePlugins.invalidateContent(t.component,t.method,t.args)}finally{yield t.fetchContent(!0)}}))()}updateContent(e,t,n,o,i){this.component=t||this.component,this.method=n||this.method,this.args=e,this.dataLoaded=!1,this.preSets=i||this.preSets,this.data&&o&&Object.assign(this.data,o),this.fetchContent()}callComponentFunction(e,t){var n;return null===(n=this.compileComponent)||void 0===n?void 0:n.callComponentFunction(e,t)}updateModuleCourseContent(e,t){d.z.trigger(p.Vs,{cmId:e,alreadyFetched:t})}updateCachedContent(){var e=this;return(0,o.A)((function*(){yield l.CoreSitePlugins.getContent(e.component,e.method,e.args,u.CoreSites.getReadingStrategyPreSets(2))}))()}}return(e=CoreSitePluginsPluginContentComponent).ɵfac=function CoreSitePluginsPluginContentComponent_Factory(t){return new(t||e)(i.rXU(i.MKu))},e.ɵcmp=i.VBU({type:e,selectors:[["core-site-plugins-plugin-content"]],viewQuery:function CoreSitePluginsPluginContentComponent_Query(e,t){if(1&e&&i.GBs(f,5),2&e){let e;i.mGM(e=i.lsd())&&(t.compileComponent=e.first)}},hostVars:2,hostBindings:function CoreSitePluginsPluginContentComponent_HostBindings(e,t){2&e&&i.HbH(t.component)},inputs:{component:"component",method:"method",args:"args",initResult:"initResult",data:"data",preSets:"preSets",pageTitle:"pageTitle",contextLevel:"contextLevel",contextInstanceId:"contextInstanceId",courseId:"courseId"},outputs:{onContentLoaded:"onContentLoaded",onLoadingContent:"onLoadingContent"},standalone:!0,features:[i.aNF],decls:3,vars:6,consts:[["compile",""],[3,"hideUntil","fullscreen"],[3,"text","javascript","jsData","forceCompile"]],template:function CoreSitePluginsPluginContentComponent_Template(e,t){1&e&&(i.j41(0,"core-loading",1),i.nrm(1,"core-compile-html",2,0),i.k0s()),2&e&&(i.Y8G("hideUntil",t.dataLoaded)("fullscreen",!1),i.R7$(),i.Y8G("text",t.content)("javascript",t.javascript)("jsData",t.jsData)("forceCompile",t.forceCompile))},dependencies:[h.n,g.R,r.h],styles:["[_nghost-%COMP%]{display:contents}"]}),CoreSitePluginsPluginContentComponent})()},47812:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var o=n(10467),i=n(15324),a=n(71930),s=n(86654),r=n(54438),l=n(2910),c=n(58197),d=n(68273),u=n(88246),p=n(73955);let h=(()=>{var e;class CoreSitePluginsModuleIndexPage{ngOnInit(){var e=this;return(0,o.A)((function*(){e.title=i.CoreNavigator.getRouteParam("title"),e.module=i.CoreNavigator.getRouteParam("module"),e.courseId=i.CoreNavigator.getRouteNumberParam("courseId")}))()}refreshData(e){var t;null===(t=this.content)||void 0===t||t.doRefresh().finally((()=>{e.complete()}))}ionViewWillEnter(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewWillEnter")}ionViewDidEnter(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewDidEnter")}ionViewWillLeave(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewWillLeave")}ionViewDidLeave(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewDidLeave")}ionViewWillUnload(){var e;null===(e=this.content)||void 0===e||e.callComponentFunction("ionViewWillUnload")}canLeave(){var e=this;return(0,o.A)((function*(){if(!e.content)return!0;const t=yield e.content.callComponentFunction("canLeave");return null==t||!!t}))()}}return(e=CoreSitePluginsModuleIndexPage).ɵfac=function CoreSitePluginsModuleIndexPage_Factory(t){return new(t||e)},e.ɵcmp=r.VBU({type:e,selectors:[["page-core-site-plugins-module-index"]],viewQuery:function CoreSitePluginsModuleIndexPage_Query(e,t){if(1&e&&r.GBs(a.CoreSitePluginsModuleIndexComponent,5),2&e){let e;r.mGM(e=r.lsd())&&(t.content=e.first)}},standalone:!0,features:[r.aNF],decls:14,vars:13,consts:[["collapsible",""],["slot","start"],[3,"text"],["contextLevel","module",3,"text","contextInstanceId","courseId"],["slot","end"],["slot","fixed",3,"ionRefresh","disabled"],[3,"pullingText"],[3,"module","courseId","pageTitle"]],template:function CoreSitePluginsModuleIndexPage_Template(e,t){1&e&&(r.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),r.nrm(3,"ion-back-button",2),r.nI1(4,"translate"),r.k0s(),r.j41(5,"ion-title")(6,"h1"),r.nrm(7,"core-format-text",3),r.k0s()(),r.nrm(8,"ion-buttons",4),r.k0s()(),r.j41(9,"ion-content")(10,"ion-refresher",5),r.bIt("ionRefresh",(function CoreSitePluginsModuleIndexPage_Template_ion_refresher_ionRefresh_10_listener(e){return t.refreshData(e.target)})),r.nrm(11,"ion-refresher-content",6),r.nI1(12,"translate"),r.k0s(),r.nrm(13,"core-site-plugins-module-index",7),r.k0s()),2&e&&(r.R7$(3),r.Y8G("text",r.bMT(4,9,"core.back")),r.R7$(4),r.Y8G("text",t.title)("contextInstanceId",null==t.module?null:t.module.id)("courseId",t.courseId),r.R7$(3),r.Y8G("disabled",!(t.content&&t.content.ptrEnabled&&t.content.content&&t.content.content.dataLoaded)),r.R7$(),r.FS9("pullingText",r.bMT(12,11,"core.pulltorefresh")),r.R7$(2),r.Y8G("module",t.module)("courseId",t.courseId)("pageTitle",t.title))},dependencies:[s.n,l.QW,l.W9,l.eU,l.To,l.Ki,l.BC,l.ai,l.el,c.B,d.M,u.i,p.D9,a.CoreSitePluginsModuleIndexComponent],encapsulation:2}),CoreSitePluginsModuleIndexPage})()}}]);