"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[13550],{13550:(e,t,o)=>{o.r(t),o.d(t,{AddonQtypeDdMarkerComponent:()=>P});var r=o(10467),n=o(1762),i=o(69319),s=o(88793),a=o(52749),d=o(75383),c=o(82907),l=o(6787);class AddonQtypeDdMarkerGraphicsApi{constructor(e){this.instance=e,this.NS="http://www.w3.org/2000/svg"}addShape(e,t){var o;const r=document.createElementNS(this.NS,e.type);r.setAttribute("fill",e.color),r.setAttribute("fill-opacity","0.5"),r.setAttribute("stroke","black");for(const e in t)r.setAttribute(e,String(t[e]));return null===(o=this.dropZone)||void 0===o||o.appendChild(r),r}clear(){var e,t,o,r;const n=null===(e=this.instance.doc)||void 0===e?void 0:e.bgImg(),i=null===(t=this.instance.doc)||void 0===t||null===(t=t.topNode)||void 0===t?void 0:t.querySelector("div.ddarea div.dropzones"),s=null===(o=this.instance.doc)||void 0===o?void 0:o.markerTexts(),a=null===(r=this.instance.doc)||void 0===r||null===(r=r.topNode)||void 0===r?void 0:r.querySelector(".ddarea");if(!(n&&i&&s&&a))return;const d=c.y.getRelativeElementPosition(n,a);if(i.style.left=`${d.x}px`,i.style.top=`${d.y}px`,i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,s.style.left=`${d.x}px`,s.style.top=`${d.y}px`,s.style.width=`${n.width}px`,s.style.height=`${n.height}px`,this.dropZone)for(;this.dropZone.firstChild;)this.dropZone.removeChild(this.dropZone.firstChild);else this.dropZone=document.createElementNS(this.NS,"svg"),i.appendChild(this.dropZone);this.dropZone.style.width=`${n.width}px`,this.dropZone.style.height=`${n.height}px`,this.instance.shapes=[]}}var g=o(55554),h=o(62393),m=o(10892),p=o(23007),u=o(54438);class AddonQtypeDdMarkerQuestion{constructor(e,t,o,r,n){this.container=e,this.question=t,this.readOnly=o,this.dropZones=r,this.imgSrc=n,this.COLOURS=["#FFFFFF","#B0C4DE","#DCDCDC","#D8BFD8","#87CEFA","#DAA520","#FFD700","#F0E68C"],this.afterImageLoadDone=!1,this.nextColourIndex=0,this.proportion=1,this.shapes=[],this.logger=l.CoreLogger.getInstance("AddonQtypeDdMarkerQuestion"),this.graphics=new AddonQtypeDdMarkerGraphicsApi(this),this.initializer()}calculateImgProportion(){const e=this.doc.bgImg();e&&(this.proportion=1,e.width!=e.naturalWidth&&(this.proportion=e.width/e.naturalWidth))}cloneNewDragItem(e,t){var o;const r=e.cloneNode(!0);return r.classList.remove("draghome"),r.classList.add("dragitem"),r.classList.add(`item${t}`),r.classList.remove("dragplaceholder"),e.classList.add("dragplaceholder"),this.treatAnchors(r),null===(o=e.parentElement)||void 0===o||o.insertBefore(r,e.nextSibling),this.readOnly||this.draggable(r),r}convertToWindowXY(e){const t=this.doc.bgImg();if(!t)return[];const o=this.getElementCoordinates(t);let r=this.parsePoint(e);return r=this.makePointProportional(r),[r.x+o[0],r.y+o[1]]}getElementCoordinates(e){const t=this.container.querySelector(".ddarea");if(!t)return[];const o=c.y.getRelativeElementPosition(e,t);return[o.x,o.y]}coordsInImg(e){const t=this.doc.bgImg();return!!t&&(e.x*this.proportion<=t.width+1&&e.y*this.proportion<=t.height+1)}deselectDrags(){this.doc.dragItems().forEach((e=>{e.classList.remove("beingdragged")})),this.selected=void 0}destroy(){var e;null===(e=this.resizeListener)||void 0===e||e.off()}draggable(e){e.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();const o=this.selected;if(o&&!e.classList.contains("unplaced")){const r=this.getElementCoordinates(e),n=this.doc.bgImg();if(!n)return;const i=this.getElementCoordinates(n);if(r[0]=r[0]-i[0]+t.offsetX,r[1]=r[1]-i[1]+t.offsetY,r[0]<=n.width&&r[1]<=n.height)return this.deselectDrags(),this.dropDrag(o,r),void 0}e.classList.contains("beingdragged")?this.deselectDrags():this.selectDrag(e)}))}dragHomeXY(e){const t=this.doc.dragItemHome(e);if(!t)return[];const o=this.getElementCoordinates(t);return[o[0],o[1]]}drawDropZone(e,t,o,r,n){var i;const s=this.doc.markerTexts(),a=null==s?void 0:s.querySelector(`span.markertext${e}`);if(a)""!==t?(a.innerHTML=t,this.treatAnchors(a)):a.remove();else if(""!==t&&s){const o=`markertext markertext${e}`,r=document.createElement("span");r.className=o,r.innerHTML=t,this.treatAnchors(r),s.appendChild(r)}const l=`drawShape${d.Ni.capitalize(o)}`;if(!(this[l]instanceof Function))return;const g=this[l](e,r,n);if(null==g)return;const h=null===(i=this.doc.topNode)||void 0===i?void 0:i.querySelector(`div.ddarea div.markertexts span.markertext${e}`);if(!h)return;const m=getComputedStyle(h),p=h.getBoundingClientRect().width+c.y.getComputedStyleMeasure(m,"borderLeftWidth")+c.y.getComputedStyleMeasure(m,"borderRightWidth")+c.y.getComputedStyleMeasure(m,"paddingLeft")+c.y.getComputedStyleMeasure(m,"paddingRight"),u=h.getBoundingClientRect().height+c.y.getComputedStyleMeasure(m,"borderTopWidth")+c.y.getComputedStyleMeasure(m,"borderBottomWidth")+c.y.getComputedStyleMeasure(m,"paddingTop")+c.y.getComputedStyleMeasure(m,"paddingBottom");h.style.opacity="0.6",h.style.left=g.x-p/2+"px",h.style.top=g.y-u/2+"px";const x=h.querySelector("a");null!==x&&(x.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.shapes.forEach((e=>{e.style.fillOpacity="0.5"})),this.shapes[e].style.fillOpacity="1",setTimeout((()=>{this.shapes[e].style.fillOpacity="0.5"}),2e3)})),x.setAttribute("tabIndex","0"))}drawShapeCircle(e,t,o){if(!t.match(/^\d+(\.\d+)?,\d+(\.\d+)?;\d+(\.\d+)?$/))return null;const r=t.split(";");let n=this.parsePoint(r[0]);const i=Number(r[1]);return this.coordsInImg({x:n.x-i,y:n.y-i})?(n=this.makePointProportional(n),this.shapes[e]=this.graphics.addShape({type:"circle",color:o},{cx:n.x,cy:n.y,r:Math.round(i*this.proportion)}),n):null}drawShapeRectangle(e,t,o){if(!t.match(/^\d+(\.\d+)?,\d+(\.\d+)?;\d+(\.\d+)?,\d+(\.\d+)?$/))return null;const r=t.split(";"),n=this.parsePoint(r[0]),i=this.parsePoint(r[1]);if(this.coordsInImg({x:n.x+i.x,y:n.y+i.y})){const t=this.makePointProportional(n),r=this.makePointProportional(i);this.shapes[e]=this.graphics.addShape({type:"rect",color:o},{x:t.x,y:t.y,width:r.x,height:r.y});return this.makePointProportional({x:n.x+i.x/2,y:n.y+i.y/2})}return null}drawShapePolygon(e,t,o){if(!t.match(/^\d+(\.\d+)?,\d+(\.\d+)?(?:;\d+(\.\d+)?,\d+(\.\d+)?)*$/))return null;const r=t.split(";"),n={x:0,y:0},i=r.map((e=>{const t=this.parsePoint(e);return n.x+=t.x,n.y+=t.y,t}));i.length>0&&(n.x=Math.round(n.x/i.length),n.y=Math.round(n.y/i.length));const s=[];return i.forEach((e=>{this.coordsInImg(e)&&(e=this.makePointProportional(e),s.push(`${e.x},${e.y}`))})),s.length>2?(this.shapes[e]=this.graphics.addShape({type:"polygon",color:o},{points:s.join(" ")}),this.makePointProportional(n)):null}parsePoint(e){const t=e.split(",");if(2!==t.length)throw`${e} is not a valid point`;return{x:Number(t[0]),y:Number(t[1])}}makePointProportional(e){return{x:Math.round(e.x*this.proportion),y:Math.round(e.y*this.proportion)}}dropDrag(e,t){const o=this.getChoiceNoForNode(e);t&&this.proportion<1&&(t[0]=Math.round(t[0]/this.proportion),t[1]=Math.round(t[1]/this.proportion)),this.saveAllXYForChoice(o,e,t),this.redrawDragsAndDrops()}getCoords(e){const t=this.getChoiceNoForNode(e),o=e.getAttribute("value"),r=e.classList.contains("infinite"),n=this.getNoOfDragsForNode(e),i=!!this.doc.dragItemBeingDragged(t),s=[];if(""!==o&&null!=o){const e=o.split(";");for(let t=0;t<e.length;t++)s[s.length]=this.convertToWindowXY(e[t])}return(r||s.length+(i?1:0)<n)&&(s[s.length]=this.dragHomeXY(t)),s}getChoiceNoForNode(e){return Number(this.doc.getClassnameNumericSuffix(e,"choice"))}getDragXY(e){const t=this.getElementCoordinates(e),o=this.doc.bgImg();if(o){const e=this.getElementCoordinates(o);t[0]-=e[0],t[1]-=e[1]}return this.proportion<1&&(t[0]=Math.round(t[0]/this.proportion),t[1]=Math.round(t[1]/this.proportion)),t}getItemNoForNode(e){return Number(this.doc.getClassnameNumericSuffix(e,"item"))}getNextColour(){const e=this.COLOURS[this.nextColourIndex];return this.nextColourIndex++,this.nextColourIndex===this.COLOURS.length&&(this.nextColourIndex=0),e}getNoOfDragsForNode(e){return Number(this.doc.getClassnameNumericSuffix(e,"noofdrags"))}initializer(){this.doc=new AddonQtypeDdMarkerQuestionDocStructure(this.container),setTimeout((()=>{this.pollForImageLoad()})),this.resizeListener=c.y.onWindowResize((()=>{this.redrawDragsAndDrops()}))}makeImageDropable(){if(this.readOnly)return;const e=this.doc.bgImg();null==e||e.addEventListener("click",(e=>{const t=this.selected;if(!t)return!1;const o=[e.offsetX,e.offsetY];this.deselectDrags(),this.dropDrag(t,o),e.preventDefault(),e.stopPropagation()}));const t=this.doc.dragItemsArea;null==t||t.addEventListener("click",(e=>{const t=this.selected;return!!t&&(t.classList.contains("unplaced")?(this.deselectDrags(),!1):(this.deselectDrags(),this.dropDrag(t,null),e.preventDefault(),e.stopPropagation(),void 0))}))}pollForImageLoad(){var e=this;return(0,r.A)((function*(){if(e.afterImageLoadDone)return;const t=e.doc.bgImg();if(!t)return;yield h.D.waitDirectivesReady(t,void 0,m.l),!t.src&&e.imgSrc&&(t.src=e.imgSrc);const o=function(){var n=(0,r.A)((function*(){t.removeEventListener("load",o),e.makeImageDropable(),e.afterImageLoadDone=!0,e.question.loaded=!0;const r=c.y.waitToBeVisible(t);yield g.g.ignoreErrors(g.g.timeoutPromise(r,500)),r.cancel(),e.redrawDragsAndDrops()}));return function imgLoaded(){return n.apply(this,arguments)}}();if(!t.src||t.complete&&t.naturalWidth)return o(),void 0;t.addEventListener("load",o),setTimeout((()=>{e.pollForImageLoad()}),500)}))()}redrawDragsAndDrops(){const e=this.doc.dragItems();e.forEach((e=>{e.classList.add("unneeded","unplaced")})),this.calculateImgProportion();const t=this.doc.inputsForChoices();for(let e=0;e<t.length;e++){const o=t[e],r=this.getChoiceNoForNode(o),n=this.getCoords(o),i=this.doc.dragItemHome(r),s=this.dragHomeXY(r);if(i)for(let e=0;e<n.length;e++){let t=this.doc.dragItemForChoice(r,e);!t||t.classList.contains("beingdragged")?t=this.cloneNewDragItem(i,e):t.classList.remove("unneeded");const o=this.doc.dragItemPlaceholder(r);if(s[0]!=n[e][0]||s[1]!=n[e][1]){t.classList.remove("unplaced"),t.classList.add("placed");const r=getComputedStyle(t),i=n[e][0]-c.y.getComputedStyleMeasure(r,"marginLeft"),s=n[e][1]-c.y.getComputedStyleMeasure(r,"marginTop");t.style.left=`${i}px`,t.style.top=`${s}px`,null==o||o.classList.add("active")}else t.classList.remove("placed"),t.classList.add("unplaced"),null==o||o.classList.remove("active")}}for(let t=0;t<e.length;t++){const o=e[t];o.classList.contains("unneeded")&&!o.classList.contains("beingdragged")&&o.remove()}if(this.dropZones&&0!==this.dropZones.length){this.graphics.clear(),this.restartColours();for(const e in this.dropZones){const t=this.getNextColour(),o=this.dropZones[e],r=Number(e);this.drawDropZone(r,o.markertext,o.shape,o.coords,t)}}}resetDragXY(e){this.setFormValue(e,"")}restartColours(){this.nextColourIndex=0}saveAllXYForChoice(e,t,o){const r=[],n=this.doc.dragItemsForChoice(e);for(let t=0;t<n.length;t++){const o=this.doc.dragItemForChoice(e,t);if(o){const e=this.getDragXY(o);o.classList.remove(`item${t}`),o.classList.add(`item${r.length}`),r.push(e)}}null!==o?(t.classList.remove("unplaced"),t.classList.add(`item${r.length}`),r.push(o)):t.classList.add("unplaced"),r.length>0?this.setFormValue(e,r.join(";")):this.resetDragXY(e)}setFormValue(e,t){var o;null===(o=this.doc.inputForChoice(e))||void 0===o||o.setAttribute("value",t)}selectDrag(e){this.deselectDrags(),this.selected=e,e.classList.add("beingdragged");const t=this.getItemNoForNode(e);null!==t&&e.classList.remove(`item${t}`)}treatAnchors(e){Array.from(e.querySelectorAll("a")).forEach((e=>{const t=new p.j(new u.aKT(e));t.capture=!0,t.ngOnInit()}))}}class AddonQtypeDdMarkerQuestionDocStructure{constructor(e){var t;this.container=e,this.logger=l.CoreLogger.getInstance("AddonQtypeDdMarkerQuestionDocStructure"),this.topNode=this.container.querySelector(".addon-qtype-ddmarker-container"),this.dragItemsArea=(null===(t=this.topNode)||void 0===t?void 0:t.querySelector("div.dragitems, div.draghomes"))||null}querySelector(e,t){return e?e.querySelector(t):null}querySelectorAll(e,t){return e?Array.from(e.querySelectorAll(t)):[]}bgImg(){return this.querySelector(this.topNode,".dropbackground")}dragItems(){return this.querySelectorAll(this.dragItemsArea,".dragitem")}dragItemsForChoice(e){return this.querySelectorAll(this.dragItemsArea,`span.dragitem.choice${e}`)}dragItemForChoice(e,t){return this.querySelector(this.dragItemsArea,`span.dragitem.choice${e}.item${t}`)}dragItemPlaceholder(e){return this.querySelector(this.dragItemsArea,`span.dragplaceholder.choice${e}`)}dragItemBeingDragged(e){return this.querySelector(this.dragItemsArea,`span.dragitem.beingdragged.choice${e}`)}dragItemHome(e){return this.querySelector(this.dragItemsArea,`span.draghome.choice${e}, span.marker.choice${e}`)}dragItemHomes(){return this.querySelectorAll(this.dragItemsArea,"span.draghome, span.marker")}getClassnameNumericSuffix(e,t){if(e.classList.length){const o=new RegExp(`^${t}([0-9])+$`),r=new RegExp("([0-9])+$");for(let t=0;t<e.classList.length;t++)if(o.test(e.classList[t])){const o=r.exec(e.classList[t]);return Number(null==o?void 0:o[0])}}this.logger.warn(`Prefix "${t}" not found in class names.`)}inputsForChoices(){return this.querySelectorAll(this.topNode,"input.choices")}inputForChoice(e){return this.querySelector(this.topNode,`input.choice${e}`)}markerTexts(){return this.querySelector(this.topNode,"div.markertexts")}}var x=o(86654),f=o(53794),y=o(2910),C=o(64422),v=o(86198),M=o(58197),_=o(73955);const I=["questiontext"];function AddonQtypeDdMarkerComponent_Conditional_0_Conditional_4_Template(e,t){1&e&&(u.j41(0,"ion-card",4)(1,"ion-item"),u.nrm(2,"ion-icon",8),u.j41(3,"ion-label"),u.EFF(4),u.nI1(5,"translate"),u.k0s()()()),2&e&&(u.R7$(4),u.JRh(u.bMT(5,1,"core.question.howtodraganddrop")))}function AddonQtypeDdMarkerComponent_Conditional_0_Conditional_8_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"core-format-text",9),u.bIt("filterContentRenderingComplete",(function AddonQtypeDdMarkerComponent_Conditional_0_Conditional_8_Template_core_format_text_filterContentRenderingComplete_0_listener(){u.eBV(e);const t=u.XpG(2);return u.Njj(t.ddAreaRendered())})),u.k0s()}if(2&e){const e=u.XpG(2);u.Y8G("adaptImg",!1)("component",e.component)("componentId",e.componentId)("text",e.question.ddArea)("contextLevel",e.contextLevel)("contextInstanceId",e.contextInstanceId)("courseId",e.courseId)}}function AddonQtypeDdMarkerComponent_Conditional_0_Template(e,t){if(1&e){const e=u.RV6();u.j41(0,"div",1),u.nrm(1,"core-loading",2),u.j41(2,"ion-item",3)(3,"ion-label"),u.DNE(4,AddonQtypeDdMarkerComponent_Conditional_0_Conditional_4_Template,6,3,"ion-card",4),u.j41(5,"core-format-text",5,0),u.bIt("afterRender",(function AddonQtypeDdMarkerComponent_Conditional_0_Template_core_format_text_afterRender_5_listener(){u.eBV(e);const t=u.XpG();return u.Njj(t.textRendered())})),u.k0s()()(),u.j41(7,"div",6),u.DNE(8,AddonQtypeDdMarkerComponent_Conditional_0_Conditional_8_Template,1,7,"core-format-text",7),u.k0s()()}if(2&e){const e=u.XpG();u.R7$(),u.Y8G("hideUntil",e.question.loaded),u.R7$(),u.Y8G("hidden",!e.question.loaded),u.R7$(2),u.vxM(4,e.question.readOnly?-1:4),u.R7$(),u.Y8G("component",e.component)("componentId",e.componentId)("text",e.question.text)("contextLevel",e.contextLevel)("contextInstanceId",e.contextInstanceId)("courseId",e.courseId),u.R7$(2),u.Y8G("hidden",!e.question.loaded),u.R7$(),u.vxM(8,e.question.ddArea?8:-1)}}let P=(()=>{var e;class AddonQtypeDdMarkerComponent extends n.g{constructor(e){super("AddonQtypeDdMarkerComponent",e),this.dropZones=[],this.destroyed=!1,this.textIsRendered=!1,this.ddAreaisRendered=!1}init(){if(!this.question)return this.onReadyPromise.resolve(),void 0;const e=this.initComponent();if(!e)return this.onReadyPromise.resolve(),void 0;const t=e.querySelector(".ddarea"),o=e.querySelector(".ddform");if(!t||!o)return this.logger.warn("Aborting because of an error parsing question.",this.question.slot),this.onReadyPromise.resolve(),i.CoreQuestionHelper.showComponentError(this.onAbort);this.question.ddArea=t.outerHTML;const r=e.querySelector(".wrongparts");if(r&&(this.question.ddArea+=r.outerHTML),this.question.ddArea+=o.outerHTML,this.question.readOnly=!1,this.question.initObjects)void 0!==this.question.initObjects.dropzones&&(this.dropZones=this.question.initObjects.dropzones),void 0!==this.question.initObjects.readonly&&(this.question.readOnly=!!this.question.initObjects.readonly);else if(this.question.amdArgs){let e=1;void 0!==this.question.amdArgs[e]&&"boolean"!=typeof this.question.amdArgs[e]&&(this.imgSrc=this.question.amdArgs[e],e++),void 0!==this.question.amdArgs[e]&&(this.question.readOnly=!!this.question.amdArgs[e]),e++;const o=t.querySelector(".dropzones"),r=null!=o&&o.dataset.visibledDropzones?d.Ni.parseJSON(o.dataset.visibledDropzones,null):this.question.amdArgs[e];r&&(this.dropZones=r)}this.question.loaded=!1,this.onReadyPromise.resolve()}ddAreaRendered(){this.ddAreaisRendered=!0,this.textIsRendered&&this.questionRendered()}textRendered(){this.textIsRendered=!0,this.ddAreaisRendered&&this.questionRendered()}questionRendered(){var e=this;return(0,r.A)((function*(){if(e.destroyed||!e.question)return;let t=e.imgSrc;const o=a.CoreSites.getCurrentSite();e.imgSrc&&null!=o&&o.canDownloadFiles()&&o.isSitePluginFileUrl(e.imgSrc)&&(t=yield s.CoreFilepool.getSrcByUrl(o.getId(),e.imgSrc,e.component,e.componentId,0,!0,!0)),e.questionTextEl&&(yield f.H.waitForImages(e.questionTextEl.nativeElement)),e.questionInstance=new AddonQtypeDdMarkerQuestion(e.hostElement,e.question,!!e.question.readOnly,e.dropZones,t)}))()}ngOnDestroy(){var e;this.destroyed=!0,null===(e=this.questionInstance)||void 0===e||e.destroy()}}return(e=AddonQtypeDdMarkerComponent).ɵfac=function AddonQtypeDdMarkerComponent_Factory(t){return new(t||e)(u.rXU(u.aKT))},e.ɵcmp=u.VBU({type:e,selectors:[["addon-qtype-ddmarker"]],viewQuery:function AddonQtypeDdMarkerComponent_Query(e,t){if(1&e&&u.GBs(I,5),2&e){let e;u.mGM(e=u.lsd())&&(t.questionTextEl=e.first)}},standalone:!0,features:[u.Vt3,u.aNF],decls:1,vars:1,consts:[["questiontext",""],[1,"addon-qtype-ddmarker-container"],[3,"hideUntil"],[1,"ion-text-wrap",3,"hidden"],[1,"core-info-card"],[3,"afterRender","component","componentId","text","contextLevel","contextInstanceId","courseId"],[1,"fake-ion-item","ion-text-wrap",3,"hidden"],[3,"adaptImg","component","componentId","text","contextLevel","contextInstanceId","courseId"],["name","fas-circle-info","slot","start","aria-hidden","true"],[3,"filterContentRenderingComplete","adaptImg","component","componentId","text","contextLevel","contextInstanceId","courseId"]],template:function AddonQtypeDdMarkerComponent_Template(e,t){1&e&&u.DNE(0,AddonQtypeDdMarkerComponent_Conditional_0_Template,9,11,"div",1),2&e&&u.vxM(0,t.question&&(t.question.text||""===t.question.text)?0:-1)},dependencies:[x.n,y.b_,y.iq,y.uz,y.he,C.R,v.t,M.B,_.D9],styles:["[_nghost-%COMP%]{--cursor: pointer}[_nghost-%COMP%]   .readonly[_ngcontent-%COMP%], [_nghost-%COMP%]   core-format-text[_ngcontent-%COMP%]     .readonly{--cursor: auto}.addon-qtype-ddmarker-container[_ngcontent-%COMP%]{min-height:80px}core-format-text[_ngcontent-%COMP%]     .ddarea, core-format-text[_ngcontent-%COMP%]     .ddform{-webkit-user-select:none;user-select:none}core-format-text[_ngcontent-%COMP%]     .d-none{display:none}core-format-text[_ngcontent-%COMP%]     .qtext{margin-bottom:.5em;display:block}core-format-text[_ngcontent-%COMP%]     .droparea{display:inline-block}core-format-text[_ngcontent-%COMP%]     div.droparea img{border:1px solid var(--core-dd-question-border);max-width:100%}core-format-text[_ngcontent-%COMP%]     .dropzones svg{z-index:3}core-format-text[_ngcontent-%COMP%]     .dragitem.beingdragged .markertext{z-index:5;box-shadow:var(--core-dd-question-selected-shadow)}core-format-text[_ngcontent-%COMP%]     .dragitems .dragitem, core-format-text[_ngcontent-%COMP%]     .dragitems .draghome, core-format-text[_ngcontent-%COMP%]     .dragitems .marker, core-format-text[_ngcontent-%COMP%]     .draghomes .dragitem, core-format-text[_ngcontent-%COMP%]     .draghomes .draghome, core-format-text[_ngcontent-%COMP%]     .draghomes .marker{vertical-align:top;cursor:var(--cursor);position:relative;margin:10px;display:inline-block}core-format-text[_ngcontent-%COMP%]     .dragitems .dragitem.dragplaceholder, core-format-text[_ngcontent-%COMP%]     .dragitems .draghome.dragplaceholder, core-format-text[_ngcontent-%COMP%]     .dragitems .marker.dragplaceholder, core-format-text[_ngcontent-%COMP%]     .draghomes .dragitem.dragplaceholder, core-format-text[_ngcontent-%COMP%]     .draghomes .draghome.dragplaceholder, core-format-text[_ngcontent-%COMP%]     .draghomes .marker.dragplaceholder{display:none;visibility:hidden}core-format-text[_ngcontent-%COMP%]     .dragitems .dragitem.dragplaceholder.active, core-format-text[_ngcontent-%COMP%]     .dragitems .draghome.dragplaceholder.active, core-format-text[_ngcontent-%COMP%]     .dragitems .marker.dragplaceholder.active, core-format-text[_ngcontent-%COMP%]     .draghomes .dragitem.dragplaceholder.active, core-format-text[_ngcontent-%COMP%]     .draghomes .draghome.dragplaceholder.active, core-format-text[_ngcontent-%COMP%]     .draghomes .marker.dragplaceholder.active{display:inline-block}core-format-text[_ngcontent-%COMP%]     .dragitems .dragitem.unplaced, core-format-text[_ngcontent-%COMP%]     .dragitems .draghome.unplaced, core-format-text[_ngcontent-%COMP%]     .dragitems .marker.unplaced, core-format-text[_ngcontent-%COMP%]     .draghomes .dragitem.unplaced, core-format-text[_ngcontent-%COMP%]     .draghomes .draghome.unplaced, core-format-text[_ngcontent-%COMP%]     .draghomes .marker.unplaced{position:relative}core-format-text[_ngcontent-%COMP%]     .dragitems .dragitem.placed, core-format-text[_ngcontent-%COMP%]     .dragitems .draghome.placed, core-format-text[_ngcontent-%COMP%]     .dragitems .marker.placed, core-format-text[_ngcontent-%COMP%]     .draghomes .dragitem.placed, core-format-text[_ngcontent-%COMP%]     .draghomes .draghome.placed, core-format-text[_ngcontent-%COMP%]     .draghomes .marker.placed{position:absolute;opacity:.6}core-format-text[_ngcontent-%COMP%]     .droparea .dragitem, core-format-text[_ngcontent-%COMP%]     .droparea .marker{cursor:var(--cursor);position:absolute;vertical-align:top;z-index:2}core-format-text[_ngcontent-%COMP%]     div.ddarea{text-align:center;position:relative}core-format-text[_ngcontent-%COMP%]     div.ddarea .dropzones, core-format-text[_ngcontent-%COMP%]     div.ddarea .markertexts{top:0;left:0;min-height:80px;position:absolute;text-align:start}core-format-text[_ngcontent-%COMP%]     .dropbackground{margin:0 auto}core-format-text[_ngcontent-%COMP%]     div.dragitems div.draghome, core-format-text[_ngcontent-%COMP%]     div.dragitems div.dragitem, core-format-text[_ngcontent-%COMP%]     div.draghome, core-format-text[_ngcontent-%COMP%]     div.drag, core-format-text[_ngcontent-%COMP%]     div.draghomes div.marker, core-format-text[_ngcontent-%COMP%]     div.marker{font:13px/1.231 arial,helvetica,clean,sans-serif}core-format-text[_ngcontent-%COMP%]     div.dragitems span.markertext, core-format-text[_ngcontent-%COMP%]     div.draghomes span.markertext, core-format-text[_ngcontent-%COMP%]     div.markertexts span.markertext{margin:0 5px;z-index:2;background-color:var(--ion-item-background);border:2px solid var(--core-dd-question-border);padding:5px;display:inline-block;zoom:1;border-radius:10px;color:var(--ion-text-color)}core-format-text[_ngcontent-%COMP%]     div.markertexts span.markertext{z-index:3;background-color:var(--warning-tint);border-style:solid;border-width:2px;border-color:var(--warning);position:absolute;color:var(--gray-900)}core-format-text[_ngcontent-%COMP%]     span.wrongpart{background-color:var(--warning-tint);border-style:solid;border-width:2px;border-color:var(--warning);padding:5px;border-radius:10px;opacity:.6;margin:5px;display:inline-block;color:var(--gray-900)}core-format-text[_ngcontent-%COMP%]     div.dragitems img.target, core-format-text[_ngcontent-%COMP%]     div.draghomes img.target{position:absolute;left:-7px;top:-7px}core-format-text[_ngcontent-%COMP%]     div.dragitems div.draghome img.target, core-format-text[_ngcontent-%COMP%]     div.draghomes div.marker img.target{display:none}"]}),AddonQtypeDdMarkerComponent})()}}]);