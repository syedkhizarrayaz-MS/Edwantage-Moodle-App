"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[60627,4193],{58866:(e,t,n)=>{n.d(t,{i:()=>CoreItemsManagerSource});class CoreItemsManagerSource{constructor(){this.items=null,this.listeners=[],this.dirty=!1,this.loaded=!1,this.loadedPromise=new Promise((e=>this.resolveLoaded=e))}isDirty(){return this.dirty}isLoaded(){return this.loaded}waitForLoaded(){return this.loadedPromise}setLoaded(){this.loaded=!0,this.resolveLoaded()}setDirty(e){this.dirty=e}getItems(){return this.items}reset(){this.items=null,this.dirty=!1,this.loaded=!1,this.listeners.forEach((e=>{var t;return null===(t=e.onReset)||void 0===t?void 0:t.call(e)}))}addListener(e){return this.listeners.push(e),()=>this.removeListener(e)}removeListener(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}setItems(e){this.items=e,this.setLoaded(),this.notifyItemsUpdated()}notifyItemsUpdated(){this.listeners.forEach((e=>{var t;return null===(t=e.onItemsUpdated)||void 0===t?void 0:t.call(e,this.items)}))}}},35716:(e,t,n)=>{n.d(t,{z:()=>CorePaginatedItemsManagerSource});var o=n(10467),r=n(58866);class CorePaginatedItemsManagerSource extends r.i{constructor(){super(...arguments),this.hasMoreItems=!0}isCompleted(){return!this.hasMoreItems}isEmpty(){var e;return!this.isLoaded()||0===(null!==(e=this.getItems())&&void 0!==e?e:[]).length}getPagesLoaded(){if(null===this.items)return 0;const e=this.getPageLength();return null===e?1:Math.ceil(this.items.length/e)}reset(){this.hasMoreItems=!0,super.reset()}reload(){var e=this;return(0,o.A)((function*(){e.dirty=!0,yield e.load()}))()}load(){var e=this;return(0,o.A)((function*(){var t;if(e.dirty){const{items:t,hasMoreItems:n}=yield e.loadPageItems(0);return e.dirty=!1,e.setItems(t,null!=n&&n),void 0}if(!e.hasMoreItems)return;const{items:n,hasMoreItems:o}=yield e.loadPageItems(e.getPagesLoaded());e.setItems((null!==(t=e.items)&&void 0!==t?t:[]).concat(n),null!=o&&o)}))()}getPageLength(){return null}setItems(e,t=!1){this.hasMoreItems=t,super.setItems(e)}}},45155:(e,t,n)=>{n.d(t,{u:()=>CoreSearchGlobalSearchResultsSource});var o=n(10467),r=n(89014),s=n(35716);class CoreSearchGlobalSearchResultsSource extends s.z{constructor(e,t){super(),this.query=e,this.filters=t}hasEmptyQuery(){return!this.query||0===this.query.trim().length}getQuery(){return this.query}getFilters(){return this.filters}setQuery(e){this.query=e,this.setDirty(!0)}setFilters(e){this.filters=e,this.setDirty(!0)}loadPageItems(e){var t=this;return(0,o.A)((function*(){const n=yield r.CoreSearchGlobalSearch.getResults(t.query,t.filters,e);return{items:n.results,hasMoreItems:n.canLoadMore}}))()}getPageLength(){return r.CORE_SEARCH_GLOBAL_SEARCH_PAGE_LENGTH}}},4193:(e,t,n)=>{n.r(t),n.d(t,{CoreSearchGlobalSearchResultComponent:()=>_});var o=n(91416),r=n(54438),s=n(86654),a=n(60177),l=n(2910),i=n(14714),c=n(32572),u=n(16658),m=n(10892),h=n(86198),d=n(58197),g=n(73955);const _c0=e=>({$a:e});function CoreSearchGlobalSearchResultComponent_core_course_image_1_Template(e,t){if(1&e&&r.nrm(0,"core-course-image",6),2&e){const e=r.XpG();r.Y8G("course",e.result.course)}}function CoreSearchGlobalSearchResultComponent_core_user_avatar_2_Template(e,t){if(1&e&&r.nrm(0,"core-user-avatar",7),2&e){const e=r.XpG();r.Y8G("user",e.result.user)("linkProfile",!1)}}function CoreSearchGlobalSearchResultComponent_p_4_ion_icon_1_Template(e,t){if(1&e&&r.nrm(0,"ion-icon",13),2&e){const e=r.XpG(2);r.Y8G("name",e.renderedIcon)}}function CoreSearchGlobalSearchResultComponent_p_4_core_mod_icon_2_Template(e,t){if(1&e&&r.nrm(0,"core-mod-icon",14),2&e){const e=r.XpG(2);r.Y8G("modicon",e.result.module.iconurl)("modname",e.result.module.name)("colorize",!1)}}function CoreSearchGlobalSearchResultComponent_p_4_img_3_Template(e,t){if(1&e&&r.nrm(0,"img",15),2&e){const e=r.XpG(2);r.Y8G("url",e.result.component.iconurl)("component",e.result.component.name)}}function CoreSearchGlobalSearchResultComponent_p_4_Template(e,t){if(1&e&&(r.j41(0,"p",8),r.DNE(1,CoreSearchGlobalSearchResultComponent_p_4_ion_icon_1_Template,1,1,"ion-icon",9)(2,CoreSearchGlobalSearchResultComponent_p_4_core_mod_icon_2_Template,1,3,"core-mod-icon",10)(3,CoreSearchGlobalSearchResultComponent_p_4_img_3_Template,1,2,"img",11),r.nrm(4,"core-format-text",12),r.k0s()),2&e){const e=r.XpG();r.R7$(),r.Y8G("ngIf",e.renderedIcon),r.R7$(),r.Y8G("ngIf",!e.renderedIcon&&e.result.module),r.R7$(),r.Y8G("ngIf",!e.renderedIcon&&!e.result.module&&e.result.component),r.R7$(),r.Y8G("text",e.result.title)}}function CoreSearchGlobalSearchResultComponent_core_format_text_5_Template(e,t){if(1&e&&r.nrm(0,"core-format-text",12),2&e){const e=r.XpG();r.Y8G("text",e.result.content)}}function CoreSearchGlobalSearchResultComponent_div_6_div_1_Template(e,t){if(1&e&&(r.j41(0,"div",18),r.nrm(1,"ion-icon",19)(2,"core-format-text",12),r.k0s()),2&e){const e=r.XpG(2);r.R7$(2),r.Y8G("text",e.renderedContext.courseName)}}function CoreSearchGlobalSearchResultComponent_div_6_div_2_Template(e,t){if(1&e&&(r.j41(0,"div",18),r.nrm(1,"ion-icon",20),r.j41(2,"span"),r.EFF(3),r.nI1(4,"translate"),r.k0s()()),2&e){const e=r.XpG(2);r.R7$(3),r.JRh(r.i5U(4,1,"core.search.resultby",r.eq3(4,_c0,e.renderedContext.userName)))}}function CoreSearchGlobalSearchResultComponent_div_6_Template(e,t){if(1&e&&(r.j41(0,"div",16),r.DNE(1,CoreSearchGlobalSearchResultComponent_div_6_div_1_Template,3,1,"div",17)(2,CoreSearchGlobalSearchResultComponent_div_6_div_2_Template,5,6,"div",17),r.k0s()),2&e){const e=r.XpG();r.R7$(),r.Y8G("ngIf",e.renderedContext.courseName),r.R7$(),r.Y8G("ngIf",e.renderedContext.userName)}}let _=(()=>{var e;class CoreSearchGlobalSearchResultComponent{constructor(){this.showCourse=!0,this.renderedContext=null,this.renderedIcon=null,this.onClick=new r.bkB}ngOnChanges(){this.renderedContext=this.computeRenderedContext(),this.renderedIcon=this.computeRenderedIcon()}computeRenderedContext(){var e;const t=null!==(e={...this.result.context})&&void 0!==e?e:{};return this.showCourse||delete t.courseName,Object.keys(t).length>0?t:null}computeRenderedIcon(){var e;return"forum"===(null===(e=this.result.module)||void 0===e?void 0:e.name)&&"post"===this.result.module.area?"fas-message":null}}return(e=CoreSearchGlobalSearchResultComponent).ɵfac=function CoreSearchGlobalSearchResultComponent_Factory(t){return new(t||e)},e.ɵcmp=r.VBU({type:e,selectors:[["core-search-global-search-result"]],inputs:{result:"result",showCourse:[r.Mj6.HasDecoratorInputTransform,"showCourse","showCourse",o.G]},outputs:{onClick:"onClick"},standalone:!0,features:[r.GFd,r.OA$,r.aNF],decls:7,vars:5,consts:[["lines","inset","button","",3,"click"],[3,"course",4,"ngIf"],[3,"user","linkProfile",4,"ngIf"],["class","item-heading",4,"ngIf"],[3,"text",4,"ngIf"],["class","result-context-wrapper",4,"ngIf"],[3,"course"],[3,"user","linkProfile"],[1,"item-heading"],["aria-hidden","true",3,"name",4,"ngIf"],[3,"modicon","modname","colorize",4,"ngIf"],["alt","","class","result-icon","core-external-content","",3,"url","component",4,"ngIf"],[3,"text"],["aria-hidden","true",3,"name"],[3,"modicon","modname","colorize"],["alt","","core-external-content","",1,"result-icon",3,"url","component"],[1,"result-context-wrapper"],["class","result-context",4,"ngIf"],[1,"result-context"],["name","fas-graduation-cap","aria-hidden","true"],["name","fas-user","aria-hidden","true"]],template:function CoreSearchGlobalSearchResultComponent_Template(e,t){1&e&&(r.j41(0,"ion-item",0),r.bIt("click",(function CoreSearchGlobalSearchResultComponent_Template_ion_item_click_0_listener(e){return t.onClick.emit(e)})),r.DNE(1,CoreSearchGlobalSearchResultComponent_core_course_image_1_Template,1,1,"core-course-image",1)(2,CoreSearchGlobalSearchResultComponent_core_user_avatar_2_Template,1,2,"core-user-avatar",2),r.j41(3,"ion-label"),r.DNE(4,CoreSearchGlobalSearchResultComponent_p_4_Template,5,4,"p",3)(5,CoreSearchGlobalSearchResultComponent_core_format_text_5_Template,1,1,"core-format-text",4)(6,CoreSearchGlobalSearchResultComponent_div_6_Template,3,2,"div",5),r.k0s()()),2&e&&(r.R7$(),r.Y8G("ngIf",t.result.course),r.R7$(),r.Y8G("ngIf",t.result.user),r.R7$(2),r.Y8G("ngIf",t.result.title),r.R7$(),r.Y8G("ngIf",t.result.content&&!t.result.course&&!t.result.user),r.R7$(),r.Y8G("ngIf",t.renderedContext))},dependencies:[s.n,a.bT,l.iq,l.uz,l.he,i.H,c.I,u.T,m.l,h.t,d.B,g.D9],styles:["[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--core-global-search-result-image-size: 40px;--core-global-search-result-title-color: var(--text);--core-global-search-result-content-color: var(--gray-700);--core-global-search-result-context-color: var(--gray-600);--core-global-search-result-icon-size: 16px}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--core-global-search-result-title-color)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]   core-mod-icon[_ngcontent-%COMP%]{--module-icon-padding: 0px;--module-legacy-icon-padding: 0px;--module-icon-size: var(--core-global-search-result-icon-size);--module-legacy-icon-size: var(--core-global-search-result-icon-size);margin-inline-end:var(--mdl-spacing-2);margin-top:0;margin-bottom:0;flex-shrink:0}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   p.item-heading[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{width:var(--core-global-search-result-icon-size);height:var(--core-global-search-result-icon-size);margin-inline-end:var(--mdl-spacing-2);flex-shrink:0}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   core-user-avatar[_ngcontent-%COMP%]{--core-avatar-size: var(--core-global-search-result-image-size);margin-top:var(--mdl-spacing-3);margin-bottom:var(--mdl-spacing-3)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   core-course-image[_ngcontent-%COMP%]{--core-image-size: var(--core-global-search-result-image-size);margin-top:var(--mdl-spacing-3);margin-bottom:var(--mdl-spacing-3)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{color:var(--core-global-search-result-content-color)}@supports (-webkit-line-clamp: 2){[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;white-space:normal}}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .result-context-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .result-context-wrapper[_ngcontent-%COMP%]   .result-context[_ngcontent-%COMP%]{display:flex;justify-items:center;align-items:center;color:var(--core-global-search-result-context-color);margin-top:var(--mdl-spacing-2);margin-inline-end:var(--mdl-spacing-4);font:var(--mdl-typography-body-font-sm)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .result-context-wrapper[_ngcontent-%COMP%]   .result-context[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:var(--mdl-spacing-1);flex-shrink:0}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .result-context-wrapper[_ngcontent-%COMP%]   .result-context[_ngcontent-%COMP%]   core-format-text[_ngcontent-%COMP%]{color:var(--core-global-search-result-context-color)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .result-context-wrapper[_ngcontent-%COMP%]   .result-context[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:normal}:root.dark[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%], :root.dark   [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--core-global-search-result-content-color: var(--gray-400);--core-global-search-result-context-color: var(--gray-500)}"]}),CoreSearchGlobalSearchResultComponent})()}}]);